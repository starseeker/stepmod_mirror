<?xml version="1.0" encoding="UTF-8"?>
<!--
     $Id: $
  Copyright 2002-2004 The Apache Software Foundation or its licensors,
  as applicable.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document>
	<header>
		<title>STEPMod Configuration Management User Guide</title>
	</header>
	<body>
		<section id="overview">
			<title>Overview</title>
			<p>STEPMod has been successfully used to develop and publish a number of ISO parts. The parts are developed by constructing a set of XML, graphics and EXPRESS files for the part and then using a set of XSL programs to transform the XML into HTML which is then packaged and published as the ISO part. Once a part is published, a publication record is created that details the revisions of the XML and EXPRESS files that were used to generate the published HTML. Whilst this maintained a record of what source files were used to construct the HTML, no support was provided for using the publication record to retrieve a previous edition of a published part. 
   </p>
			<p>This tool has been developed to support the configuration management of ISO 10303 parts developed using the STEPMod framework. The tool builds on features provided by a CVS client.</p>
			<p>
				<strong>The following have been enabled:</strong>
			.</p>
			<ul>
				<li>Uniquely identified releases and versions of a part</li>
				<li>Proper identification is forced with minimal user effort</li>
				<li>Published / released editions can be locked to prevent further modification </li>
				<li>Information can be registered that identifies any supporting scripts that may have been used to create the part. (XML, XSL, XSLT, etc)</li>
				<li>Developers are able to retrieve given releases of the part</li>
				<li>The supporting scripts used to create a given part can be retrieved</li>
				<li>Checks can be made to ensure that the constituents of the module package or AP put forward for publication are valid Editions. I.e. that the file revisions used to build the package have been used to produce a release</li>
				<li>The tool has been designed to be easy to use by non-IT experts yet leverage existing software configuration management capabilities such as CVS</li>
			</ul>
		</section>
		<section id="requirements">
			<title>System Requirements</title>
			<p>In order to install and run the STEPMod Configuration Management tool the following system requirements must be met:</p>
			<ul>
				<li>Java Runtime 1.5. The tool has been built and tested on the windows platform using Java 1.5. (You can run java -version to check which version of java is in use.) </li>
				<li>Developer access to STEPmod. In order to use the tool you must have a sourceforge account with developer access to the stepmod project.	 </li>
				<li>SSH access to SourceForge. The tool has been tested using putty and pagent. These tools can be downloaded from <a href="http://www.chiark.greenend.org.uk/~sgtatham/putty/">here.</a>
				</li>
				<li>A CVS client. The tool has been developed using CVSNT</li>
			</ul>
		</section>
		<section id="TechnicalBackground">
			<title>Technical Background</title>
			<p>This section is designed to give some background as to how the tool works with and uses CVS.</p>
                        <p> 
                        The configuration of each STEP part (a module, AP
                        etc) that is managed by STEPmod, has a corresponding cm_record.xml file
                        that records all the baseline releases of that part.
                        </p>
			<p>Once a module has been committed to CVS the tool uses a CVS tag to create a baseline in order to identify the development status. This baseline is detailed in  the file cm_record.xml as illustrated below</p>
			<p><img src="images/stepmod_config/cm_rec_ex.png" alt="" /></p>
			<p> The cm_record clearly shows the release stage,
who it was released by, when it was released and a list of dependent files
/  modules and schema.</p>
                        <p>
                          Each STEPmod part has a corresponding directory
under stepmod/config_management in which the cm_record.xml is stored. E.g.
                        </p>
<p>
				<img src="images/stepmod_config/cm_rec_folder.bmp" alt="The application running"/>
			</p>
		</section>
		<section id="HowtoInstall">
			<title>How to Install the tool and set the stepmod properties</title>
			<p>To begin unzip the application folder to the location of your choice. Then run either the runme.bat if you are using windows or the runme.sh script if you are operating in Linux.</p>
			<p>A screen like the following should appear:</p>
			<p>
				<img src="images/stepmod_config/application_running_1.bmp" alt="The application running"/>
			</p>
			<p>Before an index repository can be loaded, the stepmod properties need to be set. This can be done from the tools > set stepmod properties menu.<img src="images/stepmod_config/application_Tools_menu.bmp" alt="Tools menu"/>
			</p>
			<p>A pop-up window will appear that looks like this:<br/>
				<img src="images/stepmod_config/stepmodprops.png" alt="Set stepmod properties"/>
			</p>
			<p>The information in each field will vary from user to user.</p>
			<p>The user name on sourceforge should be set to your username on sourceforge.</p>
			<p>The path to your cvs executable will depend upon where you installed cvsnt.</p>
			<p>The path to your CVS_RSH executable is your path to the pageant executable(downloaded as part of the putty tools</p>
			<p>The STEPmod root is the root directory of your stepmod installation.</p>
			<p>The protocol dropdown box allows you to chose which protocol to use when connecting to sourceforge.</p>
			<p>Once the stepmod properties have been specified click on save</p>
			<p>To test the CVS connection select the Test CVS connection option from the tools menu	.</p>
			<p>If the connection is successful the output area of the application will change and display the results of the test and a pop-up box like the following should appear click ok. The application is now setup and ready to use.<br/>
				<img src="images/stepmod_config/application_cvsOK.bmp" alt="Test cvs connection"/>
			</p>
			<note>If the CVS connection test is not sucessful try changing the protocol you are using to communicate with sourceforge</note>
		</section>
		<section id="HowtoLoadarepositoryindex">
			<title>How to Load a repository index</title>
			<p>In order to load a repository click File -> Load default repository_index.xml. This will load the default repository index file located in the stepmod root directory. Alternatively you can choose to manually browse for a repository file by selecting File -> Load repository_index.xml. This provides you with the ability to load a custom repository_index file that you may have created containing fewer modules for development purposes.</p>
			<p>Once the repository has been loaded the display will change to look like the following; the repository tree shown in the left hand side of the application and can be navigated. The pane on the right hand side of the application will display the information that is relevant to the module, application protocol, resource document or resource schema that is selected.<br/>
				<img src="images/stepmod_config/application_repository_tree_expanded.bmp" alt="Repository index tree"/>
			</p>
		</section>
		<section id="HowtoconnecttoCVS">
			<title>How to connect to CVS and update </title>
			<p>In order to checkout / update a part, check the box next to the parts / modules that need updating or checking out. Then from the menu bar click Selected -> CVS Part then select an option.<br/>
				<img src="images/stepmod_config/application_selectToCheckout.bmp" alt="selected for checkout / update"/>
				<br/>You will be asked to confirm that you want to perform a CVS action.</p>
			<p>Providing that the stepmod properties have been set correctly the application will perform the CVS action and the "STEPMod output window will display the following. If the stepmod properties have not been set then the application will notify you to which ones need setting.</p>
			<p>
				<img src="images/stepmod_config/application_CVS_output.bmp" alt="CVS output"/>
			</p>
			<p>Selecting either one of the following options  <img src="images/stepmod_config/application_checkout_options.bmp" alt="Application checkout options"/>  will make the application check for latest releases or ISO published releases for the parts selected. If there are no releases or publications available an error message will appear.</p>
		</section>
		<section id="Howtoworkwithreleasedparts">
			<title>How to work with released parts</title>
			<p>In order to work with a part that  has already been released do the following;</p>
			<p>Right click on the part and select  CVS-Part -> Checkout latest release</p>
			<p>.<img src="images/stepmod_config/co_latest.png" alt="" /></p>
			<p>A pop-up will appear asking you to confirm your option. Click OK </p>
			
			<p>The tool will then checkout the latest release updating your local version of STEPmod previously checked out by CVS.</p>
			
			<p><img src="images/stepmod_config/changed_icon.png" alt="" /></p>
		</section>
		<section id="Howtodevelopnewparts">
		                <title>How to develop new parts</title>
			<p>In order to develop new parts all the dependencies must be the  released versions. If this needs to be done a pop-up will appear advising you to checkout  the latest released versions </p>
			<p><img src="images/stepmod_config/release_error.png" alt=""/></p>
			<p>To check out the latest released versions of the dependencies, click on the plus sign next to dependencies then follow the steps for working with released parts <a href="#Howtoworkwithreleasedparts">here</a></p>
			<p>Checkout the development version of the part</p>
			<p><img src="images/stepmod_config/co_dev_rev.png"  alt=""/></p>
			<p>Once you have completed work on the module and you are ready to release the module and create a CM record see <a href="#CreateaCMrecord">here</a></p>
			
			
		</section>
		<section id="Howtodevelopapartalreadyreleased">
			<title>How to develop a part that has already been released</title>
			<p>In order to develop a part that has already been released all of the dependencies must also be released. See <a href="#Howtodevelopnewparts">How to develop new parts</a></p>
			<p>Checkout  a development revision of the part </p>
			<p><img src="images/stepmod_config/co_rel_dev.png"  alt=""/></p>
			<p>Once development of the part has been completed you can release the part, see <a href="#Howtoreleaseapart">How to release a part</a></p>
			<p>Commit the CM record if it hasn't been commited already.</p>
			<p><img src="images/stepmod_config/comit_rel_cm.png" alt="" /></p>
			
		</section>
		<section id="Howtoreleaseapart">
			<title>How to release a part</title>
			<p>To release a selected part click on Selected -> Release -> Release selected parts. Alternatively you can right click on the individual part that you want to release. The following window will appear:</p> 
			<p><img src="images/stepmod_config/application_release_part.bmp" alt="Release selected part"/></p>
			
			<p>The date will be automatically provided. The type of review for which the part is being released for can be selected from the drop down box. The options that can be selected are:</p>
			<ul>
				<li>Team review</li>
				<li>Convener review</li>
				<li>Secretariat review</li>
				<li>ISO review</li>
				<li>Ballot</li>
				<li>ISO publication</li>
			</ul>
			<p>A description can also be added if necessary.</p>
			<p>Once a part has been released it is possible to change its status by selecting Selected -> Release -> Change status of release of selected parts.</p>
		</section>
		
		<section id="CreateaCMrecord">
			<title>How to Create a CM record</title>
			<p>If a part does not have a CM record this will be stated in the application</p>
			<p><img src="images/stepmod_config/no_cmrec.png" alt="" /></p>
			<p>In order to create a CM record right click on the part and select create and save CM record</p>
			<p><img src="images/stepmod_config/create_cm.png" alt=""/></p>
			<p>Once the CM record has been created it needs to be committed to CVS:</p>
			<p><img src="images/stepmod_config/commit_cm.png" alt="" /></p>
		</section>
		<section id="Actionsonmultipleselections">
			<title>Actions on multiple parts</title>
			<p>Rather than select each part individually there is the option to carry out tasks on multiple selections</p>
			<p>To do this select the parts that you want to carry out an action on. This can done by clicking on the boxes next to the parts. Then navigate to Selected menu.</p>
			<p><img src="images/stepmod_config/selected_menu.png" alt="" /></p>
			<p>From this menu you can choose to do the following</p>
			<p><strong>Select parts / Unselect parts</strong></p>
			<ul><li>Select / Unselect all</li>
			<li>Select / Unselect all modules</li>
			<li>Select / Unselect all resource schemas</li>
			<li>Select / Unselect all application protocols</li>
				<li>Select / Unselect all resource documents</li></ul>
			<p><strong>CVS- Part</strong></p>
			<ul><li>Update development release of selected parts</li>
			<li>Checkout latest release for selected parts</li>
				<li>Checkout published releases for selected parts</li></ul>
			<p><strong>CM record</strong></p>
			<ul><li>Create and commit  CM records for selected parts</li></ul>
			<p><strong>Release</strong></p>
			<ul><li>Release selected parts</li>
			<li>Change status of release of selected parts</li>
				<li>Convert tagged revisions of selected parts to a release</li></ul>
			
		<p>It is also possible to carry out a mass CVS update of all the CM records. To do this click on File -> CVS update CM records</p>
		<p><img src="images/stepmod_config/update_all_CM.png" alt="" /></p>
		</section>
		<section id="icons">
			<title>Icons</title>
				<p>The Icons listed below appear at the top of the main application window. They can be used to manipulate the view of the repository index once it has been loaded.</p>
			<table>
				<tr>
					<th>Icon</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><img src="images/stepmod_config/box.png" alt="clear all selected"/></td>
					<td>If selected all the selected items will be unselected and the view will updated</td>
				</tr>
				<tr>
					<td><img src="images/stepmod_config/arrow_refresh.png" alt="view all parts"/></td>
					<td>If selected the view will be refreshed and all the parts will be displayed</td>
				</tr>
				<tr>
					<td><img src="images/stepmod_config/box_selected.png" alt="view all selected parts"/></td>
					<td>If selected the view will be refreshed and all the selected parts will be displayed</td>
				</tr>
				<tr>
					<td><img src="images/stepmod_config/find.png" alt="find"/></td>
					<td>If selected the application will search for the part number entered in the search box</td>
				</tr>
			</table>
			<p></p>
							<p>The Icons listed below appear in the main application window once a repository index has been loaded. They will change as modifications are made to the parts.</p>
		     <table>
				<tr>
					<th>Icon</th>
					<th>Description</th>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/development.png" alt="a development revision"/>
					</td>
					<td>Indicates a development revision of a part</td>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/released.png" alt="released"/>
					</td>
					<td>Indicates a part has been released</td>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/published.png" alt="published"/>
					</td>
					<td>Indicates a part has been published</td>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/dev_unselected_cvs.png" alt="unselected"/>
					</td>
					<td>Indicates that a part remains unselected</td>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/dev_selected_cvs.png" alt="selected"/>
					</td>
					<td>Indicates that the part has been selected</td>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/dev_selected_cvsnofile.png" alt="not commited"/>
					</td>
					<td>Indicates that the part exists but that it has not been committed to CVS</td>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/dev_selected_cvs.png" alt="commited"/>
					</td>
					<td>Indicates that the part has been committed to CVS</td>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/dev_selected_cvsunknown.png" alt="unknown"/>
					</td>
					<td>Indicates that the part is unknown to CVS and is yet to be added</td>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/dev_selected_cvsmod.png" alt="modified"/>
					</td>
					<td>Indicates that the part has been modified and needs to be committed to CVS</td>
				</tr>
				<tr>
					<td>
						<img src="images/stepmod_config/dev_selected_cvsadd.png" alt="modified"/>
					</td>
					<td>Indicates that the part can be added to CVS</td>
				</tr>
			</table>
		</section>
		<section id="Futuredevelopment">
			<title>Future development</title>
			<p>The following are candidates for further development of the tool:</p>
			<p><strong>On the Tools menu</strong></p>
			<ul><li>Create new module</li>
			<li>Create new Application protocol</li>
			<li>Create new Resource document</li></ul>
			<p><strong>On the Publication submenu</strong></p>
			<ul><li>Create publication package (ANT build)</li>
			<li>Generate HTML for publication package</li></ul>
			
		</section>
	</body>
</document>
