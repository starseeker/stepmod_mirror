

(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_electronic_assembly_interconnect_and_packaging_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 electronic assembly interconnect and packaging design - EXPRESS ARM
*)

SCHEMA Ap210_electronic_assembly_interconnect_and_packaging_design_arm;

USE FROM Ap210_device_functional_and_physical_characterization_arm;
USE FROM Ap210_interconnect_technology_constraints_arm;
USE FROM Ap210_assembly_technology_constraints_arm;
USE FROM Ap210_assembly_functional_requirements_arm;
USE FROM Ap210_assembly_physical_requirements_arm;
USE FROM Ap210_interconnect_functional_requirements_arm;
USE FROM Ap210_interconnect_physical_requirements_arm;
USE FROM Ap210_assembly_physical_design_arm;
USE FROM Ap210_interconnect_design_arm;
USE FROM Ap210_interconnect_design_for_microwave_arm;
USE FROM Ap210_product_rule_arm;
USE FROM Ap210_functional_decomposition_arm;
USE FROM Ap210_geometric_dimensioning_and_tolerancing_arm;
USE FROM Ap210_package_functional_and_physical_characterization_arm;
USE FROM Ap210_laminate_assembly_design_arm;
USE FROM Ap210_connection_zone_based_model_extraction_arm;
USE FROM Ap210_functional_specification_arm;
USE FROM Ap210_physical_unit_physical_characterization_arm;
USE FROM Ap210_packaged_part_white_box_model_arm;
USE FROM Ap210_printed_part_functional_and_physical_characterization_arm;
USE FROM Ap210_assembly_functional_interface_requirements_arm;
USE FROM Ap210_assembly_physical_interface_requirements_arm;
USE FROM Ap210_assembly_requirement_allocation_arm;
USE FROM Ap210_interconnect_requirement_allocation_arm;
USE FROM Ap210_functional_requirement_allocation_arm;

USE FROM Datum_difference_based_model_arm; -- ????

(*=================== Temporary use froms ======================== *)
(*
USE FROM Model_parameter_arm;    -- ISO/TS 10303-xxx
USE FROM Wireframe_2d_arm;    --  ISO/TS 10303-1347           --Geometrically_bounded_2d_wireframe_arm;

-- New modules, not existing as uof
 
USE FROM Chemical_substance_arm;

USE FROM Physical_unit_2d_design_view_arm;
USE FROM Physical_unit_3d_design_view_arm;
USE FROM Physical_unit_non_planar_design_view_arm;
USE FROM Assembly_module_with_macro_component_arm;
USE FROM Assembly_module_with_cable_component_arm;
USE FROM Interconnect_module_with_macros_arm;
USE FROM Assembly_module_with_interconnect_component_arm;
USE FROM Assembly_module_with_packaged_connector_component_arm;
USE FROM Assembly_module_with_subassembly_arm;
USE FROM Cable_arm;
USE FROM Basic_geometry_arm;
USE FROM Basic_curve_arm;
USE FROM Area_2d_arm;
USE FROM Fill_area_arm;
USE FROM Component_feature_arm;
USE FROM Assembly_module_macro_definition_arm;
USE FROM Feature_and_connection_zone_arm;
USE FROM Connectivity_allocation_to_physical_network_arm;
USE FROM Electrical_network_definition_arm;
USE FROM Functional_decomposition_to_design_arm;
USE FROM Functional_unit_requirement_allocation_arm;
USE FROM Design_specific_assignment_to_assembly_usage_view_arm;
USE FROM Design_specific_assignment_to_interconnect_usage_view_arm;
USE FROM Interconnect_module_to_assembly_module_relationship_arm;
USE FROM Fabrication_requirement_arm;
USE FROM Layout_macro_definition_arm;
USE FROM Manifold_subsurface_arm;
USE FROM Non_feature_shape_element_arm;
USE FROM Packaged_connector_model_arm;
USE FROM Part_external_reference_arm;
USE FROM Part_feature_function_arm;
USE FROM Part_feature_grouping_arm;
USE FROM Part_feature_location_arm;
USE FROM Layered_2d_shape_representation_relationship_arm;
USE FROM Layered_3d_shape_representation_relationship_arm;
USE FROM Part_template_extension_arm;
USE FROM Part_terminal_arm;
USE FROM Physical_component_feature_arm; 
USE FROM Physical_node_requirement_to_implementing_component_allocation_arm;
USE FROM Physical_unit_interconnect_definition_arm;
USE FROM Pre_defined_datum_symbol_arm;
USE FROM Pre_defined_datum_2d_symbol_arm;
USE FROM Pre_defined_datum_3d_symbol_arm;
USE FROM Assembly_module_with_cable_component_2d_arm;
USE FROM Assembly_module_with_cable_component_3d_arm;
USE FROM Shape_composition_arm;
USE FROM Shape_parameters_arm;
USE FROM Shield_arm; 
USE FROM Software_arm; 
USE FROM Technology_arm;
USE FROM Test_requirement_allocation_arm;
USE FROM Thermal_network_definition_arm;
USE FROM Via_component_arm;

USE FROM Altered_package_arm;
USE FROM Altered_part_arm;
USE FROM Analytical_model_arm;
USE FROM Component_grouping_arm;
USE FROM Assembly_component_placement_requirements_arm;

USE FROM Assembly_functional_interface_requirement_arm;
USE FROM Interface_component_arm;
USE FROM Assembly_module_design_arm;
USE FROM Assembly_module_usage_view_arm;
USE FROM Assembly_physical_interface_requirement_arm;
USE FROM Assembly_physical_requirement_allocation_arm;
USE FROM Assembly_shape_arm;
USE FROM Assembly_2d_shape_arm;
USE FROM Assembly_3d_shape_arm;
USE FROM Assembly_technology_arm;
USE FROM Bare_die_arm;
USE FROM Characteristic_arm;

USE FROM Design_management_arm;
USE FROM Device_marking_arm;
USE FROM Specification_document_arm;
USE FROM Fabrication_joint_arm;
USE FROM Form_features_arm;
USE FROM Functional_decomposition_to_assembly_design_arm;
USE FROM Functional_decomposition_to_interconnect_design_arm;
USE FROM Network_functional_design_view_arm;
USE FROM Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm;
USE FROM Functional_design_elaboration_arm;
USE FROM Functional_specification_arm;
USE FROM Network_functional_usage_view_arm;
USE FROM Extended_geometric_tolerance_arm;

USE FROM Interconnect_module_connection_routing_arm;
USE FROM Layered_interconnect_module_design_arm;
USE FROM Layered_interconnect_module_3d_shape_arm;
USE FROM Layered_interconnect_module_with_printed_component_design_arm;
USE FROM Interconnect_module_usage_view_arm;
USE FROM Interconnect_physical_requirement_allocation_arm;
USE FROM Interconnect_placement_requirements_arm;
USE FROM Interconnect_non_planar_shape_arm;
USE FROM Interconnect_2d_shape_arm;
USE FROM Interconnect_3d_shape_arm;

USE FROM Land_arm;
USE FROM Manufacturing_technology_arm;
USE FROM Package_arm;
USE FROM Packaged_part_black_box_model_arm;
USE FROM Packaged_part_white_box_model_arm;
USE FROM Physical_layout_template_arm;
USE FROM Part_template_shape_with_parameters_arm;
USE FROM Part_template_2d_shape_arm;
USE FROM Part_template_non_planar_shape_arm;
USE FROM Part_template_3d_shape_arm;
USE FROM Physical_unit_usage_view_arm;
USE FROM Physical_unit_design_view_arm;
USE FROM Physical_unit_3d_shape_arm;
USE FROM Physical_unit_2d_shape_arm;
USE FROM Physical_unit_shape_with_parameters_arm;
USE FROM Planned_characteristic_arm;
USE FROM Printed_physical_layout_template_arm;
USE FROM Product_identification_extension_arm; -- Made out of uof Product_identification_arm;
USE FROM Product_rule_arm;
USE FROM Requirement_decomposition_arm;
USE FROM Sequential_laminate_assembly_design_arm;
USE FROM Layered_shape_arm;
USE FROM Layered_2d_shape_arm;
USE FROM Layered_3d_shape_arm;
USE FROM Signal_arm;
USE FROM Layered_interconnect_module_with_design_intend_modifications_arm;
USE FROM Stratum_non_planar_shape_arm;
USE FROM Layered_interconnect_module_2d_design_arm;
USE FROM Layered_interconnect_module_3d_design_arm;
USE FROM Styled_curve_arm;
USE FROM Styled_text_arm;
*)
(*=================== END OF Temporary use froms ======================== *)

(** Need a CC having both Assembly_2d_shape and Interconnect_2d_shape_arm *)
SUBTYPE_CONSTRAINT component_2d_location_subtypes FOR component_2d_location;         
    ONEOF (component_2d_edge_location,
 component_2d_embedded_location,
 component_2d_stacked_location,
 component_2d_surface_location);    
END_SUBTYPE_CONSTRAINT;

(** Design_specific_assignment_to_assembly_usage_view_arm, 
Design_specific_assignment_to_interconnect_usage_view_arm  and
Assembly_module_macro_definition_arm needs to be brought together for this *)  
SUBTYPE_CONSTRAINT component_feature_to_physical_usage_view_assignment_subtypes FOR component_feature_to_physical_usage_view_assignment;     
ONEOF (component_terminal_to_assembly_module_join_terminal_assignment,
 component_terminal_to_assembly_module_interface_terminal_assignment,
 component_terminal_to_interconnect_module_join_terminal_assignment,
 component_terminal_to_interconnect_module_interface_terminal_assignment,
 component_terminal_to_pca_terminal_assignment);
END_SUBTYPE_CONSTRAINT;

(** Subtypes are totally mixed and appear in various schemas - most likely this constraint will remain in some CC *)
SUBTYPE_CONSTRAINT geometric_representation_relationship_subtypes FOR Geometric_model_relationship;     
(ONEOF (non_feature_shape_composition_relationship, -- Non_feature_shape_element_arm
 reference_geometric_representation_relationship, -- layered_2d_shape
 component_part_2d_geometric_representation_relationship, -- Physical_unit_2d_design_view_arm
 component_part_2d_non_planar_geometric_representation_relationship, -- Interconnect_non_planar_shape_arm
 component_part_3d_geometric_representation_relationship, -- Physical_unit_3d_design_view_arm
 shape_definition_3d_intersection, -- layered_3d_shape
 shape_definition_3d_plane_projection -- layered_3d_shape
 ));    
END_SUBTYPE_CONSTRAINT;

(** Since this includes both pca and pca - I guess it will be it top most schema *)
SUBTYPE_CONSTRAINT part_terminal_subtypes FOR part_terminal; 
ONEOF (minimally_defined_bare_die_terminal, -- *pca*
 assembly_module_terminal, -- *pca*
 cable_terminal, -- *pca*
 interconnect_module_terminal, -- *PCB*
 packaged_part_terminal); -- *pca*
END_SUBTYPE_CONSTRAINT;

(** It most likely should be in TOP AP210 schema *)
SUBTYPE_CONSTRAINT part_design_view_subtypes FOR part_design_view;  
    ONEOF (assembly_module,
 interconnect_module);
END_SUBTYPE_CONSTRAINT;

TYPE ap210_managed_design_object = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON managed_design_object WITH 
(adjacent_stratum_surface_definition,
 adjacent_stratum_surface_embedded_component_surface_definition,
 alias_identification,
 alternate_product_relationship,
 analytical_model_definition,
 analytical_model_make_from_relationship,
 analytical_model_port,
 analytical_model_port_assignment,
 analytical_model_application,
 assembly_bond_definition,
 assembly_component,
 assembly_component_placement_link,
 assembly_component_relationship,
 assembly_item_number,
 assembly_joint,
 bond_assembly_position,
 boundary_size_characteristic,
 bus_element_link,
 bus_structural_definition,
 geometric_coordinate_space,
 certification,
 representation_item,
 component_2d_location,
 component_3d_location,
 component_external_reference,
 component_feature,
 component_feature_external_reference,
 component_feature_make_from_relationship,
 component_feature_relationship,
 component_feature_to_layout_feature_relationship,
 component_feature_to_physical_usage_view_assignment,
 component_group_assignment,
 component_make_from_relationship,
 component_mounting_clearance_relationship,
 component_non_planar_location,
 component_overlap_relationship,
 component_placement_restriction_assignment,
 component_to_physical_usage_view_assignment,
 composite_curve_segment,
 composite_signal_property_relationship,
 conductive_interconnect_element_terminal_link,
 configuration_controlled_message,
 conical_tolerance_zone_boundary_and_surface_relationship,
 conical_tolerance_zone_boundary_diametrical_size_characteristic,
 connection_zone,
 connectivity_allocation,
 connectivity_allocation_to_physical_network,
 connection_zone_bare_die_interface_plane_relationship,
 connection_zone_package_interface_plane_relationship,
 connection_zone_map_identification,
 coordinated_characteristic,
 curve_style,
 curve_style_font,
 curve_style_font_and_scaling,
 value_with_unit,
 calendar_date,
 date_time,
 datum_axis_and_tolerance_zone_orienting_relationship,
 datum_axis_related_orientation,
 datum_based_direction_vector,
 datum_based_length_measure,
 datum_based_vector_orientation,
 datum_difference_functional_unit_usage_view_terminal_assignment,
 single_datum, 
 datum, 
 datum_target_usage_in_datum_target_set_relationship,
 design_composition_path,
 design_functional_unit_allocation_to_assembly_component,
 design_functional_unit_allocation_to_assembly_joint,
 design_functional_unit_allocation_to_fabrication_joint,
 design_functional_unit_allocation_to_reference_functional_unit,
 design_intent_modification,
 design_intent_modification_sequence,
 design_intent_modification_3d_position,
 design_intent_modification_planar_position,
 design_intent_modification_styled_area_representation,
 assembly_connection_zone_position_relationship,
 interconnect_connection_zone_position_relationship,
 design_view_terminal_component_shape_relationship,
 device_2d_position,
 device_3d_position,
 device_terminal_map,
 device_terminal_map_relationship,
 geometric_dimension, 
 dimensional_characteristic_representation,
 dimension_qualifier,
 dimension_set,
 direct_stratum_component_join_implementation,
 direction,
 direction_element,
 approval,
 document_definition,
 material_identification,
 product,
 product_category,
 product_category_hierarchy,
 product_configuration,
 product_view_definition,
 product_concept,
 product_specific_parameter_value_assignment,
 product_version,
 Requirement_definition_property,
 text_representation_item,
 view_definition_relationship,
 equivalent_functional_terminals_assignment,
 equivalent_functional_unit_definition_assignment,
 evaluated_characteristic,
 externally_defined_curve_font,
 externally_defined_hatch_style,
 externally_defined_tile,
 externally_defined_tile_style,
 external_item_identification,
 fabrication_joint,
 fill_area,
 fill_area_occurrence,
 fill_area_style,
 fill_area_style_hatching,
 fill_area_style_tile,
 fill_area_style_tile_curve_with_style,
 fill_area_style_tile_solid_region,
 fill_area_style_tile_symbol_with_style,
 font_definition,
 frozen_assignment,
 functional_specification,
 functional_terminal_group,
 functional_terminal_group_assignment,
 functional_unit,
 functional_unit_network_node_definition,
 functional_unit_network_terminal_definition_bus_assignment,
 functional_unit_network_terminal_definition_node_assignment,
 functional_unit_terminal,
 functional_unit_terminal_bus_assignment,
 functional_unit_terminal_node_assignment,
 functional_unit_usage_view_terminal_definition,
 functional_usage_view_to_part_terminal_assignment,
 functional_usage_view_to_printed_part_template_terminal_assignment,
 geometric_tolerance,
 geometric_tolerance_qualifier,
 interconnect_module_product_assembly_view_fabrication_joint,
 interconnect_module_stratum_assembly_relationship,
 interface_component_allocation,
 interface_mounted_join,
 internal_stratum_access,
 inter_stratum_extent,
 inter_stratum_join_implementation,
 join_relationship,
 junction_vertex_allocation,
 Laminate_layer,
 layer_connection_point,
 layout_junction,
 layout_spacing_requirement_non_conforming_design_object,
 line_width_class,
 linear_array_placement_group_component_link,
 located_interconnect_module_thickness_requirement,
 marking,
 mating_connector_component,
 mating_connector_placement_relationship,
 mating_connector_termination,
 model_parameter,
 independent_property_relationship, 
 next_higher_assembly_interface_requirement,
 operational_requirement_occurrence_relationship,
 organization,
 package_external_reference,
 package_terminal_external_reference,
 package_terminal_occurrence,
 packaged_connector_terminal_relationship,
 parameter_assignment,
 parameter_assignment_override,
 part_connected_terminals_definition,
 part_device,
 part_device_terminal,
 part_terminal_external_reference,
 part_template_or_physical_unit_2d_shape_representation_relationship,
 part_template_or_physical_unit_3d_shape_representation_relationship,
 passage_technology,
 person,
 person_in_organization,
 physical_connectivity_abstraction_map,
 physical_connectivity_definition,
 physical_connectivity_definition_relationship,
 physical_connectivity_element,
 physical_connectivity_make_from_relationship,
 connector_based_interconnect_definition,
 Generic_physical_network,
 physical_node_requirement_to_implementing_component_allocation,
 part_definition_relationship,
 pitch_class,
 placement_group,
 placement_group_area_assignment,
 planned_characteristic,
 effectivity,
 port_variable,
 positional_boundary_and_profile_boundary_member_relationship,
 positional_boundary_definition,
 positional_boundary_member_definition,
 positional_boundary_offset,
 printed_connector_template_terminal_relationship,
 printed_part_template_connected_terminals_definition,
 printed_part_template_material,
 printed_part_template_material_link,
 printed_part_template_terminal_relationship,
 product_version_relationship,
 projected_zone_and_base_relationship,
 projected_zone_height_characteristic,
 promissory_usage,
 reference_composition_path,
 reference_functional_unit_assignment_to_part,
 registered_font,
 requirement_assignment,
 requirement_collection_relationship,
 restraint_condition,
 rule_action,
 rule_complex_clause,
 rule_conclusion_definition,
 rule_function,
 rule_justification,
 rule_premise_definition,
 rule_priority,
 rule_simple_clause,
 runout_tolerance_zone_orienting_relationship,
 runout_zone_orientation,
 security_classification,
 scalar_terminal_definition_link,
 separate_geometric_tolerance_requirement,
 geometric_model,
 shape_dimension_representation,
 shape_element,
 shape_element_locating_relationship,
 shape_element_relationship,
 detailed_geometric_model_element,
 signal,
 signal_property,
 signal_specification,
 simultaneous_geometric_tolerance_requirement,
 solid_curve,
 solid_fill_style,
 specification_allocation,
 stratum_concept_relationship,
 stratum_concept_to_physical_usage_view_assignment,
 stratum_feature_in_stratum_3d_position,
 stratum_feature_in_stratum_planar_position,
 stratum_feature_shape_stratum_average_surface_shape_relationship,
 stratum_feature_shape_stratum_surface_shape_relationship,
 stratum_feature_styled_area_representation,
 stratum_interconnect_module_3d_position,
 stratum_interconnect_module_planar_position,
 stratum_average_surface,
 stratum_surface,
 stratum_surface_in_stratum_3d_position,
 stratum_technology,
 stratum_technology_link,
 structured_text,
 structured_text_id_in_document,
 styled_curve_occurrence,
 assembly_relationship_substitution,
 component_upper_level_identification,
 sub_model_placement_2d,
 sub_model_placement_3d,
 supplied_part_relationship,
 technology,
 terminal_pair_port_equivalence_relationship,
 termination_constraint,
 thermal_isolation_requirement,
 tolerance_zone_and_viewing_plane_orienting_relationship,
 tolerance_zone_definition,
 tolerance_zone_boundary_member_offset,
 tolerance_zone_definition,
 tolerance_zone_form,
 tolerance_zone_per_unit_size_specification,
 topological_junction,
 transmission_line_functional_unit_terminal_allocation,
 true_profile,
 usage_concept_usage_relationship,
 usage_view_connection_zone_terminal_shape_relationship,
 vector,
 viewing_plane_based_orientation,
 viewing_plane_definition,
 work_order,
 work_request,
 organization_or_person_in_organization_assignment
);
  END_TYPE; -- ap210_managed_design_object



------------------------------


---------------------------------------------------

  FUNCTION bag_to_set(
    the_bag : BAG OF GENERIC : intype
  ) : SET OF GENERIC : intype;

    LOCAL
      the_set : SET OF GENERIC : intype := [];
      i       : INTEGER;
    END_LOCAL;

    IF SIZEOF(the_bag) > 0 THEN
      REPEAT i := 1 TO HIINDEX(the_bag);
        the_set := the_set + the_bag[i];
      END_REPEAT;
    END_IF;
    RETURN(the_set);
  END_FUNCTION; -- bag_to_set


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_device_functional_and_physical_characterization_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 device functional and physical characterization - EXPRESS ARM
*)

SCHEMA Ap210_device_functional_and_physical_characterization_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Packaged_part_white_box_model_arm;
   USE FROM Part_terminal_arm;
   USE FROM Network_functional_design_view_arm;
   USE FROM Characteristic_arm;
   USE FROM Chemical_substance_arm;
   USE FROM Part_feature_grouping_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_technology_constraints_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect technology constraints - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_technology_constraints_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Manufacturing_technology_arm;
   USE FROM Technology_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_technology_constraints_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly technology constraints - EXPRESS ARM
*)

SCHEMA Ap210_assembly_technology_constraints_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   USE FROM Specification_document_arm;
   USE FROM Technology_arm;
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_functional_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly functional requirements - EXPRESS ARM
*)

SCHEMA Ap210_assembly_functional_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Requirement_decomposition_arm;
   USE FROM Physical_node_requirement_to_implementing_component_allocation_arm;
   USE FROM Planned_characteristic_arm;
   USE FROM Requirement_assignment_arm;
   USE FROM Requirement_identification_and_version_arm;
   USE FROM Requirement_view_definition_arm;
   USE FROM Requirement_view_definition_relationship_arm;
   USE FROM Test_requirement_allocation_arm;
   USE FROM Assembly_module_usage_view_arm;
   USE FROM Characteristic_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_physical_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly physical requirements - EXPRESS ARM
*)

SCHEMA Ap210_assembly_physical_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Requirement_decomposition_arm;
   USE FROM Requirement_assignment_arm;
   USE FROM Requirement_identification_and_version_arm;
   USE FROM Requirement_view_definition_arm;
   USE FROM Requirement_view_definition_relationship_arm;
   USE FROM Test_requirement_allocation_arm;
   USE FROM Assembly_module_usage_view_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_functional_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect functional requirements - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_functional_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Network_functional_design_view_arm;
   USE FROM Planned_characteristic_arm;   
   USE FROM Requirement_assignment_arm;
   USE FROM Requirement_decomposition_arm;   
   USE FROM Requirement_identification_and_version_arm;
   USE FROM Requirement_view_definition_arm;
   USE FROM Requirement_view_definition_relationship_arm;
   USE FROM Test_requirement_allocation_arm;
   USE FROM Assembly_module_usage_view_arm;
   -- ?? physical_network
   USE FROM Part_terminal_arm; -- because of part_connected_terminals_definition
   USE FROM Characteristic_arm;
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_physical_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect physical requirements - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_physical_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Fabrication_requirement_arm;
   USE FROM Requirement_decomposition_arm;
   USE FROM Requirement_assignment_arm;
   USE FROM Requirement_identification_and_version_arm;
   USE FROM Requirement_view_definition_arm;
   USE FROM Requirement_view_definition_relationship_arm;
   USE FROM Test_requirement_allocation_arm;
   USE FROM Assembly_module_usage_view_arm;
   USE FROM Interconnect_placement_requirements_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_physical_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly physical design - EXPRESS ARM
*)

SCHEMA Ap210_assembly_physical_design_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Altered_part_arm;
   USE FROM Assembly_functional_interface_requirement_arm;
   USE FROM Assembly_module_macro_definition_arm;
   USE FROM Assembly_module_with_macro_component_arm;
   USE FROM Assembly_module_with_cable_component_2d_arm;   
   USE FROM Assembly_module_with_cable_component_3d_arm;
   USE FROM Assembly_module_with_subassembly_arm;
   USE FROM Assembly_shape_arm;
   USE FROM Assembly_2d_shape_arm;
   USE FROM Assembly_3d_shape_arm;
   USE FROM Characteristic_arm;
   USE FROM Chemical_substance_arm;
   USE FROM Cable_arm;
   USE FROM Design_specific_assignment_to_assembly_usage_view_arm;
   USE FROM Device_marking_arm;
   USE FROM Fill_area_arm;
   USE FROM Physical_unit_interconnect_definition_arm;

(** Assembly_module_with_packaged_connector_component_arm and 
Assembly_module_with_interconnect_component_arm  - most likely in some Assembly CC *)
	SUBTYPE_CONSTRAINT component_interface_terminal_subtypes FOR Component_interface_terminal;     
		(ONEOF (Packaged_connector_component_interface_terminal,
		 Interconnect_component_interface_terminal));
	END_SUBTYPE_CONSTRAINT;

(** most likely some Assembly_module CC *)
	SUBTYPE_CONSTRAINT packaged_part_subtypes FOR Packaged_part; 
	    (ONEOF (Minimally_defined_connector, -- Assembly_functional_interface_requirement_arm
	 	Packaged_connector) ANDOR -- Packaged_connector_model_arm
	 	Altered_packaged_part); -- Altered_part_arm
	END_SUBTYPE_CONSTRAINT;
	
	(** It most likely should be in Assembly_module CC *)
	SUBTYPE_CONSTRAINT physical_component_subtypes FOR Physical_component;  
		(ONEOF (Assembly_module_component, --Assembly_module_with_subassembly_arm
		Bare_die_component, -- Assembly_module_design_arm
		Cable_component, -- Assembly_module_with_cable_component_arm
		Interconnect_module_component, -- Assembly_module_with_interconnect_component_arm
		Packaged_component, -- Assembly_module_design_arm
		Routed_interconnect_component, -- Assembly_module_design_arm
		Routed_physical_component)); -- Assembly_module_design_arm 
	END_SUBTYPE_CONSTRAINT;
	
	(** It most likely should be in Assembly_module CC *)
	SUBTYPE_CONSTRAINT part_usage_view_subtypes FOR Part_usage_view;  
	    ONEOF (Package,
		 Bare_die,
		 Cable_usage_view,
		 Packaged_part,
		 Assembly_module_usage_view,
		 Interconnect_module_usage_view);
	END_SUBTYPE_CONSTRAINT;

   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect design - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_design_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Area_2d_arm;
   USE FROM Characteristic_arm;
   USE FROM Chemical_substance_arm;   
   USE FROM Connectivity_allocation_to_physical_network_arm;
   USE FROM Design_specific_assignment_to_interconnect_usage_view_arm;   
   USE FROM Device_marking_arm;   
   USE FROM Fill_area_arm;   
   USE FROM Interconnect_module_to_assembly_module_relationship_arm;
   USE FROM Interconnect_non_planar_shape_arm;
   USE FROM Interconnect_2d_shape_arm;
   USE FROM Interconnect_3d_shape_arm;
   USE FROM Land_arm;
   USE FROM Layered_interconnect_module_2d_design_arm;
   USE FROM Layered_interconnect_module_3d_design_arm;   
   USE FROM Layered_interconnect_module_3d_shape_arm;
   USE FROM Layout_macro_definition_arm;
   USE FROM Pre_defined_datum_symbol_arm;
   USE FROM Via_component_arm;

(** Most likely it is in CC Interconnect_module *)    
	SUBTYPE_CONSTRAINT laminate_component_interface_terminal_subtypes FOR Laminate_component_interface_terminal; 
		 (ONEOF (Non_functional_land_interface_terminal,
		 Printed_connector_component_interface_terminal,
		 Component_termination_passage_interface_terminal,
		 Land_interface_terminal));
	END_SUBTYPE_CONSTRAINT;

(** Most likely it is in CC Interconnect_module *)    
	SUBTYPE_CONSTRAINT laminate_component_join_terminal_subtypes FOR Laminate_component_join_terminal; 
		 (ONEOF (Component_termination_passage_join_terminal,
		 Land_join_terminal,
		 Non_functional_land_join_terminal,
		 Embedded_component_terminal,
		 Printed_component_join_terminal));
	END_SUBTYPE_CONSTRAINT;
   
(** It most likely should be in Interconnect_module CC *)
SUBTYPE_CONSTRAINT planar_projected_shape_subtypes FOR planar_projected_shape;  
	(ONEOF ((Assembly_component_2d_shape ANDOR
	 (ONEOF (Part_template_planar_shape,
	 Footprint_definition_shape,
	 Padstack_definition_shape,
	 Physical_unit_planar_shape))),
	 Design_intent_modification_planar_shape,
	 Stratum_feature_planar_shape,
	 Stratum_planar_shape));
END_SUBTYPE_CONSTRAINT; 

(** Pre_defined_datum_symbol_arm and Layered_interconnect_module_3d_shape_arm are not linked in any way.
Most likely it should be defined in Interconnect_module CC *)
 SUBTYPE_CONSTRAINT shape_definition_3d_intersection_subtypes FOR shape_definition_3d_intersection;  
	 (ONEOF (Edge_segment_cross_section,
	 Pre_defined_perpendicular_datum_plane_symbol_3d_2d_relationship,
	 Pre_defined_perpendicular_datum_axis_symbol_3d_2d_relationship,
	 Pre_defined_parallel_datum_axis_symbol_3d_2d_relationship));
 END_SUBTYPE_CONSTRAINT;  
   
   
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_design_for_microwave_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect design for microwave - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_design_for_microwave_arm;
   USE FROM Ap210_interconnect_design_arm;
   USE FROM Characteristic_arm;
(**   (+ spline curves ...)
   + edge terminal, cross-section_terminals !!
   GL: is it guided_wave_terminal or something else?
*)   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_product_rule_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 product rule - EXPRESS ARM
*)

SCHEMA Ap210_product_rule_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Product_rule_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_functional_decomposition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 functional decomposition - EXPRESS ARM
*)

SCHEMA Ap210_functional_decomposition_arm;
	USE FROM AP210_product_data_management_arm;
	USE FROM Network_functional_design_view_arm;
	USE FROM Electrical_network_definition_arm;
	USE FROM Thermal_network_definition_arm;
	USE FROM Functional_decomposition_to_assembly_design_arm;
	USE FROM Functional_decomposition_to_design_arm;
	USE FROM Functional_decomposition_to_interconnect_design_arm;	
	USE FROM Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm;
  	USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_package_functional_and_physical_characterization_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 package functional and physical characterization - EXPRESS ARM
*)

SCHEMA Ap210_package_functional_and_physical_characterization_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;   
   USE FROM Chemical_substance_arm;   
   USE FROM Package_arm;
   USE FROM Part_feature_grouping_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_laminate_assembly_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 laminate assembly design - EXPRESS ARM
*)

SCHEMA Ap210_laminate_assembly_design_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   --- look IS
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_connection_zone_based_model_extraction_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 connection zone based model extraction - EXPRESS ARM
*)

SCHEMA Ap210_connection_zone_based_model_extraction_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   --- look IS
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_functional_specification_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 functional specification - EXPRESS ARM
*)

SCHEMA Ap210_functional_specification_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Functional_specification_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_physical_unit_physical_characterization_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 physical unit physical characterization - EXPRESS ARM
*)

SCHEMA Ap210_physical_unit_physical_characterization_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Part_feature_grouping_arm;   
   USE FROM Characteristic_arm;
   -- look to IS what to add further
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_packaged_part_white_box_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 packaged part white box model - EXPRESS ARM
*)

SCHEMA Ap210_packaged_part_white_box_model_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;   
   USE FROM Packaged_part_white_box_model_arm;
   USE FROM Part_feature_grouping_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_printed_part_functional_and_physical_characterization_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 printed part functional and physical characterization - EXPRESS ARM
*)

SCHEMA Ap210_printed_part_functional_and_physical_characterization_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Physical_layout_template_arm;
   USE FROM Characteristic_arm;
   USE FROM Chemical_substance_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_functional_interface_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly functional interface requirements - EXPRESS ARM
*)

SCHEMA Ap210_assembly_functional_interface_requirements_arm;
   USE FROM Assembly_module_usage_view_arm;
   USE FROM Network_functional_usage_view_arm;
   USE FROM Assembly_physical_interface_requirement_arm;
   USE FROM Characteristic_arm;
(**    ... requirement_allocation   ?? *)
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_physical_interface_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly physical interface requirements - EXPRESS ARM
*)

SCHEMA Ap210_assembly_physical_interface_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Assembly_physical_requirement_allocation_arm;
   USE FROM Requirement_decomposition_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly requirement allocation - EXPRESS ARM
*)
SCHEMA Ap210_assembly_requirement_allocation_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   -- look to IS what to add further
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect requirement allocation - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_requirement_allocation_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   -- look to IS what to add further
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_functional_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 functional requirement allocation - EXPRESS ARM
*)

SCHEMA Ap210_functional_requirement_allocation_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Functional_unit_requirement_allocation_arm;
   USE FROM Characteristic_arm;
   -- look to IS what to add further
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Plib_class_reference_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3239 - ISO/TS 10303-1291 Plib class reference - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2288
*) 


SCHEMA Plib_class_reference_arm; 


ENTITY Plib_class_reference;
  code : STRING;
  supplier_bsu : STRING;
  version : STRING;
END_ENTITY;

END_SCHEMA;  -- Plib_class_reference_arm




(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Geometric_tolerance_arm.exp
   ------------------------------------------------------------
*)

(*
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N2876 - ISO/TS 10303-1051 Geometric tolerance - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N1550
*) 


SCHEMA Geometric_tolerance_arm;

USE FROM Derived_shape_element_arm;    -- ISO/TS 10303-1130

USE FROM Elemental_geometric_shape_arm;    -- ISO/TS 10303-1004

USE FROM Measure_representation_arm;    -- ISO/TS 10303-1118

USE FROM Shape_property_assignment_arm;    -- ISO/TS 10303-1032

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


ENTITY Angularity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Circular_runout_tolerance
  SUBTYPE OF (Geometric_tolerance);
  angle : OPTIONAL REAL;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Coaxiality_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Common_datum
  SUBTYPE OF (Datum);
  made_up_by : SET[2:?] OF Single_datum;
END_ENTITY;

ENTITY Concentricity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Cylindricity_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Datum;
END_ENTITY;

ENTITY Datum_defined_by_derived_shape
  SUBTYPE OF (Derived_geometry, Single_datum);
END_ENTITY;

ENTITY Datum_defined_by_feature
  SUBTYPE OF (Single_datum);
  defined_by : Shape_element;
END_ENTITY;

ENTITY Datum_defined_by_targets
  SUBTYPE OF (Single_datum);
  defined_by : SET[1:?] OF Datum_target;
  rule_description : STRING;
END_ENTITY;

ENTITY Datum_reference;
  precedence : INTEGER;
  referenced_datum : Datum;
END_ENTITY;

ENTITY Datum_target;
  id : STRING;
END_ENTITY;

ENTITY Flatness_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Geometric_tolerance
  ABSTRACT SUPERTYPE OF (ONEOF (Angularity_tolerance,
                                Circular_runout_tolerance,
                                Coaxiality_tolerance,
                                Concentricity_tolerance,
                                Cylindricity_tolerance,
                                Flatness_tolerance,
                                Line_profile_tolerance,
                                Parallelism_tolerance,
                                Perpendicularity_tolerance,
                                Position_tolerance,
                                Roundness_tolerance,
                                Straightness_tolerance,
                                Surface_profile_tolerance,
                                Symmetry_tolerance,
                                Total_runout_tolerance));
  name : OPTIONAL STRING;
  applied_to : Shape_element;
  modification : OPTIONAL Tolerance_condition;
  qualifying_note : OPTIONAL STRING;
  segment_size : OPTIONAL Value_with_unit;
  significant_digits : OPTIONAL INTEGER;
  tolerance_value : Value_with_unit;
  value_determination : OPTIONAL STRING;
WHERE
  WR1: (NOT (EXISTS(segment_size))) OR ('GEOMETRIC_TOLERANCE_ARM.LENGTH_MEASURE' IN TYPEOF(segment_size.value_component));
  WR2: (NOT (EXISTS(tolerance_value))) OR ('GEOMETRIC_TOLERANCE_ARM.LENGTH_MEASURE' IN TYPEOF(tolerance_value.value_component));
  WR3: (NOT (EXISTS(significant_digits))) OR (significant_digits > 0);
END_ENTITY;

ENTITY Geometric_tolerance_relationship;
  relation_type : STRING;
  relating : Geometric_tolerance;
  related : Geometric_tolerance;
END_ENTITY;

ENTITY Line_profile_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Parallelism_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Perpendicularity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:3] OF Datum_reference;
END_ENTITY;

ENTITY Placed_target
  ABSTRACT SUPERTYPE OF (ONEOF (Target_circle,
                                Target_point,
                                Target_rectangle,
                                Target_straight_line))
  SUBTYPE OF (Datum_target);
  defined_in : Geometric_coordinate_space;
  parameter_reference : Axis_placement;
END_ENTITY;

ENTITY Position_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Projection
  SUBTYPE OF (Tolerance_zone_definition);
  projection_end : Shape_element;
  projection_length : Value_with_unit;
END_ENTITY;

ENTITY Roundness_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Single_datum
  SUBTYPE OF (Datum);
  datum_name : STRING;
  modification : OPTIONAL Tolerance_condition;
END_ENTITY;

ENTITY Straightness_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
END_ENTITY;

ENTITY Surface_profile_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Symmetry_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:3] OF Datum_reference;
END_ENTITY;

ENTITY Target_area
  SUBTYPE OF (Datum_target);
END_ENTITY;

ENTITY Target_circle
  SUBTYPE OF (Placed_target);
  diameter : Numerical_item_with_unit;
END_ENTITY;

ENTITY Target_point
  SUBTYPE OF (Placed_target);
END_ENTITY;

ENTITY Target_rectangle
  SUBTYPE OF (Placed_target);
  target_length : Numerical_item_with_unit;
  target_width : Numerical_item_with_unit;
END_ENTITY;

ENTITY Target_straight_line
  SUBTYPE OF (Placed_target);
END_ENTITY;

ENTITY Tolerance_condition;
  condition : STRING;
END_ENTITY;

ENTITY Tolerance_zone;
  form_type : STRING;
  zone_for : SET[1:?] OF Geometric_tolerance;
END_ENTITY;

ENTITY Tolerance_zone_definition;
  defining : Tolerance_zone;
  first_element : Shape_element;
  second_element : OPTIONAL Shape_element;
END_ENTITY;

ENTITY Total_runout_tolerance
  SUBTYPE OF (Geometric_tolerance);
  angle : REAL;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

END_SCHEMA;  -- Geometric_tolerance_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Model_parameter_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Model parameter - EXPRESS ARM
*)

SCHEMA Model_parameter_arm;

USE FROM Classification_with_attributes_arm;

USE FROM Independent_property_arm;

USE FROM Independent_property_representation_arm;

USE FROM Product_identification_arm;

USE FROM Document_assignment_arm;

USE FROM Document_definition_arm;

USE FROM Characteristic_arm;

	TYPE mp_documented_element_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON documented_element_select WITH 
	   (Model_parameter);
	END_TYPE; 

  ENTITY Category_model_parameter
    SUBTYPE OF (Model_parameter, classification_attribute);
  END_ENTITY; -- category_model_parameter

  ENTITY Model_parameter
   SUBTYPE OF (Independent_property);
      unit_of_measure    : OPTIONAL Unit; -- STRING
      valid_range        : OPTIONAL SET[1:?] OF Value_range; --coordinated_characteristic; 
      default_value      : OPTIONAL scalar_or_coordinated_characteristics;
    INVERSE
	  reference_document : document_assignment FOR is_assigned_to;    	
  END_ENTITY; -- model_parameter

  ENTITY Parameter_assignment
    SUBTYPE OF (Independent_property_representation);
   (** We may need further specification here *)
--      SELF\independent_property_relationship.relating    	
--	parameter_value: scalar_or_coordinated_characteristics;
      SELF\independent_property_representation.property: model_parameter;
--	assigned_parameter: model_parameter;
  END_ENTITY; -- parameter_assignment

  ENTITY Parameter_assignment_override;
      overridden_parameter_assignment : parameter_assignment;
      overriding_parameter_assignment : parameter_assignment;
  END_ENTITY; -- parameter_assignment_override

  ENTITY Schema_based_model_parameter
    SUBTYPE OF (Model_parameter);
      entity_name    : STRING;
      attribute_name : OPTIONAL STRING;
      SELF\Independent_property.property_type RENAMED schema_identifier : STRING;
    UNIQUE
      UR1 : entity_name,
 attribute_name,
 schema_identifier;
  END_ENTITY; -- schema_based_model_parameter

  ENTITY Product_specific_parameter_value_assignment;
      of_product         : product;
      assigned_parameter : parameter_assignment;
    DERIVE
      the_model_parameter : model_parameter := assigned_parameter.assigned_parameter;
    UNIQUE
      UR1 : the_model_parameter,
 of_product;
  END_ENTITY; -- ee_product_specific_parameter_value_assignment


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Dimension_tolerance_arm.exp
   ------------------------------------------------------------
*)

(*
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N2873 - ISO/TS 10303-1050 Dimension tolerance - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N1547
*) 


SCHEMA Dimension_tolerance_arm;

USE FROM Construction_geometry_arm;    -- ISO/TS 10303-1131

USE FROM Derived_shape_element_arm;    -- ISO/TS 10303-1130

USE FROM Document_assignment_arm;    -- ISO/TS 10303-1122

USE FROM Elemental_geometric_shape_arm;    -- ISO/TS 10303-1004

USE FROM Extended_measure_representation_arm;    -- ISO/TS 10303-1106

USE FROM Measure_representation_arm;    -- ISO/TS 10303-1118

USE FROM Shape_property_assignment_arm;    -- ISO/TS 10303-1032

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


TYPE dimension_tolerance_document_element_select = EXTENSIBLE SELECT BASED_ON documented_element_select WITH 
   (Externally_defined_size_dimension);
END_TYPE; 

TYPE dimension_value_select = SELECT
   (Dimension_value_with_limitation, 
    Numerical_item_with_unit, 
    Tolerance_range, 
    Value_limit);
END_TYPE; 

TYPE element_with_dimension_select = EXTENSIBLE GENERIC_ENTITY SELECT
   (Shape_element);
END_TYPE; 

TYPE limitation_definition_select = SELECT
   (Limits_and_fits, 
    Plus_minus_bounds);
END_TYPE; 

TYPE placed_element_select = EXTENSIBLE SELECT
   (constructive_element_select, 
    Derived_geometry, 
    element_with_dimension_select);
END_TYPE; 

ENTITY Angular_location_dimension
  SUBTYPE OF (Location_dimension);
  orientation : Axis_placement;
END_ENTITY;

ENTITY Angular_size_dimension
  SUBTYPE OF (Size_dimension);
  full : BOOLEAN;
  major_angle : BOOLEAN;
END_ENTITY;

ENTITY Curved_distance_dimension
  SUBTYPE OF (Location_dimension);
  used_path : Measurement_path;
END_ENTITY;

ENTITY Curved_size_dimension
  SUBTYPE OF (Size_dimension);
END_ENTITY;

ENTITY Diameter_size_dimension
  SUBTYPE OF (Size_dimension);
END_ENTITY;

ENTITY Dimension_value_with_limitation;
  defined_by : limitation_definition_select;
  limited_value : Numerical_item_with_unit;
END_ENTITY;

ENTITY Externally_defined_size_dimension
  SUBTYPE OF (Size_dimension);
  name : STRING;
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Geometric_dimension
  ABSTRACT SUPERTYPE OF (ONEOF (Location_dimension,
                                Size_dimension));
  id : STRING;
  dimension_value : dimension_value_select;
  notes : SET[0:?] OF STRING;
END_ENTITY;

ENTITY Height_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Length_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Limits_and_fits;
  deviation : STRING;
  fitting_type : OPTIONAL STRING;
  grade : STRING;
END_ENTITY;

ENTITY Linear_distance_dimension
  SUBTYPE OF (Location_dimension);
  orientation : OPTIONAL Axis_placement;
END_ENTITY;

ENTITY Location_dimension
  ABSTRACT SUPERTYPE OF (ONEOF (Angular_location_dimension,
                                Curved_distance_dimension,
                                Linear_distance_dimension))
  SUBTYPE OF (Geometric_dimension);
  description : OPTIONAL STRING;
  directed : OPTIONAL BOOLEAN;
  origin : placed_element_select;
  target : placed_element_select;
END_ENTITY;

ENTITY Plus_minus_bounds;
  lower_bound : Value_with_unit;
  significant_digits : OPTIONAL INTEGER;
  upper_bound : Value_with_unit;
  value_determination : OPTIONAL STRING;
END_ENTITY;

ENTITY Radial_size_dimension
  SUBTYPE OF (Size_dimension);
  radius_type : STRING;
END_ENTITY;

ENTITY Size_dimension
  ABSTRACT SUPERTYPE OF (ONEOF (Angular_size_dimension,
                                Curved_size_dimension,
                                Diameter_size_dimension,
                                Externally_defined_size_dimension,
                                Height_size_dimension,
                                Length_size_dimension,
                                Radial_size_dimension,
                                Thickness_size_dimension,
                                Width_size_dimension))
  SUBTYPE OF (Geometric_dimension);
  envelope_principle : OPTIONAL BOOLEAN;
  is_applied_to : element_with_dimension_select;
END_ENTITY;

ENTITY Thickness_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Tolerance_range;
  lower_range : Numerical_item_with_unit;
  significant_digits : OPTIONAL INTEGER;
  upper_range : Numerical_item_with_unit;
END_ENTITY;

ENTITY Width_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

END_SCHEMA;  -- Dimension_tolerance_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Alias_identification_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1120 - ISO/TS 10303-1025 Alias identification - EXPRESS ARM
*)
   
SCHEMA Alias_identification_arm;

   
USE FROM Identification_assignment_arm; -- ISO/TS 10303-1021

   
TYPE alias_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE;

   
ENTITY Alias_identification
  SUBTYPE OF (Identification_assignment);
DERIVE
  SELF\Identification_assignment.role: STRING :='alias';
WHERE
WR1: SIZEOF (QUERY( item <* SELF\Identification_assignment.items |
NOT ('ALIAS_IDENTIFICATION_ARM.ALIAS_IDENTIFICATION_ITEM' IN TYPEOF(item) ) )) = 0;
END_ENTITY;
  
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Chemical_substance_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Chemical substance - EXPRESS ARM
*)

(** chemical elements and compositions
This part of ISO 10303 specifies an application module for the representation ... 
... of substances such as chemical elements, chemical compounds and their composition.
A Make_from_relationship may be used to relate
Substance_view_definition to other kinds of Product_view_definition.
*)
SCHEMA Chemical_substance_arm;   
 
USE FROM Value_with_unit_arm;

USE FROM Person_organization_assignment_arm;

USE FROM Product_view_definition_relationship_arm;

USE FROM Part_view_definition_arm;

REFERENCE FROM Product_identification_arm    --  ISO/TS 10303-1017 
  (types_of_product);  
 
 
CONSTANT 
 
  -- normative reference: ISO 31-9, Annex A 
  -- posistion is identical to Atomic number 
  chemical_elements : LIST OF STRING := [
      'HYDROGEN', -- 1 
      'HELIUM', -- 2 
 
      'LITHIUM', -- 3 
      'BERYLLIUM', -- 4 
      'BORON', -- 5 
      'CARBON', -- 6 
      'NITROGEN', -- 7 
      'OXYGEN', -- 8 
      'FLUORINE', -- 9 
      'NEON', -- 10 
       
      'SODIUM', -- 11 
      'MAGNESIUM', -- 12 
      'ALUMINIUM', -- 13 
      'SILICON', -- 14 
      'PHOSPHORUS', -- 15 
      'SULPHUR', -- 16 
      'CHLORINE', -- 17 
      'ARGON', -- 18 
       
      'POTASSIUM', -- 19 
      'CALCIUM', -- 20 
      'SCANDIUM', -- 21 
      'TITANIUM', -- 22 
      'VANADIUM', -- 23 
      'CHROMIUM', -- 24 
      'MANGANESE', -- 25 
      'IRON', -- 26 
      'COBALT', -- 27 
      'NICKEL', -- 28 
      'COPPER', -- 29 
      'ZINC', -- 30 
      'GALLIUM', -- 31 
      'GERMANIUM', -- 32 
      'ARSENIC', -- 33 
      'SELENIUM', -- 34 
      'BROMINE', -- 35 
      'KRYPTON', -- 36 
 
      'RUBIDIUM', -- 37 
      'STRONTIUM', -- 38 
      'YTTRIUM', -- 39 
      'ZIRCONIUM', -- 40 
      'NIOBIUM', -- 41 
      'MOLYBDENUM', -- 42 
      'TECHNETIUM', -- 43 
      'RUTHENIUM', -- 44 
      'RHODIUM', -- 45 
      'PALLADIUM', -- 46 
      'SILVER', -- 47 
      'CADMIUM', -- 48 
      'INDIUM', -- 49 
      'TIN', -- 50 
      'ANTIMONY', -- 51 
      'TELLURIUM', -- 52 
      'IODINE', -- 53 
      'XENON', -- 54 
       
      'CAESIUM', -- 55 
      'BARIUM', -- 56 
      'LANTHANUM', -- 57 
      'CERIUM', -- 58 
      'PRASEODYMIUM', -- 59 
      'NEODYMIUM', -- 60 
      'PROMETHIUM', -- 61 
      'SAMARIUM', -- 62 
      'EUROPIUM', -- 63
      'GADOLINIUM', -- 64 
      'TERBIUM', -- 65 
      'DYSPROSIUM', -- 66 
      'HOLMIUM', -- 67 
      'ERBIUM', -- 68 
       
      'THULIUM', -- 69 
      'YTTERBIUM', -- 70 
      'LUTETIUM', -- 71 
      'HAFNIUM', -- 72 
      'TANTALUM', -- 73 
      'TUNGSTEN', -- 74 
      'RHENIUM', -- 75 
      'OSMIUM', -- 76 
      'IRIDIUM', -- 77 
      'PLATINUM', -- 78 
      'GOLD', -- 79 
      'MERCURY', -- 80 
      'THALLIUM', -- 81 
      'LEAD', -- 82 
      'BISMUTH', -- 83 
      'POLONIUM', -- 84 
      'ASTATINE', -- 85 
      'RADON', -- 86 
      'FRANCIUM', -- 87 
      'RADIUM', -- 88 
      'ACTINIUM', -- 89 
      'THORIUM', -- 90 
      'PROTACTINIUM', -- 91 
      'URANIUM', -- 92 
      'NEPTUNIUM', -- 93 
      'PLUTONIUM', -- 94 
      'AMERICIUM', -- 95 
      'CURIUM', -- 96 
      'BERKELIUM', -- 97 
      'CALIFORNIUM', -- 98 
      'EINSTEINIUM', -- 99 
      'FERMIUM', -- 100 
      'MENDELEVIUM', -- 101 
      'NOBELIUM', -- 102 
      'LAWRENCIUM', -- 103 
      'RUTHERFORDIUM', -- 104 
      'DUBNIUM', -- 105 
      'SEABORGIUM', -- 106 
      'BOHRIUM', -- 107 
      'HASSIUM', -- 108 
      'MEITNERIUM', -- 109 
      'DARMSTADTIUM', -- 110
      'ROENTGENIUM']; -- 111
  END_CONSTANT; 

  TYPE substance_composition_basis = EXTENSIBLE ENUMERATION OF ( 
       VOLUME, 
       WEIGHT,
       MASS, 
       MOLES, 
       ATOMS);      
  END_TYPE; 
 
(** 
A chemical compound is a substance formed from two or more chemical elements, with a fixed ratio determining the composition.  
 
Example: Dihydrogen monoxide (water, H2O) is a compound composed of two hydrogen atoms for every oxygen atom. 
 
Note 1: In general, this fixed ratio must be fixed due to some sort of physical property, rather than an arbitrary man-made selection. This is why materials such as brass, the superconductor YBCO, the semiconductor aluminium gallium arsenide, or chocolate are considered mixtures or alloys rather than compounds. 
 
A defining characteristic of a compound is that it has a chemical formula. Formulas describe the ratio of atoms in a substance, and the number of atoms in a single molecule of the substance (thus the formula for ethene is C2H4 rather than CH2). The formula does not indicate that a compound is composed of molecules; for example, sodium chloride (table salt, NaCl) is an ionic compound.   
 
Note 2: The representation of the chemical formula is outside the scope of this part of ISO 10303. 
 
If available the CAS registry number shall be used for the id. In this case an organization instance with the name 'Chemical Abstracts Service' shall be used as id-owner. 
 
Example 2: The CAS number of water is "7732-18-5". 
 
*)   
 
  ENTITY Chemical_compound 
    SUBTYPE OF (Substance); 
  WHERE 
     WR1: SIZEOF([ 'chemical compound' ] * types_of_product(SELF))= 1 ; 
     WR2: SIZEOF(QUERY(t <* SELF\organization_or_person_in_organization_assignment. items | t.role = 'id owner') = 1); 
  END_ENTITY; 
   
  ENTITY Chemical_element 
    SUBTYPE OF (Substance); 
  WHERE 
     wr1: SIZEOF([ 'chemical element' ] * types_of_product(SELF))= 1 ; 
     wr2: SELF/product.name in chemical_elements; 
  END_ENTITY; 
   
 
(** A Physical_particle is a kind of substance from physics covering
 radiation and all kinds of subatomic and elementary particles.

 Example: electron, proton, photon and alpha particle are examples of Elementary_particle
*)
  ENTITY Physical_particle
    SUBTYPE OF (Substance);
  WHERE 
     WR1: SIZEOF([ 'physical particle' ] * types_of_product(SELF))= 1 ;
  END_ENTITY;

   ENTITY Raw_material_definition_relationship
      SUBTYPE OF (View_definition_relationship);
     		SELF\View_definition_relationship.related_view RENAMED application : Part_view_definition;
     		SELF\View_definition_relationship.relating_view RENAMED definition : Substance_view_definition;  
   END_ENTITY;
   
  ENTITY Substance
    SUPERTYPE OF (ONEOF(Chemical_element, Chemical_compound, Physical_particle))
    SUBTYPE OF (Product);    
  WHERE 
     wr1: SIZEOF([ 'substance' ] * types_of_product(SELF))= 1 ; 
  END_ENTITY; 
   
  ENTITY Substance_composition_relationship 
    SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.related_view RENAMED constituent                : Substance_view_definition; 
      SELF\View_definition_relationship.relating_view RENAMED whole                     : Substance_view_definition; 
      composition_basis : Substance_composition_basis;
      determination_method : STRING; 
      amount : Value_with_unit; 
      (** unit shall be ratio, representing the fraction of 
  WHERE 
       WR1: ; --  unit shall be ratio *)
  END_ENTITY; 

  ENTITY Substance_version 
    SUBTYPE OF (Product_version); 
    SELF\Product_version.of_product : Substance; 
  END_ENTITY; 
 
  
  ENTITY Substance_view_definition 
    SUBTYPE OF (Product_view_definition); 
    SELF\Product_view_definition.defined_version : Substance_version; 
  END_ENTITY; 
 
END_SCHEMA; 


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_2d_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit 2d design view - EXPRESS ARM
*)

SCHEMA Physical_unit_2d_design_view_arm;

USE FROM Assembly_module_with_interconnect_component_arm;
  
USE FROM Physical_unit_design_view_arm;  

USE FROM Layered_2d_shape_representation_relationship_arm;

 	TYPE conductive_interconnect_terminal_or_interconnect_component_join_terminal = SELECT
 		(interconnect_component_interface_terminal,
     	interconnect_component_join_terminal,
     	movable_packaged_component_join_terminal);
	END_TYPE;

  ENTITY Assembly_component_2d_shape
    SUBTYPE OF (planar_projected_shape);
      shape_characterized_component : SET[1:?] OF assembly_component;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- assembly_component_2d_shape

  ENTITY Component_2d_location;
        placement_fixed 				: BOOLEAN;
      transformation  					: cartesian_transformation_2d;
    -- Add attributes from original component_assembly_2d_position as discussed on SEDS-1227
      component_model        		: assembly_component_2d_shape;
      assembly_model         		: physical_unit_planar_shape;
      component									: next_assembly_usage;
			DERIVE
    		substrate_location   : BOOLEAN := substrate_in_assembly(SELF);
    		the_context : geometric_coordinate_space :=
				assembly_model\geometric_model\representation.context_of_items;
			WHERE
 				WR1: NOT('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(component.relating_view)) OR (transformation.mirror = FALSE);
 				WR2: NOT(substrate_location) OR (transformation.mirror = FALSE);
 				WR3: (transformation.scale - 1.0) < 0.001 ;
  END_ENTITY; -- component_2d_location

  ENTITY Component_part_2d_geometric_representation_relationship
    SUBTYPE OF (Geometric_model_relationship);
    	SELF\Geometric_model_relationship.rep_1 RENAMED part_shape  : part_template_or_physical_unit_2d_shape_select;
    	SELF\Geometric_model_relationship.rep_2 RENAMED component_shape : assembly_component_2d_shape;
  END_ENTITY; -- component_part_2d_geometric_representation_relationship

  ENTITY Design_view_terminal_component_shape_relationship;
      associating_component_shape          : feature_shape_definition;
      associated_usage                     : conductive_interconnect_terminal_or_interconnect_component_join_terminal;
      associated_terminal_shape_definition : feature_shape_definition;
      associated_usage_placement           : axis_placement;--
  END_ENTITY; -- design_view_terminal_component_shape_relationship

  FUNCTION substrate_in_assembly(
    c2dl : component_2d_location
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION; -- substrate_in_assembly

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_3d_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit 3d design view - EXPRESS ARM
*)

SCHEMA Physical_unit_3d_design_view_arm;
  
USE FROM Physical_unit_design_view_arm;  

USE FROM Layered_3d_shape_representation_relationship_arm;
  
  ENTITY Assembly_component_3d_shape
    SUBTYPE OF (Feature_shape_definition);
      shape_characterized_component : SET[1:?] OF assembly_component;
  END_ENTITY; -- assembly_component_3d_shape

  ENTITY Component_3d_location;
      transformation  : axis_placement_3d;
      placement_fixed	: BOOLEAN;
    -- Add attributes from original component_assembly_2d_position as discussed on SEDS-1227
      component_model	: assembly_component_3d_shape;
      assembly_model  : physical_unit_3d_shape;
      component       : next_assembly_usage;
  END_ENTITY; -- component_3d_location

  ENTITY Component_part_3d_geometric_representation_relationship
    SUBTYPE OF (Geometric_model_relationship);
		SELF\Geometric_model_relationship.rep_1 RENAMED part_shape      : part_template_or_physical_unit_3d_shape_select;
	    SELF\Geometric_model_relationship.rep_2 RENAMED component_shape : assembly_component_3d_shape;
  END_ENTITY; -- component_part_3d_geometric_representation_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_non_planar_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit non planar design view - EXPRESS ARM
*)

SCHEMA Physical_unit_non_planar_design_view_arm;
  
USE FROM Physical_unit_design_view_arm;  

USE FROM Layered_shape_arm;

USE FROM Manifold_subsurface_arm;

  ENTITY Assembly_component_non_planar_shape
    SUBTYPE OF (Manifold_subsurface_shape,
 feature_shape_definition);
      shape_characterized_component : SET[1:?] OF assembly_component;
  END_ENTITY; -- assembly_component_non_planar_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_macro_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with macro component - EXPRESS ARM
*)

SCHEMA Assembly_module_with_macro_component_arm;

USE FROM Assembly_module_macro_definition_arm;

--USE FROM Physical_unit_design_view_arm;

USE FROM Assembly_module_with_subassembly_arm;

  ENTITY Assembly_module_macro_component
    SUBTYPE OF (Assembly_module_component);
      design_definition : assembly_module;
    INVERSE
      join_access_mechanisms : SET[1:?] OF assembly_module_macro_component_join_terminal FOR associated_component;
    WHERE
      WR1 : SIZEOF(QUERY(ammcjt <* join_access_mechanisms | ammcjt\component_feature.definition\shape_element.containing_shape :<>: design_definition\part_design_view.usage_view)) = 0;
  END_ENTITY; -- assembly_module_macro_component

  ENTITY Assembly_module_macro_component_join_terminal
    SUBTYPE OF (Assembly_module_component_terminal);
      SELF\component_feature.definition           : assembly_module_join_terminal;
      SELF\component_feature.associated_component : assembly_module_macro_component;
  END_ENTITY; -- assembly_module_macro_component_join_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_cable_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with cable component - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added by abf

SCHEMA Assembly_module_with_cable_component_arm;
 
 USE FROM Assembly_module_with_packaged_connector_component_arm;
 
 USE FROM Cable_arm;

	SUBTYPE_CONSTRAINT part_terminal_subtypes FOR part_terminal; 
		ONEOF (minimally_defined_bare_die_terminal,
		 assembly_module_terminal,
		 cable_terminal,
		 packaged_part_terminal);
	END_SUBTYPE_CONSTRAINT;

  ENTITY Cable_component
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : cable_usage_view;
  END_ENTITY; -- cable_component

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_module_with_macros_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect module with macros - EXPRESS ARM
*)

SCHEMA Interconnect_module_with_macros_arm;

USE FROM Assembly_module_with_interconnect_component_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Component_feature_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Interconnect_module_usage_view_arm;

  ENTITY Interconnect_module_macro_component
    SUBTYPE OF (Interconnect_module_component);
      design_definition : interconnect_module;
    INVERSE
      join_access_mechanisms : SET[1:?] OF interconnect_module_macro_component_join_terminal FOR associated_component;
    WHERE
      WR1 : SIZEOF(QUERY(immcjt <* join_access_mechanisms | immcjt\component_feature.definition\shape_element.containing_shape :<>: design_definition\part_design_view.usage_view)) = 0;
  END_ENTITY; -- interconnect_module_macro_component

  ENTITY Interconnect_module_macro_component_join_terminal
    SUBTYPE OF (Interconnect_module_component_terminal);
      SELF\component_feature.definition           : interconnect_module_join_terminal;
      SELF\component_feature.associated_component : interconnect_module_macro_component;
  END_ENTITY; -- interconnect_module_macro_component_join_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_interconnect_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with interconnect component - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_module_with_interconnect_component_arm;

USE FROM Assembly_module_design_arm;

USE FROM Part_occurrence_arm;

USE FROM Interconnect_module_usage_view_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Interface_component_arm;

 	TYPE amwic_assembled_feature_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON assembled_feature_select WITH   
    (interconnect_component_join_terminal,
     interconnect_component_interface_terminal,
     interconnect_module_component_surface_feature,
     interconnect_module_component_terminal);
  END_TYPE; -- ap210_assembled_feature_select


  ENTITY Interconnect_component_interface_terminal
    SUBTYPE OF (Component_interface_terminal);
      connection : OPTIONAL connection_zone_in_design_view;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 SELF\component_feature.associated_component;
  END_ENTITY; -- interconnect_component_interface_terminal

  ENTITY Interconnect_component_join_terminal
    SUBTYPE OF (physical_component_terminal);
      connection                                  : OPTIONAL connection_zone_in_design_view;
      SELF\component_feature.associated_component : physical_component;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 SELF\component_feature.associated_component;
  END_ENTITY; -- interconnect_component_join_terminal

  ENTITY Interconnect_module_component
--    SUPERTYPE OF (interconnect_module_macro_component)
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : interconnect_module_usage_view;
  END_ENTITY; -- interconnect_module_component

  ENTITY Interconnect_module_component_surface_feature
    SUBTYPE OF (physical_component_feature);
      SELF\component_feature.definition : interconnect_module_surface_feature;
  END_ENTITY; -- interconnect_module_component_surface_feature

  ENTITY Interconnect_module_component_terminal
--    SUPERTYPE OF ((interconnect_module_component_stratum_based_terminal) ANDOR
-- (interconnect_module_macro_component_join_terminal))
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition           : interconnect_module_terminal;
      SELF\component_feature.associated_component : interconnect_module_component;
  END_ENTITY; -- interconnect_module_component_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_packaged_connector_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with packaged connector component - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_module_with_packaged_connector_component_arm;

USE FROM Packaged_connector_model_arm;

USE FROM Interface_component_arm;

USE FROM Assembly_module_design_arm;

 	TYPE amwpcc_assembled_feature_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON assembled_feature_select WITH   
    (Packaged_connector_component,
    Packaged_connector_component_interface_terminal);
  END_TYPE; -- ap210_assembled_feature_select

  ENTITY Interface_mounted_join;
      connection_to_interconnect_module_component : packaged_connector_component_interface_terminal;
      access_to_interface_mounted_component       : physical_component_terminal;
  END_ENTITY; -- interface_mounted_join

  ENTITY Packaged_connector_component
    SUBTYPE OF (Interface_component,
 packaged_component);
      SELF\definition_based_product_occurrence.derived_from : packaged_connector;
    INVERSE
      interface_access_mechanism : SET[1:?] OF packaged_connector_component_interface_terminal FOR associated_component;
  END_ENTITY; -- packaged_connector_component

  ENTITY Packaged_connector_component_interface_terminal
    SUBTYPE OF (Component_interface_terminal);
      SELF\component_feature.definition           : packaged_part_interface_terminal;
      SELF\component_feature.associated_component : packaged_connector_component;
  END_ENTITY; -- packaged_connector_component_interface_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_subassembly_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with subassembly - EXPRESS ARM
*)
SCHEMA Assembly_module_with_subassembly_arm;

USE FROM Assembly_module_design_arm;

USE FROM Physical_component_feature_arm;

 	TYPE amws_assembled_feature_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON assembled_feature_select WITH   
    (assembly_module_component_terminal);
  END_TYPE; -- ap210_assembled_feature_select

  ENTITY Assembly_module_component
--    SUPERTYPE OF (assembly_module_macro_component)
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : assembly_module_usage_view;
    INVERSE
      access_mechanisms : SET[2:?] OF assembly_module_component_terminal FOR associated_component;
  END_ENTITY; -- assembly_module_component

  ENTITY Assembly_module_component_terminal
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition           : assembly_module_terminal;
      SELF\component_feature.associated_component : assembly_module_component;
  END_ENTITY; -- assembly_module_component_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Cable_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Cable - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Cable_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Part_terminal_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Item_definition_structure_arm;

USE FROM Assembly_module_with_packaged_connector_component_arm;

USE FROM Component_feature_arm;

USE FROM Part_occurrence_arm;

  ENTITY Cable_terminal
    SUBTYPE OF (part_terminal);
      SELF\part_feature.associated_definition : cable_usage_view;
      mapped_terminal                         : packaged_connector_component_interface_terminal;
      terminal_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
    WHERE
      WR1 : SIZEOF(mapped_terminal\component_feature.associated_component\definition_based_product_occurrence.occurrence_contexts) <> 0;
      WR2 : SELF\shape_element.containing_shape :=: mapped_terminal\component_feature.associated_component\definition_based_product_occurrence.occurrence_contexts[1].related_view;
  END_ENTITY; -- cable_terminal

  ENTITY Cable_usage_view
    SUBTYPE OF (Part_usage_view, Assembly_definition);
    INVERSE
      access_mechanisms : SET[1:?] OF cable_terminal FOR associated_definition;
  END_ENTITY; -- cable_usage_view

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Basic_geometry_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Basic geometry - EXPRESS ARM
*)

SCHEMA Basic_geometry_arm;

USE FROM Elemental_geometric_shape_arm;

		TYPE constructive_element_select = EXTENSIBLE GENERIC_ENTITY SELECT 
		   (Axis_placement,  
		    Curve,  
		    point_select,  
		    Surface); 
		END_TYPE; 

     TYPE point_select = EXTENSIBLE GENERIC_ENTITY SELECT
        (Cartesian_point, 
         Point_on_curve, 
         Point_on_surface);
     END_TYPE; 
     
     ENTITY Curve
       SUBTYPE OF (Detailed_geometric_model_element);
     END_ENTITY;
     
     ENTITY Line
       SUBTYPE OF (Curve);
     END_ENTITY;
     
     ENTITY Plane
       SUBTYPE OF (Surface);
     END_ENTITY;
     
     ENTITY Point_on_curve
       SUBTYPE OF (Detailed_geometric_model_element);
       supporting_curve : Curve;
     END_ENTITY;
     
     ENTITY Point_on_surface
       SUBTYPE OF (Detailed_geometric_model_element);
       supporting_surface : Surface;
     END_ENTITY;
     
     ENTITY Surface
       SUBTYPE OF (Detailed_geometric_model_element);
     END_ENTITY;
     
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Basic_curve_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Basic curve - EXPRESS ARM
*)

SCHEMA Basic_curve_arm;

USE FROM Basic_geometry_arm;

USE FROM External_item_identification_assignment_arm;	

 	TYPE bc_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Boundary_curve);
	END_TYPE;

	ENTITY Boundary_curve
	  SUBTYPE OF (trimmed_curve);
	    basis_curve				: trimmed_curve;
    INVERSE
      mapping_function	: External_source_identification FOR item;
	WHERE
	 WR1: NOT('AP210_ARM.BOUNDARY_CURVE' IN TYPEOF(basis_curve));    
	 WR2: NOT('AP210_ARM.CLOSED_CURVE' IN TYPEOF(SELF));  
	 WR3: NOT('AP210_ARM.COMPOSITE_CURVE' IN TYPEOF(basis_curve));  
	 WR4: NOT('AP210_ARM.CLOSED_CURVE' IN TYPEOF(basis_curve));  
	END_ENTITY; -- boundary_curve

  ENTITY Closed_curve
    SUBTYPE OF (Curve);
  END_ENTITY; -- closed_curve

  ENTITY Composite_curve
    SUBTYPE OF (Curve);
      curve_segment : LIST[1:?] OF UNIQUE composite_curve_segment;
  END_ENTITY; -- composite_curve

  ENTITY Composite_curve_segment;
      segment_curve : curve;
    INVERSE
      using_curves : SET[1:?] OF composite_curve FOR curve_segment;
  END_ENTITY; -- composite_curve_segment

(* abf defined in construction_geometry_arm
	Entity Measurement_path;
	          defined_by : curve;
	          defined_in : geometric_coordinate_space;
	END_ENTITY; -- Measurement_path
*)
	ENTITY Trimmed_curve
	  SUPERTYPE OF (boundary_curve)
	  SUBTYPE OF (Curve);
	    start_point : cartesian_point;
	    end_point : cartesian_point;
	END_ENTITY; -- trimmed_curve

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Area_2d_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Area 2d - EXPRESS ARM
*)

SCHEMA Area_2d_arm;

USE FROM Basic_geometry_arm;

USE FROM Layered_2d_shape_arm;
	
USE FROM Value_with_unit_extension_arm;

  ENTITY Circular_area
    SUBTYPE OF (primitive_2d);
      centre : cartesian_point;
      radius : length_data_element;
  END_ENTITY; -- circular_area

  ENTITY Elliptic_area
    SUBTYPE OF (primitive_2d);
      position    : axis_placement_2d;
      semi_axis_1 : length_data_element;
      semi_axis_2 : length_data_element;
  END_ENTITY; -- elliptic_area

  ENTITY Polygonal_area
    SUBTYPE OF (primitive_2d);
      bounds : LIST[3:?] OF UNIQUE cartesian_point;
  END_ENTITY; -- polygonal_area

  ENTITY Primitive_2d
    ABSTRACT SUPERTYPE OF (ONEOF (circular_area,
 elliptic_area,
 rectangular_area,
 polygonal_area))
    SUBTYPE OF (Detailed_geometric_model_element);
  END_ENTITY; -- primitive_2d

  ENTITY Rectangular_area
    SUBTYPE OF (primitive_2d);
      position : axis_placement_2d;
      x        : length_data_element;
      y        : length_data_element;
  END_ENTITY; -- rectangular_area

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Fill_area_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Fill area - EXPRESS ARM
*)

SCHEMA Fill_area_arm;

USE FROM Basic_curve_arm;

USE FROM Styled_curve_arm;
	
USE FROM Value_with_unit_extension_arm;

USE FROM Layered_shape_arm; (** Layered_shape_arm is referenced just for the vector *)

	TYPE fa_styled_area_representation = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON styled_area_representation WITH 
		(fill_area_occurrence);
	END_TYPE;


  TYPE fill_area_style_tile_shape_select = SELECT
    (externally_defined_tile,
     fill_area_style_tile_symbol_with_style,
     fill_area_style_tile_solid_region,
     fill_area_style_tile_curve_with_style);
  END_TYPE; -- fill_area_style_tile_shape_select

  TYPE fill_style_select = SELECT
    (solid_fill_style,
     fill_area_style_tile,
     externally_defined_tile_style,
     externally_defined_hatch_style,
     fill_area_style_hatching);
  END_TYPE; -- fill_style_select

  ENTITY Externally_defined_hatch_style;
  END_ENTITY; -- externally_defined_hatch_style

  ENTITY Externally_defined_tile;
  END_ENTITY; -- externally_defined_tile

  ENTITY Externally_defined_tile_style;
  END_ENTITY; -- externally_defined_tile_style

  ENTITY Fill_area;
      boundaries : SET[1:?] OF closed_curve;
  END_ENTITY; -- fill_area

  ENTITY Fill_area_occurrence;
      style             : SET[1:?] OF fill_area_style;
      filled_area       : fill_area;
      fill_style_target : cartesian_point;
      boundary_style    : curve_style;
  END_ENTITY; -- fill_area_occurrence

  ENTITY Fill_area_style;
      name       : STRING;
      fill_style : fill_style_select;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- fill_area_style

  ENTITY Fill_area_style_hatching;
      hatch_line_appearance         : curve_style;
      start_of_next_hatch_line      : vector;
      point_of_reference_hatch_line : cartesian_point;
      pattern_start                 : cartesian_point;
      hatch_line_angle              : angle_data_element;
  END_ENTITY; -- fill_area_style_hatching

  ENTITY Fill_area_style_tile;
      first_direction_repeat_factor  : vector;
      second_direction_repeat_factor : vector;
      tile                           : fill_area_style_tile_shape_select;
      tiling_scale                   : INTEGER; -- positive_ratio_measure;
  END_ENTITY; -- fill_area_style_tile

  ENTITY Fill_area_style_tile_curve_with_style;
  END_ENTITY; -- fill_area_style_tile_curve_with_style

  ENTITY Fill_area_style_tile_solid_region;
  END_ENTITY; -- fill_area_style_tile_solid_region

  ENTITY Fill_area_style_tile_symbol_with_style;
  END_ENTITY; -- fill_area_style_tile_symbol_with_style
  
  ENTITY Solid_fill_style;
  END_ENTITY; -- solid_fill_style

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Component_feature_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Component feature - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Component_feature_arm;

	USE FROM Physical_unit_design_view_arm;
	
	USE FROM Shape_property_assignment_arm;	

	TYPE part_feature_or_template_feature = EXTENSIBLE GENERIC_ENTITY SELECT
		(Part_feature);
	END_TYPE;

  ENTITY Component_feature
    ABSTRACT SUBTYPE OF (shape_element);
      definition           : OPTIONAL part_feature_or_template_feature;
      SELF\shape_element.containing_shape RENAMED associated_component : assembly_component;
    UNIQUE
      UR1 : definition,
 associated_component;
  END_ENTITY; -- component_feature

  ENTITY Component_feature_make_from_relationship
		SUBTYPE OF (Component_feature_relationship);
      SELF\Shape_element_relationship.relating RENAMED reusable_feature	: component_feature;
      SELF\Shape_element_relationship.related RENAMED resultant_feature	: component_feature;
  END_ENTITY; -- component_feature_make_from_relationship

  ENTITY Component_feature_relationship
  	SUBTYPE OF (Shape_element_relationship);
      SELF\Shape_element_relationship.related  : component_feature;
      SELF\Shape_element_relationship.relating : component_feature;
  END_ENTITY; -- component_feature_relationship

  ENTITY Component_feature_to_physical_usage_view_assignment;
      defined_part_feature   : part_feature;
      assigned_design_object : component_feature;
    UNIQUE 
    	UR1 : assigned_design_object;
    	UR2 : defined_part_feature;
  END_ENTITY; -- component_feature_to_physical_usage_view_assignment

  ENTITY Component_terminal
    SUBTYPE OF (Component_feature);
      local_swappable  : OPTIONAL BOOLEAN;
      global_swappable : OPTIONAL BOOLEAN;
      swap_code        : OPTIONAL STRING;
  END_ENTITY; -- component_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_macro_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module macro definition - EXPRESS ARM
*)

SCHEMA Assembly_module_macro_definition_arm;

USE FROM Interconnect_module_with_macros_arm;

USE FROM Assembly_module_design_arm;

	SUBTYPE_CONSTRAINT assembly_module_terminal_subtypes FOR assembly_module_terminal; 
	((ONEOF (assembly_module_interface_terminal,
	 assembly_module_join_terminal)) ANDOR
	 (pca_terminal));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Assembly_module_join_terminal
    SUBTYPE OF (Assembly_module_terminal);
    INVERSE
      defining_terminal : component_feature_to_physical_usage_view_assignment FOR defined_part_feature;
    WHERE
      WR1 : 'AP210_ARM.INTERCONNECT_MODULE_JOIN_TERMINAL' IN TYPEOF(defining_terminal.assigned_terminal);
      WR2 : 'AP210_ARM.' + 'COMPONENT_TERMINAL_TO_ASSEMBLY_MODULE_JOIN_TERMINAL_ASSIGNMENT' IN TYPEOF(defining_terminal);
      WR3 : NOT (SIZEOF(USEDIN(SELF,
 '')) = 0) OR (SIZEOF(QUERY(ct <* USEDIN(SELF,
 '') | NOT ('AP210_ARM.ASSEMBLY_MODULE_MACRO_COMPONENT_JOIN_TERMINAL' IN TYPEOF(ct)))) = 0);
  END_ENTITY; -- assembly_module_join_terminal

  ENTITY Component_terminal_to_assembly_module_join_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
		SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal : assembly_module_join_terminal;
		SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal : interconnect_module_macro_component_join_terminal;
    UNIQUE
      ur1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_assembly_module_join_terminal_assignment


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Feature_and_connection_zone_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Feature and connection zone - EXPRESS ARM
*)

SCHEMA Feature_and_connection_zone_arm; 

USE FROM Shape_property_assignment_arm; 

  ENTITY Shape_feature
  	ABSTRACT SUPERTYPE
       SUBTYPE OF (shape_element);
   		connection_area : OPTIONAL SET[1:?] OF connection_zone;
  END_ENTITY;

  ENTITY Connection_zone
  	ABSTRACT SUBTYPE OF (shape_element);
    WHERE
      WR1 : SIZEOF(USEDIN(SELF, '')) >= 0;
  END_ENTITY; -- connection_zone

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Connectivity_allocation_to_physical_network_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Connectivity allocation to physical network - EXPRESS ARM
*)

SCHEMA Connectivity_allocation_to_physical_network_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm;

  ENTITY Connectivity_allocation_to_physical_network;
      implementation           : Generic_physical_network;
      connectivity_requirement : aggregate_connectivity_requirement;
    UNIQUE
      UR1 : implementation;
  END_ENTITY; -- connectivity_allocation_to_physical_network

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Electrical_network_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Electrical network definition - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Electrical_network_definition_arm;

USE FROM Network_functional_design_view_arm;

  ENTITY Electrical_network_definition
    SUBTYPE OF (Functional_unit_network_definition);
  END_ENTITY; -- electrical_network_definition
  
END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_decomposition_to_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional decomposition to design - EXPRESS ARM
*)

SCHEMA Functional_decomposition_to_design_arm;

USE FROM Design_management_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Characteristic_arm;

USE FROM Network_functional_design_view_arm;

	SUBTYPE_CONSTRAINT change_design_object_management_relationship_subtypes FOR change_design_object_management_relationship;             
	    (ONEOF (terminal_swap_specification,
	 	gate_path_swap_specification,
	 	component_swap_specification));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Component_swap_specification
    SUBTYPE OF (Change_design_object_management_relationship);
      SELF\change_design_object_management_relationship.current_design_object  : design_functional_unit_allocation_to_assembly_component;
      SELF\change_design_object_management_relationship.previous_design_object : design_functional_unit_allocation_to_assembly_component;
  END_ENTITY; -- component_swap_specification

  ENTITY Design_composition_path;
      path_element           : SET[1:?] OF functional_unit;
      design_functional_unit : functional_unit;
  END_ENTITY; -- design_composition_path

  ENTITY Design_functional_unit_allocation_to_assembly_component;
      functional_design_definition_path : design_composition_path;
      implementation                    : assembly_component;
      global_swappable                  : BOOLEAN;
      local_swappable                   : BOOLEAN;
      of_property                       : OPTIONAL SET[1:?] OF coordinated_characteristic;
      path_alias                        : STRING; --ee_name;
      swap_code                         : STRING;
    UNIQUE
      UR1 : implementation,
 path_alias;
  END_ENTITY; -- design_functional_unit_allocation_to_assembly_component

  ENTITY Design_functional_unit_allocation_to_reference_functional_unit;
      reference_definition_path : reference_composition_path;
      design_definition_path    : design_composition_path;
  END_ENTITY; -- design_functional_unit_allocation_to_reference_functional_unit

  ENTITY Gate_path_swap_specification
    SUBTYPE OF (Change_design_object_management_relationship);
      SELF\change_design_object_management_relationship.current_design_object  : design_functional_unit_allocation_to_reference_functional_unit;
      SELF\change_design_object_management_relationship.previous_design_object : design_functional_unit_allocation_to_reference_functional_unit;
  END_ENTITY; -- gate_path_swap_specification

  ENTITY Reference_composition_path;
      path_element              : SET[1:?] OF functional_unit;
      reference_functional_unit : functional_unit;
  END_ENTITY; -- reference_composition_path

  ENTITY Reference_functional_unit_assignment_to_part;
      functional_design_definition_path : reference_composition_path;
      implementation                    : part_view_definition;
      of_property                       : OPTIONAL SET[1:?] OF coordinated_characteristic;
      path_alias                        : STRING; --ee_name;
      swap_code                         : OPTIONAL STRING;
    UNIQUE
      UR1 : implementation,
 path_alias;
  END_ENTITY; 

  ENTITY Terminal_swap_specification
    SUBTYPE OF (Change_design_object_management_relationship);
      SELF\change_design_object_management_relationship.previous_design_object : functional_unit_terminal_node_assignment;
      SELF\change_design_object_management_relationship.current_design_object  : functional_unit_terminal_node_assignment;
  END_ENTITY; -- terminal_swap_specification

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_unit_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional unit requirement allocation - EXPRESS ARM
*)

SCHEMA Functional_unit_requirement_allocation_arm;

USE FROM Network_functional_design_view_arm;
USE FROM Requirement_assignment_arm;	

  ENTITY Functional_unit_requirement_allocation
    SUBTYPE OF (Requirement_assignment);
      SELF\requirement_assignment.assigned_to : functional_unit;
  END_ENTITY; -- functional_unit_requirement_allocation

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Design_specific_assignment_to_assembly_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Design specific assignment to assembly usage view - EXPRESS ARM
*)

SCHEMA Design_specific_assignment_to_assembly_usage_view_arm;

USE FROM Assembly_module_with_subassembly_arm;

USE FROM Assembly_module_with_interconnect_component_arm;

	SUBTYPE_CONSTRAINT component_feature_to_physical_usage_view_assignment_subtypes FOR component_feature_to_physical_usage_view_assignment;     
		ONEOF (component_terminal_to_assembly_module_interface_terminal_assignment,
		 component_terminal_to_pca_terminal_assignment);
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT physical_component_terminal_subtypes FOR physical_component_terminal; 
		(ONEOF (assembly_module_component_terminal,
		 bare_die_component_terminal,
		 interconnect_component_join_terminal,
		 interconnect_module_component_terminal,
		 minimally_defined_component_terminal,
		 packaged_component_join_terminal));
	END_SUBTYPE_CONSTRAINT;

	TYPE pca_interface_select = SELECT
	    (interconnect_module_component_terminal,
	     component_interface_terminal,
	     assembly_module_component_terminal);
  	END_TYPE;
 
  ENTITY Component_terminal_to_assembly_module_interface_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
    SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal : assembly_module_interface_terminal;
    SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal : pca_interface_select;
    UNIQUE
      UR1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_assembly_module_interface_terminal_assignment

  ENTITY Component_terminal_to_pca_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
    	SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal : pca_terminal;
    	SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal : pca_interface_select;
    UNIQUE
      UR1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_pca_terminal_assignment

END_SCHEMA; -- Information_assignment_to_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Design_specific_assignment_to_interconnect_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Design specific assignment to interconnect usage view - EXPRESS ARM
*)

SCHEMA Design_specific_assignment_to_interconnect_usage_view_arm;

USE FROM Fabrication_joint_arm;

USE FROM Interconnect_module_usage_view_arm;

USE FROM Land_arm;

USE FROM Layered_interconnect_module_with_printed_component_design_arm;

	SUBTYPE_CONSTRAINT component_feature_to_physical_usage_view_assignment_subtypes FOR component_feature_to_physical_usage_view_assignment;     
		ONEOF (component_terminal_to_interconnect_module_join_terminal_assignment,
		 component_terminal_to_interconnect_module_interface_terminal_assignment);
	END_SUBTYPE_CONSTRAINT;

 	TYPE interconnect_or_assembly_module_select = SELECT
 		(Component_termination_passage_interface_terminal,
     	Printed_connector_component_interface_terminal,
     	Non_functional_land_interface_terminal,
     	Land_interface_terminal);
	END_TYPE;

  ENTITY Component_terminal_to_interconnect_module_interface_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
      SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal	: interconnect_module_interface_terminal;
      SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal	: interconnect_or_assembly_module_select;
    UNIQUE
      UR1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_interconnect_module_interface_terminal_assignment

  ENTITY Component_terminal_to_interconnect_module_join_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
      SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal : interconnect_module_join_terminal;
      SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal	: fabricated_feature_select;
    UNIQUE
      UR1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_interconnect_module_join_terminal_assignment

  ENTITY Stratum_concept_to_physical_usage_view_assignment;
      assigned_design_object : stratum_concept;
      defined_part_feature   : part_feature;
      purpose                : OPTIONAL STRING; --ee_name;
    UNIQUE
    	UR1 : defined_part_feature;
    WHERE
      WR1 : NOT ('AP210_ARM.INTERCONNECT_MODULE_TERMINAL' IN TYPEOF(defined_part_feature));
  END_ENTITY; -- stratum_concept_to_physical_usage_view_assignment

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_module_to_assembly_module_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect module to assembly module relationship - EXPRESS ARM
*)
SCHEMA Interconnect_module_to_assembly_module_relationship_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Assembly_module_design_arm;

USE FROM Interconnect_module_connection_routing_arm;

  TYPE component_based_message_type = ENUMERATION OF
    (component_reference_designation,
     terminal_designation);
  END_TYPE; -- component_based_message_type

 	TYPE component_or_component_feature = SELECT
 		(assembly_component,
	     component_external_reference,
	     component_feature,
	     component_feature_external_reference);
	END_TYPE;

	TYPE imtar_bare_die_component_or_packaged_component = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON bare_die_component_or_packaged_component WITH  
    (packaged_component,
     bare_die_component);
  END_TYPE; -- bare_die_component_or_packaged_component

	TYPE imtar_bare_die_terminal_or_packaged_part_terminal = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON bare_die_terminal_or_packaged_part_terminal WITH  
    (bare_die_terminal,
     packaged_part_terminal);
  END_TYPE; -- ap210_bare_die_terminal_or_packaged_part_terminal

	TYPE imtar_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Component_feature_to_layout_feature_relationship);
	END_TYPE; 

	TYPE imtar_restriction_basis_item = EXTENSIBLE SELECT BASED_ON restriction_basis_item WITH 
	   (component_or_component_feature);
	END_TYPE; 

	TYPE imtar_specification_product_object_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON specification_product_object_select WITH 
	    (component_or_component_feature);
	END_TYPE;

	ENTITY Assembly_requirement_for_interconnect_relationship 
 		SUBTYPE OF (part_definition_relationship);
			SELF\View_definition_relationship.related_view	: Interconnect_module;
      SELF\View_definition_relationship.relating_view	: Assembly_module;
	END_ENTITY;
   
  ENTITY Component_based_annotation_symbol_placement_relationship
    SUBTYPE OF (Component_feature_to_layout_feature_relationship);
      SELF\component_feature_to_layout_feature_relationship.related_stratum_concept : special_symbol_laminate_component;
  END_ENTITY; -- component_based_annotation_symbol_placement_relationship

  ENTITY Component_based_annotation_text_relationship
    SUBTYPE OF (Component_feature_to_layout_feature_relationship);
      SELF\component_feature_to_layout_feature_relationship.related_stratum_concept : laminate_text_string_component;
      message_type                                                                  : component_based_message_type;
  END_ENTITY; -- component_based_annotation_text_relationship

  ENTITY Component_feature_to_layout_feature_relationship;
      related_stratum_concept : stratum_concept;
      relating_feature        : component_or_component_feature;
(** Need WR to contrain cardinality
      requirement             : OPTIONAL Requirement_definition_property;
*)      
  END_ENTITY; -- component_feature_to_layout_feature_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Fabrication_requirement_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Fabrication requirement - EXPRESS ARM
*)

SCHEMA Fabrication_requirement_arm; 

USE FROM Requirement_decomposition_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Characteristic_arm;

USE FROM Manufacturing_technology_arm;

  TYPE metal_or_dielectric = ENUMERATION OF
    (over_finished_conductor,
     over_finished_dielectric);
  END_TYPE; -- metal_or_dielectric

  ENTITY Fabrication_thickness_requirement_occurrence
    SUBTYPE OF (Inspection_requirement_occurrence);
      characterized_class       : metal_or_dielectric;
      characterized_class_range : range_characteristic;
      tolerance                 : tolerance_characteristic;
  END_ENTITY; -- fabrication_thickness_requirement_occurrence

  ENTITY Layout_land_width_tolerance_requirement_occurrence
    SUBTYPE OF (Inspection_requirement_occurrence);
      mating_feature_pitch_class : pitch_class;
      maximum_negative_deviation : length_data_element;
  END_ENTITY; -- layout_land_width_tolerance_requirement_occurrence

  ENTITY Layout_line_width_tolerance_requirement_occurrence
    SUBTYPE OF (Inspection_requirement_occurrence);
      characterized_stratum_technology : stratum_technology;
      tolerance_line_width_class       : line_width_class;
      maximum_negative_deviation       : length_data_element;
      maximum_positive_deviation       : length_data_element;
  END_ENTITY; -- layout_line_width_tolerance_requirement_occurrence

  ENTITY Line_width_class;
      class_member : range_characteristic;
      class_name   : STRING; --ee_name;
    WHERE
      WR1 : SIZEOF(QUERY(np <* class_member\characteristic_representation.items | NOT ('AP210_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(np)))) = 0;
  END_ENTITY; -- line_width_class

  ENTITY Pitch_class;
      class_member : range_characteristic;
      class_name   : STRING; --ee_name;
    WHERE
      WR1 : SIZEOF(QUERY(np <* class_member\characteristic_representation.items | NOT ('AP210_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(np)))) = 0;
  END_ENTITY; -- pitch_class

	SUBTYPE_CONSTRAINT inspection_requirement_occurrence_subtypes FOR inspection_requirement_occurrence;     
	    (ONEOF (layout_line_width_tolerance_requirement_occurrence,
	 layout_land_width_tolerance_requirement_occurrence,
	 fabrication_thickness_requirement_occurrence));
	END_SUBTYPE_CONSTRAINT;    

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layout_macro_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layout macro definition - EXPRESS ARM
*)

SCHEMA Layout_macro_definition_arm; 

USE FROM Printed_physical_layout_template_arm;
USE FROM Fabrication_joint_arm;
USE FROM Layered_interconnect_module_with_printed_component_design_arm;
USE FROM Physical_unit_design_view_arm;

	SUBTYPE_CONSTRAINT printed_part_template_subtypes FOR printed_part_template;  
		 (ONEOF (layout_macro_floor_plan_template,
		 printed_connector_template));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Layout_macro_component
    SUBTYPE OF (printed_component);
      design_definition                       	: layout_macro_definition;
      SELF\printed_component.derived_from		: layout_macro_floor_plan_template;
    WHERE
      WR1 : NOT (EXISTS(SELF\printed_component.stratum_feature_implementation)) AND NOT (EXISTS(SELF\printed_component.printed_component_stack)) AND NOT (EXISTS(SELF\printed_component.associated_precedent_link)) AND NOT (EXISTS(SELF\printed_component.associated_subsequent_link)) AND NOT (EXISTS(SELF\printed_component.required_material_stack));
      WR2 : NOT (EXISTS(SELF\printed_component.footprint_implementation));
  END_ENTITY; -- layout_macro_component

  ENTITY Layout_macro_definition
    SUBTYPE OF (pcb);
      floor_layout_view : layout_macro_floor_plan_template;
    WHERE
      WR1 : NOT (EXISTS(SELF\part_design_view.usage_view));
      WR2 : NOT (EXISTS(SELF\interconnect_module.assembly_design_requirement));
      WR3 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.DEFINITION_BASED_PRODUCT_OCCURRENCE.DERIVED_FROM')) = 0;
  END_ENTITY; -- layout_macro_definition

  ENTITY Layout_macro_definition_terminal_to_usage_terminal_assignment;
      defined_template_feature : printed_part_template_terminal;
      assigned_design_object   : fabricated_feature_select;
    WHERE
      WR1 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.LAYOUT_MACRO_FLOOR_PLAN_TEMPLATE.ACCESS_MAPS')) = 1;
  END_ENTITY; -- layout_macro_definition_terminal_to_usage_terminal_assignment

  ENTITY Layout_macro_floor_plan_template
    SUBTYPE OF (printed_part_template);
      access_maps : SET[1:?] OF layout_macro_definition_terminal_to_usage_terminal_assignment;
    INVERSE
      macro_definition : SET[0:1] OF layout_macro_definition FOR floor_layout_view;
    WHERE
      WR1 : NOT (EXISTS(SELF\printed_part_template.of_stratum_technology)) AND NOT (EXISTS(SELF\printed_part_template.material_stack)) AND NOT (EXISTS(SELF\printed_part_template.printed_part_template_stack));
  END_ENTITY; -- layout_macro_floor_plan_template

SUBTYPE_CONSTRAINT printed_component_subtypes FOR printed_component;  
(ONEOF (layout_macro_component,
 printed_connector_component,
 routed_printed_component));
END_SUBTYPE_CONSTRAINT;  

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Manifold_subsurface_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Manifold subsurface - EXPRESS ARM
*)

SCHEMA Manifold_subsurface_arm;

USE FROM Manifold_surface_arm;

USE FROM Elemental_geometric_shape_arm;

  TYPE open_shell_or_subsurface = SELECT
    (manifold_surface_shape_representation,
     manifold_subsurface_shape);
  END_TYPE; -- open_shell_or_subsurface

  ENTITY Manifold_subsurface_shape
    SUBTYPE OF (Geometric_model);
      parent_surface : open_shell_or_subsurface;
    WHERE
      WR1 : SELF :<>: parent_surface;
      WR2 : SELF\geometric_model.context_of_items :=: parent_surface\geometric_model.context_of_items;
  END_ENTITY; -- manifold_subsurface_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Non_feature_shape_element_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Non feature shape element - EXPRESS ARM
*)

SCHEMA Non_feature_shape_element_arm; 

USE FROM Shape_property_assignment_arm; 

USE FROM Basic_geometry_arm;

USE FROM Layered_2d_shape_arm;

REFERENCE FROM Part_feature_location_arm;
  
  TYPE ee_product_definition_with_annotation_elements = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;

	TYPE nfse_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(Non_feature_shape_element);
	END_TYPE;

	
  TYPE view_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;
  
  ENTITY Non_feature_shape_composition_relationship
    SUBTYPE OF (Geometric_model_relationship);
      related_feature_shape_placement : OPTIONAL axis_placement_or_cto2d;
      SELF\Geometric_model_relationship.rep_1 RENAMED related_feature_shape   : non_feature_shape_definition;
      SELF\Geometric_model_relationship.rep_2 RENAMED resultant_feature_shape : non_feature_shape_definition;
    WHERE
      WR1 : EXISTS(related_feature_shape_placement) OR (related_feature_shape\representation.context_of_items :=: resultant_feature_shape\representation.context_of_items);
  END_ENTITY; -- non_feature_shape_composition_relationship

  ENTITY Non_feature_shape_definition
    SUBTYPE OF (Geometric_model);
      associated_element : non_feature_shape_element;
      model_shape        : OPTIONAL feature_shape_definition;
  END_ENTITY; -- non_feature_shape_definition

  ENTITY Non_feature_shape_element
    SUBTYPE OF (shape_element);
      SELF\Shape_element.containing_shape RENAMED scope : ee_product_definition_with_annotation_elements;
    INVERSE
      element_shape            : SET[0:?] OF non_feature_shape_definition FOR associated_element;
      associated_usage_concept : SET[0:?] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 scope;
    WHERE
      WR1 : (NOT (SIZEOF(associated_usage_concept) > 0)) OR (SIZEOF(element_shape) > 0);
  END_ENTITY; -- non_feature_shape_element

  ENTITY Non_feature_shape_element_relationship
    SUBTYPE OF (shape_element_relationship);
      SELF\shape_element_relationship.related : non_feature_shape_element;
      SELF\shape_element_relationship.relating : non_feature_shape_element;
    UNIQUE
      UR1 : SELF\shape_element_relationship.related,
 SELF\shape_element_relationship.relating;
  END_ENTITY; -- non_feature_shape_element_relationship

   ENTITY Reference_graphic_registration_mark
    SUBTYPE OF (Non_feature_shape_element);
  END_ENTITY; -- reference_graphic_registration_mark

  ENTITY Seating_plane
    SUBTYPE OF (Non_feature_shape_element);
  END_ENTITY; -- seating_plane

  ENTITY View_level_non_feature_shape_definition
    SUBTYPE OF (Non_feature_shape_definition);
      SELF\non_feature_shape_definition.model_shape : view_shape_select;
    WHERE
      WR1 : SELF\geometric_model.context_of_items = SELF\non_feature_shape_definition.model_shape\geometric_model.context_of_items;
  END_ENTITY; -- view_level_non_feature_shape_definition

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Packaged_connector_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Packaged connector model - EXPRESS ARM
*)

SCHEMA Packaged_connector_model_arm; 

USE FROM Packaged_part_black_box_model_arm;

	SUBTYPE_CONSTRAINT packaged_part_terminal_subtypes FOR packaged_part_terminal; 
		(ONEOF (packaged_part_interface_terminal,
	 	packaged_part_join_terminal));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Packaged_connector
    SUBTYPE OF (packaged_part);
    INVERSE
      characterized_connector_terminal_relationship : SET[1:?] OF packaged_connector_terminal_relationship FOR connector;
  END_ENTITY; -- packaged_connector
	
  ENTITY Packaged_connector_terminal_relationship;
      connector          : packaged_connector;
      join_terminal      : packaged_part_join_terminal;
      interface_terminal : packaged_part_interface_terminal;
    UNIQUE
      UR1 : join_terminal;
      UR2 : interface_terminal,
 connector;
  END_ENTITY; -- packaged_connector_terminal_relationship

  ENTITY Packaged_part_interface_terminal
    SUBTYPE OF (packaged_part_terminal);
    INVERSE
      external_connector_function : SET[0:?] OF packaged_connector_terminal_relationship FOR interface_terminal;
  END_ENTITY; -- packaged_part_interface_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_external_reference_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part external reference - EXPRESS ARM
*)

SCHEMA Part_external_reference_arm;

USE FROM Physical_layout_template_arm;

  TYPE physical_unit_or_part_template = SELECT
    (layout_template_definition,
     part_view_definition);
  END_TYPE;

  ENTITY Package_external_reference;
      design_owner          : STRING;
      part_number           : STRING;
      revision_code         : STRING;
      product_definition_id : STRING;
  END_ENTITY; -- package_external_reference
  
  ENTITY Package_terminal_external_reference;
      associated_definition : package_external_reference;
      name                  : STRING;
    UNIQUE
      UR1 : associated_definition,
 name;
  END_ENTITY; -- package_terminal_external_reference

  ENTITY Part_terminal_external_reference;
      associated_definition : physical_unit_or_part_template;
      feature_name          : STRING; --ee_name;
      feature_type          : STRING; --ee_name;
    UNIQUE
      UR1 : associated_definition,
 feature_name,
 feature_type;
  END_ENTITY; -- part_terminal_external_reference

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_feature_function_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part feature function - EXPRESS ARM
*)

SCHEMA Part_feature_function_arm;

  USE FROM Physical_unit_usage_view_arm;
   
	USE FROM Geometric_tolerance_arm (single_datum);

  ENTITY Fiducial_part_feature
    SUBTYPE OF (part_tooling_feature);
  END_ENTITY; -- fiducial_part_feature

  ENTITY Part_interface_access_feature
    SUBTYPE OF (part_feature);
      accessed_interface    : part_feature;
      interface_access_area : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
    WHERE
      WR1 : SELF\part_feature.material_state_change = material_removal;
      WR2 : SELF <> accessed_interface;
      WR3 : NOT ('AP210_ARM.PART_TERMINAL' IN TYPEOF(SELF));
      WR4 : NOT ('AP210_ARM.PACKAGE_BODY' IN TYPEOF(SELF));
      WR5 : NOT ('AP210_ARM.PART_MOUNTING_FEATURE' IN TYPEOF(SELF));
      WR6 : NOT ('AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE' IN TYPEOF(SELF));
      WR7 : NOT ('AP210_ARM.PACKAGE_TERMINAL' IN TYPEOF(SELF));
      WR8 : NOT ('AP210_ARM.PACKAGE_BODY_SURFACE' IN TYPEOF(SELF));
      WR9 : NOT ('AP210_ARM.POLARITY_INDICATION_FEATURE' IN TYPEOF(SELF));
  END_ENTITY; -- part_interface_access_feature

  ENTITY Part_mating_feature
    SUBTYPE OF (part_feature);
      mating_area : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
    WHERE
      WR1 : NOT ('AP210_ARM.PART_MOUNTING_FEATURE' IN TYPEOF(SELF));
      WR2 : NOT ('AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE' IN TYPEOF(SELF));
      WR3 : NOT ('AP210_ARM.PACKAGE_TERMINAL' IN TYPEOF(SELF));
      WR4 : NOT ('AP210_ARM.PART_TERMINAL' IN TYPEOF(SELF));
  END_ENTITY; -- part_mating_feature

  ENTITY Part_mounting_feature
--    SUPERTYPE OF (bare_die_surface)
    SUBTYPE OF (part_feature);
      mounting_area : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
  END_ENTITY; -- part_mounting_feature

  ENTITY Part_tooling_feature
    SUPERTYPE OF (ONEOF (fiducial_part_feature,
 tool_registration_mark) ANDOR
 test_point_part_feature)
    SUBTYPE OF (part_feature);
  END_ENTITY; -- part_tooling_feature

  ENTITY Test_point_part_feature
    SUBTYPE OF (part_tooling_feature);
  END_ENTITY; -- test_point_part_feature

  ENTITY Thermal_feature
    SUBTYPE OF (part_feature);
  END_ENTITY; -- thermal_feature

  ENTITY Tool_registration_mark
    SUBTYPE OF (part_tooling_feature);
  END_ENTITY; -- tool_registration_mark

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_feature_grouping_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part feature grouping - EXPRESS ARM
*)

 SCHEMA Part_feature_grouping_arm;
 
   USE FROM Shape_composition_arm;
   
   USE FROM Physical_unit_usage_view_arm;
   
   USE FROM Value_with_unit_extension_arm;

  ENTITY Part_array_feature
    ABSTRACT SUPERTYPE OF (ONEOF (part_linear_array_feature,
 part_rectangular_array_feature))
    SUBTYPE OF (part_group_feature);
  END_ENTITY; -- part_array_feature

  ENTITY Part_feature_placement_link;
      precedent_element  : part_feature;
      subsequent_element : part_feature;
    INVERSE
      referenced_by : part_linear_array_feature FOR element;
  END_ENTITY; -- part_feature_placement_link
   
  ENTITY Part_group_feature
    SUPERTYPE OF (part_array_feature)
    SUBTYPE OF (part_feature,
 composite_shape_element);
  END_ENTITY; -- part_group_feature

  ENTITY Part_linear_array_feature
    SUBTYPE OF (part_array_feature);
      element                               : SET[1:?] OF part_feature_placement_link;
      initial_node_positive_x_displacement  : length_data_element;
      terminus_node_positive_x_displacement : length_data_element;
      location_uncertainty                  : length_data_element;
  END_ENTITY; -- part_linear_array_feature

  ENTITY Part_linear_array_feature_link;
      precedent_element  : part_linear_array_feature;
      subsequent_element : part_linear_array_feature;
    INVERSE
      referenced_by : part_rectangular_array_feature FOR element;
  END_ENTITY; -- part_linear_array_feature_link

  ENTITY Part_rectangular_array_feature
    SUBTYPE OF (part_array_feature);
      element                              : SET[1:?] OF part_linear_array_feature_link;
      initial_row_positive_y_displacement  : length_data_element;
      terminus_row_positive_y_displacement : length_data_element;
      location_uncertainty                 : length_data_element;
  END_ENTITY; -- part_rectangular_array_feature

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_feature_location_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part feature location - EXPRESS ARM
*)

SCHEMA Part_feature_location_arm;

USE FROM Layered_2d_shape_arm;

REFERENCE FROM Non_feature_shape_element_arm 
	(Non_feature_shape_definition,
	View_level_non_feature_shape_definition);

	TYPE feature_or_non_feature_usage = SELECT 
		(part_template_or_physical_unit_shape_select,
		View_level_non_feature_shape_definition);
	END_TYPE;

 	TYPE part_template_or_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

	TYPE usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  ENTITY Usage_concept_usage_relationship;
      associating_usage_shape     : feature_or_non_feature_usage;
      associated_usage            : usage_concept;
      associated_shape_definition : geometric_model;
      associated_usage_placement  : axis_placement_or_cto2d;
    WHERE
      WR1 : (('AP210_ARM.NON_FEATURE_SHAPE_DEFINITION' IN TYPEOF(associated_shape_definition)) AND ('AP210_ARM.NON_FEATURE_SHAPE_DEFINITION' IN TYPEOF(associating_usage_shape))) OR (('AP210_ARM.FEATURE_SHAPE_DEFINITION' IN TYPEOF(associated_shape_definition)) AND ('AP210_ARM.FEATURE_SHAPE_DEFINITION' IN TYPEOF(associating_usage_shape)));
      WR2 : NOT ('AP210_ARM.cartesian_transformation_2d' IN TYPEOF(associated_usage_placement)) OR ('AP210_ARM.NON_FEATURE_SHAPE_DEFINITION' IN TYPEOF(associating_usage_shape));
  END_ENTITY; -- usage_concept_usage_relationship


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_2d_shape_representation_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered 2d shape representation relationship - EXPRESS ARM
*)

SCHEMA Layered_2d_shape_representation_relationship_arm; 

USE FROM Part_template_2d_shape_arm;

USE FROM Physical_unit_2d_shape_arm;

	TYPE l2dsrr_part_template_or_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON part_template_or_physical_unit_shape_select WITH 
 		(part_template_or_physical_unit_2d_shape_select);
	END_TYPE;

  TYPE part_template_or_physical_unit_2d_shape_select = SELECT
    (part_template_planar_shape,
     physical_unit_planar_shape);
  END_TYPE; -- part_template_or_physical_unit_2d_shape_select
  
  ENTITY Part_template_or_physical_unit_2d_shape_representation_relationship
  	SUBTYPE OF (Geometric_model_relationship);
      SELF\Geometric_model_relationship.rep_1 RENAMED principal_part_shape : part_template_or_physical_unit_2d_shape_select;
      SELF\Geometric_model_relationship.rep_1 RENAMED related_part_shape   : part_template_or_physical_unit_2d_shape_select;
    UNIQUE
      UR1 : principal_part_shape,
 related_part_shape;
    WHERE
      WR1 : principal_part_shape :<>: related_part_shape;
  END_ENTITY; -- part_template_or_physical_unit_2d_shape_representation_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_3d_shape_representation_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered 3d shape representation relationship - EXPRESS ARM
*)

SCHEMA Layered_3d_shape_representation_relationship_arm; 

USE FROM Part_template_3d_shape_arm;

USE FROM Part_template_non_planar_shape_arm;

USE FROM Physical_unit_3d_shape_arm;

	TYPE l3dsrr_part_template_or_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON part_template_or_physical_unit_shape_select WITH 
 		(part_template_or_physical_unit_3d_shape_select);
	END_TYPE;

  TYPE part_template_or_physical_unit_3d_shape_select = SELECT
    (part_template_3d_shape,
     part_template_non_planar_2d_shape,
     physical_unit_3d_shape);
  END_TYPE; -- part_template_or_physical_unit_3d_shape_select

  ENTITY Part_template_or_physical_unit_3d_shape_representation_relationship
  	SUBTYPE OF (Geometric_model_relationship);
      SELF\Geometric_model_relationship.rep_1 RENAMED principal_part_shape : part_template_or_physical_unit_3d_shape_select;
      SELF\Geometric_model_relationship.rep_1 RENAMED related_part_shape   : part_template_or_physical_unit_3d_shape_select;
    UNIQUE
      UR1 : principal_part_shape,
 related_part_shape;
    WHERE
      WR1 : principal_part_shape :<>: related_part_shape;
  END_ENTITY; -- part_template_or_physical_unit_3d_shape_representation_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_extension_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template extension - EXPRESS ARM
*)

SCHEMA Part_template_extension_arm;

USE FROM Styled_text_arm;

USE FROM Manufacturing_technology_arm;

USE FROM Styled_curve_arm;

REFERENCE FROM Layered_interconnect_module_design_arm (Interconnect_module);

	SUBTYPE_CONSTRAINT material_addition_feature_template_subtypes FOR material_addition_feature_template; 
		(ONEOF (snowball_template,
		 teardrop_by_angle_template,
		 teardrop_by_length_template));
	END_SUBTYPE_CONSTRAINT; 

  ENTITY Default_trace_template
    SUBTYPE OF (trace_template);
      of_stratum_technology : stratum_technology;
  END_ENTITY; -- default_trace_template

  ENTITY Part_text_template
    SUBTYPE OF (Layout_template_definition);
      font                                    : OPTIONAL font_select;
      maximum_font_positive_horizontal_extent : OPTIONAL length_data_element;
      maximum_font_positive_vertical_extent   : OPTIONAL length_data_element;
      maximum_font_negative_horizontal_extent : OPTIONAL length_data_element;
      maximum_font_negative_vertical_extent   : OPTIONAL length_data_element;
      slant_angle                             : OPTIONAL angle_data_element;
      stroke_width                            : OPTIONAL length_data_element;
    WHERE
      WR1 : EXISTS(maximum_font_positive_horizontal_extent) OR EXISTS(maximum_font_positive_vertical_extent) OR EXISTS(maximum_font_negative_horizontal_extent) OR EXISTS(maximum_font_negative_vertical_extent) OR EXISTS(slant_angle) OR EXISTS(stroke_width) OR EXISTS(font);
  END_ENTITY; -- part_text_template

  ENTITY Reference_packaged_part_interconnect_implementation
    SUBTYPE OF (Interconnect_module);
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | NOT (SIZEOF(QUERY(epcr <* USEDIN(prpc,
 'AP210_ARM.PRODUCT_CATEGORY_HIERARCHY.SUPER_CATEGORY') | (epcr.sub_category\product_category.name = 'template model'))) = 1))) = 0;
  END_ENTITY; -- reference_packaged_part_interconnect_implementation

  ENTITY Snowball_template
    SUBTYPE OF (Material_addition_feature_template);
      snowball_start_distance     : length_data_element;
      snowball_end_distance       : OPTIONAL length_data_element;
      snowball_initial_spacing    : OPTIONAL length_data_element;
      snowball_end_spacing        : OPTIONAL length_data_element;
      snowball_initial_radius     : length_data_element;
      snowball_end_radius         : OPTIONAL length_data_element;
      snowball_quantity_per_trace : INTEGER; -- positive_integer;
    WHERE
      WR1 : NOT (snowball_quantity_per_trace > 1) OR (EXISTS(snowball_initial_spacing) AND EXISTS(snowball_end_spacing) AND EXISTS(snowball_end_distance) AND EXISTS(snowball_end_radius));
  END_ENTITY; -- snowball_template

  ENTITY Special_symbol_part_template
    SUBTYPE OF (Layout_template_definition);
      of_stratum_technology : OPTIONAL SET[1:?] OF stratum_technology;
  END_ENTITY; -- special_symbol_part_template

  ENTITY Teardrop_by_angle_template
    SUBTYPE OF (Material_addition_feature_template);
      teardrop_angle : angle_data_element;
  END_ENTITY; -- teardrop_by_angle_template

  ENTITY Teardrop_by_length_template
    SUBTYPE OF (Material_addition_feature_template);
      teardrop_taper_start_distance : length_data_element;
      teardrop_taper_end_distance   : length_data_element;
  END_ENTITY; -- teardrop_by_length_template

  ENTITY Trace_template
    SUPERTYPE OF (default_trace_template)
    SUBTYPE OF (Layout_template_definition);
      trace_style : curve_style;
  END_ENTITY; -- trace_template

END_SCHEMA; -- Part_template_extension_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_terminal_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part terminal - EXPRESS ARM
*)

SCHEMA Part_terminal_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Network_functional_usage_view_arm;

  ENTITY Functional_usage_view_to_part_terminal_assignment;
      physical_usage_view_terminal   : part_terminal;
      functional_usage_view_terminal : scalar_terminal_definition;
    UNIQUE
      UR1 : functional_usage_view_terminal,
 physical_usage_view_terminal;
  END_ENTITY; -- functional_usage_view_to_part_terminal_assignment

  ENTITY Part_connected_terminals_definition;
      associated_definition : part_usage_view;
      connected_terminals   : SET[2:?] OF part_terminal;
      name                  : STRING; --ee_name;
    UNIQUE
      UR1 : name,
 associated_definition;
    WHERE
      WR1 : SIZEOF(QUERY(ct <* connected_terminals | NOT (associated_definition = ct\shape_element.containing_shape))) = 0;
  END_ENTITY; -- part_connected_terminals_definition

  ENTITY Part_terminal
    ABSTRACT SUPERTYPE
    SUBTYPE OF (part_feature);
    INVERSE
      connection_requirement         : SET[0:1] OF part_connected_terminals_definition FOR connected_terminals;
      functional_usage_view_terminal : SET[0:1] OF functional_usage_view_to_part_terminal_assignment FOR physical_usage_view_terminal;
  END_ENTITY; -- part_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_component_feature_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical component feature - EXPRESS ARM
*)

SCHEMA Physical_component_feature_arm; 

USE FROM Component_feature_arm;

  ENTITY Physical_component_feature
    SUBTYPE OF (Component_feature);
  END_ENTITY; -- physical_component_feature

  ENTITY Physical_component_terminal
    ABSTRACT SUPERTYPE
    SUBTYPE OF (Component_terminal,
 			physical_component_feature);
(* For Lothar *) 			
(** Need to encode it as Global rule               			
    INVERSE
      connected_node : SET[0:1] OF physical_connectivity_definition FOR associated_terminals;
*)      
  END_ENTITY; -- physical_component_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_node_requirement_to_implementing_component_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical node requirement to implementing component allocation - EXPRESS ARM
*)

SCHEMA Physical_node_requirement_to_implementing_component_allocation_arm;

USE FROM Functional_design_elaboration_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Assembly_module_with_packaged_connector_component_arm;

USE FROM Part_terminal_arm;

USE FROM Packaged_connector_model_arm;

USE FROM Component_feature_arm;

USE FROM Interface_component_arm;

USE FROM Assembly_technology_arm;

  ENTITY Physical_node_requirement_to_implementing_component_allocation;
      physical_node_requirement          : physical_connectivity_definition;
      implementation_component           : assembly_component;
      implementation_interface_joint_set : OPTIONAL SET[1:?] OF interface_mounted_join;
      implementation_joint_set           : OPTIONAL SET[1:?] OF assembly_joint;
    DERIVE
      implementation_connection_definition_1 : SET[0:1] OF part_connected_terminals_definition := get_pctd(implementation_component,
 implementation_joint_set);
      implementation_connection_definition_2 : SET[0:1] OF packaged_connector_terminal_relationship := get_pctr(implementation_component,
 implementation_interface_joint_set);
    WHERE
      WR1 : EXISTS(implementation_interface_joint_set) XOR EXISTS(implementation_joint_set);
      WR2 : (SIZEOF(implementation_connection_definition_1) + SIZEOF(implementation_connection_definition_2) = 1) OR (('AP210_ARM.INTERFACE_COMPONENT' IN TYPEOF(implementation_component)) AND ('AP210_ARM.COMPONENT_INTERFACE_TERMINAL' IN TYPEOF(get_cit(implementation_component,
 implementation_joint_set)))) OR ('AP210_ARM.ROUTED_INTERCONNECT_COMPONENT' IN TYPEOF(implementation_component));
      WR3 : SIZEOF(QUERY(pct <* physical_node_requirement.associated_terminals | pct\component_feature.associated_component = implementation_component)) = 0;
  END_ENTITY; -- physical_node_requirement_to_implementing_component_allocation

  FUNCTION get_cit(
    ac  : assembly_component ;
    ajb : SET OF assembly_joint
  ) : component_interface_terminal;

    LOCAL
      cf  : LIST[1:?] OF component_feature := [];
      cit : component_interface_terminal;
    END_LOCAL;

    REPEAT i := 1 TO 2 BY 1;
      cf[1] := ajb[1].assembly_features_1;
      cf[2] := ajb[1].assembly_features_2;
      IF ac :=: cf[i].associated_component THEN
        IF ('AP210_ARM.INTERFACE_COMPONENT' IN TYPEOF(cf[i].associated_component)) THEN
          RETURN(cf[i]);
        ELSE
          RETURN(?);
        END_IF;
      ELSE
        RETURN(?);
      END_IF;
    END_REPEAT;
    RETURN(?);
  END_FUNCTION; -- get_cit

  FUNCTION get_pctd(
    ac  : assembly_component ;
    ajb : SET OF assembly_joint
  ) : SET OF part_connected_terminals_definition;

    LOCAL
      cf   : LIST[1:?] OF component_feature;
      pctd : SET OF part_connected_terminals_definition := [];
    END_LOCAL;

    REPEAT i := 1 TO 2 BY 1;
      cf[1] := ajb[1].assembly_features_1;
      cf[2] := ajb[1].assembly_features_2;
      IF ac :=: cf[i].associated_component THEN
        IF ('AP210_ARM.PART_TERMINAL' IN TYPEOF(cf[i].definition)) THEN
          pctd := cf[i].definition.connection_requirement;
          RETURN(pctd);
        ELSE
          RETURN(pctd);
        END_IF;
      ELSE
        RETURN(pctd);
      END_IF;
    END_REPEAT;
    RETURN(?);
  END_FUNCTION; -- get_pctd

  FUNCTION get_pctr(
    ac   : assembly_component ;
    imjb : SET OF interface_mounted_join
  ) : SET OF packaged_connector_terminal_relationship;

    LOCAL
      cf   : component_feature;
      pctr : SET OF packaged_connector_terminal_relationship := [];
    END_LOCAL;

    cf := imjb[1].connection_to_interconnect_module_component;
    IF ac :=: cf.associated_component THEN
      IF ('AP210_ARM.PACKAGED_PART_INTERFACE_TERMINAL' IN TYPEOF(cf.definition)) THEN
        pctr := cf.definition.external_connector_function;
        RETURN(pctr);
      ELSE
        RETURN(pctr);
      END_IF;
    ELSE
      RETURN(pctr);
    END_IF;
    RETURN(?);
  END_FUNCTION; -- get_pctr

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_interconnect_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit interconnect definition - EXPRESS ARM
*)

SCHEMA Physical_unit_interconnect_definition_arm;

USE FROM Part_view_definition_arm;

USE FROM Assembly_structure_arm;

ENTITY Connector_based_interconnect_definition;
   associated_definition   : physical_unit_interconnect_definition;
   connector_in_uv_1       : next_assembly_usage;
   connector_in_uv_2       : next_assembly_usage;
   component_1             : next_assembly_usage;
   component_2             : next_assembly_usage;   
   name                    : STRING; --label;
  UNIQUE
    UR1 : name, associated_definition;
WHERE
  WR1: 'AP210_ARM.PACKAGED_CONNECTOR_COMPONENT' IN 
        TYPEOF(connector_in_uv_1\assembly_component_relationship.
                                                        relating_view);
                                                             
  WR2: 'AP210_ARM.PACKAGED_CONNECTOR_COMPONENT' IN 
        TYPEOF(connector_in_uv_2\assembly_component_relationship.
                                                        relating_view);
                                                             
  WR3: 'AP210_ARM.part_usage_view' IN 
        TYPEOF(connector_in_uv_1\assembly_component_relationship.
                                                         related_view);
                                                              
  WR4: 'AP210_ARM.part_usage_view' IN 
        TYPEOF(connector_in_uv_2\assembly_component_relationship.
                                                         related_view);
                                                         
  WR5: EXISTS(connector_in_uv_1.location_indicator);
  WR6: EXISTS(connector_in_uv_2.location_indicator);
  WR7: EXISTS(component_1.location_indicator);
  WR8: EXISTS(component_2.location_indicator);
  WR9: NOT EXISTS(connector_in_uv_1.quantity);
 WR10: NOT EXISTS(connector_in_uv_2.quantity);
 WR11: NOT EXISTS(component_1.quantity);
 WR12: NOT EXISTS(component_2.quantity);
(** Need to rewrite it, because "usage_definition" is available only in specific subtype
 WR13: component_1.relating_view.usage_definition = 
       connector_in_uv_1\assembly_component_relationship.related_view;
 WR14: component_2.relating_view.usage_definition = 
       connector_in_uv_2\assembly_component_relationship.related_view;
*)       
 WR15: component_1 <> component_2;
 WR16: component_1 <> connector_in_uv_1;
 WR17: connector_in_uv_1 <> component_2;
 WR18: component_1 <> connector_in_uv_2;
 WR19: connector_in_uv_2 <> component_2;
END_ENTITY; -- connector_based_interconnect_definition

  ENTITY Physical_unit_interconnect_definition
    SUBTYPE OF (part_view_definition);
  END_ENTITY; -- physical_unit_interconnect_definition

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Pre_defined_datum_symbol_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Pre defined datum symbol - EXPRESS ARM
*)

SCHEMA Pre_defined_datum_symbol_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Pre_defined_datum_2d_symbol_arm;

USE FROM Pre_defined_datum_3d_symbol_arm;

	SUBTYPE_CONSTRAINT non_feature_shape_definition_subtypes FOR non_feature_shape_definition; 
		(ONEOF (Pre_defined_datum_axis_3d_symbol,
		 Pre_defined_datum_plane_3d_symbol,
		 Pre_defined_parallel_datum_axis_2d_symbol,
		 Pre_defined_perpendicular_datum_axis_2d_symbol,
		 Pre_defined_perpendicular_datum_plane_2d_symbol,
		 View_level_non_feature_shape_definition));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT shape_definition_3d_intersection_subtypes FOR Shape_definition_3d_intersection;  
		(ONEOF (Pre_defined_perpendicular_datum_plane_symbol_3d_2d_relationship,
		Pre_defined_perpendicular_datum_axis_symbol_3d_2d_relationship,
		Pre_defined_parallel_datum_axis_symbol_3d_2d_relationship));
	END_SUBTYPE_CONSTRAINT;  

  ENTITY Pre_defined_parallel_datum_axis_symbol_3d_2d_relationship
    SUBTYPE OF (shape_definition_3d_intersection);
		SELF\shape_definition_3d_intersection.surface_intersection_result : pre_defined_parallel_datum_axis_2d_symbol;
		SELF\shape_definition_3d_intersection.projected_volume            : pre_defined_datum_axis_3d_symbol;
  END_ENTITY; -- pre_defined_parallel_datum_axis_symbol_3d_2d_relationship

  ENTITY Pre_defined_perpendicular_datum_axis_symbol_3d_2d_relationship
    SUBTYPE OF (shape_definition_3d_intersection);
      SELF\shape_definition_3d_intersection.surface_intersection_result : pre_defined_perpendicular_datum_axis_2d_symbol;
      SELF\shape_definition_3d_intersection.projected_volume            : pre_defined_datum_axis_3d_symbol;
  END_ENTITY; -- pre_defined_perpendicular_datum_axis_symbol_3d_2d_relationship

  ENTITY Pre_defined_perpendicular_datum_plane_symbol_3d_2d_relationship
    SUBTYPE OF (shape_definition_3d_intersection);
      SELF\shape_definition_3d_intersection.surface_intersection_result : pre_defined_perpendicular_datum_plane_2d_symbol;
      SELF\shape_definition_3d_intersection.projected_volume            : pre_defined_datum_plane_3d_symbol;
  END_ENTITY; -- pre_defined_perpendicular_datum_plane_symbol_3d_2d_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Pre_defined_datum_2d_symbol_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Pre defined datum 2d symbol - EXPRESS ARM
*)

SCHEMA Pre_defined_datum_2d_symbol_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Layered_2d_shape_arm;

USE FROM Extended_geometric_tolerance_arm;

	ENTITY Pre_defined_datum_2d_symbol
	  ABSTRACT SUPERTYPE OF (ONEOF(Pre_defined_parallel_datum_axis_2d_symbol, 
	  	Pre_defined_perpendicular_datum_axis_2d_symbol,  
	  	Pre_defined_perpendicular_datum_plane_2d_symbol))
	  SUBTYPE OF (planar_shape, non_feature_shape_definition);	  	
		SELF\Non_feature_shape_definition.associated_element : datum_axis;
	WHERE
      WR1 : NOT EXISTS(SELF\non_feature_shape_definition.model_shape);
      WR2 : SELF\geometric_model.context_of_items.dimension_count = 2;
	END_ENTITY;

  ENTITY Pre_defined_parallel_datum_axis_2d_symbol
    SUBTYPE OF (Pre_defined_datum_2d_symbol);
  END_ENTITY; -- pre_defined_parallel_datum_axis_2d_symbol

  ENTITY Pre_defined_perpendicular_datum_axis_2d_symbol
    SUBTYPE OF (Pre_defined_datum_2d_symbol);
  END_ENTITY; -- pre_defined_perpendicular_datum_axis_2d_symbol

  ENTITY Pre_defined_perpendicular_datum_plane_2d_symbol
    SUBTYPE OF (Pre_defined_datum_2d_symbol);
  END_ENTITY; -- pre_defined_perpendicular_datum_plane_2d_symbol

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Pre_defined_datum_3d_symbol_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Pre defined datum 3d symbol - EXPRESS ARM
*)

SCHEMA Pre_defined_datum_3d_symbol_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Extended_geometric_tolerance_arm;

  ENTITY Pre_defined_datum_axis_3d_symbol
    SUBTYPE OF (Non_feature_shape_definition);
      SELF\non_feature_shape_definition.associated_element : datum_axis;
    WHERE
      WR1 : NOT EXISTS(SELF\non_feature_shape_definition.model_shape);
      WR2 : SELF\geometric_model.context_of_items.dimension_count = 3;
  END_ENTITY; -- pre_defined_datum_axis_3d_symbol

  ENTITY Pre_defined_datum_plane_3d_symbol
    SUBTYPE OF (Non_feature_shape_definition);
      SELF\non_feature_shape_definition.associated_element : datum_plane;
    WHERE
      WR1 : NOT EXISTS(SELF\non_feature_shape_definition.model_shape);
      WR3 : SELF\geometric_model.context_of_items.dimension_count = 3;
  END_ENTITY; -- pre_defined_datum_plane_3d_symbol

	SUBTYPE_CONSTRAINT non_feature_shape_definition_subtypes FOR non_feature_shape_definition; 
	(ONEOF (pre_defined_datum_axis_3d_symbol,
	 pre_defined_datum_plane_3d_symbol));
	END_SUBTYPE_CONSTRAINT;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_cable_component_2d_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with cable component 2d - EXPRESS ARM
*)

SCHEMA Assembly_module_with_cable_component_2d_arm;

USE FROM Assembly_module_with_cable_component_arm;

USE FROM Physical_unit_2d_design_view_arm;

  ENTITY Routed_cable_component_2d_shape
    SUBTYPE OF (Assembly_component_2d_shape);
      cable_path_shape                                               : SET[1:?] OF curve;
      connector_placement                                            : SET[1:?] OF sub_model_placement_2d;
      junction_placement                                             : OPTIONAL SET[1:?] OF Detailed_geometric_model_element_relationship;
      SELF\assembly_component_2d_shape.shape_characterized_component : SET[1:1] OF cable_component;
  END_ENTITY; -- routed_cable_component_2d_shape

  ENTITY Sub_model_placement_2d;
      placement : axis_placement_2d;
      sub_model : component_2d_location;
  END_ENTITY; -- sub_model_placement_2d

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_cable_component_3d_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with cable component 3d - EXPRESS ARM
*)

SCHEMA Assembly_module_with_cable_component_3d_arm;

USE FROM Assembly_module_with_cable_component_arm;

USE FROM Curve_swept_solid_arm;

USE FROM Physical_unit_3d_design_view_arm;


  ENTITY Routed_cable_component_3d_shape
    SUBTYPE OF (Assembly_component_3d_shape);
      cable_path_shape                                               : SET[1:?] OF curve_swept_solid;
      connector_placement                                            : SET[1:?] OF sub_model_placement_3d;
      junction_placement                                             : OPTIONAL SET[1:?] OF Detailed_geometric_model_element_relationship;
      SELF\assembly_component_3d_shape.shape_characterized_component : SET[1:1] OF cable_component;
  END_ENTITY; -- routed_cable_component_3d_shape

  ENTITY Sub_model_placement_3d;
      placement : axis_placement_3d;
      sub_model : component_3d_location;
  END_ENTITY; -- sub_model_placement_3d

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Shape_composition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Shape composition - EXPRESS ARM
*)

SCHEMA Shape_composition_arm; 

  USE FROM Shape_property_assignment_arm; 

  ENTITY Composite_group_shape_element
    SUBTYPE OF (Composite_shape_element);
  END_ENTITY; -- composite_group_shape_element

  ENTITY Composite_shape_element
    ABSTRACT SUPERTYPE OF (ONEOF (composite_group_shape_element,
 composite_unit_shape_element))
    SUBTYPE OF (shape_element);
    INVERSE
      composing_relationships : SET[2:?] OF shape_element_composing_relationship FOR relating;
  END_ENTITY; -- composite_shape_element

  ENTITY Composite_unit_shape_element
    SUBTYPE OF (Composite_shape_element);
  END_ENTITY; -- composite_unit_shape_element

  ENTITY Shape_element_boundary_relationship
    SUBTYPE OF (shape_element_relationship);
  END_ENTITY; -- shape_element_boundary_relationship

  ENTITY Shape_element_composing_relationship
    SUBTYPE OF (shape_element_constituent_relationship);
      SELF\shape_element_relationship.relating : composite_shape_element;
  END_ENTITY; -- shape_element_composing_relationship

  ENTITY Shape_element_constituent_relationship
    SUPERTYPE OF (shape_element_composing_relationship)
    SUBTYPE OF (shape_element_relationship);
    UNIQUE
      UR1 : related, relating;
    WHERE
      WR1 : SELF\shape_element_relationship.related <> SELF\shape_element_relationship.relating;
  END_ENTITY; -- shape_element_constituent_relationship

  ENTITY Shape_element_locating_relationship
		SUBTYPE OF (shape_element_constituent_relationship);
      SELF\Shape_element_relationship.relating RENAMED locating_shape_element	: shape_element;
      SELF\Shape_element_relationship.related RENAMED located_shape_element		: shape_element;
    UNIQUE
      UR1 : located_shape_element,
 locating_shape_element;
  END_ENTITY; -- shape_element_locating_relationship


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Shape_parameters_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Shape parameters - EXPRESS ARM
*)

SCHEMA Shape_parameters_arm;

USE FROM External_item_identification_assignment_arm;

  TYPE application_environment = ENUMERATION OF
    (end_user_application,
     manufacturing);
  END_TYPE; -- application_environment

  TYPE keepout_product_design_object_category = ENUMERATION OF
    (assembly_module_assembly_component,
     assembly_module_component_feature,
     assembly_ee_material,
     interconnect_ee_material,
     interconnect_module_assembly_component,
     interconnect_module_via,
     interconnect_module_inter_stratum_feature,
     interconnect_module_cutout,
     interconnect_module_fill_area,
     interconnect_module_laminate_component,
     interconnect_module_stratum_feature);
  END_TYPE; -- keepout_product_design_object_category

  TYPE keepout_purpose = SELECT
    (predefined_keepout_purpose,
     external_item_identification);
  END_TYPE; -- keepout_purpose

  TYPE material_condition = ENUMERATION OF
    (nominal_material_condition,
     minimum_material_condition,
     maximum_material_condition);
  END_TYPE; -- material_condition

  TYPE material_condition_property_names = ENUMERATION OF
    (maximum_material_principle,
     least_material_requirement);
  END_TYPE; -- material_condition_property_names

 	TYPE physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  TYPE predefined_keepout_purpose = ENUMERATION OF
    (thermal,
     generic_clearance,
     shock,
     vibration,
     electromagnetic_compatibility);
  END_TYPE; -- predefined_keepout_purpose

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Shield_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Shield - EXPRESS ARM
*)

SCHEMA Shield_arm;

USE FROM Component_feature_arm;

USE FROM Functional_design_elaboration_arm;

	TYPE shieldable_item = SELECT
    (assembly_component,
   	component_feature,
   	physical_connectivity_definition);
	END_TYPE;

  ENTITY Shield
    SUBTYPE OF (Assembly_component);
      shielded_item : SET[1:?] OF shieldable_item;
  END_ENTITY; -- shield

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Software_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Software - EXPRESS ARM
*)

SCHEMA Software_arm;

USE FROM Document_definition_arm;

USE FROM Document_and_version_identification_arm;

USE FROM Product_view_definition_arm;

REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
        types_of_product 
); 

  ENTITY Software 
    SUBTYPE OF (Document);
  	WHERE 
  		WR1 : SIZEOF([ 'software', 'analytical model', 'rule' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- Software

  ENTITY Software_definition 
    SUBTYPE OF (Digital_document_definition);
    SELF\product_view_definition.defined_version : software_version;
  END_ENTITY; -- Software_definition

  ENTITY Software_version
    SUBTYPE OF (Document_version);
    SELF\product_version.of_product : software;
  END_ENTITY; -- Software_version

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Technology_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Technology - EXPRESS ARM
*)

SCHEMA Technology_arm;

USE FROM Specification_document_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM External_item_identification_assignment_arm;

 	TYPE t_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Technology);
	END_TYPE;

  ENTITY Technology;
      process_technology      : process_specification;
      material_product_system : material_identification;
    INVERSE
      classification 					: External_source_identification FOR item;
  END_ENTITY; -- technology

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Test_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Test requirement allocation - EXPRESS ARM
*)

SCHEMA Test_requirement_allocation_arm;

USE FROM Requirement_assignment_arm;	

USE FROM Requirement_decomposition_arm;

REFERENCE FROM Requirement_decomposition_arm (get_requirement_definition_property);

USE FROM Part_terminal_arm;
	
USE FROM Network_functional_usage_view_arm (functional_unit_usage_view_terminal_definition);
	

  ENTITY Test_requirement_allocation
    SUBTYPE OF (requirement_assignment);
      SELF\requirement_assignment.assigned_to : product_version;
      (** Need a rule to capture particular type for analytical_model_based_test_access *)
      analytical_model_based_test_access                : OPTIONAL SET[1:?] OF Analytical_model_port_assignment; --part_feature_model_port_assignment;
      functional_specification_based_test_access        : OPTIONAL SET[1:?] OF functional_usage_view_to_part_terminal_assignment;
    DERIVE
    	assigned_requirement_property :  requirement_definition_property := get_requirement_definition_property(SELF, 'REQUIREMENT_DECOMPOSITION_ARM.'+'TEST_REQUIREMENT_OCCURRENCE');
    WHERE
      WR1 : NOT (EXISTS(analytical_model_based_test_access)) OR (SIZEOF(QUERY(ta <* analytical_model_based_test_access | NOT (ta.source.associated_definition.defined_version = SELF\requirement_assignment.assigned_to))) = 0);
      WR2 : NOT (EXISTS(analytical_model_based_test_access)) OR (SIZEOF(QUERY(ta <* analytical_model_based_test_access | NOT (ta.target.accessed_analytical_model = SELF\requirement_assignment.assigned_requirement.required_analytical_representation[1].model_representation))) = 0);
      WR3 : EXISTS(analytical_model_based_test_access) XOR EXISTS(functional_specification_based_test_access);
      WR4 : NOT (EXISTS(analytical_model_based_test_access)) OR (EXISTS(SELF\requirement_assignment.assigned_requirement\Requirement_definition_property.required_analytical_representation));
      WR5 : NOT (EXISTS(functional_specification_based_test_access)) OR (SIZEOF(QUERY(fa <* functional_specification_based_test_access | NOT (fa.physical_usage_view_terminal\shape_element.containing_shape.defined_version = SELF\requirement_assignment.assigned_to))) = 0);
      WR6 : NOT (EXISTS(functional_specification_based_test_access)) OR (EXISTS(SELF\requirement_assignment.assigned_requirement\Requirement_definition_property.required_functional_specification));
      WR7 : NOT (EXISTS(functional_specification_based_test_access)) OR (SIZEOF(QUERY(fa <* functional_specification_based_test_access | NOT (fa.functional_usage_view_terminal\functional_unit_usage_view_terminal_definition.associated_functional_unit_definition = SELF\requirement_assignment.assigned_requirement\Requirement_definition_property.required_functional_specification[1].characterizing_functional_unit.definition))) = 0);
  END_ENTITY; -- test_requirement_allocation

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Thermal_network_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Thermal network definition - EXPRESS ARM
*)

SCHEMA Thermal_network_definition_arm;

USE FROM Network_functional_design_view_arm;

  ENTITY Thermal_network_definition
    SUBTYPE OF (Functional_unit_network_definition);
  END_ENTITY; -- thermal_network_definition

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Via_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Via component - EXPRESS ARM
*)
SCHEMA Via_component_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Component_feature_arm;

USE FROM Interconnect_module_connection_routing_arm;

  ENTITY Blind_via
    ABSTRACT SUPERTYPE OF (ONEOF (bonded_conductive_base_blind_via,
 non_conductive_base_blind_via,
 plated_conductive_base_blind_via))
    SUBTYPE OF (via);
  END_ENTITY; -- blind_via

  ENTITY Bonded_conductive_base_blind_via
    SUBTYPE OF (Blind_via);
      features_join : stratum_feature_conductive_join;
    UNIQUE
    	UR1 : features_join;
  END_ENTITY; -- bonded_conductive_base_blind_via

  ENTITY Buried_via
    SUBTYPE OF (via);
  END_ENTITY; -- buried_via
  
  ENTITY Interfacial_connection
    SUBTYPE OF (via);
  END_ENTITY; -- interfacial_connection

  ENTITY Non_conductive_base_blind_via
    SUBTYPE OF (Blind_via);
  END_ENTITY; -- non_conductive_base_blind_via

  ENTITY Plated_conductive_base_blind_via
    SUBTYPE OF (Blind_via);
  END_ENTITY; -- plated_conductive_base_blind_via

 SUBTYPE_CONSTRAINT via_subtypes FOR via;   
 	(ONEOF (blind_via,
 	buried_via,
 	interfacial_connection));
 END_SUBTYPE_CONSTRAINT;  

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Advanced_boundary_representation_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1288 - ISO/TS 10303-1514 Advanced boundary representation - EXPRESS ARM
*)

SCHEMA Advanced_boundary_representation_arm;

USE FROM Elemental_geometric_shape_arm;

ENTITY Advanced_brep_shape_representation
	SUBTYPE OF (Geometric_model);
END_ENTITY;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Altered_package_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Altered package - EXPRESS ARM
*)

SCHEMA Altered_package_arm;

USE FROM Package_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Specification_document_arm;

  TYPE geometric_status = SELECT
    (predefined_geometric_status,
     external_item_identification);
  END_TYPE; -- geometric_status

  TYPE predefined_geometric_status = ENUMERATION OF
    (undefined,
     standard_datum_condition,
     perpendicular_primary_datum_axis,
     perpendicular_primary_datum_plane);
  END_TYPE; -- predefined_geometric_status

  ENTITY Altered_package
    SUBTYPE OF (package);
      of_geometric_status          : geometric_status;
      modified_terminal_separation : OPTIONAL length_data_element;
      package_to_be_altered        : package;
  END_ENTITY; -- altered_package

  ENTITY Altered_package_terminal
    ABSTRACT SUPERTYPE OF ((shape_formed_terminal ANDOR
 surface_prepped_terminal) ANDOR
 length_trimmed_terminal)
    SUBTYPE OF (package_terminal);
      terminal_to_be_altered                  : package_terminal;
      SELF\part_feature.associated_definition : altered_package;
  END_ENTITY; -- altered_package_terminal

  ENTITY Length_trimmed_terminal
    SUBTYPE OF (Altered_package_terminal);
      maximum_trimmed_length : length_data_element;
      minimum_trimmed_length : length_data_element;
  END_ENTITY; -- length_trimmed_terminal

  ENTITY Shape_formed_terminal
    SUBTYPE OF (Altered_package_terminal);
  END_ENTITY; -- shape_formed_terminal

  ENTITY Surface_prepped_terminal
    SUBTYPE OF (Altered_package_terminal);
      surface_preparation : surface_finish_specification;
  END_ENTITY; -- surface_prepped_terminal

END_SCHEMA; -- Altered_package_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Altered_part_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Altered part - EXPRESS ARM
*)

SCHEMA Altered_part_arm;

USE FROM Altered_package_arm;

USE FROM Packaged_part_black_box_model_arm;

  ENTITY Altered_packaged_part
    SUBTYPE OF (packaged_part);
      SELF\packaged_part.used_package : SET[1:1] OF altered_package;
      base_packaged_part              : packaged_part;
  END_ENTITY; -- altered_packaged_part
  
END_SCHEMA; -- Altered_part_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Analytical_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Analytical model - EXPRESS ARM
*)

SCHEMA Analytical_model_arm;

USE FROM Model_parameter_arm;

USE FROM Specification_document_arm;

USE FROM Value_with_unit_extension_arm;

REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
        types_of_product 
); 

USE FROM Software_arm;

USE FROM Document_structure_arm;

	TYPE analytical_model_application_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

	TYPE analytical_model_port_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  TYPE model_parameter_type = ENUMERATION OF
    (string_property_type,
     boolean_property_type,
     logical_property_type,
     numeric_property_type,
     physical_property_type);
  END_TYPE; -- model_parameter_type

  TYPE signal_flow_direction = ENUMERATION OF
    (unknown_direction,
     not_applicable,
     output_direction,
     input_direction,
     bidirectional);
  END_TYPE; -- signal_flow_direction

  ENTITY Across_port_variable
    SUBTYPE OF (port_variable);
    WHERE
      WR1 : EXISTS(SELF\port_variable.unit_of_measure);
  END_ENTITY; -- across_port_variable

  ENTITY Analog_analytical_model_port
    SUBTYPE OF (Analytical_model_port);
    INVERSE
      signal_variable : SET[1:?] OF port_variable FOR associated_port;
  END_ENTITY; -- analog_analytical_model_port

  ENTITY Analytical_model
  	SUBTYPE OF (software);
  	WHERE 
  		WR1 : SIZEOF([ 'analytical model' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- analytical_model

  ENTITY Analytical_model_application
    SUBTYPE OF (representation);  
      model_parameter_assignment     : SET[1:?] OF parameter_assignment;
      model_representation           : analytical_model_definition;
      analytical_model_application_name : STRING; --ee_name;
    UNIQUE
      UR1 : analytical_model_application_name;
  END_ENTITY; -- analytical_model_application

	ENTITY Analytical_model_application_assignment; --- was analytical_model_definition_assignment;
		assigned_analytical_model: Analytical_model_application;
		assigned_item: analytical_model_application_assignment_select;
	END_ENTITY; -- Analytical_model_application_assignment

  ENTITY Analytical_model_definition
    SUBTYPE OF (software_definition);
      SELF\product_view_definition.defined_version 	: Analytical_model_version;
      representation_language 						: language_reference_manual;
      reference_document      						: document_definition;
      source_code             						: software_definition;
    INVERSE
      access_mechanism : SET[1:?] OF analytical_model_port FOR accessed_analytical_model;
      parameter        : SET[1:?] OF analytical_model_parameter FOR accessed_analytical_model;
  END_ENTITY; -- analytical_model_definition

  ENTITY Analytical_model_make_from_relationship
  	SUBTYPE OF (Document_definition_relationship);
      reusable_model  : analytical_model_definition;
      resultant_model : analytical_model_definition;
    UNIQUE
      UR1 : reusable_model,
 resultant_model;
    WHERE
      WR1 : reusable_model :<>: resultant_model;
  END_ENTITY; -- analytical_model_make_from_relationship

  ENTITY Analytical_model_parameter
    SUBTYPE OF (Model_parameter);
      accessed_analytical_model : analytical_model_definition;
    UNIQUE
      UR1 : SELF\independent_property.id,
 accessed_analytical_model;
  END_ENTITY; -- analytical_model_parameter

  ENTITY Analytical_model_port
    SUPERTYPE OF (analytical_model_vector_port ANDOR
 (ONEOF (analog_analytical_model_port,
 digital_analytical_model_port)));
      accessed_analytical_model : analytical_model_definition;
      port_name                 : STRING; --ee_name;
    UNIQUE
      UR1 : port_name,
 accessed_analytical_model;
  END_ENTITY; -- analytical_model_port

  ENTITY Analytical_model_port_assignment;
		assigned_analytical_model_port	: analytical_model_port;
		assigned_item										: analytical_model_port_assignment_select;
  END_ENTITY; -- analytical_model_port_assignment

  ENTITY Analytical_model_port_make_from_relationship;
      associated_make_from : analytical_model_make_from_relationship;
      reusable_feature     : analytical_model_port;
      resultant_feature    : analytical_model_port;
    UNIQUE
      UR1 : reusable_feature,
 resultant_feature;
    WHERE
      WR1 : reusable_feature :<>: resultant_feature;
      WR2 : reusable_feature.accessed_analytical_model :<>: resultant_feature.accessed_analytical_model;
  END_ENTITY; -- analytical_model_port_make_from_relationship

  ENTITY Analytical_model_scalar_port
    SUBTYPE OF (Analytical_model_vector_port);
    WHERE
      WR1 : SELF\analytical_model_vector_port.size = 1;
  END_ENTITY; -- analytical_model_scalar_port

  ENTITY Analytical_model_vector_port
    SUPERTYPE OF (analytical_model_scalar_port)
    SUBTYPE OF (Analytical_model_port);
      size : INTEGER; -- positive_integer;
  END_ENTITY; -- analytical_model_vector_port
  
  ENTITY Analytical_model_version
  	SUBTYPE OF (software_version);
  		SELF\product_version.of_product : analytical_model;
  END_ENTITY; 

  ENTITY Digital_analytical_model_port
    SUBTYPE OF (Analytical_model_port);
      nominal_signal_flow_direction : signal_flow_direction;
      port_type                     : model_parameter_type;
    WHERE
      WR1 : not_applicable <> nominal_signal_flow_direction;
      WR2 : numeric_property_type <> port_type;
      WR3 : physical_property_type <> port_type;
  END_ENTITY; -- digital_analytical_model_port

  ENTITY Port_variable
    SUPERTYPE OF (ONEOF (through_port_variable,
 across_port_variable,
 transform_port_variable));
      associated_port : analog_analytical_model_port;
      variable_name   : STRING; --ee_name;
      unit_of_measure : OPTIONAL Unit; --STRING;
    UNIQUE
      UR1 : variable_name,
 associated_port;
  END_ENTITY; -- port_variable

  ENTITY Terminal_pair_port_equivalence_relationship;
      equivalent_port : analytical_model_port;
      scalar_ports    : LIST[2:2] OF UNIQUE analytical_model_scalar_port;
  END_ENTITY; -- terminal_pair_port_equivalence_relationship

  ENTITY Through_port_variable
    SUBTYPE OF (port_variable);
    WHERE
      WR1 : EXISTS(SELF\port_variable.unit_of_measure);
  END_ENTITY; -- through_port_variable
  
  ENTITY Transform_port_variable
    SUBTYPE OF (port_variable);
      nominal_signal_flow_direction : signal_flow_direction;
    WHERE
      WR1 : not_applicable <> nominal_signal_flow_direction;
      WR2 : bidirectional <> nominal_signal_flow_direction;
  END_ENTITY; -- transform_port_variable

END_SCHEMA; -- Analytical_model_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Component_grouping_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Component grouping - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Component_grouping_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Interface_component_arm;	

USE FROM Assembly_structure_arm;

  ENTITY Array_placement_group
    ABSTRACT SUPERTYPE OF(ONEOF (linear_array_placement_group_component,
		rectangular_array_placement_group_component))
    SUBTYPE OF (Assembly_group_component);
  END_ENTITY; -- array_placement_group

  ENTITY Assembly_component_placement_link;
      precedent_element  : assembly_component;
      subsequent_element : assembly_component;
    INVERSE
      referenced_by : linear_array_placement_group_component FOR element;
  END_ENTITY; -- assembly_component_placement_link

  ENTITY Assembly_group_component
    SUBTYPE OF (Assembly_component);
    INVERSE
      components : SET[0:?] OF next_assembly_usage FOR relating_view;
  END_ENTITY; -- assembly_group_component

  ENTITY Interfaced_group_component
    SUBTYPE OF (Assembly_group_component);
      group_interface_component : SET[1:?] OF interface_component;
  END_ENTITY; -- interfaced_group_component

  ENTITY Linear_array_placement_group_component
    SUBTYPE OF (Array_placement_group);
      element                               : SET[1:?] OF assembly_component_placement_link;
      initial_node_positive_x_displacement  : length_data_element;
      terminus_node_positive_x_displacement : length_data_element;
      location_uncertainty                  : length_data_element;
  END_ENTITY; -- linear_array_placement_group_component

  ENTITY Linear_array_placement_group_component_link;
      precedent_element  : linear_array_placement_group_component;
      subsequent_element : linear_array_placement_group_component;
    INVERSE
      referenced_by : rectangular_array_placement_group_component FOR element;
  END_ENTITY; -- linear_array_placement_group_component_link

  ENTITY Rectangular_array_placement_group_component
    SUBTYPE OF (Array_placement_group);
      element                              : SET[1:?] OF linear_array_placement_group_component_link;
      initial_row_positive_y_displacement  : length_data_element;
      terminus_row_positive_y_displacement : length_data_element;
      location_uncertainty                 : length_data_element;
  END_ENTITY; -- rectangular_array_placement_group_component

END_SCHEMA; -- Component_grouping_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_component_placement_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly component placement requirements - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_component_placement_requirements_arm;

	USE FROM Physical_unit_design_view_arm;
	
	USE FROM Requirement_decomposition_arm;
	
	USE FROM Extended_geometric_tolerance_arm;
	
	USE FROM Non_feature_shape_element_arm;
	
	USE FROM Assembly_module_design_arm;
		
	USE FROM Assembly_module_with_interconnect_component_arm;
		
	TYPE restriction_basis_item = EXTENSIBLE GENERIC_ENTITY SELECT(
		Requirement_definition_property,
   		Part_feature);
	END_TYPE;

TYPE acpr_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
    (restriction_basis_item,
  	Placement_group);
END_TYPE; 

  ENTITY Component_group_assignment;
      associated_group   : placement_group;
      assigned_component : assembly_component;
  END_ENTITY; -- component_group_assignment

  ENTITY Component_placement_restriction_assignment;
      maximum_negative_component_height : OPTIONAL datum_based_length_measure;
      maximum_positive_component_height : OPTIONAL datum_based_length_measure;
      area                              : OPTIONAL mounting_restriction_area;
      volume                            : OPTIONAL mounting_restriction_volume;
      requirement                       : item_restricted_requirement_occurrence;
      components_permitted              : BOOLEAN;
      maximum_mounting_clearance        : OPTIONAL datum_based_length_measure;
      minimum_mounting_clearance        : OPTIONAL datum_based_length_measure;
    WHERE
      WR1 : EXISTS(area) OR EXISTS(volume);
  END_ENTITY; -- component_placement_restriction_assignment

  ENTITY Item_restricted_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
      basis : restriction_basis_item;
  END_ENTITY; -- item_restricted_requirement_occurrence

  ENTITY Mounting_restriction_area
    SUBTYPE OF (Non_feature_shape_element);
      mounting_surface                     : interconnect_module_component_surface_feature;
      SELF\non_feature_shape_element.scope : assembly_module;
    WHERE
      WR1 : 'AP210_ARM.CONSTRUCTIVE_GEOMETRY' IN TYPEOF(SELF\non_feature_shape_element.element_shape);
  END_ENTITY; -- mounting_restriction_area

  ENTITY Mounting_restriction_volume
    SUBTYPE OF (Non_feature_shape_element);
      mounting_surface                     : interconnect_module_component_surface_feature;
      SELF\non_feature_shape_element.scope : assembly_module;
    INVERSE
      volume : non_feature_shape_definition FOR associated_element;
    WHERE
      WR1 : 'AP210_ARM.THREE_DIMENSIONAL_SHAPE' IN TYPEOF(volume);
  END_ENTITY; -- mounting_restriction_volume

  ENTITY Placement_group;
      design_specific_usage : STRING; --ee_name;
(** Need a WR to capture cardinality      
      requirement           : SET[1:?] OF Requirement_definition_property;
*)      
  END_ENTITY; -- placement_group

  ENTITY Placement_group_area_assignment;
      placed_group : placement_group;
      area         : mounting_restriction_area;
  END_ENTITY; -- placement_group_area_assignment

  ENTITY Placement_group_volume_assignment;
      placed_group : placement_group;
      volume       : mounting_restriction_volume;
  END_ENTITY; -- placement_group_volume_assignment

END_SCHEMA; -- Assembly_component_placement_requirements_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_functional_interface_requirement_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly functional interface requirement - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_functional_interface_requirement_arm;

USE FROM Packaged_part_black_box_model_arm;

USE FROM Printed_physical_layout_template_arm;

USE FROM Product_view_definition_arm;

USE FROM Functional_specification_arm;

USE FROM Requirement_assignment_arm;	

USE FROM Requirement_decomposition_arm;

REFERENCE FROM Requirement_decomposition_arm (get_requirement_definition_property);

USE FROM Assembly_physical_interface_requirement_arm;

(** Renamed packaged_or_printed_terminal to mating_connector_definition_select *)
	TYPE mating_connector_definition_select = SELECT
		(packaged_part_terminal,
		printed_part_template_terminal);
	END_TYPE;

	TYPE afir_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Mating_connector_termination,
	    Termination_constraint);
	END_TYPE; 

  ENTITY Interface_requirement_occurrence
    SUBTYPE OF (Design_requirement_occurrence);
      interface_to_next_higher_assembly : OPTIONAL next_higher_assembly_interface_requirement;
      reference_protocol                : OPTIONAL protocol_physical_layer_definition;
  END_ENTITY; -- interface_requirement_occurrence

  ENTITY Mating_connector_termination;
      definition         : mating_connector_definition_select;
      accessed_connector : mating_connector_component;
      name               : STRING; --ee_name;
(** Need a WR to capture cardinality      
      signal_definition  : OPTIONAL Requirement_definition_property;
*)      
    UNIQUE
      UR1 : definition,
 accessed_connector;
  END_ENTITY; -- mating_connector_termination

  ENTITY Minimally_defined_connector
    SUBTYPE OF (packaged_part);
    	SELF\packaged_part.used_package	: SET[1:?] OF package_external_reference;
    INVERSE
      terminal 												: SET[1:?] OF Shape_element FOR containing_shape;
    WHERE
      WR1 : SIZEOF(QUERY(t <* SELF\packaged_part.access_mechanisms | ('AP210_ARM.PACKAGED_PART_INTERFACE_TERMINAL' IN TYPEOF(t)))) >= 0;
      WR2 : NOT EXISTS(SELF\packaged_part.implemented_function);
      WR3 : NOT EXISTS(SELF\packaged_part.potting_compound);
      WR4 : NOT ('AP210_ARM.ALTERED_PACKAGED_PART' IN TYPEOF(SELF));
  END_ENTITY; -- minimally_defined_connector

  ENTITY Protocol_physical_layer_definition
    SUBTYPE OF (product_view_definition);
      host_connector                       : OPTIONAL minimally_defined_connector;
      host_functional_definition           : functional_unit_usage_view;
      host_rcv_functional_characterization : OPTIONAL functional_specification_definition;
      host_xmt_functional_characterization : OPTIONAL functional_specification_definition;
      media_connector                      : OPTIONAL minimally_defined_connector;
      media_functional_characterization    : OPTIONAL functional_specification_definition;
      media_functional_definition          : OPTIONAL functional_unit_usage_view;
    DERIVE
      reference_document : SET[1:1] OF document_definition := SELF\product_view_definition.documentation;
    WHERE
      WR1 : EXISTS(SELF\product_view_definition.documentation);
      WR2 : SIZEOF(SELF\product_view_definition.documentation) = 1;
      WR3 : EXISTS(host_functional_definition) OR EXISTS(media_functional_definition);
  END_ENTITY; -- protocol_physical_layer_definition

  ENTITY Protocol_requirement_allocation_to_part_terminal
    SUBTYPE OF (requirement_assignment);
      SELF\requirement_assignment.assigned_to : part_terminal;
      protocol_signal                                   : functional_unit_usage_view_terminal_definition;
    DERIVE
    	assigned_requirement_property :  requirement_definition_property := get_requirement_definition_property(SELF, 'ASSEMBLY_FUNCTIONAL_INTERFACE_REQUIREMENT_ARM.'+'INTERFACE_REQUIREMENT_OCCURRENCE');
    WHERE
      WR1 : EXISTS(SELF\requirement_assignment.assigned_requirement.reference_protocol);
      WR2 : protocol_signal IN SELF\requirement_assignment.assigned_requirement.reference_protocol.host_functional_definition\functional_unit_usage_view.access_mechanism;
  END_ENTITY; -- protocol_requirement_allocation_to_part_terminal

  ENTITY Termination_constraint;
      constrained_termination      : SET[2:?] OF mating_connector_termination;
(** Need a WR to capture cardinality      
      termination_usage_constraint : Requirement_definition_property;
*)      
  END_ENTITY; -- termination_constraint

END_SCHEMA; -- Assembly_functional_interface_requirement_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interface_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interface component - EXPRESS ARM
*)

SCHEMA Interface_component_arm;

USE FROM Physical_unit_design_view_arm;
USE FROM Physical_component_feature_arm;

	SUBTYPE_CONSTRAINT physical_component_feature_subtypes FOR physical_component_feature;
		(ONEOF (physical_component_terminal,
	 	component_interface_terminal));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Component_interface_terminal
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (physical_component_feature);
      SELF\component_feature.associated_component : interface_component;
  END_ENTITY; -- component_interface_terminal
 
  ENTITY Interface_component
    SUBTYPE OF (physical_component);
    INVERSE
      access_mechanism : SET[1:?] OF component_interface_terminal FOR associated_component;
  END_ENTITY;

END_SCHEMA; -- Interface_component_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module design - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_module_design_arm;

USE FROM Assembly_module_usage_view_arm;

USE FROM Altered_package_arm;

USE FROM Bare_die_arm;

USE FROM Component_grouping_arm;

USE FROM Packaged_part_black_box_model_arm;

USE FROM Part_feature_function_arm;

USE FROM Physical_unit_design_view_arm;

 	TYPE assembled_feature_select = EXTENSIBLE GENERIC_ENTITY SELECT
 		(Bare_die_component_terminal,
     	Component_mounting_feature,
 		Packaged_component_join_terminal);
	END_TYPE;

	TYPE assembly_module_or_assembly_group_component = 
		EXTENSIBLE GENERIC_ENTITY SELECT 
		(Assembly_module,
		Assembly_group_component);
	END_TYPE;

  ENTITY Assembly_module
    SUBTYPE OF (part_design_view);
  END_ENTITY; -- assembly_module

  ENTITY Bare_die_component
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : bare_die;
  END_ENTITY; -- bare_die_component

  ENTITY Bare_die_component_terminal
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition           : bare_die_terminal;
      SELF\component_feature.associated_component : bare_die_component;
  END_ENTITY; -- bare_die_component_terminal

  ENTITY Component_external_reference;
      design_owner          : STRING;
      part_number           : STRING;
      revision_code         : STRING;
      product_definition_id : STRING;
      reference_designation : STRING;
  END_ENTITY; -- component_external_reference

  ENTITY Component_feature_external_reference;
      associated_component : component_external_reference;
      name                 : STRING;
    UNIQUE
      UR1 : associated_component,
 name;
  END_ENTITY; -- component_feature_external_reference

  ENTITY Component_mounting_clearance_relationship;
      feature_relationship       : component_feature_relationship;
      minimum_mounting_clearance : length_data_element;
      maximum_mounting_clearance : OPTIONAL length_data_element;
  END_ENTITY; -- component_mounting_clearance_relationship

  ENTITY Component_mounting_feature
    SUBTYPE OF (physical_component_feature);
      SELF\component_feature.definition : part_mounting_feature;
  END_ENTITY; -- component_mounting_feature

  ENTITY Component_overlap_relationship;
      previously_placed_component : next_assembly_usage;
      current_component           : next_assembly_usage;
      minimum_added_clearance     : length_data_element;
      maximum_added_clearance     : OPTIONAL length_data_element;
  END_ENTITY; -- component_overlap_relationship

  ENTITY Minimally_defined_component_terminal
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition : part_terminal_external_reference;
  END_ENTITY; -- minimally_defined_component_terminal

  ENTITY Movable_packaged_component_join_terminal
    SUBTYPE OF (packaged_component_join_terminal);
      maximum_wire_terminal_length : length_data_element;
      minimum_wire_terminal_length : length_data_element;
    WHERE
      WR1 : 'AP210_ARM.WIRE_TERMINAL' IN TYPEOF(SELF\component_feature.definition\packaged_part_terminal.terminal_of_package);
  END_ENTITY; -- movable_packaged_component_join_terminal

  ENTITY Package_terminal_occurrence;
      definition           : package_terminal;
      associated_component : packaged_component;
  END_ENTITY; -- package_terminal_occurrence

  ENTITY Packaged_component
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : packaged_part;
      selected_package_alternate               : OPTIONAL altered_package;
    INVERSE
      access_mechanism : SET[1:?] OF packaged_component_join_terminal FOR associated_component;
  END_ENTITY; -- packaged_component

  ENTITY Packaged_component_join_terminal
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition           : packaged_part_join_terminal;
      SELF\component_feature.associated_component : packaged_component;
  END_ENTITY; -- packaged_component_join_terminal

  ENTITY Pca
    SUBTYPE OF (Assembly_module);
      SELF\part_design_view.usage_view : pca_usage_view;
  END_ENTITY; -- pca

  ENTITY Routed_interconnect_component
    SUBTYPE OF (physical_component);
      routed_centreline_shape : curve;
  END_ENTITY; -- routed_interconnect_component

  ENTITY Routed_physical_component
    SUBTYPE OF (physical_component);
      routed_centreline_shape : curve;
  END_ENTITY; -- routed_physical_component

END_SCHEMA; -- Assembly_module_design_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module usage view - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_module_usage_view_arm;


USE FROM Part_terminal_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Network_functional_usage_view_arm;

USE FROM Packaged_connector_model_arm;


  ENTITY Assembly_module_interface_terminal
    SUBTYPE OF (Assembly_module_terminal);
  END_ENTITY; -- assembly_module_interface_terminal

  ENTITY Assembly_module_terminal
    SUPERTYPE OF (assembly_module_interface_terminal ANDOR
 pca_terminal)
    SUBTYPE OF (part_terminal);
      SELF\part_feature.associated_definition : assembly_module_usage_view;
      reference_terminal                      : OPTIONAL packaged_part_interface_terminal;
      related_connector                       : OPTIONAL next_assembly_usage;
      terminal_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
    WHERE
      WR1 : NOT EXISTS(related_connector) OR (SELF\shape_element.containing_shape = related_connector\assembly_component_relationship.related_view);
      WR2 : EXISTS(related_connector.location_indicator);
  END_ENTITY; -- assembly_module_terminal

  ENTITY Assembly_module_usage_view
    SUPERTYPE OF (pca_usage_view)
    SUBTYPE OF (part_usage_view, assembly_definition);
      implemented_function              : functional_unit_usage_view;
      maximum_negative_component_height : OPTIONAL datum_based_length_measure;
      maximum_positive_component_height : OPTIONAL datum_based_length_measure;
    INVERSE
      access_mechanisms : SET[2:?] OF assembly_module_terminal FOR associated_definition;
  END_ENTITY; -- assembly_module_usage_view

  ENTITY Pca_terminal
    SUBTYPE OF (Assembly_module_terminal);
      SELF\part_feature.associated_definition : pca_usage_view;
  END_ENTITY; -- pca_terminal

  ENTITY Pca_usage_view
    SUBTYPE OF (Assembly_module_usage_view);
  END_ENTITY; -- pca_usage_view

END_SCHEMA; -- Assembly_module_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_physical_interface_requirement_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly physical interface requirement - EXPRESS ARM
*)

SCHEMA Assembly_physical_interface_requirement_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Product_view_definition_arm;

  ENTITY Mating_connector_component;
      definition            : product_view_definition;
      reference_designation : OPTIONAL STRING; 
    INVERSE
      placement_context : mating_connector_placement_relationship FOR placed_connector;
  END_ENTITY; -- mating_connector_component

  ENTITY Mating_connector_placement_relationship;
      placed_connector    : mating_connector_component;
      interface_context   : next_higher_assembly_interface_requirement;
      connector_placement : axis_placement;
  END_ENTITY; -- mating_connector_placement_relationship

  ENTITY Next_higher_assembly_interface_requirement;
      shape                           : three_dimensional_shape;
      version_of_next_higher_assembly : product_version;
  END_ENTITY; -- next_higher_assembly_interface_requirement

END_SCHEMA; -- Assembly_physical_interface_requirement_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_physical_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly physical requirement allocation - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_physical_requirement_allocation_arm;

USE FROM Assembly_physical_interface_requirement_arm;

USE FROM Assembly_technology_arm;

USE FROM Interface_component_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Requirement_assignment_arm;	

USE FROM Requirement_decomposition_arm;	

REFERENCE FROM Requirement_decomposition_arm (get_requirement_definition_property);

USE FROM Shield_arm;

 	TYPE component_or_feature = EXTENSIBLE GENERIC_ENTITY SELECT
 		(assembly_component,
 		assembly_joint,
 		component_feature);
	END_TYPE;

   ENTITY Assembly_requirement_allocation
    SUBTYPE OF (requirement_assignment);
      SELF\requirement_assignment.assigned_to : component_or_feature;
  END_ENTITY; -- assembly_requirement_allocation
 
  ENTITY Assembly_separation_requirement_allocation
    SUBTYPE OF (Assembly_requirement_allocation);
      disjoint_assignment : SET[1:?] OF component_or_feature;
  END_ENTITY; -- assembly_separation_requirement_allocation

  ENTITY Electromagnetic_compatibility_requirement_allocation
    SUPERTYPE OF (shield_allocation)
    SUBTYPE OF (Assembly_requirement_allocation);
  END_ENTITY; -- electromagnetic_compatibility_requirement_allocation

  ENTITY Interface_component_allocation;
      mating_solution    : interface_component;
      mating_requirement : mating_connector_component;
  END_ENTITY; -- interface_component_allocation

  ENTITY Shield_allocation
    SUBTYPE OF (Electromagnetic_compatibility_requirement_allocation);
      SELF\requirement_assignment.assigned_to : shield;
    DERIVE
    	assigned_requirement_property :  requirement_definition_property := get_requirement_definition_property(SELF, 'ASSEMBLY_PHYSICAL_REQUIREMENT_ALLOCATION_ARM.'+'ELECTROMAGNETIC_REQUIREMENT_OCCURRENCE');
  END_ENTITY; -- shield_allocation

  ENTITY Thermal_requirement_allocation
    SUBTYPE OF (Assembly_requirement_allocation);
      SELF\requirement_assignment.assigned_to : thermal_component;
    DERIVE
    	assigned_requirement_property :  requirement_definition_property := get_requirement_definition_property(SELF, 'ASSEMBLY_PHYSICAL_REQUIREMENT_ALLOCATION_ARM.'+'THERMAL_REQUIREMENT_OCCURRENCE');
  END_ENTITY; -- thermal_requirement_allocation

END_SCHEMA; -- Assembly_physical_requirement_allocation_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly shape - EXPRESS ARM
*)

SCHEMA Assembly_shape_arm;

USE FROM Assembly_module_design_arm;

USE FROM Layered_shape_arm;

USE FROM Physical_unit_design_view_arm;

  ENTITY Assembly_connection_zone_position_relationship;
      associating_design_view_shape               : feature_shape_definition;
      associated_usage                            : connection_zone_in_design_view;
      associated_connection_zone_shape_definition : feature_shape_definition;
      associated_usage_placement                  : axis_placement;
      associating_design_view                     : assembly_module;
  END_ENTITY; -- assembly_connection_zone_position_relationship
 
END_SCHEMA; -- Assembly_shape_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly 2d shape - EXPRESS ARM
*)
SCHEMA Assembly_2d_shape_arm;

USE FROM Physical_unit_2d_design_view_arm;

USE FROM Assembly_technology_arm;

	SUBTYPE_CONSTRAINT component_2d_location_subtypes FOR component_2d_location;         
	    ONEOF (component_2d_edge_location,
	 component_2d_stacked_location,
	 component_2d_surface_location);    
	END_SUBTYPE_CONSTRAINT;

  ENTITY Component_2d_edge_location
    SUBTYPE OF (Component_2d_location);
      reference_terminal_assembly_joint : assembly_joint;
      mounting_surface_assembly_joint   : assembly_joint;
    WHERE
      WR1 : reference_terminal_assembly_joint <> mounting_surface_assembly_joint;
      WR2 : SELF\component_2d_location.substrate_location = FALSE;
      WR3 : SIZEOF(['AP210_ARM.INTERCONNECT_MODULE_COMPONENT_TERMINAL',
 'AP210_ARM.INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE'] * TYPEOF(mounting_surface_assembly_joint.assembly_features_1)) >= 0;
  END_ENTITY; -- component_2d_edge_location

  ENTITY Component_2d_stacked_location
    SUBTYPE OF (Component_2d_location);
      mounting_joint : assembly_joint;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.INTERCONNECT_MODULE_COMPONENT_TERMINAL',
 'AP210_ARM.INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE'] * TYPEOF(mounting_joint.assembly_features_1)) = 0;
      WR2 : SIZEOF(['AP210_ARM.INTERCONNECT_MODULE_COMPONENT_TERMINAL',
 'AP210_ARM.INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE'] * TYPEOF(mounting_joint.assembly_features_2)) = 0;
      WR3 : SELF\component_2d_location.substrate_location = FALSE;
  END_ENTITY; -- component_2d_stacked_location

  ENTITY Component_2d_surface_location
    SUBTYPE OF (Component_2d_location);
      mounting_surface_assembly_joint : assembly_joint;
    WHERE
      WR1 : SELF\component_2d_location.substrate_location = FALSE;
      WR2 : SIZEOF(['AP210_ARM.INTERCONNECT_MODULE_COMPONENT_TERMINAL',
 'AP210_ARM.INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE'] * TYPEOF(mounting_surface_assembly_joint.assembly_features_1)) >= 0;
  END_ENTITY; -- component_2d_surface_location

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly 3d shape - EXPRESS ARM
*)

SCHEMA Assembly_3d_shape_arm;

USE FROM Assembly_technology_arm;

USE FROM Physical_unit_3d_shape_arm;

USE FROM Layered_3d_shape_arm;

  ENTITY Bond_assembly_position;
      bond                      : assembled_with_bonding;
      assembly_model            : physical_unit_3d_shape;
      bond_model                : default_assembly_bond_shape;
      bond_definition_placement : axis_placement_3d;
   UNIQUE
   	UR1 : bond;
  END_ENTITY; -- bond_assembly_position

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_technology_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly technology - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_technology_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Analytical_model_arm;

USE FROM Layered_shape_arm;

USE FROM Specification_document_arm;

USE FROM Assembly_module_design_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Product_identification_extension_arm;

	SUBTYPE_CONSTRAINT assembly_module_subtypes FOR assembly_module; 
		(ONEOF (pca,
		 reference_packaged_part_assembly_implementation));
	END_SUBTYPE_CONSTRAINT;

 	TYPE at_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Assembly_bond_definition);
	END_TYPE;

	TYPE at_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Assembly_joint);
	END_TYPE; 
	
  TYPE degree_of_freedom = ENUMERATION OF
    (x,
     y,
     z,
     u,
     v,
     w);
  END_TYPE; -- degree_of_freedom

	SUBTYPE_CONSTRAINT process_specification_subtypes FOR process_specification;   
		(ONEOF (assembly_technology_specification,
		fabrication_technology_specification));
	END_SUBTYPE_CONSTRAINT; 

  ENTITY Assembled_with_bonding
    SUBTYPE OF (Assembly_joint);
      default_bond_definition : assembly_bond_definition;
    WHERE
      WR1 : SELF\assembly_joint.assembly_features_1.definition :=: default_bond_definition.bonded_feature_1;
      WR2 : SELF\assembly_joint.assembly_features_2.definition :=: default_bond_definition.bonded_feature_2;
  END_ENTITY; -- assembled_with_bonding

  ENTITY Assembled_with_fasteners
    SUBTYPE OF (Assembly_joint);
      SELF\assembly_joint.associated_assembly : assembly_group_component;
  END_ENTITY; -- assembled_with_fasteners

  ENTITY Assembly_bond_definition;
      analytical_assembly_bond_representation : OPTIONAL SET[1:?] OF analytical_model_application;
      associated_definition                   : externally_defined_ee_product_definition;
      bond_material                           : material_identification;
      bonded_feature_1                        : part_feature;
      bonded_feature_2                        : part_feature;
      name                                    : STRING; 
    INVERSE
      default_shape : SET[0:1] OF default_assembly_bond_shape FOR characterized_bond_definition;
	  bond_category	: External_source_identification FOR item;      
    UNIQUE
      UR1 : name;
    WHERE
      WR1 : bonded_feature_1 <> bonded_feature_2;
  END_ENTITY; -- assembly_bond_definition

  ENTITY Assembly_joint
    SUPERTYPE OF (assembled_with_fasteners ANDOR
 assembled_with_bonding);
      assembly_features_1 : assembled_feature_select;
      assembly_features_2 : assembled_feature_select;
      associated_assembly : assembly_module_or_assembly_group_component;
      description         : OPTIONAL STRING;
      name                : STRING;
    UNIQUE
      UR1 : name,
 associated_assembly;
    WHERE
      WR1 : assembly_features_1 :<>: assembly_features_2;
      WR2 : ('AP210_ARM.ASSEMBLED_WITH_FASTENERS' IN TYPEOF(SELF)) OR (('AP210_ARM.COMPONENT_FEATURE' IN TYPEOF(assembly_features_1)) AND (SIZEOF(QUERY(ay <* assembly_features_1\component_feature.associated_component\definition_based_product_occurrence.occurrence_contexts | ay.related_view <> associated_assembly)) = 0));
      WR3 : ('AP210_ARM.ASSEMBLED_WITH_FASTENERS' IN TYPEOF(SELF)) OR (('AP210_ARM.COMPONENT_FEATURE' IN TYPEOF(assembly_features_2)) AND (SIZEOF(QUERY(ay <* assembly_features_2\component_feature.associated_component\definition_based_product_occurrence.occurrence_contexts | ay.related_view <> associated_assembly)) = 0));
  END_ENTITY; -- assembly_joint

  ENTITY Assembly_technology_specification
    SUBTYPE OF (process_specification);
  END_ENTITY; -- assembly_technology_specification

  ENTITY Component_mating_constraint_condition;
      constraining_joint            : SET[1:3] OF assembly_joint;
      constrained_degree_of_freedom : SET[1:5] OF degree_of_freedom;
      of_context                    : part_design_view;
      name                          : STRING; --ee_name;
    UNIQUE
      UR1 : name,
 of_context;
  END_ENTITY; -- component_mating_constraint_condition

  ENTITY Connection_zone_based_assembly_joint
    SUBTYPE OF (Assembly_joint);
      zone_1 : connection_zone_in_design_view;
      zone_2 : connection_zone_in_design_view;
    WHERE
      WR1 : zone_1 :<>: zone_2;
  END_ENTITY; -- connection_zone_based_assembly_joint

  ENTITY Default_assembly_bond_shape
    SUBTYPE OF (Feature_shape_definition);
      characterized_bond_definition : assembly_bond_definition;
  END_ENTITY; -- default_assembly_bond_shape

  ENTITY Reference_packaged_part_assembly_implementation
    SUBTYPE OF (Assembly_module);
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | NOT (SIZEOF(QUERY(epcr <* USEDIN(prpc,
 'AP210_ARM.PRODUCT_CATEGORY_HIERARCHY.SUPER_CATEGORY') | (epcr.sub_category\product_category.name = 'template model'))) = 1))) = 0;
  END_ENTITY; -- reference_packaged_part_assembly_implementation

END_SCHEMA; -- Assembly_technology_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Bare_die_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Bare die - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Bare_die_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Elemental_geometric_shape_arm;

USE FROM Part_feature_function_arm;
	
USE FROM Extended_geometric_tolerance_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Network_functional_usage_view_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Shape_composition_arm;

USE FROM Part_terminal_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Part_occurrence_arm;

  ENTITY Bare_die
    SUBTYPE OF (part_usage_view);
      least_material_condition_centroid_location   : OPTIONAL cartesian_point;
      maximum_height_above_seating_plane           : OPTIONAL length_data_element;
      maximum_material_condition_centroid_location : OPTIONAL cartesian_point;
      implemented_function                         : functional_unit_usage_view;
    INVERSE
      access_mechanisms : SET[2:?] OF minimally_defined_bare_die_terminal FOR associated_definition;
      die_seating_plane : non_feature_shape_element FOR scope;
    UNIQUE
      UR1 : implemented_function;
    WHERE
      WR1 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.shape_element.containing_shape') | ('AP210_ARM.' + 'BARE_DIE_TOP_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR2 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.shape_element.containing_shape') | ('AP210_ARM.' + 'BARE_DIE_BOTTOM_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR3 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.shape_element.containing_shape') | ('AP210_ARM.' + 'BARE_DIE_EDGE_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR4 : 'AP210_ARM.SEATING_PLANE' IN TYPEOF(die_seating_plane);
  END_ENTITY; -- bare_die

  ENTITY Bare_die_bottom_surface
    SUBTYPE OF (Bare_die_surface);
  END_ENTITY; -- bare_die_bottom_surface

  ENTITY Bare_die_edge_segment_surface
    SUBTYPE OF (Bare_die_surface);
      composed_surface                        : bare_die_edge_surface;
      start_vertex                            : edge_segment_vertex;
      end_vertex                              : edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
      WR2 : SELF\shape_element.containing_shape :=: composed_surface\shape_element.containing_shape;
  END_ENTITY; -- bare_die_edge_segment_surface

  ENTITY Bare_die_edge_surface
    SUBTYPE OF (Bare_die_surface);
  END_ENTITY; -- bare_die_edge_surface

  ENTITY Bare_die_surface
    ABSTRACT SUPERTYPE OF (ONEOF (bare_die_top_surface,
 bare_die_bottom_surface,
 bare_die_edge_segment_surface,
 bare_die_edge_surface))
    SUBTYPE OF (part_mounting_feature);
			SELF\part_feature.associated_definition : bare_die;    
  END_ENTITY; -- bare_die_surface

  ENTITY Bare_die_terminal
    SUBTYPE OF (Minimally_defined_bare_die_terminal);
      material                 : material_identification;
      external_connection_area : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
      seating_plane_zone       : OPTIONAL connection_zone_bare_die_interface_plane_relationship;
  END_ENTITY; -- bare_die_terminal

  ENTITY Bare_die_terminal_surface_constituent_relationship
    SUBTYPE OF (shape_element_constituent_relationship);
      SELF\shape_element_relationship.relating : bare_die_surface;
      SELF\shape_element_relationship.related  : bare_die_terminal;
  END_ENTITY; -- bare_die_terminal_surface_constituent_relationship

  ENTITY Bare_die_top_surface
    SUBTYPE OF (Bare_die_surface);
  END_ENTITY; -- bare_die_top_surface

  ENTITY Connection_zone_bare_die_interface_plane_relationship;
      interface_plane          : seating_plane;
      mating_zone              : connection_zone_in_usage_view;
      derived_zone             : connection_zone_in_usage_view;
      derived_zone_shape_class : STRING;
    INVERSE
      associated_bare_die_terminal : SET[0:1] OF bare_die_terminal FOR seating_plane_zone;
    UNIQUE
      UR1 : interface_plane,
 mating_zone;
    WHERE
      WR1 : derived_zone_shape_class IN ['area', 'edge'];
  END_ENTITY; 

  ENTITY Guided_wave_bare_die_terminal
    SUBTYPE OF (Minimally_defined_bare_die_terminal);
  END_ENTITY; -- guided_wave_bare_die_terminal

  ENTITY Minimally_defined_bare_die_terminal
    SUPERTYPE OF (guided_wave_bare_die_terminal ANDOR
 bare_die_terminal)
    SUBTYPE OF (part_terminal);
      SELF\part_feature.associated_definition : bare_die;
  END_ENTITY; -- minimally_defined_bare_die_terminal

END_SCHEMA; -- Bare_die_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Characteristic_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Characteristic - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Characteristic_arm;

USE FROM Document_assignment_arm;

USE FROM Extended_measure_representation_arm;

USE FROM Value_with_unit_extension_arm;
  
  TYPE characteristic = SELECT
    (String_representation_item,
    Numerical_item_with_unit,
    Value_list,
    Value_set);
  END_TYPE; -- value_qualifier

	TYPE c_documented_element_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON documented_element_select WITH 
	   (coordinated_characteristic);
	END_TYPE; 
  
  TYPE coordinated_characteristic = SELECT
    (property_value_representation,
    characteristic_representation);
  END_TYPE; -- value_qualifier

  TYPE range_class = ENUMERATION OF
    (closed,
     lower_open,
     upper_open,
     open);
  END_TYPE; -- range_class

  TYPE scalar_or_coordinated_characteristics = SELECT
    (coordinated_characteristic,
     characteristic);
  END_TYPE; -- scalar_or_coordinated_characteristics

  TYPE value_qualifier = SELECT
    (precision_qualifier,
     type_qualifier,
     uncertainty_qualifier);
  END_TYPE; -- value_qualifier

	ENTITY Characteristic_representation
		SUBTYPE OF (representation);
	END_ENTITY; -- characteristic_representation

  ENTITY Expanded_uncertainty
    SUBTYPE OF (standard_uncertainty);
      coverage_factor : REAL;
  END_ENTITY; -- expanded_uncertainty

  ENTITY Maximum_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
      SELF\characteristic_representation.items : SET[1:1] OF numerical_item_with_unit;
  END_ENTITY; -- maximum_tolerance_characteristic

  ENTITY Measure_qualification;
      name              : STRING; --text;
      description       : STRING; --text;
      qualified_measure : value_with_unit;
      qualifiers        : SET[1:?] OF value_qualifier;
  END_ENTITY; -- measure_qualification

  ENTITY Minimum_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
      SELF\characteristic_representation.items : SET[1:1] OF numerical_item_with_unit;
  END_ENTITY; -- minimum_tolerance_characteristic

  ENTITY Nominal_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
  END_ENTITY; -- nominal_tolerance_characteristic

  ENTITY Plus_minus_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
      SELF\characteristic_representation.items : SET[3:3] OF numerical_item_with_unit;
  END_ENTITY; -- plus_minus_tolerance_characteristic

  ENTITY Precision_qualifier;
      precision_value : INTEGER;
  END_ENTITY; -- precision_qualifier

  ENTITY Qualitative_uncertainty
    SUBTYPE OF (uncertainty_qualifier);
      uncertainty_value : STRING; --text;
  END_ENTITY; -- qualitative_uncertainty

  ENTITY Range_characteristic
    SUBTYPE OF (Characteristic_representation);
      SELF\characteristic_representation.items 	: SET[2:2] OF numerical_item_with_unit;
      range_type				: range_class;
  END_ENTITY; -- range_characteristic

  ENTITY Standard_uncertainty
    SUPERTYPE OF (expanded_uncertainty)
    SUBTYPE OF (uncertainty_qualifier);
      uncertainty_value : REAL;
  END_ENTITY; -- standard_uncertainty

  ENTITY Statistical_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
  END_ENTITY; -- statistical_tolerance_characteristic

  ENTITY Symmetrical_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
      SELF\characteristic_representation.items : SET[2:2] OF numerical_item_with_unit;
  END_ENTITY; -- symmetrical_tolerance_characteristic

  ENTITY Text_representation_item
  	SUBTYPE OF (String_representation_item);
  	DERIVE
  		SELF\String_representation_item.name : STRING := 'text';
  END_ENTITY; -- text_representation_item

  ENTITY Tolerance_characteristic
    SUPERTYPE OF (ONEOF (minimum_tolerance_characteristic,
 statistical_tolerance_characteristic,
 symmetrical_tolerance_characteristic,
 maximum_tolerance_characteristic,
 plus_minus_tolerance_characteristic,
 nominal_tolerance_characteristic))
    SUBTYPE OF (Characteristic_representation);
      SELF\characteristic_representation.items : SET[1:?] OF numerical_item_with_unit;
  END_ENTITY; -- tolerance_characteristic

  ENTITY Type_qualifier;
      name : STRING; --label;
  END_ENTITY; -- type_qualifier

  ENTITY Uncertainty_qualifier
    SUPERTYPE OF (ONEOF (standard_uncertainty,
 qualitative_uncertainty));
      measure_name : STRING; --text;
      description  : STRING; --text;
  END_ENTITY; -- uncertainty_qualifier

END_SCHEMA; -- Characteristic_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Datum_difference_based_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Datum difference based model - EXPRESS ARM
*)

SCHEMA Datum_difference_based_model_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Network_functional_usage_view_arm;

	SUBTYPE_CONSTRAINT model_parameter_subtypes FOR model_parameter; 
		ONEOF (datum_difference_based_model_parameter,
	 	schema_based_model_parameter);
	END_SUBTYPE_CONSTRAINT;

  ENTITY Datum_difference_based_model_parameter
    SUBTYPE OF (Model_parameter);
      of_datum_difference : datum_difference;
  END_ENTITY; -- datum_difference_based_model_parameter

  ENTITY Datum_difference_functional_unit_usage_view_terminal_assignment;
      assigned_functional_terminal_definition : functional_unit_usage_view_terminal_definition;
      assigned_datum_difference               : datum_difference;
  END_ENTITY; -- datum_difference_functional_unit_usage_view_terminal_assignment

END_SCHEMA; -- Datum_difference_based_model_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Design_management_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Design management - EXPRESS ARM
*)

SCHEMA Design_management_arm;

USE FROM Approval_arm;

USE FROM Work_order_arm;

USE FROM Work_request_arm;

USE FROM Product_view_definition_arm;

  TYPE design_object_management_relationship_item = SELECT (
		work_request, 
		work_order);
  END_TYPE; -- design_object_management_relationship_item

	TYPE dm_approval_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON approval_item WITH 
   (frozen_assignment);
	END_TYPE; 

 	TYPE managed_design_object = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  ENTITY Add_design_object_management_relationship
    SUBTYPE OF (Design_object_management_relationship);
      current_design_object : managed_design_object;
    UNIQUE
      UR1 : current_design_object;
  END_ENTITY; -- add_design_object_management_relationship

  ENTITY Change_design_object_management_relationship
    SUBTYPE OF (Design_object_management_relationship);
      current_design_object  : managed_design_object;
      previous_design_object : managed_design_object;
    UNIQUE
      UR1 : current_design_object;
      UR2 : previous_design_object;
  END_ENTITY; -- change_design_object_management_relationship

  ENTITY Delete_design_object_management_relationship
    SUBTYPE OF (Design_object_management_relationship);
      previous_design_object : managed_design_object;
    UNIQUE
      UR1 : previous_design_object;
  END_ENTITY; -- delete_design_object_management_relationship

  ENTITY Design_object_management_relationship
    ABSTRACT SUPERTYPE OF (ONEOF (change_design_object_management_relationship,
 delete_design_object_management_relationship,
 add_design_object_management_relationship)ANDOR(view_dependent_design_object_management_relationship));
  END_ENTITY; -- design_object_management_relationship


  ENTITY Design_object_management_relationship_assignment;
      changes: SET[1:?] OF design_object_management_relationship;
      items : SET[1:?] OF design_object_management_relationship_item;
  END_ENTITY;

  ENTITY Frozen_assignment;
      frozen_item       : SET[1:?] OF managed_design_object;
(** Need a global rule to capture cardinality      
      assigned_approval : approval;
*)      
  END_ENTITY; -- frozen_assignment

  ENTITY View_dependent_design_object_management_relationship
    SUBTYPE OF (Design_object_management_relationship);
      previous_design : product_view_definition;
      current_design  : product_view_definition;
  END_ENTITY; -- view_dependent_design_object_management_relationship

END_SCHEMA; -- Design_management_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Device_marking_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Device marking - EXPRESS ARM
*)

SCHEMA Device_marking_arm;

USE FROM Approval_arm;

USE FROM Characteristic_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Part_template_2d_shape_arm;

USE FROM Part_template_3d_shape_arm;

USE FROM Part_template_non_planar_shape_arm;

USE FROM Person_organization_arm;

USE FROM Physical_unit_2d_shape_arm;

USE FROM Physical_unit_3d_shape_arm;

USE FROM Product_version_arm;

USE FROM Specification_document_arm;

USE FROM Styled_text_arm;

  TYPE marked_message_select = SELECT
    (configuration_controlled_message,
     text_representation_item);
  END_TYPE; -- marked_message_select

TYPE marking_shape_select = SELECT
    (part_template_3d_shape,
     physical_unit_3d_shape,
     part_template_non_planar_2d_shape,
     part_template_planar_shape,
     physical_unit_planar_shape);
END_TYPE; -- ap210_marking_shape_select

  	TYPE message_source_select = SELECT
      	(Organization,
		Approval,
     	Product_version);
	END_TYPE;

  TYPE message_type = ENUMERATION OF
    (part_number,
     manufacturer_code,
     revision_identifier,
     approval_date);
  END_TYPE; -- message_type
    
  ENTITY Configuration_controlled_message;
      message_source             : message_source_select;
      message_content            : STRING;
      message_type_specification : message_type;
  END_ENTITY; -- configuration_controlled_message

  ENTITY Marking;
      marked_message              : marked_message_select;
      marked_device_shape         : marking_shape_select;
      marking_material            : material_identification;
      placement                   : axis_placement;
      message_representation      : feature_shape_definition;
      message_representation_text : styled_text;
      marking_specification       : specification_definition;
    WHERE
      WR1 : SIZEOF(QUERY(st <* message_representation\geometric_model.items | st = message_representation_text)) = 1;
      WR2 : SIZEOF(QUERY(ap <* marked_device_shape\geometric_model.items | ap = placement)) = 1;
      WR3 : SIZEOF(TYPEOF(marked_device_shape) * ['AP210_ARM.PHYSICAL_UNIT_3D_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE']) = 1;
  END_ENTITY; -- marking

END_SCHEMA; -- Device_marking_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Specification_document_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Specification document - EXPRESS ARM
*)

SCHEMA Specification_document_arm;

USE FROM Document_definition_arm;

USE FROM Person_organization_assignment_arm;

USE FROM Characteristic_arm;

 	TYPE sd_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Structured_text);
	END_TYPE;

	TYPE specification_product_object_select = 
		EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  ENTITY Design_specification
    SUPERTYPE OF (interface_specification)
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- design_specification

  ENTITY Fabrication_technology_specification
    SUBTYPE OF (process_specification);
  END_ENTITY; -- fabrication_technology_specification

  ENTITY Interface_specification
    SUBTYPE OF (Design_specification);
  END_ENTITY; -- interface_specification

  ENTITY Language_reference_manual
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- language_reference_manual

  ENTITY Material_specification
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- material_specification

  ENTITY Process_specification
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- process_specification

  ENTITY Specification_allocation;
      allocated_specification      : specification_definition;
      target_product_object        : SET[1:?] OF specification_product_object_select;
      purpose                      : STRING; --ee_name;
      identifier_in_target_context : OPTIONAL STRING; --ee_name;
    DERIVE
      the_context : specification_product_object_select := target_product_object[1];
    UNIQUE
      UR1 : identifier_in_target_context,
 the_context;
    WHERE
      WR1 : NOT EXISTS(identifier_in_target_context) OR (SIZEOF(target_product_object) = 1);
  END_ENTITY; -- specification_allocation

  ENTITY Specification_definition
  	SUPERTYPE OF(ONEOF (design_specification,
	 process_specification,
	 material_specification,
	 test_specification,
	 language_reference_manual))
    SUBTYPE OF (Document_definition);
    INVERSE 
      source : organization_or_person_in_organization_assignment FOR items;
  END_ENTITY; -- specification_definition

  ENTITY Structured_text
  	SUBTYPE OF (Document_definition);
      plain_text_content        : OPTIONAL text_representation_item;
      precedent_structured_text : OPTIONAL structured_text;
      structured_text_content   : OPTIONAL SET[1:?] OF structured_text;
    INVERSE
      content_markup						: External_source_identification FOR item;
  END_ENTITY; -- structured_text

  ENTITY Structured_text_id_in_document;
      identifier : STRING; --ee_name;
      text       : structured_text;
      document   : document_definition;
    UNIQUE
      UR1 : identifier,
 document;
  END_ENTITY; -- structured_text_id_in_document

  ENTITY Surface_finish_specification
    SUBTYPE OF (Material_specification);
  END_ENTITY; -- surface_finish_specification

  ENTITY Test_specification
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- test_specification

END_SCHEMA; -- Specification_document_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Fabrication_joint_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Fabrication joint - EXPRESS ARM
*)

SCHEMA Fabrication_joint_arm;

USE FROM Land_arm;

USE FROM Layered_interconnect_module_with_printed_component_design_arm;

USE FROM Sequential_laminate_assembly_design_arm;

 	TYPE fabricated_feature_select = SELECT(
 		component_termination_passage_join_terminal,
 		conductive_interconnect_element_terminal,
	    embedded_component_terminal,
 		land_join_terminal,
 		non_functional_land_join_terminal,
 		printed_component_join_terminal,
         via_terminal);
	END_TYPE;

  ENTITY Connection_zone_based_fabrication_joint
    SUBTYPE OF (Fabrication_joint);
      zone_1 : connection_zone_in_design_view;
      zone_2 : connection_zone_in_design_view;
    WHERE
      WR1 : zone_1 :<>: zone_2;
  END_ENTITY; -- connection_zone_based_fabrication_joint

  ENTITY Fabrication_joint;
      fabrication_features_1         : fabricated_feature_select;
      fabrication_features_2         : fabricated_feature_select;
      auxiliary_joint_material       : OPTIONAL stratum_feature_template_component;
      associated_interconnect_module : interconnect_module;
  END_ENTITY; -- fabrication_joint

END_SCHEMA; -- Fabrication_joint_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Form_features_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Form features - EXPRESS ARM
*)

SCHEMA Form_features_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Layered_2d_shape_arm;

  ENTITY Bevel_edge_feature_shape
    SUBTYPE OF (Edge_shape);
      minimum_bevel_width : length_data_element;
      minimum_bevel_angle : angle_data_element;
      maximum_bevel_width : length_data_element;
      maximum_bevel_angle : angle_data_element;
  END_ENTITY; -- bevel_edge_feature_shape

  ENTITY Edge_shape
    ABSTRACT SUPERTYPE OF (ONEOF (bevel_edge_feature_shape,
 step_edge_feature_shape,
 radius_edge_feature_shape))
    SUBTYPE OF (planar_shape,
 feature_shape_definition);
    WHERE
      WR1 : SIZEOF(QUERY(escss <* USEDIN(SELF,
 'AP210_ARM.SHAPE_DEFINITION_3D_INTERSECTION.SURFACE_INTERSECTION_RESULT') | NOT ('AP210_ARM.EDGE_SEGMENT_CROSS_SECTION' IN TYPEOF(escss)))) = 0;
  END_ENTITY; -- edge_shape

  ENTITY Radius_edge_feature_shape
    SUBTYPE OF (Edge_shape);
      minimum_radius_length : length_data_element;
      maximum_radius_length : length_data_element;
  END_ENTITY; -- radius_edge_feature_shape

  ENTITY Step_edge_feature_shape
    SUBTYPE OF (Edge_shape);
      minimum_step_width : length_data_element;
      maximum_step_width : length_data_element;
      maximum_step_depth : length_data_element;
      minimum_step_depth : length_data_element;
  END_ENTITY; -- step_edge_feature_shape

END_SCHEMA; -- Form_features_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_decomposition_to_assembly_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional decomposition to assembly design - EXPRESS ARM
*)

SCHEMA Functional_decomposition_to_assembly_design_arm;

USE FROM Functional_decomposition_to_design_arm;

USE FROM Assembly_technology_arm;

  ENTITY Design_functional_unit_allocation_to_assembly_joint;
      functional_design_definition_path : design_composition_path;
      implementation                    : assembly_joint;
    UNIQUE
      UR1 : functional_design_definition_path;
  END_ENTITY; -- design_functional_unit_allocation_to_assembly_joint

END_SCHEMA; -- Functional_decomposition_to_assembly_design_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_decomposition_to_interconnect_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional decomposition to interconnect design - EXPRESS ARM
*)

SCHEMA Functional_decomposition_to_interconnect_design_arm;

USE FROM Functional_decomposition_to_design_arm;

USE FROM Fabrication_joint_arm;

USE FROM Layered_interconnect_module_with_printed_component_design_arm;
	
USE FROM Network_functional_design_view_arm;
	

  ENTITY Design_functional_unit_allocation_to_fabrication_joint;
      functional_design_definition_path : design_composition_path;
      implementation                    : fabrication_joint;
    UNIQUE
      UR1 : functional_design_definition_path;
  END_ENTITY; -- design_functional_unit_allocation_to_fabrication_joint

  ENTITY Transmission_line_functional_unit_terminal_allocation;
      implementation                             : printed_component_join_terminal;
      transmission_line_functional_unit_terminal : functional_unit_terminal;
      functional_unit_design_path                : transmission_line_functional_unit_to_routed_printed_component_allocation;
    UNIQUE
      UR1 : implementation,
 transmission_line_functional_unit_terminal;
  END_ENTITY; -- transmission_line_functional_unit_terminal_allocation

  ENTITY Transmission_line_functional_unit_to_routed_printed_component_allocation
    SUBTYPE OF (Design_functional_unit_allocation_to_assembly_component);
      SELF\design_functional_unit_allocation_to_assembly_component.implementation : routed_printed_component;
  END_ENTITY; -- transmission_line_functional_unit_to_routed_printed_component_allocation

END_SCHEMA; -- Functional_decomposition_to_interconnect_design_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Network_functional_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Network functional design view - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Network_functional_design_view_arm;

USE FROM Network_functional_usage_view_arm;

USE FROM Model_parameter_arm;

USE FROM Requirement_assignment_arm;

	SUBTYPE_CONSTRAINT functional_unit_definition_subtypes FOR functional_unit_definition;     
		(ONEOF (functional_unit_network_definition,
		functional_unit_usage_view));
	END_SUBTYPE_CONSTRAINT; 

  TYPE bus_structural_definition_or_node = SELECT
    (functional_unit_network_node_definition,
     bus_structural_definition);
  END_TYPE; -- bus_structural_definition_or_node

TYPE nfdw_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
    (functional_unit);
END_TYPE; 

  ENTITY Bus_element_link;
      precedent_element  : bus_structural_definition_or_node;
      subsequent_element : bus_structural_definition_or_node;
    UNIQUE
      UR1 : precedent_element,
 subsequent_element;
    WHERE
      WR1 : precedent_element <> subsequent_element;
  END_ENTITY; -- bus_element_link

  ENTITY Bus_structural_definition;
      bus_name    : STRING; --ee_name;
      composition : SET[1:?] OF bus_element_link;
    INVERSE
      external_bus_access : SET[0:1] OF functional_unit_network_terminal_definition_bus_assignment FOR connected_bus;
    UNIQUE
      UR1 : bus_name;
    WHERE
      WR1 : consistent_bus_structural_definition(composition);
  END_ENTITY; -- bus_structural_definition

  ENTITY Equivalent_functional_unit_definition_assignment;
      equivalent_functional_unit_definitions : SET[2:?] OF functional_unit_definition;
      name                                   : STRING; --ee_name;
  END_ENTITY; -- equivalent_functional_unit_definition_assignment

  ENTITY Functional_unit;
      definition            : functional_unit_definition;
      reference_designation : STRING; --ee_name;
      composed_network      : functional_unit_network_definition;
      functional_property   : OPTIONAL SET[1:?] OF parameter_assignment_override;
    INVERSE
      access_mechanisms : SET[1:?] OF functional_unit_terminal FOR accessed_functional_unit;
    UNIQUE
      UR1 : reference_designation, composed_network;
  END_ENTITY; -- functional_unit

  ENTITY Functional_unit_network_definition
    SUBTYPE OF (Functional_unit_definition);
      usage_view : functional_unit_usage_view;
  END_ENTITY; -- functional_unit_network_definition

  ENTITY Functional_unit_network_node_definition;
      associated_functional_unit_definition : functional_unit_network_definition;
      functional_unit_network_node_name     : STRING; --ee_name;
    DERIVE
      valid_conservative_node : BOOLEAN := ((SIZEOF(QUERY(vc <* USEDIN(SELF,
 'AP210_ARM.BUS_ELEMENT_LINK.PRECEDENT_ELEMENT') | TRUE)) + SIZEOF(QUERY(vc <* USEDIN(SELF,
 'AP210_ARM.BUS_ELEMENT_LINK.SUBSEQUENT_ELEMENT') | TRUE)) + SIZEOF(QUERY(vc <* USEDIN(SELF,
 'AP210_ARM.FUNCTIONAL_UNIT_TERMINAL_NODE_ASSIGNMENT.COMPOSED_NODE') | TRUE)) + SIZEOF(external_node_access)) > 1);
    INVERSE
      external_node_access : SET[0:1] OF functional_unit_network_terminal_definition_node_assignment FOR composed_node;
    UNIQUE
      UR1 : functional_unit_network_node_name,
 associated_functional_unit_definition;
  END_ENTITY; -- functional_unit_network_node_definition

  ENTITY Functional_unit_network_terminal_definition_bus_assignment;
      connected_bus      : bus_structural_definition;
      connected_terminal : functional_unit_usage_view_terminal_definition;
  END_ENTITY; -- functional_unit_network_terminal_definition_bus_assignment

  ENTITY Functional_unit_network_terminal_definition_node_assignment;
      composed_node      : functional_unit_network_node_definition;
      connected_terminal : functional_unit_usage_view_terminal_definition;
  END_ENTITY; -- functional_unit_network_terminal_definition_node_assignment

  ENTITY Functional_unit_terminal;
      accessed_functional_unit : functional_unit;
      definition               : functional_unit_usage_view_terminal_definition;
    INVERSE
      bus_assignment  : SET[0:1] OF functional_unit_terminal_bus_assignment FOR connected_terminal;
      node_assignment : SET[0:1] OF functional_unit_terminal_node_assignment FOR connected_terminal;
  END_ENTITY; -- functional_unit_terminal

  ENTITY Functional_unit_terminal_bus_assignment;
      connected_bus      : bus_structural_definition;
      connected_terminal : functional_unit_terminal;
  END_ENTITY; -- functional_unit_terminal_bus_assignment

  ENTITY Functional_unit_terminal_node_assignment;
      composed_node      : functional_unit_network_node_definition;
      connected_terminal : functional_unit_terminal;
  END_ENTITY; -- functional_unit_terminal_node_assignment

  FUNCTION consistent_bus_structural_definition(
    input : SET OF bus_element_link
  ) : BOOLEAN;

    LOCAL
      vertex        : SET OF bus_structural_definition_or_node := [];
      edge          : INTEGER := SIZEOF(input);
      vc            : INTEGER := 0;
      vertex_degree : INTEGER := 0;
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      vertex := vertex + input[i].precedent_element;
      vertex := vertex + input[i].subsequent_element;
    END_REPEAT;
    vc := SIZEOF(vertex);
    IF (vc <> (edge + 1)) THEN
      RETURN(FALSE);
    END_IF;
    REPEAT i := 1 TO vc BY 1;
      vertex_degree := 0;
      REPEAT j := 1 TO SIZEOF(input) BY 1;
        IF input[j].precedent_element = vertex[i] THEN
          vertex_degree := vertex_degree + 1;
        END_IF;
        IF input[j].subsequent_element = vertex[i] THEN
          vertex_degree := vertex_degree + 1;
        END_IF;
      END_REPEAT;
      IF (vertex_degree > 2) THEN
        RETURN(FALSE);
      END_IF;
    END_REPEAT;
    RETURN(TRUE);
  END_FUNCTION; -- consistent_bus_structural_definition


END_SCHEMA; -- Network_functional_design_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional decomposition with nodal representation to packaged mapping - EXPRESS ARM
*)

SCHEMA Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm;

USE FROM Part_external_reference_arm;

USE FROM Functional_decomposition_to_design_arm;

USE FROM Functional_design_elaboration_arm;

 
  TYPE design_composition_path_or_root = SELECT
    (design_composition_path,
     functional_unit_network_definition);
  END_TYPE; -- design_composition_path_or_root

  ENTITY Aggregate_connectivity_requirement;
      connectivity_requirement : functional_unit_network_node_definition;
      design_definition_path   : design_composition_path_or_root;
    UNIQUE
      UR1 : design_definition_path,
 connectivity_requirement;
    WHERE
      WR1 : NOT ('AP210_ARM.FUNCTIONAL_UNIT_NETWORK_DEFINITION' IN TYPEOF(design_definition_path)) OR (connectivity_requirement.associated_functional_unit_definition = design_definition_path);
      WR2 : NOT ('AP210_ARM.DESIGN_COMPOSITION_PATH' IN TYPEOF(design_definition_path)) OR (connectivity_requirement.associated_functional_unit_definition = design_definition_path.design_functional_unit.definition);
  END_ENTITY; -- aggregate_connectivity_requirement

  ENTITY Connectivity_allocation;
      implementation           : physical_connectivity_definition;
      connectivity_requirement : aggregate_connectivity_requirement;
    UNIQUE
      UR1 : implementation;
  END_ENTITY; -- connectivity_allocation

END_SCHEMA; -- Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_design_elaboration_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional design elaboration - EXPRESS ARM
*)

SCHEMA Functional_design_elaboration_arm;

USE FROM Part_external_reference_arm;

USE FROM Requirement_decomposition_arm;

USE FROM Specification_document_arm;

USE FROM Physical_component_feature_arm;

	TYPE fde_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Physical_connectivity_element,
	    Physical_connectivity_definition,
	    Physical_connectivity_definition_relationship);
	END_TYPE; 

	TYPE fde_specification_product_object_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON specification_product_object_select WITH 
		(Physical_connectivity_element,
		 Physical_connectivity_definition);
	END_TYPE;

	TYPE termination_or_junction = EXTENSIBLE GENERIC_ENTITY SELECT
    	(Component_terminal);
  	END_TYPE;

  ENTITY Physical_connectivity_definition
    SUPERTYPE OF (physical_connectivity_structure_definition);
      associated_definition : physical_unit_network_definition;
      associated_terminals  : SET[2:?] OF physical_component_terminal;
      name                  : STRING; --ee_name;
    UNIQUE
      UR1 : name,
 associated_definition;
 			UR2 : associated_terminals;
  END_ENTITY; -- physical_connectivity_definition

  ENTITY Physical_connectivity_definition_relationship;
(** Need a rule to constraint cardinality to exactly one   
      requirement         : Requirement_definition_property;
*)      
      previous_definition : physical_connectivity_definition;
      current_definition  : physical_connectivity_definition;
  END_ENTITY; -- physical_connectivity_definition_relationship

  ENTITY Physical_connectivity_element;
      start_terminus       : termination_or_junction;
      name                 : STRING; --ee_name;
      end_terminus         : termination_or_junction;
      connectivity_context : physical_connectivity_structure_definition;
    UNIQUE
      UR1 : name,
 connectivity_context;
    WHERE
      WR1 : start_terminus <> end_terminus;
  END_ENTITY; -- physical_connectivity_element

  ENTITY Physical_connectivity_make_from_relationship;
      reusable_definition  : physical_connectivity_definition;
      resultant_definition : physical_connectivity_definition;
  END_ENTITY; -- physical_connectivity_make_from_relationship

  ENTITY Physical_connectivity_structure_definition
    SUBTYPE OF (physical_connectivity_definition);
    INVERSE
      structural_element : SET[1:?] OF physical_connectivity_element FOR connectivity_context;
  END_ENTITY; -- physical_connectivity_structure_definition

  ENTITY Physical_unit_network_definition
    SUBTYPE OF (product_view_definition);
    WHERE
      WR1 : NOT ('AP210_ARM.part_view_definition' IN TYPEOF(SELF)) OR ('AP210_ARM.part_design_view' IN TYPEOF(SELF));
  END_ENTITY; -- physical_unit_network_definition

END_SCHEMA; -- Functional_design_elaboration_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_specification_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional specification - EXPRESS ARM
*)

SCHEMA Functional_specification_arm;

USE FROM Network_functional_design_view_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Signal_arm;

USE FROM Specification_document_arm;

 	TYPE fs_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Functional_specification);
	END_TYPE;

  ENTITY Functional_specification;
      associated_definition          	: functional_specification_definition;
      reference_signal               	: signal_specification;
      characterizing_functional_unit 	: functional_unit;
      characterizing_signal          	: signal_specification;
    INVERSE
      characteristic_category					: External_source_identification FOR item;
    WHERE
      WR1 : characterizing_functional_unit.composed_network = associated_definition;
  END_ENTITY; -- functional_specification

  ENTITY Functional_specification_definition
    SUBTYPE OF (Functional_unit_network_definition);
    INVERSE
      composing_specification : SET[1:?] OF functional_specification FOR associated_definition;
  END_ENTITY; -- functional_specification_definition

  ENTITY Signal_specification;
      measurement_condition        : test_specification;
      measurement_access_mechanism : functional_unit_terminal;
      reference_access_mechanism   : OPTIONAL functional_unit_terminal;
      minimum_characteristic       : signal_property;
      maximum_characteristic       : signal_property;
      characterization_network     : functional_unit_network_definition;
  END_ENTITY; -- signal_specification

END_SCHEMA; -- Functional_Specification_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Network_functional_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Network functional usage view - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Network_functional_usage_view_arm;

 USE FROM Product_identification_arm;          -- ISO/TS 10303-1017 
 
  REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
          types_of_product 
  ); 
  
  USE FROM Product_view_definition_relationship_arm;
  
  USE FROM Network_functional_design_view_arm;

  ENTITY Equivalent_functional_terminals_assignment;
      equivalent_terminals : SET[2:?] OF functional_unit_usage_view_terminal_definition;
      name                 : STRING; --ee_name;
  END_ENTITY; -- equivalent_functional_terminals_assignment
 
  ENTITY Functional_terminal_group;
      name              : STRING; --ee_name;
      group_description : STRING;
      group_type        : STRING;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- functional_terminal_group

  ENTITY Functional_terminal_group_assignment;
      composed_group                 : functional_terminal_group;
      functional_usage_view_terminal : scalar_terminal_definition;
  END_ENTITY; -- functional_terminal_group_assignment
 
   ENTITY Functional_unit_definition
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (product_view_definition);
      SELF\product_view_definition.defined_version : network_function_version;
  END_ENTITY; -- functional_unit_definition

	ENTITY Functional_unit_make_from_relationship
		SUBTYPE OF (View_definition_relationship);
		SELF\View_definition_relationship.related_view 	: Functional_unit_usage_view;
		SELF\View_definition_relationship.relating_view : Functional_unit_usage_view;
	END_ENTITY;

  ENTITY Functional_unit_usage_view
    SUBTYPE OF (Functional_unit_definition);
    INVERSE
      access_mechanism : SET[1:?] OF functional_unit_usage_view_terminal_definition FOR associated_functional_unit_definition;
  END_ENTITY; -- functional_unit_usage_view

  ENTITY Functional_unit_usage_view_terminal_definition
    SUPERTYPE OF (scalar_terminal_definition);
      associated_functional_unit_definition : functional_unit_usage_view;
      signal_name                           : STRING; --ee_name;
    INVERSE
      node_assignment : SET[0:?] OF functional_unit_network_terminal_definition_node_assignment FOR connected_terminal;
      bus_assignment  : SET[0:?] OF functional_unit_network_terminal_definition_bus_assignment FOR connected_terminal;
    UNIQUE
      UR1 : signal_name,
 associated_functional_unit_definition;
    WHERE
      WR1 : (EXISTS(node_assignment) AND NOT (EXISTS(bus_assignment))) OR (NOT (EXISTS(node_assignment)) AND EXISTS(bus_assignment)) OR (NOT (EXISTS(node_assignment)) AND NOT (EXISTS(bus_assignment)));
  END_ENTITY; -- functional_unit_usage_view_terminal_definition

  ENTITY Functional_unit_usage_view_terminal_definition_make_from_relationship;
      associated_make_from : Functional_unit_make_from_relationship;
      reusable_feature     : Functional_unit_usage_view_terminal_definition;
      resultant_feature    : Functional_unit_usage_view_terminal_definition;
    UNIQUE
      UR1 : reusable_feature,
 resultant_feature;
    WHERE
      WR1 : reusable_feature :<>: resultant_feature;
      WR2 : reusable_feature.associated_functional_unit_definition :<>: resultant_feature.associated_functional_unit_definition;
  END_ENTITY; -- functional_unit_usage_view_terminal_definition_make_from_relationship

  ENTITY Network_function
  	SUBTYPE OF (product);
  	WHERE 
  		WR1 : SIZEOF([ 'network function' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- template
  
  ENTITY Network_function_version
  	SUBTYPE OF (product_version);
  		SELF\product_version.of_product : network_function;
  END_ENTITY; -- template_version

  ENTITY Scalar_terminal_definition
    SUBTYPE OF (Functional_unit_usage_view_terminal_definition);
  END_ENTITY; -- scalar_terminal_definition

  ENTITY Scalar_terminal_definition_link;
      precedent_terminal_definition  : scalar_terminal_definition;
      subsequent_terminal_definition : scalar_terminal_definition;
    UNIQUE
      UR1 : precedent_terminal_definition,
 subsequent_terminal_definition;
    WHERE
      WR1 : precedent_terminal_definition :<>: subsequent_terminal_definition;
  END_ENTITY; -- scalar_terminal_definition_link

END_SCHEMA; -- Network_functional_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Extended_geometric_tolerance_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Extended geometric tolerance - EXPRESS ARM
*)

SCHEMA Extended_geometric_tolerance_arm;

USE FROM Geometric_tolerance_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Shape_composition_arm;

USE FROM Shape_property_assignment_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Requirement_decomposition_arm;

USE FROM Dimension_tolerance_arm;

USE FROM Shape_parameters_arm;

	TYPE physical_feature_or_part_template = 
		EXTENSIBLE GENERIC_ENTITY SELECT
		(datum_feature);
	END_TYPE;

  TYPE centre_type = ENUMERATION OF
    (centred_on_arc,
     centred_on_radial);
  END_TYPE; -- centre_type

  TYPE constraining_element_definitions = SELECT
    (tolerance_zone_definition,
     profile_related_positional_boundary_definition,
     positional_boundary_member_definition,
     conical_tolerance_zone_boundary_diametrical_size_characteristic);
  END_TYPE; -- constraining_element_definitions

  TYPE descriptive_or_geometric_orientation = SELECT
    (measure_orientation,
     direction);
  END_TYPE; -- descriptive_or_geometric_orientation

  TYPE dimension_qualifiers = ENUMERATION OF
    (free_state,
     average);
  END_TYPE; -- dimension_qualifiers

  TYPE dimensional_location_or_dimensional_size = SELECT
    (size_dimension,
     location_dimension);
  END_TYPE; -- dimensional_location_or_dimensional_size

 	TYPE egt_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Externally_defined_dimension_representation);
	END_TYPE;

	TYPE egt_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Restraint_condition,
	  	Statistical_dimensional_tolerance,
	  	Statistical_geometric_tolerance);
	END_TYPE; 

  TYPE geometric_or_dimension_select = SELECT
    (geometric_tolerance,
     geometric_dimension);
  END_TYPE; -- geometric_or_dimension_select

  TYPE geometric_tolerance_qualifiers = ENUMERATION OF
    (pitch_diameter,
     minor_diameter,
     each_element,
     major_diameter,
     each_radial_element,
     not_concave,
     not_convex,
     free_state);
  END_TYPE; -- geometric_tolerance_qualifiers

  TYPE locating_or_refinement_linear_profile_tolerance = SELECT
    (line_profile_tolerance,
     composite_linear_profile_refinement_tolerance);
  END_TYPE; -- locating_or_refinement_linear_profile_tolerance

  TYPE locating_or_refinement_surface_profile_tolerance = SELECT
    (surface_profile_tolerance,
     composite_surface_profile_refinement_tolerance);
  END_TYPE; -- locating_or_refinement_surface_profile_tolerance

  TYPE measure_orientation = ENUMERATION OF
    (reversed,
     normal);
  END_TYPE; -- measure_orientation

	SUBTYPE_CONSTRAINT non_feature_shape_element_subtypes FOR non_feature_shape_element; 
	    (ONEOF (
		 derived_shape_element,
		 directed_axis,
		 positional_boundary,
		 positional_boundary_member,
		 tolerance_zone_boundary,
		 tolerance_zone_boundary_member,
		 viewing_plane,
		 seating_plane,
		 reference_graphic_registration_mark));
	END_SUBTYPE_CONSTRAINT;

  TYPE offset_types = ENUMERATION OF
    (towards_material,
     away_from_material);
  END_TYPE; -- offset_types

  TYPE orientation_select = SELECT
    (datum_axis_related_orientation,
     viewing_plane_based_orientation,
     datum_based_vector_orientation);
  END_TYPE; -- orientation_select

  TYPE restrained_item_select = SELECT
    (single_datum,
     physical_feature_or_part_template);
  END_TYPE; -- restrained_item_select

	TYPE true_profile_representations = SELECT(
		dimension_set,
     	document_definition,
     	rule_function,
     	three_dimensional_shape);
	END_TYPE;

  ENTITY Apex
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- apex

  ENTITY Boundary_size_characteristic
    ABSTRACT SUPERTYPE OF (ONEOF (diametrical_boundary_size_characteristic,
 opposing_boundary_set_size_characteristic));
      tolerance_value         : length_data_element;
      maximum_tolerance_value : OPTIONAL length_data_element;
  END_ENTITY; -- boundary_size_characteristic

  ENTITY Centre_axis
    SUBTYPE OF (Centre_of_symmetry);
  END_ENTITY; -- centre_axis

  ENTITY Centre_of_symmetry
    ABSTRACT SUPERTYPE OF (ONEOF (centre_axis,
 centre_plane,
 centre_point))
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- centre_of_symmetry

  ENTITY Centre_plane
    SUBTYPE OF (Centre_of_symmetry);
  END_ENTITY; -- centre_plane

  ENTITY Centre_point
    SUBTYPE OF (Centre_of_symmetry);
  END_ENTITY; -- centre_point

  ENTITY Composite_linear_profile_refinement_tolerance
    SUBTYPE OF (Line_profile_tolerance);
      refined_control : locating_or_refinement_linear_profile_tolerance;
  END_ENTITY; -- composite_linear_profile_refinement_tolerance

  ENTITY Composite_surface_profile_refinement_tolerance
    SUBTYPE OF (surface_profile_tolerance);
      refined_control : locating_or_refinement_surface_profile_tolerance;
  END_ENTITY; -- composite_surface_profile_refinement_tolerance

  ENTITY Conical_tolerance_zone_boundary
    SUBTYPE OF (tolerance_zone_boundary);
    INVERSE
      boundary_and_surface_relationships : SET[2:2] OF conical_tolerance_zone_boundary_and_surface_relationship FOR sized_tolerance_zone_boundary;
  END_ENTITY; -- conical_tolerance_zone_boundary

  ENTITY Conical_tolerance_zone_boundary_and_surface_relationship;
      sized_tolerance_zone_boundary : conical_tolerance_zone_boundary;
      terminating_surface           : physical_feature_or_part_template;
    INVERSE
      size_characteristic : conical_tolerance_zone_boundary_diametrical_size_characteristic FOR sized_boundary_at_surface;
  END_ENTITY; -- conical_tolerance_zone_boundary_and_surface_relationship

  ENTITY Conical_tolerance_zone_boundary_diametrical_size_characteristic;
      sized_boundary_at_surface : conical_tolerance_zone_boundary_and_surface_relationship;
      tolerance_value           : length_data_element;
  END_ENTITY; -- conical_tolerance_zone_boundary_diametrical_size_characteristic

  ENTITY Conical_tolerance_zone_definition
    SUBTYPE OF (tolerance_zone_definition);
-- LK input needed      SELF\tolerance_zone_definition.boundary_definition : conical_tolerance_zone_boundary_definition;
  END_ENTITY; -- conical_tolerance_zone_definition

  ENTITY Curve_dimension
    SUBTYPE OF (size_dimension);
  END_ENTITY; -- curve_dimension

  ENTITY Datum_axis
    SUBTYPE OF (Datum_shape_element);
  END_ENTITY; -- datum_axis

  ENTITY Datum_axis_and_tolerance_zone_orienting_relationship;
      oriented_tolerance_zone : tolerance_zone;
      orienting_datum_axis    : datum_axis;
    INVERSE
      zone_orientation : datum_axis_related_orientation FOR orienting_relationship;
  END_ENTITY; -- datum_axis_and_tolerance_zone_orienting_relationship

  ENTITY Datum_axis_related_orientation;
      orienting_relationship : datum_axis_and_tolerance_zone_orienting_relationship;
      orientation_type       : centre_type;
  END_ENTITY; -- datum_axis_related_orientation

  ENTITY Datum_based_direction_vector;
      direction_vector_representation : axis_placement;
      vector_of                       : datum_plane;
      positive_direction_vector       : BOOLEAN;
  END_ENTITY; -- datum_based_direction_vector

  ENTITY Datum_based_length_measure;
      measure             : length_data_element;
      measure_orientation : descriptive_or_geometric_orientation;
      of_datum            : datum_plane;
  END_ENTITY; -- datum_based_length_measure

  ENTITY Datum_based_vector_orientation;
      direction_components : SET[2:2] OF direction_element;
  END_ENTITY; -- datum_based_vector_orientation

  ENTITY Datum_difference
    SUBTYPE OF (shape_element_relationship);
      SELF\shape_element_relationship.relation_type : STRING; --label;
      SELF\shape_element_relationship.relating RENAMED precedent_datum : datum_shape_element;
      SELF\shape_element_relationship.related RENAMED subsequent_datum : datum_shape_element;
  END_ENTITY; -- datum_difference

  ENTITY Datum_difference_based_characteristic
    SUBTYPE OF (Measure_item); --characteristic);
      of_datum_difference : datum_difference;
  END_ENTITY; -- datum_difference_based_characteristic

  ENTITY Datum_feature
    SUPERTYPE OF (datum_target_set)
    SUBTYPE OF (Shape_element);
      identification : STRING; --label;
  END_ENTITY; -- datum_feature

  ENTITY Datum_plane
    SUBTYPE OF (Datum_shape_element);
  END_ENTITY; -- datum_plane

  ENTITY Datum_point
    SUBTYPE OF (Datum_shape_element);
      location_in_2d                   : OPTIONAL cartesian_point;
      location_in_3d                   : OPTIONAL cartesian_point;
      associated_3d_shape_intersection : OPTIONAL shape_definition_3d_intersection;
    WHERE
      WR1 : NOT (EXISTS(location_in_2d) AND EXISTS(location_in_3d)) OR EXISTS(associated_3d_shape_intersection);
      WR2 : NOT (EXISTS(location_in_2d)) OR ((SIZEOF(location_in_2d\cartesian_point.coordinates)) = 2);
      WR3 : NOT (EXISTS(location_in_3d)) OR ((SIZEOF(location_in_3d\cartesian_point.coordinates)) = 3);
  END_ENTITY; -- datum_point

	ENTITY datum_shape_element
	  SUBTYPE OF (datum, Non_feature_shape_element);
	END_ENTITY;

  ENTITY Datum_target_set
    SUBTYPE OF (Datum_feature);
    INVERSE
      included_datum_targets : SET[1:?] OF datum_target_usage_in_datum_target_set_relationship FOR defined_datum_target_set;
  END_ENTITY; -- datum_target_set

  ENTITY Datum_target_usage_in_datum_target_set_relationship;
      defined_datum_target_set : datum_target_set;
      used_datum_target        : datum_target;
      datum_target_number      : INTEGER; -- positive_integer;
    UNIQUE
      UR1 : used_datum_target,
 defined_datum_target_set;
      UR2 : datum_target_number,
 defined_datum_target_set;
  END_ENTITY; -- datum_target_usage_in_datum_target_set_relationship

  ENTITY Derived_shape_element
    ABSTRACT SUPERTYPE OF (ONEOF (apex,
 centre_of_symmetry,
 linear_extension,
 geometric_intersection,
 geometric_alignment,
 tangent_shape_element))
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      deriving_relationships : SET[1:?] OF shape_element_deriving_relationship FOR relating;
  END_ENTITY; -- derived_shape_element

  ENTITY Diametrical_boundary_size_characteristic
    SUBTYPE OF (Boundary_size_characteristic);
      sized_boundary : tolerance_zone_circular_or_cylindrical_or_spherical_boundary;
  END_ENTITY; -- diametrical_boundary_size_characteristic

-- Wait for repsonse from LK
--  ENTITY Dimension_location_with_specified_datum_system
--    SUBTYPE OF (Location_dimension);
--      referenced_datum_system_defining_conditions : datum_system_defining_conditions_without_material_conditions;
--  END_ENTITY; -- dimension_location_with_specified_datum_system

  ENTITY Dimension_qualifier
    ABSTRACT SUPERTYPE OF (ONEOF (pre_defined_dimension_qualifier,
 user_defined_dimension_qualifier));
      qualified_dimensions : SET[1:?] OF geometric_dimension;
  END_ENTITY; -- dimension_qualifier

  ENTITY Dimension_related_positional_boundary
    SUBTYPE OF (positional_boundary);
      boundary_members             : SET[1:?] OF positional_boundary_member;
      constrained_physical_feature : physical_feature_or_part_template;
  END_ENTITY; -- dimension_related_positional_boundary

  ENTITY Dimension_related_positional_boundary_definition
    SUBTYPE OF (positional_boundary_definition);
      SELF\positional_boundary_definition.defined_positional_boundary : dimension_related_positional_boundary;
      characterized_boundary_member_definitions                       : SET[1:?] OF positional_boundary_member_definition;
  END_ENTITY; -- dimension_related_positional_boundary_definition

  ENTITY Dimension_set;
      associated_dimensions : SET[1:?] OF geometric_dimension;
  END_ENTITY; -- dimension_set

  ENTITY Dimensional_characteristic_representation;
      representation                     : shape_dimension_representation;
      dimension                          : dimensional_location_or_dimensional_size;
      auxiliary_dimension_representation : BOOLEAN;
  END_ENTITY; -- dimensional_characteristic_representation

  ENTITY Dimensional_size_based_on_opposing_boundaries
    SUBTYPE OF (size_dimension);
      boundary_separation           		: shape_element_locating_relationship;
      SELF\size_dimension.is_applied_to : composite_unit_shape_element;
  END_ENTITY; -- dimensional_size_based_on_opposing_boundaries

  ENTITY Directed_axis
    SUBTYPE OF (Non_feature_shape_element);
      axis_to_be_oriented : centre_axis;
      start_shape_element : shape_element;
      end_shape_element   : shape_element;
    UNIQUE
      UR1 : axis_to_be_oriented,
 start_shape_element;
  END_ENTITY; -- directed_axis

  ENTITY Direction_element;
      direction                     : datum_based_direction_vector;
      angle_value                   : angle_data_element;
      base_datum_plane              : datum_plane;
      direction_of_half_datum_plane : datum_based_direction_vector;
    INVERSE
      elements_of : SET[1:?] OF datum_based_vector_orientation FOR direction_components;
  END_ENTITY; -- direction_element

  ENTITY Edge_segment_vertex
    SUBTYPE OF (single_datum,
 datum_point);
    UNIQUE
      UR1 : SELF\single_datum.datum_name;
  END_ENTITY; -- edge_segment_vertex

  ENTITY Externally_defined_dimension_representation
    SUBTYPE OF (shape_dimension_representation);
      dimension_value : OPTIONAL value_with_unit;
    INVERSE
      definitions			: SET[1:?] OF External_source_identification FOR item;
  END_ENTITY; -- externally_defined_dimension_representation

  ENTITY Geometric_alignment
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- geometric_alignment

  ENTITY Geometric_intersection
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- geometric_intersection

  ENTITY Geometric_tolerance_qualifier
    ABSTRACT SUPERTYPE OF (ONEOF (pre_defined_geometric_tolerance_qualifier,
 user_defined_geometric_tolerance_qualifier));
      qualified_geometric_tolerances : SET[1:?] OF geometric_tolerance;
  END_ENTITY; -- geometric_tolerance_qualifier

  ENTITY Geometric_tolerance_with_applied_material_condition_property
    SUBTYPE OF (Geometric_tolerance);
      applied_material_condition_property_name : material_condition_property_names;
  END_ENTITY; -- geometric_tolerance_with_applied_material_condition_property

-- Need a confirmation from Tom to remove it
--  ENTITY Geometric_tolerance_with_referenced_datum_system
--    ABSTRACT SUPERTYPE OF (
--    ONEOF (angularity_tolerance,
-- parallelism_tolerance,
-- perpendicularity_tolerance,
-- circular_runout_tolerance,
-- symmetry_tolerance,
-- concentricity_and_coaxiality_tolerance,
-- profile_of_any_line_tolerance_with_referenced_datum_system,
-- profile_of_any_surface_tolerance_with_referenced_datum_system,
-- position_tolerance_with_referenced_datum_system
-- , total_runout_tolerance))
--    SUBTYPE OF (Geometric_tolerance);
--      datum_system_definition : datum_system_defining_conditions;
--  END_ENTITY; -- geometric_tolerance_with_referenced_datum_system

  ENTITY Limit_dimension_representation
    SUBTYPE OF (shape_dimension_representation);
      upper_dimension_value : value_with_unit;
      lower_dimension_value : value_with_unit;
  END_ENTITY; -- limit_dimension_representation

  ENTITY Linear_extension
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- linear_extension

  ENTITY Maximum_dimension_representation
    SUBTYPE OF (singular_dimension_representation);
  END_ENTITY; -- maximum_dimension_representation

  ENTITY Minimum_dimension_representation
    SUBTYPE OF (singular_dimension_representation);
  END_ENTITY; -- minimum_dimension_representation

  ENTITY Opposing_boundary_set_size_characteristic
    SUBTYPE OF (Boundary_size_characteristic);
      sized_boundary_set : tolerance_zone_opposing_boundary_set;
  END_ENTITY; -- opposing_boundary_set_size_characteristic

  ENTITY Parallel_shape_element_relationship
    SUBTYPE OF (shape_element_relationship);
  END_ENTITY; -- parallel_shape_element_relationship

  ENTITY Perpendicular_shape_element_relationship
    SUBTYPE OF (shape_element_relationship);
  END_ENTITY; -- perpendicular_shape_element_relationship

-- Need a confirmation from Tom to remove it
--  ENTITY Position_tolerance_with_referenced_datum_system
--    SUPERTYPE OF (ONEOF (composite_feature_locating_position_tolerance,
-- boundary_based_position_tolerance))
--    SUBTYPE OF (position_tolerance,
-- geometric_tolerance_with_referenced_datum_system);
--  END_ENTITY; -- position_tolerance_with_referenced_datum_system

-- Need a confirmation from Tom to remove it
--  ENTITY Position_tolerance_without_referenced_datum_system
--    SUBTYPE OF (position_tolerance,
-- geometric_tolerance);
--  END_ENTITY; -- position_tolerance_without_referenced_datum_system

  ENTITY Positional_boundary
    ABSTRACT SUPERTYPE OF (ONEOF (profile_related_positional_boundary,
 dimension_related_positional_boundary))
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      boundary_definition : positional_boundary_definition FOR defined_positional_boundary;
  END_ENTITY; -- positional_boundary

  ENTITY Positional_boundary_and_profile_boundary_member_relationship;
      offset_positional_boundary                  : profile_related_positional_boundary;
      base_profile_tolerance_zone_boundary_member : tolerance_zone_boundary_member;
    INVERSE
      offset : positional_boundary_offset FOR offset_boundary_relationship;
  END_ENTITY; -- positional_boundary_and_profile_boundary_member_relationship

  ENTITY Positional_boundary_definition
    ABSTRACT SUPERTYPE OF (ONEOF (profile_related_positional_boundary_definition,
 dimension_related_positional_boundary_definition));
      defined_positional_boundary : positional_boundary;
  END_ENTITY; -- positional_boundary_definition

  ENTITY Positional_boundary_member
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      composed_positional_boundary : dimension_related_positional_boundary FOR boundary_members;
      boundary_member_definition   : positional_boundary_member_definition FOR defined_positional_boundary_member;
  END_ENTITY; -- positional_boundary_member

  ENTITY Positional_boundary_member_definition;
      defined_positional_boundary_member : positional_boundary_member;
      tolerance_value                    : length_data_element;
      associated_dimension               : size_dimension;
    INVERSE
      boundary_definition : dimension_related_positional_boundary_definition FOR characterized_boundary_member_definitions;
  END_ENTITY; -- positional_boundary_member_definition

  ENTITY Positional_boundary_offset;
      offset_boundary_relationship : positional_boundary_and_profile_boundary_member_relationship;
      tolerance_value              : length_data_element;
    INVERSE
      boundary_definition : profile_related_positional_boundary_definition FOR boundary_offset;
  END_ENTITY; -- positional_boundary_offset

  ENTITY Pre_defined_dimension_qualifier
    SUBTYPE OF (Dimension_qualifier);
      description : dimension_qualifiers;
  END_ENTITY; -- pre_defined_dimension_qualifier

  ENTITY Pre_defined_geometric_tolerance_qualifier
    SUBTYPE OF (Geometric_tolerance_qualifier);
      description : geometric_tolerance_qualifiers;
  END_ENTITY; -- pre_defined_geometric_tolerance_qualifier

--  ENTITY Profile_boundary_definition_with_offsets
--    SUBTYPE OF (profile_boundary_definition);
--      SELF\tolerance_zone_boundary_definition.defined_zone_boundary : tolerance_zone_explicit_opposing_boundary_set;
--      boundary_offsets                                              : SET[2:2] OF tolerance_zone_boundary_member_offset;
--  END_ENTITY; -- profile_boundary_definition_with_offsets

  ENTITY Profile_related_positional_boundary
    SUBTYPE OF (positional_boundary);
    INVERSE
      associating_relationship : positional_boundary_and_profile_boundary_member_relationship FOR offset_positional_boundary;
  END_ENTITY; -- profile_related_positional_boundary

  ENTITY Profile_related_positional_boundary_definition
    SUBTYPE OF (positional_boundary_definition);
      SELF\positional_boundary_definition.defined_positional_boundary : profile_related_positional_boundary;
      boundary_offset                                                 : positional_boundary_offset;
  END_ENTITY; -- profile_related_positional_boundary_definition

  ENTITY Projected_zone_and_base_relationship;
      base_physical_feature : physical_feature_or_part_template;
      projected_zone        : tolerance_zone;
    INVERSE
      size_characteristic : projected_zone_height_characteristic FOR defined_height_of;
  END_ENTITY; -- projected_zone_and_base_relationship

  ENTITY Projected_zone_height_characteristic;
      defined_height_of      : projected_zone_and_base_relationship;
      projected_height_value : length_data_element;
-- LK input needed    INVERSE
-- LK input needed      zone_definition : projection FOR defining; --projected_zone_height;
  END_ENTITY; -- projected_zone_height_characteristic
 
  ENTITY Restraint_condition
    SUPERTYPE OF (tolerance_specific_restraint_condition);
(** Need a WR to capture cardinality    
      restraint_description : Requirement_definition_property;
*)      
      applied_to            : restrained_item_select;
  END_ENTITY; -- restraint_condition
  
  ENTITY Runout_tolerance_zone_definition_with_specified_angle
    SUBTYPE OF (tolerance_zone_definition);
      runout_orientation : runout_zone_orientation;
  END_ENTITY; -- runout_tolerance_zone_definition_with_specified_angle

  ENTITY Runout_tolerance_zone_orienting_relationship;
      oriented_zone  : tolerance_zone;
      orienting_axis : directed_axis;
    INVERSE
      angular_size_characteristic : runout_zone_orientation FOR oriented_relationship;
  END_ENTITY; -- runout_tolerance_zone_orienting_relationship

  ENTITY Runout_zone_orientation;
      oriented_relationship : runout_tolerance_zone_orienting_relationship;
      semi_angle_value      : angle_data_element;
    INVERSE
      zone_definition : runout_tolerance_zone_definition_with_specified_angle FOR runout_orientation;
  END_ENTITY; -- runout_zone_orientation

  ENTITY Separate_geometric_tolerance_requirement;
      separated_geometric_tolerances : SET[1:?] OF geometric_tolerance;
  END_ENTITY; -- separate_geometric_tolerance_requirement

  ENTITY Shape_dimension_representation
    ABSTRACT SUPERTYPE OF (ONEOF (limit_dimension_representation,
 singular_dimension_representation,
 externally_defined_dimension_representation
 -- ,plus_minus_tolerance_range_representation
 ));
  END_ENTITY; -- shape_dimension_representation

  ENTITY Shape_element_deriving_relationship
    SUBTYPE OF (shape_element_relationship);
      SELF\shape_element_relationship.relating : derived_shape_element;
    UNIQUE
      UR1 : SELF\shape_element_relationship.related, 
 SELF\shape_element_relationship.relating;
  END_ENTITY; -- shape_element_deriving_relationship

  ENTITY Simultaneous_geometric_tolerance_requirement;
      grouped_geometric_tolerances : SET[2:?] OF geometric_tolerance;
  END_ENTITY; -- simultaneous_geometric_tolerance_requirement

  ENTITY Singular_dimension_representation
    ABSTRACT SUPERTYPE OF (ONEOF (theoretically_exact_dimension_representation,
 maximum_dimension_representation,
 minimum_dimension_representation))
    SUBTYPE OF (shape_dimension_representation);
      dimension_value : value_with_unit;
  END_ENTITY; -- singular_dimension_representation

  ENTITY Statistical_dimensional_tolerance
    SUBTYPE OF (Geometric_dimension);
      alternate_dimension             : OPTIONAL geometric_dimension;
(** Need a WR to capture cardinality      
      statistical_control_requirement : Requirement_definition_property;
*)      
  END_ENTITY; -- statistical_dimensional_tolerance

  ENTITY Statistical_geometric_tolerance
    SUBTYPE OF (Geometric_tolerance);
      alternate_tolerance             : OPTIONAL geometric_tolerance;
(** Need a WR to capture cardinality      
      statistical_control_requirement : Requirement_definition_property;
*)      
  END_ENTITY; -- statistical_geometric_tolerance

  ENTITY Tangent_plane
    SUBTYPE OF (tangent_shape_element);
  END_ENTITY; -- tangent_plane

  ENTITY Tangent_shape_element
    SUPERTYPE OF (tangent_plane)
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- tangent_shape_element

  ENTITY Theoretically_exact_dimension_representation
    SUBTYPE OF (singular_dimension_representation);
  END_ENTITY; -- theoretically_exact_dimension_representation

  ENTITY Tolerance_specific_restraint_condition
    SUBTYPE OF (restraint_condition);
      affected_tolerances : SET[1:?] OF geometric_or_dimension_select;
  END_ENTITY; -- tolerance_specific_restraint_condition

  ENTITY Tolerance_zone_and_viewing_plane_orienting_relationship;
      orienting_viewing_plane : viewing_plane;
      oriented_tolerance_zone : tolerance_zone;
    INVERSE
      zone_orientation : viewing_plane_based_orientation FOR orienting_relationship;
  END_ENTITY; -- tolerance_zone_and_viewing_plane_orienting_relationship

  ENTITY Tolerance_zone_boundary
    ABSTRACT SUPERTYPE OF (ONEOF (tolerance_zone_circular_or_cylindrical_or_spherical_boundary,
 tolerance_zone_opposing_boundary_set,
 conical_tolerance_zone_boundary))
    SUBTYPE OF (Non_feature_shape_element);
--    INVERSE
-- LK input needed      bounded_zone             : tolerance_zone FOR zone_boundary;
--      boundary_zone_definition : tolerance_zone_boundary_definition FOR defined_zone_boundary;
  END_ENTITY; -- tolerance_zone_boundary

  ENTITY Tolerance_zone_boundary_member
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      explicit_opposing_boundary_set : tolerance_zone_explicit_opposing_boundary_set FOR boundary_members;
  END_ENTITY; -- tolerance_zone_boundary_member

  ENTITY Tolerance_zone_boundary_member_offset;
      offset_tolerance_zone_boundary_member : tolerance_zone_boundary_member;
      offset_value                          : length_data_element;
      type_of_offset                        : offset_types;
--    INVERSE
--      boundary_definition : profile_boundary_definition_with_offsets FOR boundary_offsets;
  END_ENTITY; -- tolerance_zone_boundary_member_offset

  ENTITY Tolerance_zone_circular_or_cylindrical_or_spherical_boundary
    SUBTYPE OF (tolerance_zone_boundary);
    INVERSE
      size_characteristic : diametrical_boundary_size_characteristic FOR sized_boundary;
  END_ENTITY; -- tolerance_zone_circular_or_cylindrical_or_spherical_boundary

  ENTITY Tolerance_zone_definition_with_per_unit_size_specification
    SUBTYPE OF (tolerance_zone_definition);
      per_unit_size_specification : tolerance_zone_per_unit_size_specification;
  END_ENTITY; -- tolerance_zone_definition_with_per_unit_size_specification

  ENTITY Tolerance_zone_definition_with_specified_orientation
    SUBTYPE OF (tolerance_zone_definition);
      zone_orientation : orientation_select;
  END_ENTITY; -- tolerance_zone_definition_with_specified_orientation

  ENTITY Tolerance_zone_explicit_opposing_boundary_set
    SUBTYPE OF (tolerance_zone_opposing_boundary_set);
      boundary_members : SET[2:2] OF tolerance_zone_boundary_member;
  END_ENTITY; -- tolerance_zone_explicit_opposing_boundary_set

  ENTITY Tolerance_zone_form;
      characterized_tolerance_zone : tolerance_zone;
      name                         : STRING; --label;
-- LK input needed    INVERSE
-- LK input needed      zone_definition : tolerance_zone_definition FOR form;
  END_ENTITY; -- tolerance_zone_form

  ENTITY Tolerance_zone_implicit_opposing_boundary_set
    SUBTYPE OF (tolerance_zone_opposing_boundary_set);
  END_ENTITY; -- tolerance_zone_implicit_opposing_boundary_set

  ENTITY Tolerance_zone_opposing_boundary_set
    ABSTRACT SUPERTYPE OF (ONEOF (tolerance_zone_explicit_opposing_boundary_set,
 tolerance_zone_implicit_opposing_boundary_set))
    SUBTYPE OF (tolerance_zone_boundary);
    INVERSE
      size_characteristic : opposing_boundary_set_size_characteristic FOR sized_boundary_set;
  END_ENTITY; -- tolerance_zone_opposing_boundary_set

  ENTITY Tolerance_zone_per_unit_size_specification;
      specified_tolerance_zone : tolerance_zone;
      per_unit_size            : SET[1:2] OF length_data_element;
    INVERSE
      zone_definition : tolerance_zone_definition_with_per_unit_size_specification FOR per_unit_size_specification;
  END_ENTITY; -- tolerance_zone_per_unit_size_specification

  ENTITY True_profile;
      profiled_surface       : physical_feature_or_part_template;
      profile_representation : true_profile_representations;
--    INVERSE
--      boundary_definition : SET[1:?] OF profile_boundary_definition FOR basic_profile;
  END_ENTITY; -- true_profile

  ENTITY User_defined_dimension_qualifier
    SUBTYPE OF (Dimension_qualifier);
      description : STRING; --text;
      name        : STRING; --text;
  END_ENTITY; -- user_defined_dimension_qualifier

  ENTITY User_defined_geometric_tolerance_qualifier
    SUBTYPE OF (Geometric_tolerance_qualifier);
      description : STRING; --text;
      name        : STRING; --text;
  END_ENTITY; -- user_defined_geometric_tolerance_qualifier

  ENTITY Viewing_plane
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      viewing_plane_specification : viewing_plane_definition FOR defined_viewing_plane;
  END_ENTITY; -- viewing_plane

  ENTITY Viewing_plane_based_orientation;
      orienting_relationship      : tolerance_zone_and_viewing_plane_orienting_relationship;
      viewing_plane_specification : viewing_plane_definition;
  END_ENTITY; -- viewing_plane_based_orientation

  ENTITY Viewing_plane_definition;
      defined_viewing_plane        : viewing_plane;
      viewing_plane_representation : axis_placement;
    INVERSE
      zone_orientation : viewing_plane_based_orientation FOR viewing_plane_specification;
  END_ENTITY; -- viewing_plane_definition

END_SCHEMA; -- Extended_geometric_tolerance_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Wireframe_2d_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO/TC184/SC4 WG12N2625 - ISO/TS 10303-1347 Wireframe_2d - EXPRESS ARM
   Supersedes ISO TC184/SC4/WG12N1775
*)

SCHEMA Wireframe_2d_arm;

USE FROM Elemental_geometric_shape_arm;

ENTITY Geometrically_bounded_2d_wireframe_shape_representation
  SUBTYPE OF (Geometric_model);
END_ENTITY;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_module_connection_routing_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect module connection routing - EXPRESS ARM
*)

SCHEMA Interconnect_module_connection_routing_arm;

USE FROM Layered_interconnect_module_with_design_intend_modifications_arm;

USE FROM Fabrication_joint_arm;

USE FROM Functional_design_elaboration_arm;

USE FROM Interconnect_module_with_macros_arm;

	TYPE imcr_termination_or_junction = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON termination_or_junction WITH 	
    	(Inter_stratum_join_relationship,
     	Explicitly_located_layer_connection_point,
    	Topological_junction);
  	END_TYPE;

	SUBTYPE_CONSTRAINT layer_connection_point_subtypes FOR layer_connection_point; 
		(ONEOF (explicitly_located_layer_connection_point,
		 dependently_located_layer_connection_point));
	END_SUBTYPE_CONSTRAINT; 
	
 	TYPE terminal_or_inter_stratum_feature = SELECT(
 		Embedded_component_terminal,
		Inter_stratum_feature,
		Interconnect_module_macro_component_join_terminal,
     	Interconnect_module_terminal,
     	Printed_component_join_terminal);
	END_TYPE;

 	TYPE trace_junction_or_via = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;
 
  ENTITY Dependently_located_layer_connection_point
    SUBTYPE OF (Layer_connection_point);
      associated_design_object : terminal_or_inter_stratum_feature;
      reference_zone           : OPTIONAL connection_zone_in_design_view;
  END_ENTITY; -- dependently_located_layer_connection_point

  ENTITY Dielectric_crossover_area
    SUBTYPE OF (stratum_concept_relationship);
      related_concept                : stratum_feature;
      relating_concept               : stratum_feature;
      resulting_dielectric_crossover : stratum_feature;
  END_ENTITY; -- dielectric_crossover_area

  ENTITY Direct_stratum_component_join_implementation;
      implementing_joint      : fabrication_joint;
      topological_requirement : stratum_embedded_component_join_relationship;
  END_ENTITY; -- direct_stratum_component_join_implementation

  ENTITY Explicitly_located_layer_connection_point
    SUBTYPE OF (Layer_connection_point);
  END_ENTITY; -- explicitly_located_layer_connection_point

  ENTITY Indirect_stratum_component_join_implementation
    SUBTYPE OF (plated_inter_stratum_feature);
      indirect_topological_requirement : stratum_embedded_component_join_relationship;
      implementing_joint               : fabrication_joint;
    UNIQUE
      UR1 : indirect_topological_requirement,
 implementing_joint;
  END_ENTITY; -- indirect_stratum_component_join_implementation

  ENTITY Inter_stratum_join_implementation
    ABSTRACT SUPERTYPE OF (ONEOF (physical_network_supporting_stratum_feature_conductive_join,
 physical_network_supporting_inter_stratum_feature));
      topological_requirement : inter_stratum_join_relationship;
  END_ENTITY; -- inter_stratum_join_implementation

  ENTITY Join_two_physical_connectivity_definition_supporting_inter_stratum_feature
    SUBTYPE OF (physical_network_supporting_inter_stratum_feature);
      joined_definitions : SET[2:2] OF physical_connectivity_definition;
  END_ENTITY; -- join_two_physical_connectivity_definition_supporting_inter_stratum_feature

  ENTITY Junction_vertex_allocation;
      implementation_point : trace_junction_or_via;
      required_vertex      : topological_junction;
    UNIQUE
      UR1 : required_vertex;
  END_ENTITY; -- junction_vertex_allocation

  ENTITY Physical_connectivity_abstraction_map;
      name_space_context_based_definition : physical_connectivity_element;
      geometric_context_based_definition  : conductive_interconnect_element;
    UNIQUE
      UR1 : name_space_context_based_definition,
 geometric_context_based_definition;
  END_ENTITY; -- physical_connectivity_abstraction_map

  ENTITY Physical_network_supporting_inter_stratum_feature
    SUPERTYPE OF (join_two_physical_connectivity_definition_supporting_inter_stratum_feature)
    SUBTYPE OF (plated_inter_stratum_feature,
 inter_stratum_join_implementation);
  END_ENTITY; -- physical_network_supporting_inter_stratum_feature

  ENTITY Physical_network_supporting_stratum_feature_conductive_join
    SUBTYPE OF (stratum_feature_conductive_join,
 inter_stratum_join_implementation);
  END_ENTITY; -- physical_network_supporting_stratum_feature_conductive_join

  ENTITY Stratum_feature_conductive_join
    SUPERTYPE OF (physical_network_supporting_stratum_feature_conductive_join)
    SUBTYPE OF (stratum_concept_relationship);
      related_concept  : stratum_feature_template_component;
      relating_concept : stratum_feature_template_component;
    WHERE
      WR1 : related_concept.stratum_feature_implementation.resident_stratum :<>: relating_concept.stratum_feature_implementation.resident_stratum;
  END_ENTITY; -- stratum_feature_conductive_join

  ENTITY Topological_junction;
      scope : physical_connectivity_structure_definition;
      name  : STRING; --ee_name;
    UNIQUE
      UR1 : name,
 scope;
  END_ENTITY; -- topological_junction

	SUBTYPE_CONSTRAINT Stratum_concept_relationship_subtypes FOR Stratum_concept_relationship;     
 		(ONEOF (stratum_feature_conductive_join,
 		dielectric_crossover_area));
	END_SUBTYPE_CONSTRAINT;

END_SCHEMA; -- Interconnect_module_connection_routing_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module design - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_design_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Printed_physical_layout_template_arm;

USE FROM Component_feature_arm;

USE FROM Requirement_assignment_arm;

USE FROM Part_template_extension_arm;

USE FROM Component_grouping_arm;

USE FROM Interconnect_module_usage_view_arm;

USE FROM Manufacturing_technology_arm;

USE FROM Extended_geometric_tolerance_arm;

Use FROM Form_features_arm;

-- USE FROM Part_template_shape_with_parameters_arm;
-- Problematic
USE FROM Part_template_2d_shape_arm;

USE FROM Functional_design_elaboration_arm;

USE FROM Interconnect_physical_requirement_allocation_arm;

USE FROM Layered_shape_arm;

USE FROM Basic_curve_arm;

	SUBTYPE_CONSTRAINT assembly_component_subtypes FOR assembly_component; 
	    (ONEOF (physical_component,
	 	laminate_component));
	END_SUBTYPE_CONSTRAINT;
	
	SUBTYPE_CONSTRAINT array_placement_group_subtypes FOR array_placement_group; 
		(ONEOF (laminate_text_string_component,
		 linear_array_placement_group_component,
		 rectangular_array_placement_group_component));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT assembly_group_component_subtypes FOR assembly_group_component; 
	    (interfaced_group_component ANDOR
	 	array_placement_group ANDOR
	 	(ONEOF (footprint_occurrence,
	 	padstack_occurrence)));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT component_feature_subtypes FOR component_feature;     
		 ONEOF (physical_component_feature,
		 laminate_component_feature);
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT component_terminal_subtypes FOR component_terminal;     
		 ONEOF (physical_component_terminal,
		 laminate_component_join_terminal);
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT default_land_physical_template_subtypes FOR default_land_physical_template;     
		(ONEOF (default_passage_based_land_physical_template,
		 default_attachment_size_based_land_physical_template));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT Default_attachment_size_based_land_physical_template_subtypes FOR Default_attachment_size_based_land_physical_template;     
	    (ONEOF (default_attachment_size_and_component_termination_passage_based_land_physical_template,
	 	default_attachment_size_and_via_based_land_physical_template));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT interconnect_module_terminal_subtypes FOR interconnect_module_terminal;     
		(ONEOF (interconnect_module_interface_terminal,
		 interconnect_module_join_terminal));
	END_SUBTYPE_CONSTRAINT; 

	SUBTYPE_CONSTRAINT layout_template_definition_subtypes FOR Layout_template_definition; 
	    (ONEOF (inter_stratum_feature_template,
		 material_removal_feature_template,
		 non_conductive_cross_section_template,
		 printed_part_cross_section_template,
		 printed_part_template,
		 special_symbol_part_template,
		 stratum_feature_template,
		 trace_template) ANDOR
		 part_text_template);
	END_SUBTYPE_CONSTRAINT;

 	TYPE bare_die_component_or_packaged_component = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

 	TYPE bare_die_terminal_or_packaged_part_terminal = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

 	TYPE component_feature_or_stratum_surface = EXTENSIBLE GENERIC_ENTITY SELECT
		(component_feature,
		stratum_surface);
 	END_TYPE;

  TYPE horizontal_justification = ENUMERATION OF
    (right,
     centre,
     left);
  END_TYPE; -- horizontal_justification


-- Maybe we can move those entities into separate module?

	TYPE limd_ee_product_definition_with_annotation_elements = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON ee_product_definition_with_annotation_elements WITH 
   	(layout_template_definition,
   	stratum);
	END_TYPE; 

 	TYPE limd_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Laminate_layer,
		Stratum,
		Laminate_component);
	END_TYPE;

	TYPE limd_part_feature_or_template_feature = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON part_feature_or_template_feature WITH 
	   	(printed_part_template_terminal,
	   	land_template_terminal,
	   	component_termination_passage_template_terminal,
	   	via_template_terminal,
	   	part_terminal_external_reference);
	END_TYPE; 

	TYPE limd_physical_feature_or_part_template = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_feature_or_part_template WITH 
	   (Part_feature,
		Physical_component_feature,
	 	Physical_laminate_component,
	 	Layout_template_definition,
	 	Stratum_feature);
	END_TYPE; --ap210_physical_feature_or_part_template

	TYPE limd_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Stratum_concept_relationship);
	END_TYPE; 

	TYPE limd_specification_product_object_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON specification_product_object_select WITH 
	    (stratum_concept,
	     stratum);
	END_TYPE; -- ap210_specification_product_object_select

	TYPE limd_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(Component_termination_passage_template_terminal,
	     Via_template_terminal);
	END_TYPE;

  TYPE printed_part_template_or_printed_part_cross_section_template = SELECT
    (printed_part_template,
     printed_part_cross_section_template);
  END_TYPE; -- printed_part_template_or_printed_part_cross_section_template

 	TYPE stratum_concept = EXTENSIBLE GENERIC_ENTITY SELECT
    (laminate_component,
     inter_stratum_feature,
     stratum_feature,
     stratum,
     stratum_surface);
	END_TYPE;

	TYPE stratum_feature_or_stratum_feature_template_component = SELECT(
		stratum_feature,
    	stratum_feature_template_component);
	END_TYPE;

  TYPE stratum_surface_designation = ENUMERATION OF
    (primary_surface,
     secondary_surface);
  END_TYPE; -- stratum_surface_designation

  TYPE trimmed_or_boundary_curve = SELECT
    (boundary_curve,
     trimmed_curve);
  END_TYPE; -- trimmed_or_boundary_curve

  TYPE vertical_justification = ENUMERATION OF
    (centre,
     top,
     bottom);
  END_TYPE; -- vertical_justification

  ENTITY Adjacent_stratum_surface_definition;
      name               : STRING;
      precedent_surface  : stratum_surface;
      subsequent_surface : stratum_surface;
    UNIQUE
      UR1 : name;
      UR2 : precedent_surface,
 subsequent_surface;
    WHERE
      WR1 : precedent_surface.name = stratum_surface_designation.secondary_surface;
      WR2 : subsequent_surface.name = stratum_surface_designation.primary_surface;
  END_ENTITY; -- adjacent_stratum_surface_definition

  ENTITY Adjacent_stratum_surface_embedded_component_surface_definition;
      name            : STRING;
      precedent_item  : component_feature_or_stratum_surface;
      subsequent_item : component_feature_or_stratum_surface;
    UNIQUE
      UR1 : name;
      UR2 : precedent_item,
 subsequent_item;
    WHERE
      WR1 : TYPEOF(precedent_item) <> TYPEOF(subsequent_item);
      WR2 : NOT ('AP210_ARM.single_datum' IN TYPEOF(SELF));
      WR3 : precedent_item <> subsequent_item;
      WR4 : NOT ('AP210_ARM.COMPONENT_FEATURE' IN TYPEOF(precedent_item)) OR (SIZEOF(['AP210_ARM.BARE_DIE_SURFACE',
 'AP210_ARM.PACKAGE_BODY_SURFACE'] * TYPEOF(precedent_item.definition)) = 1);
      WR5 : NOT ('AP210_ARM.COMPONENT_FEATURE' IN TYPEOF(subsequent_item)) OR (SIZEOF(['AP210_ARM.BARE_DIE_SURFACE',
 'AP210_ARM.PACKAGE_BODY_SURFACE'] * TYPEOF(subsequent_item.definition)) = 1);
  END_ENTITY; -- adjacent_stratum_surface_embedded_component_surface_definition

  ENTITY Blind_passage_template
    SUBTYPE OF (unsupported_passage_template);
      of_measure_orientation               : measure_orientation;
      datum_reference                      : stratum_surface;
      bottom_distance_from_datum_reference : shape_dimension_representation;
  END_ENTITY; -- blind_passage_template

  ENTITY Component_termination_passage
    SUBTYPE OF (plated_passage);
      SELF\definition_based_product_occurrence.derived_from : component_termination_passage_template;
    INVERSE
      access_mechanism           : SET[1:?] OF component_termination_passage_join_terminal FOR associated_component;
      interface_access_mechanism : component_termination_passage_interface_terminal FOR associated_component;
  END_ENTITY; -- component_termination_passage

  ENTITY Component_termination_passage_interface_terminal
    SUBTYPE OF (Laminate_component_interface_terminal);
      SELF\component_feature.definition           : component_termination_passage_template_interface_terminal;
      SELF\component_feature.associated_component : component_termination_passage;
  END_ENTITY; -- component_termination_passage_interface_terminal

  ENTITY Component_termination_passage_join_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : component_termination_passage_template_join_terminal;
      SELF\component_feature.associated_component : component_termination_passage;
  END_ENTITY; -- component_termination_passage_join_terminal

  ENTITY Component_termination_passage_template
    SUBTYPE OF (Inter_stratum_feature_template);
      SELF\inter_stratum_feature_template.of_passage_technology : default_component_termination_passage_definition;
    INVERSE
      access_mechanisms : SET[2:?] OF component_termination_passage_template_terminal FOR associated_definition;
  END_ENTITY; -- component_termination_passage_template

  ENTITY Component_termination_passage_template_interface_terminal
    SUBTYPE OF (Component_termination_passage_template_terminal);
  END_ENTITY; -- component_termination_passage_template_interface_terminal

  ENTITY Component_termination_passage_template_join_terminal
    SUBTYPE OF (Component_termination_passage_template_terminal);
      disallowed_inter_stratum_extent : OPTIONAL SET[1:?] OF inter_stratum_extent;
  END_ENTITY; -- component_termination_passage_template_join_terminal

  ENTITY Component_termination_passage_template_terminal
    ABSTRACT SUPERTYPE OF (ONEOF (component_termination_passage_template_interface_terminal,
 component_termination_passage_template_join_terminal))
    SUBTYPE OF (Shape_element);
      associated_definition    : component_termination_passage_template;
      terminal_connection_zone : OPTIONAL SET[1:?] OF connection_zone_in_layout_template;
    INVERSE
      terminal_shape : SET[0:1] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
  END_ENTITY; -- component_termination_passage_template_terminal

  ENTITY Conductive_filled_area
    SUPERTYPE OF (connected_filled_area)
    SUBTYPE OF (stratum_feature);
  END_ENTITY; -- conductive_filled_area

  ENTITY Conductive_interconnect_element
    ABSTRACT SUPERTYPE OF (ONEOF (unrouted_conductive_interconnect_element,
 conductive_interconnect_element_with_pre_defined_transitions))
    SUBTYPE OF (Laminate_component);
      composed_conductor : OPTIONAL stratum_feature;
    INVERSE
      access_mechanisms : SET[2:?] OF conductive_interconnect_element_terminal FOR associated_component;
  END_ENTITY; -- conductive_interconnect_element

  ENTITY Conductive_interconnect_element_terminal
    SUBTYPE OF (Laminate_component_feature);
      SELF\component_feature.associated_component : conductive_interconnect_element;
      connection                                  : OPTIONAL connection_zone_in_design_view;
      name                                        : STRING;
      location                                    : layer_connection_point;
    UNIQUE
      UR1 : name,
 SELF\component_feature.associated_component;
    WHERE
      WR1 : NOT (EXISTS(SELF\component_feature.associated_component\conductive_interconnect_element.composed_conductor)) OR (location.resident_design_layer_stratum = SELF\component_feature.associated_component\conductive_interconnect_element.composed_conductor.resident_stratum);
  END_ENTITY; -- conductive_interconnect_element_terminal

  ENTITY Conductive_interconnect_element_terminal_link;
      associated_element : conductive_interconnect_element;
      precedent_point    : conductive_interconnect_element_terminal;
      subsequent_point   : conductive_interconnect_element_terminal;
    UNIQUE
      UR1 : precedent_point,
 subsequent_point;
    WHERE
      WR1 : precedent_point <> subsequent_point;
      WR2 : precedent_point.associated_component = associated_element;
      WR3 : subsequent_point.associated_component = associated_element;
  END_ENTITY; -- conductive_interconnect_element_terminal_link

  ENTITY Conductive_interconnect_element_with_pre_defined_transitions
    SUPERTYPE OF (join_two_physical_connectivity_definition_supporting_printed_component)
    SUBTYPE OF (Conductive_interconnect_element);
      SELF\definition_based_product_occurrence.derived_from                : trace_template;
      centreline_shape                                        : curve;
      SELF\conductive_interconnect_element.composed_conductor : stratum_feature;
    INVERSE
      connected_points : SET[1:?] OF conductive_interconnect_element_terminal_link FOR associated_element;
    WHERE
      WR1 : SIZEOF(connected_points) = SIZEOF(SELF\conductive_interconnect_element.access_mechanisms) - 1;
      WR2 : correlated_terminals(SELF\conductive_interconnect_element.access_mechanisms,
 connected_points);
  END_ENTITY; -- conductive_interconnect_element_with_pre_defined_transitions

  ENTITY Conductor
    SUBTYPE OF (stratum_feature);
      SELF\stratum_feature.resident_stratum : design_layer_stratum;
      implementation_requirement            : intra_stratum_join_relationship;
  END_ENTITY; -- conductor

  ENTITY Connected_area_component
    SUBTYPE OF (stratum_feature_template_component);
      associated_layer_connection_point : SET[1:?] OF layer_connection_point;
    WHERE
      WR1 : NOT (EXISTS(SELF\definition_based_product_occurrence.derived_from));
  END_ENTITY; -- connected_area_component

  ENTITY Connected_filled_area
    SUBTYPE OF (Conductive_filled_area);
      SELF\stratum_feature.resident_stratum : design_layer_stratum;
      implementation_requirement            : intra_stratum_join_relationship;
  END_ENTITY; -- connected_filled_area


  ENTITY Counterbore_passage_template
    SUBTYPE OF (unsupported_passage_template);
      smaller_passage : unsupported_passage_template;
      larger_passage  : blind_passage_template;
  END_ENTITY; -- counterbore_passage_template

  ENTITY Countersunk_passage_template
    SUBTYPE OF (unsupported_passage_template);
      constant_diameter_passage : unsupported_passage_template;
      tapered_passage           : blind_passage_template;
  END_ENTITY; -- countersunk_passage_template

  ENTITY Default_attachment_size_and_component_termination_passage_based_land_physical_template
    SUBTYPE OF (Default_component_termination_passage_based_land_physical_template,
 default_attachment_size_based_land_physical_template);
  END_ENTITY; -- default_attachment_size_and_component_termination_passage_based_land_physical_template

  ENTITY Default_attachment_size_and_via_based_land_physical_template
    SUBTYPE OF (Default_via_based_land_physical_template,
 default_attachment_size_based_land_physical_template);
  END_ENTITY; -- default_attachment_size_and_via_based_land_physical_template

  ENTITY Default_component_termination_passage_based_land_physical_template
    SUPERTYPE OF (default_attachment_size_and_component_termination_passage_based_land_physical_template)
    SUBTYPE OF (Default_passage_based_land_physical_template);
      SELF\default_passage_based_land_physical_template.of_passage_technology : default_component_termination_passage_definition;
  END_ENTITY; -- default_component_termination_passage_based_land_physical_template

  ENTITY Default_component_termination_passage_definition
    SUBTYPE OF (passage_technology);
      minimum_allowed_component_terminal_extent	: length_data_element;
      maximum_allowed_component_terminal_extent	: length_data_element;
      SELF\passage_technology.deposition_material : material_identification;
    DERIVE
      minimum_as_finished_deposition_thickness 	: length_data_element := SELF\passage_technology.of_technology;
      minimum_as_finished_passage_extent       	: length_data_element := SELF\passage_technology.of_technology.minimum_as_finished_passage_extent;
    WHERE
      WR1 : EXISTS(minimum_as_finished_deposition_thickness);
      WR3 : EXISTS(minimum_as_finished_passage_extent);
  END_ENTITY; -- default_component_termination_passage_definition

  ENTITY Default_passage_based_land_physical_template
    ABSTRACT SUPERTYPE OF (ONEOF (default_via_based_land_physical_template,
 default_component_termination_passage_based_land_physical_template,
 default_unsupported_passage_based_land_physical_template))
    SUBTYPE OF (Default_land_physical_template);
      minimum_fabrication_allowance : length_data_element;
      of_passage_technology         : passage_technology;
      of_stratum_extent             : inter_stratum_extent;
      minimum_annular_ring          : length_data_element;
    UNIQUE
      UR1 : of_passage_technology,
 SELF\stratum_feature_template.of_stratum_technology;
  END_ENTITY; -- default_passage_based_land_physical_template

	ENTITY Default_plated_passage_based_land_physical_template
	  SUBTYPE OF (Default_passage_based_land_physical_template);
	 SELF\default_passage_based_land_physical_template.of_passage_technology :
		default_via_definition;
	END_ENTITY; -- default_plated_passage_based_land_physical_template

  ENTITY Default_unsupported_passage_based_land_physical_template
    SUBTYPE OF (Default_passage_based_land_physical_template);
      SELF\default_passage_based_land_physical_template.of_passage_technology : default_unsupported_passage_definition;
  END_ENTITY; -- default_unsupported_passage_based_land_physical_template

  ENTITY Default_unsupported_passage_definition
    SUBTYPE OF (passage_technology);
    DERIVE
      minimum_as_finished_passage_extent				: length_data_element := SELF\passage_technology.minimum_as_finished_passage_extent;
    WHERE
      WR1 : EXISTS(minimum_as_finished_passage_extent);
  END_ENTITY; -- default_unsupported_passage_definition

  ENTITY Default_via_based_land_physical_template
    SUPERTYPE OF (default_attachment_size_and_via_based_land_physical_template)
    SUBTYPE OF (Default_passage_based_land_physical_template);
      SELF\default_passage_based_land_physical_template.of_passage_technology : default_via_definition;
  END_ENTITY; -- default_via_based_land_physical_template


  ENTITY Default_via_definition
    SUBTYPE OF (passage_technology);
	    SELF\passage_technology.deposition_material : Material_identification;
    DERIVE
      minimum_as_finished_deposition_thickness 	: length_data_element := SELF\passage_technology.of_technology;
      minimum_as_finished_passage_extent       	: length_data_element := SELF\passage_technology.of_technology.minimum_as_finished_passage_extent;
    WHERE
      WR1 : EXISTS(minimum_as_finished_deposition_thickness);
      WR3 : EXISTS(minimum_as_finished_passage_extent);
  END_ENTITY; -- default_via_definition

  ENTITY Design_layer_stratum
    SUBTYPE OF (stratum);
      primary_design_layer_stratum : BOOLEAN;
      SELF\stratum.of_technology   : design_layer_technology;
    INVERSE
      existence_dependence : SET[1:?] OF layer_connection_point FOR resident_design_layer_stratum;
      library_definition    : SET[0:1] OF view_definition_relationship FOR related_view;
    WHERE
      WR1 : (NOT (primary_design_layer_stratum) AND (SIZEOF(QUERY(imps <* USEDIN(SELF,
 'AP210_ARM.STRATUM_CONCEPT_TO_PHYSICAL_USAGE_VIEW_ASSIGNMENT.' + 'ASSIGNED_DESIGN_OBJECT') | ('AP210_ARM.INTERCONNECT_MODULE_PRIMARY_SURFACE' IN TYPEOF(imps.defined_part_feature)))) = 0)) OR ((primary_design_layer_stratum) AND (SIZEOF(QUERY(imps <* USEDIN(SELF,
 'AP210_ARM.STRATUM_CONCEPT_TO_PHYSICAL_USAGE_VIEW_ASSIGNMENT.' + 'ASSIGNED_DESIGN_OBJECT') | ('AP210_ARM.INTERCONNECT_MODULE_PRIMARY_SURFACE' IN TYPEOF(imps.defined_part_feature)))) = 1));
  END_ENTITY; -- design_layer_stratum

  ENTITY Documentation_layer_stratum
    SUBTYPE OF (stratum);
      SELF\stratum.of_technology : documentation_layer_technology;
    INVERSE
      library_definition : SET[0:1] OF view_definition_relationship FOR related_view;
  END_ENTITY; -- documentation_layer_stratum

  ENTITY Electrical_isolation_laminate_component
    SUBTYPE OF (Filled_area_material_removal_laminate_component);
      SELF\definition_based_product_occurrence.derived_from : electrical_isolation_removal_template;
  END_ENTITY; -- electrical_isolation_laminate_component

  ENTITY Embedded_component_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : bare_die_terminal_or_packaged_part_terminal;
      SELF\component_feature.associated_component : bare_die_component_or_packaged_component;
  END_ENTITY; -- embedded_component_terminal

  ENTITY Fiducial
    SUBTYPE OF (Laminate_component);
  END_ENTITY; -- fiducial

  ENTITY Fiducial_stratum_feature
    SUBTYPE OF (stratum_feature);
  END_ENTITY; -- fiducial_stratum_feature

  ENTITY Filled_area_material_removal_laminate_component
    SUPERTYPE OF (ONEOF (electrical_isolation_laminate_component,
 thermal_isolation_laminate_component))
    SUBTYPE OF (Material_removal_laminate_component);
    WHERE
      WR1 : NOT ('AP210_ARM.CONDUCTOR' IN TYPEOF(SELF\material_removal_laminate_component.design_intent));
  END_ENTITY; -- filled_area_material_removal_laminate_component

  ENTITY Footprint_occurrence
    SUBTYPE OF (Assembly_group_component);
      SELF\definition_based_product_occurrence.derived_from : footprint_definition;
    INVERSE
      component : SET[1:?] OF footprint_occurrence_sub_assembly_relationship FOR relating_view; --relating_component;
    WHERE
      WR1 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.COMPONENT_MAKE_FROM_RELATIONSHIP.RESULTANT_COMPONENT')) <= 1;
      WR2 : NOT (SIZEOF(USEDIN(SELF,
 'AP210_ARM.COMPONENT_MAKE_FROM_RELATIONSHIP.RESULTANT_COMPONENT')) = 1) OR (SIZEOF(QUERY(cmfr <* USEDIN(SELF,
 'AP210_ARM.COMPONENT_MAKE_FROM_RELATIONSHIP.RESULTANT_COMPONENT') | 'AP210_ARM.ASSEMBLY_GROUP_COMPONENT' IN TYPEOF(cmfr.reusable_component))) = 1);
      WR3 : SIZEOF(TYPEOF(SELF) * ['AP210_ARM.PRINTED_COMPONENT',
 'AP210_ARM.LAMINATE_COMPONENT',
 'AP210_ARM.PHYSICAL_COMPONENT']) = 0;
 			WR4 : (SIZEOF(components) = 0);
  END_ENTITY; -- footprint_occurrence

  ENTITY Footprint_occurrence_sub_assembly_relationship
	SUBTYPE OF (part_occurrence_definition_relationship);  
      SELF\view_definition_relationship.related_view                  : laminate_component;
      SELF\view_definition_relationship.relating_view                 : footprint_occurrence;
      sub_assembly_reference_designation : part_template_location_in_padstack_definition;
      terminal_location                  : padstack_location_in_footprint_definition;
    UNIQUE
      UR1 : sub_assembly_reference_designation,
 relating_view, --relating_component,
 terminal_location;
    WHERE
      WR1 : terminal_location.footprint :=: relating_view.dervied_from;
      WR2 : sub_assembly_reference_designation.padstack :=: terminal_location.padstack;
      WR3 : related_view\definition_based_product_occurrence.derived_from :=: sub_assembly_reference_designation.template.associated_template_occurrence;
  END_ENTITY; -- footprint_occurrence_sub_assembly_relationship

  ENTITY Generic_physical_network
    ABSTRACT SUPERTYPE OF (ONEOF(unrouted_physical_network, routed_physical_network));
      name                                         : STRING; --ee_name;    
      current_associated_definition                : interconnect_module;
      prior_associated_definition                  : OPTIONAL SET[1:?] OF interconnect_module;      
      connectivity_requirement_element             : SET[2:?] OF laminate_component_join_terminal;
    UNIQUE
      UR1 : name,
 current_associated_definition;
 		WHERE
      WR1 : NOT (EXISTS(prior_associated_definition)) OR NOT (current_associated_definition IN prior_associated_definition); 
  END_ENTITY; 

  ENTITY Inter_stratum_extent;
      from_stratum : stratum;
      to_stratum   : stratum;
  END_ENTITY; -- inter_stratum_extent

  ENTITY Inter_stratum_feature
		ABSTRACT SUPERTYPE OF (ONEOF (unsupported_passage,
			plated_inter_stratum_feature
--			,
--			cutout,
--			interconnect_module_edge,
--			interconnect_module_edge_segment
--			,cutout_edge_segment,
--			dielectric_material_passage
			))  
    SUBTYPE OF (Laminate_component);
      feature_of_size                          : BOOLEAN;
      SELF\definition_based_product_occurrence.derived_from : inter_stratum_feature_template;
  END_ENTITY; -- inter_stratum_feature

  ENTITY Inter_stratum_feature_template
    SUBTYPE OF (Layout_template_definition);
      of_passage_technology : passage_technology;
  END_ENTITY; -- inter_stratum_feature_template

  ENTITY Inter_stratum_join_relationship
    SUBTYPE OF (Join_relationship);
      points_to_be_connected : SET[2:?] OF layer_connection_point;
  END_ENTITY; -- inter_stratum_join_relationship

  ENTITY Interconnect_connection_zone_position_relationship;
      associating_design_view_shape               : feature_shape_definition;
      associated_usage                            : connection_zone_in_design_view;
      associated_connection_zone_shape_definition : feature_shape_definition;
      associated_usage_placement                  : axis_placement;
      associating_design_view                     : interconnect_module;
  END_ENTITY; -- interconnect_connection_zone_position_relationship

  ENTITY Interconnect_module
  	SUPERTYPE OF (ONEOF (pcb,
 		reference_packaged_part_interconnect_implementation))
    SUBTYPE OF (part_design_view);
    INVERSE
      of_fabrication_thickness_requirement : SET[0:?] OF requirement_assignment FOR assigned_to;
    WHERE
      WR1 : SIZEOF(QUERY(ftr <* of_fabrication_thickness_requirement | NOT ('AP210_ARM.FABRICATION_THICKNESS_REQUIREMENT_OCCURRENCE' IN TYPEOF(ftr\requirement_assignment.assigned_requirement)))) = 0;
      WR2 : SIZEOF(QUERY(imsar <* USEDIN(SELF,
 'AP210_ARM.INTERCONNECT_MODULE_STRATUM_ASSEMBLY_RELATIONSHIP.' + 'ASSEMBLY') | (('AP210_ARM.DESIGN_LAYER_STRATUM' IN TYPEOF(imsar.component)) AND (imsar.component\design_layer_stratum.primary_design_layer_stratum = TRUE)))) = 1;
  END_ENTITY; -- interconnect_module

  ENTITY Interconnect_module_join_terminal
    SUBTYPE OF (Interconnect_module_terminal);
    INVERSE
      defining_terminal : component_feature_to_physical_usage_view_assignment FOR defined_part_feature;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.COMPONENT_TERMINATION_PASSAGE_JOIN_TERMINAL',
 'AP210_ARM.VIA_TERMINAL',
 'AP210_ARM.PRINTED_COMPONENT_JOIN_TERMINAL',
 'AP210_ARM.CONDUCTIVE_INTERCONNECT_ELEMENT_TERMINAL',
 'AP210_ARM.LAND_JOIN_TERMINAL',
 'AP210_ARM.NON_FUNCTIONAL_LAND_JOIN_TERMINAL'] * TYPEOF(defining_terminal.assigned_terminal)) = 1;
  END_ENTITY; -- interconnect_module_join_terminal

  ENTITY Interconnect_module_stratum_assembly_relationship;
      assembly              : interconnect_module;
      component             : stratum;
      reference_designation : STRING; --ee_name;
    UNIQUE
      UR1 : assembly,
 reference_designation;
  END_ENTITY; -- interconnect_module_stratum_assembly_relationship

  ENTITY Interface_access_material_removal_laminate_component
    SUBTYPE OF (Material_removal_laminate_component);
      accessed_interface : laminate_component_interface_terminal;
  END_ENTITY; -- interface_access_material_removal_laminate_component

  ENTITY Interface_access_stratum_feature_template_component
    SUBTYPE OF (stratum_feature_template_component);
      accessed_interface : laminate_component_interface_terminal;
  END_ENTITY; -- interface_access_stratum_feature_template_component

  ENTITY Internal_probe_access_area
    SUBTYPE OF (probe_access_area);
      stratum_feature_implementation : stratum_feature;
    INVERSE
      internal_access : internal_stratum_access FOR connected_probe;
  END_ENTITY; -- internal_probe_access_area

  ENTITY Internal_stratum_access;
      connected_probe       : internal_probe_access_area;
      inter_stratum_feature : via;
    UNIQUE
      UR1 : connected_probe,
 inter_stratum_feature;
  END_ENTITY; -- internal_stratum_access

  ENTITY Intra_stratum_join_relationship
    SUBTYPE OF (Join_relationship);
      points_to_be_connected : SET[2:?] OF layer_connection_point;
    INVERSE
      ordered_implementation : SET[0:1] OF conductor FOR implementation_requirement;
      random_implementation  : SET[0:1] OF connected_filled_area FOR implementation_requirement;
    WHERE
      WR1 : (EXISTS(ordered_implementation)) XOR (EXISTS(random_implementation));
  END_ENTITY; -- intra_stratum_join_relationship

  ENTITY Join_relationship
    ABSTRACT SUPERTYPE OF (ONEOF (inter_stratum_join_relationship,
		intra_stratum_join_relationship,
	 	stratum_embedded_component_join_relationship,
	 	unrouted_join_relationship));
      associated_layout : interconnect_module;
    INVERSE
      network_topology : Routed_physical_network FOR routed_connectivity_requirement_element;
  END_ENTITY; -- join_relationship

  ENTITY Join_two_physical_connectivity_definition_supporting_printed_component
    SUBTYPE OF (Conductive_interconnect_element_with_pre_defined_transitions);
      joined_definitions : SET[2:2] OF physical_connectivity_definition;
  END_ENTITY; -- join_two_physical_connectivity_definition_supporting_printed_component

  ENTITY Laminate_component
		SUPERTYPE OF (ONEOF (conductive_interconnect_element,
			material_removal_laminate_component,
			stratum_feature_template_component,
			probe_access_area,
			inter_stratum_feature,
			special_symbol_laminate_component,
			laminate_text_component,
			laminate_text_string_component) ANDOR
			fiducial)
    SUBTYPE OF (Assembly_component);
      SELF\definition_based_product_occurrence.derived_from : OPTIONAL Layout_template_definition;
    INVERSE
      padstack_occurrence_assembly  : SET[0:1] OF padstack_occurrence_sub_assembly_relationship FOR related_view; --related_component;      
      footprint_occurrence_assembly : SET[0:1] OF footprint_occurrence_sub_assembly_relationship FOR related_view;
	  cad_layer						: SET[0:1] OF External_source_identification FOR item;      
    WHERE
      WR1 : ((SIZEOF(padstack_occurrence_assembly) = SIZEOF(footprint_occurrence_assembly)) AND (SIZEOF(padstack_occurrence_assembly) = 0) AND (SIZEOF(SELF\definition_based_product_occurrence.occurrence_contexts) > 0)) OR ((SIZEOF(padstack_occurrence_assembly) <> SIZEOF(footprint_occurrence_assembly)) AND (SIZEOF(SELF\definition_based_product_occurrence.occurrence_contexts) = 0));
      -- SEDS 1351
      WR3 : NOT (SIZEOF(occurrence_contexts) = 0) OR ('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(SELF));
      WR4 : NOT (SIZEOF(occurrence_contexts) = 0) OR (SIZEOF(SELF\laminate_component.padstack_occurrence_assembly) + SIZEOF(SELF\laminate_component.footprint_occurrence_assembly) = 1);
      WR5 : (SIZEOF(occurrence_contexts) > 0) OR (('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(SELF)) AND (SIZEOF(SELF\laminate_component.padstack_occurrence_assembly) + SIZEOF(SELF\laminate_component.footprint_occurrence_assembly) = 1));
  END_ENTITY; -- laminate_component

  ENTITY Laminate_component_feature
    ABSTRACT SUPERTYPE OF (ONEOF (conductive_interconnect_element_terminal,
 laminate_component_interface_terminal,
 laminate_component_join_terminal,
 via_terminal))
    SUBTYPE OF (Component_feature);
  END_ENTITY; -- laminate_component_feature

  ENTITY Laminate_component_interface_terminal
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (Laminate_component_feature);
  END_ENTITY; -- laminate_component_interface_terminal

  ENTITY Laminate_component_join_terminal
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (Laminate_component_feature,
 component_terminal);
    INVERSE
      node_implementation : SET[0:1] OF Generic_physical_network FOR connectivity_requirement_element;
  END_ENTITY; -- laminate_component_join_terminal

  ENTITY Laminate_group_component_make_from_relationship
    SUBTYPE OF (Component_make_from_relationship);
      SELF\component_make_from_relationship.reusable_component  : assembly_group_component;
      SELF\component_make_from_relationship.resultant_component : assembly_group_component;
      stratum_mapping                                           : SET[1:?] OF part_definition_relationship; --stratum_make_from_relationship;
    WHERE
      WR1 : SIZEOF(QUERY(sar <* SELF\component_make_from_relationship.reusable_component.assembly | NOT ('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(sar.related_component)))) = 0;
      WR2 : SIZEOF(QUERY(sar <* SELF\component_make_from_relationship.resultant_component.components | NOT ('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(sar.related_component)))) = 0;
  END_ENTITY; -- laminate_group_component_make_from_relationship

  ENTITY Laminate_layer;
      extent      : inter_stratum_extent;
      name        : STRING; --ee_name;
    INVERSE
      layer_usage	: SET[0:1] OF External_source_identification FOR item;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- Laminate_layer

  ENTITY Laminate_text_component
    SUBTYPE OF (Laminate_component);
      of_character                             : STRING (1) FIXED;
      SELF\definition_based_product_occurrence.derived_from : OPTIONAL part_text_template;
      stratum_feature_implementation           : SET[1:?] OF stratum_feature;
  END_ENTITY; -- laminate_text_component

  ENTITY Laminate_text_string_component
    SUBTYPE OF (Array_placement_group,
 laminate_component);
      message_contents            : string_representation_item;
      of_horizontal_justification : horizontal_justification;
      of_vertical_justification   : vertical_justification;
    WHERE
      WR1 : SIZEOF(QUERY(sar <* SELF\assembly_group_component.components | TYPEOF(sar.related_component) <> 'AP210_ARM.LAMINATE_TEXT_COMPONENT')) = 0;
  END_ENTITY; -- laminate_text_string_component

  ENTITY Layer_connection_point
    ABSTRACT SUPERTYPE;
      location_2d                   : OPTIONAL cartesian_point;
      location_3d                   : OPTIONAL cartesian_point;
      name                          : STRING; --ee_name;
      resident_design_layer_stratum : design_layer_stratum;
    DERIVE
      aggregate_join    : SET[1:?] OF join_relationship := make_aggregate_join(inter_join_path,
 intra_join_path,
 embedded_component_path);
      reference_network : Generic_physical_network := aggregate_join[1].network_topology;
    INVERSE
      inter_join_path         : SET[0:1] OF inter_stratum_join_relationship FOR points_to_be_connected;
      intra_join_path         : intra_stratum_join_relationship FOR points_to_be_connected;
      embedded_component_path : SET[0:?] OF stratum_embedded_component_join_relationship FOR point_to_be_connected;
    UNIQUE
      UR1 : name,
 resident_design_layer_stratum;
    WHERE
      WR1 : EXISTS(location_2d) OR EXISTS(location_3d);
      WR2 : NOT (EXISTS(location_2d)) OR ((SIZEOF(location_2d\cartesian_point.coordinates)) = 2);
      WR3 : NOT (EXISTS(location_3d)) OR ((SIZEOF(location_3d\cartesian_point.coordinates)) = 3);
      WR4 : SIZEOF(QUERY(jr <* aggregate_join | jr.network_topology <> reference_network)) = 0;
      WR5 : EXISTS(reference_network); 
  END_ENTITY; -- layer_connection_point

  ENTITY Layout_junction;
      associated_definition : interconnect_module;
      name                  : STRING; --ee_name;
      net                   : Generic_physical_network;
      location              : cartesian_point;
    UNIQUE
      UR1 : location,
 net;
      UR2 : name,
 net;
    WHERE
      WR1 : associated_definition :=: net.current_associated_definition;
  END_ENTITY; -- layout_junction

  ENTITY Material_removal_laminate_component
    SUPERTYPE OF (filled_area_material_removal_laminate_component)
    SUBTYPE OF (Laminate_component);
      SELF\definition_based_product_occurrence.derived_from : material_removal_feature_template;
      design_intent                            							: stratum_feature_or_stratum_feature_template_component;
  END_ENTITY; -- material_removal_laminate_component

  ENTITY Multi_layer_material_removal_laminate_component
    SUBTYPE OF (Material_removal_laminate_component);
      derived_layer_geometry : Laminate_layer;
  END_ENTITY; -- multi_layer_material_removal_laminate_component

  ENTITY Multi_layer_stratum_feature
    SUBTYPE OF (stratum_feature);
      derived_layer_geometry : Laminate_layer;
  END_ENTITY; -- multi_layer_stratum_feature

  ENTITY Multi_layer_stratum_feature_template_component
    SUBTYPE OF (stratum_feature_template_component);
      derived_layer_geometry : Laminate_layer;
  END_ENTITY; -- multi_layer_stratum_feature_template_component

  ENTITY Padstack_occurrence
    SUBTYPE OF (Assembly_group_component);
      SELF\definition_based_product_occurrence.derived_from : padstack_definition;
    INVERSE
      component : SET[1:?] OF padstack_occurrence_sub_assembly_relationship FOR relating_view; --relating_component;
    WHERE
      WR1 : SIZEOF(TYPEOF(SELF) * ['AP210_ARM.PRINTED_COMPONENT',
 'AP210_ARM.LAMINATE_COMPONENT',
 'AP210_ARM.PHYSICAL_COMPONENT']) = 0;
 			WR2 : (SIZEOF(components) = 0); 
  END_ENTITY; -- padstack_occurrence

  ENTITY Padstack_occurrence_sub_assembly_relationship
	SUBTYPE OF (part_occurrence_definition_relationship);  
      SELF\view_definition_relationship.related_view                  : laminate_component;
      SELF\view_definition_relationship.relating_view                 : padstack_occurrence;
      sub_assembly_reference_designation : part_template_location_in_padstack_definition;
    UNIQUE
      UR1 : sub_assembly_reference_designation,
 relating_view, --relating_component,
 related_view; --related_component;
  END_ENTITY; -- padstack_occurrence_sub_assembly_relationship

  ENTITY Passage_padstack_definition
    SUBTYPE OF (padstack_definition);
      technology_reference : passage_technology;
  END_ENTITY; -- passage_padstack_definition

(* ------------------ END OF STRATUM -----------------------*)

(** It should be mapped like stratum, since it is on the same level.
It is a summary of all vertical elements of particular kind, similar like stratum is a summay of all horizontal elements. *)

	ENTITY Passage_technology
		SUPERTYPE OF (ONEOF (default_via_definition,
 			default_component_termination_passage_definition,
 			default_unsupported_passage_definition));
	  of_technology						: Passage_technology_parameters;
      associated_definition				: Interconnect_module;
      as_finished_inter_stratum_extent	: Inter_stratum_extent;      
      deposition_material               : OPTIONAL Material_identification;
	END_ENTITY;

  ENTITY Pcb
    SUBTYPE OF (Interconnect_module);
      SELF\part_design_view.usage_view : OPTIONAL pcb_usage_view;
  END_ENTITY; -- pcb

  ENTITY Physical_laminate_component
    SUBTYPE OF (Laminate_component);
    WHERE
      WR1 : SIZEOF(TYPEOF(SELF)) > 6;
  END_ENTITY; -- physical_laminate_component

  ENTITY Plated_inter_stratum_feature
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (Inter_stratum_feature);
  END_ENTITY; -- plated_inter_stratum_feature

  ENTITY Plated_passage
    SUPERTYPE OF (ONEOF (component_termination_passage,
 via))
    SUBTYPE OF (plated_inter_stratum_feature);
  END_ENTITY; -- plated_passage

  ENTITY Primary_stratum_indicator_symbol
    SUBTYPE OF (special_symbol_laminate_component);
  END_ENTITY; -- primary_stratum_indicator_symbol

  ENTITY Probe_access_area
    SUPERTYPE OF (internal_probe_access_area)
    SUBTYPE OF (Laminate_component);
    	SELF\definition_based_product_occurrence.derived_from : OPTIONAL stratum_feature_template;
      probed_layout_item 																		: stratum_feature;
      probe_contact_zone 																		: connection_zone_in_design_view;
    	stratum_feature_material_stackup											: OPTIONAL multi_layer_stratum_feature;
    INVERSE
      network : Routed_physical_network FOR probe;
  END_ENTITY; -- probe_access_area

  ENTITY Routed_physical_network
    SUBTYPE OF (Generic_physical_network);
      reference_connected_terminals                	: OPTIONAL part_connected_terminals_definition;    
      routed_connectivity_requirement_element 			: SET[1:?] OF join_relationship;
      unrouted_connectivity_requirement_element 		: OPTIONAL SET[1:?] OF unrouted_join_relationship;      
      probe                                        	: OPTIONAL SET[1:?] OF probe_access_area;
    DERIVE
    	complete																			: BOOLEAN := EXISTS(unrouted_connectivity_requirement_element);
    WHERE
      WR1 : SIZEOF(QUERY(cre <* connectivity_requirement_element | NOT (NOT ('AP210_ARM.LAND_JOIN_TERMINAL' IN TYPEOF(cre)) OR (SIZEOF(TYPEOF(cre\component_feature.associated_component) * ['AP210_ARM.CONTACT_SIZE_DEPENDENT_LAND',
 'AP210_ARM.' + 'COMPONENT_TERMINATION_PASSAGE_AND_CONTACT_SIZE_DEPENDENT_LAND',
 'AP210_ARM.VIA_AND_CONTACT_SIZE_DEPENDENT_LAND']) = 1)))) = 0;
      WR2 : SIZEOF(QUERY(cre <* connectivity_requirement_element | NOT (NOT ('AP210_ARM.NON_FUNCTIONAL_LAND_JOIN_TERMINAL' IN TYPEOF(cre)) OR (SIZEOF(TYPEOF(cre\component_feature.associated_component) * ['AP210_ARM.' + 'COMPONENT_TERMINATION_PASSAGE_AND_' + 'CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND',
 'AP210_ARM.' + 'VIA_AND_CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND']) = 1)))) = 0;      
  END_ENTITY; 

  ENTITY Special_symbol_laminate_component
    SUPERTYPE OF (primary_stratum_indicator_symbol)
    SUBTYPE OF (Laminate_component);
      SELF\definition_based_product_occurrence.derived_from : special_symbol_part_template;
      stratum_feature_implementation           							: stratum_feature;
  END_ENTITY; -- special_symbol_laminate_component

  ENTITY Stratum
    SUPERTYPE OF (ONEOF (documentation_layer_stratum,
 design_layer_stratum))
    SUBTYPE OF (part_view_definition);
      of_technology 												: stratum_technology;
    DERIVE
      name : STRING := SELF\product_view_definition.product_definition_id;
    INVERSE
      of_average_surface 	: SET[0:1] OF stratum_average_surface FOR of_stratum;
      of_surface         	: SET[1:2] OF stratum_surface FOR of_stratum;
      assembly           	: SET[1:?] OF interconnect_module_stratum_assembly_relationship FOR component;
	  stratum_usage			: SET[0:1] OF External_source_identification FOR item;      
  END_ENTITY; -- stratum

  ENTITY Stratum_average_surface;
      of_stratum : stratum;
  END_ENTITY; -- stratum_average_surface

  ENTITY Stratum_concept_relationship
    ABSTRACT SUPERTYPE;
      resulting_shape        : OPTIONAL feature_shape_definition;
(** Need WR to capture cardinality
      technology_requirement : SET[1:?] OF Requirement_definition_property;
*)      
  END_ENTITY; -- stratum_concept_relationship

  ENTITY Stratum_embedded_component_join_relationship
    SUBTYPE OF (Join_relationship);
      terminal_to_be_connected : SET[1:?] OF embedded_component_terminal;
      point_to_be_connected    : SET[1:?] OF layer_connection_point;
    DERIVE
      associated_component : assembly_component := terminal_to_be_connected[1]\component_feature.associated_component;
    WHERE
      WR1 : SIZEOF(QUERY(t <* terminal_to_be_connected | t.associated_component <> associated_component)) = 0;
  END_ENTITY; -- stratum_embedded_component_join_relationship

  ENTITY Stratum_feature
		SUPERTYPE OF (ONEOF (conductor,
 			conductive_filled_area) ANDOR (fiducial_stratum_feature))    
		SUBTYPE OF (Shape_element); 			
      resident_stratum        : stratum;
      feature_of_size         : BOOLEAN;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 resident_stratum;
  END_ENTITY; -- stratum_feature

  ENTITY Stratum_feature_template_component
    SUBTYPE OF (Laminate_component);
      SELF\definition_based_product_occurrence.derived_from : OPTIONAL stratum_feature_template;
      stratum_feature_implementation           : stratum_feature;
  END_ENTITY; -- stratum_feature_template_component

  ENTITY Stratum_specific_part_template_location_in_padstack_definition
    SUBTYPE OF (part_template_location_in_padstack_definition);
      bound_stratum : stratum;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.STRATUM_FEATURE_TEMPLATE',
 'AP210_ARM.MATERIAL_ADDITION_FEATURE_TEMPLATE',
 'AP210_ARM.MATERIAL_REMOVAL_FEATURE_TEMPLATE'] * TYPEOF(SELF\part_template_location_in_padstack_definition.template.associated_template_occurrence)) = 1;
  END_ENTITY; -- stratum_specific_part_template_location_in_padstack_definition

  ENTITY Stratum_surface;
      of_stratum : stratum;
      name       : stratum_surface_designation;
    UNIQUE
      UR1 : name,
 of_stratum;
  END_ENTITY; -- stratum_surface

--  ENTITY Stratum_make_from_relationship;
--      reusable_stratum  : stratum;
--      resultant_stratum : stratum;
--  END_ENTITY; -- stratum_make_from_relationship

  ENTITY Thermal_isolation_laminate_component
    SUBTYPE OF (Filled_area_material_removal_laminate_component);
      SELF\definition_based_product_occurrence.derived_from : Thermal_isolation_removal_template;
  END_ENTITY; -- thermal_isolation_laminate_component

  ENTITY Unrouted_conductive_interconnect_element
    SUBTYPE OF (Conductive_interconnect_element);
    INVERSE
      connected_points : SET[1:?] OF conductive_interconnect_element_terminal_link FOR associated_element;
    WHERE
      WR1 : NOT (EXISTS(SELF\conductive_interconnect_element.composed_conductor));
      WR2 : correlated_terminals(SELF\conductive_interconnect_element.access_mechanisms,
 connected_points);
  END_ENTITY; -- unrouted_conductive_interconnect_element

  ENTITY Unrouted_join_relationship
    SUBTYPE OF (Join_relationship);
      unrouted_terminals : OPTIONAL SET[1:?] OF laminate_component_join_terminal;
      unrouted_lcp       : OPTIONAL SET[1:?] OF layer_connection_point;
      unrouted_junction  : OPTIONAL SET[1:?] OF layout_junction;
      unrouted_paa       : OPTIONAL SET[1:?] OF probe_access_area;
      unrouted_via       : OPTIONAL SET[1:?] OF via_terminal;
    WHERE
      WR1 : (SIZEOF(unrouted_terminals) + SIZEOF(unrouted_lcp) + SIZEOF(unrouted_paa) + SIZEOF(unrouted_via) + SIZEOF(unrouted_junction)) > 1;
  END_ENTITY; -- unrouted_join_relationship

  ENTITY Unrouted_physical_network
    SUBTYPE OF (Generic_physical_network);
  END_ENTITY; 

  ENTITY Unsupported_passage
    SUBTYPE OF (Inter_stratum_feature);
      SELF\definition_based_product_occurrence.derived_from : unsupported_passage_template;
  END_ENTITY; -- unsupported_passage

  ENTITY Unsupported_passage_template
    SUPERTYPE OF (ONEOF (counterbore_passage_template,
 countersunk_passage_template,
 blind_passage_template))
    SUBTYPE OF (Inter_stratum_feature_template);
      SELF\inter_stratum_feature_template.of_passage_technology : default_unsupported_passage_definition;
  END_ENTITY; -- unsupported_passage_template

  ENTITY Via
    ABSTRACT SUPERTYPE
    SUBTYPE OF (plated_passage);
      SELF\definition_based_product_occurrence.derived_from : via_template;
  END_ENTITY; -- via

  ENTITY Via_template
    SUBTYPE OF (Inter_stratum_feature_template);
      SELF\inter_stratum_feature_template.of_passage_technology : default_via_definition;
    INVERSE
      access_mechanisms : SET[2:?] OF via_template_terminal FOR associated_definition;
  END_ENTITY; -- via_template

  ENTITY Via_template_terminal
    SUBTYPE OF (shape_element);
      associated_definition           : via_template;
      disallowed_inter_stratum_extent : OPTIONAL inter_stratum_extent;
      terminal_connection_zone        : OPTIONAL SET[1:?] OF connection_zone_in_layout_template;
    INVERSE
      terminal_shape : SET[0:1] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
  END_ENTITY; -- via_template_terminal

  ENTITY Via_terminal
    SUBTYPE OF (Laminate_component_feature);
      SELF\component_feature.definition           : via_template_terminal;
      SELF\component_feature.associated_component : via;
  END_ENTITY; -- via_terminal

  FUNCTION correlated_terminals(
    input1 : SET OF conductive_interconnect_element_terminal ;
    input2 : SET OF conductive_interconnect_element_terminal_link
  ) : BOOLEAN;

    LOCAL
      pass : BOOLEAN := FALSE;
      ciet : SET OF conductive_interconnect_element_terminal := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input2) BY 1;
      ciet := ciet + input2[i].precedent_point;
      ciet := ciet + input2[i].subsequent_point;
    END_REPEAT;
    pass := (input1 = ciet);
    RETURN(pass);
  END_FUNCTION; -- correlated_terminals

  FUNCTION make_aggregate_join(
    input1 : SET OF inter_stratum_join_relationship ;
    input2 : intra_stratum_join_relationship ;
    input3 : SET OF stratum_embedded_component_join_relationship
  ) : SET OF join_relationship;

    LOCAL
      v1 : SET OF join_relationship := input1;
    END_LOCAL;

    v1 := v1 + input2;
    v1 := v1 + input3;
    RETURN(v1);
  END_FUNCTION; -- make_aggregate_join

END_SCHEMA; -- Layered_interconnect_module_design_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module 3d shape - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_3d_shape_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Part_template_3d_shape_arm;

	SUBTYPE_CONSTRAINT inter_stratum_feature_template_subtypes FOR inter_stratum_feature_template;         
	    (ONEOF (component_termination_passage_template,
		 via_template,
		 unsupported_passage_template,
		 inter_stratum_feature_edge_segment_template,
		 inter_stratum_feature_edge_template));
	END_SUBTYPE_CONSTRAINT;        

	SUBTYPE_CONSTRAINT plated_inter_stratum_feature_subtypes FOR plated_inter_stratum_feature;  
		 (ONEOF (plated_cutout,
		 plated_interconnect_module_edge,
		 plated_cutout_edge_segment,
		 plated_interconnect_module_edge_segment,
		 plated_passage));
	END_SUBTYPE_CONSTRAINT; 

 	TYPE material_or_specification = SELECT
 		(Requirement_definition_property,
     	Material_identification);
	END_TYPE;

  ENTITY Cutout
    SUPERTYPE OF (ONEOF (physical_connectivity_interrupting_cutout,
 plated_cutout,
 partially_plated_cutout))
    SUBTYPE OF (Inter_stratum_feature);
  END_ENTITY; -- cutout

  ENTITY Cutout_edge_segment
    SUPERTYPE OF (plated_cutout_edge_segment)
    SUBTYPE OF (Inter_stratum_feature);
      composed_cutout                             : cutout;
      start_vertex                                : edge_segment_vertex;
      end_vertex                                  : edge_segment_vertex;
      SELF\inter_stratum_feature.derived_from : inter_stratum_feature_edge_segment_template;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- cutout_edge_segment

  ENTITY Dielectric_material_passage
    SUBTYPE OF (Inter_stratum_feature);
      feature_material  : OPTIONAL material_or_specification;
      precedent_passage : cutout;
  END_ENTITY; -- dielectric_material_passage

  ENTITY Edge_segment_cross_section
    SUBTYPE OF (Shape_definition_3d_intersection);
      SELF\shape_definition_3d_intersection.surface_intersection_result : edge_shape;
      SELF\shape_definition_3d_intersection.projected_volume            : part_template_3d_shape;
    DERIVE
      cross_section_reference                                           : edge_segment_vertex := SELF\shape_definition_3d_intersection.projected_volume\part_template_3d_shape.shape_characterized_part_template\inter_stratum_feature_edge_segment_template.start_vertex;
      associated_template                                               : inter_stratum_feature_edge_segment_template := SELF\shape_definition_3d_intersection.projected_volume\part_template_3d_shape.shape_characterized_part_template;
    INVERSE
      referencing_template : inter_stratum_feature_edge_segment_template FOR cross_section;
    WHERE
      WR1 : associated_template :=: referencing_template;
  END_ENTITY; -- edge_segment_cross_section

  ENTITY Inter_stratum_feature_edge_segment_template
    SUBTYPE OF (Inter_stratum_feature_template);
      composed_edge  : inter_stratum_feature_edge_template;
      start_vertex   : edge_segment_vertex;
      end_vertex     : edge_segment_vertex;
      reference_path : trimmed_curve;
      cross_section  : OPTIONAL edge_segment_cross_section;
    WHERE
      WR1 : EXISTS(cross_section) XOR (SIZEOF(USEDIN(SELF,
 'AP210_ARM.PART_TEMPLATE_3D_SHAPE.' + 'SHAPE_CHARACTERIZED_PART_TEMPLATE')) >= 0);
      WR2 : EXISTS(reference_path.start_point) AND EXISTS(reference_path.end_point);
      WR3 : NOT (EXISTS(start_vertex\datum_point.location_in_2d)) OR (reference_path.start_point :=: start_vertex\datum_point.location_in_2d);
      WR4 : NOT (EXISTS(start_vertex\datum_point.location_in_3d)) OR (reference_path.start_point :=: start_vertex\datum_point.location_in_3d);
      WR5 : NOT (EXISTS(end_vertex\datum_point.location_in_2d)) OR (reference_path.end_point :=: start_vertex\datum_point.location_in_2d);
      WR6 : NOT (EXISTS(end_vertex\datum_point.location_in_3d)) OR (reference_path.end_point :=: start_vertex\datum_point.location_in_3d);
      WR7 : start_vertex :<>: end_vertex;
  END_ENTITY; -- inter_stratum_feature_edge_segment_template

  ENTITY Inter_stratum_feature_edge_template
    SUBTYPE OF (Inter_stratum_feature_template);
    INVERSE
      edges : SET[2:?] OF inter_stratum_feature_edge_segment_template FOR composed_edge;
  END_ENTITY; -- inter_stratum_feature_edge_template

  ENTITY Interconnect_module_edge
    SUPERTYPE OF (ONEOF (partially_plated_interconnect_module_edge,
 plated_interconnect_module_edge))
    SUBTYPE OF (Inter_stratum_feature);
  END_ENTITY; -- interconnect_module_edge

  ENTITY Interconnect_module_edge_segment
    SUPERTYPE OF (plated_interconnect_module_edge_segment)
    SUBTYPE OF (Inter_stratum_feature);
      composed_edge                               : interconnect_module_edge;
      start_vertex                                : edge_segment_vertex;
      end_vertex                                  : edge_segment_vertex;
      SELF\inter_stratum_feature.derived_from : inter_stratum_feature_edge_segment_template;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- interconnect_module_edge_segment

  ENTITY Partially_plated_cutout
    SUBTYPE OF (Cutout);
    INVERSE
      plated_segment   : SET[1:?] OF cutout_edge_segment FOR composed_cutout;
      unplated_segment : SET[1:?] OF cutout_edge_segment FOR composed_cutout;
  END_ENTITY; -- partially_plated_cutout
  
  ENTITY Partially_plated_interconnect_module_edge
    SUBTYPE OF (Interconnect_module_edge);
    INVERSE
      plated_segment   : SET[1:?] OF interconnect_module_edge_segment FOR composed_edge;
      unplated_segment : SET[1:?] OF interconnect_module_edge_segment FOR composed_edge;
  END_ENTITY; -- partially_plated_interconnect_module_edge

  ENTITY Physical_connectivity_interrupting_cutout
    SUBTYPE OF (Cutout);
      interrupted_connectivity_element : SET[1:?] OF conductive_interconnect_element;
  END_ENTITY; -- physical_connectivity_interrupting_cutout

  ENTITY Plated_cutout
    SUBTYPE OF (Cutout,
 plated_inter_stratum_feature);
  END_ENTITY; -- plated_cutout

  ENTITY Plated_cutout_edge_segment
    SUBTYPE OF (Cutout_edge_segment,
 plated_inter_stratum_feature);
      SELF\cutout_edge_segment.composed_cutout : partially_plated_cutout;
  END_ENTITY; -- plated_cutout_edge_segment

  ENTITY Plated_interconnect_module_edge
    SUBTYPE OF (Interconnect_module_edge,
 plated_inter_stratum_feature);
  END_ENTITY; -- plated_interconnect_module_edge

  ENTITY Plated_interconnect_module_edge_segment
    SUBTYPE OF (plated_inter_stratum_feature,
 interconnect_module_edge_segment);
      SELF\interconnect_module_edge_segment.composed_edge : partially_plated_interconnect_module_edge;
  END_ENTITY; -- plated_interconnect_module_edge_segment

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_with_printed_component_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module with printed component design - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_with_printed_component_design_arm;   

USE FROM Layered_interconnect_module_design_arm;

 	TYPE limwpcd_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Printed_component);
	END_TYPE;

	SUBTYPE_CONSTRAINT assembly_component_subtypes FOR assembly_component; 
	    (ONEOF (physical_component,
		 printed_component,
	 	laminate_component));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Printed_component
    SUBTYPE OF (Assembly_component);
      stratum_feature_implementation           : OPTIONAL SET[1:?] OF stratum_feature;
      SELF\definition_based_product_occurrence.derived_from : printed_part_template_or_printed_part_cross_section_template;
      printed_component_stack                  : OPTIONAL SET[1:?] OF printed_component_link;
      required_material_stack                  : OPTIONAL Laminate_layer;
      footprint_implementation                 : OPTIONAL footprint_occurrence;
    DERIVE
      access_mechanism : SET[1:?] OF printed_component_join_terminal := raw_access_mechanism + printed_component_access_mechanisms(printed_component_stack);
    INVERSE
      raw_access_mechanism       	: SET[1:?] OF printed_component_join_terminal FOR associated_component;
      associated_precedent_link  	: SET[0:1] OF printed_component_link FOR precedent_printed_component;
      associated_subsequent_link 	: SET[0:1] OF printed_component_link FOR subsequent_printed_component;
      cad_layer										: SET[0:1] OF External_source_identification FOR item;
    WHERE
      WR1  : NOT EXISTS(stratum_feature_implementation) OR same_stratum(stratum_feature_implementation);
      WR2  : NOT EXISTS(SELF\definition_based_product_occurrence.derived_from.of_stratum_technology) OR EXISTS(stratum_feature_implementation);
      WR3  : NOT EXISTS(SELF\definition_based_product_occurrence.derived_from.material_stack) OR EXISTS(required_material_stack);
      WR4  : NOT EXISTS(SELF\definition_based_product_occurrence.derived_from.printed_part_template_stack) OR EXISTS(printed_component_stack);
      WR5  : NOT EXISTS(printed_component_stack) OR consistent_stack_definition(SELF\definition_based_product_occurrence.derived_from,
 printed_component_stack);
      WR6  : NOT ('AP210_ARM.ROUTED_PRINTED_COMPONENT' IN TYPEOF(SELF)) OR ('AP210_ARM.PRINTED_PART_CROSS_SECTION_TEMPLATE' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from));
      WR7  : NOT ('AP210_ARM.PRINTED_PART_CROSS_SECTION_TEMPLATE' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from)) OR ('AP210_ARM.ROUTED_PRINTED_COMPONENT' IN TYPEOF(SELF));
      WR8  : SIZEOF(access_mechanism) > 0;
      WR9  : NOT EXISTS(footprint_implementation) OR (('AP210_ARM.PRINTED_PART_TEMPLATE' IN TYPEOF(footprint_implementation.derived_from.reference_package)) AND (derived_from = footprint_implementation.derived_from.reference_package));
      WR10 : NOT EXISTS(footprint_implementation) OR NOT ('AP210_ARM.ROUTED_PRINTED_COMPONENT' IN TYPEOF(SELF));
  END_ENTITY; -- printed_component

  ENTITY Printed_component_join_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : printed_part_template_join_terminal;
      SELF\component_feature.associated_component : printed_component;
      stratum_concept_implementation              : stratum_feature_template_component;
    WHERE
      WR1 : SIZEOF(QUERY(sf <* SELF\component_feature.associated_component\printed_component.stratum_feature_implementation | sf = stratum_concept_implementation.stratum_feature_implementation)) = 1;
  END_ENTITY; -- printed_component_join_terminal

  ENTITY Printed_component_link;
      precedent_printed_component  : printed_component;
      subsequent_printed_component : printed_component;
      definition                   : printed_part_template_link;
    INVERSE
      associated_printed_component : printed_component FOR printed_component_stack;
    WHERE
      WR1 : precedent_printed_component\definition_based_product_occurrence.derived_from = definition.precedent_printed_part_template;
      WR2 : subsequent_printed_component\definition_based_product_occurrence.derived_from = definition.subsequent_printed_part_template;
      WR3 : precedent_printed_component <> subsequent_printed_component;
  END_ENTITY; -- printed_component_link

  ENTITY Printed_connector_component
    SUBTYPE OF (printed_component);
      SELF\definition_based_product_occurrence.derived_from : printed_connector_template;
    INVERSE
      interface_access_mechanism : SET[1:?] OF printed_connector_component_interface_terminal FOR associated_component;
  END_ENTITY; -- printed_connector_component

  ENTITY Printed_connector_component_interface_terminal
    SUBTYPE OF (Laminate_component_interface_terminal);
      SELF\component_feature.definition           : printed_part_template_interface_terminal;
      SELF\component_feature.associated_component : printed_connector_component;
      stratum_concept_implementation              : stratum_feature_template_component;
    WHERE
      WR1 : NOT EXISTS(SELF\component_feature.associated_component\printed_component.stratum_feature_implementation) OR (SIZEOF(QUERY(temp <* SELF\component_feature.associated_component\printed_component.stratum_feature_implementation | temp :=: stratum_concept_implementation.stratum_feature_implementation)) = 1);
  END_ENTITY; -- printed_connector_component_interface_terminal

  ENTITY Routed_printed_component
    SUBTYPE OF (printed_component);
      routed_centreline_shape                  : curve;
      SELF\definition_based_product_occurrence.derived_from : printed_part_cross_section_template;
      component_extent                         : inter_stratum_extent;
  END_ENTITY; -- routed_printed_component

  FUNCTION consistent_stack_definition(
    input1 : printed_part_template ;
    input2 : SET OF printed_component_link
  ) : BOOLEAN;

    LOCAL
      pass : BOOLEAN := FALSE;
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input2) BY 1;
      pass := input2[i].definition.associated_printed_part_template :=: input1;
    END_REPEAT;
    RETURN(pass);
  END_FUNCTION; -- consistent_stack_definition

  FUNCTION printed_component_access_mechanisms(
    input : SET OF printed_component_link
  ) : SET OF printed_component_join_terminal;

    LOCAL
      pcjt : SET OF printed_component_join_terminal := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      pcjt := input[i].precedent_printed_component.raw_access_mechanism + pcjt;
      pcjt := input[i].subsequent_printed_component.raw_access_mechanism + pcjt;
    END_REPEAT;
    RETURN(pcjt);
  END_FUNCTION; -- printed_component_access_mechanisms

  FUNCTION same_stratum(
    input : SET OF stratum_feature
  ) : BOOLEAN;

    LOCAL
      pass : BOOLEAN := FALSE;
      s    : SET OF stratum := [];
      pptt : SET OF printed_part_template_terminal := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      s := input[i].resident_stratum + s;
    END_REPEAT;
    pass := (SIZEOF(s) = 1);
    RETURN(pass);
  END_FUNCTION; -- same_stratum

END_SCHEMA; 


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_module_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect module usage view - EXPRESS ARM
*)

SCHEMA Interconnect_module_usage_view_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Part_terminal_arm;

USE FROM Part_feature_location_arm;

USE FROM Shape_composition_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Network_functional_usage_view_arm;

  ENTITY Interconnect_module_cavity_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
      reference_surface : interconnect_module_surface_feature;
    WHERE
      WR1 : SELF :<>: reference_surface;
  END_ENTITY; -- interconnect_module_cavity_surface

  ENTITY Interconnect_module_cutout_segment_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
      composed_surface : interconnect_module_cutout_surface;
      start_vertex     : edge_segment_vertex;
      end_vertex       : edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- interconnect_module_cutout_segment_surface

  ENTITY Interconnect_module_cutout_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
  END_ENTITY; -- interconnect_module_cutout_surface

  ENTITY Interconnect_module_edge_segment_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
      composed_surface : interconnect_module_edge_surface;
      start_vertex     : edge_segment_vertex;
      end_vertex       : edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- interconnect_module_edge_segment_surface

  ENTITY Interconnect_module_edge_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
  END_ENTITY; -- interconnect_module_edge_surface

  ENTITY Interconnect_module_interface_terminal
    SUBTYPE OF (Interconnect_module_terminal);
  END_ENTITY; -- interconnect_module_interface_terminal

  ENTITY Interconnect_module_primary_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
  END_ENTITY; -- interconnect_module_primary_surface

  ENTITY Interconnect_module_secondary_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
  END_ENTITY; -- interconnect_module_secondary_surface

  ENTITY Interconnect_module_surface_feature
    ABSTRACT SUPERTYPE OF (ONEOF (interconnect_module_cavity_surface,
 interconnect_module_cutout_segment_surface,
 interconnect_module_cutout_surface,
 interconnect_module_secondary_surface,
 interconnect_module_primary_surface,
 interconnect_module_edge_surface,
 interconnect_module_edge_segment_surface))
    SUBTYPE OF (part_feature);
      SELF\part_feature.associated_definition : interconnect_module_usage_view;
  END_ENTITY; -- interconnect_module_surface_feature

  ENTITY Interconnect_module_terminal
    SUBTYPE OF (part_terminal);
      terminal_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
      SELF\part_feature.associated_definition : interconnect_module_usage_view;
    INVERSE
      SELF\part_feature.feature_shape : SET[1:?] OF usage_concept_usage_relationship FOR associated_usage;
  END_ENTITY; -- interconnect_module_terminal

  ENTITY Interconnect_module_terminal_surface_constituent_relationship
    SUBTYPE OF (shape_element_constituent_relationship);
      SELF\shape_element_relationship.relating : interconnect_module_surface_feature;
      SELF\shape_element_relationship.related  : interconnect_module_terminal;
  END_ENTITY; -- interconnect_module_terminal_surface_constituent_relationship

  ENTITY Interconnect_module_usage_view
    SUPERTYPE OF (pcb_usage_view)
    SUBTYPE OF (part_usage_view);
      minimum_thickness_over_metal_requirement      : OPTIONAL length_data_element;
      maximum_thickness_over_metal_requirement      : OPTIONAL length_data_element;
      minimum_thickness_over_dielectric_requirement : OPTIONAL length_data_element;
      maximum_thickness_over_dielectric_requirement : OPTIONAL length_data_element;
      measurement_condition                         : OPTIONAL restraint_condition;
      located_thickness_requirement                 : OPTIONAL SET[1:?] OF located_interconnect_module_thickness_requirement;
      implemented_function                          : OPTIONAL functional_unit_usage_view;
    WHERE
      WR1 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE.ASSOCIATED_DEFINITION') | ('AP210_ARM.' + 'INTERCONNECT_MODULE_PRIMARY_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR2 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE.ASSOCIATED_DEFINITION') | ('AP210_ARM.' + 'INTERCONNECT_MODULE_SECONDARY_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR3 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE.ASSOCIATED_DEFINITION') | ('AP210_ARM.' + 'INTERCONNECT_MODULE_EDGE_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR4 : EXISTS(maximum_thickness_over_metal_requirement) OR EXISTS(maximum_thickness_over_dielectric_requirement);
      WR5 : NOT (EXISTS(minimum_thickness_over_metal_requirement)) OR (minimum_thickness_over_metal_requirement\value_with_unit.value_component > 0.0);
      WR6 : NOT (EXISTS(maximum_thickness_over_metal_requirement)) OR (maximum_thickness_over_metal_requirement\value_with_unit.value_component > 0.0);
      WR7 : NOT (EXISTS(minimum_thickness_over_dielectric_requirement)) OR (minimum_thickness_over_dielectric_requirement\value_with_unit.value_component > 0.0);
      WR8 : NOT (EXISTS(maximum_thickness_over_dielectric_requirement)) OR (maximum_thickness_over_dielectric_requirement\value_with_unit.value_component > 0.0);
  END_ENTITY; -- interconnect_module_usage_view

  ENTITY Located_interconnect_module_thickness_requirement;
      reference_location            : axis_placement;
      maximum_thickness_requirement : length_data_element;
      minimum_thickness_requirement : length_data_element;
    INVERSE
      design : SET[1:?] OF interconnect_module_usage_view FOR located_thickness_requirement;
    UNIQUE
      UR1 : design,
 reference_location;
  END_ENTITY; -- located_interconnect_module_thickness_requirement

  ENTITY Pcb_usage_view
    SUBTYPE OF (Interconnect_module_usage_view);
  END_ENTITY; -- pcb_usage_view

END_SCHEMA; -- Interconnect_module_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_physical_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect physical requirement allocation - EXPRESS ARM
*)

 SCHEMA Interconnect_physical_requirement_allocation_arm;

USE FROM Requirement_decomposition_arm;
USE FROM Manufacturing_technology_arm;

	SUBTYPE_CONSTRAINT material_removal_feature_template_subtypes FOR material_removal_feature_template; 
	    (ONEOF (electrical_isolation_removal_template,
	 	thermal_isolation_removal_template));
	END_SUBTYPE_CONSTRAINT;

 	TYPE thermal_isolation_removal_structure_or_template = EXTENSIBLE GENERIC_ENTITY SELECT
 		(thermal_isolation_removal_template);
	END_TYPE;
		
  ENTITY Thermal_isolation_removal_template
    SUBTYPE OF (Material_removal_feature_template);
  END_ENTITY; -- thermal_isolation_removal_template

  ENTITY Thermal_isolation_requirement
  	SUBTYPE OF (Requirement_view_definition);
  	INVERSE
			thermal_isolation_spacing_requirement		: Layout_spacing_requirement_occurrence FOR associated_definition;  	
      effective_current_capacity_requirement 	: Requirement_definition_property FOR associated_definition;
      angular_orientation_requirement        	: Requirement_definition_property FOR associated_definition;
  END_ENTITY; -- thermal_isolation_requirement
  
 END_SCHEMA; -- Interconnect_physical_requirement_allocation_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_placement_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect placement requirements - EXPRESS ARM
*)

SCHEMA Interconnect_placement_requirements_arm;

USE FROM Land_arm;

USE FROM Layered_interconnect_module_3d_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Requirement_decomposition_arm;

USE FROM Part_template_extension_arm;

USE FROM Assembly_component_placement_requirements_arm;

USE FROM Characteristic_arm;

	TYPE assembly_or_interconnect_design_object_select = SELECT
    (assembly_component,
     component_feature,
     interconnect_module_design_object_select);
	END_TYPE;

	TYPE interconnect_module_design_object_select = SELECT 
    (via,
     cutout,
     component_termination_passage,
     land,
     conductor,
     conductive_filled_area,
     stratum_feature,
     laminate_component,
     inter_stratum_feature,
     non_functional_land);
  END_TYPE;

  TYPE interconnect_module_design_object_category = ENUMERATION OF
    (interconnect_module_via,
     interconnect_module_inter_stratum_feature,
     interconnect_module_cutout,
     interconnect_module_fill_area,
     interconnect_module_stratum_feature);
  END_TYPE; -- interconnect_module_design_object_category

	TYPE ipr_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Interconnect_module_constraint_region);
	END_TYPE; 

	SUBTYPE_CONSTRAINT non_feature_shape_element_subtypes FOR non_feature_shape_element; 
	    (ONEOF (
		 derived_shape_element,
		 directed_axis,
		 positional_boundary,
		 positional_boundary_member,
		 tolerance_zone_boundary,
		 tolerance_zone_boundary_member,
		 viewing_plane,
		 seating_plane,
		 template_material_cross_section_boundary,
		 interconnect_module_constraint_region,
		 reference_graphic_registration_mark,
		 mounting_restriction_area,
		 mounting_restriction_volume));
	END_SUBTYPE_CONSTRAINT;

 	SUBTYPE_CONSTRAINT requirement_definition_property_subtypes FOR Requirement_definition_property;     
		(ONEOF (layout_spacing_requirement_occurrence,
		item_restricted_requirement_occurrence));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Interconnect_module_constraint_region
    SUBTYPE OF (Non_feature_shape_element);
      keepout                                          : BOOLEAN;
      non_conformant_interconnect_module_design_object : OPTIONAL SET[1:?] OF interconnect_module_design_object_select;
      SELF\non_feature_shape_element.scope             : interconnect_module;
      design_specific_purpose                          : STRING; --ee_name;
(** Need WR to constrain the cardinality      
      requirement                                      : Requirement_definition_property;
*)      
      associated_stratum_extent                        : SET[1:?] OF inter_stratum_extent;
      constrained_design_object_category               : interconnect_module_design_object_category;
    INVERSE
      precedent_version_constraint_region : SET[0:1] OF non_feature_shape_element_relationship FOR related;
    WHERE
      WR1 : ('AP210_ARM.CONSTRUCTIVE_GEOMETRY' IN TYPEOF(SELF\non_feature_shape_element.element_shape)) OR ('AP210_ARM.THREE_DIMENSIONAL_SHAPE' IN TYPEOF(SELF\non_feature_shape_element.element_shape));
      WR2 : NOT (SIZEOF(precedent_version_constraint_region) = 1) OR ('AP210_ARM.INTERCONNECT_MODULE_CONSTRAINT_REGION' IN TYPEOF(precedent_version_constraint_region[1]\non_feature_shape_element_relationship.relating));
  END_ENTITY; -- interconnect_module_constraint_region

  ENTITY Layer_qualified_layout_spacing_requirement_occurrence
    SUBTYPE OF (Layout_spacing_requirement_occurrence);
      layer_context : SET[1:?] OF inter_stratum_extent;
  END_ENTITY; -- layer_qualified_layout_spacing_requirement_occurrence

  ENTITY Layout_spacing_requirement_non_conforming_design_object;
      non_conformant_design_object : SET[1:?] OF assembly_or_interconnect_design_object_select;
      reference_design_object      : assembly_or_interconnect_design_object_select;
      design_requirement           : layout_spacing_requirement_occurrence;
  END_ENTITY; -- layout_spacing_requirement_non_conforming_design_object

END_SCHEMA; -- Interconnect_placement_requirements_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_non_planar_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect non planar shape - EXPRESS ARM
*)

SCHEMA Interconnect_non_planar_shape_arm;

USE FROM Layered_interconnect_module_with_design_intend_modifications_arm;

USE FROM Physical_unit_3d_shape_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Physical_unit_non_planar_design_view_arm;

USE FROM Part_template_2d_shape_arm;

  ENTITY Component_non_planar_location;
      transformation  : axis_placement_3d;
      placement_fixed : BOOLEAN;
    -- Add attributes from original component_non_planar_position as discussed on SEDS-1227
      component_model : assembly_component_non_planar_shape;
      assembly_model  : physical_unit_3d_shape;
      component       : next_assembly_usage;
  END_ENTITY; -- component_non_planar_location

  ENTITY Component_part_2d_non_planar_geometric_representation_relationship
    SUBTYPE OF (Geometric_model_relationship);
    	SELF\Geometric_model_relationship.rep_1 RENAMED part_shape      : part_template_planar_shape;
      SELF\Geometric_model_relationship.rep_2 RENAMED component_shape : assembly_component_non_planar_shape;
  END_ENTITY; -- component_part_2d_non_planar_geometric_representation_relationship

  ENTITY Design_intent_modification_non_planar_2d_shape
    SUBTYPE OF (Manifold_surface_shape_representation);
      represented_design_intent_modification : design_intent_modification;
  END_ENTITY; -- design_intent_modification_non_planar_2d_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect 2d shape - EXPRESS ARM
*)

SCHEMA Interconnect_2d_shape_arm;

USE FROM Layered_interconnect_module_with_design_intend_modifications_arm;

USE FROM Fabrication_joint_arm;

USE FROM Physical_unit_2d_design_view_arm;

  TYPE design_intent_modification_planar_shape_select = SELECT
    (design_intent_modification_styled_area_representation,
     design_intent_modification_planar_shape);
  END_TYPE; -- design_intent_modification_planar_shape_select

  ENTITY Component_2d_embedded_location
    SUBTYPE OF (Component_2d_location);
      precedent_surface  : adjacent_stratum_surface_embedded_component_surface_definition;
      subsequent_surface : adjacent_stratum_surface_embedded_component_surface_definition;
      reference_terminal : fabrication_joint;
    UNIQUE
      UR1 : precedent_surface,
 reference_terminal,
 subsequent_surface;
    WHERE
      WR1 : precedent_surface <> subsequent_surface;
      WR2 : SELF\component_2d_location.substrate_location = FALSE;
  END_ENTITY; -- component_2d_embedded_location

  ENTITY Design_intent_modification_planar_position;
      design_shape   : physical_unit_planar_shape;
      transformation : axis_placement_2d;
      feature_shape  : design_intent_modification_planar_shape_select;
  END_ENTITY; -- design_intent_modification_planar_position

  ENTITY Design_intent_modification_planar_shape
    SUBTYPE OF (planar_projected_shape);
      represented_design_intent_modification : design_intent_modification;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- design_intent_modification_planar_shape

  ENTITY Design_intent_modification_styled_area_representation;
      derived_planar_shape                   : OPTIONAL SET[1:?] OF design_intent_modification_planar_shape;
      represented_design_intent_modification : design_intent_modification;
      shape_styled_area_representation       : styled_area_representation;
  END_ENTITY; -- design_intent_modification_styled_area_representation

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect 3d shape - EXPRESS ARM
*)

SCHEMA Interconnect_3d_shape_arm; 

USE FROM Interconnect_non_planar_shape_arm;

  TYPE design_intent_modification_3d_shape_select = SELECT
    (design_intent_modification_non_planar_2d_shape,
     design_intent_modification_3d_shape);
  END_TYPE; -- design_intent_modification_3d_shape_select

  ENTITY Design_intent_modification_3d_position;
      design_shape   : physical_unit_3d_shape;
      transformation : axis_placement_3d;
      feature_shape  : design_intent_modification_3d_shape_select;
  END_ENTITY; -- design_intent_modification_3d_position

  ENTITY Design_intent_modification_3d_shape
    SUBTYPE OF (Feature_shape_definition);
      represented_design_intent_modification : design_intent_modification;
  END_ENTITY; -- design_intent_modification_3d_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Land_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Land - EXPRESS ARM
*)

SCHEMA Land_arm;

USE FROM Manufacturing_technology_arm;

USE FROM Layered_interconnect_module_design_arm;

	SUBTYPE_CONSTRAINT laminate_component_interface_terminal_subtypes FOR laminate_component_interface_terminal; 
		 (ONEOF (non_functional_land_interface_terminal,
		 component_termination_passage_interface_terminal,
		 land_interface_terminal));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT laminate_component_join_terminal_subtypes FOR laminate_component_join_terminal; 
		 (ONEOF (component_termination_passage_join_terminal,
		 land_join_terminal,
		 non_functional_land_join_terminal,
		 embedded_component_terminal));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT stratum_feature_template_component_subtypes FOR stratum_feature_template_component;   
		(ONEOF (connected_area_component,
		non_functional_land,
		land));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Component_termination_passage_and_contact_size_dependent_land
    SUBTYPE OF (Land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_and_component_termination_passage_based_land_physical_template;
      reference_passage                        : component_termination_passage;
    INVERSE
      interface_access_mechanism : land_interface_terminal FOR associated_component;
  END_ENTITY; -- component_termination_passage_and_contact_size_dependent_land

  ENTITY Component_termination_passage_and_contact_size_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_and_component_termination_passage_based_land_physical_template;
      reference_passage                        : component_termination_passage;
    INVERSE
      interface_access_mechanism : non_functional_land_interface_terminal FOR associated_component;
  END_ENTITY; -- component_termination_passage_and_contact_size_dependent_non_functional_land

  ENTITY Component_termination_passage_dependent_land
    SUBTYPE OF (Land);
      reference_passage                        : component_termination_passage;
      SELF\definition_based_product_occurrence.derived_from : default_component_termination_passage_based_land_physical_template;
  END_ENTITY; -- component_termination_passage_dependent_land

  ENTITY Component_termination_passage_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      reference_passage                        : component_termination_passage;
      SELF\definition_based_product_occurrence.derived_from : default_component_termination_passage_based_land_physical_template;
  END_ENTITY; -- component_termination_passage_dependent_non_functional_land

  ENTITY Contact_size_dependent_land
    SUBTYPE OF (Land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_based_land_physical_template;
  END_ENTITY; -- contact_size_dependent_land

  ENTITY Contact_size_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_based_land_physical_template;
  END_ENTITY; -- contact_size_dependent_non_functional_land

  ENTITY Land
    SUPERTYPE OF (ONEOF (via_dependent_land,
 component_termination_passage_dependent_land,
 contact_size_dependent_land,
 component_termination_passage_and_contact_size_dependent_land,
 via_and_contact_size_dependent_land))
    SUBTYPE OF (stratum_feature_template_component);
      alternate_land_definition                : OPTIONAL land_physical_template;
      SELF\definition_based_product_occurrence.derived_from : OPTIONAL land_physical_template;
    INVERSE
      access_mechanism : SET[1:?] OF land_join_terminal FOR associated_component;
  END_ENTITY; -- land

  ENTITY Land_interface_terminal
    SUBTYPE OF (Laminate_component_interface_terminal);
      SELF\component_feature.definition           : land_template_interface_terminal;
      SELF\component_feature.associated_component : land;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.CONTACT_SIZE_DEPENDENT_LAND',
 'AP210_ARM.COMPONENT_TERMINATION_PASSAGE_AND_CONTACT_SIZE_DEPENDENT_LAND',
 'AP210_ARM.VIA_AND_CONTACT_SIZE_DEPENDENT_LAND'] * TYPEOF(SELF\component_feature.associated_component)) = 1;
  END_ENTITY; -- land_interface_terminal

  ENTITY Land_join_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : land_template_join_terminal;
      SELF\component_feature.associated_component : land;
  END_ENTITY; -- land_join_terminal

  ENTITY Non_functional_land
    SUPERTYPE OF (ONEOF (via_dependent_non_functional_land,
 component_termination_passage_dependent_non_functional_land,
 contact_size_dependent_non_functional_land,
 component_termination_passage_and_contact_size_dependent_non_functional_land,
 unsupported_passage_dependent_non_functional_land,
 via_and_contact_size_dependent_non_functional_land))
    SUBTYPE OF (stratum_feature_template_component);
      alternate_land_definition                : OPTIONAL land_physical_template;
      SELF\definition_based_product_occurrence.derived_from : land_physical_template;
    INVERSE
      access_mechanism : SET[1:?] OF non_functional_land_join_terminal FOR associated_component;
  END_ENTITY; -- non_functional_land

  ENTITY Non_functional_land_interface_terminal
    SUBTYPE OF (Laminate_component_interface_terminal);
      SELF\component_feature.definition           : land_template_interface_terminal;
      SELF\component_feature.associated_component : non_functional_land;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND',
 'AP210_ARM.COMPONENT_TERMINATION_PASSAGE_AND_CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND',
 'AP210_ARM.VIA_AND_CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND'] * TYPEOF(SELF\component_feature.associated_component)) = 1;
  END_ENTITY; -- non_functional_land_interface_terminal

  ENTITY Non_functional_land_join_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : land_template_join_terminal;
      SELF\component_feature.associated_component : non_functional_land;
  END_ENTITY; -- non_functional_land_join_terminal

ENTITY Plated_passage_dependent_land
  SUBTYPE OF (Land);
    reference_plated_passage                 : plated_passage;
    SELF\assembly_component.derived_from : 
          default_plated_passage_based_land_physical_template;
END_ENTITY; -- plated_passage_dependent_land

ENTITY Plated_passage_dependent_non_functional_land
  SUBTYPE OF (Non_functional_land);
    reference_plated_passage                            : plated_passage;
    SELF\assembly_component.derived_from : 
	default_plated_passage_based_land_physical_template;
END_ENTITY; -- plated_passage_dependent_non_functional_land

  ENTITY Unsupported_passage_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      reference_passage                        : unsupported_passage;
      SELF\definition_based_product_occurrence.derived_from : default_unsupported_passage_based_land_physical_template;
  END_ENTITY; -- unsupported_passage_dependent_non_functional_land

  ENTITY Via_and_contact_size_dependent_land
    SUBTYPE OF (Land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_and_via_based_land_physical_template;
      reference_via                            : via;
    INVERSE
      interface_access_mechanism : land_interface_terminal FOR associated_component;
  END_ENTITY; -- via_and_contact_size_dependent_land

  ENTITY Via_and_contact_size_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      reference_via                            : via;
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_and_via_based_land_physical_template;
    INVERSE
      interface_access_mechanism : non_functional_land_interface_terminal FOR associated_component;
  END_ENTITY; -- via_and_contact_size_dependent_non_functional_land

  ENTITY Via_dependent_land
    SUBTYPE OF (Land);
      reference_via                            : via;
      SELF\definition_based_product_occurrence.derived_from : default_via_based_land_physical_template;
  END_ENTITY; -- via_dependent_land

  ENTITY Via_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      reference_via                            : via;
      SELF\definition_based_product_occurrence.derived_from : default_via_based_land_physical_template;
  END_ENTITY; -- via_dependent_non_functional_land

END_SCHEMA; -- Land_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Manufacturing_technology_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Manufacturing technology - EXPRESS ARM
*)

SCHEMA Manufacturing_technology_arm;

USE FROM Feature_and_connection_zone_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Shape_property_assignment_arm; 

USE FROM Specification_document_arm;

USE FROM Physical_layout_template_arm;

USE FROM Requirement_decomposition_arm;

USE FROM Part_feature_location_arm;

  TYPE documentation_layer_purpose = SELECT
    (predefined_documentation_layer_purpose,
     external_item_identification);
  END_TYPE; -- documentation_layer_purpose

  TYPE land_template_terminal_class = ENUMERATION OF
    (surface_point_class,
     edge_curve_class,
     edge_point_class,
     surface_area_class);
  END_TYPE; -- land_template_terminal_class

  TYPE layer_position_type = ENUMERATION OF
    (secondary,
     all,
     external,
     primary,
     internal);
  END_TYPE; -- layer_position_type

  TYPE layer_purpose = ENUMERATION OF
    (other_signal,
     lands_only,
     power_or_ground);
  END_TYPE; -- layer_purpose

 	TYPE mt_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Land_physical_template);
	END_TYPE;

	TYPE mt_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(land_template_terminal);
	END_TYPE;

  TYPE pca_product_design_object_category = ENUMERATION OF
    (assembly_component_category,
     assembly_module_category,
     assembly_module_component_category,
     assembly_module_component_terminal_category,
     assembly_module_macro_component_category,
     assembly_module_macro_component_join_terminal_category,
     bare_die_component_category,
     bare_die_component_terminal_category,
     bonded_conductive_base_blind_via_category,
     buried_via_category,
     cable_component_category,
     component_feature_category,
     component_mounting_feature_category,
     component_termination_passage_category,
     component_termination_passage_and_contact_size_dependent_land_category,
     component_termination_passage_and_contact_size_dependent_non_functional_land_category,
     component_termination_passage_dependent_land_category,
     component_termination_passage_dependent_non_functional_land_category,
     component_termination_passage_interface_terminal_category,
     component_termination_passage_join_terminal_category,
     conductive_interconnect_element_terminal_category,
     conductive_interconnect_element_with_pre_defined_transitions_category,
     conductive_interconnect_element_with_user_defined_single_transition_category,
     connected_area_component_category,
     contact_size_dependent_land_category,
     contact_size_dependent_non_functional_land_category,
     cutout_category,
     cutout_edge_segment_category,
     dielectric_material_passage_category,
     electrical_isolation_laminate_component_category,
     embedded_component_terminal_category,
     fiducial_category,
     fill_area_category,
     filled_area_material_removal_laminate_component_category,
     inter_stratum_feature_category,
     interconnect_component_interface_terminal_category,
     interconnect_component_join_terminal_category,
     interconnect_module_component_category,
     interconnect_module_component_stratum_based_terminal_category,
     interconnect_module_component_surface_feature_category,
     interconnect_module_component_terminal_category,
     interconnect_module_edge_category,
     interconnect_module_edge_segment_category,
     interconnect_module_macro_component_category,
     interconnect_module_macro_component_join_terminal_category,
     interface_access_material_removal_laminate_component_category,
     interface_access_stratum_feature_template_component_category,
     interface_component_category,
     interfacial_connection_category,
     internal_probe_access_area_category,
     join_two_physical_connectivity_definition_supporting_inter_stratum_feature_category,
     join_two_physical_connectivity_definition_supporting_printed_component_category,
     laminate_component_category,
     laminate_text_component_category,
     laminate_text_string_component_category,
     land_category,
     land_interface_terminal_category,
     land_join_terminal_category,
     material_removal_laminate_component_category,
     minimally_defined_component_terminal_category,
     movable_packaged_component_join_terminal_category,
     multi_layer_material_removal_laminate_component_category,
     multi_layer_stratum_feature_template_component_category,
     non_conductive_base_blind_via_category,
     non_functional_land_category,
     non_functional_land_interface_terminal_category,
     non_functional_land_join_terminal_category,
     packaged_component_category,
     packaged_component_join_terminal_category,
     packaged_connector_component_category,
     packaged_connector_component_interface_terminal_category,
     partially_plated_cutout_category,
     partially_plated_interconnect_module_edge_category,
     physical_component_category,
     physical_connectivity_interrupting_cutout_category,
     physical_laminate_component_category,
     physical_network_supporting_inter_stratum_feature_category,
     plated_conductive_base_blind_via_category,
     plated_cutout_category,
     plated_cutout_edge_segment_category,
     plated_interconnect_module_edge_category,
     plated_interconnect_module_edge_segment_category,
     plated_passage_category,
     plated_passage_or_unsupported_passage_category,
     primary_stratum_indicator_symbol_category,
     printed_component_join_terminal_category,
     printed_connector_component_interface_terminal_category,
     probe_access_area_category,
     routed_interconnect_component_category,
     routed_physical_component_category,
     special_symbol_laminate_component_category,
     stratum_feature_category,
     stratum_feature_template_component_category,
     thermal_isolation_laminate_component_category,
     unrouted_conductive_interconnect_element_category,
     unsupported_passage_category,
     unsupported_passage_dependent_non_functional_land_category,
     via_category,
     via_and_contact_size_dependent_land_category,
     via_and_contact_size_dependent_non_functional_land_category,
     via_dependent_land_category,
     via_dependent_non_functional_land_category,
     via_terminal_category);
  END_TYPE; -- pca_product_design_object_category

  TYPE predefined_documentation_layer_purpose = ENUMERATION OF
    (soldermask,
     solderpaste,
     silkscreen,
     generic_layer,
     glue,
     gluemask,
     pastemask);
  END_TYPE; -- predefined_documentation_layer_purpose

  TYPE spacing_type = ENUMERATION OF
    (nearest_boundary,
     centroid,
     furthest_boundary);
  END_TYPE; -- spacing_type

  TYPE stiffness_class = ENUMERATION OF
    (fluid_like,
     conformal_coat,
     stiff_laminate);
  END_TYPE; -- stiffness_class

  ENTITY Default_attachment_size_based_land_physical_template
    SUBTYPE OF (Default_land_physical_template);
      minimum_attachment_region_size : OPTIONAL connection_zone_in_layout_template;
      maximum_attachment_region_size : OPTIONAL connection_zone_in_layout_template;
    INVERSE
      interface_access_mechanisms : SET[1:?] OF land_template_interface_terminal FOR associated_definition;
    WHERE
      WR1 : NOT (EXISTS(minimum_attachment_region_size) AND EXISTS(maximum_attachment_region_size)) OR (minimum_attachment_region_size :<>: maximum_attachment_region_size);
  END_ENTITY; -- default_attachment_size_based_land_physical_template

  ENTITY Default_land_physical_template
    ABSTRACT SUPERTYPE
    SUBTYPE OF (Land_physical_template);
      SELF\stratum_feature_template.of_stratum_technology : OPTIONAL SET[1:?] OF design_layer_technology;
  END_ENTITY; -- default_land_physical_template

  ENTITY Dependent_material_removal_feature_template
    SUBTYPE OF (Material_removal_feature_template);
      associated_template : default_land_physical_template;
  END_ENTITY; -- dependent_material_removal_feature_template

  ENTITY Design_layer_technology
    SUBTYPE OF (stratum_technology);
      design_layer_purpose                                     : layer_purpose;
      SELF\stratum_technology.minimum_finished_feature_size    : length_data_element;
      SELF\stratum_technology.minimum_finished_feature_spacing : length_data_element;
  END_ENTITY; -- design_layer_technology

  ENTITY Documentation_layer_technology
    SUBTYPE OF (stratum_technology);
      pre_defined_documentation_layer_purpose : OPTIONAL documentation_layer_purpose;
  END_ENTITY; -- documentation_layer_technology

  ENTITY Electrical_isolation_removal_template
    SUBTYPE OF (Material_removal_feature_template);
      electrical_isolation_spacing_requirement : layout_spacing_requirement_occurrence;
  END_ENTITY; -- electrical_isolation_removal_template

  ENTITY Land_physical_template
    SUPERTYPE OF (default_land_physical_template)
    SUBTYPE OF (stratum_feature_template);
    INVERSE
      access_mechanisms 							: SET[1:?] OF land_template_terminal FOR associated_definition;
			pre_defined_classification_code	: SET[0:1] OF External_source_identification FOR item;      
    UNIQUE
      UR1 : pre_defined_classification_code;
    WHERE
      WR1 : SIZEOF(QUERY(ltjt <* access_mechanisms | NOT ('AP210_ARM.LAND_TEMPLATE_JOIN_TERMINAL' IN TYPEOF(ltjt)))) = 0;
  END_ENTITY; -- land_physical_template

  ENTITY Land_template_interface_terminal
    SUBTYPE OF (Land_template_terminal);
      SELF\land_template_terminal.associated_definition : default_attachment_size_based_land_physical_template;
  END_ENTITY; -- land_template_interface_terminal

  ENTITY Land_template_join_terminal
    SUBTYPE OF (Land_template_terminal);
  END_ENTITY; -- land_template_join_terminal

  ENTITY Land_template_terminal
    ABSTRACT SUPERTYPE OF (ONEOF (land_template_join_terminal,
 land_template_interface_terminal))
    SUBTYPE OF (shape_element);
      associated_definition    : land_physical_template;
      terminal_connection_zone : OPTIONAL SET[1:?] OF connection_zone_in_layout_template;
      SELF\shape_element.element_name  : STRING; --ee_name;
      connection_zone_category : OPTIONAL SET[1:?] OF land_template_terminal_class;
    INVERSE
      terminal_shape : SET[0:1] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
    WHERE
      WR1 : NOT (EXISTS(terminal_connection_zone)) OR EXISTS(connection_zone_category);
      WR2 : NOT (EXISTS(terminal_connection_zone)) OR (SIZEOF(terminal_connection_zone) = SIZEOF(connection_zone_category));
  END_ENTITY; -- land_template_terminal

  ENTITY Layout_spacing_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
      reference_design_object_category                                   : pca_product_design_object_category;
      dependent_design_object_category                                   : pca_product_design_object_category;
      SELF\Requirement_definition_property.required_coordinated_characteristic : SET[1:1] OF tolerance_characteristic;
      of_spacing_type                                                    : spacing_type;
    UNIQUE
      UR1 : reference_design_object_category,
 dependent_design_object_category;
    WHERE
      WR1 : 'AP210_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(SELF\Requirement_definition_property.required_coordinated_characteristic[1].items[1]);
  END_ENTITY; -- layout_spacing_requirement_occurrence

  ENTITY Material_addition_feature_template
    SUBTYPE OF (stratum_feature_template);
    WHERE
      WR1 : NOT (SIZEOF(['AP210_ARM.SNOWBALL_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_ANGLE_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_LENGTH_TEMPLATE'] * TYPEOF(SELF)) = 1) OR ((SIZEOF(USEDIN(SELF,
 'AP210_ARM.PART_TEMPLATE_PLANAR_SHAPE.' + 'SHAPE_CHARACTERIZED_PART_TEMPLATE')) = 0) AND (SIZEOF(USEDIN(SELF,
 'AP210_ARM.PART_TEMPLATE_3D_SHAPE.' + 'SHAPE_CHARACTERIZED_PART_TEMPLATE')) = 0) AND (SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'PART_TEMPLATE_NON_PLANAR_2D_SHAPE.' + 'SHAPE_CHARACTERIZED_PART_TEMPLATE')) = 0));
  END_ENTITY; -- material_addition_feature_template

  ENTITY Material_removal_feature_template
    SUBTYPE OF (Layout_template_definition);
      of_stratum_technology : OPTIONAL SET[1:?] OF stratum_technology;
  END_ENTITY; -- material_removal_feature_template

  ENTITY Passage_technology_parameters;
      plated_passage                           : BOOLEAN;
      maximum_as_finished_passage_extent       : OPTIONAL length_data_element;
      minimum_as_finished_passage_extent       : OPTIONAL length_data_element;
      name                                     : STRING; --ee_name;
      maximum_as_finished_deposition_thickness : OPTIONAL length_data_element;
      maximum_aspect_ratio                     : OPTIONAL REAL;
      minimum_as_finished_deposition_thickness : OPTIONAL length_data_element;
      specification                            : OPTIONAL process_specification;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- passage_technology_parameters

  ENTITY Stratum_feature_template
    SUPERTYPE OF (ONEOF (land_physical_template,
 material_addition_feature_template))
    SUBTYPE OF (Layout_template_definition);
      of_stratum_technology : OPTIONAL SET[1:?] OF stratum_technology;
  END_ENTITY; -- stratum_feature_template

  ENTITY Stratum_technology
    SUPERTYPE OF (ONEOF (design_layer_technology,
 documentation_layer_technology));
      layer_position                   : layer_position_type;
      stratum_material                 : material_identification;
      maximum_stratum_thickness        : length_data_element;
      minimum_stratum_thickness        : length_data_element;
      name                             : STRING; --ee_name;
      minimum_finished_feature_size    : OPTIONAL length_data_element;
      laminate_stiffness_class         : OPTIONAL stiffness_class;
      minimum_finished_feature_spacing : OPTIONAL length_data_element;
      maximum_feature_size_requirement : OPTIONAL length_data_element;
      specification                    : OPTIONAL process_specification;
      surface_specification            : OPTIONAL surface_finish_specification;
    UNIQUE
      UR1 : name;
    WHERE
      WR1 : NOT (layer_position = layer_position_type.primary) OR ('AP210_ARM.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF));
      WR2 : NOT (layer_position = layer_position_type.secondary) OR ('AP210_ARM.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF));
  END_ENTITY; -- stratum_technology

  ENTITY Stratum_technology_link;
      precedent_stratum_technology      : stratum_technology;
      subsequent_stratum_technology     : stratum_technology;
      precedent_stratum_technology_link : OPTIONAL stratum_technology_link;
    UNIQUE
      UR1 : precedent_stratum_technology,
 subsequent_stratum_technology;
    WHERE
      WR1 : precedent_stratum_technology :<>: subsequent_stratum_technology;
      WR2 : NOT (EXISTS(precedent_stratum_technology_link)) OR (precedent_stratum_technology_link :<>: SELF);
      WR3 : NOT EXISTS(precedent_stratum_technology_link) OR (precedent_stratum_technology_link.subsequent_stratum_technology :=: precedent_stratum_technology);
  END_ENTITY; -- stratum_technology_link

END_SCHEMA; -- Manufacturing_technology_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Geometrically_bounded_surface_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1273 - ISO/TS 10303-1507 Geometrically bounded surface - EXPRESS ARM
*)

SCHEMA Geometrically_bounded_surface_arm;

USE FROM Elemental_geometric_shape_arm;

ENTITY Geometrically_bounded_surface_shape_representation
SUBTYPE OF (Geometric_model);
END_ENTITY;

END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Package_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Package - EXPRESS ARM
*)

SCHEMA Package_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Shape_property_assignment_arm;

USE FROM Specification_document_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Part_feature_function_arm;

USE FROM Part_feature_location_arm;

 	TYPE p_analytical_model_application_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON analytical_model_application_assignment_select WITH  
		(package_terminal);
	END_TYPE;

  TYPE lead_form_type = SELECT
    (predefined_lead_form,
     external_item_identification);
  END_TYPE; -- lead_form_type

  TYPE mounting_technology_type = ENUMERATION OF
    (surface_mount,
     through_hole);
  END_TYPE; -- mounting_technology_type

	SUBTYPE_CONSTRAINT part_feature_subtypes FOR Part_feature; 
		(ONEOF (Package_orientation_feature,
		Package_body));
	END_SUBTYPE_CONSTRAINT;

  TYPE predefined_lead_form = ENUMERATION OF
    (gull_wing,
     j_lead,
     reversed_j_lead,
     integral_terminal,
     undefined,
     ball,
     straight);
  END_TYPE; -- predefined_lead_form

  TYPE seating_plane_intersection_type = ENUMERATION OF
    (surface_intersection,
     through_intersection,
     does_not_intersect);
  END_TYPE; -- seating_plane_intersection_type

  ENTITY Connection_zone_package_interface_plane_relationship;
      interface_plane          : seating_plane;
      mating_zone              : connection_zone_in_usage_view;
      derived_zone             : connection_zone_in_usage_view;
      derived_zone_shape_class : STRING;
    INVERSE
      associated_package_terminal  : SET[0:1] OF package_terminal FOR seating_plane_zone;
    UNIQUE
      UR1 : interface_plane, mating_zone;
    WHERE
      WR1 : derived_zone_shape_class IN ['area','edge'];
  END_ENTITY;

  ENTITY Functional_orientation_feature
    SUBTYPE OF (part_feature);
      associated_body_vertical_extent : OPTIONAL SET[1:2] OF package_body_surface;
      associated_terminal             : primary_reference_terminal;
  END_ENTITY; -- functional_orientation_feature

  ENTITY Guided_wave_terminal
    SUBTYPE OF (package_terminal);
  END_ENTITY; -- guided_wave_terminal

  ENTITY Package
    SUBTYPE OF (part_usage_view);
      mounting_technology                        : mounting_technology_type;
      maximum_seating_plane_installation_offset  : OPTIONAL length_data_element;
      surface_mount_lead_form                    : OPTIONAL lead_form_type;
      nominal_mounting_lead_pitch                : OPTIONAL length_data_element;
      nominal_mounting_lead_span                 : OPTIONAL length_data_element;
      maximum_body_height_above_seating_plane    : length_data_element;
      maximum_body_height_below_seating_plane    : OPTIONAL length_data_element;
      maximum_body_clearance_above_seating_plane : OPTIONAL length_data_element;
      maximum_body_clearance_below_seating_plane : OPTIONAL length_data_element;
      minimum_body_clearance_above_seating_plane : OPTIONAL length_data_element;
      minimum_body_clearance_below_seating_plane : OPTIONAL length_data_element;
      maximum_lead_length_below_seating_plane    : OPTIONAL length_data_element;
      least_lead_length_below_seating_plane      : OPTIONAL length_data_element;
    DERIVE
      maximum_package_total_vertical_extent : length_data_element := max_data_element(add_data_element(maximum_body_height_above_seating_plane,
 maximum_body_height_below_seating_plane),
 add_data_element(maximum_body_height_above_seating_plane,
 maximum_lead_length_below_seating_plane));
      cutout_required                       : BOOLEAN := (maximum_body_height_below_seating_plane\value_with_unit.value_component > 0.0);
      maximum_installed_height              : length_data_element := add_data_element(maximum_body_height_above_seating_plane,
 maximum_seating_plane_installation_offset);
    INVERSE
      body                                  : SET[0:1] OF package_body FOR associated_definition;
      package_seating_plane                 : non_feature_shape_element FOR scope;
      interface_plane                       : SET[0:?] OF non_feature_shape_element FOR scope;
      package_accesses                      : SET[0:?] OF package_terminal FOR associated_definition;
      package_polarity_indication           : SET[0:1] OF Shape_element FOR containing_shape;
      package_primary_orientation_feature   : SET[0:1] OF Shape_element FOR containing_shape;
      package_secondary_orientation_feature : SET[0:1] OF Shape_element FOR containing_shape;
      package_tertiary_orientation_feature  : SET[0:1] OF Shape_element FOR containing_shape;
--      of_datum_reference_frame              : SET[0:?] OF non_feature_shape_element FOR scope;
    WHERE
      WR1  : NOT (SIZEOF(package_primary_orientation_feature) > 0) OR ('AP210_ARM.PRIMARY_ORIENTATION_FEATURE' IN TYPEOF(package_primary_orientation_feature[1]));
      WR2  : NOT (SIZEOF(package_secondary_orientation_feature) > 0) OR ('AP210_ARM.SECONDARY_ORIENTATION_FEATURE' IN TYPEOF(package_secondary_orientation_feature[1]));
      WR3  : NOT (SIZEOF(package_tertiary_orientation_feature) > 0) OR ('AP210_ARM.TERTIARY_ORIENTATION_FEATURE' IN TYPEOF(package_tertiary_orientation_feature[1]));
      WR4  : 'AP210_ARM.SEATING_PLANE' IN TYPEOF(package_seating_plane);
      WR5  : 'AP210_ARM.SEATING_PLANE' IN TYPEOF(interface_plane);
      WR6  : NOT (mounting_technology = surface_mount) OR (NOT (EXISTS(maximum_lead_length_below_seating_plane) OR EXISTS(least_lead_length_below_seating_plane)));
      WR7  : NOT (EXISTS(maximum_lead_length_below_seating_plane)) OR (maximum_lead_length_below_seating_plane\value_with_unit.value_component > 0.0);
      WR8  : NOT (EXISTS(least_lead_length_below_seating_plane)) OR (least_lead_length_below_seating_plane\value_with_unit.value_component > 0.0);
      WR9  : (NOT (mounting_technology = surface_mount) AND NOT (EXISTS(surface_mount_lead_form))) OR ((mounting_technology = surface_mount) AND (EXISTS(surface_mount_lead_form)));
      WR10 : package_seating_plane\shape_element.element_name = 'package seating plane';
      WR11 : NOT (SIZEOF(interface_plane) > 0) OR (SIZEOF(QUERY(ip <* interface_plane | NOT (ip\shape_element.element_name = 'interface plane'))) = 0);
      WR12 : NOT (SIZEOF(interface_plane) > 0) OR (SIZEOF(QUERY(ip <* interface_plane | NOT (package_seating_plane <> ip))) = 0);
      WR13 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'package'))) > 0;
--      WR14 : NOT (SIZEOF(of_datum_reference_frame) > 0) OR (SIZEOF(QUERY(odrf <* of_datum_reference_frame | NOT ('AP210_ARM.DATUM_REFERENCE_FRAME' IN TYPEOF(odrf)))) = 0);
      WR15 : SIZEOF(QUERY(pa <* package_accesses | 'AP210_ARM.PRIMARY_REFERENCE_TERMINAL' IN TYPEOF(pa))) = 1;
  END_ENTITY; -- package

  ENTITY Package_body
    SUBTYPE OF (part_feature);
      body_material                           : material_identification;
      SELF\part_feature.associated_definition : package;
    WHERE
      WR1 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('AP210_ARM.' + 'PACKAGE_BODY_TOP_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR2 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('AP210_ARM.' + 'PACKAGE_BODY_BOTTOM_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR3 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('AP210_ARM.' + 'PACKAGE_BODY_EDGE_SURFACE' IN TYPEOF(pf)))) <= 1;
  END_ENTITY; -- package_body

  ENTITY Package_body_bottom_surface
    SUBTYPE OF (package_body_surface);
  END_ENTITY; -- package_body_bottom_surface

  ENTITY Package_body_edge_segment_surface
    SUBTYPE OF (package_body_surface);
      composed_surface : package_body_edge_surface;
      start_vertex     : edge_segment_vertex;
      end_vertex       : edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- package_body_edge_segment_surface

  ENTITY Package_body_edge_surface
    SUBTYPE OF (package_body_surface);
  END_ENTITY; -- package_body_edge_surface

  ENTITY Package_body_surface
    ABSTRACT SUPERTYPE OF (ONEOF (package_body_bottom_surface,
 package_body_top_surface,
 package_body_edge_segment_surface,
 package_body_edge_surface))
    SUBTYPE OF (part_feature);
      SELF\part_feature.associated_definition : package_body;
  END_ENTITY; -- package_body_surface

  ENTITY Package_body_top_surface
    SUBTYPE OF (package_body_surface);
  END_ENTITY; -- package_body_top_surface

  ENTITY Package_orientation_feature
    ABSTRACT SUPERTYPE OF (ONEOF(Primary_orientation_feature, Secondary_orientation_feature, Tertiary_orientation_feature))
    SUBTYPE OF (part_feature, datum_feature);    
           associated_body_vertical_extent : OPTIONAL SET [1:2] OF package_body_surface;
  END_ENTITY;

(** attribute model_representation changed to analytical_model_assignment
*)
  ENTITY Package_terminal
    SUBTYPE OF (part_feature);
      SELF\part_feature.associated_definition 		: package;
      external_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
      internal_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
      seating_plane_intersection              : seating_plane_intersection_type;
      terminal_surface_material               : material_identification;
      terminal_characteristic                 : OPTIONAL SET[1:?] OF characteristic;
      terminal_core_material                  : OPTIONAL material_identification;
      minimum_terminal_diametrical_extent     : OPTIONAL length_data_element;
      maximum_terminal_diametrical_extent     : OPTIONAL length_data_element;
      seating_plane_zone                      : OPTIONAL connection_zone_package_interface_plane_relationship;
    DERIVE
      mates_with_substrate : BOOLEAN := (EXISTS(seating_plane_zone)) AND (associated_definition.package_seating_plane :=: seating_plane_zone.interface_plane);
    INVERSE
      SELF\part_feature.feature_shape : SET[1:?] OF usage_concept_usage_relationship FOR associated_usage;
    WHERE
      WR1 : NOT (EXISTS(seating_plane_zone)) OR (SIZEOF(QUERY(cz <* external_connection_zone | (seating_plane_zone.derived_zone = cz))) = 1);
      WR2 : NOT (EXISTS(seating_plane_zone)) OR (SIZEOF(QUERY(cz <* external_connection_zone | (seating_plane_zone.mating_zone = cz))) = 1);
      WR3 : NOT (EXISTS(seating_plane_zone)) OR ((associated_definition.package_seating_plane :=: seating_plane_zone.interface_plane) OR (associated_definition.interface_plane[1] :=: seating_plane_zone.interface_plane));
      WR4 : NOT (EXISTS(seating_plane_zone)) OR ((seating_plane_intersection = surface_intersection) OR (seating_plane_intersection = through_intersection));
      WR5 : NOT ((seating_plane_intersection = does_not_intersect) AND (EXISTS(seating_plane_zone)));
  END_ENTITY; -- package_terminal

  ENTITY Package_terminal_surface_constituent_relationship
    SUBTYPE OF (shape_element_constituent_relationship);
      SELF\shape_element_relationship.relating : package_body_surface;
      SELF\shape_element_relationship.related  : package_terminal;
  END_ENTITY; -- package_terminal_surface_constituent_relationship

  ENTITY Polarity_indication_feature
    SUBTYPE OF (part_feature);
      associated_body_vertical_extent : OPTIONAL SET[1:2] OF package_body_surface;
      associated_terminal             : package_terminal;
  END_ENTITY; -- polarity_indication_feature

  ENTITY Primary_orientation_feature
    SUBTYPE OF (Package_orientation_feature);
  END_ENTITY; -- primary_orientation_feature

  ENTITY Primary_reference_terminal
    SUBTYPE OF (package_terminal);
    WHERE
      WR1 : NOT (EXISTS(SELF\part_feature.precedent_feature));
  END_ENTITY; -- primary_reference_terminal

  ENTITY Secondary_orientation_feature
    SUBTYPE OF (Package_orientation_feature);
  END_ENTITY; -- secondary_orientation_feature

  ENTITY Tertiary_orientation_feature
    SUBTYPE OF (Package_orientation_feature);
  END_ENTITY; -- tertiary_orientation_feature

  ENTITY Wire_terminal
    SUBTYPE OF (package_terminal);
      SELF\package_terminal.internal_connection_zone : SET[1:?] OF connection_zone_in_usage_view;
      maximum_wire_terminal_length                   : length_data_element;
      minimum_wire_terminal_length                   : length_data_element;
  END_ENTITY; -- wire_terminal

  FUNCTION add_data_element(
    input1 : length_data_element ;
    input2 : length_data_element
  ) : length_data_element;

    RETURN(input1);
  END_FUNCTION; -- add_data_element

  FUNCTION max_data_element(
    input1 : length_data_element ;
    input2 : length_data_element
  ) : length_data_element;

    RETURN(input1);
  END_FUNCTION; -- max_data_element

END_SCHEMA; -- Package_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Packaged_part_black_box_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Packaged part black box model - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Packaged_part_black_box_model_arm;

USE FROM Part_external_reference_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Part_terminal_arm;

USE FROM Package_arm;

USE FROM Network_functional_usage_view_arm;

  ENTITY Packaged_part
    SUBTYPE OF (part_usage_view);
      used_package         : SET[1:?] OF Package;
      potting_compound     : OPTIONAL material_identification;
      implemented_function : OPTIONAL functional_unit_usage_view;
    INVERSE
      access_mechanisms : SET[0:?] OF packaged_part_terminal FOR associated_definition;
    WHERE
      WR1 : NOT (EXISTS(implemented_function) XOR (SIZEOF(access_mechanisms) > 0));
      WR2 : single_package_version(SELF);
  END_ENTITY; -- packaged_part

  ENTITY Packaged_part_join_terminal
    SUBTYPE OF (packaged_part_terminal);
  END_ENTITY; -- packaged_part_join_terminal

  ENTITY Packaged_part_terminal
  	ABSTRACT SUPERTYPE
    SUBTYPE OF (part_terminal);
      terminal_of_package                     : SET[1:?] OF Package_terminal;
      SELF\part_feature.associated_definition : packaged_part;
    WHERE
      WR1 : disjoint_package_terminals(SELF);
      WR2 : NOT EXISTS(SELF\part_feature.precedent_feature);
  END_ENTITY; -- packaged_part_terminal

  FUNCTION disjoint_package_terminals(
    input : packaged_part_terminal
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION; -- disjoint_package_terminals

  FUNCTION single_package_version(
    input : packaged_part
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION; -- single_package_version

END_SCHEMA; -- Packaged_part_black_box_model_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Packaged_part_white_box_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Packaged part white box model - EXPRESS ARM
*)

SCHEMA Packaged_part_white_box_model_arm;

USE FROM Packaged_part_black_box_model_arm;

USE FROM Feature_and_connection_zone_arm;

USE FROM Contextual_shape_positioning_arm;

USE FROM Physical_unit_3d_shape_arm;

USE FROM Physical_unit_2d_shape_arm;

USE FROM Bare_die_arm;


  	TYPE ppwbm_analytical_model_port_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON analytical_model_port_assignment_select WITH  
 		(functional_unit_usage_view_terminal_definition,
 		connection_zone,
 		datum_difference,
  	part_device_terminal,
    part_feature);
	END_TYPE;

	SUBTYPE_CONSTRAINT physical_unit_keepout_shape_subtypes FOR Physical_unit_keepout_shape;  
	    (ONEOF (Physical_unit_3d_keepout_shape,
	 	Physical_unit_planar_keepout_shape));
	END_SUBTYPE_CONSTRAINT; 

	SUBTYPE_CONSTRAINT physical_unit_shape_subtypes FOR Physical_unit_shape;  
	    (ONEOF (Physical_unit_3d_shape,
	 	Physical_unit_planar_shape));
	END_SUBTYPE_CONSTRAINT; 

  ENTITY Device_2d_position
    SUBTYPE OF (Mapping_based_template_instance);
      placed_device  : part_device;
--      transformation : axis_placement_2d;
      part_shape     : physical_unit_planar_shape;
--      device_shape   : physical_unit_planar_shape;
  END_ENTITY; -- device_2d_position

  ENTITY Device_3d_position
    SUBTYPE OF (Mapping_based_template_instance);
      placed_device  : part_device;
--      transformation : axis_placement_3d;
      part_shape     : physical_unit_3d_shape;
--      device_shape   : physical_unit_3d_shape;
  END_ENTITY; -- device_3d_position

  ENTITY Device_terminal_map;
      target_terminal        : packaged_part_terminal;
      mapped_device_terminal : part_device_terminal;
    UNIQUE
      UR1 : mapped_device_terminal,
 target_terminal;
  END_ENTITY; -- device_terminal_map

  ENTITY Device_terminal_map_relationship;
      related_device_terminal_map  : device_terminal_map;
      relating_device_terminal_map : device_terminal_map;
  END_ENTITY; -- device_terminal_map_relationship

  ENTITY Part_device;
      defined_packaged_part : packaged_part;
      included_device       : bare_die;
      item_identification   : STRING; --ee_name;
      bonding_agent         : OPTIONAL material_identification;
    INVERSE
      device_3d_position : SET[0:1] OF device_3d_position FOR placed_device;
      device_2d_position : SET[0:1] OF device_2d_position FOR placed_device;
    UNIQUE
      UR1 : defined_packaged_part,
 item_identification;
  END_ENTITY; -- part_device

  ENTITY Part_device_terminal;
      used_bare_die_terminal : minimally_defined_bare_die_terminal;
      terminated_device      : part_device;
    UNIQUE
      UR1 : used_bare_die_terminal,
 terminated_device;
  END_ENTITY; -- part_device_terminal

END_SCHEMA; -- Packaged_part_white_box_model_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_layout_template_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical layout template - EXPRESS ARM
*)

SCHEMA Physical_layout_template_arm;

USE FROM Analytical_model_arm;

USE FROM Characteristic_arm;

USE FROM Part_view_definition_arm;

USE FROM Part_and_version_identification_arm;

USE FROM Shape_property_assignment_arm; 

USE FROM Feature_and_connection_zone_arm;

USE FROM Functional_decomposition_to_design_arm;

REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
        types_of_product 
); 

	SUBTYPE_CONSTRAINT connection_zone_subtypes FOR connection_zone;     
		 ONEOF (connection_zone_in_usage_view,
		 connection_zone_in_design_view,
		 connection_zone_in_layout_template);
	END_SUBTYPE_CONSTRAINT;

  TYPE correlated_or_independent = SELECT
    (coordinated_characteristic,
     characteristic);
  END_TYPE; -- correlated_or_independent

 	TYPE plt_analytical_model_application_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON analytical_model_application_assignment_select WITH  
		(functional_unit_definition,
		functional_unit,
		layout_template_definition);
	END_TYPE;

	TYPE plt_physical_unit_or_part_template_or_fp_or_pd = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_or_part_template_or_fp_or_pd WITH 
    	(Layout_template_definition);
	END_TYPE; -- ap210_physical_unit_or_part_template_or_fp_or_pd

  ENTITY Connection_zone_in_layout_template
  	SUBTYPE OF (Connection_zone);
  	SELF\shape_element.containing_shape : Layout_template_definition;
  END_ENTITY; 
  
(** String attribute of subtypes must be synchronized *)
  ENTITY Layout_template_definition
    SUBTYPE OF (Template_definition, Shape_element);
      physical_characteristic                 : OPTIONAL SET[1:?] OF correlated_or_independent;
    DERIVE
			SELF\shape_element.containing_shape     : layout_template_definition := SELF;      
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'template model'))) >= 0;
      WR2 : SELF\shape_element.element_name = 'NULL';
  END_ENTITY; -- layout_template_definition

  ENTITY Reference_functional_unit_assignment_to_template;
      functional_design_definition_path : reference_composition_path;
      implementation                    : layout_template_definition;
      of_property                       : OPTIONAL SET[1:?] OF coordinated_characteristic;
      path_alias                        : STRING; --ee_name;
      swap_code                         : OPTIONAL STRING;
    UNIQUE
      UR1 : implementation,
 path_alias;
  END_ENTITY; 

	ENTITY Reference_part_template_for_analytical_model ;
		template					: Layout_template_definition;
		analytical_representation	: Analytical_model_definition;
		UNIQUE
			UR1 : template;
	END_ENTITY;

  ENTITY Template
  	SUBTYPE OF (Product);
  	WHERE 
  		WR1 : SIZEOF([ 'template model' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- template

  ENTITY Template_definition
    SUBTYPE OF (item_shape, product_view_definition);
    	SELF\product_view_definition.defined_version 	: template_version;
    DERIVE	
    	SELF\item_shape.described_element     				: template_definition := SELF;      
  END_ENTITY; -- layout_template_definition
  
  ENTITY Template_version
  	SUBTYPE OF (Product_version);
  		SELF\product_version.of_product : Template;
  END_ENTITY; -- template_version

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_shape_with_parameters_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template shape with parameters - EXPRESS ARM
*)

SCHEMA Part_template_shape_with_parameters_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Physical_layout_template_arm;

USE FROM Shape_parameters_arm;

	TYPE ptswp_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Part_template_keepout_shape);
	END_TYPE; 

	TYPE ptswp_view_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON view_shape_select WITH 
	    (Part_template_shape);
	END_TYPE; 

  ENTITY Part_template_keepout_shape
		ABSTRACT SUPERTYPE;      
			constrained_design_object_category : keepout_product_design_object_category;
      shape_characterized_part_template  : Layout_template_definition;
      shape_material_condition           : material_condition;
      centroid_location                  : OPTIONAL cartesian_point;
      shape_environment                  : application_environment;
      shape_purpose                      : keepout_purpose;
  END_ENTITY; -- part_template_planar_keepout_shape

  ENTITY Part_template_shape
    ABSTRACT SUPERTYPE;
      shape_characterized_part_template : Layout_template_definition;
      shape_environment                 : OPTIONAL application_environment;
      shape_material_condition          : material_condition;
  END_ENTITY; -- part_template_planar_shape

END_SCHEMA; -- Part_template_shape_with_parameters_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template 2d shape - EXPRESS ARM
*)

SCHEMA Part_template_2d_shape_arm;

USE FROM Component_grouping_arm;

USE FROM Layered_2d_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Part_template_shape_with_parameters_arm;

USE FROM Part_template_extension_arm;

USE FROM Package_arm;

USE FROM Printed_physical_layout_template_arm;

	TYPE package_or_printed_part_template = SELECT
		(package,
     	printed_part_template);
	END_TYPE;

	TYPE package_terminal_or_printed_part_template_terminal = SELECT
		(package_terminal,
     	printed_part_template_terminal);
	END_TYPE;

	TYPE pt2ds_ee_product_definition_with_annotation_elements = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON ee_product_definition_with_annotation_elements WITH 
   	(footprint_definition,
   	padstack_definition);
	END_TYPE; 

	TYPE pt2ds_physical_unit_or_part_template_or_fp_or_pd = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_or_part_template_or_fp_or_pd WITH 
    (Footprint_definition,
     Padstack_definition);
  END_TYPE; -- ap210_physical_unit_or_part_template_or_fp_or_pd

	TYPE pt2ds_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_shape_select WITH 
	    (part_template_planar_shape);
  	END_TYPE; -- ap210_physical_unit_shape_select

  TYPE padstack_arrangement = ENUMERATION OF
    (top,
     bottom,
     symmetrical);
  END_TYPE; -- padstack_arrangement

  ENTITY Design_layer_type_specific_padstack_definition
    SUBTYPE OF (padstack_definition);
      design_layer_type_reference : design_layer_technology;
  END_ENTITY; -- design_layer_type_specific_padstack_definition

(** It does not have shape, it is not a subtype of shape_element and consequently 
a subtype of layout_template_definition *)
  ENTITY Footprint_definition
    SUBTYPE OF (template_definition);
      reference_breakout : OPTIONAL SET[1:?] OF assembly_group_component;
      reference_package  : package_or_printed_part_template;
    DERIVE
      footprint_location                : padstack_arrangement := get_padstack_arrangement(padstack);
      padstack_reference_implementation : reference_packaged_part_interconnect_implementation := padstack[1].padstack.reference_implementation;
    INVERSE
    	shape    : footprint_definition_shape FOR shape_characterized_footprint_definition;
      padstack : SET[1:?] OF padstack_location_in_footprint_definition FOR footprint;
    WHERE
      WR2 : SIZEOF(QUERY(ps <* padstack | ps.padstack.padstack_location <> footprint_location)) = 0;
      WR3 : SIZEOF(QUERY(ps <* padstack | ps.padstack.reference_implementation <> padstack_reference_implementation)) = 0;
      WR4 : ((footprint_location = padstack_arrangement.top) AND (SELF\product_view_definition.context_description.content = 'top')) OR (NOT (footprint_location = padstack_arrangement.top) AND NOT (SELF\product_view_definition.context_description.content = 'top'));
      WR5 : ((footprint_location = padstack_arrangement.bottom) AND (SELF\product_view_definition.context_description.content = 'bottom')) OR (NOT (footprint_location = padstack_arrangement.bottom) AND NOT (SELF\product_view_definition.context_description.content = 'bottom'));
      WR6 : ((footprint_location = padstack_arrangement.symmetrical) AND (SELF\product_view_definition.context_description.content = 'symmetrical')) OR (NOT (footprint_location = padstack_arrangement.symmetrical) AND NOT (SELF\product_view_definition.context_description.content = 'symmetrical'));
  END_ENTITY; -- footprint_definition

  ENTITY Footprint_definition_shape
    SUBTYPE OF (planar_projected_shape);
      shape_characterized_footprint_definition : footprint_definition;
      shape_environment                        : OPTIONAL application_environment;
      shape_material_condition                 : material_condition;
      reference_shape                          : physical_unit_shape_select;
    UNIQUE
    	UR1 : shape_characterized_footprint_definition;
    WHERE
      WR1 : NOT (SIZEOF(['AP210_ARM.PHYSICAL_UNIT_3D_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE'] * TYPEOF(reference_shape)) = 1) OR (shape_characterized_footprint_definition.reference_package :=: reference_shape.shape_characterized_physical_unit);
      WR2 : NOT (SIZEOF(['AP210_ARM.PHYSICAL_UNIT_3D_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE'] * TYPEOF(reference_shape)) = 1) OR ('AP210_ARM.PACKAGE' IN TYPEOF(reference_shape.shape_characterized_physical_unit));
      WR3 : NOT (SIZEOF(['AP210_ARM.PART_TEMPLATE_3D_SHAPE',
 'AP210_ARM.PART_TEMPLATE_PLANAR_SHAPE'] * TYPEOF(reference_shape)) = 1) OR (shape_characterized_footprint_definition.reference_package :=: reference_shape.shape_characterized_part_template);
      WR4 : NOT (SIZEOF(['AP210_ARM.PART_TEMPLATE_3D_SHAPE',
 'AP210_ARM.PART_TEMPLATE_PLANAR_SHAPE'] * TYPEOF(reference_shape)) = 1) OR ('AP210_ARM.PRINTED_PART_TEMPLATE' IN TYPEOF(reference_shape.shape_characterized_part_template));
			WR5 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- footprint_definition_shape

  ENTITY Padstack_definition
    SUPERTYPE OF (ONEOF (design_layer_type_specific_padstack_definition, stratum_type_independent_padstack_definition))  
    SUBTYPE OF (template_definition);
      reference_implementation : reference_packaged_part_interconnect_implementation;
      padstack_location        : padstack_arrangement;
    INVERSE
  		shape : padstack_definition_shape FOR shape_characterized_padstack_definition;
      template : SET[1:?] OF part_template_location_in_padstack_definition FOR padstack;
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'template model'))) >= 0;
  END_ENTITY; -- padstack_definition

  ENTITY Padstack_definition_shape
    SUBTYPE OF (planar_projected_shape);
      shape_characterized_padstack_definition : padstack_definition;
      shape_environment                       : OPTIONAL application_environment;
      shape_material_condition                : material_condition;
    UNIQUE
    	UR1 : shape_characterized_padstack_definition;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- padstack_definition_shape

  ENTITY Padstack_location_in_footprint_definition;
      padstack                   : padstack_definition;
      footprint                  : footprint_definition;
      reference_package_terminal : package_terminal_or_printed_part_template_terminal;
    INVERSE
      transform : padstack_location_in_footprint_definition_transform FOR reference_location;
    WHERE
      WR1 : NOT ('AP210_ARM.PART_FEATURE' IN TYPEOF(reference_package_terminal)) OR reference_package_terminal\shape_element.containing_shape :=: footprint.reference_package;
      WR2 : NOT ('AP210_ARM.PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF(reference_package_terminal)) OR reference_package_terminal.associated_definition :=: footprint.reference_package;
      WR3 : NOT ('AP210_ARM.PRINTED_CONNECTOR_TEMPLATE' IN TYPEOF(footprint.reference_package)) OR ('AP210_ARM.PRINTED_PART_TEMPLATE_INTERFACE_TERMINAL' IN TYPEOF(reference_package_terminal));
  END_ENTITY; -- padstack_location_in_footprint_definition

  ENTITY Padstack_location_in_footprint_definition_transform;
      padstack_shape     : padstack_definition_shape;
      footprint_shape    : footprint_definition_shape;
      reference_location : padstack_location_in_footprint_definition;
      transform          : axis_placement_2d;
    UNIQUE 
    	UR1 : reference_location;
  END_ENTITY; -- padstack_location_in_footprint_definition_transform

  ENTITY Part_template_location_in_padstack_definition;
      padstack              : padstack_definition;
      template              : layout_template_definition;
      reference_designation : STRING;
    INVERSE
      transform : SET[0:1] OF part_template_location_in_padstack_definition_transform FOR reference_location;
    WHERE
      WR1 : ((SIZEOF(transform) = 1) AND (SIZEOF(['AP210_ARM.SNOWBALL_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_ANGLE_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_LENGTH_TEMPLATE'] * TYPEOF(transform[1].template_shape.shape_characterized_part_template)) = 0)) OR (NOT (SIZEOF(transform) = 1) AND (SIZEOF(['AP210_ARM.SNOWBALL_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_ANGLE_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_LENGTH_TEMPLATE'] * TYPEOF(template.associated_template_occurrence)) = 1));
  END_ENTITY; -- part_template_location_in_padstack_definition

  ENTITY Part_template_location_in_padstack_definition_transform;
      padstack_shape     : padstack_definition_shape;
      template_shape     : part_template_planar_shape;
      reference_location : part_template_location_in_padstack_definition;
      transform          : axis_placement_2d;
		UNIQUE
			UR1 : reference_location;
  END_ENTITY; -- part_template_location_in_padstack_definition_transform

  ENTITY Part_template_planar_keepout_shape
    SUBTYPE OF (Planar_shape,
 			Non_feature_shape_definition,
 			Part_template_keepout_shape);
(** Need a WR to constrain the cardinality 
      application_technology_constraint  : OPTIONAL Requirement_definition_property;
*)      
  END_ENTITY; -- part_template_planar_keepout_shape

  ENTITY Part_template_planar_shape
    SUBTYPE OF (Planar_projected_shape);
  END_ENTITY; -- part_template_planar_shape

  ENTITY Stratum_type_independent_padstack_definition
    SUBTYPE OF (padstack_definition);
  END_ENTITY; -- stratum_type_independent_padstack_definition

  FUNCTION get_padstack_arrangement(
    input : SET OF padstack_location_in_footprint_definition
  ) : padstack_arrangement;

    LOCAL
      pabt : BAG OF STRING := [];
      pabb : BAG OF STRING := [];
      pabs : BAG OF STRING := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      IF input[i].padstack.padstack_location = padstack_arrangement.top THEN
        pabt := pabt + 'top';
      END_IF;
      IF input[i].padstack.padstack_location = padstack_arrangement.bottom THEN
        pabb := pabb + 'bottom';
      END_IF;
      IF input[i].padstack.padstack_location = padstack_arrangement.symmetrical THEN
        pabs := pabs + 'symmetrical';
      END_IF;
    END_REPEAT;
    IF (SIZEOF(pabt) > 0) AND (SIZEOF(pabb) = 0) THEN
      RETURN(padstack_arrangement.top);
    END_IF;
    IF (SIZEOF(pabb) > 0) AND (SIZEOF(pabt) = 0) THEN
      RETURN(padstack_arrangement.bottom);
    END_IF;
    IF (SIZEOF(pabb) = 0) AND (SIZEOF(pabt) = 0) AND (SIZEOF(pabs) > 0) THEN
      RETURN(padstack_arrangement.symmetrical);
    END_IF;
    RETURN(?);
  END_FUNCTION; -- get_padstack_arrangement

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_non_planar_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template non planar shape - EXPRESS ARM
*)
SCHEMA Part_template_non_planar_shape_arm;

USE FROM Manifold_surface_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Part_template_shape_with_parameters_arm;

  ENTITY Part_template_non_planar_2d_shape
    SUBTYPE OF (Manifold_surface_shape_representation,
	 			Feature_shape_definition,
	 			Part_template_shape);
      transformation                    : axis_placement_3d;
  END_ENTITY; -- part_template_non_planar_2d_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template 3d shape - EXPRESS ARM
*)

SCHEMA Part_template_3d_shape_arm;

USE FROM Physical_layout_template_arm;

USE FROM Layered_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Part_template_shape_with_parameters_arm;

	TYPE pt3ds_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_shape_select WITH 
	    (part_template_3d_shape);
  	END_TYPE; 

  ENTITY Part_template_3d_keepout_shape
    SUBTYPE OF (Non_feature_shape_definition,
    	Part_template_keepout_shape);
(** Need a WR to constrain the cardinality    
      application_technology_constraint  : OPTIONAL Requirement_definition_property;
*)      
  END_ENTITY; -- part_template_3d_keepout_shape

  ENTITY Part_template_3d_shape
    SUBTYPE OF (Feature_shape_definition, Part_template_shape);
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- part_template_3d_shape


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit usage view - EXPRESS ARM
*)

SCHEMA Physical_unit_usage_view_arm;

USE FROM Part_view_definition_arm;

USE FROM Item_definition_structure_arm;

USE FROM Shape_composition_arm;

USE FROM Feature_and_connection_zone_arm;

USE FROM Analytical_model_arm;

USE FROM Part_feature_location_arm;

USE FROM Requirement_assignment_arm;

USE FROM Shape_property_assignment_arm;


  TYPE material_state_change_enumeration = ENUMERATION OF
    (material_addition,
     material_removal);
  END_TYPE; -- material_state_change_enumeration

	TYPE puuv_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (part_feature);
	END_TYPE; 

	TYPE puuv_specification_product_object_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON specification_product_object_select WITH 
		(part_feature);
	END_TYPE;

	TYPE ap210_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(Part_feature);
	END_TYPE; -- ap210_usage_concept
	

  ENTITY Connection_zone_in_usage_view
  	SUBTYPE OF (Connection_zone);
  	SELF\part_feature.associated_definition : part_usage_view;
  END_ENTITY; 

  ENTITY Connection_zone_map_identification;
      reference_connection_zone_shape : usage_view_connection_zone_terminal_shape_relationship;
      mapped_connection_zone_shape    : usage_view_connection_zone_terminal_shape_relationship;
    UNIQUE
      UR1 : reference_connection_zone_shape,
 mapped_connection_zone_shape;
    WHERE
      WR1 : reference_connection_zone_shape <> mapped_connection_zone_shape;
      WR2 : reference_connection_zone_shape.associated_connection_zone_shape_definition <> mapped_connection_zone_shape.associated_connection_zone_shape_definition;
  END_ENTITY; -- connection_zone_map_identification

  ENTITY Part_feature
    SUBTYPE OF (Shape_element);
      SELF\shape_element.containing_shape RENAMED associated_definition : part_usage_view;
      material_state_change   : OPTIONAL material_state_change_enumeration;
      precedent_feature       : OPTIONAL part_feature;
    INVERSE
      feature_shape                            : SET[0:?] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
  END_ENTITY; -- part_feature

  ENTITY Part_feature_make_from_relationship
  	SUBTYPE OF (Shape_element_relationship);
      associated_make_from : view_definition_relationship;
      SELF\Shape_element_relationship.relating RENAMED reusable_feature	: part_feature;
      SELF\Shape_element_relationship.related RENAMED resultant_feature	: part_feature;
    UNIQUE
      UR1 : reusable_feature,
 resultant_feature;
    WHERE
      WR1 : reusable_feature :<>: resultant_feature;
      WR2 : reusable_feature.associated_definition :<>: resultant_feature.associated_definition;
  END_ENTITY; -- part_feature_make_from_relationship

  ENTITY Part_feature_template_definition
    SUBTYPE OF (product_view_definition);
(** Need a WR to capture cardinality    
      of_model         : OPTIONAL Analytical_model_application;
*)      
      bound_parameters : OPTIONAL SET[1:?] OF independent_property_relationship; --model_parameter_relationship;
    INVERSE
      shape : part_feature_template_shape_definition FOR shape_characterized_template;
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'template model'))) >= 0;
  END_ENTITY; -- part_feature_template_definition

  ENTITY Part_feature_template_shape_definition
    SUBTYPE OF (Feature_shape_definition);
      shape_characterized_template : part_feature_template_definition;
    WHERE
      WR1 : NOT (SIZEOF(USEDIN(SELF,
 '')) = 0) OR (SIZEOF(QUERY(foo <* USEDIN(SELF,
 '') | NOT ('AP210_ARM.USAGE_CONCEPT_USAGE_RELATIONSHIP' IN TYPEOF(foo)))) = 0);
  END_ENTITY; -- part_feature_template_shape_definition

(** Need to capture attributes by some assignments 
  ENTITY Physical_unit
    ABSTRACT SUPERTYPE OF (ONEOF (part_design_view,
 part_usage_view))
    SUBTYPE OF (part_view_definition);
      analytical_physical_unit_representation    : OPTIONAL SET[1:?] OF analytical_model_application;
      unit_technology                            : OPTIONAL technology;
      physical_device_characteristic             : OPTIONAL SET[1:?] OF characteristic;
      physical_device_coordinated_characteristic : OPTIONAL SET[1:?] OF coordinated_characteristic;
    WHERE
      WR1 : NOT (SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'PART_OCCURRENCE_DEFINITION_RELATIONSHIP.RELATED_VIEW')) <> 0) OR (SIZEOF(['AP210_ARM.part_design_view',
 'AP210_ARM.ASSEMBLY_MODULE_USAGE_VIEW',
 'AP210_ARM.CABLE_USAGE_VIEW'] * TYPEOF(SELF)) = 1);
  END_ENTITY; -- physical_unit
*)
  ENTITY Part_usage_view
    SUBTYPE OF (Part_view_definition, item_shape);
    DERIVE
    	SELF\item_shape.described_element : shapeable_item := SELF;
    WHERE
      WR1 : SIZEOF(QUERY(acr <* USEDIN(SELF,
 'AP210_ARM.' + 'PART_OCCURRENCE_DEFINITION_RELATIONSHIP.RELATED_VIEW') | NOT ('AP210_ARM.PACKAGED_CONNECTOR_COMPONENT' IN TYPEOF(acr.related_view)))) = 0;
  END_ENTITY; -- part_usage_view

  ENTITY Usage_view_connection_zone_terminal_shape_relationship;
      associating_terminal_shape                  : part_feature_template_shape_definition;
      associated_usage                            : connection_zone_in_usage_view;
      associated_connection_zone_shape_definition : feature_shape_definition;
      associated_usage_placement                  : axis_placement;
    WHERE
      WR1 : associating_terminal_shape :<>: associated_connection_zone_shape_definition;
  END_ENTITY; -- usage_view_connection_zone_terminal_shape_relationship

END_SCHEMA; -- Physical_unit_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit design view - EXPRESS ARM
*)

SCHEMA Physical_unit_design_view_arm;

USE FROM Part_view_definition_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Item_definition_structure_arm;

USE FROM Feature_and_connection_zone_arm;

-- For assembly_component
USE FROM Part_occurrence_arm;

	SUBTYPE_CONSTRAINT connection_zone_subtypes FOR connection_zone;     
		 ONEOF (connection_zone_in_usage_view,
		 connection_zone_in_design_view);
	END_SUBTYPE_CONSTRAINT;

 	TYPE pudv_analytical_model_application_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON analytical_model_application_assignment_select WITH  
		(part_usage_view,
		part_design_view,
		part_feature_template_definition);
	END_TYPE;

	TYPE physical_unit_or_part_template_or_fp_or_pd = 
		EXTENSIBLE GENERIC_ENTITY SELECT (part_view_definition);
	END_TYPE;

  ENTITY Assembly_component
   SUBTYPE OF (Definition_based_product_occurrence, item_shape);
	SELF\definition_based_product_occurrence.derived_from : physical_unit_or_part_template_or_fp_or_pd;
    DERIVE
    	SELF\item_shape.described_element : shapeable_item := SELF;
    INVERSE
      SELF\Product_occurrence.occurrence_contexts : SET[1:?] OF assembly_component_relationship FOR related_view;
(** Need to encode it as Global rules TODO for Tom
      component_2d_shape         : SET[0:1] OF assembly_component_2d_shape FOR shape_characterized_component;
      component_3d_shape         : SET[0:1] OF assembly_component_3d_shape FOR shape_characterized_component;
      component_non_planar_shape : SET[0:1] OF assembly_component_non_planar_shape FOR shape_characterized_component;
*)      
    WHERE
      WR1 : NOT (EXISTS(SELF\definition_based_product_occurrence.derived_from)) OR ((('AP210_ARM.FOOTPRINT_OCCURRENCE' IN TYPEOF(SELF)) AND ('AP210_ARM.FOOTPRINT_DEFINITION' IN TYPEOF(derived_from))) OR (NOT ('AP210_ARM.FOOTPRINT_OCCURRENCE' IN TYPEOF(SELF)) AND NOT ('AP210_ARM.FOOTPRINT_DEFINITION' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from))) OR (('AP210_ARM.PADSTACK_OCCURRENCE' IN TYPEOF(SELF)) AND ('AP210_ARM.PADSTACK_DEFINITION' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from))) OR (NOT ('AP210_ARM.PADSTACK_OCCURRENCE' IN TYPEOF(SELF)) AND NOT ('AP210_ARM.PADSTACK_DEFINITION' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from))));
  END_ENTITY; -- assembly_component

  ENTITY Component_make_from_relationship
		SUBTYPE OF (View_definition_relationship);  
      SELF\View_definition_relationship.relating_view RENAMED reusable_component	: assembly_component;
      SELF\View_definition_relationship.related_view RENAMED resultant_component	: assembly_component;
    WHERE
      WR1 : resultant_component <> reusable_component;
  END_ENTITY; -- component_make_from_relationship

  ENTITY Component_to_physical_usage_view_assignment
  	SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.related_view RENAMED usage_view_component  	: assembly_component;
      SELF\View_definition_relationship.relating_view RENAMED design_view_component : assembly_component;
    WHERE
      WR1 : design_view_component <> usage_view_component;
  END_ENTITY; -- component_to_physical_usage_view_assignment

  ENTITY Connection_zone_in_design_view
  	SUBTYPE OF (Connection_zone);
  	SELF\part_feature.associated_definition : part_design_view;
  END_ENTITY; 

  ENTITY Part_design_view
    SUBTYPE OF (Assembly_definition, Item_shape, Part_view_definition);
      usage_view : OPTIONAL part_usage_view;
    DERIVE
    	SELF\item_shape.described_element : shapeable_item := SELF;
    WHERE
      WR1 : ('AP210_ARM.LAYOUT_MACRO_DEFINITION' IN TYPEOF(SELF)) OR EXISTS(usage_view);
  END_ENTITY; -- part_design_view

  ENTITY Physical_component
    SUBTYPE OF (Assembly_component, Definition_based_part_occurrence);
  END_ENTITY; -- physical_component

  ENTITY Thermal_component
    SUBTYPE OF (Assembly_component);
  END_ENTITY; -- thermal_component

END_SCHEMA; -- Physical_unit_design_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit 3d shape - EXPRESS ARM
*)

SCHEMA Physical_unit_3d_shape_arm;

USE FROM Physical_unit_shape_with_parameters_arm;

USE FROM Layered_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Part_view_definition_arm;

  TYPE predefined_3d_purpose = ENUMERATION OF
    (analysis_input,
     analysis_output,
     shock_analysis_input,
     shock_analysis_output,
     design,
     vibration_analysis_input,
     vibration_analysis_output,
     electromagnetic_compatibility_analysis_input,
     electromagnetic_compatibility_analysis_output,
     thermal_analysis_input,
     thermal_analysis_output);
  END_TYPE; -- predefined_3d_purpose

	TYPE pu3ds_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_shape_select WITH 
	    (Physical_unit_3d_shape);
  	END_TYPE; -- ap210_physical_unit_shape_select

  TYPE shape_class = ENUMERATION OF
    (extrusion,
     manhattan_block,
     other,
     is_unknown);
  END_TYPE; -- shape_class

  TYPE three_d_purpose = SELECT
    (predefined_3d_purpose,
     external_item_identification);
  END_TYPE; -- three_d_purpose

  ENTITY Physical_unit_3d_keepout_shape   
    SUBTYPE OF (View_level_non_feature_shape_definition, Physical_unit_keepout_shape);
(** Need a WR to constrain the cardinality
      application_technology_constraint  : OPTIONAL Requirement_definition_property;
*)      
      shape_classification               : shape_class;
  END_ENTITY; -- physical_unit_3d_keepout_shape

  ENTITY Physical_unit_3d_shape
    SUBTYPE OF (Feature_shape_definition, Physical_unit_shape);
(** Need a WR to constrain the cardinality    
      application_technology_constraint : OPTIONAL Requirement_definition_property;
*)      
      shape_purpose                     : three_d_purpose;
      shape_classification              : shape_class;
  END_ENTITY; -- physical_unit_3d_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit 2d shape - EXPRESS ARM
*)

SCHEMA Physical_unit_2d_shape_arm;

USE FROM Physical_unit_shape_with_parameters_arm;

-- USE FROM Layered_2d_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Value_with_unit_extension_arm;

	SUBTYPE_CONSTRAINT planar_shape_subtypes FOR planar_shape;  
		(ONEOF (planar_projected_shape,
		physical_unit_planar_keepout_shape));
	END_SUBTYPE_CONSTRAINT; 

  TYPE planar_purpose = SELECT
    (predefined_planar_purpose,
     external_item_identification);
  END_TYPE; -- planar_purpose

	TYPE pu2ds_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_shape_select WITH 
	    (physical_unit_planar_shape);
  	END_TYPE; 


  TYPE predefined_planar_purpose = ENUMERATION OF
    (analysis_input,
     analysis_output,
     shock_analysis_input,
     shock_analysis_output,
     assembly_symbol,
     design,
     design_profile,
     vibration_analysis_input,
     vibration_analysis_output,
     electromagnetic_compatibility_analysis_input,
     electromagnetic_compatibility_analysis_output,
     physical_extent,
     thermal_analysis_input,
     thermal_analysis_output);
  END_TYPE; -- predefined_planar_purpose

  TYPE shape_location = ENUMERATION OF
    (above,
     below,
     congruent);
  END_TYPE; -- shape_location

  ENTITY Physical_unit_planar_keepout_shape
    SUBTYPE OF (Planar_shape,
 			View_level_non_feature_shape_definition,
 			Physical_unit_keepout_shape);
(** Need a WR to constrain the cardinality 
      application_technology_constraint            : OPTIONAL Requirement_definition_property;
*)      
      shape_distance_from_seating_plane            : OPTIONAL length_data_element;
      shape_location_with_respect_to_seating_plane : shape_location;
    WHERE
      WR1 : NOT ((congruent = shape_location_with_respect_to_seating_plane) AND (EXISTS(shape_distance_from_seating_plane)));
  END_ENTITY; -- physical_unit_planar_keepout_shape

  ENTITY Physical_unit_planar_shape
    SUBTYPE OF (Planar_projected_shape, Physical_unit_shape);
(** Need a WR to constrain the cardinality    
      application_technology_constraint            : OPTIONAL Requirement_definition_property;
*)      
      shape_distance_from_seating_plane            : OPTIONAL length_data_element;
      shape_location_with_respect_to_seating_plane : shape_location;
      shape_purpose                                : planar_purpose;
  END_ENTITY; -- physical_unit_planar_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_shape_with_parameters_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit shape with parameters - EXPRESS ARM
*)

SCHEMA Physical_unit_shape_with_parameters_arm;

USE FROM Elemental_geometric_shape_arm;

USE FROM Part_view_definition_arm;

USE FROM Requirement_assignment_arm;

USE FROM Shape_parameters_arm;

USE FROM Non_feature_shape_element_arm;

  TYPE mass_property_quality = ENUMERATION OF
    (high,
     medium,
     low,
     is_unknown);
  END_TYPE; -- mass_property_quality

	TYPE puswp_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Physical_unit_keepout_shape,
		Physical_unit_shape);
	END_TYPE; 

	TYPE puswp_view_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON view_shape_select WITH 
	    (Physical_unit_shape);
	END_TYPE; 


  TYPE shape_approximation_level = ENUMERATION OF
    (coarse,
     detailed,
     is_unknown);
  END_TYPE; -- shape_approximation_level

  TYPE shape_extent = ENUMERATION OF
    (envelope,
     over_body,
     over_lands,
     over_breakout);
  END_TYPE; -- shape_extent

  ENTITY Physical_unit_keepout_shape
    ABSTRACT SUPERTYPE;
			constrained_design_object_category : keepout_product_design_object_category;    
      shape_characterized_physical_unit  : part_view_definition; --physical_unit;
      shape_material_condition           : material_condition;
      shape_purpose                      : keepout_purpose;
      shape_environment                  : application_environment;
      shape_extent                       : shape_extent;			
      shape_approximation_level          : shape_approximation_level;
      centroid_location                  : OPTIONAL cartesian_point;
  END_ENTITY; -- physical_unit_planar_shape

  ENTITY Physical_unit_shape
    ABSTRACT SUPERTYPE;
      shape_characterized_physical_unit : part_view_definition;
      shape_material_condition          : material_condition;      
      centroid_location									: OPTIONAL cartesian_point;      
      shape_environment                 : application_environment;      
      shape_extent											: shape_extent;      
      shape_approximation_level					: shape_approximation_level;
      mass_property_quality							: mass_property_quality;
    WHERE
      WR1 : NOT ('AP210_ARM.PACKAGED_PART' IN TYPEOF(shape_characterized_physical_unit));
  END_ENTITY; -- physical_unit_planar_shape

END_SCHEMA; -- Physical_unit_shape_with_parameters_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Planned_characteristic_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Planned characteristic - EXPRESS ARM
*)

SCHEMA Planned_characteristic_arm;

USE FROM Characteristic_arm;

USE FROM Product_rule_arm;

USE FROM Product_view_definition_arm;

USE FROM Requirement_assignment_arm;
 
  TYPE evaluation_result_value = ENUMERATION OF
    (pass,
     fail,
     undefined);
  END_TYPE; -- evaluation_result_value

  TYPE evaluation_type = ENUMERATION OF
    (not_evaluatable,
     invalid,
     valid,
     to_be_evaluated);
  END_TYPE; -- evaluation_type

  ENTITY Evaluated_characteristic
    SUPERTYPE OF (rule_based_evaluated_characteristic);
      planned_product_data          : planned_characteristic;
      product_data_status           : evaluation_type;
      product_characterization_data : OPTIONAL SET[1:?] OF coordinated_characteristic;
      evaluation_result             : evaluation_result_value;
  END_ENTITY; -- evaluated_characteristic

  ENTITY Evaluation_ee_product_definition
    SUBTYPE OF (product_view_definition);
      evaluated_product_definition : product_view_definition;
      evaluation_data              : SET[1:?] OF evaluated_characteristic;
    WHERE
      WR1 : TYPEOF(SELF) <> TYPEOF(evaluated_product_definition);
  END_ENTITY; -- evaluation_ee_product_definition

  ENTITY Planned_characteristic;
      reference_requirement              : Requirement_assignment;
      planned_coordinated_characteristic : coordinated_characteristic;
  END_ENTITY; -- planned_characteristic

  ENTITY Rule_based_evaluated_characteristic
    SUBTYPE OF (Evaluated_characteristic);
      evaluating_rule : rule_definition;
  END_ENTITY; -- rule_based_evaluated_characteristic

END_SCHEMA; -- Planned_characteristic_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Printed_physical_layout_template_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Printed physical layout template - EXPRESS ARM
*)

SCHEMA Printed_physical_layout_template_arm;

USE FROM Physical_layout_template_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Manufacturing_technology_arm;

USE FROM Analytical_model_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Shape_property_assignment_arm; 

USE FROM Feature_and_connection_zone_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Network_functional_usage_view_arm;

REFERENCE FROM Requirement_decomposition_arm (get_requirement_definition_property);

	TYPE pplt_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(Printed_part_template_terminal);
	END_TYPE;

  TYPE printed_part_template_terminal_class = ENUMERATION OF
    (curve_edge_segment,
     surface_point,
     area_edge_segment,
     surface_area);
  END_TYPE; -- printed_part_template_terminal_class

  ENTITY Functional_usage_view_to_printed_part_template_terminal_assignment;
      physical_usage_view_terminal   : printed_part_template_terminal;
      functional_usage_view_terminal : scalar_terminal_definition;
    UNIQUE
      UR1 : functional_usage_view_terminal,
 physical_usage_view_terminal;
  END_ENTITY; -- functional_usage_view_to_printed_part_template_terminal_assignment

  ENTITY Non_conductive_cross_section_template
    SUBTYPE OF (Layout_template_definition);
      template_technology : OPTIONAL SET[1:?] OF stratum_technology;
      nominal_width       : length_data_element;
  END_ENTITY; -- non_conductive_cross_section_template

  ENTITY Printed_connector_template
    SUBTYPE OF (printed_part_template);
    INVERSE
      characterized_connector_terminal_relationship : SET[1:?] OF printed_connector_template_terminal_relationship FOR connector;
  END_ENTITY; -- printed_connector_template

  ENTITY Printed_connector_template_terminal_relationship;
      join_terminal      : printed_part_template_join_terminal;
      interface_terminal : printed_part_template_interface_terminal;
      connector          : printed_connector_template;
    UNIQUE
      UR1 : join_terminal,
 connector;
      UR2 : interface_terminal,
 connector;
  END_ENTITY; -- printed_connector_template_terminal_relationship

  ENTITY Printed_part_cross_section_template
    SUBTYPE OF (Layout_template_definition);
      horizontal_material_link                 : OPTIONAL SET[1:?] OF printed_part_template_material_link;
      vertical_material_link                   : OPTIONAL SET[1:?] OF printed_part_template_material_link;
      transmission_line_model                  : analytical_model_definition;
      maximum_transmission_line_characteristic : OPTIONAL SET[1:?] OF analytical_model_application;
      minimum_transmission_line_characteristic : OPTIONAL SET[1:?] OF analytical_model_application;
      maximum_width                            : length_data_element;
      minimum_width                            : length_data_element;
      start_vertex                             : edge_segment_vertex;
      end_vertex                               : edge_segment_vertex;
    INVERSE
      using_terminal : SET[1:?] OF printed_part_cross_section_template_terminal FOR cross_section_definition;
    WHERE
      WR1 : SIZEOF(QUERY(hml <* horizontal_material_link | NOT (hml.precedent_material\shape_element.element_name IN ['right']))) = 0;
      WR2 : SIZEOF(QUERY(hml <* horizontal_material_link | NOT (hml.subsequent_material\shape_element.element_name IN ['left']))) = 0;
      WR3 : SIZEOF(QUERY(hml <* vertical_material_link | NOT (hml.precedent_material\shape_element.element_name IN ['bottom']))) = 0;
      WR4 : SIZEOF(QUERY(hml <* vertical_material_link | NOT (hml.precedent_material\shape_element.element_name IN ['top']))) = 0;
      WR5 : horizontal_material_link :<>: vertical_material_link;
      WR6 : start_vertex :<>: end_vertex;
  END_ENTITY; -- printed_part_cross_section_template

  ENTITY Printed_part_cross_section_template_terminal
    SUBTYPE OF (printed_part_template_terminal);
      cross_section_definition       : printed_part_cross_section_template;
      material_to_left_of_terminal   : OPTIONAL printed_part_template_material_link;
      material_to_right_of_terminal  : OPTIONAL printed_part_template_material_link;
      material_to_top_of_terminal    : OPTIONAL printed_part_template_material_link;
      material_to_bottom_of_terminal : OPTIONAL printed_part_template_material_link;
    UNIQUE
      UR1 : cross_section_definition,
 material_to_left_of_terminal,
 material_to_right_of_terminal,
 material_to_top_of_terminal,
 material_to_bottom_of_terminal;
    WHERE
      WR1 : (SELF\printed_part_template_terminal.connection_zone_category = curve_edge_segment) OR (SELF\printed_part_template_terminal.connection_zone_category = area_edge_segment);
      WR2 : NOT (EXISTS(material_to_left_of_terminal) AND EXISTS(material_to_right_of_terminal)) OR (material_to_left_of_terminal :<>: material_to_right_of_terminal);
      WR3 : NOT (EXISTS(material_to_left_of_terminal) AND EXISTS(material_to_top_of_terminal)) OR (material_to_left_of_terminal :<>: material_to_top_of_terminal);
      WR4 : NOT (EXISTS(material_to_left_of_terminal) AND EXISTS(material_to_bottom_of_terminal)) OR (material_to_left_of_terminal :<>: material_to_bottom_of_terminal);
      WR5 : NOT (EXISTS(material_to_right_of_terminal) AND EXISTS(material_to_top_of_terminal)) OR (material_to_right_of_terminal :<>: material_to_top_of_terminal);
      WR6 : NOT (EXISTS(material_to_right_of_terminal) AND EXISTS(material_to_bottom_of_terminal)) OR (material_to_right_of_terminal :<>: material_to_bottom_of_terminal);
      WR7 : NOT (EXISTS(material_to_top_of_terminal) AND EXISTS(material_to_bottom_of_terminal)) OR (material_to_top_of_terminal :<>: material_to_bottom_of_terminal);
  END_ENTITY; -- printed_part_cross_section_template_terminal

  ENTITY Printed_part_template
    SUBTYPE OF (Layout_template_definition);
      of_stratum_technology       : OPTIONAL SET[1:?] OF stratum_technology;
      material_stack              : OPTIONAL SET[1:?] OF stratum_technology_link;
      printed_part_template_stack : OPTIONAL SET[1:?] OF printed_part_template_link;
      implemented_function        : OPTIONAL functional_unit_usage_view;
    DERIVE
      access_mechanisms        : SET[1:?] OF printed_part_template_terminal := raw_access_mechanisms + printed_part_template_access_mechanisms(printed_part_template_stack);
      footprint_implementation : BOOLEAN := (SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'FOOTPRINT_DEFINITION.REFERENCE_PACKAGE')) > 0);
      a                        : BOOLEAN := NOT EXISTS(of_stratum_technology);
      b                        : BOOLEAN := NOT EXISTS(material_stack);
      c                        : BOOLEAN := NOT EXISTS(printed_part_template_stack);
      d                        : BOOLEAN := NOT footprint_implementation;
    INVERSE
      raw_access_mechanisms : SET[0:?] OF printed_part_template_terminal FOR associated_definition;
    WHERE
      WR1 : (a AND b AND c) OR (a AND b AND d) OR (a AND c AND d) OR (b AND c AND d);
      WR2 : (SIZEOF(QUERY(prpc <* USEDIN(defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'printed part'))) >= 0) OR ('AP210_ARM.LAYOUT_MACRO_FLOOR_PLAN_TEMPLATE' IN TYPEOF(SELF));
      WR3 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'FOOTPRINT_DEFINITION.REFERENCE_PACKAGE')) < 2;
  END_ENTITY; -- printed_part_template

  ENTITY Printed_part_template_connected_terminals_definition;
      connected_terminals : SET[2:?] OF printed_part_template_terminal;
      name                : STRING; --ee_name;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- printed_part_template_connected_terminals_definition

  ENTITY Printed_part_template_interface_terminal
    SUBTYPE OF (printed_part_template_terminal);
      SELF\printed_part_template_terminal.associated_definition : printed_connector_template;
    INVERSE
      external_connector_function : SET[1:?] OF printed_connector_template_terminal_relationship FOR interface_terminal;
  END_ENTITY; -- printed_part_template_interface_terminal

  ENTITY Printed_part_template_join_terminal
    SUBTYPE OF (printed_part_template_terminal);
    INVERSE
      internal_connector_function : SET[0:1] OF printed_connector_template_terminal_relationship FOR join_terminal;
  END_ENTITY; -- printed_part_template_join_terminal

  ENTITY Printed_part_template_link
    SUBTYPE OF (stratum_technology_link);
      precedent_printed_part_template  : printed_part_template;
      subsequent_printed_part_template : printed_part_template;
    INVERSE
      associated_printed_part_template : printed_part_template FOR printed_part_template_stack;
    WHERE
      WR1 : EXISTS(precedent_printed_part_template.of_stratum_technology);
      WR2 : EXISTS(subsequent_printed_part_template.of_stratum_technology);
      WR3 : precedent_printed_part_template.of_stratum_technology[1] = SELF\stratum_technology_link.precedent_stratum_technology;
      WR4 : subsequent_printed_part_template.of_stratum_technology[1] = SELF\stratum_technology_link.subsequent_stratum_technology;
      WR5 : SIZEOF(precedent_printed_part_template.of_stratum_technology) = 1;
      WR6 : SIZEOF(subsequent_printed_part_template.of_stratum_technology) = 1;
  END_ENTITY; -- printed_part_template_link

  ENTITY Printed_part_template_material;
      maximum_width     : OPTIONAL length_data_element;
      minimum_width     : OPTIONAL length_data_element;
      required_material : stratum_technology;
    INVERSE
      boundary : SET[0:4] OF template_material_cross_section_boundary FOR associated_definition;
    WHERE
      WR1 : SIZEOF(QUERY(temp <* (USEDIN(SELF,
 'AP210_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\shape_element.element_name = 'top')) <= 1;
      WR2 : SIZEOF(QUERY(temp <* (USEDIN(SELF,
 'AP210_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\shape_element.element_name = 'bottom')) <= 1;
      WR3 : SIZEOF(QUERY(temp <* (USEDIN(SELF,
 'AP210_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\shape_element.element_name = 'left')) <= 1;
      WR4 : SIZEOF(QUERY(temp <* (USEDIN(SELF,
 'AP210_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\shape_element.element_name = 'right')) <= 1;
  END_ENTITY; -- printed_part_template_material

  ENTITY Printed_part_template_material_link;
      precedent_material  : template_material_cross_section_boundary;
      subsequent_material : template_material_cross_section_boundary;
    UNIQUE
      UR1 : precedent_material,
 subsequent_material;
    WHERE
      WR1 : precedent_material :<>: subsequent_material;
      WR2 : precedent_material\shape_element.element_name IN ['bottom',
 'right'];
      WR3 : subsequent_material\shape_element.element_name IN ['top',
 'left'];
  END_ENTITY; -- printed_part_template_material_link

  ENTITY Printed_part_template_terminal
    ABSTRACT SUPERTYPE OF (printed_part_cross_section_template_terminal ANDOR
 (ONEOF (printed_part_template_join_terminal,
 printed_part_template_interface_terminal)))
    SUBTYPE OF (shape_element);
      associated_definition    : printed_part_template;
      connection_zone_category : printed_part_template_terminal_class;
      terminal_connection_zone : OPTIONAL SET[1:?] OF connection_zone_in_layout_template;
      SELF\shape_element.element_name  : STRING; --ee_name;
    INVERSE
      connection_requirement         : SET[0:1] OF printed_part_template_connected_terminals_definition FOR connected_terminals;
      functional_usage_view_terminal : SET[0:1] OF functional_usage_view_to_printed_part_template_terminal_assignment FOR physical_usage_view_terminal;
      feature_shape                  : SET[1:?] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
  END_ENTITY; -- printed_part_template_terminal

  ENTITY Printed_part_template_terminal_relationship;
      related_printed_part_terminal  : printed_part_template_terminal;
      relating_printed_part_terminal : printed_part_template_terminal;
  END_ENTITY; -- printed_part_template_terminal_relationship

  ENTITY Template_material_cross_section_boundary
    SUBTYPE OF (Non_feature_shape_element);
      associated_definition : printed_part_template_material;
    UNIQUE
      UR1 : associated_definition,
 SELF\shape_element.element_name;
    WHERE
      WR1 : SELF\shape_element.element_name IN ['top',
 'bottom',
 'left',
 'right'];
  END_ENTITY; -- template_material_cross_section_boundary

  FUNCTION printed_part_template_access_mechanisms(
    input : SET OF printed_part_template_link
  ) : SET OF printed_part_template_terminal;

    LOCAL
      pptt : SET OF printed_part_template_terminal := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      pptt := input[i].precedent_printed_part_template.raw_access_mechanisms + pptt;
      pptt := input[i].subsequent_printed_part_template.raw_access_mechanisms + pptt;
    END_REPEAT;
    RETURN(pptt);
  END_FUNCTION; -- printed_part_template_access_mechanisms

END_SCHEMA; -- Printed_physical_layout_template_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_identification_extension_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Product identification extension - EXPRESS ARM
*)

 SCHEMA Product_identification_extension_arm;

USE FROM Product_view_definition_arm;

USE FROM External_item_identification_assignment_arm;
 
 	TYPE pie_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Externally_defined_ee_product_definition);
	END_TYPE;

  ENTITY Externally_defined_ee_product_definition
    SUBTYPE OF (Product_view_definition);
    INVERSE
      source : External_source_identification FOR item;
  END_ENTITY; -- externally_defined_ee_product_definition

  ENTITY Library_ee_product_definition
    SUBTYPE OF (Externally_defined_ee_product_definition);
    DERIVE
      library : STRING := SELF\externally_defined_ee_product_definition.source;
  END_ENTITY; -- library_ee_product_definition

 END_SCHEMA; -- Product_identification_extension_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_rule_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Product rule - EXPRESS ARM
*)

SCHEMA Product_rule_arm;

REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
        types_of_product 
); 

USE FROM Person_organization_assignment_arm; 

USE FROM Specification_document_arm;

USE FROM Model_parameter_arm;

USE FROM Characteristic_arm;

USE FROM Software_arm;
 
   	TYPE parameter_assignment_or_rule_general_clause = SELECT
		(parameter_assignment,
     	rule_general_clause);
	END_TYPE;

  TYPE rule_complex_or_simple = SELECT
    (rule_complex_clause,
     rule_simple_clause);
  END_TYPE; -- rule_complex_or_simple

  ENTITY Rule_action
    ABSTRACT SUPERTYPE OF (ONEOF (rule_submission,
 rule_adoption,
 rule_rejection,
 rule_supersedence,
 rule_creation,
 rule_expiration,
 rule_change_request,
 rule_request,
 rule_modification));
      subject_action_assignment : organization_or_person_in_organization_assignment;
      subject_rule              : rule_version;
    UNIQUE
      UR1 : subject_rule,
 subject_action_assignment;
  END_ENTITY; -- rule_action

  ENTITY Rule_adoption
    SUBTYPE OF (rule_action);
  END_ENTITY; -- rule_adoption

  ENTITY Rule_boolean_function
    SUBTYPE OF (rule_function);
    WHERE
      WR1 : SIZEOF(SELF\rule_function.range_parameter) = 1;
  END_ENTITY; -- rule_boolean_function

  ENTITY Rule_change_request
    SUBTYPE OF (rule_action);
      change_reason : STRING;
  END_ENTITY; -- rule_change_request

  ENTITY Rule_complex_clause;
      conjunctive_content : SET[1:?] OF rule_simple_clause;
      identifier          : STRING;
    UNIQUE
      UR1 : identifier;
  END_ENTITY; -- rule_complex_clause

  ENTITY Rule_conclusion_definition;
      rule_definition     : rule_definition;
      identifier          : STRING;
      conjunctive_content : SET[1:?] OF rule_simple_clause;
    UNIQUE
      UR1 : rule_definition,
 identifier;
  END_ENTITY; -- rule_conclusion_definition

  ENTITY Rule_creation
    SUBTYPE OF (rule_action);
  END_ENTITY; -- rule_creation

  ENTITY Rule_definition
    SUBTYPE OF (Rule_software_definition);
    INVERSE
      premise    : rule_premise_definition FOR rule_definition;
      conclusion : rule_conclusion_definition FOR rule_definition;
  END_ENTITY; -- rule_definition

  ENTITY Rule_expiration
    SUBTYPE OF (rule_action);
      expiration_rationale : STRING;
  END_ENTITY; -- rule_expiration

  ENTITY Rule_function
    SUPERTYPE OF (rule_boolean_function);
      identifier              : STRING;
      representation_language : language_reference_manual;
      reference_document      : document_definition;
      source_code             : specification_definition;
    INVERSE
      domain_parameter : SET[1:?] OF rule_function_domain_parameter FOR accessed_rule_function;
      range_parameter  : SET[1:?] OF rule_function_range_parameter FOR accessed_rule_function;
    UNIQUE
      UR1 : identifier,
 reference_document;
  END_ENTITY; -- rule_function

  ENTITY Rule_function_domain_parameter
    SUBTYPE OF (Model_parameter);
      accessed_rule_function : rule_function;
    UNIQUE
      UR1 : SELF\independent_property.id,
 accessed_rule_function;
  END_ENTITY; -- rule_function_domain_parameter

  ENTITY Rule_function_range_parameter
    SUBTYPE OF (Model_parameter);
      accessed_rule_function : rule_function;
    UNIQUE
      UR1 : SELF\independent_property.id,
 accessed_rule_function;
  END_ENTITY; -- rule_function_range_parameter

  ENTITY Rule_general_clause;
      rule_function : rule_function;
      parameter     : SET[1:?] OF parameter_assignment_or_rule_general_clause;
  END_ENTITY; -- rule_general_clause

  ENTITY Rule_justification;
      justified_action        : rule_action;
      justification_rationale : STRING;
  END_ENTITY; -- rule_justification

  ENTITY Rule_modification
    SUBTYPE OF (rule_action);
      modification_rationale : rule_change_request;
  END_ENTITY; -- rule_modification

  ENTITY Rule_premise_definition;
      rule_definition     : rule_definition;
      identifier          : STRING;
      disjunctive_content : SET[1:?] OF rule_complex_or_simple;
    UNIQUE
      UR1 : rule_definition,
 identifier;
  END_ENTITY; -- rule_premise_definition

  ENTITY Rule_priority;
      priority         : INTEGER;
      prioritized_rule : rule_definition;
    WHERE
      WR1 : priority >= 0;
  END_ENTITY; -- rule_priority
  
  ENTITY Rule_product
  	SUBTYPE OF (software);
  	WHERE 
  		WR1 : SIZEOF([ 'rule' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- Rule_product

  ENTITY Rule_rejection
    SUBTYPE OF (rule_action);
      rejection_reason : STRING;
  END_ENTITY; -- rule_rejection

  ENTITY Rule_request
    SUBTYPE OF (rule_action);
  END_ENTITY; -- rule_request

  ENTITY Rule_set
    SUBTYPE OF (Rule_software_definition);
      rule_member : SET[1:?] OF rule_priority;
    DERIVE
      purpose : text_representation_item := SELF\product_view_definition.context_description;
    WHERE
      WR1 : EXISTS(SELF\product_view_definition.context_description);
  END_ENTITY; -- rule_set

  ENTITY Rule_set_group
    SUBTYPE OF (Rule_software_definition);
      elements : SET[2:?] OF rule_set;
  END_ENTITY; -- rule_set_group

  ENTITY Rule_simple_clause;
      rule_function : rule_boolean_function;
      parameter     : SET[1:?] OF parameter_assignment_or_rule_general_clause;
  END_ENTITY; -- rule_simple_clause

  ENTITY Rule_software_definition 
    SUPERTYPE OF (ONEOF (Rule_definition,
 			Rule_set_group, Rule_set))
    SUBTYPE OF (Software_definition); 			
    SELF\product_view_definition.defined_version : Rule_version;
  END_ENTITY; -- Software_definition

  ENTITY Rule_submission
    SUBTYPE OF (rule_action);
      submission_rationale : STRING;
  END_ENTITY; -- rule_submission

  ENTITY Rule_supersedence
    SUBTYPE OF (rule_action);
      superseded_rule : rule_version;
  END_ENTITY; -- rule_supersedence

  ENTITY Rule_version
    SUBTYPE OF (software_version);
			SELF\product_version.of_product : rule_product;    
    INVERSE
      management_action		: SET[1:?] OF rule_action FOR subject_rule;
      product_definition	: SET[1:?] OF rule_definition FOR defined_version;
  END_ENTITY; -- rule_version
  
END_SCHEMA; -- Product_rule_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Requirement_decomposition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Requirement decomposition - EXPRESS ARM
*)

SCHEMA Requirement_decomposition_arm;

USE FROM Characteristic_arm;

USE FROM Specification_document_arm;

USE FROM Elemental_geometric_shape_arm;

USE FROM Product_rule_arm;

USE FROM Part_and_version_identification_arm;

USE FROM Requirement_assignment_arm;	

USE FROM Requirement_view_definition_arm;

USE FROM Analytical_model_arm;

USE FROM Functional_specification_arm;

USE FROM Pdm_material_aspects_arm;

 
  TYPE material_conductivity_classification = ENUMERATION OF
    (conductive,
     resistive,
     semi_conductive,
     non_conductive);
  END_TYPE; -- material_conductivity_classification

	SUBTYPE_CONSTRAINT model_parameter_subtypes FOR model_parameter; 
		 ONEOF (analytical_model_parameter,
		 category_model_parameter,
		 rule_function_domain_parameter,
		 rule_function_range_parameter);
	END_SUBTYPE_CONSTRAINT;

  TYPE relationship_operation = ENUMERATION OF
    (and_operation,
     derived_from,
     or_operation);
  END_TYPE; -- relationship_operation

  ENTITY Constraint_occurrence
    SUPERTYPE OF (ee_product_definition_based_constraint_occurrence)
    SUBTYPE OF (Requirement_definition_property);
      logical_relation : OPTIONAL rule_complex_clause;
    WHERE
      WR1 : (('AP210_ARM.' + 'EE_PRODUCT_DEFINITION_BASED_CONSTRAINT_OCCURRENCE') IN TYPEOF(SELF)) OR EXISTS(logical_relation);
  END_ENTITY; -- constraint_occurrence

  ENTITY Design_characteristic_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- design_characteristic_occurrence

  ENTITY Design_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- design_requirement_occurrence

  ENTITY Ee_product_definition_based_constraint_occurrence
    SUPERTYPE OF (shape_and_ee_product_definition_based_constraint_occurrence)
    SUBTYPE OF (Constraint_occurrence);
      constraining_part : product_view_definition;
  END_ENTITY; -- ee_product_definition_based_constraint_occurrence

  ENTITY Electrical_requirement_occurrence
    SUPERTYPE OF (material_electrical_conductivity_requirement_occurrence)
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- electrical_requirement_occurrence

  ENTITY Electromagnetic_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- electromagnetic_requirement_occurrence

  ENTITY Inspection_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- inspection_requirement_occurrence

  ENTITY Material_electrical_conductivity_requirement_occurrence
    SUBTYPE OF (Electrical_requirement_occurrence);
      electrical_conductivity_characteristic : material_conductivity_classification;
  END_ENTITY; -- material_electrical_conductivity_requirement_occurrence

  ENTITY Mechanical_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- mechanical_requirement_occurrence

  ENTITY Operational_requirement_occurrence_relationship;
      relationship_type               : relationship_operation;
      relating_requirement_occurrence : requirement_view_definition;
      related_requirement_occurrence  : requirement_view_definition;
    WHERE
      WR1 : relating_requirement_occurrence :<>: related_requirement_occurrence;
  END_ENTITY; -- operational_requirement_occurrence_relationship

  ENTITY Purpose_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- purpose_occurrence

  ENTITY Requirement_definition_property;
      associated_definition               : requirement_view_definition;
      required_analytical_representation  : OPTIONAL SET[1:?] OF analytical_model_application;
      required_functional_specification   : OPTIONAL SET[1:?] OF functional_specification;
      required_part                       : OPTIONAL SET[1:?] OF product;
      required_coordinated_characteristic : OPTIONAL SET[1:?] OF coordinated_characteristic;
      requirement_specification           : SET[1:?] OF specification_definition;
      required_characteristic             : OPTIONAL SET[1:?] OF characteristic;
      required_material                   : OPTIONAL material_identification;
      reference_clause                    : OPTIONAL structured_text_id_in_document;
    UNIQUE
      UR1 : associated_definition;
  END_ENTITY; -- Requirement_definition_property

  ENTITY Shape_and_ee_product_definition_based_constraint_occurrence
    SUBTYPE OF (Ee_product_definition_based_constraint_occurrence);
      constraining_shape : SET[1:?] OF geometric_model;
    WHERE
      WR1 : valid_constraining_shape(constraining_shape,
 SELF\ee_product_definition_based_constraint_occurrence.constraining_part);
  END_ENTITY; -- shape_and_ee_product_definition_based_constraint_occurrence

  ENTITY Test_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
    WHERE
      WR1 : SIZEOF(SELF\Requirement_definition_property.required_analytical_representation) + SIZEOF(SELF\Requirement_definition_property.required_functional_specification) > 0;
  END_ENTITY; -- test_requirement_occurrence

  ENTITY Thermal_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- thermal_requirement_occurrence

	SUBTYPE_CONSTRAINT Requirement_definition_property_subtypes FOR Requirement_definition_property;     
	    ((ONEOF (thermal_requirement_occurrence,
	 electromagnetic_requirement_occurrence,
	 electrical_requirement_occurrence,
	 mechanical_requirement_occurrence) ANDOR
	 ONEOF (design_requirement_occurrence,
	 inspection_requirement_occurrence,
	 test_requirement_occurrence,
	 purpose_occurrence,
	 constraint_occurrence,
	 design_characteristic_occurrence)));
	END_SUBTYPE_CONSTRAINT;

FUNCTION get_requirement_definition_property
  (ra : requirement_assignment;
  req_type : STRING) : requirement_definition_property;
  LOCAL
    requirements : SET[0:?] OF requirement_definition_property;
  END_LOCAL;
	requirements := USEDIN (ra.assigned_requirement, 'REQUIREMENT_DECOMPOSITION.' + 'REQUIREMENT_DEFINTION_PROPERTY.ASSOCIATED_DEFINITION') ;
	REPEAT i := 1 to SIZEOF(requirements) by 1;
	  IF (requirements[i] IN TYPEOF (req_type)) THEN
	  	RETURN (requirements[i]);
	  END_IF;
	END_REPEAT;
	RETURN (?);
END_FUNCTION;

  FUNCTION valid_constraining_shape(
    sd   : SET OF geometric_model ;
    eepd : product_view_definition
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION; -- valid_constraining_shape

END_SCHEMA; -- Requirement_decomposition_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Sequential_laminate_assembly_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Sequential laminate assembly design - EXPRESS ARM
*)
SCHEMA Sequential_laminate_assembly_design_arm;

USE FROM Assembly_module_with_interconnect_component_arm;

USE FROM Component_feature_arm;

USE FROM Layered_interconnect_module_design_arm;

  ENTITY Interconnect_module_component_stratum_based_terminal
    SUBTYPE OF (Interconnect_module_component_terminal);
      SELF\component_feature.definition : interconnect_module_stratum_based_terminal;
  END_ENTITY; -- interconnect_module_component_stratum_based_terminal

  ENTITY Interconnect_module_product_assembly_view_fabrication_joint;
      joined_terminal : SET[1:?] OF interconnect_module_component_stratum_based_terminal;
  END_ENTITY; -- interconnect_module_product_assembly_view_fabrication_joint

  ENTITY Interconnect_module_stratum_based_terminal
    SUBTYPE OF (Interconnect_module_terminal);
    WHERE
      WR1 : SIZEOF(QUERY(imtscr <* USEDIN(SELF,
 'AP210_ARM.' + 'INTERCONNECT_MODULE_TERMINAL_SURFACE_CONSTITUENT_RELATIONSHIP.' + 'RELATED_SHAPE_ELEMENT') | NOT (SIZEOF(['AP210_ARM.' + 'INTERCONNECT_MODULE_PRIMARY_SURFACE',
 'AP210_ARM.' + 'INTERCONNECT_MODULE_SECONDARY_SURFACE'] * TYPEOF(imtscr.relating)) = 1))) = 0;
      WR2 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'INTERCONNECT_MODULE_TERMINAL_SURFACE_CONSTITUENT_RELATIONSHIP.' + 'RELATED_SHAPE_ELEMENT')) = 1;
 (** Need to rewrite rule, since we removed inverse part_feature.design_view_definition_component_feature
      WR3 : SIZEOF(['AP210_ARM.LAND',
 'AP210_ARM.NON_FUNCTIONAL_LAND'] * TYPEOF(SELF\part_feature.design_view_definition_component_feature)) = 1; *)
  END_ENTITY; -- interconnect_module_stratum_based_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered shape - EXPRESS ARM
*)

SCHEMA Layered_shape_arm;

USE FROM Basic_geometry_arm;

  ENTITY Detailed_geometric_model_element_relationship;
    item_1: detailed_geometric_model_element;
    item_2: detailed_geometric_model_element;
   WHERE 
    WR1: item_1 <> item_2;
  END_ENTITY;

  ENTITY Feature_shape_definition
    SUBTYPE OF (Geometric_model);
  END_ENTITY; -- feature_shape_definition

  ENTITY Geometric_model_relationship
    ABSTRACT SUPERTYPE
   SUBTYPE OF (representation_relationship);
      SELF\representation_relationship.rep_1 : geometric_model;
      SELF\representation_relationship.rep_2 : geometric_model;
    WHERE
      WR1 : rep_1 <> rep_2;
  END_ENTITY; -- Geometric_model_relationship

  ENTITY Shape_item_relationship
    SUBTYPE OF (Detailed_geometric_model_element_relationship, Representation_item);
  END_ENTITY;

 ENTITY Vector
    SUBTYPE OF (Detailed_geometric_model_element);
      orientation: direction;
      magnitude: length_measure;
    WHERE
      WR1 : magnitude >= 0.0 ;
 END_ENTITY; -- Vector

END_SCHEMA; -- Layered_shape_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered 2d shape - EXPRESS ARM
*)

SCHEMA Layered_2d_shape_arm;

USE FROM Layered_shape_arm;

  TYPE axis_placement_or_cto2d = SELECT
    (axis_placement,
     cartesian_transformation_2d);
  END_TYPE; -- axis_placement_or_cto2d

  ENTITY Axis_placement_2d
    SUBTYPE OF (Axis_placement);
  END_ENTITY; -- axis_placement_2d

  ENTITY Planar_projected_shape
    SUBTYPE OF (planar_shape,
 feature_shape_definition);
  END_ENTITY; -- planar_projected_shape

  ENTITY Planar_shape
    ABSTRACT SUPERTYPE OF(Planar_projected_shape) 
    SUBTYPE OF (Geometric_model);
    WHERE
      WR1 : SELF\geometric_model.context_of_items.dimension_count = 2;
  END_ENTITY; -- planar_shape

  ENTITY Reference_geometric_representation_relationship
    SUBTYPE OF (Geometric_model_relationship);
      related_feature_shape_placement : OPTIONAL axis_placement_or_cto2d;
      SELF\Geometric_model_relationship.rep_1 RENAMED related_feature_shape   : feature_shape_definition;
      SELF\Geometric_model_relationship.rep_2 RENAMED resultant_feature_shape : feature_shape_definition;
    WHERE
      WR1 : EXISTS(related_feature_shape_placement) OR (related_feature_shape.context_of_items :=: resultant_feature_shape.context_of_items);
(** TODO For Tom - convert WR3 into a global rule in Assembly_module_design 
      WR3 : NOT ((SIZEOF(['AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_3D_SHAPE'] * TYPEOF(related_feature_shape)) = 1) AND ('AP210_ARM.ASSEMBLY_MODULE' IN TYPEOF(related_feature_shape.shape_characterized_physical_unit))) OR NOT EXISTS(related_feature_shape_placement);
*) 
(** TODO For Tom - convert WR4 into a global rule in Interconnect_module_design 
      WR4 : NOT ((SIZEOF(['AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_3D_SHAPE'] * TYPEOF(related_feature_shape)) = 1) AND ('AP210_ARM.INTERCONNECT_MODULE' IN TYPEOF(related_feature_shape.shape_characterized_physical_unit))) OR NOT EXISTS(related_feature_shape_placement);
*) 
  END_ENTITY; -- reference_geometric_representation_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered 3d shape - EXPRESS ARM
*)

SCHEMA Layered_3d_shape_arm;

USE FROM Advanced_boundary_representation_arm;

USE FROM Curve_swept_solid_arm;

USE FROM Geometrically_bounded_surface_arm;

USE FROM Layered_2d_shape_arm;

	SUBTYPE_CONSTRAINT geometric_representation_relationship_subtypes FOR Geometric_model_relationship;     
		(ONEOF (shape_definition_3d_intersection,
		 shape_definition_3d_plane_projection 
		 ));    
	END_SUBTYPE_CONSTRAINT;

	TYPE three_dimensional_shape = SELECT
		(Advanced_brep_shape_representation,
		Curve_swept_solid,
	 	Geometrically_bounded_surface_shape_representation);
	END_TYPE;

  ENTITY Axis_placement_3d
    SUBTYPE OF (Axis_placement);
  END_ENTITY; -- axis_placement_3d

  ENTITY Shape_definition_3d_intersection
    SUBTYPE OF (Geometric_model_relationship);
      orientation_intersection_plane : axis_placement_3d;
      planar_shape_origin            : axis_placement_2d;
      SELF\Geometric_model_relationship.rep_1 RENAMED surface_intersection_result : planar_shape;
      SELF\Geometric_model_relationship.rep_2 RENAMED projected_volume            : geometric_model;
    WHERE
      WR1 : NOT ('AP210_ARM.PLANAR_SHAPE' IN TYPEOF(projected_volume));
  END_ENTITY; -- shape_definition_3d_intersection

  ENTITY Shape_definition_3d_plane_projection
    SUBTYPE OF (Geometric_model_relationship);
      viewing_plane       : axis_placement_3d;
      planar_shape_origin : axis_placement_2d;
      SELF\Geometric_model_relationship.rep_1 RENAMED surface_projection_result : planar_shape;
      SELF\Geometric_model_relationship.rep_2 RENAMED projected_volume          : geometric_model;
    WHERE
      WR1 : NOT ('AP210_ARM.PLANAR_SHAPE' IN TYPEOF(projected_volume));
  END_ENTITY; -- shape_definition_3d_plane_projection

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Signal_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Signal - EXPRESS ARM
*)

SCHEMA Signal_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Extended_measure_representation_arm;

 	TYPE s_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Composite_signal_property_relationship,
		Signal_property,
		Signal);
	END_TYPE;

  ENTITY Composite_signal_property
    SUBTYPE OF (signal_property);
    INVERSE
      signal_property_structure : SET[1:?] OF composite_signal_property_relationship FOR composition;
  END_ENTITY; -- composite_signal_property

  ENTITY Composite_signal_property_relationship;
      composition                        	: composite_signal_property;
      signal_property_structural_element 	: signal_property;
    INVERSE
      aggregation_operation								: External_source_identification FOR item;
  END_ENTITY; -- composite_signal_property_relationship

  ENTITY Signal;
    INVERSE
      signal_category	: External_source_identification FOR item;
  END_ENTITY; -- signal

  ENTITY Signal_property
    SUPERTYPE OF (composite_signal_property);
      signal_property_representation 	: value_list;
      characterized_signal           	: signal;
    INVERSE
      signal_property_category				: External_source_identification FOR item;
  END_ENTITY; -- signal_property

END_SCHEMA; -- Signal_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_with_design_intend_modifications_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module with design intend modifications - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_with_design_intend_modifications_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Assembly_component_placement_requirements_arm;

	TYPE design_intent_modification_or_material_removal_component = SELECT 
		(design_intent_modification,
		material_removal_laminate_component);
	END_TYPE;

	TYPE limwdim_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Electrical_isolation_removal_structure,
		thermal_isolation_removal_structure_or_template);
	END_TYPE; 

	TYPE limwdim_restriction_basis_item = EXTENSIBLE SELECT BASED_ON restriction_basis_item WITH 
	   (stratum_concept,
	   stratum);
	END_TYPE; 

 	TYPE sf_thermal_isolation_removal_structure_or_template = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON thermal_isolation_removal_structure_or_template WITH  
		(thermal_isolation_removal_structure);
  END_TYPE; -- thermal_isolation_removal_structure_or_template

  ENTITY Design_intent_modification
    SUPERTYPE OF (ONEOF (material_removal_feature,
 material_addition_feature,
 material_shape_modification));
      design_intent            : stratum_feature_or_stratum_feature_template_component;
      modification_causal_item : restriction_basis_item;
  END_ENTITY; -- design_intent_modification

  ENTITY Design_intent_modification_sequence;
      precedent_modification  : design_intent_modification_or_material_removal_component;
      subsequent_modification : design_intent_modification_or_material_removal_component;
    UNIQUE
      UR1 : precedent_modification,
 subsequent_modification;
  END_ENTITY; -- design_intent_modification_sequence

  ENTITY Electrical_isolation_removal_structure
    SUBTYPE OF (Filled_area_material_removal_structure);
(** Need a WR to constraint the cardinality    
      electrical_isolation_spacing_requirement : Requirement_definition_property;
*)      
  END_ENTITY; -- electrical_isolation_removal_structure

  ENTITY Filled_area_material_removal_structure
    ABSTRACT SUPERTYPE
    SUBTYPE OF (Material_removal_feature);
      SELF\design_intent_modification.design_intent : conductive_filled_area;
  END_ENTITY; -- filled_area_material_removal_structure

  ENTITY Material_addition_feature
    SUBTYPE OF (Design_intent_modification);
      material_addition_shape : material_addition_feature_template;
  END_ENTITY; -- material_addition_feature

  ENTITY Material_removal_feature
    SUPERTYPE OF (filled_area_material_removal_structure)
    SUBTYPE OF (Design_intent_modification);
      material_removal_shape : material_removal_feature_template;
  END_ENTITY; -- material_removal_feature

  ENTITY Material_shape_modification
    SUBTYPE OF (Design_intent_modification);
  END_ENTITY; -- material_shape_modification

  ENTITY Thermal_isolation_removal_structure
    SUBTYPE OF (Filled_area_material_removal_structure);
(** I think this is inverse is lost after recent changes    
    INVERSE
      thermal_isolation_spacing_requirement : thermal_isolation_requirement FOR resulting_structure;
*)      
  END_ENTITY; -- thermal_isolation_removal_structure

END_SCHEMA; -- Layered_interconnect_module_with_design_intend_modifications_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Stratum_non_planar_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Stratum non planar shape - EXPRESS ARM
*)

SCHEMA Stratum_non_planar_shape_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Manifold_surface_arm;

  TYPE stratum_surface_shape_select = SELECT
    (stratum_surface_shape,
     stratum_average_surface_shape);
  END_TYPE; -- stratum_surface_shape_select

  ENTITY Stratum_average_surface_shape
    SUBTYPE OF (Manifold_surface_shape_representation);
      of_surface : stratum_average_surface;
    UNIQUE
    	UR1 : of_surface;  
  END_ENTITY; -- stratum_average_surface_shape

  ENTITY Stratum_feature_non_planar_2d_shape
    SUBTYPE OF (Manifold_surface_shape_representation);
      represented_stratum_feature : stratum_feature;
  END_ENTITY; -- stratum_feature_non_planar_2d_shape

  ENTITY Stratum_feature_shape_stratum_average_surface_shape_relationship;
      of_stratum_feature_shape         : stratum_feature_non_planar_2d_shape;
      of_stratum_average_surface_shape : stratum_average_surface_shape;
  END_ENTITY; -- stratum_feature_shape_stratum_average_surface_shape_relationship

  ENTITY Stratum_feature_shape_stratum_surface_shape_relationship;
      of_stratum_feature_shape : stratum_feature_non_planar_2d_shape;
      of_stratum_surface_shape : stratum_surface_shape;
  END_ENTITY; -- stratum_feature_shape_stratum_surface_shape_relationship
 
   ENTITY Stratum_surface_shape
    SUBTYPE OF (Manifold_surface_shape_representation);
      of_surface : stratum_surface;
    UNIQUE
    	UR1 : of_surface;  
  END_ENTITY; -- stratum_surface_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_2d_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module 2d design - EXPRESS ARM
*)
SCHEMA Layered_interconnect_module_2d_design_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Physical_unit_2d_shape_arm;

  TYPE stratum_feature_planar_representation_select = SELECT
    (stratum_feature_styled_area_representation,
     stratum_feature_planar_shape);
  END_TYPE; -- stratum_feature_planar_representation_select

  ENTITY Stratum_feature_in_stratum_planar_position;
      stratum_shape  : stratum_planar_shape;
      transformation : axis_placement_2d;
      feature_shape  : stratum_feature_planar_representation_select;
  END_ENTITY; -- stratum_feature_in_stratum_planar_position

  ENTITY Stratum_feature_planar_shape
    SUBTYPE OF (planar_projected_shape);
      represented_stratum_feature : stratum_feature;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- stratum_feature_planar_shape

  ENTITY Stratum_feature_styled_area_representation;
      derived_planar_shape             : OPTIONAL SET[1:?] OF stratum_feature_planar_shape;
      shape_styled_area_representation : styled_area_representation;
      represented_stratum_feature      : stratum_feature;
  END_ENTITY; -- stratum_feature_styled_area_representation

  ENTITY Stratum_interconnect_module_planar_position;
      stratum_component         : interconnect_module_stratum_assembly_relationship;
      stratum_shape             : stratum_planar_shape;
      interconnect_module_shape : physical_unit_planar_shape;
      transformation            : axis_placement_2d;
   UNIQUE
   	UR1 : stratum_component;
  END_ENTITY; -- stratum_interconnect_module_planar_position

  ENTITY Stratum_planar_shape
    SUBTYPE OF (planar_projected_shape);
      shape_characterized_stratum : stratum;
    UNIQUE
    	UR1 : shape_characterized_stratum;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- stratum_planar_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_3d_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module 3d design - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_3d_design_arm;

USE FROM Stratum_non_planar_shape_arm;

USE FROM Physical_unit_3d_shape_arm;

  TYPE stratum_feature_3d_shape_select = SELECT
    (stratum_feature_non_planar_2d_shape,
     stratum_feature_3d_shape);
  END_TYPE; -- stratum_feature_3d_shape_select

  ENTITY Stratum_3d_shape
    SUBTYPE OF (Feature_shape_definition);
      shape_characterized_stratum : stratum;
    WHERE
      WR1 : NOT ('AP210_ARM.PLANAR_SHAPE' IN TYPEOF(SELF));
  END_ENTITY; -- stratum_3d_shape

  ENTITY Stratum_feature_3d_shape
    SUBTYPE OF (Feature_shape_definition);
      represented_stratum_feature : stratum_feature;
  END_ENTITY; -- stratum_feature_3d_shape

  ENTITY Stratum_feature_in_stratum_3d_position;
      stratum_shape  : stratum_3d_shape;
      transformation : axis_placement_3d;
      feature_shape  : stratum_feature_3d_shape_select;
  END_ENTITY; -- stratum_feature_in_stratum_3d_position

  ENTITY Stratum_interconnect_module_3d_position;
      stratum_component         : interconnect_module_stratum_assembly_relationship;
      stratum_shape             : stratum_3d_shape;
      interconnect_module_shape : physical_unit_3d_shape;
      transformation            : axis_placement_3d;
   UNIQUE
   	UR1 : stratum_component;
  END_ENTITY; -- stratum_interconnect_module_3d_position

  ENTITY Stratum_surface_in_stratum_3d_position;
      stratum_shape  : stratum_3d_shape;
      transformation : axis_placement_3d;
      surface_shape  : stratum_surface_shape_select;
  END_ENTITY; -- stratum_surface_in_stratum_3d_position

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Styled_curve_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Styled curve - EXPRESS ARM
*)

SCHEMA Styled_curve_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Basic_curve_arm;

  TYPE curve_font_or_scaled_curve_font_select = SELECT
    (curve_style_font_and_scaling,
     curve_style_font_select);
  END_TYPE; -- curve_font_or_scaled_curve_font_select

  TYPE curve_style_font_select = SELECT
    (solid_curve,
     externally_defined_curve_font,
     curve_style_font);
  END_TYPE; -- curve_style_font_select
  
  TYPE extend_or_chord_2_extend_or_truncate_or_round = ENUMERATION OF
    (truncate,
     chord_2_extend,
     round,
     extend);
  END_TYPE; -- extend_or_chord_2_extend_or_truncate_or_round

  TYPE extend_or_truncate = ENUMERATION OF
    (truncate,
     extend);
  END_TYPE; -- extend_or_truncate

  TYPE square_or_round = ENUMERATION OF
    (square,
     round);
  END_TYPE; -- square_or_round

	TYPE styled_area_representation = 
		EXTENSIBLE GENERIC_ENTITY SELECT (styled_curve_occurrence);
	END_TYPE;

  ENTITY Curve_style;
      name              : STRING;
      corner_style      : extend_or_chord_2_extend_or_truncate_or_round;
      curve_width       : length_data_element;
      curve_font        : OPTIONAL curve_font_or_scaled_curve_font_select;
      end_extension     : extend_or_truncate;
      end_style         : square_or_round;
      width_uncertainty : length_data_element;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- curve_style

  ENTITY Curve_style_font;
  END_ENTITY; -- curve_style_font

  ENTITY Curve_style_font_and_scaling;
      name               : STRING;
      curve_font         : curve_style_font_select;
      curve_font_scaling : INTEGER; -- positive_ratio_measure;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- curve_style_font_and_scaling

  ENTITY Externally_defined_curve_font;
  END_ENTITY; -- externally_defined_curve_font

  ENTITY Solid_curve;
  END_ENTITY; -- solid_curve

  ENTITY Styled_curve_occurrence;
      styled_curve   : curve;
      of_curve_style : curve_style;
  END_ENTITY; -- styled_curve_occurrence

END_SCHEMA; -- Styled_curve_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Styled_text_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Styled text - EXPRESS ARM
*)

SCHEMA Styled_text_arm;

USE FROM Document_definition_arm;

USE FROM Elemental_geometric_shape_arm;
 
  TYPE font_select = SELECT
    (registered_font,
     font_definition);
  END_TYPE; -- font_select

  ENTITY Font_definition;
  END_ENTITY; -- font_definition

  ENTITY Registered_font;
      registration_document : document_definition;
      font_code             : STRING;
    UNIQUE
      UR1 : font_code,
 registration_document;
  END_ENTITY; -- registered_font

  ENTITY Styled_text
    SUBTYPE OF (Detailed_geometric_model_element);
      text_font : font_select;
  END_ENTITY; -- styled_text

END_SCHEMA; -- Styled_text_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Curve_swept_solid_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Curve swept solid - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Curve_swept_solid_arm;

USE FROM Elemental_geometric_shape_arm;    --  ISO/TS 10303-1004

ENTITY Curve_swept_solid
   SUBTYPE OF (Geometric_model);
END_ENTITY; -- curve_swept_solid

END_SCHEMA; -- Curve_swept_solid_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_device_functional_and_physical_characterization_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 device functional and physical characterization - EXPRESS ARM
*)

SCHEMA Ap210_device_functional_and_physical_characterization_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Packaged_part_white_box_model_arm;
   USE FROM Part_terminal_arm;
   USE FROM Network_functional_design_view_arm;
   USE FROM Characteristic_arm;
   USE FROM Chemical_substance_arm;
   USE FROM Part_feature_grouping_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_technology_constraints_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect technology constraints - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_technology_constraints_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Manufacturing_technology_arm;
   USE FROM Technology_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_technology_constraints_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly technology constraints - EXPRESS ARM
*)

SCHEMA Ap210_assembly_technology_constraints_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   USE FROM Specification_document_arm;
   USE FROM Technology_arm;
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_functional_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly functional requirements - EXPRESS ARM
*)

SCHEMA Ap210_assembly_functional_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Requirement_decomposition_arm;
   USE FROM Physical_node_requirement_to_implementing_component_allocation_arm;
   USE FROM Planned_characteristic_arm;
   USE FROM Requirement_assignment_arm;
   USE FROM Requirement_identification_and_version_arm;
   USE FROM Requirement_view_definition_arm;
   USE FROM Requirement_view_definition_relationship_arm;
   USE FROM Test_requirement_allocation_arm;
   USE FROM Assembly_module_usage_view_arm;
   USE FROM Characteristic_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_physical_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly physical requirements - EXPRESS ARM
*)

SCHEMA Ap210_assembly_physical_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Requirement_decomposition_arm;
   USE FROM Requirement_assignment_arm;
   USE FROM Requirement_identification_and_version_arm;
   USE FROM Requirement_view_definition_arm;
   USE FROM Requirement_view_definition_relationship_arm;
   USE FROM Test_requirement_allocation_arm;
   USE FROM Assembly_module_usage_view_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_functional_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect functional requirements - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_functional_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Network_functional_design_view_arm;
   USE FROM Planned_characteristic_arm;   
   USE FROM Requirement_assignment_arm;
   USE FROM Requirement_decomposition_arm;   
   USE FROM Requirement_identification_and_version_arm;
   USE FROM Requirement_view_definition_arm;
   USE FROM Requirement_view_definition_relationship_arm;
   USE FROM Test_requirement_allocation_arm;
   USE FROM Assembly_module_usage_view_arm;
   -- ?? physical_network
   USE FROM Part_terminal_arm; -- because of part_connected_terminals_definition
   USE FROM Characteristic_arm;
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_physical_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect physical requirements - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_physical_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Fabrication_requirement_arm;
   USE FROM Requirement_decomposition_arm;
   USE FROM Requirement_assignment_arm;
   USE FROM Requirement_identification_and_version_arm;
   USE FROM Requirement_view_definition_arm;
   USE FROM Requirement_view_definition_relationship_arm;
   USE FROM Test_requirement_allocation_arm;
   USE FROM Assembly_module_usage_view_arm;
   USE FROM Interconnect_placement_requirements_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_physical_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly physical design - EXPRESS ARM
*)

SCHEMA Ap210_assembly_physical_design_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Altered_part_arm;
   USE FROM Assembly_functional_interface_requirement_arm;
   USE FROM Assembly_module_macro_definition_arm;
   USE FROM Assembly_module_with_macro_component_arm;
   USE FROM Assembly_module_with_cable_component_2d_arm;   
   USE FROM Assembly_module_with_cable_component_3d_arm;
   USE FROM Assembly_module_with_subassembly_arm;
   USE FROM Assembly_shape_arm;
   USE FROM Assembly_2d_shape_arm;
   USE FROM Assembly_3d_shape_arm;
   USE FROM Characteristic_arm;
   USE FROM Chemical_substance_arm;
   USE FROM Cable_arm;
   USE FROM Design_specific_assignment_to_assembly_usage_view_arm;
   USE FROM Device_marking_arm;
   USE FROM Fill_area_arm;
   USE FROM Physical_unit_interconnect_definition_arm;

(** Assembly_module_with_packaged_connector_component_arm and 
Assembly_module_with_interconnect_component_arm  - most likely in some Assembly CC *)
	SUBTYPE_CONSTRAINT component_interface_terminal_subtypes FOR Component_interface_terminal;     
		(ONEOF (Packaged_connector_component_interface_terminal,
		 Interconnect_component_interface_terminal));
	END_SUBTYPE_CONSTRAINT;

(** most likely some Assembly_module CC *)
	SUBTYPE_CONSTRAINT packaged_part_subtypes FOR Packaged_part; 
	    (ONEOF (Minimally_defined_connector, -- Assembly_functional_interface_requirement_arm
	 	Packaged_connector) ANDOR -- Packaged_connector_model_arm
	 	Altered_packaged_part); -- Altered_part_arm
	END_SUBTYPE_CONSTRAINT;
	
	(** It most likely should be in Assembly_module CC *)
	SUBTYPE_CONSTRAINT physical_component_subtypes FOR Physical_component;  
		(ONEOF (Assembly_module_component, --Assembly_module_with_subassembly_arm
		Bare_die_component, -- Assembly_module_design_arm
		Cable_component, -- Assembly_module_with_cable_component_arm
		Interconnect_module_component, -- Assembly_module_with_interconnect_component_arm
		Packaged_component, -- Assembly_module_design_arm
		Routed_interconnect_component, -- Assembly_module_design_arm
		Routed_physical_component)); -- Assembly_module_design_arm 
	END_SUBTYPE_CONSTRAINT;
	
	(** It most likely should be in Assembly_module CC *)
	SUBTYPE_CONSTRAINT part_usage_view_subtypes FOR Part_usage_view;  
	    ONEOF (Package,
		 Bare_die,
		 Cable_usage_view,
		 Packaged_part,
		 Assembly_module_usage_view,
		 Interconnect_module_usage_view);
	END_SUBTYPE_CONSTRAINT;

   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect design - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_design_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Area_2d_arm;
   USE FROM Characteristic_arm;
   USE FROM Chemical_substance_arm;   
   USE FROM Connectivity_allocation_to_physical_network_arm;
   USE FROM Design_specific_assignment_to_interconnect_usage_view_arm;   
   USE FROM Device_marking_arm;   
   USE FROM Fill_area_arm;   
   USE FROM Interconnect_module_to_assembly_module_relationship_arm;
   USE FROM Interconnect_non_planar_shape_arm;
   USE FROM Interconnect_2d_shape_arm;
   USE FROM Interconnect_3d_shape_arm;
   USE FROM Land_arm;
   USE FROM Layered_interconnect_module_2d_design_arm;
   USE FROM Layered_interconnect_module_3d_design_arm;   
   USE FROM Layered_interconnect_module_3d_shape_arm;
   USE FROM Layout_macro_definition_arm;
   USE FROM Pre_defined_datum_symbol_arm;
   USE FROM Via_component_arm;

(** Most likely it is in CC Interconnect_module *)    
	SUBTYPE_CONSTRAINT laminate_component_interface_terminal_subtypes FOR Laminate_component_interface_terminal; 
		 (ONEOF (Non_functional_land_interface_terminal,
		 Printed_connector_component_interface_terminal,
		 Component_termination_passage_interface_terminal,
		 Land_interface_terminal));
	END_SUBTYPE_CONSTRAINT;

(** Most likely it is in CC Interconnect_module *)    
	SUBTYPE_CONSTRAINT laminate_component_join_terminal_subtypes FOR Laminate_component_join_terminal; 
		 (ONEOF (Component_termination_passage_join_terminal,
		 Land_join_terminal,
		 Non_functional_land_join_terminal,
		 Embedded_component_terminal,
		 Printed_component_join_terminal));
	END_SUBTYPE_CONSTRAINT;
   
(** It most likely should be in Interconnect_module CC *)
SUBTYPE_CONSTRAINT planar_projected_shape_subtypes FOR planar_projected_shape;  
	(ONEOF ((Assembly_component_2d_shape ANDOR
	 (ONEOF (Part_template_planar_shape,
	 Footprint_definition_shape,
	 Padstack_definition_shape,
	 Physical_unit_planar_shape))),
	 Design_intent_modification_planar_shape,
	 Stratum_feature_planar_shape,
	 Stratum_planar_shape));
END_SUBTYPE_CONSTRAINT; 

(** Pre_defined_datum_symbol_arm and Layered_interconnect_module_3d_shape_arm are not linked in any way.
Most likely it should be defined in Interconnect_module CC *)
 SUBTYPE_CONSTRAINT shape_definition_3d_intersection_subtypes FOR shape_definition_3d_intersection;  
	 (ONEOF (Edge_segment_cross_section,
	 Pre_defined_perpendicular_datum_plane_symbol_3d_2d_relationship,
	 Pre_defined_perpendicular_datum_axis_symbol_3d_2d_relationship,
	 Pre_defined_parallel_datum_axis_symbol_3d_2d_relationship));
 END_SUBTYPE_CONSTRAINT;  
   
   
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_design_for_microwave_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect design for microwave - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_design_for_microwave_arm;
   USE FROM Ap210_interconnect_design_arm;
   USE FROM Characteristic_arm;
(**   (+ spline curves ...)
   + edge terminal, cross-section_terminals !!
   GL: is it guided_wave_terminal or something else?
*)   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_product_rule_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 product rule - EXPRESS ARM
*)

SCHEMA Ap210_product_rule_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Product_rule_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_functional_decomposition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 functional decomposition - EXPRESS ARM
*)

SCHEMA Ap210_functional_decomposition_arm;
	USE FROM AP210_product_data_management_arm;
	USE FROM Network_functional_design_view_arm;
	USE FROM Electrical_network_definition_arm;
	USE FROM Thermal_network_definition_arm;
	USE FROM Functional_decomposition_to_assembly_design_arm;
	USE FROM Functional_decomposition_to_design_arm;
	USE FROM Functional_decomposition_to_interconnect_design_arm;	
	USE FROM Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm;
  	USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_package_functional_and_physical_characterization_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 package functional and physical characterization - EXPRESS ARM
*)

SCHEMA Ap210_package_functional_and_physical_characterization_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;   
   USE FROM Chemical_substance_arm;   
   USE FROM Package_arm;
   USE FROM Part_feature_grouping_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_laminate_assembly_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 laminate assembly design - EXPRESS ARM
*)

SCHEMA Ap210_laminate_assembly_design_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   --- look IS
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_connection_zone_based_model_extraction_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 connection zone based model extraction - EXPRESS ARM
*)

SCHEMA Ap210_connection_zone_based_model_extraction_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   --- look IS
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_functional_specification_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 functional specification - EXPRESS ARM
*)

SCHEMA Ap210_functional_specification_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Functional_specification_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_physical_unit_physical_characterization_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 physical unit physical characterization - EXPRESS ARM
*)

SCHEMA Ap210_physical_unit_physical_characterization_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Part_feature_grouping_arm;   
   USE FROM Characteristic_arm;
   -- look to IS what to add further
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_packaged_part_white_box_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 packaged part white box model - EXPRESS ARM
*)

SCHEMA Ap210_packaged_part_white_box_model_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;   
   USE FROM Packaged_part_white_box_model_arm;
   USE FROM Part_feature_grouping_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_printed_part_functional_and_physical_characterization_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 printed part functional and physical characterization - EXPRESS ARM
*)

SCHEMA Ap210_printed_part_functional_and_physical_characterization_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Physical_layout_template_arm;
   USE FROM Characteristic_arm;
   USE FROM Chemical_substance_arm;   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_functional_interface_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly functional interface requirements - EXPRESS ARM
*)

SCHEMA Ap210_assembly_functional_interface_requirements_arm;
   USE FROM Assembly_module_usage_view_arm;
   USE FROM Network_functional_usage_view_arm;
   USE FROM Assembly_physical_interface_requirement_arm;
   USE FROM Characteristic_arm;
(**    ... requirement_allocation   ?? *)
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_physical_interface_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly physical interface requirements - EXPRESS ARM
*)

SCHEMA Ap210_assembly_physical_interface_requirements_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Assembly_physical_requirement_allocation_arm;
   USE FROM Requirement_decomposition_arm;
   USE FROM Characteristic_arm;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_assembly_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 assembly requirement allocation - EXPRESS ARM
*)
SCHEMA Ap210_assembly_requirement_allocation_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   -- look to IS what to add further
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_interconnect_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 interconnect requirement allocation - EXPRESS ARM
*)

SCHEMA Ap210_interconnect_requirement_allocation_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Characteristic_arm;
   -- look to IS what to add further
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_functional_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 functional requirement allocation - EXPRESS ARM
*)

SCHEMA Ap210_functional_requirement_allocation_arm;
   USE FROM AP210_product_data_management_arm;
   USE FROM Functional_unit_requirement_allocation_arm;
   USE FROM Characteristic_arm;
   -- look to IS what to add further
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Plib_class_reference_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3239 - ISO/TS 10303-1291 Plib class reference - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2288
*) 


SCHEMA Plib_class_reference_arm; 


ENTITY Plib_class_reference;
  code : STRING;
  supplier_bsu : STRING;
  version : STRING;
END_ENTITY;

END_SCHEMA;  -- Plib_class_reference_arm




(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Geometric_tolerance_arm.exp
   ------------------------------------------------------------
*)

(*
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N2876 - ISO/TS 10303-1051 Geometric tolerance - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N1550
*) 


SCHEMA Geometric_tolerance_arm;

USE FROM Derived_shape_element_arm;    -- ISO/TS 10303-1130

USE FROM Elemental_geometric_shape_arm;    -- ISO/TS 10303-1004

USE FROM Measure_representation_arm;    -- ISO/TS 10303-1118

USE FROM Shape_property_assignment_arm;    -- ISO/TS 10303-1032

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


ENTITY Angularity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Circular_runout_tolerance
  SUBTYPE OF (Geometric_tolerance);
  angle : OPTIONAL REAL;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Coaxiality_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Common_datum
  SUBTYPE OF (Datum);
  made_up_by : SET[2:?] OF Single_datum;
END_ENTITY;

ENTITY Concentricity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Cylindricity_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Datum;
END_ENTITY;

ENTITY Datum_defined_by_derived_shape
  SUBTYPE OF (Derived_geometry, Single_datum);
END_ENTITY;

ENTITY Datum_defined_by_feature
  SUBTYPE OF (Single_datum);
  defined_by : Shape_element;
END_ENTITY;

ENTITY Datum_defined_by_targets
  SUBTYPE OF (Single_datum);
  defined_by : SET[1:?] OF Datum_target;
  rule_description : STRING;
END_ENTITY;

ENTITY Datum_reference;
  precedence : INTEGER;
  referenced_datum : Datum;
END_ENTITY;

ENTITY Datum_target;
  id : STRING;
END_ENTITY;

ENTITY Flatness_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Geometric_tolerance
  ABSTRACT SUPERTYPE OF (ONEOF (Angularity_tolerance,
                                Circular_runout_tolerance,
                                Coaxiality_tolerance,
                                Concentricity_tolerance,
                                Cylindricity_tolerance,
                                Flatness_tolerance,
                                Line_profile_tolerance,
                                Parallelism_tolerance,
                                Perpendicularity_tolerance,
                                Position_tolerance,
                                Roundness_tolerance,
                                Straightness_tolerance,
                                Surface_profile_tolerance,
                                Symmetry_tolerance,
                                Total_runout_tolerance));
  name : OPTIONAL STRING;
  applied_to : Shape_element;
  modification : OPTIONAL Tolerance_condition;
  qualifying_note : OPTIONAL STRING;
  segment_size : OPTIONAL Value_with_unit;
  significant_digits : OPTIONAL INTEGER;
  tolerance_value : Value_with_unit;
  value_determination : OPTIONAL STRING;
WHERE
  WR1: (NOT (EXISTS(segment_size))) OR ('GEOMETRIC_TOLERANCE_ARM.LENGTH_MEASURE' IN TYPEOF(segment_size.value_component));
  WR2: (NOT (EXISTS(tolerance_value))) OR ('GEOMETRIC_TOLERANCE_ARM.LENGTH_MEASURE' IN TYPEOF(tolerance_value.value_component));
  WR3: (NOT (EXISTS(significant_digits))) OR (significant_digits > 0);
END_ENTITY;

ENTITY Geometric_tolerance_relationship;
  relation_type : STRING;
  relating : Geometric_tolerance;
  related : Geometric_tolerance;
END_ENTITY;

ENTITY Line_profile_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Parallelism_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Perpendicularity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:3] OF Datum_reference;
END_ENTITY;

ENTITY Placed_target
  ABSTRACT SUPERTYPE OF (ONEOF (Target_circle,
                                Target_point,
                                Target_rectangle,
                                Target_straight_line))
  SUBTYPE OF (Datum_target);
  defined_in : Geometric_coordinate_space;
  parameter_reference : Axis_placement;
END_ENTITY;

ENTITY Position_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Projection
  SUBTYPE OF (Tolerance_zone_definition);
  projection_end : Shape_element;
  projection_length : Value_with_unit;
END_ENTITY;

ENTITY Roundness_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Single_datum
  SUBTYPE OF (Datum);
  datum_name : STRING;
  modification : OPTIONAL Tolerance_condition;
END_ENTITY;

ENTITY Straightness_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
END_ENTITY;

ENTITY Surface_profile_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Symmetry_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:3] OF Datum_reference;
END_ENTITY;

ENTITY Target_area
  SUBTYPE OF (Datum_target);
END_ENTITY;

ENTITY Target_circle
  SUBTYPE OF (Placed_target);
  diameter : Numerical_item_with_unit;
END_ENTITY;

ENTITY Target_point
  SUBTYPE OF (Placed_target);
END_ENTITY;

ENTITY Target_rectangle
  SUBTYPE OF (Placed_target);
  target_length : Numerical_item_with_unit;
  target_width : Numerical_item_with_unit;
END_ENTITY;

ENTITY Target_straight_line
  SUBTYPE OF (Placed_target);
END_ENTITY;

ENTITY Tolerance_condition;
  condition : STRING;
END_ENTITY;

ENTITY Tolerance_zone;
  form_type : STRING;
  zone_for : SET[1:?] OF Geometric_tolerance;
END_ENTITY;

ENTITY Tolerance_zone_definition;
  defining : Tolerance_zone;
  first_element : Shape_element;
  second_element : OPTIONAL Shape_element;
END_ENTITY;

ENTITY Total_runout_tolerance
  SUBTYPE OF (Geometric_tolerance);
  angle : REAL;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

END_SCHEMA;  -- Geometric_tolerance_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Model_parameter_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Model parameter - EXPRESS ARM
*)

SCHEMA Model_parameter_arm;

USE FROM Classification_with_attributes_arm;

USE FROM Independent_property_arm;

USE FROM Independent_property_representation_arm;

USE FROM Product_identification_arm;

USE FROM Document_assignment_arm;

USE FROM Document_definition_arm;

USE FROM Characteristic_arm;

	TYPE mp_documented_element_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON documented_element_select WITH 
	   (Model_parameter);
	END_TYPE; 

  ENTITY Category_model_parameter
    SUBTYPE OF (Model_parameter, classification_attribute);
  END_ENTITY; -- category_model_parameter

  ENTITY Model_parameter
   SUBTYPE OF (Independent_property);
      unit_of_measure    : OPTIONAL Unit; -- STRING
      valid_range        : OPTIONAL SET[1:?] OF Value_range; --coordinated_characteristic; 
      default_value      : OPTIONAL scalar_or_coordinated_characteristics;
    INVERSE
	  reference_document : document_assignment FOR is_assigned_to;    	
  END_ENTITY; -- model_parameter

  ENTITY Parameter_assignment
    SUBTYPE OF (Independent_property_representation);
   (** We may need further specification here *)
--      SELF\independent_property_relationship.relating    	
--	parameter_value: scalar_or_coordinated_characteristics;
      SELF\independent_property_representation.property: model_parameter;
--	assigned_parameter: model_parameter;
  END_ENTITY; -- parameter_assignment

  ENTITY Parameter_assignment_override;
      overridden_parameter_assignment : parameter_assignment;
      overriding_parameter_assignment : parameter_assignment;
  END_ENTITY; -- parameter_assignment_override

  ENTITY Schema_based_model_parameter
    SUBTYPE OF (Model_parameter);
      entity_name    : STRING;
      attribute_name : OPTIONAL STRING;
      SELF\Independent_property.property_type RENAMED schema_identifier : STRING;
    UNIQUE
      UR1 : entity_name,
 attribute_name,
 schema_identifier;
  END_ENTITY; -- schema_based_model_parameter

  ENTITY Product_specific_parameter_value_assignment;
      of_product         : product;
      assigned_parameter : parameter_assignment;
    DERIVE
      the_model_parameter : model_parameter := assigned_parameter.assigned_parameter;
    UNIQUE
      UR1 : the_model_parameter,
 of_product;
  END_ENTITY; -- ee_product_specific_parameter_value_assignment


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Dimension_tolerance_arm.exp
   ------------------------------------------------------------
*)

(*
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N2873 - ISO/TS 10303-1050 Dimension tolerance - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N1547
*) 


SCHEMA Dimension_tolerance_arm;

USE FROM Construction_geometry_arm;    -- ISO/TS 10303-1131

USE FROM Derived_shape_element_arm;    -- ISO/TS 10303-1130

USE FROM Document_assignment_arm;    -- ISO/TS 10303-1122

USE FROM Elemental_geometric_shape_arm;    -- ISO/TS 10303-1004

USE FROM Extended_measure_representation_arm;    -- ISO/TS 10303-1106

USE FROM Measure_representation_arm;    -- ISO/TS 10303-1118

USE FROM Shape_property_assignment_arm;    -- ISO/TS 10303-1032

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


TYPE dimension_tolerance_document_element_select = EXTENSIBLE SELECT BASED_ON documented_element_select WITH 
   (Externally_defined_size_dimension);
END_TYPE; 

TYPE dimension_value_select = SELECT
   (Dimension_value_with_limitation, 
    Numerical_item_with_unit, 
    Tolerance_range, 
    Value_limit);
END_TYPE; 

TYPE element_with_dimension_select = EXTENSIBLE GENERIC_ENTITY SELECT
   (Shape_element);
END_TYPE; 

TYPE limitation_definition_select = SELECT
   (Limits_and_fits, 
    Plus_minus_bounds);
END_TYPE; 

TYPE placed_element_select = EXTENSIBLE SELECT
   (constructive_element_select, 
    Derived_geometry, 
    element_with_dimension_select);
END_TYPE; 

ENTITY Angular_location_dimension
  SUBTYPE OF (Location_dimension);
  orientation : Axis_placement;
END_ENTITY;

ENTITY Angular_size_dimension
  SUBTYPE OF (Size_dimension);
  full : BOOLEAN;
  major_angle : BOOLEAN;
END_ENTITY;

ENTITY Curved_distance_dimension
  SUBTYPE OF (Location_dimension);
  used_path : Measurement_path;
END_ENTITY;

ENTITY Curved_size_dimension
  SUBTYPE OF (Size_dimension);
END_ENTITY;

ENTITY Diameter_size_dimension
  SUBTYPE OF (Size_dimension);
END_ENTITY;

ENTITY Dimension_value_with_limitation;
  defined_by : limitation_definition_select;
  limited_value : Numerical_item_with_unit;
END_ENTITY;

ENTITY Externally_defined_size_dimension
  SUBTYPE OF (Size_dimension);
  name : STRING;
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Geometric_dimension
  ABSTRACT SUPERTYPE OF (ONEOF (Location_dimension,
                                Size_dimension));
  id : STRING;
  dimension_value : dimension_value_select;
  notes : SET[0:?] OF STRING;
END_ENTITY;

ENTITY Height_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Length_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Limits_and_fits;
  deviation : STRING;
  fitting_type : OPTIONAL STRING;
  grade : STRING;
END_ENTITY;

ENTITY Linear_distance_dimension
  SUBTYPE OF (Location_dimension);
  orientation : OPTIONAL Axis_placement;
END_ENTITY;

ENTITY Location_dimension
  ABSTRACT SUPERTYPE OF (ONEOF (Angular_location_dimension,
                                Curved_distance_dimension,
                                Linear_distance_dimension))
  SUBTYPE OF (Geometric_dimension);
  description : OPTIONAL STRING;
  directed : OPTIONAL BOOLEAN;
  origin : placed_element_select;
  target : placed_element_select;
END_ENTITY;

ENTITY Plus_minus_bounds;
  lower_bound : Value_with_unit;
  significant_digits : OPTIONAL INTEGER;
  upper_bound : Value_with_unit;
  value_determination : OPTIONAL STRING;
END_ENTITY;

ENTITY Radial_size_dimension
  SUBTYPE OF (Size_dimension);
  radius_type : STRING;
END_ENTITY;

ENTITY Size_dimension
  ABSTRACT SUPERTYPE OF (ONEOF (Angular_size_dimension,
                                Curved_size_dimension,
                                Diameter_size_dimension,
                                Externally_defined_size_dimension,
                                Height_size_dimension,
                                Length_size_dimension,
                                Radial_size_dimension,
                                Thickness_size_dimension,
                                Width_size_dimension))
  SUBTYPE OF (Geometric_dimension);
  envelope_principle : OPTIONAL BOOLEAN;
  is_applied_to : element_with_dimension_select;
END_ENTITY;

ENTITY Thickness_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Tolerance_range;
  lower_range : Numerical_item_with_unit;
  significant_digits : OPTIONAL INTEGER;
  upper_range : Numerical_item_with_unit;
END_ENTITY;

ENTITY Width_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

END_SCHEMA;  -- Dimension_tolerance_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Alias_identification_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1120 - ISO/TS 10303-1025 Alias identification - EXPRESS ARM
*)
   
SCHEMA Alias_identification_arm;

   
USE FROM Identification_assignment_arm; -- ISO/TS 10303-1021

   
TYPE alias_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE;

   
ENTITY Alias_identification
  SUBTYPE OF (Identification_assignment);
DERIVE
  SELF\Identification_assignment.role: STRING :='alias';
WHERE
WR1: SIZEOF (QUERY( item <* SELF\Identification_assignment.items |
NOT ('ALIAS_IDENTIFICATION_ARM.ALIAS_IDENTIFICATION_ITEM' IN TYPEOF(item) ) )) = 0;
END_ENTITY;
  
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Chemical_substance_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Chemical substance - EXPRESS ARM
*)

(** chemical elements and compositions
This part of ISO 10303 specifies an application module for the representation ... 
... of substances such as chemical elements, chemical compounds and their composition.
A Make_from_relationship may be used to relate
Substance_view_definition to other kinds of Product_view_definition.
*)
SCHEMA Chemical_substance_arm;   
 
USE FROM Value_with_unit_arm;

USE FROM Person_organization_assignment_arm;

USE FROM Product_view_definition_relationship_arm;

USE FROM Part_view_definition_arm;

REFERENCE FROM Product_identification_arm    --  ISO/TS 10303-1017 
  (types_of_product);  
 
 
CONSTANT 
 
  -- normative reference: ISO 31-9, Annex A 
  -- posistion is identical to Atomic number 
  chemical_elements : LIST OF STRING := [
      'HYDROGEN', -- 1 
      'HELIUM', -- 2 
 
      'LITHIUM', -- 3 
      'BERYLLIUM', -- 4 
      'BORON', -- 5 
      'CARBON', -- 6 
      'NITROGEN', -- 7 
      'OXYGEN', -- 8 
      'FLUORINE', -- 9 
      'NEON', -- 10 
       
      'SODIUM', -- 11 
      'MAGNESIUM', -- 12 
      'ALUMINIUM', -- 13 
      'SILICON', -- 14 
      'PHOSPHORUS', -- 15 
      'SULPHUR', -- 16 
      'CHLORINE', -- 17 
      'ARGON', -- 18 
       
      'POTASSIUM', -- 19 
      'CALCIUM', -- 20 
      'SCANDIUM', -- 21 
      'TITANIUM', -- 22 
      'VANADIUM', -- 23 
      'CHROMIUM', -- 24 
      'MANGANESE', -- 25 
      'IRON', -- 26 
      'COBALT', -- 27 
      'NICKEL', -- 28 
      'COPPER', -- 29 
      'ZINC', -- 30 
      'GALLIUM', -- 31 
      'GERMANIUM', -- 32 
      'ARSENIC', -- 33 
      'SELENIUM', -- 34 
      'BROMINE', -- 35 
      'KRYPTON', -- 36 
 
      'RUBIDIUM', -- 37 
      'STRONTIUM', -- 38 
      'YTTRIUM', -- 39 
      'ZIRCONIUM', -- 40 
      'NIOBIUM', -- 41 
      'MOLYBDENUM', -- 42 
      'TECHNETIUM', -- 43 
      'RUTHENIUM', -- 44 
      'RHODIUM', -- 45 
      'PALLADIUM', -- 46 
      'SILVER', -- 47 
      'CADMIUM', -- 48 
      'INDIUM', -- 49 
      'TIN', -- 50 
      'ANTIMONY', -- 51 
      'TELLURIUM', -- 52 
      'IODINE', -- 53 
      'XENON', -- 54 
       
      'CAESIUM', -- 55 
      'BARIUM', -- 56 
      'LANTHANUM', -- 57 
      'CERIUM', -- 58 
      'PRASEODYMIUM', -- 59 
      'NEODYMIUM', -- 60 
      'PROMETHIUM', -- 61 
      'SAMARIUM', -- 62 
      'EUROPIUM', -- 63
      'GADOLINIUM', -- 64 
      'TERBIUM', -- 65 
      'DYSPROSIUM', -- 66 
      'HOLMIUM', -- 67 
      'ERBIUM', -- 68 
       
      'THULIUM', -- 69 
      'YTTERBIUM', -- 70 
      'LUTETIUM', -- 71 
      'HAFNIUM', -- 72 
      'TANTALUM', -- 73 
      'TUNGSTEN', -- 74 
      'RHENIUM', -- 75 
      'OSMIUM', -- 76 
      'IRIDIUM', -- 77 
      'PLATINUM', -- 78 
      'GOLD', -- 79 
      'MERCURY', -- 80 
      'THALLIUM', -- 81 
      'LEAD', -- 82 
      'BISMUTH', -- 83 
      'POLONIUM', -- 84 
      'ASTATINE', -- 85 
      'RADON', -- 86 
      'FRANCIUM', -- 87 
      'RADIUM', -- 88 
      'ACTINIUM', -- 89 
      'THORIUM', -- 90 
      'PROTACTINIUM', -- 91 
      'URANIUM', -- 92 
      'NEPTUNIUM', -- 93 
      'PLUTONIUM', -- 94 
      'AMERICIUM', -- 95 
      'CURIUM', -- 96 
      'BERKELIUM', -- 97 
      'CALIFORNIUM', -- 98 
      'EINSTEINIUM', -- 99 
      'FERMIUM', -- 100 
      'MENDELEVIUM', -- 101 
      'NOBELIUM', -- 102 
      'LAWRENCIUM', -- 103 
      'RUTHERFORDIUM', -- 104 
      'DUBNIUM', -- 105 
      'SEABORGIUM', -- 106 
      'BOHRIUM', -- 107 
      'HASSIUM', -- 108 
      'MEITNERIUM', -- 109 
      'DARMSTADTIUM', -- 110
      'ROENTGENIUM']; -- 111
  END_CONSTANT; 

  TYPE substance_composition_basis = EXTENSIBLE ENUMERATION OF ( 
       VOLUME, 
       WEIGHT,
       MASS, 
       MOLES, 
       ATOMS);      
  END_TYPE; 
 
(** 
A chemical compound is a substance formed from two or more chemical elements, with a fixed ratio determining the composition.  
 
Example: Dihydrogen monoxide (water, H2O) is a compound composed of two hydrogen atoms for every oxygen atom. 
 
Note 1: In general, this fixed ratio must be fixed due to some sort of physical property, rather than an arbitrary man-made selection. This is why materials such as brass, the superconductor YBCO, the semiconductor aluminium gallium arsenide, or chocolate are considered mixtures or alloys rather than compounds. 
 
A defining characteristic of a compound is that it has a chemical formula. Formulas describe the ratio of atoms in a substance, and the number of atoms in a single molecule of the substance (thus the formula for ethene is C2H4 rather than CH2). The formula does not indicate that a compound is composed of molecules; for example, sodium chloride (table salt, NaCl) is an ionic compound.   
 
Note 2: The representation of the chemical formula is outside the scope of this part of ISO 10303. 
 
If available the CAS registry number shall be used for the id. In this case an organization instance with the name 'Chemical Abstracts Service' shall be used as id-owner. 
 
Example 2: The CAS number of water is "7732-18-5". 
 
*)   
 
  ENTITY Chemical_compound 
    SUBTYPE OF (Substance); 
  WHERE 
     WR1: SIZEOF([ 'chemical compound' ] * types_of_product(SELF))= 1 ; 
     WR2: SIZEOF(QUERY(t <* SELF\organization_or_person_in_organization_assignment. items | t.role = 'id owner') = 1); 
  END_ENTITY; 
   
  ENTITY Chemical_element 
    SUBTYPE OF (Substance); 
  WHERE 
     wr1: SIZEOF([ 'chemical element' ] * types_of_product(SELF))= 1 ; 
     wr2: SELF/product.name in chemical_elements; 
  END_ENTITY; 
   
 
(** A Physical_particle is a kind of substance from physics covering
 radiation and all kinds of subatomic and elementary particles.

 Example: electron, proton, photon and alpha particle are examples of Elementary_particle
*)
  ENTITY Physical_particle
    SUBTYPE OF (Substance);
  WHERE 
     WR1: SIZEOF([ 'physical particle' ] * types_of_product(SELF))= 1 ;
  END_ENTITY;

   ENTITY Raw_material_definition_relationship
      SUBTYPE OF (View_definition_relationship);
     		SELF\View_definition_relationship.related_view RENAMED application : Part_view_definition;
     		SELF\View_definition_relationship.relating_view RENAMED definition : Substance_view_definition;  
   END_ENTITY;
   
  ENTITY Substance
    SUPERTYPE OF (ONEOF(Chemical_element, Chemical_compound, Physical_particle))
    SUBTYPE OF (Product);    
  WHERE 
     wr1: SIZEOF([ 'substance' ] * types_of_product(SELF))= 1 ; 
  END_ENTITY; 
   
  ENTITY Substance_composition_relationship 
    SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.related_view RENAMED constituent                : Substance_view_definition; 
      SELF\View_definition_relationship.relating_view RENAMED whole                     : Substance_view_definition; 
      composition_basis : Substance_composition_basis;
      determination_method : STRING; 
      amount : Value_with_unit; 
      (** unit shall be ratio, representing the fraction of 
  WHERE 
       WR1: ; --  unit shall be ratio *)
  END_ENTITY; 

  ENTITY Substance_version 
    SUBTYPE OF (Product_version); 
    SELF\Product_version.of_product : Substance; 
  END_ENTITY; 
 
  
  ENTITY Substance_view_definition 
    SUBTYPE OF (Product_view_definition); 
    SELF\Product_view_definition.defined_version : Substance_version; 
  END_ENTITY; 
 
END_SCHEMA; 


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_2d_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit 2d design view - EXPRESS ARM
*)

SCHEMA Physical_unit_2d_design_view_arm;

USE FROM Assembly_module_with_interconnect_component_arm;
  
USE FROM Physical_unit_design_view_arm;  

USE FROM Layered_2d_shape_representation_relationship_arm;

 	TYPE conductive_interconnect_terminal_or_interconnect_component_join_terminal = SELECT
 		(interconnect_component_interface_terminal,
     	interconnect_component_join_terminal,
     	movable_packaged_component_join_terminal);
	END_TYPE;

  ENTITY Assembly_component_2d_shape
    SUBTYPE OF (planar_projected_shape);
      shape_characterized_component : SET[1:?] OF assembly_component;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- assembly_component_2d_shape

  ENTITY Component_2d_location;
        placement_fixed 				: BOOLEAN;
      transformation  					: cartesian_transformation_2d;
    -- Add attributes from original component_assembly_2d_position as discussed on SEDS-1227
      component_model        		: assembly_component_2d_shape;
      assembly_model         		: physical_unit_planar_shape;
      component									: next_assembly_usage;
			DERIVE
    		substrate_location   : BOOLEAN := substrate_in_assembly(SELF);
    		the_context : geometric_coordinate_space :=
				assembly_model\geometric_model\representation.context_of_items;
			WHERE
 				WR1: NOT('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(component.relating_view)) OR (transformation.mirror = FALSE);
 				WR2: NOT(substrate_location) OR (transformation.mirror = FALSE);
 				WR3: (transformation.scale - 1.0) < 0.001 ;
  END_ENTITY; -- component_2d_location

  ENTITY Component_part_2d_geometric_representation_relationship
    SUBTYPE OF (Geometric_model_relationship);
    	SELF\Geometric_model_relationship.rep_1 RENAMED part_shape  : part_template_or_physical_unit_2d_shape_select;
    	SELF\Geometric_model_relationship.rep_2 RENAMED component_shape : assembly_component_2d_shape;
  END_ENTITY; -- component_part_2d_geometric_representation_relationship

  ENTITY Design_view_terminal_component_shape_relationship;
      associating_component_shape          : feature_shape_definition;
      associated_usage                     : conductive_interconnect_terminal_or_interconnect_component_join_terminal;
      associated_terminal_shape_definition : feature_shape_definition;
      associated_usage_placement           : axis_placement;--
  END_ENTITY; -- design_view_terminal_component_shape_relationship

  FUNCTION substrate_in_assembly(
    c2dl : component_2d_location
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION; -- substrate_in_assembly

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_3d_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit 3d design view - EXPRESS ARM
*)

SCHEMA Physical_unit_3d_design_view_arm;
  
USE FROM Physical_unit_design_view_arm;  

USE FROM Layered_3d_shape_representation_relationship_arm;
  
  ENTITY Assembly_component_3d_shape
    SUBTYPE OF (Feature_shape_definition);
      shape_characterized_component : SET[1:?] OF assembly_component;
  END_ENTITY; -- assembly_component_3d_shape

  ENTITY Component_3d_location;
      transformation  : axis_placement_3d;
      placement_fixed	: BOOLEAN;
    -- Add attributes from original component_assembly_2d_position as discussed on SEDS-1227
      component_model	: assembly_component_3d_shape;
      assembly_model  : physical_unit_3d_shape;
      component       : next_assembly_usage;
  END_ENTITY; -- component_3d_location

  ENTITY Component_part_3d_geometric_representation_relationship
    SUBTYPE OF (Geometric_model_relationship);
		SELF\Geometric_model_relationship.rep_1 RENAMED part_shape      : part_template_or_physical_unit_3d_shape_select;
	    SELF\Geometric_model_relationship.rep_2 RENAMED component_shape : assembly_component_3d_shape;
  END_ENTITY; -- component_part_3d_geometric_representation_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_non_planar_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit non planar design view - EXPRESS ARM
*)

SCHEMA Physical_unit_non_planar_design_view_arm;
  
USE FROM Physical_unit_design_view_arm;  

USE FROM Layered_shape_arm;

USE FROM Manifold_subsurface_arm;

  ENTITY Assembly_component_non_planar_shape
    SUBTYPE OF (Manifold_subsurface_shape,
 feature_shape_definition);
      shape_characterized_component : SET[1:?] OF assembly_component;
  END_ENTITY; -- assembly_component_non_planar_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_macro_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with macro component - EXPRESS ARM
*)

SCHEMA Assembly_module_with_macro_component_arm;

USE FROM Assembly_module_macro_definition_arm;

--USE FROM Physical_unit_design_view_arm;

USE FROM Assembly_module_with_subassembly_arm;

  ENTITY Assembly_module_macro_component
    SUBTYPE OF (Assembly_module_component);
      design_definition : assembly_module;
    INVERSE
      join_access_mechanisms : SET[1:?] OF assembly_module_macro_component_join_terminal FOR associated_component;
    WHERE
      WR1 : SIZEOF(QUERY(ammcjt <* join_access_mechanisms | ammcjt\component_feature.definition\shape_element.containing_shape :<>: design_definition\part_design_view.usage_view)) = 0;
  END_ENTITY; -- assembly_module_macro_component

  ENTITY Assembly_module_macro_component_join_terminal
    SUBTYPE OF (Assembly_module_component_terminal);
      SELF\component_feature.definition           : assembly_module_join_terminal;
      SELF\component_feature.associated_component : assembly_module_macro_component;
  END_ENTITY; -- assembly_module_macro_component_join_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_cable_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with cable component - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_module_with_cable_component_arm;
 
 USE FROM Assembly_module_with_packaged_connector_component_arm;
 
 USE FROM Cable_arm;

	SUBTYPE_CONSTRAINT part_terminal_subtypes FOR part_terminal; 
		ONEOF (minimally_defined_bare_die_terminal,
		 assembly_module_terminal,
		 cable_terminal,
		 packaged_part_terminal);
	END_SUBTYPE_CONSTRAINT;

  ENTITY Cable_component
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : cable_usage_view;
  END_ENTITY; -- cable_component

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_module_with_macros_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect module with macros - EXPRESS ARM
*)

SCHEMA Interconnect_module_with_macros_arm;

USE FROM Assembly_module_with_interconnect_component_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Component_feature_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Interconnect_module_usage_view_arm;

  ENTITY Interconnect_module_macro_component
    SUBTYPE OF (Interconnect_module_component);
      design_definition : interconnect_module;
    INVERSE
      join_access_mechanisms : SET[1:?] OF interconnect_module_macro_component_join_terminal FOR associated_component;
    WHERE
      WR1 : SIZEOF(QUERY(immcjt <* join_access_mechanisms | immcjt\component_feature.definition\shape_element.containing_shape :<>: design_definition\part_design_view.usage_view)) = 0;
  END_ENTITY; -- interconnect_module_macro_component

  ENTITY Interconnect_module_macro_component_join_terminal
    SUBTYPE OF (Interconnect_module_component_terminal);
      SELF\component_feature.definition           : interconnect_module_join_terminal;
      SELF\component_feature.associated_component : interconnect_module_macro_component;
  END_ENTITY; -- interconnect_module_macro_component_join_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_interconnect_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with interconnect component - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_module_with_interconnect_component_arm;

USE FROM Assembly_module_design_arm;

USE FROM Part_occurrence_arm;

USE FROM Interconnect_module_usage_view_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Interface_component_arm;

 	TYPE amwic_assembled_feature_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON assembled_feature_select WITH   
    (interconnect_component_join_terminal,
     interconnect_component_interface_terminal,
     interconnect_module_component_surface_feature,
     interconnect_module_component_terminal);
  END_TYPE; -- ap210_assembled_feature_select


  ENTITY Interconnect_component_interface_terminal
    SUBTYPE OF (Component_interface_terminal);
      connection : OPTIONAL connection_zone_in_design_view;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 SELF\component_feature.associated_component;
  END_ENTITY; -- interconnect_component_interface_terminal

  ENTITY Interconnect_component_join_terminal
    SUBTYPE OF (physical_component_terminal);
      connection                                  : OPTIONAL connection_zone_in_design_view;
      SELF\component_feature.associated_component : physical_component;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 SELF\component_feature.associated_component;
  END_ENTITY; -- interconnect_component_join_terminal

  ENTITY Interconnect_module_component
--    SUPERTYPE OF (interconnect_module_macro_component)
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : interconnect_module_usage_view;
  END_ENTITY; -- interconnect_module_component

  ENTITY Interconnect_module_component_surface_feature
    SUBTYPE OF (physical_component_feature);
      SELF\component_feature.definition : interconnect_module_surface_feature;
  END_ENTITY; -- interconnect_module_component_surface_feature

  ENTITY Interconnect_module_component_terminal
--    SUPERTYPE OF ((interconnect_module_component_stratum_based_terminal) ANDOR
-- (interconnect_module_macro_component_join_terminal))
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition           : interconnect_module_terminal;
      SELF\component_feature.associated_component : interconnect_module_component;
  END_ENTITY; -- interconnect_module_component_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_packaged_connector_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with packaged connector component - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_module_with_packaged_connector_component_arm;

USE FROM Packaged_connector_model_arm;

USE FROM Interface_component_arm;

USE FROM Assembly_module_design_arm;

 	TYPE amwpcc_assembled_feature_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON assembled_feature_select WITH   
    (Packaged_connector_component,
    Packaged_connector_component_interface_terminal);
  END_TYPE; -- ap210_assembled_feature_select

  ENTITY Interface_mounted_join;
      connection_to_interconnect_module_component : packaged_connector_component_interface_terminal;
      access_to_interface_mounted_component       : physical_component_terminal;
  END_ENTITY; -- interface_mounted_join

  ENTITY Packaged_connector_component
    SUBTYPE OF (Interface_component,
 packaged_component);
      SELF\definition_based_product_occurrence.derived_from : packaged_connector;
    INVERSE
      interface_access_mechanism : SET[1:?] OF packaged_connector_component_interface_terminal FOR associated_component;
  END_ENTITY; -- packaged_connector_component

  ENTITY Packaged_connector_component_interface_terminal
    SUBTYPE OF (Component_interface_terminal);
      SELF\component_feature.definition           : packaged_part_interface_terminal;
      SELF\component_feature.associated_component : packaged_connector_component;
  END_ENTITY; -- packaged_connector_component_interface_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_subassembly_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with subassembly - EXPRESS ARM
*)
SCHEMA Assembly_module_with_subassembly_arm;

USE FROM Assembly_module_design_arm;

USE FROM Physical_component_feature_arm;

 	TYPE amws_assembled_feature_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON assembled_feature_select WITH   
    (assembly_module_component_terminal);
  END_TYPE; -- ap210_assembled_feature_select

  ENTITY Assembly_module_component
--    SUPERTYPE OF (assembly_module_macro_component)
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : assembly_module_usage_view;
    INVERSE
      access_mechanisms : SET[2:?] OF assembly_module_component_terminal FOR associated_component;
  END_ENTITY; -- assembly_module_component

  ENTITY Assembly_module_component_terminal
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition           : assembly_module_terminal;
      SELF\component_feature.associated_component : assembly_module_component;
  END_ENTITY; -- assembly_module_component_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Cable_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Cable - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Cable_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Part_terminal_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Item_definition_structure_arm;

USE FROM Assembly_module_with_packaged_connector_component_arm;

USE FROM Component_feature_arm;

USE FROM Part_occurrence_arm;

  ENTITY Cable_terminal
    SUBTYPE OF (part_terminal);
      SELF\part_feature.associated_definition : cable_usage_view;
      mapped_terminal                         : packaged_connector_component_interface_terminal;
      terminal_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
    WHERE
      WR1 : SIZEOF(mapped_terminal\component_feature.associated_component\definition_based_product_occurrence.occurrence_contexts) <> 0;
      WR2 : SELF\shape_element.containing_shape :=: mapped_terminal\component_feature.associated_component\definition_based_product_occurrence.occurrence_contexts[1].related_view;
  END_ENTITY; -- cable_terminal

  ENTITY Cable_usage_view
    SUBTYPE OF (Part_usage_view, Assembly_definition);
    INVERSE
      access_mechanisms : SET[1:?] OF cable_terminal FOR associated_definition;
  END_ENTITY; -- cable_usage_view

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Basic_geometry_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Basic geometry - EXPRESS ARM
*)

SCHEMA Basic_geometry_arm;

USE FROM Elemental_geometric_shape_arm;

		TYPE constructive_element_select = EXTENSIBLE GENERIC_ENTITY SELECT 
		   (Axis_placement,  
		    Curve,  
		    point_select,  
		    Surface); 
		END_TYPE; 

     TYPE point_select = EXTENSIBLE GENERIC_ENTITY SELECT
        (Cartesian_point, 
         Point_on_curve, 
         Point_on_surface);
     END_TYPE; 
     
     ENTITY Curve
       SUBTYPE OF (Detailed_geometric_model_element);
     END_ENTITY;
     
     ENTITY Line
       SUBTYPE OF (Curve);
     END_ENTITY;
     
     ENTITY Plane
       SUBTYPE OF (Surface);
     END_ENTITY;
     
     ENTITY Point_on_curve
       SUBTYPE OF (Detailed_geometric_model_element);
       supporting_curve : Curve;
     END_ENTITY;
     
     ENTITY Point_on_surface
       SUBTYPE OF (Detailed_geometric_model_element);
       supporting_surface : Surface;
     END_ENTITY;
     
     ENTITY Surface
       SUBTYPE OF (Detailed_geometric_model_element);
     END_ENTITY;
     
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Basic_curve_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Basic curve - EXPRESS ARM
*)

SCHEMA Basic_curve_arm;

USE FROM Basic_geometry_arm;

USE FROM External_item_identification_assignment_arm;	

 	TYPE bc_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Boundary_curve);
	END_TYPE;

	ENTITY Boundary_curve
	  SUBTYPE OF (trimmed_curve);
	    basis_curve				: trimmed_curve;
    INVERSE
      mapping_function	: External_source_identification FOR item;
	WHERE
	 WR1: NOT('AP210_ARM.BOUNDARY_CURVE' IN TYPEOF(basis_curve));    
	 WR2: NOT('AP210_ARM.CLOSED_CURVE' IN TYPEOF(SELF));  
	 WR3: NOT('AP210_ARM.COMPOSITE_CURVE' IN TYPEOF(basis_curve));  
	 WR4: NOT('AP210_ARM.CLOSED_CURVE' IN TYPEOF(basis_curve));  
	END_ENTITY; -- boundary_curve

  ENTITY Closed_curve
    SUBTYPE OF (Curve);
  END_ENTITY; -- closed_curve

  ENTITY Composite_curve
    SUBTYPE OF (Curve);
      curve_segment : LIST[1:?] OF UNIQUE composite_curve_segment;
  END_ENTITY; -- composite_curve

  ENTITY Composite_curve_segment;
      segment_curve : curve;
    INVERSE
      using_curves : SET[1:?] OF composite_curve FOR curve_segment;
  END_ENTITY; -- composite_curve_segment

(* this entity defined also in construction_geometry_arm
	ENTITY Measurement_path;
	          defined_by : curve;
	          defined_in : geometric_coordinate_space;
	END_ENTITY; -- Measurement_path
*)
	ENTITY Trimmed_curve
	  SUPERTYPE OF (boundary_curve)
	  SUBTYPE OF (Curve);
	    start_point : cartesian_point;
	    end_point : cartesian_point;
	END_ENTITY; -- trimmed_curve

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Area_2d_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Area 2d - EXPRESS ARM
*)

SCHEMA Area_2d_arm;

USE FROM Basic_geometry_arm;

USE FROM Layered_2d_shape_arm;
	
USE FROM Value_with_unit_extension_arm;

  ENTITY Circular_area
    SUBTYPE OF (primitive_2d);
      centre : cartesian_point;
      radius : length_data_element;
  END_ENTITY; -- circular_area

  ENTITY Elliptic_area
    SUBTYPE OF (primitive_2d);
      position    : axis_placement_2d;
      semi_axis_1 : length_data_element;
      semi_axis_2 : length_data_element;
  END_ENTITY; -- elliptic_area

  ENTITY Polygonal_area
    SUBTYPE OF (primitive_2d);
      bounds : LIST[3:?] OF UNIQUE cartesian_point;
  END_ENTITY; -- polygonal_area

  ENTITY Primitive_2d
    ABSTRACT SUPERTYPE OF (ONEOF (circular_area,
 elliptic_area,
 rectangular_area,
 polygonal_area))
    SUBTYPE OF (Detailed_geometric_model_element);
  END_ENTITY; -- primitive_2d

  ENTITY Rectangular_area
    SUBTYPE OF (primitive_2d);
      position : axis_placement_2d;
      x        : length_data_element;
      y        : length_data_element;
  END_ENTITY; -- rectangular_area

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Fill_area_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Fill area - EXPRESS ARM
*)

SCHEMA Fill_area_arm;

USE FROM Basic_curve_arm;

USE FROM Styled_curve_arm;
	
USE FROM Value_with_unit_extension_arm;

USE FROM Layered_shape_arm; (** Layered_shape_arm is referenced just for the vector *)

	TYPE fa_styled_area_representation = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON styled_area_representation WITH 
		(fill_area_occurrence);
	END_TYPE;


  TYPE fill_area_style_tile_shape_select = SELECT
    (externally_defined_tile,
     fill_area_style_tile_symbol_with_style,
     fill_area_style_tile_solid_region,
     fill_area_style_tile_curve_with_style);
  END_TYPE; -- fill_area_style_tile_shape_select

  TYPE fill_style_select = SELECT
    (solid_fill_style,
     fill_area_style_tile,
     externally_defined_tile_style,
     externally_defined_hatch_style,
     fill_area_style_hatching);
  END_TYPE; -- fill_style_select

  ENTITY Externally_defined_hatch_style;
  END_ENTITY; -- externally_defined_hatch_style

  ENTITY Externally_defined_tile;
  END_ENTITY; -- externally_defined_tile

  ENTITY Externally_defined_tile_style;
  END_ENTITY; -- externally_defined_tile_style

  ENTITY Fill_area;
      boundaries : SET[1:?] OF closed_curve;
  END_ENTITY; -- fill_area

  ENTITY Fill_area_occurrence;
      style             : SET[1:?] OF fill_area_style;
      filled_area       : fill_area;
      fill_style_target : cartesian_point;
      boundary_style    : curve_style;
  END_ENTITY; -- fill_area_occurrence

  ENTITY Fill_area_style;
      name       : STRING;
      fill_style : fill_style_select;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- fill_area_style

  ENTITY Fill_area_style_hatching;
      hatch_line_appearance         : curve_style;
      start_of_next_hatch_line      : vector;
      point_of_reference_hatch_line : cartesian_point;
      pattern_start                 : cartesian_point;
      hatch_line_angle              : angle_data_element;
  END_ENTITY; -- fill_area_style_hatching

  ENTITY Fill_area_style_tile;
      first_direction_repeat_factor  : vector;
      second_direction_repeat_factor : vector;
      tile                           : fill_area_style_tile_shape_select;
      tiling_scale                   : INTEGER; -- positive_ratio_measure;
  END_ENTITY; -- fill_area_style_tile

  ENTITY Fill_area_style_tile_curve_with_style;
  END_ENTITY; -- fill_area_style_tile_curve_with_style

  ENTITY Fill_area_style_tile_solid_region;
  END_ENTITY; -- fill_area_style_tile_solid_region

  ENTITY Fill_area_style_tile_symbol_with_style;
  END_ENTITY; -- fill_area_style_tile_symbol_with_style
  
  ENTITY Solid_fill_style;
  END_ENTITY; -- solid_fill_style

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Component_feature_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Component feature - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Component_feature_arm;

	USE FROM Physical_unit_design_view_arm;
	
	USE FROM Shape_property_assignment_arm;	

	TYPE part_feature_or_template_feature = EXTENSIBLE GENERIC_ENTITY SELECT
		(Part_feature);
	END_TYPE;

  ENTITY Component_feature
    ABSTRACT SUBTYPE OF (shape_element);
      definition           : OPTIONAL part_feature_or_template_feature;
      SELF\shape_element.containing_shape RENAMED associated_component : assembly_component;
    UNIQUE
      UR1 : definition,
 associated_component;
  END_ENTITY; -- component_feature

  ENTITY Component_feature_make_from_relationship
		SUBTYPE OF (Component_feature_relationship);
      SELF\Shape_element_relationship.relating RENAMED reusable_feature	: component_feature;
      SELF\Shape_element_relationship.related RENAMED resultant_feature	: component_feature;
  END_ENTITY; -- component_feature_make_from_relationship

  ENTITY Component_feature_relationship
  	SUBTYPE OF (Shape_element_relationship);
      SELF\Shape_element_relationship.related  : component_feature;
      SELF\Shape_element_relationship.relating : component_feature;
  END_ENTITY; -- component_feature_relationship

  ENTITY Component_feature_to_physical_usage_view_assignment;
      defined_part_feature   : part_feature;
      assigned_design_object : component_feature;
    UNIQUE 
    	UR1 : assigned_design_object;
    	UR2 : defined_part_feature;
  END_ENTITY; -- component_feature_to_physical_usage_view_assignment

  ENTITY Component_terminal
    SUBTYPE OF (Component_feature);
      local_swappable  : OPTIONAL BOOLEAN;
      global_swappable : OPTIONAL BOOLEAN;
      swap_code        : OPTIONAL STRING;
  END_ENTITY; -- component_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_macro_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module macro definition - EXPRESS ARM
*)

SCHEMA Assembly_module_macro_definition_arm;

USE FROM Interconnect_module_with_macros_arm;

USE FROM Assembly_module_design_arm;

	SUBTYPE_CONSTRAINT assembly_module_terminal_subtypes FOR assembly_module_terminal; 
	((ONEOF (assembly_module_interface_terminal,
	 assembly_module_join_terminal)) ANDOR
	 (pca_terminal));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Assembly_module_join_terminal
    SUBTYPE OF (Assembly_module_terminal);
    INVERSE
      defining_terminal : component_feature_to_physical_usage_view_assignment FOR defined_part_feature;
    WHERE
      WR1 : 'AP210_ARM.INTERCONNECT_MODULE_JOIN_TERMINAL' IN TYPEOF(defining_terminal.assigned_terminal);
      WR2 : 'AP210_ARM.' + 'COMPONENT_TERMINAL_TO_ASSEMBLY_MODULE_JOIN_TERMINAL_ASSIGNMENT' IN TYPEOF(defining_terminal);
      WR3 : NOT (SIZEOF(USEDIN(SELF,
 '')) = 0) OR (SIZEOF(QUERY(ct <* USEDIN(SELF,
 '') | NOT ('AP210_ARM.ASSEMBLY_MODULE_MACRO_COMPONENT_JOIN_TERMINAL' IN TYPEOF(ct)))) = 0);
  END_ENTITY; -- assembly_module_join_terminal

  ENTITY Component_terminal_to_assembly_module_join_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
		SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal : assembly_module_join_terminal;
		SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal : interconnect_module_macro_component_join_terminal;
    UNIQUE
      ur1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_assembly_module_join_terminal_assignment


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Feature_and_connection_zone_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Feature and connection zone - EXPRESS ARM
*)

SCHEMA Feature_and_connection_zone_arm; 

USE FROM Shape_property_assignment_arm; 

  ENTITY Shape_feature
  	ABSTRACT SUPERTYPE
       SUBTYPE OF (shape_element);
   		connection_area : OPTIONAL SET[1:?] OF connection_zone;
  END_ENTITY;

  ENTITY Connection_zone
  	ABSTRACT SUBTYPE OF (shape_element);
    WHERE
      WR1 : SIZEOF(USEDIN(SELF, '')) >= 0;
  END_ENTITY; -- connection_zone

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Connectivity_allocation_to_physical_network_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Connectivity allocation to physical network - EXPRESS ARM
*)

SCHEMA Connectivity_allocation_to_physical_network_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm;

  ENTITY Connectivity_allocation_to_physical_network;
      implementation           : Generic_physical_network;
      connectivity_requirement : aggregate_connectivity_requirement;
    UNIQUE
      UR1 : implementation;
  END_ENTITY; -- connectivity_allocation_to_physical_network

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Electrical_network_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Electrical network definition - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Electrical_network_definition_arm;

USE FROM Network_functional_design_view_arm;

  ENTITY Electrical_network_definition
    SUBTYPE OF (Functional_unit_network_definition);
  END_ENTITY; -- electrical_network_definition
  
END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_decomposition_to_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional decomposition to design - EXPRESS ARM
*)

SCHEMA Functional_decomposition_to_design_arm;

USE FROM Design_management_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Characteristic_arm;

USE FROM Network_functional_design_view_arm;

	SUBTYPE_CONSTRAINT change_design_object_management_relationship_subtypes FOR change_design_object_management_relationship;             
	    (ONEOF (terminal_swap_specification,
	 	gate_path_swap_specification,
	 	component_swap_specification));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Component_swap_specification
    SUBTYPE OF (Change_design_object_management_relationship);
      SELF\change_design_object_management_relationship.current_design_object  : design_functional_unit_allocation_to_assembly_component;
      SELF\change_design_object_management_relationship.previous_design_object : design_functional_unit_allocation_to_assembly_component;
  END_ENTITY; -- component_swap_specification

  ENTITY Design_composition_path;
      path_element           : SET[1:?] OF functional_unit;
      design_functional_unit : functional_unit;
  END_ENTITY; -- design_composition_path

  ENTITY Design_functional_unit_allocation_to_assembly_component;
      functional_design_definition_path : design_composition_path;
      implementation                    : assembly_component;
      global_swappable                  : BOOLEAN;
      local_swappable                   : BOOLEAN;
      of_property                       : OPTIONAL SET[1:?] OF coordinated_characteristic;
      path_alias                        : STRING; --ee_name;
      swap_code                         : STRING;
    UNIQUE
      UR1 : implementation,
 path_alias;
  END_ENTITY; -- design_functional_unit_allocation_to_assembly_component

  ENTITY Design_functional_unit_allocation_to_reference_functional_unit;
      reference_definition_path : reference_composition_path;
      design_definition_path    : design_composition_path;
  END_ENTITY; -- design_functional_unit_allocation_to_reference_functional_unit

  ENTITY Gate_path_swap_specification
    SUBTYPE OF (Change_design_object_management_relationship);
      SELF\change_design_object_management_relationship.current_design_object  : design_functional_unit_allocation_to_reference_functional_unit;
      SELF\change_design_object_management_relationship.previous_design_object : design_functional_unit_allocation_to_reference_functional_unit;
  END_ENTITY; -- gate_path_swap_specification

  ENTITY Reference_composition_path;
      path_element              : SET[1:?] OF functional_unit;
      reference_functional_unit : functional_unit;
  END_ENTITY; -- reference_composition_path

  ENTITY Reference_functional_unit_assignment_to_part;
      functional_design_definition_path : reference_composition_path;
      implementation                    : part_view_definition;
      of_property                       : OPTIONAL SET[1:?] OF coordinated_characteristic;
      path_alias                        : STRING; --ee_name;
      swap_code                         : OPTIONAL STRING;
    UNIQUE
      UR1 : implementation,
 path_alias;
  END_ENTITY; 

  ENTITY Terminal_swap_specification
    SUBTYPE OF (Change_design_object_management_relationship);
      SELF\change_design_object_management_relationship.previous_design_object : functional_unit_terminal_node_assignment;
      SELF\change_design_object_management_relationship.current_design_object  : functional_unit_terminal_node_assignment;
  END_ENTITY; -- terminal_swap_specification

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_unit_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional unit requirement allocation - EXPRESS ARM
*)

SCHEMA Functional_unit_requirement_allocation_arm;

USE FROM Network_functional_design_view_arm;
USE FROM Requirement_assignment_arm;	

  ENTITY Functional_unit_requirement_allocation
    SUBTYPE OF (Requirement_assignment);
      SELF\requirement_assignment.assigned_to : functional_unit;
  END_ENTITY; -- functional_unit_requirement_allocation

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Design_specific_assignment_to_assembly_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Design specific assignment to assembly usage view - EXPRESS ARM
*)

SCHEMA Design_specific_assignment_to_assembly_usage_view_arm;

USE FROM Assembly_module_with_subassembly_arm;

USE FROM Assembly_module_with_interconnect_component_arm;

	SUBTYPE_CONSTRAINT component_feature_to_physical_usage_view_assignment_subtypes FOR component_feature_to_physical_usage_view_assignment;     
		ONEOF (component_terminal_to_assembly_module_interface_terminal_assignment,
		 component_terminal_to_pca_terminal_assignment);
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT physical_component_terminal_subtypes FOR physical_component_terminal; 
		(ONEOF (assembly_module_component_terminal,
		 bare_die_component_terminal,
		 interconnect_component_join_terminal,
		 interconnect_module_component_terminal,
		 minimally_defined_component_terminal,
		 packaged_component_join_terminal));
	END_SUBTYPE_CONSTRAINT;

	TYPE pca_interface_select = SELECT
	    (interconnect_module_component_terminal,
	     component_interface_terminal,
	     assembly_module_component_terminal);
  	END_TYPE;
 
  ENTITY Component_terminal_to_assembly_module_interface_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
    SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal : assembly_module_interface_terminal;
    SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal : pca_interface_select;
    UNIQUE
      UR1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_assembly_module_interface_terminal_assignment

  ENTITY Component_terminal_to_pca_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
    	SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal : pca_terminal;
    	SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal : pca_interface_select;
    UNIQUE
      UR1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_pca_terminal_assignment

END_SCHEMA; -- Information_assignment_to_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Design_specific_assignment_to_interconnect_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Design specific assignment to interconnect usage view - EXPRESS ARM
*)

SCHEMA Design_specific_assignment_to_interconnect_usage_view_arm;

USE FROM Fabrication_joint_arm;

USE FROM Interconnect_module_usage_view_arm;

USE FROM Land_arm;

USE FROM Layered_interconnect_module_with_printed_component_design_arm;

	SUBTYPE_CONSTRAINT component_feature_to_physical_usage_view_assignment_subtypes FOR component_feature_to_physical_usage_view_assignment;     
		ONEOF (component_terminal_to_interconnect_module_join_terminal_assignment,
		 component_terminal_to_interconnect_module_interface_terminal_assignment);
	END_SUBTYPE_CONSTRAINT;

 	TYPE interconnect_or_assembly_module_select = SELECT
 		(Component_termination_passage_interface_terminal,
     	Printed_connector_component_interface_terminal,
     	Non_functional_land_interface_terminal,
     	Land_interface_terminal);
	END_TYPE;

  ENTITY Component_terminal_to_interconnect_module_interface_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
      SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal	: interconnect_module_interface_terminal;
      SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal	: interconnect_or_assembly_module_select;
    UNIQUE
      UR1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_interconnect_module_interface_terminal_assignment

  ENTITY Component_terminal_to_interconnect_module_join_terminal_assignment
    SUBTYPE OF (Component_feature_to_physical_usage_view_assignment);
      SELF\component_feature_to_physical_usage_view_assignment.defined_part_feature RENAMED usage_view_terminal : interconnect_module_join_terminal;
      SELF\component_feature_to_physical_usage_view_assignment.assigned_design_object RENAMED assigned_terminal	: fabricated_feature_select;
    UNIQUE
      UR1 : usage_view_terminal;
  END_ENTITY; -- component_terminal_to_interconnect_module_join_terminal_assignment

  ENTITY Stratum_concept_to_physical_usage_view_assignment;
      assigned_design_object : stratum_concept;
      defined_part_feature   : part_feature;
      purpose                : OPTIONAL STRING; --ee_name;
    UNIQUE
    	UR1 : defined_part_feature;
    WHERE
      WR1 : NOT ('AP210_ARM.INTERCONNECT_MODULE_TERMINAL' IN TYPEOF(defined_part_feature));
  END_ENTITY; -- stratum_concept_to_physical_usage_view_assignment

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_module_to_assembly_module_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect module to assembly module relationship - EXPRESS ARM
*)
SCHEMA Interconnect_module_to_assembly_module_relationship_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Assembly_module_design_arm;

USE FROM Interconnect_module_connection_routing_arm;

  TYPE component_based_message_type = ENUMERATION OF
    (component_reference_designation,
     terminal_designation);
  END_TYPE; -- component_based_message_type

 	TYPE component_or_component_feature = SELECT
 		(assembly_component,
	     component_external_reference,
	     component_feature,
	     component_feature_external_reference);
	END_TYPE;

	TYPE imtar_bare_die_component_or_packaged_component = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON bare_die_component_or_packaged_component WITH  
    (packaged_component,
     bare_die_component);
  END_TYPE; -- bare_die_component_or_packaged_component

	TYPE imtar_bare_die_terminal_or_packaged_part_terminal = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON bare_die_terminal_or_packaged_part_terminal WITH  
    (bare_die_terminal,
     packaged_part_terminal);
  END_TYPE; -- ap210_bare_die_terminal_or_packaged_part_terminal

	TYPE imtar_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Component_feature_to_layout_feature_relationship);
	END_TYPE; 

	TYPE imtar_restriction_basis_item = EXTENSIBLE SELECT BASED_ON restriction_basis_item WITH 
	   (component_or_component_feature);
	END_TYPE; 

	TYPE imtar_specification_product_object_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON specification_product_object_select WITH 
	    (component_or_component_feature);
	END_TYPE;

	ENTITY Assembly_requirement_for_interconnect_relationship 
 		SUBTYPE OF (part_definition_relationship);
			SELF\View_definition_relationship.related_view	: Interconnect_module;
      SELF\View_definition_relationship.relating_view	: Assembly_module;
	END_ENTITY;
   
  ENTITY Component_based_annotation_symbol_placement_relationship
    SUBTYPE OF (Component_feature_to_layout_feature_relationship);
      SELF\component_feature_to_layout_feature_relationship.related_stratum_concept : special_symbol_laminate_component;
  END_ENTITY; -- component_based_annotation_symbol_placement_relationship

  ENTITY Component_based_annotation_text_relationship
    SUBTYPE OF (Component_feature_to_layout_feature_relationship);
      SELF\component_feature_to_layout_feature_relationship.related_stratum_concept : laminate_text_string_component;
      message_type                                                                  : component_based_message_type;
  END_ENTITY; -- component_based_annotation_text_relationship

  ENTITY Component_feature_to_layout_feature_relationship;
      related_stratum_concept : stratum_concept;
      relating_feature        : component_or_component_feature;
(** Need WR to contrain cardinality
      requirement             : OPTIONAL Requirement_definition_property;
*)      
  END_ENTITY; -- component_feature_to_layout_feature_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Fabrication_requirement_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Fabrication requirement - EXPRESS ARM
*)

SCHEMA Fabrication_requirement_arm; 

USE FROM Requirement_decomposition_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Characteristic_arm;

USE FROM Manufacturing_technology_arm;

  TYPE metal_or_dielectric = ENUMERATION OF
    (over_finished_conductor,
     over_finished_dielectric);
  END_TYPE; -- metal_or_dielectric

  ENTITY Fabrication_thickness_requirement_occurrence
    SUBTYPE OF (Inspection_requirement_occurrence);
      characterized_class       : metal_or_dielectric;
      characterized_class_range : range_characteristic;
      tolerance                 : tolerance_characteristic;
  END_ENTITY; -- fabrication_thickness_requirement_occurrence

  ENTITY Layout_land_width_tolerance_requirement_occurrence
    SUBTYPE OF (Inspection_requirement_occurrence);
      mating_feature_pitch_class : pitch_class;
      maximum_negative_deviation : length_data_element;
  END_ENTITY; -- layout_land_width_tolerance_requirement_occurrence

  ENTITY Layout_line_width_tolerance_requirement_occurrence
    SUBTYPE OF (Inspection_requirement_occurrence);
      characterized_stratum_technology : stratum_technology;
      tolerance_line_width_class       : line_width_class;
      maximum_negative_deviation       : length_data_element;
      maximum_positive_deviation       : length_data_element;
  END_ENTITY; -- layout_line_width_tolerance_requirement_occurrence

  ENTITY Line_width_class;
      class_member : range_characteristic;
      class_name   : STRING; --ee_name;
    WHERE
      WR1 : SIZEOF(QUERY(np <* class_member\characteristic_representation.items | NOT ('AP210_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(np)))) = 0;
  END_ENTITY; -- line_width_class

  ENTITY Pitch_class;
      class_member : range_characteristic;
      class_name   : STRING; --ee_name;
    WHERE
      WR1 : SIZEOF(QUERY(np <* class_member\characteristic_representation.items | NOT ('AP210_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(np)))) = 0;
  END_ENTITY; -- pitch_class

	SUBTYPE_CONSTRAINT inspection_requirement_occurrence_subtypes FOR inspection_requirement_occurrence;     
	    (ONEOF (layout_line_width_tolerance_requirement_occurrence,
	 layout_land_width_tolerance_requirement_occurrence,
	 fabrication_thickness_requirement_occurrence));
	END_SUBTYPE_CONSTRAINT;    

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layout_macro_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layout macro definition - EXPRESS ARM
*)

SCHEMA Layout_macro_definition_arm; 

USE FROM Printed_physical_layout_template_arm;
USE FROM Fabrication_joint_arm;
USE FROM Layered_interconnect_module_with_printed_component_design_arm;
USE FROM Physical_unit_design_view_arm;

	SUBTYPE_CONSTRAINT printed_part_template_subtypes FOR printed_part_template;  
		 (ONEOF (layout_macro_floor_plan_template,
		 printed_connector_template));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Layout_macro_component
    SUBTYPE OF (printed_component);
      design_definition                       	: layout_macro_definition;
      SELF\printed_component.derived_from		: layout_macro_floor_plan_template;
    WHERE
      WR1 : NOT (EXISTS(SELF\printed_component.stratum_feature_implementation)) AND NOT (EXISTS(SELF\printed_component.printed_component_stack)) AND NOT (EXISTS(SELF\printed_component.associated_precedent_link)) AND NOT (EXISTS(SELF\printed_component.associated_subsequent_link)) AND NOT (EXISTS(SELF\printed_component.required_material_stack));
      WR2 : NOT (EXISTS(SELF\printed_component.footprint_implementation));
  END_ENTITY; -- layout_macro_component

  ENTITY Layout_macro_definition
    SUBTYPE OF (pcb);
      floor_layout_view : layout_macro_floor_plan_template;
    WHERE
      WR1 : NOT (EXISTS(SELF\part_design_view.usage_view));
      WR2 : NOT (EXISTS(SELF\interconnect_module.assembly_design_requirement));
      WR3 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.DEFINITION_BASED_PRODUCT_OCCURRENCE.DERIVED_FROM')) = 0;
  END_ENTITY; -- layout_macro_definition

  ENTITY Layout_macro_definition_terminal_to_usage_terminal_assignment;
      defined_template_feature : printed_part_template_terminal;
      assigned_design_object   : fabricated_feature_select;
    WHERE
      WR1 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.LAYOUT_MACRO_FLOOR_PLAN_TEMPLATE.ACCESS_MAPS')) = 1;
  END_ENTITY; -- layout_macro_definition_terminal_to_usage_terminal_assignment

  ENTITY Layout_macro_floor_plan_template
    SUBTYPE OF (printed_part_template);
      access_maps : SET[1:?] OF layout_macro_definition_terminal_to_usage_terminal_assignment;
    INVERSE
      macro_definition : SET[0:1] OF layout_macro_definition FOR floor_layout_view;
    WHERE
      WR1 : NOT (EXISTS(SELF\printed_part_template.of_stratum_technology)) AND NOT (EXISTS(SELF\printed_part_template.material_stack)) AND NOT (EXISTS(SELF\printed_part_template.printed_part_template_stack));
  END_ENTITY; -- layout_macro_floor_plan_template

SUBTYPE_CONSTRAINT printed_component_subtypes FOR printed_component;  
(ONEOF (layout_macro_component,
 printed_connector_component,
 routed_printed_component));
END_SUBTYPE_CONSTRAINT;  

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Manifold_subsurface_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Manifold subsurface - EXPRESS ARM
*)

SCHEMA Manifold_subsurface_arm;

USE FROM Manifold_surface_arm;

USE FROM Elemental_geometric_shape_arm;

  TYPE open_shell_or_subsurface = SELECT
    (manifold_surface_shape_representation,
     manifold_subsurface_shape);
  END_TYPE; -- open_shell_or_subsurface

  ENTITY Manifold_subsurface_shape
    SUBTYPE OF (Geometric_model);
      parent_surface : open_shell_or_subsurface;
    WHERE
      WR1 : SELF :<>: parent_surface;
      WR2 : SELF\geometric_model.context_of_items :=: parent_surface\geometric_model.context_of_items;
  END_ENTITY; -- manifold_subsurface_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Non_feature_shape_element_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Non feature shape element - EXPRESS ARM
*)

SCHEMA Non_feature_shape_element_arm; 

USE FROM Shape_property_assignment_arm; 

USE FROM Basic_geometry_arm;

USE FROM Layered_2d_shape_arm;

REFERENCE FROM Part_feature_location_arm;
  
  TYPE ee_product_definition_with_annotation_elements = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;

	TYPE nfse_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(Non_feature_shape_element);
	END_TYPE;

	
  TYPE view_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;
  
  ENTITY Non_feature_shape_composition_relationship
    SUBTYPE OF (Geometric_model_relationship);
      related_feature_shape_placement : OPTIONAL axis_placement_or_cto2d;
      SELF\Geometric_model_relationship.rep_1 RENAMED related_feature_shape   : non_feature_shape_definition;
      SELF\Geometric_model_relationship.rep_2 RENAMED resultant_feature_shape : non_feature_shape_definition;
    WHERE
      WR1 : EXISTS(related_feature_shape_placement) OR (related_feature_shape\representation.context_of_items :=: resultant_feature_shape\representation.context_of_items);
  END_ENTITY; -- non_feature_shape_composition_relationship

  ENTITY Non_feature_shape_definition
    SUBTYPE OF (Geometric_model);
      associated_element : non_feature_shape_element;
      model_shape        : OPTIONAL feature_shape_definition;
  END_ENTITY; -- non_feature_shape_definition

  ENTITY Non_feature_shape_element
    SUBTYPE OF (shape_element);
      SELF\Shape_element.containing_shape RENAMED scope : ee_product_definition_with_annotation_elements;
    INVERSE
      element_shape            : SET[0:?] OF non_feature_shape_definition FOR associated_element;
      associated_usage_concept : SET[0:?] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 scope;
    WHERE
      WR1 : (NOT (SIZEOF(associated_usage_concept) > 0)) OR (SIZEOF(element_shape) > 0);
  END_ENTITY; -- non_feature_shape_element

  ENTITY Non_feature_shape_element_relationship
    SUBTYPE OF (shape_element_relationship);
      SELF\shape_element_relationship.related : non_feature_shape_element;
      SELF\shape_element_relationship.relating : non_feature_shape_element;
    UNIQUE
      UR1 : SELF\shape_element_relationship.related,
 SELF\shape_element_relationship.relating;
  END_ENTITY; -- non_feature_shape_element_relationship

   ENTITY Reference_graphic_registration_mark
    SUBTYPE OF (Non_feature_shape_element);
  END_ENTITY; -- reference_graphic_registration_mark

  ENTITY Seating_plane
    SUBTYPE OF (Non_feature_shape_element);
  END_ENTITY; -- seating_plane

  ENTITY View_level_non_feature_shape_definition
    SUBTYPE OF (Non_feature_shape_definition);
      SELF\non_feature_shape_definition.model_shape : view_shape_select;
    WHERE
      WR1 : SELF\geometric_model.context_of_items = SELF\non_feature_shape_definition.model_shape\geometric_model.context_of_items;
  END_ENTITY; -- view_level_non_feature_shape_definition

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Packaged_connector_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Packaged connector model - EXPRESS ARM
*)

SCHEMA Packaged_connector_model_arm; 

USE FROM Packaged_part_black_box_model_arm;

	SUBTYPE_CONSTRAINT packaged_part_terminal_subtypes FOR packaged_part_terminal; 
		(ONEOF (packaged_part_interface_terminal,
	 	packaged_part_join_terminal));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Packaged_connector
    SUBTYPE OF (packaged_part);
    INVERSE
      characterized_connector_terminal_relationship : SET[1:?] OF packaged_connector_terminal_relationship FOR connector;
  END_ENTITY; -- packaged_connector
	
  ENTITY Packaged_connector_terminal_relationship;
      connector          : packaged_connector;
      join_terminal      : packaged_part_join_terminal;
      interface_terminal : packaged_part_interface_terminal;
    UNIQUE
      UR1 : join_terminal;
      UR2 : interface_terminal,
 connector;
  END_ENTITY; -- packaged_connector_terminal_relationship

  ENTITY Packaged_part_interface_terminal
    SUBTYPE OF (packaged_part_terminal);
    INVERSE
      external_connector_function : SET[0:?] OF packaged_connector_terminal_relationship FOR interface_terminal;
  END_ENTITY; -- packaged_part_interface_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_external_reference_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part external reference - EXPRESS ARM
*)

SCHEMA Part_external_reference_arm;

USE FROM Physical_layout_template_arm;

  TYPE physical_unit_or_part_template = SELECT
    (layout_template_definition,
     part_view_definition);
  END_TYPE;

  ENTITY Package_external_reference;
      design_owner          : STRING;
      part_number           : STRING;
      revision_code         : STRING;
      product_definition_id : STRING;
  END_ENTITY; -- package_external_reference
  
  ENTITY Package_terminal_external_reference;
      associated_definition : package_external_reference;
      name                  : STRING;
    UNIQUE
      UR1 : associated_definition,
 name;
  END_ENTITY; -- package_terminal_external_reference

  ENTITY Part_terminal_external_reference;
      associated_definition : physical_unit_or_part_template;
      feature_name          : STRING; --ee_name;
      feature_type          : STRING; --ee_name;
    UNIQUE
      UR1 : associated_definition,
 feature_name,
 feature_type;
  END_ENTITY; -- part_terminal_external_reference

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_feature_function_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part feature function - EXPRESS ARM
*)

SCHEMA Part_feature_function_arm;

  USE FROM Physical_unit_usage_view_arm;
   
	USE FROM Geometric_tolerance_arm (single_datum);

  ENTITY Fiducial_part_feature
    SUBTYPE OF (part_tooling_feature);
  END_ENTITY; -- fiducial_part_feature

  ENTITY Part_interface_access_feature
    SUBTYPE OF (part_feature);
      accessed_interface    : part_feature;
      interface_access_area : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
    WHERE
      WR1 : SELF\part_feature.material_state_change = material_removal;
      WR2 : SELF <> accessed_interface;
      WR3 : NOT ('AP210_ARM.PART_TERMINAL' IN TYPEOF(SELF));
      WR4 : NOT ('AP210_ARM.PACKAGE_BODY' IN TYPEOF(SELF));
      WR5 : NOT ('AP210_ARM.PART_MOUNTING_FEATURE' IN TYPEOF(SELF));
      WR6 : NOT ('AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE' IN TYPEOF(SELF));
      WR7 : NOT ('AP210_ARM.PACKAGE_TERMINAL' IN TYPEOF(SELF));
      WR8 : NOT ('AP210_ARM.PACKAGE_BODY_SURFACE' IN TYPEOF(SELF));
      WR9 : NOT ('AP210_ARM.POLARITY_INDICATION_FEATURE' IN TYPEOF(SELF));
  END_ENTITY; -- part_interface_access_feature

  ENTITY Part_mating_feature
    SUBTYPE OF (part_feature);
      mating_area : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
    WHERE
      WR1 : NOT ('AP210_ARM.PART_MOUNTING_FEATURE' IN TYPEOF(SELF));
      WR2 : NOT ('AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE' IN TYPEOF(SELF));
      WR3 : NOT ('AP210_ARM.PACKAGE_TERMINAL' IN TYPEOF(SELF));
      WR4 : NOT ('AP210_ARM.PART_TERMINAL' IN TYPEOF(SELF));
  END_ENTITY; -- part_mating_feature

  ENTITY Part_mounting_feature
--    SUPERTYPE OF (bare_die_surface)
    SUBTYPE OF (part_feature);
      mounting_area : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
  END_ENTITY; -- part_mounting_feature

  ENTITY Part_tooling_feature
    SUPERTYPE OF (ONEOF (fiducial_part_feature,
 tool_registration_mark) ANDOR
 test_point_part_feature)
    SUBTYPE OF (part_feature);
  END_ENTITY; -- part_tooling_feature

  ENTITY Test_point_part_feature
    SUBTYPE OF (part_tooling_feature);
  END_ENTITY; -- test_point_part_feature

  ENTITY Thermal_feature
    SUBTYPE OF (part_feature);
  END_ENTITY; -- thermal_feature

  ENTITY Tool_registration_mark
    SUBTYPE OF (part_tooling_feature);
  END_ENTITY; -- tool_registration_mark

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_feature_grouping_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part feature grouping - EXPRESS ARM
*)

 SCHEMA Part_feature_grouping_arm;
 
   USE FROM Shape_composition_arm;
   
   USE FROM Physical_unit_usage_view_arm;
   
   USE FROM Value_with_unit_extension_arm;

  ENTITY Part_array_feature
    ABSTRACT SUPERTYPE OF (ONEOF (part_linear_array_feature,
 part_rectangular_array_feature))
    SUBTYPE OF (part_group_feature);
  END_ENTITY; -- part_array_feature

  ENTITY Part_feature_placement_link;
      precedent_element  : part_feature;
      subsequent_element : part_feature;
    INVERSE
      referenced_by : part_linear_array_feature FOR element;
  END_ENTITY; -- part_feature_placement_link
   
  ENTITY Part_group_feature
    SUPERTYPE OF (part_array_feature)
    SUBTYPE OF (part_feature,
 composite_shape_element);
  END_ENTITY; -- part_group_feature

  ENTITY Part_linear_array_feature
    SUBTYPE OF (part_array_feature);
      element                               : SET[1:?] OF part_feature_placement_link;
      initial_node_positive_x_displacement  : length_data_element;
      terminus_node_positive_x_displacement : length_data_element;
      location_uncertainty                  : length_data_element;
  END_ENTITY; -- part_linear_array_feature

  ENTITY Part_linear_array_feature_link;
      precedent_element  : part_linear_array_feature;
      subsequent_element : part_linear_array_feature;
    INVERSE
      referenced_by : part_rectangular_array_feature FOR element;
  END_ENTITY; -- part_linear_array_feature_link

  ENTITY Part_rectangular_array_feature
    SUBTYPE OF (part_array_feature);
      element                              : SET[1:?] OF part_linear_array_feature_link;
      initial_row_positive_y_displacement  : length_data_element;
      terminus_row_positive_y_displacement : length_data_element;
      location_uncertainty                 : length_data_element;
  END_ENTITY; -- part_rectangular_array_feature

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_feature_location_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part feature location - EXPRESS ARM
*)

SCHEMA Part_feature_location_arm;

USE FROM Layered_2d_shape_arm;

REFERENCE FROM Non_feature_shape_element_arm 
	(Non_feature_shape_definition,
	View_level_non_feature_shape_definition);

	TYPE feature_or_non_feature_usage = SELECT 
		(part_template_or_physical_unit_shape_select,
		View_level_non_feature_shape_definition);
	END_TYPE;

 	TYPE part_template_or_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

	TYPE usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  ENTITY Usage_concept_usage_relationship;
      associating_usage_shape     : feature_or_non_feature_usage;
      associated_usage            : usage_concept;
      associated_shape_definition : geometric_model;
      associated_usage_placement  : axis_placement_or_cto2d;
    WHERE
      WR1 : (('AP210_ARM.NON_FEATURE_SHAPE_DEFINITION' IN TYPEOF(associated_shape_definition)) AND ('AP210_ARM.NON_FEATURE_SHAPE_DEFINITION' IN TYPEOF(associating_usage_shape))) OR (('AP210_ARM.FEATURE_SHAPE_DEFINITION' IN TYPEOF(associated_shape_definition)) AND ('AP210_ARM.FEATURE_SHAPE_DEFINITION' IN TYPEOF(associating_usage_shape)));
      WR2 : NOT ('AP210_ARM.cartesian_transformation_2d' IN TYPEOF(associated_usage_placement)) OR ('AP210_ARM.NON_FEATURE_SHAPE_DEFINITION' IN TYPEOF(associating_usage_shape));
  END_ENTITY; -- usage_concept_usage_relationship


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_2d_shape_representation_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered 2d shape representation relationship - EXPRESS ARM
*)

SCHEMA Layered_2d_shape_representation_relationship_arm; 

USE FROM Part_template_2d_shape_arm;

USE FROM Physical_unit_2d_shape_arm;

	TYPE l2dsrr_part_template_or_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON part_template_or_physical_unit_shape_select WITH 
 		(part_template_or_physical_unit_2d_shape_select);
	END_TYPE;

  TYPE part_template_or_physical_unit_2d_shape_select = SELECT
    (part_template_planar_shape,
     physical_unit_planar_shape);
  END_TYPE; -- part_template_or_physical_unit_2d_shape_select
  
  ENTITY Part_template_or_physical_unit_2d_shape_representation_relationship
  	SUBTYPE OF (Geometric_model_relationship);
      SELF\Geometric_model_relationship.rep_1 RENAMED principal_part_shape : part_template_or_physical_unit_2d_shape_select;
      SELF\Geometric_model_relationship.rep_1 RENAMED related_part_shape   : part_template_or_physical_unit_2d_shape_select;
    UNIQUE
      UR1 : principal_part_shape,
 related_part_shape;
    WHERE
      WR1 : principal_part_shape :<>: related_part_shape;
  END_ENTITY; -- part_template_or_physical_unit_2d_shape_representation_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_3d_shape_representation_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered 3d shape representation relationship - EXPRESS ARM
*)

SCHEMA Layered_3d_shape_representation_relationship_arm; 

USE FROM Part_template_3d_shape_arm;

USE FROM Part_template_non_planar_shape_arm;

USE FROM Physical_unit_3d_shape_arm;

	TYPE l3dsrr_part_template_or_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON part_template_or_physical_unit_shape_select WITH 
 		(part_template_or_physical_unit_3d_shape_select);
	END_TYPE;

  TYPE part_template_or_physical_unit_3d_shape_select = SELECT
    (part_template_3d_shape,
     part_template_non_planar_2d_shape,
     physical_unit_3d_shape);
  END_TYPE; -- part_template_or_physical_unit_3d_shape_select

  ENTITY Part_template_or_physical_unit_3d_shape_representation_relationship
  	SUBTYPE OF (Geometric_model_relationship);
      SELF\Geometric_model_relationship.rep_1 RENAMED principal_part_shape : part_template_or_physical_unit_3d_shape_select;
      SELF\Geometric_model_relationship.rep_1 RENAMED related_part_shape   : part_template_or_physical_unit_3d_shape_select;
    UNIQUE
      UR1 : principal_part_shape,
 related_part_shape;
    WHERE
      WR1 : principal_part_shape :<>: related_part_shape;
  END_ENTITY; -- part_template_or_physical_unit_3d_shape_representation_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_extension_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template extension - EXPRESS ARM
*)

SCHEMA Part_template_extension_arm;

USE FROM Styled_text_arm;

USE FROM Manufacturing_technology_arm;

USE FROM Styled_curve_arm;

REFERENCE FROM Layered_interconnect_module_design_arm (Interconnect_module);

	SUBTYPE_CONSTRAINT material_addition_feature_template_subtypes FOR material_addition_feature_template; 
		(ONEOF (snowball_template,
		 teardrop_by_angle_template,
		 teardrop_by_length_template));
	END_SUBTYPE_CONSTRAINT; 

  ENTITY Default_trace_template
    SUBTYPE OF (trace_template);
      of_stratum_technology : stratum_technology;
  END_ENTITY; -- default_trace_template

  ENTITY Part_text_template
    SUBTYPE OF (Layout_template_definition);
      font                                    : OPTIONAL font_select;
      maximum_font_positive_horizontal_extent : OPTIONAL length_data_element;
      maximum_font_positive_vertical_extent   : OPTIONAL length_data_element;
      maximum_font_negative_horizontal_extent : OPTIONAL length_data_element;
      maximum_font_negative_vertical_extent   : OPTIONAL length_data_element;
      slant_angle                             : OPTIONAL angle_data_element;
      stroke_width                            : OPTIONAL length_data_element;
    WHERE
      WR1 : EXISTS(maximum_font_positive_horizontal_extent) OR EXISTS(maximum_font_positive_vertical_extent) OR EXISTS(maximum_font_negative_horizontal_extent) OR EXISTS(maximum_font_negative_vertical_extent) OR EXISTS(slant_angle) OR EXISTS(stroke_width) OR EXISTS(font);
  END_ENTITY; -- part_text_template

  ENTITY Reference_packaged_part_interconnect_implementation
    SUBTYPE OF (Interconnect_module);
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | NOT (SIZEOF(QUERY(epcr <* USEDIN(prpc,
 'AP210_ARM.PRODUCT_CATEGORY_HIERARCHY.SUPER_CATEGORY') | (epcr.sub_category\product_category.name = 'template model'))) = 1))) = 0;
  END_ENTITY; -- reference_packaged_part_interconnect_implementation

  ENTITY Snowball_template
    SUBTYPE OF (Material_addition_feature_template);
      snowball_start_distance     : length_data_element;
      snowball_end_distance       : OPTIONAL length_data_element;
      snowball_initial_spacing    : OPTIONAL length_data_element;
      snowball_end_spacing        : OPTIONAL length_data_element;
      snowball_initial_radius     : length_data_element;
      snowball_end_radius         : OPTIONAL length_data_element;
      snowball_quantity_per_trace : INTEGER; -- positive_integer;
    WHERE
      WR1 : NOT (snowball_quantity_per_trace > 1) OR (EXISTS(snowball_initial_spacing) AND EXISTS(snowball_end_spacing) AND EXISTS(snowball_end_distance) AND EXISTS(snowball_end_radius));
  END_ENTITY; -- snowball_template

  ENTITY Special_symbol_part_template
    SUBTYPE OF (Layout_template_definition);
      of_stratum_technology : OPTIONAL SET[1:?] OF stratum_technology;
  END_ENTITY; -- special_symbol_part_template

  ENTITY Teardrop_by_angle_template
    SUBTYPE OF (Material_addition_feature_template);
      teardrop_angle : angle_data_element;
  END_ENTITY; -- teardrop_by_angle_template

  ENTITY Teardrop_by_length_template
    SUBTYPE OF (Material_addition_feature_template);
      teardrop_taper_start_distance : length_data_element;
      teardrop_taper_end_distance   : length_data_element;
  END_ENTITY; -- teardrop_by_length_template

  ENTITY Trace_template
    SUPERTYPE OF (default_trace_template)
    SUBTYPE OF (Layout_template_definition);
      trace_style : curve_style;
  END_ENTITY; -- trace_template

END_SCHEMA; -- Part_template_extension_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_terminal_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part terminal - EXPRESS ARM
*)

SCHEMA Part_terminal_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Network_functional_usage_view_arm;

  ENTITY Functional_usage_view_to_part_terminal_assignment;
      physical_usage_view_terminal   : part_terminal;
      functional_usage_view_terminal : scalar_terminal_definition;
    UNIQUE
      UR1 : functional_usage_view_terminal,
 physical_usage_view_terminal;
  END_ENTITY; -- functional_usage_view_to_part_terminal_assignment

  ENTITY Part_connected_terminals_definition;
      associated_definition : part_usage_view;
      connected_terminals   : SET[2:?] OF part_terminal;
      name                  : STRING; --ee_name;
    UNIQUE
      UR1 : name,
 associated_definition;
    WHERE
      WR1 : SIZEOF(QUERY(ct <* connected_terminals | NOT (associated_definition = ct\shape_element.containing_shape))) = 0;
  END_ENTITY; -- part_connected_terminals_definition

  ENTITY Part_terminal
    ABSTRACT SUPERTYPE
    SUBTYPE OF (part_feature);
    INVERSE
      connection_requirement         : SET[0:1] OF part_connected_terminals_definition FOR connected_terminals;
      functional_usage_view_terminal : SET[0:1] OF functional_usage_view_to_part_terminal_assignment FOR physical_usage_view_terminal;
  END_ENTITY; -- part_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_component_feature_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical component feature - EXPRESS ARM
*)

SCHEMA Physical_component_feature_arm; 

USE FROM Component_feature_arm;

  ENTITY Physical_component_feature
    SUBTYPE OF (Component_feature);
  END_ENTITY; -- physical_component_feature

  ENTITY Physical_component_terminal
    ABSTRACT SUPERTYPE
    SUBTYPE OF (Component_terminal,
 			physical_component_feature);
(* For Lothar *) 			
(** Need to encode it as Global rule               			
    INVERSE
      connected_node : SET[0:1] OF physical_connectivity_definition FOR associated_terminals;
*)      
  END_ENTITY; -- physical_component_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_node_requirement_to_implementing_component_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical node requirement to implementing component allocation - EXPRESS ARM
*)

SCHEMA Physical_node_requirement_to_implementing_component_allocation_arm;

USE FROM Functional_design_elaboration_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Assembly_module_with_packaged_connector_component_arm;

USE FROM Part_terminal_arm;

USE FROM Packaged_connector_model_arm;

USE FROM Component_feature_arm;

USE FROM Interface_component_arm;

USE FROM Assembly_technology_arm;

  ENTITY Physical_node_requirement_to_implementing_component_allocation;
      physical_node_requirement          : physical_connectivity_definition;
      implementation_component           : assembly_component;
      implementation_interface_joint_set : OPTIONAL SET[1:?] OF interface_mounted_join;
      implementation_joint_set           : OPTIONAL SET[1:?] OF assembly_joint;
    DERIVE
      implementation_connection_definition_1 : SET[0:1] OF part_connected_terminals_definition := get_pctd(implementation_component,
 implementation_joint_set);
      implementation_connection_definition_2 : SET[0:1] OF packaged_connector_terminal_relationship := get_pctr(implementation_component,
 implementation_interface_joint_set);
    WHERE
      WR1 : EXISTS(implementation_interface_joint_set) XOR EXISTS(implementation_joint_set);
      WR2 : (SIZEOF(implementation_connection_definition_1) + SIZEOF(implementation_connection_definition_2) = 1) OR (('AP210_ARM.INTERFACE_COMPONENT' IN TYPEOF(implementation_component)) AND ('AP210_ARM.COMPONENT_INTERFACE_TERMINAL' IN TYPEOF(get_cit(implementation_component,
 implementation_joint_set)))) OR ('AP210_ARM.ROUTED_INTERCONNECT_COMPONENT' IN TYPEOF(implementation_component));
      WR3 : SIZEOF(QUERY(pct <* physical_node_requirement.associated_terminals | pct\component_feature.associated_component = implementation_component)) = 0;
  END_ENTITY; -- physical_node_requirement_to_implementing_component_allocation

  FUNCTION get_cit(
    ac  : assembly_component ;
    ajb : SET OF assembly_joint
  ) : component_interface_terminal;

    LOCAL
      cf  : LIST[1:?] OF component_feature := [];
      cit : component_interface_terminal;
    END_LOCAL;

    REPEAT i := 1 TO 2 BY 1;
      cf[1] := ajb[1].assembly_features_1;
      cf[2] := ajb[1].assembly_features_2;
      IF ac :=: cf[i].associated_component THEN
        IF ('AP210_ARM.INTERFACE_COMPONENT' IN TYPEOF(cf[i].associated_component)) THEN
          RETURN(cf[i]);
        ELSE
          RETURN(?);
        END_IF;
      ELSE
        RETURN(?);
      END_IF;
    END_REPEAT;
    RETURN(?);
  END_FUNCTION; -- get_cit

  FUNCTION get_pctd(
    ac  : assembly_component ;
    ajb : SET OF assembly_joint
  ) : SET OF part_connected_terminals_definition;

    LOCAL
      cf   : LIST[1:?] OF component_feature;
      pctd : SET OF part_connected_terminals_definition := [];
    END_LOCAL;

    REPEAT i := 1 TO 2 BY 1;
      cf[1] := ajb[1].assembly_features_1;
      cf[2] := ajb[1].assembly_features_2;
      IF ac :=: cf[i].associated_component THEN
        IF ('AP210_ARM.PART_TERMINAL' IN TYPEOF(cf[i].definition)) THEN
          pctd := cf[i].definition.connection_requirement;
          RETURN(pctd);
        ELSE
          RETURN(pctd);
        END_IF;
      ELSE
        RETURN(pctd);
      END_IF;
    END_REPEAT;
    RETURN(?);
  END_FUNCTION; -- get_pctd

  FUNCTION get_pctr(
    ac   : assembly_component ;
    imjb : SET OF interface_mounted_join
  ) : SET OF packaged_connector_terminal_relationship;

    LOCAL
      cf   : component_feature;
      pctr : SET OF packaged_connector_terminal_relationship := [];
    END_LOCAL;

    cf := imjb[1].connection_to_interconnect_module_component;
    IF ac :=: cf.associated_component THEN
      IF ('AP210_ARM.PACKAGED_PART_INTERFACE_TERMINAL' IN TYPEOF(cf.definition)) THEN
        pctr := cf.definition.external_connector_function;
        RETURN(pctr);
      ELSE
        RETURN(pctr);
      END_IF;
    ELSE
      RETURN(pctr);
    END_IF;
    RETURN(?);
  END_FUNCTION; -- get_pctr

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_interconnect_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit interconnect definition - EXPRESS ARM
*)

SCHEMA Physical_unit_interconnect_definition_arm;

USE FROM Part_view_definition_arm;

USE FROM Assembly_structure_arm;

ENTITY Connector_based_interconnect_definition;
   associated_definition   : physical_unit_interconnect_definition;
   connector_in_uv_1       : next_assembly_usage;
   connector_in_uv_2       : next_assembly_usage;
   component_1             : next_assembly_usage;
   component_2             : next_assembly_usage;   
   name                    : STRING; --label;
  UNIQUE
    UR1 : name, associated_definition;
WHERE
  WR1: 'AP210_ARM.PACKAGED_CONNECTOR_COMPONENT' IN 
        TYPEOF(connector_in_uv_1\assembly_component_relationship.
                                                        relating_view);
                                                             
  WR2: 'AP210_ARM.PACKAGED_CONNECTOR_COMPONENT' IN 
        TYPEOF(connector_in_uv_2\assembly_component_relationship.
                                                        relating_view);
                                                             
  WR3: 'AP210_ARM.part_usage_view' IN 
        TYPEOF(connector_in_uv_1\assembly_component_relationship.
                                                         related_view);
                                                              
  WR4: 'AP210_ARM.part_usage_view' IN 
        TYPEOF(connector_in_uv_2\assembly_component_relationship.
                                                         related_view);
                                                         
  WR5: EXISTS(connector_in_uv_1.location_indicator);
  WR6: EXISTS(connector_in_uv_2.location_indicator);
  WR7: EXISTS(component_1.location_indicator);
  WR8: EXISTS(component_2.location_indicator);
  WR9: NOT EXISTS(connector_in_uv_1.quantity);
 WR10: NOT EXISTS(connector_in_uv_2.quantity);
 WR11: NOT EXISTS(component_1.quantity);
 WR12: NOT EXISTS(component_2.quantity);
(** Need to rewrite it, because "usage_definition" is available only in specific subtype
 WR13: component_1.relating_view.usage_definition = 
       connector_in_uv_1\assembly_component_relationship.related_view;
 WR14: component_2.relating_view.usage_definition = 
       connector_in_uv_2\assembly_component_relationship.related_view;
*)       
 WR15: component_1 <> component_2;
 WR16: component_1 <> connector_in_uv_1;
 WR17: connector_in_uv_1 <> component_2;
 WR18: component_1 <> connector_in_uv_2;
 WR19: connector_in_uv_2 <> component_2;
END_ENTITY; -- connector_based_interconnect_definition

  ENTITY Physical_unit_interconnect_definition
    SUBTYPE OF (part_view_definition);
  END_ENTITY; -- physical_unit_interconnect_definition

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Pre_defined_datum_symbol_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Pre defined datum symbol - EXPRESS ARM
*)

SCHEMA Pre_defined_datum_symbol_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Pre_defined_datum_2d_symbol_arm;

USE FROM Pre_defined_datum_3d_symbol_arm;

	SUBTYPE_CONSTRAINT non_feature_shape_definition_subtypes FOR non_feature_shape_definition; 
		(ONEOF (Pre_defined_datum_axis_3d_symbol,
		 Pre_defined_datum_plane_3d_symbol,
		 Pre_defined_parallel_datum_axis_2d_symbol,
		 Pre_defined_perpendicular_datum_axis_2d_symbol,
		 Pre_defined_perpendicular_datum_plane_2d_symbol,
		 View_level_non_feature_shape_definition));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT shape_definition_3d_intersection_subtypes FOR Shape_definition_3d_intersection;  
		(ONEOF (Pre_defined_perpendicular_datum_plane_symbol_3d_2d_relationship,
		Pre_defined_perpendicular_datum_axis_symbol_3d_2d_relationship,
		Pre_defined_parallel_datum_axis_symbol_3d_2d_relationship));
	END_SUBTYPE_CONSTRAINT;  

  ENTITY Pre_defined_parallel_datum_axis_symbol_3d_2d_relationship
    SUBTYPE OF (shape_definition_3d_intersection);
		SELF\shape_definition_3d_intersection.surface_intersection_result : pre_defined_parallel_datum_axis_2d_symbol;
		SELF\shape_definition_3d_intersection.projected_volume            : pre_defined_datum_axis_3d_symbol;
  END_ENTITY; -- pre_defined_parallel_datum_axis_symbol_3d_2d_relationship

  ENTITY Pre_defined_perpendicular_datum_axis_symbol_3d_2d_relationship
    SUBTYPE OF (shape_definition_3d_intersection);
      SELF\shape_definition_3d_intersection.surface_intersection_result : pre_defined_perpendicular_datum_axis_2d_symbol;
      SELF\shape_definition_3d_intersection.projected_volume            : pre_defined_datum_axis_3d_symbol;
  END_ENTITY; -- pre_defined_perpendicular_datum_axis_symbol_3d_2d_relationship

  ENTITY Pre_defined_perpendicular_datum_plane_symbol_3d_2d_relationship
    SUBTYPE OF (shape_definition_3d_intersection);
      SELF\shape_definition_3d_intersection.surface_intersection_result : pre_defined_perpendicular_datum_plane_2d_symbol;
      SELF\shape_definition_3d_intersection.projected_volume            : pre_defined_datum_plane_3d_symbol;
  END_ENTITY; -- pre_defined_perpendicular_datum_plane_symbol_3d_2d_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Pre_defined_datum_2d_symbol_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Pre defined datum 2d symbol - EXPRESS ARM
*)

SCHEMA Pre_defined_datum_2d_symbol_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Layered_2d_shape_arm;

USE FROM Extended_geometric_tolerance_arm;

	ENTITY Pre_defined_datum_2d_symbol
	  ABSTRACT SUPERTYPE OF (ONEOF(Pre_defined_parallel_datum_axis_2d_symbol, 
	  	Pre_defined_perpendicular_datum_axis_2d_symbol,  
	  	Pre_defined_perpendicular_datum_plane_2d_symbol))
	  SUBTYPE OF (planar_shape, non_feature_shape_definition);	  	
		SELF\Non_feature_shape_definition.associated_element : datum_axis;
	WHERE
      WR1 : NOT EXISTS(SELF\non_feature_shape_definition.model_shape);
      WR2 : SELF\geometric_model.context_of_items.dimension_count = 2;
	END_ENTITY;

  ENTITY Pre_defined_parallel_datum_axis_2d_symbol
    SUBTYPE OF (Pre_defined_datum_2d_symbol);
  END_ENTITY; -- pre_defined_parallel_datum_axis_2d_symbol

  ENTITY Pre_defined_perpendicular_datum_axis_2d_symbol
    SUBTYPE OF (Pre_defined_datum_2d_symbol);
  END_ENTITY; -- pre_defined_perpendicular_datum_axis_2d_symbol

  ENTITY Pre_defined_perpendicular_datum_plane_2d_symbol
    SUBTYPE OF (Pre_defined_datum_2d_symbol);
  END_ENTITY; -- pre_defined_perpendicular_datum_plane_2d_symbol

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Pre_defined_datum_3d_symbol_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Pre defined datum 3d symbol - EXPRESS ARM
*)

SCHEMA Pre_defined_datum_3d_symbol_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Extended_geometric_tolerance_arm;

  ENTITY Pre_defined_datum_axis_3d_symbol
    SUBTYPE OF (Non_feature_shape_definition);
      SELF\non_feature_shape_definition.associated_element : datum_axis;
    WHERE
      WR1 : NOT EXISTS(SELF\non_feature_shape_definition.model_shape);
      WR2 : SELF\geometric_model.context_of_items.dimension_count = 3;
  END_ENTITY; -- pre_defined_datum_axis_3d_symbol

  ENTITY Pre_defined_datum_plane_3d_symbol
    SUBTYPE OF (Non_feature_shape_definition);
      SELF\non_feature_shape_definition.associated_element : datum_plane;
    WHERE
      WR1 : NOT EXISTS(SELF\non_feature_shape_definition.model_shape);
      WR3 : SELF\geometric_model.context_of_items.dimension_count = 3;
  END_ENTITY; -- pre_defined_datum_plane_3d_symbol

	SUBTYPE_CONSTRAINT non_feature_shape_definition_subtypes FOR non_feature_shape_definition; 
	(ONEOF (pre_defined_datum_axis_3d_symbol,
	 pre_defined_datum_plane_3d_symbol));
	END_SUBTYPE_CONSTRAINT;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_cable_component_2d_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with cable component 2d - EXPRESS ARM
*)

SCHEMA Assembly_module_with_cable_component_2d_arm;

USE FROM Assembly_module_with_cable_component_arm;

USE FROM Physical_unit_2d_design_view_arm;

  ENTITY Routed_cable_component_2d_shape
    SUBTYPE OF (Assembly_component_2d_shape);
      cable_path_shape                                               : SET[1:?] OF curve;
      connector_placement                                            : SET[1:?] OF sub_model_placement_2d;
      junction_placement                                             : OPTIONAL SET[1:?] OF Detailed_geometric_model_element_relationship;
      SELF\assembly_component_2d_shape.shape_characterized_component : SET[1:1] OF cable_component;
  END_ENTITY; -- routed_cable_component_2d_shape

  ENTITY Sub_model_placement_2d;
      placement : axis_placement_2d;
      sub_model : component_2d_location;
  END_ENTITY; -- sub_model_placement_2d

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_with_cable_component_3d_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module with cable component 3d - EXPRESS ARM
*)

SCHEMA Assembly_module_with_cable_component_3d_arm;

USE FROM Assembly_module_with_cable_component_arm;

USE FROM Curve_swept_solid_arm;

USE FROM Physical_unit_3d_design_view_arm;


  ENTITY Routed_cable_component_3d_shape
    SUBTYPE OF (Assembly_component_3d_shape);
      cable_path_shape                                               : SET[1:?] OF curve_swept_solid;
      connector_placement                                            : SET[1:?] OF sub_model_placement_3d;
      junction_placement                                             : OPTIONAL SET[1:?] OF Detailed_geometric_model_element_relationship;
      SELF\assembly_component_3d_shape.shape_characterized_component : SET[1:1] OF cable_component;
  END_ENTITY; -- routed_cable_component_3d_shape

  ENTITY Sub_model_placement_3d;
      placement : axis_placement_3d;
      sub_model : component_3d_location;
  END_ENTITY; -- sub_model_placement_3d

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Shape_composition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Shape composition - EXPRESS ARM
*)

SCHEMA Shape_composition_arm; 

  USE FROM Shape_property_assignment_arm; 

  ENTITY Composite_group_shape_element
    SUBTYPE OF (Composite_shape_element);
  END_ENTITY; -- composite_group_shape_element

  ENTITY Composite_shape_element
    ABSTRACT SUPERTYPE OF (ONEOF (composite_group_shape_element,
 composite_unit_shape_element))
    SUBTYPE OF (shape_element);
    INVERSE
      composing_relationships : SET[2:?] OF shape_element_composing_relationship FOR relating;
  END_ENTITY; -- composite_shape_element

  ENTITY Composite_unit_shape_element
    SUBTYPE OF (Composite_shape_element);
  END_ENTITY; -- composite_unit_shape_element

  ENTITY Shape_element_boundary_relationship
    SUBTYPE OF (shape_element_relationship);
  END_ENTITY; -- shape_element_boundary_relationship

  ENTITY Shape_element_composing_relationship
    SUBTYPE OF (shape_element_constituent_relationship);
      SELF\shape_element_relationship.relating : composite_shape_element;
  END_ENTITY; -- shape_element_composing_relationship

  ENTITY Shape_element_constituent_relationship
    SUPERTYPE OF (shape_element_composing_relationship)
    SUBTYPE OF (shape_element_relationship);
    UNIQUE
      UR1 : related, relating;
    WHERE
      WR1 : SELF\shape_element_relationship.related <> SELF\shape_element_relationship.relating;
  END_ENTITY; -- shape_element_constituent_relationship

  ENTITY Shape_element_locating_relationship
		SUBTYPE OF (shape_element_constituent_relationship);
      SELF\Shape_element_relationship.relating RENAMED locating_shape_element	: shape_element;
      SELF\Shape_element_relationship.related RENAMED located_shape_element		: shape_element;
    UNIQUE
      UR1 : located_shape_element,
 locating_shape_element;
  END_ENTITY; -- shape_element_locating_relationship


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Shape_parameters_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Shape parameters - EXPRESS ARM
*)

SCHEMA Shape_parameters_arm;

USE FROM External_item_identification_assignment_arm;

  TYPE application_environment = ENUMERATION OF
    (end_user_application,
     manufacturing);
  END_TYPE; -- application_environment

  TYPE keepout_product_design_object_category = ENUMERATION OF
    (assembly_module_assembly_component,
     assembly_module_component_feature,
     assembly_ee_material,
     interconnect_ee_material,
     interconnect_module_assembly_component,
     interconnect_module_via,
     interconnect_module_inter_stratum_feature,
     interconnect_module_cutout,
     interconnect_module_fill_area,
     interconnect_module_laminate_component,
     interconnect_module_stratum_feature);
  END_TYPE; -- keepout_product_design_object_category

  TYPE keepout_purpose = SELECT
    (predefined_keepout_purpose,
     external_item_identification);
  END_TYPE; -- keepout_purpose

  TYPE material_condition = ENUMERATION OF
    (nominal_material_condition,
     minimum_material_condition,
     maximum_material_condition);
  END_TYPE; -- material_condition

  TYPE material_condition_property_names = ENUMERATION OF
    (maximum_material_principle,
     least_material_requirement);
  END_TYPE; -- material_condition_property_names

 	TYPE physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  TYPE predefined_keepout_purpose = ENUMERATION OF
    (thermal,
     generic_clearance,
     shock,
     vibration,
     electromagnetic_compatibility);
  END_TYPE; -- predefined_keepout_purpose

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Shield_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Shield - EXPRESS ARM
*)

SCHEMA Shield_arm;

USE FROM Component_feature_arm;

USE FROM Functional_design_elaboration_arm;

	TYPE shieldable_item = SELECT
    (assembly_component,
   	component_feature,
   	physical_connectivity_definition);
	END_TYPE;

  ENTITY Shield
    SUBTYPE OF (Assembly_component);
      shielded_item : SET[1:?] OF shieldable_item;
  END_ENTITY; -- shield

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Software_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Software - EXPRESS ARM
*)

SCHEMA Software_arm;

USE FROM Document_definition_arm;

USE FROM Document_and_version_identification_arm;

USE FROM Product_view_definition_arm;

REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
        types_of_product 
); 

  ENTITY Software 
    SUBTYPE OF (Document);
  	WHERE 
  		WR1 : SIZEOF([ 'software', 'analytical model', 'rule' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- Software

  ENTITY Software_definition 
    SUBTYPE OF (Digital_document_definition);
    SELF\product_view_definition.defined_version : software_version;
  END_ENTITY; -- Software_definition

  ENTITY Software_version
    SUBTYPE OF (Document_version);
    SELF\product_version.of_product : software;
  END_ENTITY; -- Software_version

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Technology_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Technology - EXPRESS ARM
*)

SCHEMA Technology_arm;

USE FROM Specification_document_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM External_item_identification_assignment_arm;

 	TYPE t_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Technology);
	END_TYPE;

  ENTITY Technology;
      process_technology      : process_specification;
      material_product_system : material_identification;
    INVERSE
      classification 					: External_source_identification FOR item;
  END_ENTITY; -- technology

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Test_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Test requirement allocation - EXPRESS ARM
*)

SCHEMA Test_requirement_allocation_arm;

USE FROM Requirement_assignment_arm;	

USE FROM Requirement_decomposition_arm;

REFERENCE FROM Requirement_decomposition_arm (get_requirement_definition_property);

USE FROM Part_terminal_arm;
	
USE FROM Network_functional_usage_view_arm (functional_unit_usage_view_terminal_definition);
	

  ENTITY Test_requirement_allocation
    SUBTYPE OF (requirement_assignment);
      SELF\requirement_assignment.assigned_to : product_version;
      (** Need a rule to capture particular type for analytical_model_based_test_access *)
      analytical_model_based_test_access                : OPTIONAL SET[1:?] OF Analytical_model_port_assignment; --part_feature_model_port_assignment;
      functional_specification_based_test_access        : OPTIONAL SET[1:?] OF functional_usage_view_to_part_terminal_assignment;
    DERIVE
    	assigned_requirement_property :  requirement_definition_property := get_requirement_definition_property(SELF, 'REQUIREMENT_DECOMPOSITION_ARM.'+'TEST_REQUIREMENT_OCCURRENCE');
    WHERE
      WR1 : NOT (EXISTS(analytical_model_based_test_access)) OR (SIZEOF(QUERY(ta <* analytical_model_based_test_access | NOT (ta.source.associated_definition.defined_version = SELF\requirement_assignment.assigned_to))) = 0);
      WR2 : NOT (EXISTS(analytical_model_based_test_access)) OR (SIZEOF(QUERY(ta <* analytical_model_based_test_access | NOT (ta.target.accessed_analytical_model = SELF\requirement_assignment.assigned_requirement.required_analytical_representation[1].model_representation))) = 0);
      WR3 : EXISTS(analytical_model_based_test_access) XOR EXISTS(functional_specification_based_test_access);
      WR4 : NOT (EXISTS(analytical_model_based_test_access)) OR (EXISTS(SELF\requirement_assignment.assigned_requirement\Requirement_definition_property.required_analytical_representation));
      WR5 : NOT (EXISTS(functional_specification_based_test_access)) OR (SIZEOF(QUERY(fa <* functional_specification_based_test_access | NOT (fa.physical_usage_view_terminal\shape_element.containing_shape.defined_version = SELF\requirement_assignment.assigned_to))) = 0);
      WR6 : NOT (EXISTS(functional_specification_based_test_access)) OR (EXISTS(SELF\requirement_assignment.assigned_requirement\Requirement_definition_property.required_functional_specification));
      WR7 : NOT (EXISTS(functional_specification_based_test_access)) OR (SIZEOF(QUERY(fa <* functional_specification_based_test_access | NOT (fa.functional_usage_view_terminal\functional_unit_usage_view_terminal_definition.associated_functional_unit_definition = SELF\requirement_assignment.assigned_requirement\Requirement_definition_property.required_functional_specification[1].characterizing_functional_unit.definition))) = 0);
  END_ENTITY; -- test_requirement_allocation

END_SCHEMA;  


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Thermal_network_definition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Thermal network definition - EXPRESS ARM
*)

SCHEMA Thermal_network_definition_arm;

USE FROM Network_functional_design_view_arm;

  ENTITY Thermal_network_definition
    SUBTYPE OF (Functional_unit_network_definition);
  END_ENTITY; -- thermal_network_definition

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Via_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Via component - EXPRESS ARM
*)
SCHEMA Via_component_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Component_feature_arm;

USE FROM Interconnect_module_connection_routing_arm;

  ENTITY Blind_via
    ABSTRACT SUPERTYPE OF (ONEOF (bonded_conductive_base_blind_via,
 non_conductive_base_blind_via,
 plated_conductive_base_blind_via))
    SUBTYPE OF (via);
  END_ENTITY; -- blind_via

  ENTITY Bonded_conductive_base_blind_via
    SUBTYPE OF (Blind_via);
      features_join : stratum_feature_conductive_join;
    UNIQUE
    	UR1 : features_join;
  END_ENTITY; -- bonded_conductive_base_blind_via

  ENTITY Buried_via
    SUBTYPE OF (via);
  END_ENTITY; -- buried_via
  
  ENTITY Interfacial_connection
    SUBTYPE OF (via);
  END_ENTITY; -- interfacial_connection

  ENTITY Non_conductive_base_blind_via
    SUBTYPE OF (Blind_via);
  END_ENTITY; -- non_conductive_base_blind_via

  ENTITY Plated_conductive_base_blind_via
    SUBTYPE OF (Blind_via);
  END_ENTITY; -- plated_conductive_base_blind_via

 SUBTYPE_CONSTRAINT via_subtypes FOR via;   
 	(ONEOF (blind_via,
 	buried_via,
 	interfacial_connection));
 END_SUBTYPE_CONSTRAINT;  

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Advanced_boundary_representation_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1288 - ISO/TS 10303-1514 Advanced boundary representation - EXPRESS ARM
*)

SCHEMA Advanced_boundary_representation_arm;

USE FROM Elemental_geometric_shape_arm;

ENTITY Advanced_brep_shape_representation
	SUBTYPE OF (Geometric_model);
END_ENTITY;
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Altered_package_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Altered package - EXPRESS ARM
*)

SCHEMA Altered_package_arm;

USE FROM Package_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Specification_document_arm;

  TYPE geometric_status = SELECT
    (predefined_geometric_status,
     external_item_identification);
  END_TYPE; -- geometric_status

  TYPE predefined_geometric_status = ENUMERATION OF
    (undefined,
     standard_datum_condition,
     perpendicular_primary_datum_axis,
     perpendicular_primary_datum_plane);
  END_TYPE; -- predefined_geometric_status

  ENTITY Altered_package
    SUBTYPE OF (package);
      of_geometric_status          : geometric_status;
      modified_terminal_separation : OPTIONAL length_data_element;
      package_to_be_altered        : package;
  END_ENTITY; -- altered_package

  ENTITY Altered_package_terminal
    ABSTRACT SUPERTYPE OF ((shape_formed_terminal ANDOR
 surface_prepped_terminal) ANDOR
 length_trimmed_terminal)
    SUBTYPE OF (package_terminal);
      terminal_to_be_altered                  : package_terminal;
      SELF\part_feature.associated_definition : altered_package;
  END_ENTITY; -- altered_package_terminal

  ENTITY Length_trimmed_terminal
    SUBTYPE OF (Altered_package_terminal);
      maximum_trimmed_length : length_data_element;
      minimum_trimmed_length : length_data_element;
  END_ENTITY; -- length_trimmed_terminal

  ENTITY Shape_formed_terminal
    SUBTYPE OF (Altered_package_terminal);
  END_ENTITY; -- shape_formed_terminal

  ENTITY Surface_prepped_terminal
    SUBTYPE OF (Altered_package_terminal);
      surface_preparation : surface_finish_specification;
  END_ENTITY; -- surface_prepped_terminal

END_SCHEMA; -- Altered_package_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Altered_part_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Altered part - EXPRESS ARM
*)

SCHEMA Altered_part_arm;

USE FROM Altered_package_arm;

USE FROM Packaged_part_black_box_model_arm;

  ENTITY Altered_packaged_part
    SUBTYPE OF (packaged_part);
      SELF\packaged_part.used_package : SET[1:1] OF altered_package;
      base_packaged_part              : packaged_part;
  END_ENTITY; -- altered_packaged_part
  
END_SCHEMA; -- Altered_part_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Analytical_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Analytical model - EXPRESS ARM
*)

SCHEMA Analytical_model_arm;

USE FROM Model_parameter_arm;

USE FROM Specification_document_arm;

USE FROM Value_with_unit_extension_arm;

REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
        types_of_product 
); 

USE FROM Software_arm;

USE FROM Document_structure_arm;

	TYPE analytical_model_application_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

	TYPE analytical_model_port_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  TYPE model_parameter_type = ENUMERATION OF
    (string_property_type,
     boolean_property_type,
     logical_property_type,
     numeric_property_type,
     physical_property_type);
  END_TYPE; -- model_parameter_type

  TYPE signal_flow_direction = ENUMERATION OF
    (unknown_direction,
     not_applicable,
     output_direction,
     input_direction,
     bidirectional);
  END_TYPE; -- signal_flow_direction

  ENTITY Across_port_variable
    SUBTYPE OF (port_variable);
    WHERE
      WR1 : EXISTS(SELF\port_variable.unit_of_measure);
  END_ENTITY; -- across_port_variable

  ENTITY Analog_analytical_model_port
    SUBTYPE OF (Analytical_model_port);
    INVERSE
      signal_variable : SET[1:?] OF port_variable FOR associated_port;
  END_ENTITY; -- analog_analytical_model_port

  ENTITY Analytical_model
  	SUBTYPE OF (software);
  	WHERE 
  		WR1 : SIZEOF([ 'analytical model' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- analytical_model

  ENTITY Analytical_model_application
    SUBTYPE OF (representation);  
      model_parameter_assignment     : SET[1:?] OF parameter_assignment;
      model_representation           : analytical_model_definition;
      analytical_model_application_name : STRING; --ee_name;
    UNIQUE
      UR1 : analytical_model_application_name;
  END_ENTITY; -- analytical_model_application

	ENTITY Analytical_model_application_assignment; --- was analytical_model_definition_assignment;
		assigned_analytical_model: Analytical_model_application;
		assigned_item: analytical_model_application_assignment_select;
	END_ENTITY; -- Analytical_model_application_assignment

  ENTITY Analytical_model_definition
    SUBTYPE OF (software_definition);
      SELF\product_view_definition.defined_version 	: Analytical_model_version;
      representation_language 						: language_reference_manual;
      reference_document      						: document_definition;
      source_code             						: software_definition;
    INVERSE
      access_mechanism : SET[1:?] OF analytical_model_port FOR accessed_analytical_model;
      parameter        : SET[1:?] OF analytical_model_parameter FOR accessed_analytical_model;
  END_ENTITY; -- analytical_model_definition

  ENTITY Analytical_model_make_from_relationship
  	SUBTYPE OF (Document_definition_relationship);
      reusable_model  : analytical_model_definition;
      resultant_model : analytical_model_definition;
    UNIQUE
      UR1 : reusable_model,
 resultant_model;
    WHERE
      WR1 : reusable_model :<>: resultant_model;
  END_ENTITY; -- analytical_model_make_from_relationship

  ENTITY Analytical_model_parameter
    SUBTYPE OF (Model_parameter);
      accessed_analytical_model : analytical_model_definition;
    UNIQUE
      UR1 : SELF\independent_property.id,
 accessed_analytical_model;
  END_ENTITY; -- analytical_model_parameter

  ENTITY Analytical_model_port
    SUPERTYPE OF (analytical_model_vector_port ANDOR
 (ONEOF (analog_analytical_model_port,
 digital_analytical_model_port)));
      accessed_analytical_model : analytical_model_definition;
      port_name                 : STRING; --ee_name;
    UNIQUE
      UR1 : port_name,
 accessed_analytical_model;
  END_ENTITY; -- analytical_model_port

  ENTITY Analytical_model_port_assignment;
		assigned_analytical_model_port	: analytical_model_port;
		assigned_item										: analytical_model_port_assignment_select;
  END_ENTITY; -- analytical_model_port_assignment

  ENTITY Analytical_model_port_make_from_relationship;
      associated_make_from : analytical_model_make_from_relationship;
      reusable_feature     : analytical_model_port;
      resultant_feature    : analytical_model_port;
    UNIQUE
      UR1 : reusable_feature,
 resultant_feature;
    WHERE
      WR1 : reusable_feature :<>: resultant_feature;
      WR2 : reusable_feature.accessed_analytical_model :<>: resultant_feature.accessed_analytical_model;
  END_ENTITY; -- analytical_model_port_make_from_relationship

  ENTITY Analytical_model_scalar_port
    SUBTYPE OF (Analytical_model_vector_port);
    WHERE
      WR1 : SELF\analytical_model_vector_port.size = 1;
  END_ENTITY; -- analytical_model_scalar_port

  ENTITY Analytical_model_vector_port
    SUPERTYPE OF (analytical_model_scalar_port)
    SUBTYPE OF (Analytical_model_port);
      size : INTEGER; -- positive_integer;
  END_ENTITY; -- analytical_model_vector_port
  
  ENTITY Analytical_model_version
  	SUBTYPE OF (software_version);
  		SELF\product_version.of_product : analytical_model;
  END_ENTITY; 

  ENTITY Digital_analytical_model_port
    SUBTYPE OF (Analytical_model_port);
      nominal_signal_flow_direction : signal_flow_direction;
      port_type                     : model_parameter_type;
    WHERE
      WR1 : not_applicable <> nominal_signal_flow_direction;
      WR2 : numeric_property_type <> port_type;
      WR3 : physical_property_type <> port_type;
  END_ENTITY; -- digital_analytical_model_port

  ENTITY Port_variable
    SUPERTYPE OF (ONEOF (through_port_variable,
 across_port_variable,
 transform_port_variable));
      associated_port : analog_analytical_model_port;
      variable_name   : STRING; --ee_name;
      unit_of_measure : OPTIONAL Unit; --STRING;
    UNIQUE
      UR1 : variable_name,
 associated_port;
  END_ENTITY; -- port_variable

  ENTITY Terminal_pair_port_equivalence_relationship;
      equivalent_port : analytical_model_port;
      scalar_ports    : LIST[2:2] OF UNIQUE analytical_model_scalar_port;
  END_ENTITY; -- terminal_pair_port_equivalence_relationship

  ENTITY Through_port_variable
    SUBTYPE OF (port_variable);
    WHERE
      WR1 : EXISTS(SELF\port_variable.unit_of_measure);
  END_ENTITY; -- through_port_variable
  
  ENTITY Transform_port_variable
    SUBTYPE OF (port_variable);
      nominal_signal_flow_direction : signal_flow_direction;
    WHERE
      WR1 : not_applicable <> nominal_signal_flow_direction;
      WR2 : bidirectional <> nominal_signal_flow_direction;
  END_ENTITY; -- transform_port_variable

END_SCHEMA; -- Analytical_model_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Component_grouping_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Component grouping - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Component_grouping_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Interface_component_arm;	

USE FROM Assembly_structure_arm;

  ENTITY Array_placement_group
    ABSTRACT SUPERTYPE OF(ONEOF (linear_array_placement_group_component,
		rectangular_array_placement_group_component))
    SUBTYPE OF (Assembly_group_component);
  END_ENTITY; -- array_placement_group

  ENTITY Assembly_component_placement_link;
      precedent_element  : assembly_component;
      subsequent_element : assembly_component;
    INVERSE
      referenced_by : linear_array_placement_group_component FOR element;
  END_ENTITY; -- assembly_component_placement_link

  ENTITY Assembly_group_component
    SUBTYPE OF (Assembly_component);
    INVERSE
      components : SET[0:?] OF next_assembly_usage FOR relating_view;
  END_ENTITY; -- assembly_group_component

  ENTITY Interfaced_group_component
    SUBTYPE OF (Assembly_group_component);
      group_interface_component : SET[1:?] OF interface_component;
  END_ENTITY; -- interfaced_group_component

  ENTITY Linear_array_placement_group_component
    SUBTYPE OF (Array_placement_group);
      element                               : SET[1:?] OF assembly_component_placement_link;
      initial_node_positive_x_displacement  : length_data_element;
      terminus_node_positive_x_displacement : length_data_element;
      location_uncertainty                  : length_data_element;
  END_ENTITY; -- linear_array_placement_group_component

  ENTITY Linear_array_placement_group_component_link;
      precedent_element  : linear_array_placement_group_component;
      subsequent_element : linear_array_placement_group_component;
    INVERSE
      referenced_by : rectangular_array_placement_group_component FOR element;
  END_ENTITY; -- linear_array_placement_group_component_link

  ENTITY Rectangular_array_placement_group_component
    SUBTYPE OF (Array_placement_group);
      element                              : SET[1:?] OF linear_array_placement_group_component_link;
      initial_row_positive_y_displacement  : length_data_element;
      terminus_row_positive_y_displacement : length_data_element;
      location_uncertainty                 : length_data_element;
  END_ENTITY; -- rectangular_array_placement_group_component

END_SCHEMA; -- Component_grouping_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_component_placement_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly component placement requirements - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_component_placement_requirements_arm;

	USE FROM Physical_unit_design_view_arm;
	
	USE FROM Requirement_decomposition_arm;
	
	USE FROM Extended_geometric_tolerance_arm;
	
	USE FROM Non_feature_shape_element_arm;
	
	USE FROM Assembly_module_design_arm;
		
	USE FROM Assembly_module_with_interconnect_component_arm;
		
	TYPE restriction_basis_item = EXTENSIBLE GENERIC_ENTITY SELECT(
		Requirement_definition_property,
   		Part_feature);
	END_TYPE;

TYPE acpr_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
    (restriction_basis_item,
  	Placement_group);
END_TYPE; 

  ENTITY Component_group_assignment;
      associated_group   : placement_group;
      assigned_component : assembly_component;
  END_ENTITY; -- component_group_assignment

  ENTITY Component_placement_restriction_assignment;
      maximum_negative_component_height : OPTIONAL datum_based_length_measure;
      maximum_positive_component_height : OPTIONAL datum_based_length_measure;
      area                              : OPTIONAL mounting_restriction_area;
      volume                            : OPTIONAL mounting_restriction_volume;
      requirement                       : item_restricted_requirement_occurrence;
      components_permitted              : BOOLEAN;
      maximum_mounting_clearance        : OPTIONAL datum_based_length_measure;
      minimum_mounting_clearance        : OPTIONAL datum_based_length_measure;
    WHERE
      WR1 : EXISTS(area) OR EXISTS(volume);
  END_ENTITY; -- component_placement_restriction_assignment

  ENTITY Item_restricted_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
      basis : restriction_basis_item;
  END_ENTITY; -- item_restricted_requirement_occurrence

  ENTITY Mounting_restriction_area
    SUBTYPE OF (Non_feature_shape_element);
      mounting_surface                     : interconnect_module_component_surface_feature;
      SELF\non_feature_shape_element.scope : assembly_module;
    WHERE
      WR1 : 'AP210_ARM.CONSTRUCTIVE_GEOMETRY' IN TYPEOF(SELF\non_feature_shape_element.element_shape);
  END_ENTITY; -- mounting_restriction_area

  ENTITY Mounting_restriction_volume
    SUBTYPE OF (Non_feature_shape_element);
      mounting_surface                     : interconnect_module_component_surface_feature;
      SELF\non_feature_shape_element.scope : assembly_module;
    INVERSE
      volume : non_feature_shape_definition FOR associated_element;
    WHERE
      WR1 : 'AP210_ARM.THREE_DIMENSIONAL_SHAPE' IN TYPEOF(volume);
  END_ENTITY; -- mounting_restriction_volume

  ENTITY Placement_group;
      design_specific_usage : STRING; --ee_name;
(** Need a WR to capture cardinality      
      requirement           : SET[1:?] OF Requirement_definition_property;
*)      
  END_ENTITY; -- placement_group

  ENTITY Placement_group_area_assignment;
      placed_group : placement_group;
      area         : mounting_restriction_area;
  END_ENTITY; -- placement_group_area_assignment

  ENTITY Placement_group_volume_assignment;
      placed_group : placement_group;
      volume       : mounting_restriction_volume;
  END_ENTITY; -- placement_group_volume_assignment

END_SCHEMA; -- Assembly_component_placement_requirements_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_functional_interface_requirement_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly functional interface requirement - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_functional_interface_requirement_arm;

USE FROM Packaged_part_black_box_model_arm;

USE FROM Printed_physical_layout_template_arm;

USE FROM Product_view_definition_arm;

USE FROM Functional_specification_arm;

USE FROM Requirement_assignment_arm;	

USE FROM Requirement_decomposition_arm;

REFERENCE FROM Requirement_decomposition_arm (get_requirement_definition_property);

USE FROM Assembly_physical_interface_requirement_arm;

(** Renamed packaged_or_printed_terminal to mating_connector_definition_select *)
	TYPE mating_connector_definition_select = SELECT
		(packaged_part_terminal,
		printed_part_template_terminal);
	END_TYPE;

	TYPE afir_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Mating_connector_termination,
	    Termination_constraint);
	END_TYPE; 

  ENTITY Interface_requirement_occurrence
    SUBTYPE OF (Design_requirement_occurrence);
      interface_to_next_higher_assembly : OPTIONAL next_higher_assembly_interface_requirement;
      reference_protocol                : OPTIONAL protocol_physical_layer_definition;
  END_ENTITY; -- interface_requirement_occurrence

  ENTITY Mating_connector_termination;
      definition         : mating_connector_definition_select;
      accessed_connector : mating_connector_component;
      name               : STRING; --ee_name;
(** Need a WR to capture cardinality      
      signal_definition  : OPTIONAL Requirement_definition_property;
*)      
    UNIQUE
      UR1 : definition,
 accessed_connector;
  END_ENTITY; -- mating_connector_termination

  ENTITY Minimally_defined_connector
    SUBTYPE OF (packaged_part);
    	SELF\packaged_part.used_package	: SET[1:?] OF package_external_reference;
    INVERSE
      terminal 												: SET[1:?] OF Shape_element FOR containing_shape;
    WHERE
      WR1 : SIZEOF(QUERY(t <* SELF\packaged_part.access_mechanisms | ('AP210_ARM.PACKAGED_PART_INTERFACE_TERMINAL' IN TYPEOF(t)))) >= 0;
      WR2 : NOT EXISTS(SELF\packaged_part.implemented_function);
      WR3 : NOT EXISTS(SELF\packaged_part.potting_compound);
      WR4 : NOT ('AP210_ARM.ALTERED_PACKAGED_PART' IN TYPEOF(SELF));
  END_ENTITY; -- minimally_defined_connector

  ENTITY Protocol_physical_layer_definition
    SUBTYPE OF (product_view_definition);
      host_connector                       : OPTIONAL minimally_defined_connector;
      host_functional_definition           : functional_unit_usage_view;
      host_rcv_functional_characterization : OPTIONAL functional_specification_definition;
      host_xmt_functional_characterization : OPTIONAL functional_specification_definition;
      media_connector                      : OPTIONAL minimally_defined_connector;
      media_functional_characterization    : OPTIONAL functional_specification_definition;
      media_functional_definition          : OPTIONAL functional_unit_usage_view;
    DERIVE
      reference_document : SET[1:1] OF document_definition := SELF\product_view_definition.documentation;
    WHERE
      WR1 : EXISTS(SELF\product_view_definition.documentation);
      WR2 : SIZEOF(SELF\product_view_definition.documentation) = 1;
      WR3 : EXISTS(host_functional_definition) OR EXISTS(media_functional_definition);
  END_ENTITY; -- protocol_physical_layer_definition

  ENTITY Protocol_requirement_allocation_to_part_terminal
    SUBTYPE OF (requirement_assignment);
      SELF\requirement_assignment.assigned_to : part_terminal;
      protocol_signal                                   : functional_unit_usage_view_terminal_definition;
    DERIVE
    	assigned_requirement_property :  requirement_definition_property := get_requirement_definition_property(SELF, 'ASSEMBLY_FUNCTIONAL_INTERFACE_REQUIREMENT_ARM.'+'INTERFACE_REQUIREMENT_OCCURRENCE');
    WHERE
      WR1 : EXISTS(SELF\requirement_assignment.assigned_requirement.reference_protocol);
      WR2 : protocol_signal IN SELF\requirement_assignment.assigned_requirement.reference_protocol.host_functional_definition\functional_unit_usage_view.access_mechanism;
  END_ENTITY; -- protocol_requirement_allocation_to_part_terminal

  ENTITY Termination_constraint;
      constrained_termination      : SET[2:?] OF mating_connector_termination;
(** Need a WR to capture cardinality      
      termination_usage_constraint : Requirement_definition_property;
*)      
  END_ENTITY; -- termination_constraint

END_SCHEMA; -- Assembly_functional_interface_requirement_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interface_component_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interface component - EXPRESS ARM
*)

SCHEMA Interface_component_arm;

USE FROM Physical_unit_design_view_arm;
USE FROM Physical_component_feature_arm;

	SUBTYPE_CONSTRAINT physical_component_feature_subtypes FOR physical_component_feature;
		(ONEOF (physical_component_terminal,
	 	component_interface_terminal));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Component_interface_terminal
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (physical_component_feature);
      SELF\component_feature.associated_component : interface_component;
  END_ENTITY; -- component_interface_terminal
 
  ENTITY Interface_component
    SUBTYPE OF (physical_component);
    INVERSE
      access_mechanism : SET[1:?] OF component_interface_terminal FOR associated_component;
  END_ENTITY;

END_SCHEMA; -- Interface_component_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module design - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_module_design_arm;

USE FROM Assembly_module_usage_view_arm;

USE FROM Altered_package_arm;

USE FROM Bare_die_arm;

USE FROM Component_grouping_arm;

USE FROM Packaged_part_black_box_model_arm;

USE FROM Part_feature_function_arm;

USE FROM Physical_unit_design_view_arm;

 	TYPE assembled_feature_select = EXTENSIBLE GENERIC_ENTITY SELECT
 		(Bare_die_component_terminal,
     	Component_mounting_feature,
 		Packaged_component_join_terminal);
	END_TYPE;

	TYPE assembly_module_or_assembly_group_component = 
		EXTENSIBLE GENERIC_ENTITY SELECT 
		(Assembly_module,
		Assembly_group_component);
	END_TYPE;

  ENTITY Assembly_module
    SUBTYPE OF (part_design_view);
  END_ENTITY; -- assembly_module

  ENTITY Bare_die_component
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : bare_die;
  END_ENTITY; -- bare_die_component

  ENTITY Bare_die_component_terminal
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition           : bare_die_terminal;
      SELF\component_feature.associated_component : bare_die_component;
  END_ENTITY; -- bare_die_component_terminal

  ENTITY Component_external_reference;
      design_owner          : STRING;
      part_number           : STRING;
      revision_code         : STRING;
      product_definition_id : STRING;
      reference_designation : STRING;
  END_ENTITY; -- component_external_reference

  ENTITY Component_feature_external_reference;
      associated_component : component_external_reference;
      name                 : STRING;
    UNIQUE
      UR1 : associated_component,
 name;
  END_ENTITY; -- component_feature_external_reference

  ENTITY Component_mounting_clearance_relationship;
      feature_relationship       : component_feature_relationship;
      minimum_mounting_clearance : length_data_element;
      maximum_mounting_clearance : OPTIONAL length_data_element;
  END_ENTITY; -- component_mounting_clearance_relationship

  ENTITY Component_mounting_feature
    SUBTYPE OF (physical_component_feature);
      SELF\component_feature.definition : part_mounting_feature;
  END_ENTITY; -- component_mounting_feature

  ENTITY Component_overlap_relationship;
      previously_placed_component : next_assembly_usage;
      current_component           : next_assembly_usage;
      minimum_added_clearance     : length_data_element;
      maximum_added_clearance     : OPTIONAL length_data_element;
  END_ENTITY; -- component_overlap_relationship

  ENTITY Minimally_defined_component_terminal
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition : part_terminal_external_reference;
  END_ENTITY; -- minimally_defined_component_terminal

  ENTITY Movable_packaged_component_join_terminal
    SUBTYPE OF (packaged_component_join_terminal);
      maximum_wire_terminal_length : length_data_element;
      minimum_wire_terminal_length : length_data_element;
    WHERE
      WR1 : 'AP210_ARM.WIRE_TERMINAL' IN TYPEOF(SELF\component_feature.definition\packaged_part_terminal.terminal_of_package);
  END_ENTITY; -- movable_packaged_component_join_terminal

  ENTITY Package_terminal_occurrence;
      definition           : package_terminal;
      associated_component : packaged_component;
  END_ENTITY; -- package_terminal_occurrence

  ENTITY Packaged_component
    SUBTYPE OF (physical_component);
      SELF\definition_based_product_occurrence.derived_from : packaged_part;
      selected_package_alternate               : OPTIONAL altered_package;
    INVERSE
      access_mechanism : SET[1:?] OF packaged_component_join_terminal FOR associated_component;
  END_ENTITY; -- packaged_component

  ENTITY Packaged_component_join_terminal
    SUBTYPE OF (physical_component_terminal);
      SELF\component_feature.definition           : packaged_part_join_terminal;
      SELF\component_feature.associated_component : packaged_component;
  END_ENTITY; -- packaged_component_join_terminal

  ENTITY Pca
    SUBTYPE OF (Assembly_module);
      SELF\part_design_view.usage_view : pca_usage_view;
  END_ENTITY; -- pca

  ENTITY Routed_interconnect_component
    SUBTYPE OF (physical_component);
      routed_centreline_shape : curve;
  END_ENTITY; -- routed_interconnect_component

  ENTITY Routed_physical_component
    SUBTYPE OF (physical_component);
      routed_centreline_shape : curve;
  END_ENTITY; -- routed_physical_component

END_SCHEMA; -- Assembly_module_design_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_module_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly module usage view - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_module_usage_view_arm;


USE FROM Part_terminal_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Network_functional_usage_view_arm;

USE FROM Packaged_connector_model_arm;


  ENTITY Assembly_module_interface_terminal
    SUBTYPE OF (Assembly_module_terminal);
  END_ENTITY; -- assembly_module_interface_terminal

  ENTITY Assembly_module_terminal
    SUPERTYPE OF (assembly_module_interface_terminal ANDOR
 pca_terminal)
    SUBTYPE OF (part_terminal);
      SELF\part_feature.associated_definition : assembly_module_usage_view;
      reference_terminal                      : OPTIONAL packaged_part_interface_terminal;
      related_connector                       : OPTIONAL next_assembly_usage;
      terminal_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
    WHERE
      WR1 : NOT EXISTS(related_connector) OR (SELF\shape_element.containing_shape = related_connector\assembly_component_relationship.related_view);
      WR2 : EXISTS(related_connector.location_indicator);
  END_ENTITY; -- assembly_module_terminal

  ENTITY Assembly_module_usage_view
    SUPERTYPE OF (pca_usage_view)
    SUBTYPE OF (part_usage_view, assembly_definition);
      implemented_function              : functional_unit_usage_view;
      maximum_negative_component_height : OPTIONAL datum_based_length_measure;
      maximum_positive_component_height : OPTIONAL datum_based_length_measure;
    INVERSE
      access_mechanisms : SET[2:?] OF assembly_module_terminal FOR associated_definition;
  END_ENTITY; -- assembly_module_usage_view

  ENTITY Pca_terminal
    SUBTYPE OF (Assembly_module_terminal);
      SELF\part_feature.associated_definition : pca_usage_view;
  END_ENTITY; -- pca_terminal

  ENTITY Pca_usage_view
    SUBTYPE OF (Assembly_module_usage_view);
  END_ENTITY; -- pca_usage_view

END_SCHEMA; -- Assembly_module_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_physical_interface_requirement_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly physical interface requirement - EXPRESS ARM
*)

SCHEMA Assembly_physical_interface_requirement_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Product_view_definition_arm;

  ENTITY Mating_connector_component;
      definition            : product_view_definition;
      reference_designation : OPTIONAL STRING; 
    INVERSE
      placement_context : mating_connector_placement_relationship FOR placed_connector;
  END_ENTITY; -- mating_connector_component

  ENTITY Mating_connector_placement_relationship;
      placed_connector    : mating_connector_component;
      interface_context   : next_higher_assembly_interface_requirement;
      connector_placement : axis_placement;
  END_ENTITY; -- mating_connector_placement_relationship

  ENTITY Next_higher_assembly_interface_requirement;
      shape                           : three_dimensional_shape;
      version_of_next_higher_assembly : product_version;
  END_ENTITY; -- next_higher_assembly_interface_requirement

END_SCHEMA; -- Assembly_physical_interface_requirement_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_physical_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly physical requirement allocation - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_physical_requirement_allocation_arm;

USE FROM Assembly_physical_interface_requirement_arm;

USE FROM Assembly_technology_arm;

USE FROM Interface_component_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Requirement_assignment_arm;	

USE FROM Requirement_decomposition_arm;	

REFERENCE FROM Requirement_decomposition_arm (get_requirement_definition_property);

USE FROM Shield_arm;

 	TYPE component_or_feature = EXTENSIBLE GENERIC_ENTITY SELECT
 		(assembly_component,
 		assembly_joint,
 		component_feature);
	END_TYPE;

   ENTITY Assembly_requirement_allocation
    SUBTYPE OF (requirement_assignment);
      SELF\requirement_assignment.assigned_to : component_or_feature;
  END_ENTITY; -- assembly_requirement_allocation
 
  ENTITY Assembly_separation_requirement_allocation
    SUBTYPE OF (Assembly_requirement_allocation);
      disjoint_assignment : SET[1:?] OF component_or_feature;
  END_ENTITY; -- assembly_separation_requirement_allocation

  ENTITY Electromagnetic_compatibility_requirement_allocation
    SUPERTYPE OF (shield_allocation)
    SUBTYPE OF (Assembly_requirement_allocation);
  END_ENTITY; -- electromagnetic_compatibility_requirement_allocation

  ENTITY Interface_component_allocation;
      mating_solution    : interface_component;
      mating_requirement : mating_connector_component;
  END_ENTITY; -- interface_component_allocation

  ENTITY Shield_allocation
    SUBTYPE OF (Electromagnetic_compatibility_requirement_allocation);
      SELF\requirement_assignment.assigned_to : shield;
    DERIVE
    	assigned_requirement_property :  requirement_definition_property := get_requirement_definition_property(SELF, 'ASSEMBLY_PHYSICAL_REQUIREMENT_ALLOCATION_ARM.'+'ELECTROMAGNETIC_REQUIREMENT_OCCURRENCE');
  END_ENTITY; -- shield_allocation

  ENTITY Thermal_requirement_allocation
    SUBTYPE OF (Assembly_requirement_allocation);
      SELF\requirement_assignment.assigned_to : thermal_component;
    DERIVE
    	assigned_requirement_property :  requirement_definition_property := get_requirement_definition_property(SELF, 'ASSEMBLY_PHYSICAL_REQUIREMENT_ALLOCATION_ARM.'+'THERMAL_REQUIREMENT_OCCURRENCE');
  END_ENTITY; -- thermal_requirement_allocation

END_SCHEMA; -- Assembly_physical_requirement_allocation_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly shape - EXPRESS ARM
*)

SCHEMA Assembly_shape_arm;

USE FROM Assembly_module_design_arm;

USE FROM Layered_shape_arm;

USE FROM Physical_unit_design_view_arm;

  ENTITY Assembly_connection_zone_position_relationship;
      associating_design_view_shape               : feature_shape_definition;
      associated_usage                            : connection_zone_in_design_view;
      associated_connection_zone_shape_definition : feature_shape_definition;
      associated_usage_placement                  : axis_placement;
      associating_design_view                     : assembly_module;
  END_ENTITY; -- assembly_connection_zone_position_relationship
 
END_SCHEMA; -- Assembly_shape_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly 2d shape - EXPRESS ARM
*)
SCHEMA Assembly_2d_shape_arm;

USE FROM Physical_unit_2d_design_view_arm;

USE FROM Assembly_technology_arm;

	SUBTYPE_CONSTRAINT component_2d_location_subtypes FOR component_2d_location;         
	    ONEOF (component_2d_edge_location,
	 component_2d_stacked_location,
	 component_2d_surface_location);    
	END_SUBTYPE_CONSTRAINT;

  ENTITY Component_2d_edge_location
    SUBTYPE OF (Component_2d_location);
      reference_terminal_assembly_joint : assembly_joint;
      mounting_surface_assembly_joint   : assembly_joint;
    WHERE
      WR1 : reference_terminal_assembly_joint <> mounting_surface_assembly_joint;
      WR2 : SELF\component_2d_location.substrate_location = FALSE;
      WR3 : SIZEOF(['AP210_ARM.INTERCONNECT_MODULE_COMPONENT_TERMINAL',
 'AP210_ARM.INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE'] * TYPEOF(mounting_surface_assembly_joint.assembly_features_1)) >= 0;
  END_ENTITY; -- component_2d_edge_location

  ENTITY Component_2d_stacked_location
    SUBTYPE OF (Component_2d_location);
      mounting_joint : assembly_joint;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.INTERCONNECT_MODULE_COMPONENT_TERMINAL',
 'AP210_ARM.INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE'] * TYPEOF(mounting_joint.assembly_features_1)) = 0;
      WR2 : SIZEOF(['AP210_ARM.INTERCONNECT_MODULE_COMPONENT_TERMINAL',
 'AP210_ARM.INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE'] * TYPEOF(mounting_joint.assembly_features_2)) = 0;
      WR3 : SELF\component_2d_location.substrate_location = FALSE;
  END_ENTITY; -- component_2d_stacked_location

  ENTITY Component_2d_surface_location
    SUBTYPE OF (Component_2d_location);
      mounting_surface_assembly_joint : assembly_joint;
    WHERE
      WR1 : SELF\component_2d_location.substrate_location = FALSE;
      WR2 : SIZEOF(['AP210_ARM.INTERCONNECT_MODULE_COMPONENT_TERMINAL',
 'AP210_ARM.INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE'] * TYPEOF(mounting_surface_assembly_joint.assembly_features_1)) >= 0;
  END_ENTITY; -- component_2d_surface_location

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly 3d shape - EXPRESS ARM
*)

SCHEMA Assembly_3d_shape_arm;

USE FROM Assembly_technology_arm;

USE FROM Physical_unit_3d_shape_arm;

USE FROM Layered_3d_shape_arm;

  ENTITY Bond_assembly_position;
      bond                      : assembled_with_bonding;
      assembly_model            : physical_unit_3d_shape;
      bond_model                : default_assembly_bond_shape;
      bond_definition_placement : axis_placement_3d;
   UNIQUE
   	UR1 : bond;
  END_ENTITY; -- bond_assembly_position

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_technology_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly technology - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Assembly_technology_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Analytical_model_arm;

USE FROM Layered_shape_arm;

USE FROM Specification_document_arm;

USE FROM Assembly_module_design_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Product_identification_extension_arm;

	SUBTYPE_CONSTRAINT assembly_module_subtypes FOR assembly_module; 
		(ONEOF (pca,
		 reference_packaged_part_assembly_implementation));
	END_SUBTYPE_CONSTRAINT;

 	TYPE at_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Assembly_bond_definition);
	END_TYPE;

	TYPE at_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Assembly_joint);
	END_TYPE; 
	
  TYPE degree_of_freedom = ENUMERATION OF
    (x,
     y,
     z,
     u,
     v,
     w);
  END_TYPE; -- degree_of_freedom

	SUBTYPE_CONSTRAINT process_specification_subtypes FOR process_specification;   
		(ONEOF (assembly_technology_specification,
		fabrication_technology_specification));
	END_SUBTYPE_CONSTRAINT; 

  ENTITY Assembled_with_bonding
    SUBTYPE OF (Assembly_joint);
      default_bond_definition : assembly_bond_definition;
    WHERE
      WR1 : SELF\assembly_joint.assembly_features_1.definition :=: default_bond_definition.bonded_feature_1;
      WR2 : SELF\assembly_joint.assembly_features_2.definition :=: default_bond_definition.bonded_feature_2;
  END_ENTITY; -- assembled_with_bonding

  ENTITY Assembled_with_fasteners
    SUBTYPE OF (Assembly_joint);
      SELF\assembly_joint.associated_assembly : assembly_group_component;
  END_ENTITY; -- assembled_with_fasteners

  ENTITY Assembly_bond_definition;
      analytical_assembly_bond_representation : OPTIONAL SET[1:?] OF analytical_model_application;
      associated_definition                   : externally_defined_ee_product_definition;
      bond_material                           : material_identification;
      bonded_feature_1                        : part_feature;
      bonded_feature_2                        : part_feature;
      name                                    : STRING; 
    INVERSE
      default_shape : SET[0:1] OF default_assembly_bond_shape FOR characterized_bond_definition;
	  bond_category	: External_source_identification FOR item;      
    UNIQUE
      UR1 : name;
    WHERE
      WR1 : bonded_feature_1 <> bonded_feature_2;
  END_ENTITY; -- assembly_bond_definition

  ENTITY Assembly_joint
    SUPERTYPE OF (assembled_with_fasteners ANDOR
 assembled_with_bonding);
      assembly_features_1 : assembled_feature_select;
      assembly_features_2 : assembled_feature_select;
      associated_assembly : assembly_module_or_assembly_group_component;
      description         : OPTIONAL STRING;
      name                : STRING;
    UNIQUE
      UR1 : name,
 associated_assembly;
    WHERE
      WR1 : assembly_features_1 :<>: assembly_features_2;
      WR2 : ('AP210_ARM.ASSEMBLED_WITH_FASTENERS' IN TYPEOF(SELF)) OR (('AP210_ARM.COMPONENT_FEATURE' IN TYPEOF(assembly_features_1)) AND (SIZEOF(QUERY(ay <* assembly_features_1\component_feature.associated_component\definition_based_product_occurrence.occurrence_contexts | ay.related_view <> associated_assembly)) = 0));
      WR3 : ('AP210_ARM.ASSEMBLED_WITH_FASTENERS' IN TYPEOF(SELF)) OR (('AP210_ARM.COMPONENT_FEATURE' IN TYPEOF(assembly_features_2)) AND (SIZEOF(QUERY(ay <* assembly_features_2\component_feature.associated_component\definition_based_product_occurrence.occurrence_contexts | ay.related_view <> associated_assembly)) = 0));
  END_ENTITY; -- assembly_joint

  ENTITY Assembly_technology_specification
    SUBTYPE OF (process_specification);
  END_ENTITY; -- assembly_technology_specification

  ENTITY Component_mating_constraint_condition;
      constraining_joint            : SET[1:3] OF assembly_joint;
      constrained_degree_of_freedom : SET[1:5] OF degree_of_freedom;
      of_context                    : part_design_view;
      name                          : STRING; --ee_name;
    UNIQUE
      UR1 : name,
 of_context;
  END_ENTITY; -- component_mating_constraint_condition

  ENTITY Connection_zone_based_assembly_joint
    SUBTYPE OF (Assembly_joint);
      zone_1 : connection_zone_in_design_view;
      zone_2 : connection_zone_in_design_view;
    WHERE
      WR1 : zone_1 :<>: zone_2;
  END_ENTITY; -- connection_zone_based_assembly_joint

  ENTITY Default_assembly_bond_shape
    SUBTYPE OF (Feature_shape_definition);
      characterized_bond_definition : assembly_bond_definition;
  END_ENTITY; -- default_assembly_bond_shape

  ENTITY Reference_packaged_part_assembly_implementation
    SUBTYPE OF (Assembly_module);
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | NOT (SIZEOF(QUERY(epcr <* USEDIN(prpc,
 'AP210_ARM.PRODUCT_CATEGORY_HIERARCHY.SUPER_CATEGORY') | (epcr.sub_category\product_category.name = 'template model'))) = 1))) = 0;
  END_ENTITY; -- reference_packaged_part_assembly_implementation

END_SCHEMA; -- Assembly_technology_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Bare_die_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Bare die - EXPRESS ARM
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Bare_die_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Elemental_geometric_shape_arm;

USE FROM Part_feature_function_arm;
	
USE FROM Extended_geometric_tolerance_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Network_functional_usage_view_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Shape_composition_arm;

USE FROM Part_terminal_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Part_occurrence_arm;

  ENTITY Bare_die
    SUBTYPE OF (part_usage_view);
      least_material_condition_centroid_location   : OPTIONAL cartesian_point;
      maximum_height_above_seating_plane           : OPTIONAL length_data_element;
      maximum_material_condition_centroid_location : OPTIONAL cartesian_point;
      implemented_function                         : functional_unit_usage_view;
    INVERSE
      access_mechanisms : SET[2:?] OF minimally_defined_bare_die_terminal FOR associated_definition;
      die_seating_plane : non_feature_shape_element FOR scope;
    UNIQUE
      UR1 : implemented_function;
    WHERE
      WR1 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.shape_element.containing_shape') | ('AP210_ARM.' + 'BARE_DIE_TOP_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR2 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.shape_element.containing_shape') | ('AP210_ARM.' + 'BARE_DIE_BOTTOM_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR3 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.shape_element.containing_shape') | ('AP210_ARM.' + 'BARE_DIE_EDGE_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR4 : 'AP210_ARM.SEATING_PLANE' IN TYPEOF(die_seating_plane);
  END_ENTITY; -- bare_die

  ENTITY Bare_die_bottom_surface
    SUBTYPE OF (Bare_die_surface);
  END_ENTITY; -- bare_die_bottom_surface

  ENTITY Bare_die_edge_segment_surface
    SUBTYPE OF (Bare_die_surface);
      composed_surface                        : bare_die_edge_surface;
      start_vertex                            : edge_segment_vertex;
      end_vertex                              : edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
      WR2 : SELF\shape_element.containing_shape :=: composed_surface\shape_element.containing_shape;
  END_ENTITY; -- bare_die_edge_segment_surface

  ENTITY Bare_die_edge_surface
    SUBTYPE OF (Bare_die_surface);
  END_ENTITY; -- bare_die_edge_surface

  ENTITY Bare_die_surface
    ABSTRACT SUPERTYPE OF (ONEOF (bare_die_top_surface,
 bare_die_bottom_surface,
 bare_die_edge_segment_surface,
 bare_die_edge_surface))
    SUBTYPE OF (part_mounting_feature);
			SELF\part_feature.associated_definition : bare_die;    
  END_ENTITY; -- bare_die_surface

  ENTITY Bare_die_terminal
    SUBTYPE OF (Minimally_defined_bare_die_terminal);
      material                 : material_identification;
      external_connection_area : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
      seating_plane_zone       : OPTIONAL connection_zone_bare_die_interface_plane_relationship;
  END_ENTITY; -- bare_die_terminal

  ENTITY Bare_die_terminal_surface_constituent_relationship
    SUBTYPE OF (shape_element_constituent_relationship);
      SELF\shape_element_relationship.relating : bare_die_surface;
      SELF\shape_element_relationship.related  : bare_die_terminal;
  END_ENTITY; -- bare_die_terminal_surface_constituent_relationship

  ENTITY Bare_die_top_surface
    SUBTYPE OF (Bare_die_surface);
  END_ENTITY; -- bare_die_top_surface

  ENTITY Connection_zone_bare_die_interface_plane_relationship;
      interface_plane          : seating_plane;
      mating_zone              : connection_zone_in_usage_view;
      derived_zone             : connection_zone_in_usage_view;
      derived_zone_shape_class : STRING;
    INVERSE
      associated_bare_die_terminal : SET[0:1] OF bare_die_terminal FOR seating_plane_zone;
    UNIQUE
      UR1 : interface_plane,
 mating_zone;
    WHERE
      WR1 : derived_zone_shape_class IN ['area', 'edge'];
  END_ENTITY; 

  ENTITY Guided_wave_bare_die_terminal
    SUBTYPE OF (Minimally_defined_bare_die_terminal);
  END_ENTITY; -- guided_wave_bare_die_terminal

  ENTITY Minimally_defined_bare_die_terminal
    SUPERTYPE OF (guided_wave_bare_die_terminal ANDOR
 bare_die_terminal)
    SUBTYPE OF (part_terminal);
      SELF\part_feature.associated_definition : bare_die;
  END_ENTITY; -- minimally_defined_bare_die_terminal

END_SCHEMA; -- Bare_die_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Characteristic_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Characteristic - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Characteristic_arm;

USE FROM Document_assignment_arm;

USE FROM Extended_measure_representation_arm;

USE FROM Value_with_unit_extension_arm;
  
  TYPE characteristic = SELECT
    (String_representation_item,
    Numerical_item_with_unit,
    Value_list,
    Value_set);
  END_TYPE; -- value_qualifier

	TYPE c_documented_element_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON documented_element_select WITH 
	   (coordinated_characteristic);
	END_TYPE; 
  
  TYPE coordinated_characteristic = SELECT
    (property_value_representation,
    characteristic_representation);
  END_TYPE; -- value_qualifier

  TYPE range_class = ENUMERATION OF
    (closed,
     lower_open,
     upper_open,
     open);
  END_TYPE; -- range_class

  TYPE scalar_or_coordinated_characteristics = SELECT
    (coordinated_characteristic,
     characteristic);
  END_TYPE; -- scalar_or_coordinated_characteristics

  TYPE value_qualifier = SELECT
    (precision_qualifier,
     type_qualifier,
     uncertainty_qualifier);
  END_TYPE; -- value_qualifier

	ENTITY Characteristic_representation
		SUBTYPE OF (representation);
	END_ENTITY; -- characteristic_representation

  ENTITY Expanded_uncertainty
    SUBTYPE OF (standard_uncertainty);
      coverage_factor : REAL;
  END_ENTITY; -- expanded_uncertainty

  ENTITY Maximum_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
      SELF\characteristic_representation.items : SET[1:1] OF numerical_item_with_unit;
  END_ENTITY; -- maximum_tolerance_characteristic

  ENTITY Measure_qualification;
      name              : STRING; --text;
      description       : STRING; --text;
      qualified_measure : value_with_unit;
      qualifiers        : SET[1:?] OF value_qualifier;
  END_ENTITY; -- measure_qualification

  ENTITY Minimum_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
      SELF\characteristic_representation.items : SET[1:1] OF numerical_item_with_unit;
  END_ENTITY; -- minimum_tolerance_characteristic

  ENTITY Nominal_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
  END_ENTITY; -- nominal_tolerance_characteristic

  ENTITY Plus_minus_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
      SELF\characteristic_representation.items : SET[3:3] OF numerical_item_with_unit;
  END_ENTITY; -- plus_minus_tolerance_characteristic

  ENTITY Precision_qualifier;
      precision_value : INTEGER;
  END_ENTITY; -- precision_qualifier

  ENTITY Qualitative_uncertainty
    SUBTYPE OF (uncertainty_qualifier);
      uncertainty_value : STRING; --text;
  END_ENTITY; -- qualitative_uncertainty

  ENTITY Range_characteristic
    SUBTYPE OF (Characteristic_representation);
      SELF\characteristic_representation.items 	: SET[2:2] OF numerical_item_with_unit;
      range_type				: range_class;
  END_ENTITY; -- range_characteristic

  ENTITY Standard_uncertainty
    SUPERTYPE OF (expanded_uncertainty)
    SUBTYPE OF (uncertainty_qualifier);
      uncertainty_value : REAL;
  END_ENTITY; -- standard_uncertainty

  ENTITY Statistical_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
  END_ENTITY; -- statistical_tolerance_characteristic

  ENTITY Symmetrical_tolerance_characteristic
    SUBTYPE OF (tolerance_characteristic);
      SELF\characteristic_representation.items : SET[2:2] OF numerical_item_with_unit;
  END_ENTITY; -- symmetrical_tolerance_characteristic

  ENTITY Text_representation_item
  	SUBTYPE OF (String_representation_item);
  	DERIVE
  		SELF\String_representation_item.name : STRING := 'text';
  END_ENTITY; -- text_representation_item

  ENTITY Tolerance_characteristic
    SUPERTYPE OF (ONEOF (minimum_tolerance_characteristic,
 statistical_tolerance_characteristic,
 symmetrical_tolerance_characteristic,
 maximum_tolerance_characteristic,
 plus_minus_tolerance_characteristic,
 nominal_tolerance_characteristic))
    SUBTYPE OF (Characteristic_representation);
      SELF\characteristic_representation.items : SET[1:?] OF numerical_item_with_unit;
  END_ENTITY; -- tolerance_characteristic

  ENTITY Type_qualifier;
      name : STRING; --label;
  END_ENTITY; -- type_qualifier

  ENTITY Uncertainty_qualifier
    SUPERTYPE OF (ONEOF (standard_uncertainty,
 qualitative_uncertainty));
      measure_name : STRING; --text;
      description  : STRING; --text;
  END_ENTITY; -- uncertainty_qualifier

END_SCHEMA; -- Characteristic_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Datum_difference_based_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Datum difference based model - EXPRESS ARM
*)

SCHEMA Datum_difference_based_model_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Network_functional_usage_view_arm;

	SUBTYPE_CONSTRAINT model_parameter_subtypes FOR model_parameter; 
		ONEOF (datum_difference_based_model_parameter,
	 	schema_based_model_parameter);
	END_SUBTYPE_CONSTRAINT;

  ENTITY Datum_difference_based_model_parameter
    SUBTYPE OF (Model_parameter);
      of_datum_difference : datum_difference;
  END_ENTITY; -- datum_difference_based_model_parameter

  ENTITY Datum_difference_functional_unit_usage_view_terminal_assignment;
      assigned_functional_terminal_definition : functional_unit_usage_view_terminal_definition;
      assigned_datum_difference               : datum_difference;
  END_ENTITY; -- datum_difference_functional_unit_usage_view_terminal_assignment

END_SCHEMA; -- Datum_difference_based_model_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Design_management_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Design management - EXPRESS ARM
*)

SCHEMA Design_management_arm;

USE FROM Approval_arm;

USE FROM Work_order_arm;

USE FROM Work_request_arm;

USE FROM Product_view_definition_arm;

  TYPE design_object_management_relationship_item = SELECT (
		work_request, 
		work_order);
  END_TYPE; -- design_object_management_relationship_item

	TYPE dm_approval_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON approval_item WITH 
   (frozen_assignment);
	END_TYPE; 

 	TYPE managed_design_object = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  ENTITY Add_design_object_management_relationship
    SUBTYPE OF (Design_object_management_relationship);
      current_design_object : managed_design_object;
    UNIQUE
      UR1 : current_design_object;
  END_ENTITY; -- add_design_object_management_relationship

  ENTITY Change_design_object_management_relationship
    SUBTYPE OF (Design_object_management_relationship);
      current_design_object  : managed_design_object;
      previous_design_object : managed_design_object;
    UNIQUE
      UR1 : current_design_object;
      UR2 : previous_design_object;
  END_ENTITY; -- change_design_object_management_relationship

  ENTITY Delete_design_object_management_relationship
    SUBTYPE OF (Design_object_management_relationship);
      previous_design_object : managed_design_object;
    UNIQUE
      UR1 : previous_design_object;
  END_ENTITY; -- delete_design_object_management_relationship

  ENTITY Design_object_management_relationship
    ABSTRACT SUPERTYPE OF (ONEOF (change_design_object_management_relationship,
 delete_design_object_management_relationship,
 add_design_object_management_relationship)ANDOR(view_dependent_design_object_management_relationship));
  END_ENTITY; -- design_object_management_relationship


  ENTITY Design_object_management_relationship_assignment;
      changes: SET[1:?] OF design_object_management_relationship;
      items : SET[1:?] OF design_object_management_relationship_item;
  END_ENTITY;

  ENTITY Frozen_assignment;
      frozen_item       : SET[1:?] OF managed_design_object;
(** Need a global rule to capture cardinality      
      assigned_approval : approval;
*)      
  END_ENTITY; -- frozen_assignment

  ENTITY View_dependent_design_object_management_relationship
    SUBTYPE OF (Design_object_management_relationship);
      previous_design : product_view_definition;
      current_design  : product_view_definition;
  END_ENTITY; -- view_dependent_design_object_management_relationship

END_SCHEMA; -- Design_management_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Device_marking_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Device marking - EXPRESS ARM
*)

SCHEMA Device_marking_arm;

USE FROM Approval_arm;

USE FROM Characteristic_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Part_template_2d_shape_arm;

USE FROM Part_template_3d_shape_arm;

USE FROM Part_template_non_planar_shape_arm;

USE FROM Person_organization_arm;

USE FROM Physical_unit_2d_shape_arm;

USE FROM Physical_unit_3d_shape_arm;

USE FROM Product_version_arm;

USE FROM Specification_document_arm;

USE FROM Styled_text_arm;

  TYPE marked_message_select = SELECT
    (configuration_controlled_message,
     text_representation_item);
  END_TYPE; -- marked_message_select

TYPE marking_shape_select = SELECT
    (part_template_3d_shape,
     physical_unit_3d_shape,
     part_template_non_planar_2d_shape,
     part_template_planar_shape,
     physical_unit_planar_shape);
END_TYPE; -- ap210_marking_shape_select

  	TYPE message_source_select = SELECT
      	(Organization,
		Approval,
     	Product_version);
	END_TYPE;

  TYPE message_type = ENUMERATION OF
    (part_number,
     manufacturer_code,
     revision_identifier,
     approval_date);
  END_TYPE; -- message_type
    
  ENTITY Configuration_controlled_message;
      message_source             : message_source_select;
      message_content            : STRING;
      message_type_specification : message_type;
  END_ENTITY; -- configuration_controlled_message

  ENTITY Marking;
      marked_message              : marked_message_select;
      marked_device_shape         : marking_shape_select;
      marking_material            : material_identification;
      placement                   : axis_placement;
      message_representation      : feature_shape_definition;
      message_representation_text : styled_text;
      marking_specification       : specification_definition;
    WHERE
      WR1 : SIZEOF(QUERY(st <* message_representation\geometric_model.items | st = message_representation_text)) = 1;
      WR2 : SIZEOF(QUERY(ap <* marked_device_shape\geometric_model.items | ap = placement)) = 1;
      WR3 : SIZEOF(TYPEOF(marked_device_shape) * ['AP210_ARM.PHYSICAL_UNIT_3D_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE']) = 1;
  END_ENTITY; -- marking

END_SCHEMA; -- Device_marking_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Specification_document_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Specification document - EXPRESS ARM
*)

SCHEMA Specification_document_arm;

USE FROM Document_definition_arm;

USE FROM Person_organization_assignment_arm;

USE FROM Characteristic_arm;

 	TYPE sd_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Structured_text);
	END_TYPE;

	TYPE specification_product_object_select = 
		EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

  ENTITY Design_specification
    SUPERTYPE OF (interface_specification)
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- design_specification

  ENTITY Fabrication_technology_specification
    SUBTYPE OF (process_specification);
  END_ENTITY; -- fabrication_technology_specification

  ENTITY Interface_specification
    SUBTYPE OF (Design_specification);
  END_ENTITY; -- interface_specification

  ENTITY Language_reference_manual
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- language_reference_manual

  ENTITY Material_specification
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- material_specification

  ENTITY Process_specification
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- process_specification

  ENTITY Specification_allocation;
      allocated_specification      : specification_definition;
      target_product_object        : SET[1:?] OF specification_product_object_select;
      purpose                      : STRING; --ee_name;
      identifier_in_target_context : OPTIONAL STRING; --ee_name;
    DERIVE
      the_context : specification_product_object_select := target_product_object[1];
    UNIQUE
      UR1 : identifier_in_target_context,
 the_context;
    WHERE
      WR1 : NOT EXISTS(identifier_in_target_context) OR (SIZEOF(target_product_object) = 1);
  END_ENTITY; -- specification_allocation

  ENTITY Specification_definition
  	SUPERTYPE OF(ONEOF (design_specification,
	 process_specification,
	 material_specification,
	 test_specification,
	 language_reference_manual))
    SUBTYPE OF (Document_definition);
    INVERSE 
      source : organization_or_person_in_organization_assignment FOR items;
  END_ENTITY; -- specification_definition

  ENTITY Structured_text
  	SUBTYPE OF (Document_definition);
      plain_text_content        : OPTIONAL text_representation_item;
      precedent_structured_text : OPTIONAL structured_text;
      structured_text_content   : OPTIONAL SET[1:?] OF structured_text;
    INVERSE
      content_markup						: External_source_identification FOR item;
  END_ENTITY; -- structured_text

  ENTITY Structured_text_id_in_document;
      identifier : STRING; --ee_name;
      text       : structured_text;
      document   : document_definition;
    UNIQUE
      UR1 : identifier,
 document;
  END_ENTITY; -- structured_text_id_in_document

  ENTITY Surface_finish_specification
    SUBTYPE OF (Material_specification);
  END_ENTITY; -- surface_finish_specification

  ENTITY Test_specification
    SUBTYPE OF (specification_definition);
  END_ENTITY; -- test_specification

END_SCHEMA; -- Specification_document_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Fabrication_joint_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Fabrication joint - EXPRESS ARM
*)

SCHEMA Fabrication_joint_arm;

USE FROM Land_arm;

USE FROM Layered_interconnect_module_with_printed_component_design_arm;

USE FROM Sequential_laminate_assembly_design_arm;

 	TYPE fabricated_feature_select = SELECT(
 		component_termination_passage_join_terminal,
 		conductive_interconnect_element_terminal,
	    embedded_component_terminal,
 		land_join_terminal,
 		non_functional_land_join_terminal,
 		printed_component_join_terminal,
         via_terminal);
	END_TYPE;

  ENTITY Connection_zone_based_fabrication_joint
    SUBTYPE OF (Fabrication_joint);
      zone_1 : connection_zone_in_design_view;
      zone_2 : connection_zone_in_design_view;
    WHERE
      WR1 : zone_1 :<>: zone_2;
  END_ENTITY; -- connection_zone_based_fabrication_joint

  ENTITY Fabrication_joint;
      fabrication_features_1         : fabricated_feature_select;
      fabrication_features_2         : fabricated_feature_select;
      auxiliary_joint_material       : OPTIONAL stratum_feature_template_component;
      associated_interconnect_module : interconnect_module;
  END_ENTITY; -- fabrication_joint

END_SCHEMA; -- Fabrication_joint_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Form_features_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Form features - EXPRESS ARM
*)

SCHEMA Form_features_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Layered_2d_shape_arm;

  ENTITY Bevel_edge_feature_shape
    SUBTYPE OF (Edge_shape);
      minimum_bevel_width : length_data_element;
      minimum_bevel_angle : angle_data_element;
      maximum_bevel_width : length_data_element;
      maximum_bevel_angle : angle_data_element;
  END_ENTITY; -- bevel_edge_feature_shape

  ENTITY Edge_shape
    ABSTRACT SUPERTYPE OF (ONEOF (bevel_edge_feature_shape,
 step_edge_feature_shape,
 radius_edge_feature_shape))
    SUBTYPE OF (planar_shape,
 feature_shape_definition);
    WHERE
      WR1 : SIZEOF(QUERY(escss <* USEDIN(SELF,
 'AP210_ARM.SHAPE_DEFINITION_3D_INTERSECTION.SURFACE_INTERSECTION_RESULT') | NOT ('AP210_ARM.EDGE_SEGMENT_CROSS_SECTION' IN TYPEOF(escss)))) = 0;
  END_ENTITY; -- edge_shape

  ENTITY Radius_edge_feature_shape
    SUBTYPE OF (Edge_shape);
      minimum_radius_length : length_data_element;
      maximum_radius_length : length_data_element;
  END_ENTITY; -- radius_edge_feature_shape

  ENTITY Step_edge_feature_shape
    SUBTYPE OF (Edge_shape);
      minimum_step_width : length_data_element;
      maximum_step_width : length_data_element;
      maximum_step_depth : length_data_element;
      minimum_step_depth : length_data_element;
  END_ENTITY; -- step_edge_feature_shape

END_SCHEMA; -- Form_features_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_decomposition_to_assembly_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional decomposition to assembly design - EXPRESS ARM
*)

SCHEMA Functional_decomposition_to_assembly_design_arm;

USE FROM Functional_decomposition_to_design_arm;

USE FROM Assembly_technology_arm;

  ENTITY Design_functional_unit_allocation_to_assembly_joint;
      functional_design_definition_path : design_composition_path;
      implementation                    : assembly_joint;
    UNIQUE
      UR1 : functional_design_definition_path;
  END_ENTITY; -- design_functional_unit_allocation_to_assembly_joint

END_SCHEMA; -- Functional_decomposition_to_assembly_design_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_decomposition_to_interconnect_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional decomposition to interconnect design - EXPRESS ARM
*)

SCHEMA Functional_decomposition_to_interconnect_design_arm;

USE FROM Functional_decomposition_to_design_arm;

USE FROM Fabrication_joint_arm;

USE FROM Layered_interconnect_module_with_printed_component_design_arm;
	
USE FROM Network_functional_design_view_arm;
	

  ENTITY Design_functional_unit_allocation_to_fabrication_joint;
      functional_design_definition_path : design_composition_path;
      implementation                    : fabrication_joint;
    UNIQUE
      UR1 : functional_design_definition_path;
  END_ENTITY; -- design_functional_unit_allocation_to_fabrication_joint

  ENTITY Transmission_line_functional_unit_terminal_allocation;
      implementation                             : printed_component_join_terminal;
      transmission_line_functional_unit_terminal : functional_unit_terminal;
      functional_unit_design_path                : transmission_line_functional_unit_to_routed_printed_component_allocation;
    UNIQUE
      UR1 : implementation,
 transmission_line_functional_unit_terminal;
  END_ENTITY; -- transmission_line_functional_unit_terminal_allocation

  ENTITY Transmission_line_functional_unit_to_routed_printed_component_allocation
    SUBTYPE OF (Design_functional_unit_allocation_to_assembly_component);
      SELF\design_functional_unit_allocation_to_assembly_component.implementation : routed_printed_component;
  END_ENTITY; -- transmission_line_functional_unit_to_routed_printed_component_allocation

END_SCHEMA; -- Functional_decomposition_to_interconnect_design_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Network_functional_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Network functional design view - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Network_functional_design_view_arm;

USE FROM Network_functional_usage_view_arm;

USE FROM Model_parameter_arm;

USE FROM Requirement_assignment_arm;

	SUBTYPE_CONSTRAINT functional_unit_definition_subtypes FOR functional_unit_definition;     
		(ONEOF (functional_unit_network_definition,
		functional_unit_usage_view));
	END_SUBTYPE_CONSTRAINT; 

  TYPE bus_structural_definition_or_node = SELECT
    (functional_unit_network_node_definition,
     bus_structural_definition);
  END_TYPE; -- bus_structural_definition_or_node

TYPE nfdw_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
    (functional_unit);
END_TYPE; 

  ENTITY Bus_element_link;
      precedent_element  : bus_structural_definition_or_node;
      subsequent_element : bus_structural_definition_or_node;
    UNIQUE
      UR1 : precedent_element,
 subsequent_element;
    WHERE
      WR1 : precedent_element <> subsequent_element;
  END_ENTITY; -- bus_element_link

  ENTITY Bus_structural_definition;
      bus_name    : STRING; --ee_name;
      composition : SET[1:?] OF bus_element_link;
    INVERSE
      external_bus_access : SET[0:1] OF functional_unit_network_terminal_definition_bus_assignment FOR connected_bus;
    UNIQUE
      UR1 : bus_name;
    WHERE
      WR1 : consistent_bus_structural_definition(composition);
  END_ENTITY; -- bus_structural_definition

  ENTITY Equivalent_functional_unit_definition_assignment;
      equivalent_functional_unit_definitions : SET[2:?] OF functional_unit_definition;
      name                                   : STRING; --ee_name;
  END_ENTITY; -- equivalent_functional_unit_definition_assignment

  ENTITY Functional_unit;
      definition            : functional_unit_definition;
      reference_designation : STRING; --ee_name;
      composed_network      : functional_unit_network_definition;
      functional_property   : OPTIONAL SET[1:?] OF parameter_assignment_override;
    INVERSE
      access_mechanisms : SET[1:?] OF functional_unit_terminal FOR accessed_functional_unit;
    UNIQUE
      UR1 : reference_designation, composed_network;
  END_ENTITY; -- functional_unit

  ENTITY Functional_unit_network_definition
    SUBTYPE OF (Functional_unit_definition);
      usage_view : functional_unit_usage_view;
  END_ENTITY; -- functional_unit_network_definition

  ENTITY Functional_unit_network_node_definition;
      associated_functional_unit_definition : functional_unit_network_definition;
      functional_unit_network_node_name     : STRING; --ee_name;
    DERIVE
      valid_conservative_node : BOOLEAN := ((SIZEOF(QUERY(vc <* USEDIN(SELF,
 'AP210_ARM.BUS_ELEMENT_LINK.PRECEDENT_ELEMENT') | TRUE)) + SIZEOF(QUERY(vc <* USEDIN(SELF,
 'AP210_ARM.BUS_ELEMENT_LINK.SUBSEQUENT_ELEMENT') | TRUE)) + SIZEOF(QUERY(vc <* USEDIN(SELF,
 'AP210_ARM.FUNCTIONAL_UNIT_TERMINAL_NODE_ASSIGNMENT.COMPOSED_NODE') | TRUE)) + SIZEOF(external_node_access)) > 1);
    INVERSE
      external_node_access : SET[0:1] OF functional_unit_network_terminal_definition_node_assignment FOR composed_node;
    UNIQUE
      UR1 : functional_unit_network_node_name,
 associated_functional_unit_definition;
  END_ENTITY; -- functional_unit_network_node_definition

  ENTITY Functional_unit_network_terminal_definition_bus_assignment;
      connected_bus      : bus_structural_definition;
      connected_terminal : functional_unit_usage_view_terminal_definition;
  END_ENTITY; -- functional_unit_network_terminal_definition_bus_assignment

  ENTITY Functional_unit_network_terminal_definition_node_assignment;
      composed_node      : functional_unit_network_node_definition;
      connected_terminal : functional_unit_usage_view_terminal_definition;
  END_ENTITY; -- functional_unit_network_terminal_definition_node_assignment

  ENTITY Functional_unit_terminal;
      accessed_functional_unit : functional_unit;
      definition               : functional_unit_usage_view_terminal_definition;
    INVERSE
      bus_assignment  : SET[0:1] OF functional_unit_terminal_bus_assignment FOR connected_terminal;
      node_assignment : SET[0:1] OF functional_unit_terminal_node_assignment FOR connected_terminal;
  END_ENTITY; -- functional_unit_terminal

  ENTITY Functional_unit_terminal_bus_assignment;
      connected_bus      : bus_structural_definition;
      connected_terminal : functional_unit_terminal;
  END_ENTITY; -- functional_unit_terminal_bus_assignment

  ENTITY Functional_unit_terminal_node_assignment;
      composed_node      : functional_unit_network_node_definition;
      connected_terminal : functional_unit_terminal;
  END_ENTITY; -- functional_unit_terminal_node_assignment

  FUNCTION consistent_bus_structural_definition(
    input : SET OF bus_element_link
  ) : BOOLEAN;

    LOCAL
      vertex        : SET OF bus_structural_definition_or_node := [];
      edge          : INTEGER := SIZEOF(input);
      vc            : INTEGER := 0;
      vertex_degree : INTEGER := 0;
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      vertex := vertex + input[i].precedent_element;
      vertex := vertex + input[i].subsequent_element;
    END_REPEAT;
    vc := SIZEOF(vertex);
    IF (vc <> (edge + 1)) THEN
      RETURN(FALSE);
    END_IF;
    REPEAT i := 1 TO vc BY 1;
      vertex_degree := 0;
      REPEAT j := 1 TO SIZEOF(input) BY 1;
        IF input[j].precedent_element = vertex[i] THEN
          vertex_degree := vertex_degree + 1;
        END_IF;
        IF input[j].subsequent_element = vertex[i] THEN
          vertex_degree := vertex_degree + 1;
        END_IF;
      END_REPEAT;
      IF (vertex_degree > 2) THEN
        RETURN(FALSE);
      END_IF;
    END_REPEAT;
    RETURN(TRUE);
  END_FUNCTION; -- consistent_bus_structural_definition


END_SCHEMA; -- Network_functional_design_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional decomposition with nodal representation to packaged mapping - EXPRESS ARM
*)

SCHEMA Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm;

USE FROM Part_external_reference_arm;

USE FROM Functional_decomposition_to_design_arm;

USE FROM Functional_design_elaboration_arm;

 
  TYPE design_composition_path_or_root = SELECT
    (design_composition_path,
     functional_unit_network_definition);
  END_TYPE; -- design_composition_path_or_root

  ENTITY Aggregate_connectivity_requirement;
      connectivity_requirement : functional_unit_network_node_definition;
      design_definition_path   : design_composition_path_or_root;
    UNIQUE
      UR1 : design_definition_path,
 connectivity_requirement;
    WHERE
      WR1 : NOT ('AP210_ARM.FUNCTIONAL_UNIT_NETWORK_DEFINITION' IN TYPEOF(design_definition_path)) OR (connectivity_requirement.associated_functional_unit_definition = design_definition_path);
      WR2 : NOT ('AP210_ARM.DESIGN_COMPOSITION_PATH' IN TYPEOF(design_definition_path)) OR (connectivity_requirement.associated_functional_unit_definition = design_definition_path.design_functional_unit.definition);
  END_ENTITY; -- aggregate_connectivity_requirement

  ENTITY Connectivity_allocation;
      implementation           : physical_connectivity_definition;
      connectivity_requirement : aggregate_connectivity_requirement;
    UNIQUE
      UR1 : implementation;
  END_ENTITY; -- connectivity_allocation

END_SCHEMA; -- Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_design_elaboration_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional design elaboration - EXPRESS ARM
*)

SCHEMA Functional_design_elaboration_arm;

USE FROM Part_external_reference_arm;

USE FROM Requirement_decomposition_arm;

USE FROM Specification_document_arm;

USE FROM Physical_component_feature_arm;

	TYPE fde_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Physical_connectivity_element,
	    Physical_connectivity_definition,
	    Physical_connectivity_definition_relationship);
	END_TYPE; 

	TYPE fde_specification_product_object_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON specification_product_object_select WITH 
		(Physical_connectivity_element,
		 Physical_connectivity_definition);
	END_TYPE;

	TYPE termination_or_junction = EXTENSIBLE GENERIC_ENTITY SELECT
    	(Component_terminal);
  	END_TYPE;

  ENTITY Physical_connectivity_definition
    SUPERTYPE OF (physical_connectivity_structure_definition);
      associated_definition : physical_unit_network_definition;
      associated_terminals  : SET[2:?] OF physical_component_terminal;
      name                  : STRING; --ee_name;
    UNIQUE
      UR1 : name,
 associated_definition;
 			UR2 : associated_terminals;
  END_ENTITY; -- physical_connectivity_definition

  ENTITY Physical_connectivity_definition_relationship;
(** Need a rule to constraint cardinality to exactly one   
      requirement         : Requirement_definition_property;
*)      
      previous_definition : physical_connectivity_definition;
      current_definition  : physical_connectivity_definition;
  END_ENTITY; -- physical_connectivity_definition_relationship

  ENTITY Physical_connectivity_element;
      start_terminus       : termination_or_junction;
      name                 : STRING; --ee_name;
      end_terminus         : termination_or_junction;
      connectivity_context : physical_connectivity_structure_definition;
    UNIQUE
      UR1 : name,
 connectivity_context;
    WHERE
      WR1 : start_terminus <> end_terminus;
  END_ENTITY; -- physical_connectivity_element

  ENTITY Physical_connectivity_make_from_relationship;
      reusable_definition  : physical_connectivity_definition;
      resultant_definition : physical_connectivity_definition;
  END_ENTITY; -- physical_connectivity_make_from_relationship

  ENTITY Physical_connectivity_structure_definition
    SUBTYPE OF (physical_connectivity_definition);
    INVERSE
      structural_element : SET[1:?] OF physical_connectivity_element FOR connectivity_context;
  END_ENTITY; -- physical_connectivity_structure_definition

  ENTITY Physical_unit_network_definition
    SUBTYPE OF (product_view_definition);
    WHERE
      WR1 : NOT ('AP210_ARM.part_view_definition' IN TYPEOF(SELF)) OR ('AP210_ARM.part_design_view' IN TYPEOF(SELF));
  END_ENTITY; -- physical_unit_network_definition

END_SCHEMA; -- Functional_design_elaboration_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_specification_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Functional specification - EXPRESS ARM
*)

SCHEMA Functional_specification_arm;

USE FROM Network_functional_design_view_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Signal_arm;

USE FROM Specification_document_arm;

 	TYPE fs_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Functional_specification);
	END_TYPE;

  ENTITY Functional_specification;
      associated_definition          	: functional_specification_definition;
      reference_signal               	: signal_specification;
      characterizing_functional_unit 	: functional_unit;
      characterizing_signal          	: signal_specification;
    INVERSE
      characteristic_category					: External_source_identification FOR item;
    WHERE
      WR1 : characterizing_functional_unit.composed_network = associated_definition;
  END_ENTITY; -- functional_specification

  ENTITY Functional_specification_definition
    SUBTYPE OF (Functional_unit_network_definition);
    INVERSE
      composing_specification : SET[1:?] OF functional_specification FOR associated_definition;
  END_ENTITY; -- functional_specification_definition

  ENTITY Signal_specification;
      measurement_condition        : test_specification;
      measurement_access_mechanism : functional_unit_terminal;
      reference_access_mechanism   : OPTIONAL functional_unit_terminal;
      minimum_characteristic       : signal_property;
      maximum_characteristic       : signal_property;
      characterization_network     : functional_unit_network_definition;
  END_ENTITY; -- signal_specification

END_SCHEMA; -- Functional_Specification_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Network_functional_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Network functional usage view - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Network_functional_usage_view_arm;

 USE FROM Product_identification_arm;          -- ISO/TS 10303-1017 
 
  REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
          types_of_product 
  ); 
  
  USE FROM Product_view_definition_relationship_arm;
  
  USE FROM Network_functional_design_view_arm;

  ENTITY Equivalent_functional_terminals_assignment;
      equivalent_terminals : SET[2:?] OF functional_unit_usage_view_terminal_definition;
      name                 : STRING; --ee_name;
  END_ENTITY; -- equivalent_functional_terminals_assignment
 
  ENTITY Functional_terminal_group;
      name              : STRING; --ee_name;
      group_description : STRING;
      group_type        : STRING;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- functional_terminal_group

  ENTITY Functional_terminal_group_assignment;
      composed_group                 : functional_terminal_group;
      functional_usage_view_terminal : scalar_terminal_definition;
  END_ENTITY; -- functional_terminal_group_assignment
 
   ENTITY Functional_unit_definition
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (product_view_definition);
      SELF\product_view_definition.defined_version : network_function_version;
  END_ENTITY; -- functional_unit_definition

	ENTITY Functional_unit_make_from_relationship
		SUBTYPE OF (View_definition_relationship);
		SELF\View_definition_relationship.related_view 	: Functional_unit_usage_view;
		SELF\View_definition_relationship.relating_view : Functional_unit_usage_view;
	END_ENTITY;

  ENTITY Functional_unit_usage_view
    SUBTYPE OF (Functional_unit_definition);
    INVERSE
      access_mechanism : SET[1:?] OF functional_unit_usage_view_terminal_definition FOR associated_functional_unit_definition;
  END_ENTITY; -- functional_unit_usage_view

  ENTITY Functional_unit_usage_view_terminal_definition
    SUPERTYPE OF (scalar_terminal_definition);
      associated_functional_unit_definition : functional_unit_usage_view;
      signal_name                           : STRING; --ee_name;
    INVERSE
      node_assignment : SET[0:?] OF functional_unit_network_terminal_definition_node_assignment FOR connected_terminal;
      bus_assignment  : SET[0:?] OF functional_unit_network_terminal_definition_bus_assignment FOR connected_terminal;
    UNIQUE
      UR1 : signal_name,
 associated_functional_unit_definition;
    WHERE
      WR1 : (EXISTS(node_assignment) AND NOT (EXISTS(bus_assignment))) OR (NOT (EXISTS(node_assignment)) AND EXISTS(bus_assignment)) OR (NOT (EXISTS(node_assignment)) AND NOT (EXISTS(bus_assignment)));
  END_ENTITY; -- functional_unit_usage_view_terminal_definition

  ENTITY Functional_unit_usage_view_terminal_definition_make_from_relationship;
      associated_make_from : Functional_unit_make_from_relationship;
      reusable_feature     : Functional_unit_usage_view_terminal_definition;
      resultant_feature    : Functional_unit_usage_view_terminal_definition;
    UNIQUE
      UR1 : reusable_feature,
 resultant_feature;
    WHERE
      WR1 : reusable_feature :<>: resultant_feature;
      WR2 : reusable_feature.associated_functional_unit_definition :<>: resultant_feature.associated_functional_unit_definition;
  END_ENTITY; -- functional_unit_usage_view_terminal_definition_make_from_relationship

  ENTITY Network_function
  	SUBTYPE OF (product);
  	WHERE 
  		WR1 : SIZEOF([ 'network function' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- template
  
  ENTITY Network_function_version
  	SUBTYPE OF (product_version);
  		SELF\product_version.of_product : network_function;
  END_ENTITY; -- template_version

  ENTITY Scalar_terminal_definition
    SUBTYPE OF (Functional_unit_usage_view_terminal_definition);
  END_ENTITY; -- scalar_terminal_definition

  ENTITY Scalar_terminal_definition_link;
      precedent_terminal_definition  : scalar_terminal_definition;
      subsequent_terminal_definition : scalar_terminal_definition;
    UNIQUE
      UR1 : precedent_terminal_definition,
 subsequent_terminal_definition;
    WHERE
      WR1 : precedent_terminal_definition :<>: subsequent_terminal_definition;
  END_ENTITY; -- scalar_terminal_definition_link

END_SCHEMA; -- Network_functional_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Extended_geometric_tolerance_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Extended geometric tolerance - EXPRESS ARM
*)

SCHEMA Extended_geometric_tolerance_arm;

USE FROM Geometric_tolerance_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Shape_composition_arm;

USE FROM Shape_property_assignment_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Requirement_decomposition_arm;

USE FROM Dimension_tolerance_arm;

USE FROM Shape_parameters_arm;

	TYPE physical_feature_or_part_template = 
		EXTENSIBLE GENERIC_ENTITY SELECT
		(datum_feature);
	END_TYPE;

  TYPE centre_type = ENUMERATION OF
    (centred_on_arc,
     centred_on_radial);
  END_TYPE; -- centre_type

  TYPE constraining_element_definitions = SELECT
    (tolerance_zone_definition,
     profile_related_positional_boundary_definition,
     positional_boundary_member_definition,
     conical_tolerance_zone_boundary_diametrical_size_characteristic);
  END_TYPE; -- constraining_element_definitions

  TYPE descriptive_or_geometric_orientation = SELECT
    (measure_orientation,
     direction);
  END_TYPE; -- descriptive_or_geometric_orientation

  TYPE dimension_qualifiers = ENUMERATION OF
    (free_state,
     average);
  END_TYPE; -- dimension_qualifiers

  TYPE dimensional_location_or_dimensional_size = SELECT
    (size_dimension,
     location_dimension);
  END_TYPE; -- dimensional_location_or_dimensional_size

 	TYPE egt_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Externally_defined_dimension_representation);
	END_TYPE;

	TYPE egt_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Restraint_condition,
	  	Statistical_dimensional_tolerance,
	  	Statistical_geometric_tolerance);
	END_TYPE; 

  TYPE geometric_or_dimension_select = SELECT
    (geometric_tolerance,
     geometric_dimension);
  END_TYPE; -- geometric_or_dimension_select

  TYPE geometric_tolerance_qualifiers = ENUMERATION OF
    (pitch_diameter,
     minor_diameter,
     each_element,
     major_diameter,
     each_radial_element,
     not_concave,
     not_convex,
     free_state);
  END_TYPE; -- geometric_tolerance_qualifiers

  TYPE locating_or_refinement_linear_profile_tolerance = SELECT
    (line_profile_tolerance,
     composite_linear_profile_refinement_tolerance);
  END_TYPE; -- locating_or_refinement_linear_profile_tolerance

  TYPE locating_or_refinement_surface_profile_tolerance = SELECT
    (surface_profile_tolerance,
     composite_surface_profile_refinement_tolerance);
  END_TYPE; -- locating_or_refinement_surface_profile_tolerance

  TYPE measure_orientation = ENUMERATION OF
    (reversed,
     normal);
  END_TYPE; -- measure_orientation

	SUBTYPE_CONSTRAINT non_feature_shape_element_subtypes FOR non_feature_shape_element; 
	    (ONEOF (
		 derived_shape_element,
		 directed_axis,
		 positional_boundary,
		 positional_boundary_member,
		 tolerance_zone_boundary,
		 tolerance_zone_boundary_member,
		 viewing_plane,
		 seating_plane,
		 reference_graphic_registration_mark));
	END_SUBTYPE_CONSTRAINT;

  TYPE offset_types = ENUMERATION OF
    (towards_material,
     away_from_material);
  END_TYPE; -- offset_types

  TYPE orientation_select = SELECT
    (datum_axis_related_orientation,
     viewing_plane_based_orientation,
     datum_based_vector_orientation);
  END_TYPE; -- orientation_select

  TYPE restrained_item_select = SELECT
    (single_datum,
     physical_feature_or_part_template);
  END_TYPE; -- restrained_item_select

	TYPE true_profile_representations = SELECT(
		dimension_set,
     	document_definition,
     	rule_function,
     	three_dimensional_shape);
	END_TYPE;

  ENTITY Apex
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- apex

  ENTITY Boundary_size_characteristic
    ABSTRACT SUPERTYPE OF (ONEOF (diametrical_boundary_size_characteristic,
 opposing_boundary_set_size_characteristic));
      tolerance_value         : length_data_element;
      maximum_tolerance_value : OPTIONAL length_data_element;
  END_ENTITY; -- boundary_size_characteristic

  ENTITY Centre_axis
    SUBTYPE OF (Centre_of_symmetry);
  END_ENTITY; -- centre_axis

  ENTITY Centre_of_symmetry
    ABSTRACT SUPERTYPE OF (ONEOF (centre_axis,
 centre_plane,
 centre_point))
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- centre_of_symmetry

  ENTITY Centre_plane
    SUBTYPE OF (Centre_of_symmetry);
  END_ENTITY; -- centre_plane

  ENTITY Centre_point
    SUBTYPE OF (Centre_of_symmetry);
  END_ENTITY; -- centre_point

  ENTITY Composite_linear_profile_refinement_tolerance
    SUBTYPE OF (Line_profile_tolerance);
      refined_control : locating_or_refinement_linear_profile_tolerance;
  END_ENTITY; -- composite_linear_profile_refinement_tolerance

  ENTITY Composite_surface_profile_refinement_tolerance
    SUBTYPE OF (surface_profile_tolerance);
      refined_control : locating_or_refinement_surface_profile_tolerance;
  END_ENTITY; -- composite_surface_profile_refinement_tolerance

  ENTITY Conical_tolerance_zone_boundary
    SUBTYPE OF (tolerance_zone_boundary);
    INVERSE
      boundary_and_surface_relationships : SET[2:2] OF conical_tolerance_zone_boundary_and_surface_relationship FOR sized_tolerance_zone_boundary;
  END_ENTITY; -- conical_tolerance_zone_boundary

  ENTITY Conical_tolerance_zone_boundary_and_surface_relationship;
      sized_tolerance_zone_boundary : conical_tolerance_zone_boundary;
      terminating_surface           : physical_feature_or_part_template;
    INVERSE
      size_characteristic : conical_tolerance_zone_boundary_diametrical_size_characteristic FOR sized_boundary_at_surface;
  END_ENTITY; -- conical_tolerance_zone_boundary_and_surface_relationship

  ENTITY Conical_tolerance_zone_boundary_diametrical_size_characteristic;
      sized_boundary_at_surface : conical_tolerance_zone_boundary_and_surface_relationship;
      tolerance_value           : length_data_element;
  END_ENTITY; -- conical_tolerance_zone_boundary_diametrical_size_characteristic

  ENTITY Conical_tolerance_zone_definition
    SUBTYPE OF (tolerance_zone_definition);
-- LK input needed      SELF\tolerance_zone_definition.boundary_definition : conical_tolerance_zone_boundary_definition;
  END_ENTITY; -- conical_tolerance_zone_definition

  ENTITY Curve_dimension
    SUBTYPE OF (size_dimension);
  END_ENTITY; -- curve_dimension

  ENTITY Datum_axis
    SUBTYPE OF (Datum_shape_element);
  END_ENTITY; -- datum_axis

  ENTITY Datum_axis_and_tolerance_zone_orienting_relationship;
      oriented_tolerance_zone : tolerance_zone;
      orienting_datum_axis    : datum_axis;
    INVERSE
      zone_orientation : datum_axis_related_orientation FOR orienting_relationship;
  END_ENTITY; -- datum_axis_and_tolerance_zone_orienting_relationship

  ENTITY Datum_axis_related_orientation;
      orienting_relationship : datum_axis_and_tolerance_zone_orienting_relationship;
      orientation_type       : centre_type;
  END_ENTITY; -- datum_axis_related_orientation

  ENTITY Datum_based_direction_vector;
      direction_vector_representation : axis_placement;
      vector_of                       : datum_plane;
      positive_direction_vector       : BOOLEAN;
  END_ENTITY; -- datum_based_direction_vector

  ENTITY Datum_based_length_measure;
      measure             : length_data_element;
      measure_orientation : descriptive_or_geometric_orientation;
      of_datum            : datum_plane;
  END_ENTITY; -- datum_based_length_measure

  ENTITY Datum_based_vector_orientation;
      direction_components : SET[2:2] OF direction_element;
  END_ENTITY; -- datum_based_vector_orientation

  ENTITY Datum_difference
    SUBTYPE OF (shape_element_relationship);
      SELF\shape_element_relationship.relation_type : STRING; --label;
      SELF\shape_element_relationship.relating RENAMED precedent_datum : datum_shape_element;
      SELF\shape_element_relationship.related RENAMED subsequent_datum : datum_shape_element;
  END_ENTITY; -- datum_difference

  ENTITY Datum_difference_based_characteristic
    SUBTYPE OF (Measure_item); --characteristic);
      of_datum_difference : datum_difference;
  END_ENTITY; -- datum_difference_based_characteristic

  ENTITY Datum_feature
    SUPERTYPE OF (datum_target_set)
    SUBTYPE OF (Shape_element);
      identification : STRING; --label;
  END_ENTITY; -- datum_feature

  ENTITY Datum_plane
    SUBTYPE OF (Datum_shape_element);
  END_ENTITY; -- datum_plane

  ENTITY Datum_point
    SUBTYPE OF (Datum_shape_element);
      location_in_2d                   : OPTIONAL cartesian_point;
      location_in_3d                   : OPTIONAL cartesian_point;
      associated_3d_shape_intersection : OPTIONAL shape_definition_3d_intersection;
    WHERE
      WR1 : NOT (EXISTS(location_in_2d) AND EXISTS(location_in_3d)) OR EXISTS(associated_3d_shape_intersection);
      WR2 : NOT (EXISTS(location_in_2d)) OR ((SIZEOF(location_in_2d\cartesian_point.coordinates)) = 2);
      WR3 : NOT (EXISTS(location_in_3d)) OR ((SIZEOF(location_in_3d\cartesian_point.coordinates)) = 3);
  END_ENTITY; -- datum_point

	ENTITY datum_shape_element
	  SUBTYPE OF (datum, Non_feature_shape_element);
	END_ENTITY;

  ENTITY Datum_target_set
    SUBTYPE OF (Datum_feature);
    INVERSE
      included_datum_targets : SET[1:?] OF datum_target_usage_in_datum_target_set_relationship FOR defined_datum_target_set;
  END_ENTITY; -- datum_target_set

  ENTITY Datum_target_usage_in_datum_target_set_relationship;
      defined_datum_target_set : datum_target_set;
      used_datum_target        : datum_target;
      datum_target_number      : INTEGER; -- positive_integer;
    UNIQUE
      UR1 : used_datum_target,
 defined_datum_target_set;
      UR2 : datum_target_number,
 defined_datum_target_set;
  END_ENTITY; -- datum_target_usage_in_datum_target_set_relationship

  ENTITY Derived_shape_element
    ABSTRACT SUPERTYPE OF (ONEOF (apex,
 centre_of_symmetry,
 linear_extension,
 geometric_intersection,
 geometric_alignment,
 tangent_shape_element))
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      deriving_relationships : SET[1:?] OF shape_element_deriving_relationship FOR relating;
  END_ENTITY; -- derived_shape_element

  ENTITY Diametrical_boundary_size_characteristic
    SUBTYPE OF (Boundary_size_characteristic);
      sized_boundary : tolerance_zone_circular_or_cylindrical_or_spherical_boundary;
  END_ENTITY; -- diametrical_boundary_size_characteristic

-- Wait for repsonse from LK
--  ENTITY Dimension_location_with_specified_datum_system
--    SUBTYPE OF (Location_dimension);
--      referenced_datum_system_defining_conditions : datum_system_defining_conditions_without_material_conditions;
--  END_ENTITY; -- dimension_location_with_specified_datum_system

  ENTITY Dimension_qualifier
    ABSTRACT SUPERTYPE OF (ONEOF (pre_defined_dimension_qualifier,
 user_defined_dimension_qualifier));
      qualified_dimensions : SET[1:?] OF geometric_dimension;
  END_ENTITY; -- dimension_qualifier

  ENTITY Dimension_related_positional_boundary
    SUBTYPE OF (positional_boundary);
      boundary_members             : SET[1:?] OF positional_boundary_member;
      constrained_physical_feature : physical_feature_or_part_template;
  END_ENTITY; -- dimension_related_positional_boundary

  ENTITY Dimension_related_positional_boundary_definition
    SUBTYPE OF (positional_boundary_definition);
      SELF\positional_boundary_definition.defined_positional_boundary : dimension_related_positional_boundary;
      characterized_boundary_member_definitions                       : SET[1:?] OF positional_boundary_member_definition;
  END_ENTITY; -- dimension_related_positional_boundary_definition

  ENTITY Dimension_set;
      associated_dimensions : SET[1:?] OF geometric_dimension;
  END_ENTITY; -- dimension_set

  ENTITY Dimensional_characteristic_representation;
      representation                     : shape_dimension_representation;
      dimension                          : dimensional_location_or_dimensional_size;
      auxiliary_dimension_representation : BOOLEAN;
  END_ENTITY; -- dimensional_characteristic_representation

  ENTITY Dimensional_size_based_on_opposing_boundaries
    SUBTYPE OF (size_dimension);
      boundary_separation           		: shape_element_locating_relationship;
      SELF\size_dimension.is_applied_to : composite_unit_shape_element;
  END_ENTITY; -- dimensional_size_based_on_opposing_boundaries

  ENTITY Directed_axis
    SUBTYPE OF (Non_feature_shape_element);
      axis_to_be_oriented : centre_axis;
      start_shape_element : shape_element;
      end_shape_element   : shape_element;
    UNIQUE
      UR1 : axis_to_be_oriented,
 start_shape_element;
  END_ENTITY; -- directed_axis

  ENTITY Direction_element;
      direction                     : datum_based_direction_vector;
      angle_value                   : angle_data_element;
      base_datum_plane              : datum_plane;
      direction_of_half_datum_plane : datum_based_direction_vector;
    INVERSE
      elements_of : SET[1:?] OF datum_based_vector_orientation FOR direction_components;
  END_ENTITY; -- direction_element

  ENTITY Edge_segment_vertex
    SUBTYPE OF (single_datum,
 datum_point);
    UNIQUE
      UR1 : SELF\single_datum.datum_name;
  END_ENTITY; -- edge_segment_vertex

  ENTITY Externally_defined_dimension_representation
    SUBTYPE OF (shape_dimension_representation);
      dimension_value : OPTIONAL value_with_unit;
    INVERSE
      definitions			: SET[1:?] OF External_source_identification FOR item;
  END_ENTITY; -- externally_defined_dimension_representation

  ENTITY Geometric_alignment
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- geometric_alignment

  ENTITY Geometric_intersection
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- geometric_intersection

  ENTITY Geometric_tolerance_qualifier
    ABSTRACT SUPERTYPE OF (ONEOF (pre_defined_geometric_tolerance_qualifier,
 user_defined_geometric_tolerance_qualifier));
      qualified_geometric_tolerances : SET[1:?] OF geometric_tolerance;
  END_ENTITY; -- geometric_tolerance_qualifier

  ENTITY Geometric_tolerance_with_applied_material_condition_property
    SUBTYPE OF (Geometric_tolerance);
      applied_material_condition_property_name : material_condition_property_names;
  END_ENTITY; -- geometric_tolerance_with_applied_material_condition_property

-- Need a confirmation from Tom to remove it
--  ENTITY Geometric_tolerance_with_referenced_datum_system
--    ABSTRACT SUPERTYPE OF (
--    ONEOF (angularity_tolerance,
-- parallelism_tolerance,
-- perpendicularity_tolerance,
-- circular_runout_tolerance,
-- symmetry_tolerance,
-- concentricity_and_coaxiality_tolerance,
-- profile_of_any_line_tolerance_with_referenced_datum_system,
-- profile_of_any_surface_tolerance_with_referenced_datum_system,
-- position_tolerance_with_referenced_datum_system
-- , total_runout_tolerance))
--    SUBTYPE OF (Geometric_tolerance);
--      datum_system_definition : datum_system_defining_conditions;
--  END_ENTITY; -- geometric_tolerance_with_referenced_datum_system

  ENTITY Limit_dimension_representation
    SUBTYPE OF (shape_dimension_representation);
      upper_dimension_value : value_with_unit;
      lower_dimension_value : value_with_unit;
  END_ENTITY; -- limit_dimension_representation

  ENTITY Linear_extension
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- linear_extension

  ENTITY Maximum_dimension_representation
    SUBTYPE OF (singular_dimension_representation);
  END_ENTITY; -- maximum_dimension_representation

  ENTITY Minimum_dimension_representation
    SUBTYPE OF (singular_dimension_representation);
  END_ENTITY; -- minimum_dimension_representation

  ENTITY Opposing_boundary_set_size_characteristic
    SUBTYPE OF (Boundary_size_characteristic);
      sized_boundary_set : tolerance_zone_opposing_boundary_set;
  END_ENTITY; -- opposing_boundary_set_size_characteristic

  ENTITY Parallel_shape_element_relationship
    SUBTYPE OF (shape_element_relationship);
  END_ENTITY; -- parallel_shape_element_relationship

  ENTITY Perpendicular_shape_element_relationship
    SUBTYPE OF (shape_element_relationship);
  END_ENTITY; -- perpendicular_shape_element_relationship

-- Need a confirmation from Tom to remove it
--  ENTITY Position_tolerance_with_referenced_datum_system
--    SUPERTYPE OF (ONEOF (composite_feature_locating_position_tolerance,
-- boundary_based_position_tolerance))
--    SUBTYPE OF (position_tolerance,
-- geometric_tolerance_with_referenced_datum_system);
--  END_ENTITY; -- position_tolerance_with_referenced_datum_system

-- Need a confirmation from Tom to remove it
--  ENTITY Position_tolerance_without_referenced_datum_system
--    SUBTYPE OF (position_tolerance,
-- geometric_tolerance);
--  END_ENTITY; -- position_tolerance_without_referenced_datum_system

  ENTITY Positional_boundary
    ABSTRACT SUPERTYPE OF (ONEOF (profile_related_positional_boundary,
 dimension_related_positional_boundary))
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      boundary_definition : positional_boundary_definition FOR defined_positional_boundary;
  END_ENTITY; -- positional_boundary

  ENTITY Positional_boundary_and_profile_boundary_member_relationship;
      offset_positional_boundary                  : profile_related_positional_boundary;
      base_profile_tolerance_zone_boundary_member : tolerance_zone_boundary_member;
    INVERSE
      offset : positional_boundary_offset FOR offset_boundary_relationship;
  END_ENTITY; -- positional_boundary_and_profile_boundary_member_relationship

  ENTITY Positional_boundary_definition
    ABSTRACT SUPERTYPE OF (ONEOF (profile_related_positional_boundary_definition,
 dimension_related_positional_boundary_definition));
      defined_positional_boundary : positional_boundary;
  END_ENTITY; -- positional_boundary_definition

  ENTITY Positional_boundary_member
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      composed_positional_boundary : dimension_related_positional_boundary FOR boundary_members;
      boundary_member_definition   : positional_boundary_member_definition FOR defined_positional_boundary_member;
  END_ENTITY; -- positional_boundary_member

  ENTITY Positional_boundary_member_definition;
      defined_positional_boundary_member : positional_boundary_member;
      tolerance_value                    : length_data_element;
      associated_dimension               : size_dimension;
    INVERSE
      boundary_definition : dimension_related_positional_boundary_definition FOR characterized_boundary_member_definitions;
  END_ENTITY; -- positional_boundary_member_definition

  ENTITY Positional_boundary_offset;
      offset_boundary_relationship : positional_boundary_and_profile_boundary_member_relationship;
      tolerance_value              : length_data_element;
    INVERSE
      boundary_definition : profile_related_positional_boundary_definition FOR boundary_offset;
  END_ENTITY; -- positional_boundary_offset

  ENTITY Pre_defined_dimension_qualifier
    SUBTYPE OF (Dimension_qualifier);
      description : dimension_qualifiers;
  END_ENTITY; -- pre_defined_dimension_qualifier

  ENTITY Pre_defined_geometric_tolerance_qualifier
    SUBTYPE OF (Geometric_tolerance_qualifier);
      description : geometric_tolerance_qualifiers;
  END_ENTITY; -- pre_defined_geometric_tolerance_qualifier

--  ENTITY Profile_boundary_definition_with_offsets
--    SUBTYPE OF (profile_boundary_definition);
--      SELF\tolerance_zone_boundary_definition.defined_zone_boundary : tolerance_zone_explicit_opposing_boundary_set;
--      boundary_offsets                                              : SET[2:2] OF tolerance_zone_boundary_member_offset;
--  END_ENTITY; -- profile_boundary_definition_with_offsets

  ENTITY Profile_related_positional_boundary
    SUBTYPE OF (positional_boundary);
    INVERSE
      associating_relationship : positional_boundary_and_profile_boundary_member_relationship FOR offset_positional_boundary;
  END_ENTITY; -- profile_related_positional_boundary

  ENTITY Profile_related_positional_boundary_definition
    SUBTYPE OF (positional_boundary_definition);
      SELF\positional_boundary_definition.defined_positional_boundary : profile_related_positional_boundary;
      boundary_offset                                                 : positional_boundary_offset;
  END_ENTITY; -- profile_related_positional_boundary_definition

  ENTITY Projected_zone_and_base_relationship;
      base_physical_feature : physical_feature_or_part_template;
      projected_zone        : tolerance_zone;
    INVERSE
      size_characteristic : projected_zone_height_characteristic FOR defined_height_of;
  END_ENTITY; -- projected_zone_and_base_relationship

  ENTITY Projected_zone_height_characteristic;
      defined_height_of      : projected_zone_and_base_relationship;
      projected_height_value : length_data_element;
-- LK input needed    INVERSE
-- LK input needed      zone_definition : projection FOR defining; --projected_zone_height;
  END_ENTITY; -- projected_zone_height_characteristic
 
  ENTITY Restraint_condition
    SUPERTYPE OF (tolerance_specific_restraint_condition);
(** Need a WR to capture cardinality    
      restraint_description : Requirement_definition_property;
*)      
      applied_to            : restrained_item_select;
  END_ENTITY; -- restraint_condition
  
  ENTITY Runout_tolerance_zone_definition_with_specified_angle
    SUBTYPE OF (tolerance_zone_definition);
      runout_orientation : runout_zone_orientation;
  END_ENTITY; -- runout_tolerance_zone_definition_with_specified_angle

  ENTITY Runout_tolerance_zone_orienting_relationship;
      oriented_zone  : tolerance_zone;
      orienting_axis : directed_axis;
    INVERSE
      angular_size_characteristic : runout_zone_orientation FOR oriented_relationship;
  END_ENTITY; -- runout_tolerance_zone_orienting_relationship

  ENTITY Runout_zone_orientation;
      oriented_relationship : runout_tolerance_zone_orienting_relationship;
      semi_angle_value      : angle_data_element;
    INVERSE
      zone_definition : runout_tolerance_zone_definition_with_specified_angle FOR runout_orientation;
  END_ENTITY; -- runout_zone_orientation

  ENTITY Separate_geometric_tolerance_requirement;
      separated_geometric_tolerances : SET[1:?] OF geometric_tolerance;
  END_ENTITY; -- separate_geometric_tolerance_requirement

  ENTITY Shape_dimension_representation
    ABSTRACT SUPERTYPE OF (ONEOF (limit_dimension_representation,
 singular_dimension_representation,
 externally_defined_dimension_representation
 -- ,plus_minus_tolerance_range_representation
 ));
  END_ENTITY; -- shape_dimension_representation

  ENTITY Shape_element_deriving_relationship
    SUBTYPE OF (shape_element_relationship);
      SELF\shape_element_relationship.relating : derived_shape_element;
    UNIQUE
      UR1 : SELF\shape_element_relationship.related, 
 SELF\shape_element_relationship.relating;
  END_ENTITY; -- shape_element_deriving_relationship

  ENTITY Simultaneous_geometric_tolerance_requirement;
      grouped_geometric_tolerances : SET[2:?] OF geometric_tolerance;
  END_ENTITY; -- simultaneous_geometric_tolerance_requirement

  ENTITY Singular_dimension_representation
    ABSTRACT SUPERTYPE OF (ONEOF (theoretically_exact_dimension_representation,
 maximum_dimension_representation,
 minimum_dimension_representation))
    SUBTYPE OF (shape_dimension_representation);
      dimension_value : value_with_unit;
  END_ENTITY; -- singular_dimension_representation

  ENTITY Statistical_dimensional_tolerance
    SUBTYPE OF (Geometric_dimension);
      alternate_dimension             : OPTIONAL geometric_dimension;
(** Need a WR to capture cardinality      
      statistical_control_requirement : Requirement_definition_property;
*)      
  END_ENTITY; -- statistical_dimensional_tolerance

  ENTITY Statistical_geometric_tolerance
    SUBTYPE OF (Geometric_tolerance);
      alternate_tolerance             : OPTIONAL geometric_tolerance;
(** Need a WR to capture cardinality      
      statistical_control_requirement : Requirement_definition_property;
*)      
  END_ENTITY; -- statistical_geometric_tolerance

  ENTITY Tangent_plane
    SUBTYPE OF (tangent_shape_element);
  END_ENTITY; -- tangent_plane

  ENTITY Tangent_shape_element
    SUPERTYPE OF (tangent_plane)
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- tangent_shape_element

  ENTITY Theoretically_exact_dimension_representation
    SUBTYPE OF (singular_dimension_representation);
  END_ENTITY; -- theoretically_exact_dimension_representation

  ENTITY Tolerance_specific_restraint_condition
    SUBTYPE OF (restraint_condition);
      affected_tolerances : SET[1:?] OF geometric_or_dimension_select;
  END_ENTITY; -- tolerance_specific_restraint_condition

  ENTITY Tolerance_zone_and_viewing_plane_orienting_relationship;
      orienting_viewing_plane : viewing_plane;
      oriented_tolerance_zone : tolerance_zone;
    INVERSE
      zone_orientation : viewing_plane_based_orientation FOR orienting_relationship;
  END_ENTITY; -- tolerance_zone_and_viewing_plane_orienting_relationship

  ENTITY Tolerance_zone_boundary
    ABSTRACT SUPERTYPE OF (ONEOF (tolerance_zone_circular_or_cylindrical_or_spherical_boundary,
 tolerance_zone_opposing_boundary_set,
 conical_tolerance_zone_boundary))
    SUBTYPE OF (Non_feature_shape_element);
--    INVERSE
-- LK input needed      bounded_zone             : tolerance_zone FOR zone_boundary;
--      boundary_zone_definition : tolerance_zone_boundary_definition FOR defined_zone_boundary;
  END_ENTITY; -- tolerance_zone_boundary

  ENTITY Tolerance_zone_boundary_member
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      explicit_opposing_boundary_set : tolerance_zone_explicit_opposing_boundary_set FOR boundary_members;
  END_ENTITY; -- tolerance_zone_boundary_member

  ENTITY Tolerance_zone_boundary_member_offset;
      offset_tolerance_zone_boundary_member : tolerance_zone_boundary_member;
      offset_value                          : length_data_element;
      type_of_offset                        : offset_types;
--    INVERSE
--      boundary_definition : profile_boundary_definition_with_offsets FOR boundary_offsets;
  END_ENTITY; -- tolerance_zone_boundary_member_offset

  ENTITY Tolerance_zone_circular_or_cylindrical_or_spherical_boundary
    SUBTYPE OF (tolerance_zone_boundary);
    INVERSE
      size_characteristic : diametrical_boundary_size_characteristic FOR sized_boundary;
  END_ENTITY; -- tolerance_zone_circular_or_cylindrical_or_spherical_boundary

  ENTITY Tolerance_zone_definition_with_per_unit_size_specification
    SUBTYPE OF (tolerance_zone_definition);
      per_unit_size_specification : tolerance_zone_per_unit_size_specification;
  END_ENTITY; -- tolerance_zone_definition_with_per_unit_size_specification

  ENTITY Tolerance_zone_definition_with_specified_orientation
    SUBTYPE OF (tolerance_zone_definition);
      zone_orientation : orientation_select;
  END_ENTITY; -- tolerance_zone_definition_with_specified_orientation

  ENTITY Tolerance_zone_explicit_opposing_boundary_set
    SUBTYPE OF (tolerance_zone_opposing_boundary_set);
      boundary_members : SET[2:2] OF tolerance_zone_boundary_member;
  END_ENTITY; -- tolerance_zone_explicit_opposing_boundary_set

  ENTITY Tolerance_zone_form;
      characterized_tolerance_zone : tolerance_zone;
      name                         : STRING; --label;
-- LK input needed    INVERSE
-- LK input needed      zone_definition : tolerance_zone_definition FOR form;
  END_ENTITY; -- tolerance_zone_form

  ENTITY Tolerance_zone_implicit_opposing_boundary_set
    SUBTYPE OF (tolerance_zone_opposing_boundary_set);
  END_ENTITY; -- tolerance_zone_implicit_opposing_boundary_set

  ENTITY Tolerance_zone_opposing_boundary_set
    ABSTRACT SUPERTYPE OF (ONEOF (tolerance_zone_explicit_opposing_boundary_set,
 tolerance_zone_implicit_opposing_boundary_set))
    SUBTYPE OF (tolerance_zone_boundary);
    INVERSE
      size_characteristic : opposing_boundary_set_size_characteristic FOR sized_boundary_set;
  END_ENTITY; -- tolerance_zone_opposing_boundary_set

  ENTITY Tolerance_zone_per_unit_size_specification;
      specified_tolerance_zone : tolerance_zone;
      per_unit_size            : SET[1:2] OF length_data_element;
    INVERSE
      zone_definition : tolerance_zone_definition_with_per_unit_size_specification FOR per_unit_size_specification;
  END_ENTITY; -- tolerance_zone_per_unit_size_specification

  ENTITY True_profile;
      profiled_surface       : physical_feature_or_part_template;
      profile_representation : true_profile_representations;
--    INVERSE
--      boundary_definition : SET[1:?] OF profile_boundary_definition FOR basic_profile;
  END_ENTITY; -- true_profile

  ENTITY User_defined_dimension_qualifier
    SUBTYPE OF (Dimension_qualifier);
      description : STRING; --text;
      name        : STRING; --text;
  END_ENTITY; -- user_defined_dimension_qualifier

  ENTITY User_defined_geometric_tolerance_qualifier
    SUBTYPE OF (Geometric_tolerance_qualifier);
      description : STRING; --text;
      name        : STRING; --text;
  END_ENTITY; -- user_defined_geometric_tolerance_qualifier

  ENTITY Viewing_plane
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      viewing_plane_specification : viewing_plane_definition FOR defined_viewing_plane;
  END_ENTITY; -- viewing_plane

  ENTITY Viewing_plane_based_orientation;
      orienting_relationship      : tolerance_zone_and_viewing_plane_orienting_relationship;
      viewing_plane_specification : viewing_plane_definition;
  END_ENTITY; -- viewing_plane_based_orientation

  ENTITY Viewing_plane_definition;
      defined_viewing_plane        : viewing_plane;
      viewing_plane_representation : axis_placement;
    INVERSE
      zone_orientation : viewing_plane_based_orientation FOR viewing_plane_specification;
  END_ENTITY; -- viewing_plane_definition

END_SCHEMA; -- Extended_geometric_tolerance_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Wireframe_2d_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO/TC184/SC4 WG12N2625 - ISO/TS 10303-1347 Wireframe_2d - EXPRESS ARM
   Supersedes ISO TC184/SC4/WG12N1775
*)

SCHEMA Wireframe_2d_arm;

USE FROM Elemental_geometric_shape_arm;

ENTITY Geometrically_bounded_2d_wireframe_shape_representation
  SUBTYPE OF (Geometric_model);
END_ENTITY;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_module_connection_routing_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect module connection routing - EXPRESS ARM
*)

SCHEMA Interconnect_module_connection_routing_arm;

USE FROM Layered_interconnect_module_with_design_intend_modifications_arm;

USE FROM Fabrication_joint_arm;

USE FROM Functional_design_elaboration_arm;

USE FROM Interconnect_module_with_macros_arm;

	TYPE imcr_termination_or_junction = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON termination_or_junction WITH 	
    	(Inter_stratum_join_relationship,
     	Explicitly_located_layer_connection_point,
    	Topological_junction);
  	END_TYPE;

	SUBTYPE_CONSTRAINT layer_connection_point_subtypes FOR layer_connection_point; 
		(ONEOF (explicitly_located_layer_connection_point,
		 dependently_located_layer_connection_point));
	END_SUBTYPE_CONSTRAINT; 
	
 	TYPE terminal_or_inter_stratum_feature = SELECT(
 		Embedded_component_terminal,
		Inter_stratum_feature,
		Interconnect_module_macro_component_join_terminal,
     	Interconnect_module_terminal,
     	Printed_component_join_terminal);
	END_TYPE;

 	TYPE trace_junction_or_via = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;
 
  ENTITY Dependently_located_layer_connection_point
    SUBTYPE OF (Layer_connection_point);
      associated_design_object : terminal_or_inter_stratum_feature;
      reference_zone           : OPTIONAL connection_zone_in_design_view;
  END_ENTITY; -- dependently_located_layer_connection_point

  ENTITY Dielectric_crossover_area
    SUBTYPE OF (stratum_concept_relationship);
      related_concept                : stratum_feature;
      relating_concept               : stratum_feature;
      resulting_dielectric_crossover : stratum_feature;
  END_ENTITY; -- dielectric_crossover_area

  ENTITY Direct_stratum_component_join_implementation;
      implementing_joint      : fabrication_joint;
      topological_requirement : stratum_embedded_component_join_relationship;
  END_ENTITY; -- direct_stratum_component_join_implementation

  ENTITY Explicitly_located_layer_connection_point
    SUBTYPE OF (Layer_connection_point);
  END_ENTITY; -- explicitly_located_layer_connection_point

  ENTITY Indirect_stratum_component_join_implementation
    SUBTYPE OF (plated_inter_stratum_feature);
      indirect_topological_requirement : stratum_embedded_component_join_relationship;
      implementing_joint               : fabrication_joint;
    UNIQUE
      UR1 : indirect_topological_requirement,
 implementing_joint;
  END_ENTITY; -- indirect_stratum_component_join_implementation

  ENTITY Inter_stratum_join_implementation
    ABSTRACT SUPERTYPE OF (ONEOF (physical_network_supporting_stratum_feature_conductive_join,
 physical_network_supporting_inter_stratum_feature));
      topological_requirement : inter_stratum_join_relationship;
  END_ENTITY; -- inter_stratum_join_implementation

  ENTITY Join_two_physical_connectivity_definition_supporting_inter_stratum_feature
    SUBTYPE OF (physical_network_supporting_inter_stratum_feature);
      joined_definitions : SET[2:2] OF physical_connectivity_definition;
  END_ENTITY; -- join_two_physical_connectivity_definition_supporting_inter_stratum_feature

  ENTITY Junction_vertex_allocation;
      implementation_point : trace_junction_or_via;
      required_vertex      : topological_junction;
    UNIQUE
      UR1 : required_vertex;
  END_ENTITY; -- junction_vertex_allocation

  ENTITY Physical_connectivity_abstraction_map;
      name_space_context_based_definition : physical_connectivity_element;
      geometric_context_based_definition  : conductive_interconnect_element;
    UNIQUE
      UR1 : name_space_context_based_definition,
 geometric_context_based_definition;
  END_ENTITY; -- physical_connectivity_abstraction_map

  ENTITY Physical_network_supporting_inter_stratum_feature
    SUPERTYPE OF (join_two_physical_connectivity_definition_supporting_inter_stratum_feature)
    SUBTYPE OF (plated_inter_stratum_feature,
 inter_stratum_join_implementation);
  END_ENTITY; -- physical_network_supporting_inter_stratum_feature

  ENTITY Physical_network_supporting_stratum_feature_conductive_join
    SUBTYPE OF (stratum_feature_conductive_join,
 inter_stratum_join_implementation);
  END_ENTITY; -- physical_network_supporting_stratum_feature_conductive_join

  ENTITY Stratum_feature_conductive_join
    SUPERTYPE OF (physical_network_supporting_stratum_feature_conductive_join)
    SUBTYPE OF (stratum_concept_relationship);
      related_concept  : stratum_feature_template_component;
      relating_concept : stratum_feature_template_component;
    WHERE
      WR1 : related_concept.stratum_feature_implementation.resident_stratum :<>: relating_concept.stratum_feature_implementation.resident_stratum;
  END_ENTITY; -- stratum_feature_conductive_join

  ENTITY Topological_junction;
      scope : physical_connectivity_structure_definition;
      name  : STRING; --ee_name;
    UNIQUE
      UR1 : name,
 scope;
  END_ENTITY; -- topological_junction

	SUBTYPE_CONSTRAINT Stratum_concept_relationship_subtypes FOR Stratum_concept_relationship;     
 		(ONEOF (stratum_feature_conductive_join,
 		dielectric_crossover_area));
	END_SUBTYPE_CONSTRAINT;

END_SCHEMA; -- Interconnect_module_connection_routing_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module design - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_design_arm;

USE FROM Physical_unit_design_view_arm;

USE FROM Printed_physical_layout_template_arm;

USE FROM Component_feature_arm;

USE FROM Requirement_assignment_arm;

USE FROM Part_template_extension_arm;

USE FROM Component_grouping_arm;

USE FROM Interconnect_module_usage_view_arm;

USE FROM Manufacturing_technology_arm;

USE FROM Extended_geometric_tolerance_arm;

Use FROM Form_features_arm;

-- USE FROM Part_template_shape_with_parameters_arm;
-- Problematic
USE FROM Part_template_2d_shape_arm;

USE FROM Functional_design_elaboration_arm;

USE FROM Interconnect_physical_requirement_allocation_arm;

USE FROM Layered_shape_arm;

USE FROM Basic_curve_arm;

	SUBTYPE_CONSTRAINT assembly_component_subtypes FOR assembly_component; 
	    (ONEOF (physical_component,
	 	laminate_component));
	END_SUBTYPE_CONSTRAINT;
	
	SUBTYPE_CONSTRAINT array_placement_group_subtypes FOR array_placement_group; 
		(ONEOF (laminate_text_string_component,
		 linear_array_placement_group_component,
		 rectangular_array_placement_group_component));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT assembly_group_component_subtypes FOR assembly_group_component; 
	    (interfaced_group_component ANDOR
	 	array_placement_group ANDOR
	 	(ONEOF (footprint_occurrence,
	 	padstack_occurrence)));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT component_feature_subtypes FOR component_feature;     
		 ONEOF (physical_component_feature,
		 laminate_component_feature);
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT component_terminal_subtypes FOR component_terminal;     
		 ONEOF (physical_component_terminal,
		 laminate_component_join_terminal);
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT default_land_physical_template_subtypes FOR default_land_physical_template;     
		(ONEOF (default_passage_based_land_physical_template,
		 default_attachment_size_based_land_physical_template));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT Default_attachment_size_based_land_physical_template_subtypes FOR Default_attachment_size_based_land_physical_template;     
	    (ONEOF (default_attachment_size_and_component_termination_passage_based_land_physical_template,
	 	default_attachment_size_and_via_based_land_physical_template));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT interconnect_module_terminal_subtypes FOR interconnect_module_terminal;     
		(ONEOF (interconnect_module_interface_terminal,
		 interconnect_module_join_terminal));
	END_SUBTYPE_CONSTRAINT; 

	SUBTYPE_CONSTRAINT layout_template_definition_subtypes FOR Layout_template_definition; 
	    (ONEOF (inter_stratum_feature_template,
		 material_removal_feature_template,
		 non_conductive_cross_section_template,
		 printed_part_cross_section_template,
		 printed_part_template,
		 special_symbol_part_template,
		 stratum_feature_template,
		 trace_template) ANDOR
		 part_text_template);
	END_SUBTYPE_CONSTRAINT;

 	TYPE bare_die_component_or_packaged_component = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

 	TYPE bare_die_terminal_or_packaged_part_terminal = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;

 	TYPE component_feature_or_stratum_surface = EXTENSIBLE GENERIC_ENTITY SELECT
		(component_feature,
		stratum_surface);
 	END_TYPE;

  TYPE horizontal_justification = ENUMERATION OF
    (right,
     centre,
     left);
  END_TYPE; -- horizontal_justification


-- Maybe we can move those entities into separate module?

	TYPE limd_ee_product_definition_with_annotation_elements = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON ee_product_definition_with_annotation_elements WITH 
   	(layout_template_definition,
   	stratum);
	END_TYPE; 

 	TYPE limd_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Laminate_layer,
		Stratum,
		Laminate_component);
	END_TYPE;

	TYPE limd_part_feature_or_template_feature = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON part_feature_or_template_feature WITH 
	   	(printed_part_template_terminal,
	   	land_template_terminal,
	   	component_termination_passage_template_terminal,
	   	via_template_terminal,
	   	part_terminal_external_reference);
	END_TYPE; 

	TYPE limd_physical_feature_or_part_template = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_feature_or_part_template WITH 
	   (Part_feature,
		Physical_component_feature,
	 	Physical_laminate_component,
	 	Layout_template_definition,
	 	Stratum_feature);
	END_TYPE; --ap210_physical_feature_or_part_template

	TYPE limd_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Stratum_concept_relationship);
	END_TYPE; 

	TYPE limd_specification_product_object_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON specification_product_object_select WITH 
	    (stratum_concept,
	     stratum);
	END_TYPE; -- ap210_specification_product_object_select

	TYPE limd_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(Component_termination_passage_template_terminal,
	     Via_template_terminal);
	END_TYPE;

  TYPE printed_part_template_or_printed_part_cross_section_template = SELECT
    (printed_part_template,
     printed_part_cross_section_template);
  END_TYPE; -- printed_part_template_or_printed_part_cross_section_template

 	TYPE stratum_concept = EXTENSIBLE GENERIC_ENTITY SELECT
    (laminate_component,
     inter_stratum_feature,
     stratum_feature,
     stratum,
     stratum_surface);
	END_TYPE;

	TYPE stratum_feature_or_stratum_feature_template_component = SELECT(
		stratum_feature,
    	stratum_feature_template_component);
	END_TYPE;

  TYPE stratum_surface_designation = ENUMERATION OF
    (primary_surface,
     secondary_surface);
  END_TYPE; -- stratum_surface_designation

  TYPE trimmed_or_boundary_curve = SELECT
    (boundary_curve,
     trimmed_curve);
  END_TYPE; -- trimmed_or_boundary_curve

  TYPE vertical_justification = ENUMERATION OF
    (centre,
     top,
     bottom);
  END_TYPE; -- vertical_justification

  ENTITY Adjacent_stratum_surface_definition;
      name               : STRING;
      precedent_surface  : stratum_surface;
      subsequent_surface : stratum_surface;
    UNIQUE
      UR1 : name;
      UR2 : precedent_surface,
 subsequent_surface;
    WHERE
      WR1 : precedent_surface.name = stratum_surface_designation.secondary_surface;
      WR2 : subsequent_surface.name = stratum_surface_designation.primary_surface;
  END_ENTITY; -- adjacent_stratum_surface_definition

  ENTITY Adjacent_stratum_surface_embedded_component_surface_definition;
      name            : STRING;
      precedent_item  : component_feature_or_stratum_surface;
      subsequent_item : component_feature_or_stratum_surface;
    UNIQUE
      UR1 : name;
      UR2 : precedent_item,
 subsequent_item;
    WHERE
      WR1 : TYPEOF(precedent_item) <> TYPEOF(subsequent_item);
      WR2 : NOT ('AP210_ARM.single_datum' IN TYPEOF(SELF));
      WR3 : precedent_item <> subsequent_item;
      WR4 : NOT ('AP210_ARM.COMPONENT_FEATURE' IN TYPEOF(precedent_item)) OR (SIZEOF(['AP210_ARM.BARE_DIE_SURFACE',
 'AP210_ARM.PACKAGE_BODY_SURFACE'] * TYPEOF(precedent_item.definition)) = 1);
      WR5 : NOT ('AP210_ARM.COMPONENT_FEATURE' IN TYPEOF(subsequent_item)) OR (SIZEOF(['AP210_ARM.BARE_DIE_SURFACE',
 'AP210_ARM.PACKAGE_BODY_SURFACE'] * TYPEOF(subsequent_item.definition)) = 1);
  END_ENTITY; -- adjacent_stratum_surface_embedded_component_surface_definition

  ENTITY Blind_passage_template
    SUBTYPE OF (unsupported_passage_template);
      of_measure_orientation               : measure_orientation;
      datum_reference                      : stratum_surface;
      bottom_distance_from_datum_reference : shape_dimension_representation;
  END_ENTITY; -- blind_passage_template

  ENTITY Component_termination_passage
    SUBTYPE OF (plated_passage);
      SELF\definition_based_product_occurrence.derived_from : component_termination_passage_template;
    INVERSE
      access_mechanism           : SET[1:?] OF component_termination_passage_join_terminal FOR associated_component;
      interface_access_mechanism : component_termination_passage_interface_terminal FOR associated_component;
  END_ENTITY; -- component_termination_passage

  ENTITY Component_termination_passage_interface_terminal
    SUBTYPE OF (Laminate_component_interface_terminal);
      SELF\component_feature.definition           : component_termination_passage_template_interface_terminal;
      SELF\component_feature.associated_component : component_termination_passage;
  END_ENTITY; -- component_termination_passage_interface_terminal

  ENTITY Component_termination_passage_join_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : component_termination_passage_template_join_terminal;
      SELF\component_feature.associated_component : component_termination_passage;
  END_ENTITY; -- component_termination_passage_join_terminal

  ENTITY Component_termination_passage_template
    SUBTYPE OF (Inter_stratum_feature_template);
      SELF\inter_stratum_feature_template.of_passage_technology : default_component_termination_passage_definition;
    INVERSE
      access_mechanisms : SET[2:?] OF component_termination_passage_template_terminal FOR associated_definition;
  END_ENTITY; -- component_termination_passage_template

  ENTITY Component_termination_passage_template_interface_terminal
    SUBTYPE OF (Component_termination_passage_template_terminal);
  END_ENTITY; -- component_termination_passage_template_interface_terminal

  ENTITY Component_termination_passage_template_join_terminal
    SUBTYPE OF (Component_termination_passage_template_terminal);
      disallowed_inter_stratum_extent : OPTIONAL SET[1:?] OF inter_stratum_extent;
  END_ENTITY; -- component_termination_passage_template_join_terminal

  ENTITY Component_termination_passage_template_terminal
    ABSTRACT SUPERTYPE OF (ONEOF (component_termination_passage_template_interface_terminal,
 component_termination_passage_template_join_terminal))
    SUBTYPE OF (Shape_element);
      associated_definition    : component_termination_passage_template;
      terminal_connection_zone : OPTIONAL SET[1:?] OF connection_zone_in_layout_template;
    INVERSE
      terminal_shape : SET[0:1] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
  END_ENTITY; -- component_termination_passage_template_terminal

  ENTITY Conductive_filled_area
    SUPERTYPE OF (connected_filled_area)
    SUBTYPE OF (stratum_feature);
  END_ENTITY; -- conductive_filled_area

  ENTITY Conductive_interconnect_element
    ABSTRACT SUPERTYPE OF (ONEOF (unrouted_conductive_interconnect_element,
 conductive_interconnect_element_with_pre_defined_transitions))
    SUBTYPE OF (Laminate_component);
      composed_conductor : OPTIONAL stratum_feature;
    INVERSE
      access_mechanisms : SET[2:?] OF conductive_interconnect_element_terminal FOR associated_component;
  END_ENTITY; -- conductive_interconnect_element

  ENTITY Conductive_interconnect_element_terminal
    SUBTYPE OF (Laminate_component_feature);
      SELF\component_feature.associated_component : conductive_interconnect_element;
      connection                                  : OPTIONAL connection_zone_in_design_view;
      name                                        : STRING;
      location                                    : layer_connection_point;
    UNIQUE
      UR1 : name,
 SELF\component_feature.associated_component;
    WHERE
      WR1 : NOT (EXISTS(SELF\component_feature.associated_component\conductive_interconnect_element.composed_conductor)) OR (location.resident_design_layer_stratum = SELF\component_feature.associated_component\conductive_interconnect_element.composed_conductor.resident_stratum);
  END_ENTITY; -- conductive_interconnect_element_terminal

  ENTITY Conductive_interconnect_element_terminal_link;
      associated_element : conductive_interconnect_element;
      precedent_point    : conductive_interconnect_element_terminal;
      subsequent_point   : conductive_interconnect_element_terminal;
    UNIQUE
      UR1 : precedent_point,
 subsequent_point;
    WHERE
      WR1 : precedent_point <> subsequent_point;
      WR2 : precedent_point.associated_component = associated_element;
      WR3 : subsequent_point.associated_component = associated_element;
  END_ENTITY; -- conductive_interconnect_element_terminal_link

  ENTITY Conductive_interconnect_element_with_pre_defined_transitions
    SUPERTYPE OF (join_two_physical_connectivity_definition_supporting_printed_component)
    SUBTYPE OF (Conductive_interconnect_element);
      SELF\definition_based_product_occurrence.derived_from                : trace_template;
      centreline_shape                                        : curve;
      SELF\conductive_interconnect_element.composed_conductor : stratum_feature;
    INVERSE
      connected_points : SET[1:?] OF conductive_interconnect_element_terminal_link FOR associated_element;
    WHERE
      WR1 : SIZEOF(connected_points) = SIZEOF(SELF\conductive_interconnect_element.access_mechanisms) - 1;
      WR2 : correlated_terminals(SELF\conductive_interconnect_element.access_mechanisms,
 connected_points);
  END_ENTITY; -- conductive_interconnect_element_with_pre_defined_transitions

  ENTITY Conductor
    SUBTYPE OF (stratum_feature);
      SELF\stratum_feature.resident_stratum : design_layer_stratum;
      implementation_requirement            : intra_stratum_join_relationship;
  END_ENTITY; -- conductor

  ENTITY Connected_area_component
    SUBTYPE OF (stratum_feature_template_component);
      associated_layer_connection_point : SET[1:?] OF layer_connection_point;
    WHERE
      WR1 : NOT (EXISTS(SELF\definition_based_product_occurrence.derived_from));
  END_ENTITY; -- connected_area_component

  ENTITY Connected_filled_area
    SUBTYPE OF (Conductive_filled_area);
      SELF\stratum_feature.resident_stratum : design_layer_stratum;
      implementation_requirement            : intra_stratum_join_relationship;
  END_ENTITY; -- connected_filled_area


  ENTITY Counterbore_passage_template
    SUBTYPE OF (unsupported_passage_template);
      smaller_passage : unsupported_passage_template;
      larger_passage  : blind_passage_template;
  END_ENTITY; -- counterbore_passage_template

  ENTITY Countersunk_passage_template
    SUBTYPE OF (unsupported_passage_template);
      constant_diameter_passage : unsupported_passage_template;
      tapered_passage           : blind_passage_template;
  END_ENTITY; -- countersunk_passage_template

  ENTITY Default_attachment_size_and_component_termination_passage_based_land_physical_template
    SUBTYPE OF (Default_component_termination_passage_based_land_physical_template,
 default_attachment_size_based_land_physical_template);
  END_ENTITY; -- default_attachment_size_and_component_termination_passage_based_land_physical_template

  ENTITY Default_attachment_size_and_via_based_land_physical_template
    SUBTYPE OF (Default_via_based_land_physical_template,
 default_attachment_size_based_land_physical_template);
  END_ENTITY; -- default_attachment_size_and_via_based_land_physical_template

  ENTITY Default_component_termination_passage_based_land_physical_template
    SUPERTYPE OF (default_attachment_size_and_component_termination_passage_based_land_physical_template)
    SUBTYPE OF (Default_passage_based_land_physical_template);
      SELF\default_passage_based_land_physical_template.of_passage_technology : default_component_termination_passage_definition;
  END_ENTITY; -- default_component_termination_passage_based_land_physical_template

  ENTITY Default_component_termination_passage_definition
    SUBTYPE OF (passage_technology);
      minimum_allowed_component_terminal_extent	: length_data_element;
      maximum_allowed_component_terminal_extent	: length_data_element;
      SELF\passage_technology.deposition_material : material_identification;
    DERIVE
      minimum_as_finished_deposition_thickness 	: length_data_element := SELF\passage_technology.of_technology;
      minimum_as_finished_passage_extent       	: length_data_element := SELF\passage_technology.of_technology.minimum_as_finished_passage_extent;
    WHERE
      WR1 : EXISTS(minimum_as_finished_deposition_thickness);
      WR3 : EXISTS(minimum_as_finished_passage_extent);
  END_ENTITY; -- default_component_termination_passage_definition

  ENTITY Default_passage_based_land_physical_template
    ABSTRACT SUPERTYPE OF (ONEOF (default_via_based_land_physical_template,
 default_component_termination_passage_based_land_physical_template,
 default_unsupported_passage_based_land_physical_template))
    SUBTYPE OF (Default_land_physical_template);
      minimum_fabrication_allowance : length_data_element;
      of_passage_technology         : passage_technology;
      of_stratum_extent             : inter_stratum_extent;
      minimum_annular_ring          : length_data_element;
    UNIQUE
      UR1 : of_passage_technology,
 SELF\stratum_feature_template.of_stratum_technology;
  END_ENTITY; -- default_passage_based_land_physical_template

	ENTITY Default_plated_passage_based_land_physical_template
	  SUBTYPE OF (Default_passage_based_land_physical_template);
	 SELF\default_passage_based_land_physical_template.of_passage_technology :
		default_via_definition;
	END_ENTITY; -- default_plated_passage_based_land_physical_template

  ENTITY Default_unsupported_passage_based_land_physical_template
    SUBTYPE OF (Default_passage_based_land_physical_template);
      SELF\default_passage_based_land_physical_template.of_passage_technology : default_unsupported_passage_definition;
  END_ENTITY; -- default_unsupported_passage_based_land_physical_template

  ENTITY Default_unsupported_passage_definition
    SUBTYPE OF (passage_technology);
    DERIVE
      minimum_as_finished_passage_extent				: length_data_element := SELF\passage_technology.minimum_as_finished_passage_extent;
    WHERE
      WR1 : EXISTS(minimum_as_finished_passage_extent);
  END_ENTITY; -- default_unsupported_passage_definition

  ENTITY Default_via_based_land_physical_template
    SUPERTYPE OF (default_attachment_size_and_via_based_land_physical_template)
    SUBTYPE OF (Default_passage_based_land_physical_template);
      SELF\default_passage_based_land_physical_template.of_passage_technology : default_via_definition;
  END_ENTITY; -- default_via_based_land_physical_template


  ENTITY Default_via_definition
    SUBTYPE OF (passage_technology);
	    SELF\passage_technology.deposition_material : Material_identification;
    DERIVE
      minimum_as_finished_deposition_thickness 	: length_data_element := SELF\passage_technology.of_technology;
      minimum_as_finished_passage_extent       	: length_data_element := SELF\passage_technology.of_technology.minimum_as_finished_passage_extent;
    WHERE
      WR1 : EXISTS(minimum_as_finished_deposition_thickness);
      WR3 : EXISTS(minimum_as_finished_passage_extent);
  END_ENTITY; -- default_via_definition

  ENTITY Design_layer_stratum
    SUBTYPE OF (stratum);
      primary_design_layer_stratum : BOOLEAN;
      SELF\stratum.of_technology   : design_layer_technology;
    INVERSE
      existence_dependence : SET[1:?] OF layer_connection_point FOR resident_design_layer_stratum;
      library_definition    : SET[0:1] OF view_definition_relationship FOR related_view;
    WHERE
      WR1 : (NOT (primary_design_layer_stratum) AND (SIZEOF(QUERY(imps <* USEDIN(SELF,
 'AP210_ARM.STRATUM_CONCEPT_TO_PHYSICAL_USAGE_VIEW_ASSIGNMENT.' + 'ASSIGNED_DESIGN_OBJECT') | ('AP210_ARM.INTERCONNECT_MODULE_PRIMARY_SURFACE' IN TYPEOF(imps.defined_part_feature)))) = 0)) OR ((primary_design_layer_stratum) AND (SIZEOF(QUERY(imps <* USEDIN(SELF,
 'AP210_ARM.STRATUM_CONCEPT_TO_PHYSICAL_USAGE_VIEW_ASSIGNMENT.' + 'ASSIGNED_DESIGN_OBJECT') | ('AP210_ARM.INTERCONNECT_MODULE_PRIMARY_SURFACE' IN TYPEOF(imps.defined_part_feature)))) = 1));
  END_ENTITY; -- design_layer_stratum

  ENTITY Documentation_layer_stratum
    SUBTYPE OF (stratum);
      SELF\stratum.of_technology : documentation_layer_technology;
    INVERSE
      library_definition : SET[0:1] OF view_definition_relationship FOR related_view;
  END_ENTITY; -- documentation_layer_stratum

  ENTITY Electrical_isolation_laminate_component
    SUBTYPE OF (Filled_area_material_removal_laminate_component);
      SELF\definition_based_product_occurrence.derived_from : electrical_isolation_removal_template;
  END_ENTITY; -- electrical_isolation_laminate_component

  ENTITY Embedded_component_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : bare_die_terminal_or_packaged_part_terminal;
      SELF\component_feature.associated_component : bare_die_component_or_packaged_component;
  END_ENTITY; -- embedded_component_terminal

  ENTITY Fiducial
    SUBTYPE OF (Laminate_component);
  END_ENTITY; -- fiducial

  ENTITY Fiducial_stratum_feature
    SUBTYPE OF (stratum_feature);
  END_ENTITY; -- fiducial_stratum_feature

  ENTITY Filled_area_material_removal_laminate_component
    SUPERTYPE OF (ONEOF (electrical_isolation_laminate_component,
 thermal_isolation_laminate_component))
    SUBTYPE OF (Material_removal_laminate_component);
    WHERE
      WR1 : NOT ('AP210_ARM.CONDUCTOR' IN TYPEOF(SELF\material_removal_laminate_component.design_intent));
  END_ENTITY; -- filled_area_material_removal_laminate_component

  ENTITY Footprint_occurrence
    SUBTYPE OF (Assembly_group_component);
      SELF\definition_based_product_occurrence.derived_from : footprint_definition;
    INVERSE
      component : SET[1:?] OF footprint_occurrence_sub_assembly_relationship FOR relating_view; --relating_component;
    WHERE
      WR1 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.COMPONENT_MAKE_FROM_RELATIONSHIP.RESULTANT_COMPONENT')) <= 1;
      WR2 : NOT (SIZEOF(USEDIN(SELF,
 'AP210_ARM.COMPONENT_MAKE_FROM_RELATIONSHIP.RESULTANT_COMPONENT')) = 1) OR (SIZEOF(QUERY(cmfr <* USEDIN(SELF,
 'AP210_ARM.COMPONENT_MAKE_FROM_RELATIONSHIP.RESULTANT_COMPONENT') | 'AP210_ARM.ASSEMBLY_GROUP_COMPONENT' IN TYPEOF(cmfr.reusable_component))) = 1);
      WR3 : SIZEOF(TYPEOF(SELF) * ['AP210_ARM.PRINTED_COMPONENT',
 'AP210_ARM.LAMINATE_COMPONENT',
 'AP210_ARM.PHYSICAL_COMPONENT']) = 0;
 			WR4 : (SIZEOF(components) = 0);
  END_ENTITY; -- footprint_occurrence

  ENTITY Footprint_occurrence_sub_assembly_relationship
	SUBTYPE OF (part_occurrence_definition_relationship);  
      SELF\view_definition_relationship.related_view                  : laminate_component;
      SELF\view_definition_relationship.relating_view                 : footprint_occurrence;
      sub_assembly_reference_designation : part_template_location_in_padstack_definition;
      terminal_location                  : padstack_location_in_footprint_definition;
    UNIQUE
      UR1 : sub_assembly_reference_designation,
 relating_view, --relating_component,
 terminal_location;
    WHERE
      WR1 : terminal_location.footprint :=: relating_view.dervied_from;
      WR2 : sub_assembly_reference_designation.padstack :=: terminal_location.padstack;
      WR3 : related_view\definition_based_product_occurrence.derived_from :=: sub_assembly_reference_designation.template.associated_template_occurrence;
  END_ENTITY; -- footprint_occurrence_sub_assembly_relationship

  ENTITY Generic_physical_network
    ABSTRACT SUPERTYPE OF (ONEOF(unrouted_physical_network, routed_physical_network));
      name                                         : STRING; --ee_name;    
      current_associated_definition                : interconnect_module;
      prior_associated_definition                  : OPTIONAL SET[1:?] OF interconnect_module;      
      connectivity_requirement_element             : SET[2:?] OF laminate_component_join_terminal;
    UNIQUE
      UR1 : name,
 current_associated_definition;
 		WHERE
      WR1 : NOT (EXISTS(prior_associated_definition)) OR NOT (current_associated_definition IN prior_associated_definition); 
  END_ENTITY; 

  ENTITY Inter_stratum_extent;
      from_stratum : stratum;
      to_stratum   : stratum;
  END_ENTITY; -- inter_stratum_extent

  ENTITY Inter_stratum_feature
		ABSTRACT SUPERTYPE OF (ONEOF (unsupported_passage,
			plated_inter_stratum_feature
--			,
--			cutout,
--			interconnect_module_edge,
--			interconnect_module_edge_segment
--			,cutout_edge_segment,
--			dielectric_material_passage
			))  
    SUBTYPE OF (Laminate_component);
      feature_of_size                          : BOOLEAN;
      SELF\definition_based_product_occurrence.derived_from : inter_stratum_feature_template;
  END_ENTITY; -- inter_stratum_feature

  ENTITY Inter_stratum_feature_template
    SUBTYPE OF (Layout_template_definition);
      of_passage_technology : passage_technology;
  END_ENTITY; -- inter_stratum_feature_template

  ENTITY Inter_stratum_join_relationship
    SUBTYPE OF (Join_relationship);
      points_to_be_connected : SET[2:?] OF layer_connection_point;
  END_ENTITY; -- inter_stratum_join_relationship

  ENTITY Interconnect_connection_zone_position_relationship;
      associating_design_view_shape               : feature_shape_definition;
      associated_usage                            : connection_zone_in_design_view;
      associated_connection_zone_shape_definition : feature_shape_definition;
      associated_usage_placement                  : axis_placement;
      associating_design_view                     : interconnect_module;
  END_ENTITY; -- interconnect_connection_zone_position_relationship

  ENTITY Interconnect_module
  	SUPERTYPE OF (ONEOF (pcb,
 		reference_packaged_part_interconnect_implementation))
    SUBTYPE OF (part_design_view);
    INVERSE
      of_fabrication_thickness_requirement : SET[0:?] OF requirement_assignment FOR assigned_to;
    WHERE
      WR1 : SIZEOF(QUERY(ftr <* of_fabrication_thickness_requirement | NOT ('AP210_ARM.FABRICATION_THICKNESS_REQUIREMENT_OCCURRENCE' IN TYPEOF(ftr\requirement_assignment.assigned_requirement)))) = 0;
      WR2 : SIZEOF(QUERY(imsar <* USEDIN(SELF,
 'AP210_ARM.INTERCONNECT_MODULE_STRATUM_ASSEMBLY_RELATIONSHIP.' + 'ASSEMBLY') | (('AP210_ARM.DESIGN_LAYER_STRATUM' IN TYPEOF(imsar.component)) AND (imsar.component\design_layer_stratum.primary_design_layer_stratum = TRUE)))) = 1;
  END_ENTITY; -- interconnect_module

  ENTITY Interconnect_module_join_terminal
    SUBTYPE OF (Interconnect_module_terminal);
    INVERSE
      defining_terminal : component_feature_to_physical_usage_view_assignment FOR defined_part_feature;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.COMPONENT_TERMINATION_PASSAGE_JOIN_TERMINAL',
 'AP210_ARM.VIA_TERMINAL',
 'AP210_ARM.PRINTED_COMPONENT_JOIN_TERMINAL',
 'AP210_ARM.CONDUCTIVE_INTERCONNECT_ELEMENT_TERMINAL',
 'AP210_ARM.LAND_JOIN_TERMINAL',
 'AP210_ARM.NON_FUNCTIONAL_LAND_JOIN_TERMINAL'] * TYPEOF(defining_terminal.assigned_terminal)) = 1;
  END_ENTITY; -- interconnect_module_join_terminal

  ENTITY Interconnect_module_stratum_assembly_relationship;
      assembly              : interconnect_module;
      component             : stratum;
      reference_designation : STRING; --ee_name;
    UNIQUE
      UR1 : assembly,
 reference_designation;
  END_ENTITY; -- interconnect_module_stratum_assembly_relationship

  ENTITY Interface_access_material_removal_laminate_component
    SUBTYPE OF (Material_removal_laminate_component);
      accessed_interface : laminate_component_interface_terminal;
  END_ENTITY; -- interface_access_material_removal_laminate_component

  ENTITY Interface_access_stratum_feature_template_component
    SUBTYPE OF (stratum_feature_template_component);
      accessed_interface : laminate_component_interface_terminal;
  END_ENTITY; -- interface_access_stratum_feature_template_component

  ENTITY Internal_probe_access_area
    SUBTYPE OF (probe_access_area);
      stratum_feature_implementation : stratum_feature;
    INVERSE
      internal_access : internal_stratum_access FOR connected_probe;
  END_ENTITY; -- internal_probe_access_area

  ENTITY Internal_stratum_access;
      connected_probe       : internal_probe_access_area;
      inter_stratum_feature : via;
    UNIQUE
      UR1 : connected_probe,
 inter_stratum_feature;
  END_ENTITY; -- internal_stratum_access

  ENTITY Intra_stratum_join_relationship
    SUBTYPE OF (Join_relationship);
      points_to_be_connected : SET[2:?] OF layer_connection_point;
    INVERSE
      ordered_implementation : SET[0:1] OF conductor FOR implementation_requirement;
      random_implementation  : SET[0:1] OF connected_filled_area FOR implementation_requirement;
    WHERE
      WR1 : (EXISTS(ordered_implementation)) XOR (EXISTS(random_implementation));
  END_ENTITY; -- intra_stratum_join_relationship

  ENTITY Join_relationship
    ABSTRACT SUPERTYPE OF (ONEOF (inter_stratum_join_relationship,
		intra_stratum_join_relationship,
	 	stratum_embedded_component_join_relationship,
	 	unrouted_join_relationship));
      associated_layout : interconnect_module;
    INVERSE
      network_topology : Routed_physical_network FOR routed_connectivity_requirement_element;
  END_ENTITY; -- join_relationship

  ENTITY Join_two_physical_connectivity_definition_supporting_printed_component
    SUBTYPE OF (Conductive_interconnect_element_with_pre_defined_transitions);
      joined_definitions : SET[2:2] OF physical_connectivity_definition;
  END_ENTITY; -- join_two_physical_connectivity_definition_supporting_printed_component

  ENTITY Laminate_component
		SUPERTYPE OF (ONEOF (conductive_interconnect_element,
			material_removal_laminate_component,
			stratum_feature_template_component,
			probe_access_area,
			inter_stratum_feature,
			special_symbol_laminate_component,
			laminate_text_component,
			laminate_text_string_component) ANDOR
			fiducial)
    SUBTYPE OF (Assembly_component);
      SELF\definition_based_product_occurrence.derived_from : OPTIONAL Layout_template_definition;
    INVERSE
      padstack_occurrence_assembly  : SET[0:1] OF padstack_occurrence_sub_assembly_relationship FOR related_view; --related_component;      
      footprint_occurrence_assembly : SET[0:1] OF footprint_occurrence_sub_assembly_relationship FOR related_view;
	  cad_layer						: SET[0:1] OF External_source_identification FOR item;      
    WHERE
      WR1 : ((SIZEOF(padstack_occurrence_assembly) = SIZEOF(footprint_occurrence_assembly)) AND (SIZEOF(padstack_occurrence_assembly) = 0) AND (SIZEOF(SELF\definition_based_product_occurrence.occurrence_contexts) > 0)) OR ((SIZEOF(padstack_occurrence_assembly) <> SIZEOF(footprint_occurrence_assembly)) AND (SIZEOF(SELF\definition_based_product_occurrence.occurrence_contexts) = 0));
      -- SEDS 1351
      WR3 : NOT (SIZEOF(occurrence_contexts) = 0) OR ('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(SELF));
      WR4 : NOT (SIZEOF(occurrence_contexts) = 0) OR (SIZEOF(SELF\laminate_component.padstack_occurrence_assembly) + SIZEOF(SELF\laminate_component.footprint_occurrence_assembly) = 1);
      WR5 : (SIZEOF(occurrence_contexts) > 0) OR (('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(SELF)) AND (SIZEOF(SELF\laminate_component.padstack_occurrence_assembly) + SIZEOF(SELF\laminate_component.footprint_occurrence_assembly) = 1));
  END_ENTITY; -- laminate_component

  ENTITY Laminate_component_feature
    ABSTRACT SUPERTYPE OF (ONEOF (conductive_interconnect_element_terminal,
 laminate_component_interface_terminal,
 laminate_component_join_terminal,
 via_terminal))
    SUBTYPE OF (Component_feature);
  END_ENTITY; -- laminate_component_feature

  ENTITY Laminate_component_interface_terminal
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (Laminate_component_feature);
  END_ENTITY; -- laminate_component_interface_terminal

  ENTITY Laminate_component_join_terminal
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (Laminate_component_feature,
 component_terminal);
    INVERSE
      node_implementation : SET[0:1] OF Generic_physical_network FOR connectivity_requirement_element;
  END_ENTITY; -- laminate_component_join_terminal

  ENTITY Laminate_group_component_make_from_relationship
    SUBTYPE OF (Component_make_from_relationship);
      SELF\component_make_from_relationship.reusable_component  : assembly_group_component;
      SELF\component_make_from_relationship.resultant_component : assembly_group_component;
      stratum_mapping                                           : SET[1:?] OF part_definition_relationship; --stratum_make_from_relationship;
    WHERE
      WR1 : SIZEOF(QUERY(sar <* SELF\component_make_from_relationship.reusable_component.assembly | NOT ('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(sar.related_component)))) = 0;
      WR2 : SIZEOF(QUERY(sar <* SELF\component_make_from_relationship.resultant_component.components | NOT ('AP210_ARM.LAMINATE_COMPONENT' IN TYPEOF(sar.related_component)))) = 0;
  END_ENTITY; -- laminate_group_component_make_from_relationship

  ENTITY Laminate_layer;
      extent      : inter_stratum_extent;
      name        : STRING; --ee_name;
    INVERSE
      layer_usage	: SET[0:1] OF External_source_identification FOR item;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- Laminate_layer

  ENTITY Laminate_text_component
    SUBTYPE OF (Laminate_component);
      of_character                             : STRING (1) FIXED;
      SELF\definition_based_product_occurrence.derived_from : OPTIONAL part_text_template;
      stratum_feature_implementation           : SET[1:?] OF stratum_feature;
  END_ENTITY; -- laminate_text_component

  ENTITY Laminate_text_string_component
    SUBTYPE OF (Array_placement_group,
 laminate_component);
      message_contents            : string_representation_item;
      of_horizontal_justification : horizontal_justification;
      of_vertical_justification   : vertical_justification;
    WHERE
      WR1 : SIZEOF(QUERY(sar <* SELF\assembly_group_component.components | TYPEOF(sar.related_component) <> 'AP210_ARM.LAMINATE_TEXT_COMPONENT')) = 0;
  END_ENTITY; -- laminate_text_string_component

  ENTITY Layer_connection_point
    ABSTRACT SUPERTYPE;
      location_2d                   : OPTIONAL cartesian_point;
      location_3d                   : OPTIONAL cartesian_point;
      name                          : STRING; --ee_name;
      resident_design_layer_stratum : design_layer_stratum;
    DERIVE
      aggregate_join    : SET[1:?] OF join_relationship := make_aggregate_join(inter_join_path,
 intra_join_path,
 embedded_component_path);
      reference_network : Generic_physical_network := aggregate_join[1].network_topology;
    INVERSE
      inter_join_path         : SET[0:1] OF inter_stratum_join_relationship FOR points_to_be_connected;
      intra_join_path         : intra_stratum_join_relationship FOR points_to_be_connected;
      embedded_component_path : SET[0:?] OF stratum_embedded_component_join_relationship FOR point_to_be_connected;
    UNIQUE
      UR1 : name,
 resident_design_layer_stratum;
    WHERE
      WR1 : EXISTS(location_2d) OR EXISTS(location_3d);
      WR2 : NOT (EXISTS(location_2d)) OR ((SIZEOF(location_2d\cartesian_point.coordinates)) = 2);
      WR3 : NOT (EXISTS(location_3d)) OR ((SIZEOF(location_3d\cartesian_point.coordinates)) = 3);
      WR4 : SIZEOF(QUERY(jr <* aggregate_join | jr.network_topology <> reference_network)) = 0;
      WR5 : EXISTS(reference_network); 
  END_ENTITY; -- layer_connection_point

  ENTITY Layout_junction;
      associated_definition : interconnect_module;
      name                  : STRING; --ee_name;
      net                   : Generic_physical_network;
      location              : cartesian_point;
    UNIQUE
      UR1 : location,
 net;
      UR2 : name,
 net;
    WHERE
      WR1 : associated_definition :=: net.current_associated_definition;
  END_ENTITY; -- layout_junction

  ENTITY Material_removal_laminate_component
    SUPERTYPE OF (filled_area_material_removal_laminate_component)
    SUBTYPE OF (Laminate_component);
      SELF\definition_based_product_occurrence.derived_from : material_removal_feature_template;
      design_intent                            							: stratum_feature_or_stratum_feature_template_component;
  END_ENTITY; -- material_removal_laminate_component

  ENTITY Multi_layer_material_removal_laminate_component
    SUBTYPE OF (Material_removal_laminate_component);
      derived_layer_geometry : Laminate_layer;
  END_ENTITY; -- multi_layer_material_removal_laminate_component

  ENTITY Multi_layer_stratum_feature
    SUBTYPE OF (stratum_feature);
      derived_layer_geometry : Laminate_layer;
  END_ENTITY; -- multi_layer_stratum_feature

  ENTITY Multi_layer_stratum_feature_template_component
    SUBTYPE OF (stratum_feature_template_component);
      derived_layer_geometry : Laminate_layer;
  END_ENTITY; -- multi_layer_stratum_feature_template_component

  ENTITY Padstack_occurrence
    SUBTYPE OF (Assembly_group_component);
      SELF\definition_based_product_occurrence.derived_from : padstack_definition;
    INVERSE
      component : SET[1:?] OF padstack_occurrence_sub_assembly_relationship FOR relating_view; --relating_component;
    WHERE
      WR1 : SIZEOF(TYPEOF(SELF) * ['AP210_ARM.PRINTED_COMPONENT',
 'AP210_ARM.LAMINATE_COMPONENT',
 'AP210_ARM.PHYSICAL_COMPONENT']) = 0;
 			WR2 : (SIZEOF(components) = 0); 
  END_ENTITY; -- padstack_occurrence

  ENTITY Padstack_occurrence_sub_assembly_relationship
	SUBTYPE OF (part_occurrence_definition_relationship);  
      SELF\view_definition_relationship.related_view                  : laminate_component;
      SELF\view_definition_relationship.relating_view                 : padstack_occurrence;
      sub_assembly_reference_designation : part_template_location_in_padstack_definition;
    UNIQUE
      UR1 : sub_assembly_reference_designation,
 relating_view, --relating_component,
 related_view; --related_component;
  END_ENTITY; -- padstack_occurrence_sub_assembly_relationship

  ENTITY Passage_padstack_definition
    SUBTYPE OF (padstack_definition);
      technology_reference : passage_technology;
  END_ENTITY; -- passage_padstack_definition

(* ------------------ END OF STRATUM -----------------------*)

(** It should be mapped like stratum, since it is on the same level.
It is a summary of all vertical elements of particular kind, similar like stratum is a summay of all horizontal elements. *)

	ENTITY Passage_technology
		SUPERTYPE OF (ONEOF (default_via_definition,
 			default_component_termination_passage_definition,
 			default_unsupported_passage_definition));
	  of_technology						: Passage_technology_parameters;
      associated_definition				: Interconnect_module;
      as_finished_inter_stratum_extent	: Inter_stratum_extent;      
      deposition_material               : OPTIONAL Material_identification;
	END_ENTITY;

  ENTITY Pcb
    SUBTYPE OF (Interconnect_module);
      SELF\part_design_view.usage_view : OPTIONAL pcb_usage_view;
  END_ENTITY; -- pcb

  ENTITY Physical_laminate_component
    SUBTYPE OF (Laminate_component);
    WHERE
      WR1 : SIZEOF(TYPEOF(SELF)) > 6;
  END_ENTITY; -- physical_laminate_component

  ENTITY Plated_inter_stratum_feature
    ABSTRACT SUPERTYPE 
    SUBTYPE OF (Inter_stratum_feature);
  END_ENTITY; -- plated_inter_stratum_feature

  ENTITY Plated_passage
    SUPERTYPE OF (ONEOF (component_termination_passage,
 via))
    SUBTYPE OF (plated_inter_stratum_feature);
  END_ENTITY; -- plated_passage

  ENTITY Primary_stratum_indicator_symbol
    SUBTYPE OF (special_symbol_laminate_component);
  END_ENTITY; -- primary_stratum_indicator_symbol

  ENTITY Probe_access_area
    SUPERTYPE OF (internal_probe_access_area)
    SUBTYPE OF (Laminate_component);
    	SELF\definition_based_product_occurrence.derived_from : OPTIONAL stratum_feature_template;
      probed_layout_item 																		: stratum_feature;
      probe_contact_zone 																		: connection_zone_in_design_view;
    	stratum_feature_material_stackup											: OPTIONAL multi_layer_stratum_feature;
    INVERSE
      network : Routed_physical_network FOR probe;
  END_ENTITY; -- probe_access_area

  ENTITY Routed_physical_network
    SUBTYPE OF (Generic_physical_network);
      reference_connected_terminals                	: OPTIONAL part_connected_terminals_definition;    
      routed_connectivity_requirement_element 			: SET[1:?] OF join_relationship;
      unrouted_connectivity_requirement_element 		: OPTIONAL SET[1:?] OF unrouted_join_relationship;      
      probe                                        	: OPTIONAL SET[1:?] OF probe_access_area;
    DERIVE
    	complete																			: BOOLEAN := EXISTS(unrouted_connectivity_requirement_element);
    WHERE
      WR1 : SIZEOF(QUERY(cre <* connectivity_requirement_element | NOT (NOT ('AP210_ARM.LAND_JOIN_TERMINAL' IN TYPEOF(cre)) OR (SIZEOF(TYPEOF(cre\component_feature.associated_component) * ['AP210_ARM.CONTACT_SIZE_DEPENDENT_LAND',
 'AP210_ARM.' + 'COMPONENT_TERMINATION_PASSAGE_AND_CONTACT_SIZE_DEPENDENT_LAND',
 'AP210_ARM.VIA_AND_CONTACT_SIZE_DEPENDENT_LAND']) = 1)))) = 0;
      WR2 : SIZEOF(QUERY(cre <* connectivity_requirement_element | NOT (NOT ('AP210_ARM.NON_FUNCTIONAL_LAND_JOIN_TERMINAL' IN TYPEOF(cre)) OR (SIZEOF(TYPEOF(cre\component_feature.associated_component) * ['AP210_ARM.' + 'COMPONENT_TERMINATION_PASSAGE_AND_' + 'CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND',
 'AP210_ARM.' + 'VIA_AND_CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND']) = 1)))) = 0;      
  END_ENTITY; 

  ENTITY Special_symbol_laminate_component
    SUPERTYPE OF (primary_stratum_indicator_symbol)
    SUBTYPE OF (Laminate_component);
      SELF\definition_based_product_occurrence.derived_from : special_symbol_part_template;
      stratum_feature_implementation           							: stratum_feature;
  END_ENTITY; -- special_symbol_laminate_component

  ENTITY Stratum
    SUPERTYPE OF (ONEOF (documentation_layer_stratum,
 design_layer_stratum))
    SUBTYPE OF (part_view_definition);
      of_technology 												: stratum_technology;
    DERIVE
      name : STRING := SELF\product_view_definition.product_definition_id;
    INVERSE
      of_average_surface 	: SET[0:1] OF stratum_average_surface FOR of_stratum;
      of_surface         	: SET[1:2] OF stratum_surface FOR of_stratum;
      assembly           	: SET[1:?] OF interconnect_module_stratum_assembly_relationship FOR component;
	  stratum_usage			: SET[0:1] OF External_source_identification FOR item;      
  END_ENTITY; -- stratum

  ENTITY Stratum_average_surface;
      of_stratum : stratum;
  END_ENTITY; -- stratum_average_surface

  ENTITY Stratum_concept_relationship
    ABSTRACT SUPERTYPE;
      resulting_shape        : OPTIONAL feature_shape_definition;
(** Need WR to capture cardinality
      technology_requirement : SET[1:?] OF Requirement_definition_property;
*)      
  END_ENTITY; -- stratum_concept_relationship

  ENTITY Stratum_embedded_component_join_relationship
    SUBTYPE OF (Join_relationship);
      terminal_to_be_connected : SET[1:?] OF embedded_component_terminal;
      point_to_be_connected    : SET[1:?] OF layer_connection_point;
    DERIVE
      associated_component : assembly_component := terminal_to_be_connected[1]\component_feature.associated_component;
    WHERE
      WR1 : SIZEOF(QUERY(t <* terminal_to_be_connected | t.associated_component <> associated_component)) = 0;
  END_ENTITY; -- stratum_embedded_component_join_relationship

  ENTITY Stratum_feature
		SUPERTYPE OF (ONEOF (conductor,
 			conductive_filled_area) ANDOR (fiducial_stratum_feature))    
		SUBTYPE OF (Shape_element); 			
      resident_stratum        : stratum;
      feature_of_size         : BOOLEAN;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 resident_stratum;
  END_ENTITY; -- stratum_feature

  ENTITY Stratum_feature_template_component
    SUBTYPE OF (Laminate_component);
      SELF\definition_based_product_occurrence.derived_from : OPTIONAL stratum_feature_template;
      stratum_feature_implementation           : stratum_feature;
  END_ENTITY; -- stratum_feature_template_component

  ENTITY Stratum_specific_part_template_location_in_padstack_definition
    SUBTYPE OF (part_template_location_in_padstack_definition);
      bound_stratum : stratum;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.STRATUM_FEATURE_TEMPLATE',
 'AP210_ARM.MATERIAL_ADDITION_FEATURE_TEMPLATE',
 'AP210_ARM.MATERIAL_REMOVAL_FEATURE_TEMPLATE'] * TYPEOF(SELF\part_template_location_in_padstack_definition.template.associated_template_occurrence)) = 1;
  END_ENTITY; -- stratum_specific_part_template_location_in_padstack_definition

  ENTITY Stratum_surface;
      of_stratum : stratum;
      name       : stratum_surface_designation;
    UNIQUE
      UR1 : name,
 of_stratum;
  END_ENTITY; -- stratum_surface

--  ENTITY Stratum_make_from_relationship;
--      reusable_stratum  : stratum;
--      resultant_stratum : stratum;
--  END_ENTITY; -- stratum_make_from_relationship

  ENTITY Thermal_isolation_laminate_component
    SUBTYPE OF (Filled_area_material_removal_laminate_component);
      SELF\definition_based_product_occurrence.derived_from : Thermal_isolation_removal_template;
  END_ENTITY; -- thermal_isolation_laminate_component

  ENTITY Unrouted_conductive_interconnect_element
    SUBTYPE OF (Conductive_interconnect_element);
    INVERSE
      connected_points : SET[1:?] OF conductive_interconnect_element_terminal_link FOR associated_element;
    WHERE
      WR1 : NOT (EXISTS(SELF\conductive_interconnect_element.composed_conductor));
      WR2 : correlated_terminals(SELF\conductive_interconnect_element.access_mechanisms,
 connected_points);
  END_ENTITY; -- unrouted_conductive_interconnect_element

  ENTITY Unrouted_join_relationship
    SUBTYPE OF (Join_relationship);
      unrouted_terminals : OPTIONAL SET[1:?] OF laminate_component_join_terminal;
      unrouted_lcp       : OPTIONAL SET[1:?] OF layer_connection_point;
      unrouted_junction  : OPTIONAL SET[1:?] OF layout_junction;
      unrouted_paa       : OPTIONAL SET[1:?] OF probe_access_area;
      unrouted_via       : OPTIONAL SET[1:?] OF via_terminal;
    WHERE
      WR1 : (SIZEOF(unrouted_terminals) + SIZEOF(unrouted_lcp) + SIZEOF(unrouted_paa) + SIZEOF(unrouted_via) + SIZEOF(unrouted_junction)) > 1;
  END_ENTITY; -- unrouted_join_relationship

  ENTITY Unrouted_physical_network
    SUBTYPE OF (Generic_physical_network);
  END_ENTITY; 

  ENTITY Unsupported_passage
    SUBTYPE OF (Inter_stratum_feature);
      SELF\definition_based_product_occurrence.derived_from : unsupported_passage_template;
  END_ENTITY; -- unsupported_passage

  ENTITY Unsupported_passage_template
    SUPERTYPE OF (ONEOF (counterbore_passage_template,
 countersunk_passage_template,
 blind_passage_template))
    SUBTYPE OF (Inter_stratum_feature_template);
      SELF\inter_stratum_feature_template.of_passage_technology : default_unsupported_passage_definition;
  END_ENTITY; -- unsupported_passage_template

  ENTITY Via
    ABSTRACT SUPERTYPE
    SUBTYPE OF (plated_passage);
      SELF\definition_based_product_occurrence.derived_from : via_template;
  END_ENTITY; -- via

  ENTITY Via_template
    SUBTYPE OF (Inter_stratum_feature_template);
      SELF\inter_stratum_feature_template.of_passage_technology : default_via_definition;
    INVERSE
      access_mechanisms : SET[2:?] OF via_template_terminal FOR associated_definition;
  END_ENTITY; -- via_template

  ENTITY Via_template_terminal
    SUBTYPE OF (shape_element);
      associated_definition           : via_template;
      disallowed_inter_stratum_extent : OPTIONAL inter_stratum_extent;
      terminal_connection_zone        : OPTIONAL SET[1:?] OF connection_zone_in_layout_template;
    INVERSE
      terminal_shape : SET[0:1] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
  END_ENTITY; -- via_template_terminal

  ENTITY Via_terminal
    SUBTYPE OF (Laminate_component_feature);
      SELF\component_feature.definition           : via_template_terminal;
      SELF\component_feature.associated_component : via;
  END_ENTITY; -- via_terminal

  FUNCTION correlated_terminals(
    input1 : SET OF conductive_interconnect_element_terminal ;
    input2 : SET OF conductive_interconnect_element_terminal_link
  ) : BOOLEAN;

    LOCAL
      pass : BOOLEAN := FALSE;
      ciet : SET OF conductive_interconnect_element_terminal := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input2) BY 1;
      ciet := ciet + input2[i].precedent_point;
      ciet := ciet + input2[i].subsequent_point;
    END_REPEAT;
    pass := (input1 = ciet);
    RETURN(pass);
  END_FUNCTION; -- correlated_terminals

  FUNCTION make_aggregate_join(
    input1 : SET OF inter_stratum_join_relationship ;
    input2 : intra_stratum_join_relationship ;
    input3 : SET OF stratum_embedded_component_join_relationship
  ) : SET OF join_relationship;

    LOCAL
      v1 : SET OF join_relationship := input1;
    END_LOCAL;

    v1 := v1 + input2;
    v1 := v1 + input3;
    RETURN(v1);
  END_FUNCTION; -- make_aggregate_join

END_SCHEMA; -- Layered_interconnect_module_design_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module 3d shape - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_3d_shape_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Part_template_3d_shape_arm;

	SUBTYPE_CONSTRAINT inter_stratum_feature_template_subtypes FOR inter_stratum_feature_template;         
	    (ONEOF (component_termination_passage_template,
		 via_template,
		 unsupported_passage_template,
		 inter_stratum_feature_edge_segment_template,
		 inter_stratum_feature_edge_template));
	END_SUBTYPE_CONSTRAINT;        

	SUBTYPE_CONSTRAINT plated_inter_stratum_feature_subtypes FOR plated_inter_stratum_feature;  
		 (ONEOF (plated_cutout,
		 plated_interconnect_module_edge,
		 plated_cutout_edge_segment,
		 plated_interconnect_module_edge_segment,
		 plated_passage));
	END_SUBTYPE_CONSTRAINT; 

 	TYPE material_or_specification = SELECT
 		(Requirement_definition_property,
     	Material_identification);
	END_TYPE;

  ENTITY Cutout
    SUPERTYPE OF (ONEOF (physical_connectivity_interrupting_cutout,
 plated_cutout,
 partially_plated_cutout))
    SUBTYPE OF (Inter_stratum_feature);
  END_ENTITY; -- cutout

  ENTITY Cutout_edge_segment
    SUPERTYPE OF (plated_cutout_edge_segment)
    SUBTYPE OF (Inter_stratum_feature);
      composed_cutout                             : cutout;
      start_vertex                                : edge_segment_vertex;
      end_vertex                                  : edge_segment_vertex;
      SELF\inter_stratum_feature.derived_from : inter_stratum_feature_edge_segment_template;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- cutout_edge_segment

  ENTITY Dielectric_material_passage
    SUBTYPE OF (Inter_stratum_feature);
      feature_material  : OPTIONAL material_or_specification;
      precedent_passage : cutout;
  END_ENTITY; -- dielectric_material_passage

  ENTITY Edge_segment_cross_section
    SUBTYPE OF (Shape_definition_3d_intersection);
      SELF\shape_definition_3d_intersection.surface_intersection_result : edge_shape;
      SELF\shape_definition_3d_intersection.projected_volume            : part_template_3d_shape;
    DERIVE
      cross_section_reference                                           : edge_segment_vertex := SELF\shape_definition_3d_intersection.projected_volume\part_template_3d_shape.shape_characterized_part_template\inter_stratum_feature_edge_segment_template.start_vertex;
      associated_template                                               : inter_stratum_feature_edge_segment_template := SELF\shape_definition_3d_intersection.projected_volume\part_template_3d_shape.shape_characterized_part_template;
    INVERSE
      referencing_template : inter_stratum_feature_edge_segment_template FOR cross_section;
    WHERE
      WR1 : associated_template :=: referencing_template;
  END_ENTITY; -- edge_segment_cross_section

  ENTITY Inter_stratum_feature_edge_segment_template
    SUBTYPE OF (Inter_stratum_feature_template);
      composed_edge  : inter_stratum_feature_edge_template;
      start_vertex   : edge_segment_vertex;
      end_vertex     : edge_segment_vertex;
      reference_path : trimmed_curve;
      cross_section  : OPTIONAL edge_segment_cross_section;
    WHERE
      WR1 : EXISTS(cross_section) XOR (SIZEOF(USEDIN(SELF,
 'AP210_ARM.PART_TEMPLATE_3D_SHAPE.' + 'SHAPE_CHARACTERIZED_PART_TEMPLATE')) >= 0);
      WR2 : EXISTS(reference_path.start_point) AND EXISTS(reference_path.end_point);
      WR3 : NOT (EXISTS(start_vertex\datum_point.location_in_2d)) OR (reference_path.start_point :=: start_vertex\datum_point.location_in_2d);
      WR4 : NOT (EXISTS(start_vertex\datum_point.location_in_3d)) OR (reference_path.start_point :=: start_vertex\datum_point.location_in_3d);
      WR5 : NOT (EXISTS(end_vertex\datum_point.location_in_2d)) OR (reference_path.end_point :=: start_vertex\datum_point.location_in_2d);
      WR6 : NOT (EXISTS(end_vertex\datum_point.location_in_3d)) OR (reference_path.end_point :=: start_vertex\datum_point.location_in_3d);
      WR7 : start_vertex :<>: end_vertex;
  END_ENTITY; -- inter_stratum_feature_edge_segment_template

  ENTITY Inter_stratum_feature_edge_template
    SUBTYPE OF (Inter_stratum_feature_template);
    INVERSE
      edges : SET[2:?] OF inter_stratum_feature_edge_segment_template FOR composed_edge;
  END_ENTITY; -- inter_stratum_feature_edge_template

  ENTITY Interconnect_module_edge
    SUPERTYPE OF (ONEOF (partially_plated_interconnect_module_edge,
 plated_interconnect_module_edge))
    SUBTYPE OF (Inter_stratum_feature);
  END_ENTITY; -- interconnect_module_edge

  ENTITY Interconnect_module_edge_segment
    SUPERTYPE OF (plated_interconnect_module_edge_segment)
    SUBTYPE OF (Inter_stratum_feature);
      composed_edge                               : interconnect_module_edge;
      start_vertex                                : edge_segment_vertex;
      end_vertex                                  : edge_segment_vertex;
      SELF\inter_stratum_feature.derived_from : inter_stratum_feature_edge_segment_template;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- interconnect_module_edge_segment

  ENTITY Partially_plated_cutout
    SUBTYPE OF (Cutout);
    INVERSE
      plated_segment   : SET[1:?] OF cutout_edge_segment FOR composed_cutout;
      unplated_segment : SET[1:?] OF cutout_edge_segment FOR composed_cutout;
  END_ENTITY; -- partially_plated_cutout
  
  ENTITY Partially_plated_interconnect_module_edge
    SUBTYPE OF (Interconnect_module_edge);
    INVERSE
      plated_segment   : SET[1:?] OF interconnect_module_edge_segment FOR composed_edge;
      unplated_segment : SET[1:?] OF interconnect_module_edge_segment FOR composed_edge;
  END_ENTITY; -- partially_plated_interconnect_module_edge

  ENTITY Physical_connectivity_interrupting_cutout
    SUBTYPE OF (Cutout);
      interrupted_connectivity_element : SET[1:?] OF conductive_interconnect_element;
  END_ENTITY; -- physical_connectivity_interrupting_cutout

  ENTITY Plated_cutout
    SUBTYPE OF (Cutout,
 plated_inter_stratum_feature);
  END_ENTITY; -- plated_cutout

  ENTITY Plated_cutout_edge_segment
    SUBTYPE OF (Cutout_edge_segment,
 plated_inter_stratum_feature);
      SELF\cutout_edge_segment.composed_cutout : partially_plated_cutout;
  END_ENTITY; -- plated_cutout_edge_segment

  ENTITY Plated_interconnect_module_edge
    SUBTYPE OF (Interconnect_module_edge,
 plated_inter_stratum_feature);
  END_ENTITY; -- plated_interconnect_module_edge

  ENTITY Plated_interconnect_module_edge_segment
    SUBTYPE OF (plated_inter_stratum_feature,
 interconnect_module_edge_segment);
      SELF\interconnect_module_edge_segment.composed_edge : partially_plated_interconnect_module_edge;
  END_ENTITY; -- plated_interconnect_module_edge_segment

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_with_printed_component_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module with printed component design - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_with_printed_component_design_arm;   

USE FROM Layered_interconnect_module_design_arm;

 	TYPE limwpcd_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Printed_component);
	END_TYPE;

	SUBTYPE_CONSTRAINT assembly_component_subtypes FOR assembly_component; 
	    (ONEOF (physical_component,
		 printed_component,
	 	laminate_component));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Printed_component
    SUBTYPE OF (Assembly_component);
      stratum_feature_implementation           : OPTIONAL SET[1:?] OF stratum_feature;
      SELF\definition_based_product_occurrence.derived_from : printed_part_template_or_printed_part_cross_section_template;
      printed_component_stack                  : OPTIONAL SET[1:?] OF printed_component_link;
      required_material_stack                  : OPTIONAL Laminate_layer;
      footprint_implementation                 : OPTIONAL footprint_occurrence;
    DERIVE
      access_mechanism : SET[1:?] OF printed_component_join_terminal := raw_access_mechanism + printed_component_access_mechanisms(printed_component_stack);
    INVERSE
      raw_access_mechanism       	: SET[1:?] OF printed_component_join_terminal FOR associated_component;
      associated_precedent_link  	: SET[0:1] OF printed_component_link FOR precedent_printed_component;
      associated_subsequent_link 	: SET[0:1] OF printed_component_link FOR subsequent_printed_component;
      cad_layer										: SET[0:1] OF External_source_identification FOR item;
    WHERE
      WR1  : NOT EXISTS(stratum_feature_implementation) OR same_stratum(stratum_feature_implementation);
      WR2  : NOT EXISTS(SELF\definition_based_product_occurrence.derived_from.of_stratum_technology) OR EXISTS(stratum_feature_implementation);
      WR3  : NOT EXISTS(SELF\definition_based_product_occurrence.derived_from.material_stack) OR EXISTS(required_material_stack);
      WR4  : NOT EXISTS(SELF\definition_based_product_occurrence.derived_from.printed_part_template_stack) OR EXISTS(printed_component_stack);
      WR5  : NOT EXISTS(printed_component_stack) OR consistent_stack_definition(SELF\definition_based_product_occurrence.derived_from,
 printed_component_stack);
      WR6  : NOT ('AP210_ARM.ROUTED_PRINTED_COMPONENT' IN TYPEOF(SELF)) OR ('AP210_ARM.PRINTED_PART_CROSS_SECTION_TEMPLATE' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from));
      WR7  : NOT ('AP210_ARM.PRINTED_PART_CROSS_SECTION_TEMPLATE' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from)) OR ('AP210_ARM.ROUTED_PRINTED_COMPONENT' IN TYPEOF(SELF));
      WR8  : SIZEOF(access_mechanism) > 0;
      WR9  : NOT EXISTS(footprint_implementation) OR (('AP210_ARM.PRINTED_PART_TEMPLATE' IN TYPEOF(footprint_implementation.derived_from.reference_package)) AND (derived_from = footprint_implementation.derived_from.reference_package));
      WR10 : NOT EXISTS(footprint_implementation) OR NOT ('AP210_ARM.ROUTED_PRINTED_COMPONENT' IN TYPEOF(SELF));
  END_ENTITY; -- printed_component

  ENTITY Printed_component_join_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : printed_part_template_join_terminal;
      SELF\component_feature.associated_component : printed_component;
      stratum_concept_implementation              : stratum_feature_template_component;
    WHERE
      WR1 : SIZEOF(QUERY(sf <* SELF\component_feature.associated_component\printed_component.stratum_feature_implementation | sf = stratum_concept_implementation.stratum_feature_implementation)) = 1;
  END_ENTITY; -- printed_component_join_terminal

  ENTITY Printed_component_link;
      precedent_printed_component  : printed_component;
      subsequent_printed_component : printed_component;
      definition                   : printed_part_template_link;
    INVERSE
      associated_printed_component : printed_component FOR printed_component_stack;
    WHERE
      WR1 : precedent_printed_component\definition_based_product_occurrence.derived_from = definition.precedent_printed_part_template;
      WR2 : subsequent_printed_component\definition_based_product_occurrence.derived_from = definition.subsequent_printed_part_template;
      WR3 : precedent_printed_component <> subsequent_printed_component;
  END_ENTITY; -- printed_component_link

  ENTITY Printed_connector_component
    SUBTYPE OF (printed_component);
      SELF\definition_based_product_occurrence.derived_from : printed_connector_template;
    INVERSE
      interface_access_mechanism : SET[1:?] OF printed_connector_component_interface_terminal FOR associated_component;
  END_ENTITY; -- printed_connector_component

  ENTITY Printed_connector_component_interface_terminal
    SUBTYPE OF (Laminate_component_interface_terminal);
      SELF\component_feature.definition           : printed_part_template_interface_terminal;
      SELF\component_feature.associated_component : printed_connector_component;
      stratum_concept_implementation              : stratum_feature_template_component;
    WHERE
      WR1 : NOT EXISTS(SELF\component_feature.associated_component\printed_component.stratum_feature_implementation) OR (SIZEOF(QUERY(temp <* SELF\component_feature.associated_component\printed_component.stratum_feature_implementation | temp :=: stratum_concept_implementation.stratum_feature_implementation)) = 1);
  END_ENTITY; -- printed_connector_component_interface_terminal

  ENTITY Routed_printed_component
    SUBTYPE OF (printed_component);
      routed_centreline_shape                  : curve;
      SELF\definition_based_product_occurrence.derived_from : printed_part_cross_section_template;
      component_extent                         : inter_stratum_extent;
  END_ENTITY; -- routed_printed_component

  FUNCTION consistent_stack_definition(
    input1 : printed_part_template ;
    input2 : SET OF printed_component_link
  ) : BOOLEAN;

    LOCAL
      pass : BOOLEAN := FALSE;
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input2) BY 1;
      pass := input2[i].definition.associated_printed_part_template :=: input1;
    END_REPEAT;
    RETURN(pass);
  END_FUNCTION; -- consistent_stack_definition

  FUNCTION printed_component_access_mechanisms(
    input : SET OF printed_component_link
  ) : SET OF printed_component_join_terminal;

    LOCAL
      pcjt : SET OF printed_component_join_terminal := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      pcjt := input[i].precedent_printed_component.raw_access_mechanism + pcjt;
      pcjt := input[i].subsequent_printed_component.raw_access_mechanism + pcjt;
    END_REPEAT;
    RETURN(pcjt);
  END_FUNCTION; -- printed_component_access_mechanisms

  FUNCTION same_stratum(
    input : SET OF stratum_feature
  ) : BOOLEAN;

    LOCAL
      pass : BOOLEAN := FALSE;
      s    : SET OF stratum := [];
      pptt : SET OF printed_part_template_terminal := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      s := input[i].resident_stratum + s;
    END_REPEAT;
    pass := (SIZEOF(s) = 1);
    RETURN(pass);
  END_FUNCTION; -- same_stratum

END_SCHEMA; 


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_module_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect module usage view - EXPRESS ARM
*)

SCHEMA Interconnect_module_usage_view_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Part_terminal_arm;

USE FROM Part_feature_location_arm;

USE FROM Shape_composition_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Network_functional_usage_view_arm;

  ENTITY Interconnect_module_cavity_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
      reference_surface : interconnect_module_surface_feature;
    WHERE
      WR1 : SELF :<>: reference_surface;
  END_ENTITY; -- interconnect_module_cavity_surface

  ENTITY Interconnect_module_cutout_segment_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
      composed_surface : interconnect_module_cutout_surface;
      start_vertex     : edge_segment_vertex;
      end_vertex       : edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- interconnect_module_cutout_segment_surface

  ENTITY Interconnect_module_cutout_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
  END_ENTITY; -- interconnect_module_cutout_surface

  ENTITY Interconnect_module_edge_segment_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
      composed_surface : interconnect_module_edge_surface;
      start_vertex     : edge_segment_vertex;
      end_vertex       : edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- interconnect_module_edge_segment_surface

  ENTITY Interconnect_module_edge_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
  END_ENTITY; -- interconnect_module_edge_surface

  ENTITY Interconnect_module_interface_terminal
    SUBTYPE OF (Interconnect_module_terminal);
  END_ENTITY; -- interconnect_module_interface_terminal

  ENTITY Interconnect_module_primary_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
  END_ENTITY; -- interconnect_module_primary_surface

  ENTITY Interconnect_module_secondary_surface
    SUBTYPE OF (Interconnect_module_surface_feature);
  END_ENTITY; -- interconnect_module_secondary_surface

  ENTITY Interconnect_module_surface_feature
    ABSTRACT SUPERTYPE OF (ONEOF (interconnect_module_cavity_surface,
 interconnect_module_cutout_segment_surface,
 interconnect_module_cutout_surface,
 interconnect_module_secondary_surface,
 interconnect_module_primary_surface,
 interconnect_module_edge_surface,
 interconnect_module_edge_segment_surface))
    SUBTYPE OF (part_feature);
      SELF\part_feature.associated_definition : interconnect_module_usage_view;
  END_ENTITY; -- interconnect_module_surface_feature

  ENTITY Interconnect_module_terminal
    SUBTYPE OF (part_terminal);
      terminal_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
      SELF\part_feature.associated_definition : interconnect_module_usage_view;
    INVERSE
      SELF\part_feature.feature_shape : SET[1:?] OF usage_concept_usage_relationship FOR associated_usage;
  END_ENTITY; -- interconnect_module_terminal

  ENTITY Interconnect_module_terminal_surface_constituent_relationship
    SUBTYPE OF (shape_element_constituent_relationship);
      SELF\shape_element_relationship.relating : interconnect_module_surface_feature;
      SELF\shape_element_relationship.related  : interconnect_module_terminal;
  END_ENTITY; -- interconnect_module_terminal_surface_constituent_relationship

  ENTITY Interconnect_module_usage_view
    SUPERTYPE OF (pcb_usage_view)
    SUBTYPE OF (part_usage_view);
      minimum_thickness_over_metal_requirement      : OPTIONAL length_data_element;
      maximum_thickness_over_metal_requirement      : OPTIONAL length_data_element;
      minimum_thickness_over_dielectric_requirement : OPTIONAL length_data_element;
      maximum_thickness_over_dielectric_requirement : OPTIONAL length_data_element;
      measurement_condition                         : OPTIONAL restraint_condition;
      located_thickness_requirement                 : OPTIONAL SET[1:?] OF located_interconnect_module_thickness_requirement;
      implemented_function                          : OPTIONAL functional_unit_usage_view;
    WHERE
      WR1 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE.ASSOCIATED_DEFINITION') | ('AP210_ARM.' + 'INTERCONNECT_MODULE_PRIMARY_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR2 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE.ASSOCIATED_DEFINITION') | ('AP210_ARM.' + 'INTERCONNECT_MODULE_SECONDARY_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR3 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.INTERCONNECT_MODULE_SURFACE_FEATURE.ASSOCIATED_DEFINITION') | ('AP210_ARM.' + 'INTERCONNECT_MODULE_EDGE_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR4 : EXISTS(maximum_thickness_over_metal_requirement) OR EXISTS(maximum_thickness_over_dielectric_requirement);
      WR5 : NOT (EXISTS(minimum_thickness_over_metal_requirement)) OR (minimum_thickness_over_metal_requirement\value_with_unit.value_component > 0.0);
      WR6 : NOT (EXISTS(maximum_thickness_over_metal_requirement)) OR (maximum_thickness_over_metal_requirement\value_with_unit.value_component > 0.0);
      WR7 : NOT (EXISTS(minimum_thickness_over_dielectric_requirement)) OR (minimum_thickness_over_dielectric_requirement\value_with_unit.value_component > 0.0);
      WR8 : NOT (EXISTS(maximum_thickness_over_dielectric_requirement)) OR (maximum_thickness_over_dielectric_requirement\value_with_unit.value_component > 0.0);
  END_ENTITY; -- interconnect_module_usage_view

  ENTITY Located_interconnect_module_thickness_requirement;
      reference_location            : axis_placement;
      maximum_thickness_requirement : length_data_element;
      minimum_thickness_requirement : length_data_element;
    INVERSE
      design : SET[1:?] OF interconnect_module_usage_view FOR located_thickness_requirement;
    UNIQUE
      UR1 : design,
 reference_location;
  END_ENTITY; -- located_interconnect_module_thickness_requirement

  ENTITY Pcb_usage_view
    SUBTYPE OF (Interconnect_module_usage_view);
  END_ENTITY; -- pcb_usage_view

END_SCHEMA; -- Interconnect_module_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_physical_requirement_allocation_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect physical requirement allocation - EXPRESS ARM
*)

 SCHEMA Interconnect_physical_requirement_allocation_arm;

USE FROM Requirement_decomposition_arm;
USE FROM Manufacturing_technology_arm;

	SUBTYPE_CONSTRAINT material_removal_feature_template_subtypes FOR material_removal_feature_template; 
	    (ONEOF (electrical_isolation_removal_template,
	 	thermal_isolation_removal_template));
	END_SUBTYPE_CONSTRAINT;

 	TYPE thermal_isolation_removal_structure_or_template = EXTENSIBLE GENERIC_ENTITY SELECT
 		(thermal_isolation_removal_template);
	END_TYPE;
		
  ENTITY Thermal_isolation_removal_template
    SUBTYPE OF (Material_removal_feature_template);
  END_ENTITY; -- thermal_isolation_removal_template

  ENTITY Thermal_isolation_requirement
  	SUBTYPE OF (Requirement_view_definition);
  	INVERSE
			thermal_isolation_spacing_requirement		: Layout_spacing_requirement_occurrence FOR associated_definition;  	
      effective_current_capacity_requirement 	: Requirement_definition_property FOR associated_definition;
      angular_orientation_requirement        	: Requirement_definition_property FOR associated_definition;
  END_ENTITY; -- thermal_isolation_requirement
  
 END_SCHEMA; -- Interconnect_physical_requirement_allocation_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_placement_requirements_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect placement requirements - EXPRESS ARM
*)

SCHEMA Interconnect_placement_requirements_arm;

USE FROM Land_arm;

USE FROM Layered_interconnect_module_3d_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Requirement_decomposition_arm;

USE FROM Part_template_extension_arm;

USE FROM Assembly_component_placement_requirements_arm;

USE FROM Characteristic_arm;

	TYPE assembly_or_interconnect_design_object_select = SELECT
    (assembly_component,
     component_feature,
     interconnect_module_design_object_select);
	END_TYPE;

	TYPE interconnect_module_design_object_select = SELECT 
    (via,
     cutout,
     component_termination_passage,
     land,
     conductor,
     conductive_filled_area,
     stratum_feature,
     laminate_component,
     inter_stratum_feature,
     non_functional_land);
  END_TYPE;

  TYPE interconnect_module_design_object_category = ENUMERATION OF
    (interconnect_module_via,
     interconnect_module_inter_stratum_feature,
     interconnect_module_cutout,
     interconnect_module_fill_area,
     interconnect_module_stratum_feature);
  END_TYPE; -- interconnect_module_design_object_category

	TYPE ipr_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Interconnect_module_constraint_region);
	END_TYPE; 

	SUBTYPE_CONSTRAINT non_feature_shape_element_subtypes FOR non_feature_shape_element; 
	    (ONEOF (
		 derived_shape_element,
		 directed_axis,
		 positional_boundary,
		 positional_boundary_member,
		 tolerance_zone_boundary,
		 tolerance_zone_boundary_member,
		 viewing_plane,
		 seating_plane,
		 template_material_cross_section_boundary,
		 interconnect_module_constraint_region,
		 reference_graphic_registration_mark,
		 mounting_restriction_area,
		 mounting_restriction_volume));
	END_SUBTYPE_CONSTRAINT;

 	SUBTYPE_CONSTRAINT requirement_definition_property_subtypes FOR Requirement_definition_property;     
		(ONEOF (layout_spacing_requirement_occurrence,
		item_restricted_requirement_occurrence));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Interconnect_module_constraint_region
    SUBTYPE OF (Non_feature_shape_element);
      keepout                                          : BOOLEAN;
      non_conformant_interconnect_module_design_object : OPTIONAL SET[1:?] OF interconnect_module_design_object_select;
      SELF\non_feature_shape_element.scope             : interconnect_module;
      design_specific_purpose                          : STRING; --ee_name;
(** Need WR to constrain the cardinality      
      requirement                                      : Requirement_definition_property;
*)      
      associated_stratum_extent                        : SET[1:?] OF inter_stratum_extent;
      constrained_design_object_category               : interconnect_module_design_object_category;
    INVERSE
      precedent_version_constraint_region : SET[0:1] OF non_feature_shape_element_relationship FOR related;
    WHERE
      WR1 : ('AP210_ARM.CONSTRUCTIVE_GEOMETRY' IN TYPEOF(SELF\non_feature_shape_element.element_shape)) OR ('AP210_ARM.THREE_DIMENSIONAL_SHAPE' IN TYPEOF(SELF\non_feature_shape_element.element_shape));
      WR2 : NOT (SIZEOF(precedent_version_constraint_region) = 1) OR ('AP210_ARM.INTERCONNECT_MODULE_CONSTRAINT_REGION' IN TYPEOF(precedent_version_constraint_region[1]\non_feature_shape_element_relationship.relating));
  END_ENTITY; -- interconnect_module_constraint_region

  ENTITY Layer_qualified_layout_spacing_requirement_occurrence
    SUBTYPE OF (Layout_spacing_requirement_occurrence);
      layer_context : SET[1:?] OF inter_stratum_extent;
  END_ENTITY; -- layer_qualified_layout_spacing_requirement_occurrence

  ENTITY Layout_spacing_requirement_non_conforming_design_object;
      non_conformant_design_object : SET[1:?] OF assembly_or_interconnect_design_object_select;
      reference_design_object      : assembly_or_interconnect_design_object_select;
      design_requirement           : layout_spacing_requirement_occurrence;
  END_ENTITY; -- layout_spacing_requirement_non_conforming_design_object

END_SCHEMA; -- Interconnect_placement_requirements_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_non_planar_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect non planar shape - EXPRESS ARM
*)

SCHEMA Interconnect_non_planar_shape_arm;

USE FROM Layered_interconnect_module_with_design_intend_modifications_arm;

USE FROM Physical_unit_3d_shape_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Physical_unit_non_planar_design_view_arm;

USE FROM Part_template_2d_shape_arm;

  ENTITY Component_non_planar_location;
      transformation  : axis_placement_3d;
      placement_fixed : BOOLEAN;
    -- Add attributes from original component_non_planar_position as discussed on SEDS-1227
      component_model : assembly_component_non_planar_shape;
      assembly_model  : physical_unit_3d_shape;
      component       : next_assembly_usage;
  END_ENTITY; -- component_non_planar_location

  ENTITY Component_part_2d_non_planar_geometric_representation_relationship
    SUBTYPE OF (Geometric_model_relationship);
    	SELF\Geometric_model_relationship.rep_1 RENAMED part_shape      : part_template_planar_shape;
      SELF\Geometric_model_relationship.rep_2 RENAMED component_shape : assembly_component_non_planar_shape;
  END_ENTITY; -- component_part_2d_non_planar_geometric_representation_relationship

  ENTITY Design_intent_modification_non_planar_2d_shape
    SUBTYPE OF (Manifold_surface_shape_representation);
      represented_design_intent_modification : design_intent_modification;
  END_ENTITY; -- design_intent_modification_non_planar_2d_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect 2d shape - EXPRESS ARM
*)

SCHEMA Interconnect_2d_shape_arm;

USE FROM Layered_interconnect_module_with_design_intend_modifications_arm;

USE FROM Fabrication_joint_arm;

USE FROM Physical_unit_2d_design_view_arm;

  TYPE design_intent_modification_planar_shape_select = SELECT
    (design_intent_modification_styled_area_representation,
     design_intent_modification_planar_shape);
  END_TYPE; -- design_intent_modification_planar_shape_select

  ENTITY Component_2d_embedded_location
    SUBTYPE OF (Component_2d_location);
      precedent_surface  : adjacent_stratum_surface_embedded_component_surface_definition;
      subsequent_surface : adjacent_stratum_surface_embedded_component_surface_definition;
      reference_terminal : fabrication_joint;
    UNIQUE
      UR1 : precedent_surface,
 reference_terminal,
 subsequent_surface;
    WHERE
      WR1 : precedent_surface <> subsequent_surface;
      WR2 : SELF\component_2d_location.substrate_location = FALSE;
  END_ENTITY; -- component_2d_embedded_location

  ENTITY Design_intent_modification_planar_position;
      design_shape   : physical_unit_planar_shape;
      transformation : axis_placement_2d;
      feature_shape  : design_intent_modification_planar_shape_select;
  END_ENTITY; -- design_intent_modification_planar_position

  ENTITY Design_intent_modification_planar_shape
    SUBTYPE OF (planar_projected_shape);
      represented_design_intent_modification : design_intent_modification;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- design_intent_modification_planar_shape

  ENTITY Design_intent_modification_styled_area_representation;
      derived_planar_shape                   : OPTIONAL SET[1:?] OF design_intent_modification_planar_shape;
      represented_design_intent_modification : design_intent_modification;
      shape_styled_area_representation       : styled_area_representation;
  END_ENTITY; -- design_intent_modification_styled_area_representation

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Interconnect_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect 3d shape - EXPRESS ARM
*)

SCHEMA Interconnect_3d_shape_arm; 

USE FROM Interconnect_non_planar_shape_arm;

  TYPE design_intent_modification_3d_shape_select = SELECT
    (design_intent_modification_non_planar_2d_shape,
     design_intent_modification_3d_shape);
  END_TYPE; -- design_intent_modification_3d_shape_select

  ENTITY Design_intent_modification_3d_position;
      design_shape   : physical_unit_3d_shape;
      transformation : axis_placement_3d;
      feature_shape  : design_intent_modification_3d_shape_select;
  END_ENTITY; -- design_intent_modification_3d_position

  ENTITY Design_intent_modification_3d_shape
    SUBTYPE OF (Feature_shape_definition);
      represented_design_intent_modification : design_intent_modification;
  END_ENTITY; -- design_intent_modification_3d_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Land_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Land - EXPRESS ARM
*)

SCHEMA Land_arm;

USE FROM Manufacturing_technology_arm;

USE FROM Layered_interconnect_module_design_arm;

	SUBTYPE_CONSTRAINT laminate_component_interface_terminal_subtypes FOR laminate_component_interface_terminal; 
		 (ONEOF (non_functional_land_interface_terminal,
		 component_termination_passage_interface_terminal,
		 land_interface_terminal));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT laminate_component_join_terminal_subtypes FOR laminate_component_join_terminal; 
		 (ONEOF (component_termination_passage_join_terminal,
		 land_join_terminal,
		 non_functional_land_join_terminal,
		 embedded_component_terminal));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT stratum_feature_template_component_subtypes FOR stratum_feature_template_component;   
		(ONEOF (connected_area_component,
		non_functional_land,
		land));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Component_termination_passage_and_contact_size_dependent_land
    SUBTYPE OF (Land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_and_component_termination_passage_based_land_physical_template;
      reference_passage                        : component_termination_passage;
    INVERSE
      interface_access_mechanism : land_interface_terminal FOR associated_component;
  END_ENTITY; -- component_termination_passage_and_contact_size_dependent_land

  ENTITY Component_termination_passage_and_contact_size_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_and_component_termination_passage_based_land_physical_template;
      reference_passage                        : component_termination_passage;
    INVERSE
      interface_access_mechanism : non_functional_land_interface_terminal FOR associated_component;
  END_ENTITY; -- component_termination_passage_and_contact_size_dependent_non_functional_land

  ENTITY Component_termination_passage_dependent_land
    SUBTYPE OF (Land);
      reference_passage                        : component_termination_passage;
      SELF\definition_based_product_occurrence.derived_from : default_component_termination_passage_based_land_physical_template;
  END_ENTITY; -- component_termination_passage_dependent_land

  ENTITY Component_termination_passage_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      reference_passage                        : component_termination_passage;
      SELF\definition_based_product_occurrence.derived_from : default_component_termination_passage_based_land_physical_template;
  END_ENTITY; -- component_termination_passage_dependent_non_functional_land

  ENTITY Contact_size_dependent_land
    SUBTYPE OF (Land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_based_land_physical_template;
  END_ENTITY; -- contact_size_dependent_land

  ENTITY Contact_size_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_based_land_physical_template;
  END_ENTITY; -- contact_size_dependent_non_functional_land

  ENTITY Land
    SUPERTYPE OF (ONEOF (via_dependent_land,
 component_termination_passage_dependent_land,
 contact_size_dependent_land,
 component_termination_passage_and_contact_size_dependent_land,
 via_and_contact_size_dependent_land))
    SUBTYPE OF (stratum_feature_template_component);
      alternate_land_definition                : OPTIONAL land_physical_template;
      SELF\definition_based_product_occurrence.derived_from : OPTIONAL land_physical_template;
    INVERSE
      access_mechanism : SET[1:?] OF land_join_terminal FOR associated_component;
  END_ENTITY; -- land

  ENTITY Land_interface_terminal
    SUBTYPE OF (Laminate_component_interface_terminal);
      SELF\component_feature.definition           : land_template_interface_terminal;
      SELF\component_feature.associated_component : land;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.CONTACT_SIZE_DEPENDENT_LAND',
 'AP210_ARM.COMPONENT_TERMINATION_PASSAGE_AND_CONTACT_SIZE_DEPENDENT_LAND',
 'AP210_ARM.VIA_AND_CONTACT_SIZE_DEPENDENT_LAND'] * TYPEOF(SELF\component_feature.associated_component)) = 1;
  END_ENTITY; -- land_interface_terminal

  ENTITY Land_join_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : land_template_join_terminal;
      SELF\component_feature.associated_component : land;
  END_ENTITY; -- land_join_terminal

  ENTITY Non_functional_land
    SUPERTYPE OF (ONEOF (via_dependent_non_functional_land,
 component_termination_passage_dependent_non_functional_land,
 contact_size_dependent_non_functional_land,
 component_termination_passage_and_contact_size_dependent_non_functional_land,
 unsupported_passage_dependent_non_functional_land,
 via_and_contact_size_dependent_non_functional_land))
    SUBTYPE OF (stratum_feature_template_component);
      alternate_land_definition                : OPTIONAL land_physical_template;
      SELF\definition_based_product_occurrence.derived_from : land_physical_template;
    INVERSE
      access_mechanism : SET[1:?] OF non_functional_land_join_terminal FOR associated_component;
  END_ENTITY; -- non_functional_land

  ENTITY Non_functional_land_interface_terminal
    SUBTYPE OF (Laminate_component_interface_terminal);
      SELF\component_feature.definition           : land_template_interface_terminal;
      SELF\component_feature.associated_component : non_functional_land;
    WHERE
      WR1 : SIZEOF(['AP210_ARM.CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND',
 'AP210_ARM.COMPONENT_TERMINATION_PASSAGE_AND_CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND',
 'AP210_ARM.VIA_AND_CONTACT_SIZE_DEPENDENT_NON_FUNCTIONAL_LAND'] * TYPEOF(SELF\component_feature.associated_component)) = 1;
  END_ENTITY; -- non_functional_land_interface_terminal

  ENTITY Non_functional_land_join_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\component_feature.definition           : land_template_join_terminal;
      SELF\component_feature.associated_component : non_functional_land;
  END_ENTITY; -- non_functional_land_join_terminal

ENTITY Plated_passage_dependent_land
  SUBTYPE OF (Land);
    reference_plated_passage                 : plated_passage;
    SELF\assembly_component.derived_from : 
          default_plated_passage_based_land_physical_template;
END_ENTITY; -- plated_passage_dependent_land

ENTITY Plated_passage_dependent_non_functional_land
  SUBTYPE OF (Non_functional_land);
    reference_plated_passage                            : plated_passage;
    SELF\assembly_component.derived_from : 
	default_plated_passage_based_land_physical_template;
END_ENTITY; -- plated_passage_dependent_non_functional_land

  ENTITY Unsupported_passage_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      reference_passage                        : unsupported_passage;
      SELF\definition_based_product_occurrence.derived_from : default_unsupported_passage_based_land_physical_template;
  END_ENTITY; -- unsupported_passage_dependent_non_functional_land

  ENTITY Via_and_contact_size_dependent_land
    SUBTYPE OF (Land);
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_and_via_based_land_physical_template;
      reference_via                            : via;
    INVERSE
      interface_access_mechanism : land_interface_terminal FOR associated_component;
  END_ENTITY; -- via_and_contact_size_dependent_land

  ENTITY Via_and_contact_size_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      reference_via                            : via;
      SELF\definition_based_product_occurrence.derived_from : default_attachment_size_and_via_based_land_physical_template;
    INVERSE
      interface_access_mechanism : non_functional_land_interface_terminal FOR associated_component;
  END_ENTITY; -- via_and_contact_size_dependent_non_functional_land

  ENTITY Via_dependent_land
    SUBTYPE OF (Land);
      reference_via                            : via;
      SELF\definition_based_product_occurrence.derived_from : default_via_based_land_physical_template;
  END_ENTITY; -- via_dependent_land

  ENTITY Via_dependent_non_functional_land
    SUBTYPE OF (Non_functional_land);
      reference_via                            : via;
      SELF\definition_based_product_occurrence.derived_from : default_via_based_land_physical_template;
  END_ENTITY; -- via_dependent_non_functional_land

END_SCHEMA; -- Land_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Manufacturing_technology_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Manufacturing technology - EXPRESS ARM
*)

SCHEMA Manufacturing_technology_arm;

USE FROM Feature_and_connection_zone_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Shape_property_assignment_arm; 

USE FROM Specification_document_arm;

USE FROM Physical_layout_template_arm;

USE FROM Requirement_decomposition_arm;

USE FROM Part_feature_location_arm;

  TYPE documentation_layer_purpose = SELECT
    (predefined_documentation_layer_purpose,
     external_item_identification);
  END_TYPE; -- documentation_layer_purpose

  TYPE land_template_terminal_class = ENUMERATION OF
    (surface_point_class,
     edge_curve_class,
     edge_point_class,
     surface_area_class);
  END_TYPE; -- land_template_terminal_class

  TYPE layer_position_type = ENUMERATION OF
    (secondary,
     all,
     external,
     primary,
     internal);
  END_TYPE; -- layer_position_type

  TYPE layer_purpose = ENUMERATION OF
    (other_signal,
     lands_only,
     power_or_ground);
  END_TYPE; -- layer_purpose

 	TYPE mt_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Land_physical_template);
	END_TYPE;

	TYPE mt_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(land_template_terminal);
	END_TYPE;

  TYPE pca_product_design_object_category = ENUMERATION OF
    (assembly_component_category,
     assembly_module_category,
     assembly_module_component_category,
     assembly_module_component_terminal_category,
     assembly_module_macro_component_category,
     assembly_module_macro_component_join_terminal_category,
     bare_die_component_category,
     bare_die_component_terminal_category,
     bonded_conductive_base_blind_via_category,
     buried_via_category,
     cable_component_category,
     component_feature_category,
     component_mounting_feature_category,
     component_termination_passage_category,
     component_termination_passage_and_contact_size_dependent_land_category,
     component_termination_passage_and_contact_size_dependent_non_functional_land_category,
     component_termination_passage_dependent_land_category,
     component_termination_passage_dependent_non_functional_land_category,
     component_termination_passage_interface_terminal_category,
     component_termination_passage_join_terminal_category,
     conductive_interconnect_element_terminal_category,
     conductive_interconnect_element_with_pre_defined_transitions_category,
     conductive_interconnect_element_with_user_defined_single_transition_category,
     connected_area_component_category,
     contact_size_dependent_land_category,
     contact_size_dependent_non_functional_land_category,
     cutout_category,
     cutout_edge_segment_category,
     dielectric_material_passage_category,
     electrical_isolation_laminate_component_category,
     embedded_component_terminal_category,
     fiducial_category,
     fill_area_category,
     filled_area_material_removal_laminate_component_category,
     inter_stratum_feature_category,
     interconnect_component_interface_terminal_category,
     interconnect_component_join_terminal_category,
     interconnect_module_component_category,
     interconnect_module_component_stratum_based_terminal_category,
     interconnect_module_component_surface_feature_category,
     interconnect_module_component_terminal_category,
     interconnect_module_edge_category,
     interconnect_module_edge_segment_category,
     interconnect_module_macro_component_category,
     interconnect_module_macro_component_join_terminal_category,
     interface_access_material_removal_laminate_component_category,
     interface_access_stratum_feature_template_component_category,
     interface_component_category,
     interfacial_connection_category,
     internal_probe_access_area_category,
     join_two_physical_connectivity_definition_supporting_inter_stratum_feature_category,
     join_two_physical_connectivity_definition_supporting_printed_component_category,
     laminate_component_category,
     laminate_text_component_category,
     laminate_text_string_component_category,
     land_category,
     land_interface_terminal_category,
     land_join_terminal_category,
     material_removal_laminate_component_category,
     minimally_defined_component_terminal_category,
     movable_packaged_component_join_terminal_category,
     multi_layer_material_removal_laminate_component_category,
     multi_layer_stratum_feature_template_component_category,
     non_conductive_base_blind_via_category,
     non_functional_land_category,
     non_functional_land_interface_terminal_category,
     non_functional_land_join_terminal_category,
     packaged_component_category,
     packaged_component_join_terminal_category,
     packaged_connector_component_category,
     packaged_connector_component_interface_terminal_category,
     partially_plated_cutout_category,
     partially_plated_interconnect_module_edge_category,
     physical_component_category,
     physical_connectivity_interrupting_cutout_category,
     physical_laminate_component_category,
     physical_network_supporting_inter_stratum_feature_category,
     plated_conductive_base_blind_via_category,
     plated_cutout_category,
     plated_cutout_edge_segment_category,
     plated_interconnect_module_edge_category,
     plated_interconnect_module_edge_segment_category,
     plated_passage_category,
     plated_passage_or_unsupported_passage_category,
     primary_stratum_indicator_symbol_category,
     printed_component_join_terminal_category,
     printed_connector_component_interface_terminal_category,
     probe_access_area_category,
     routed_interconnect_component_category,
     routed_physical_component_category,
     special_symbol_laminate_component_category,
     stratum_feature_category,
     stratum_feature_template_component_category,
     thermal_isolation_laminate_component_category,
     unrouted_conductive_interconnect_element_category,
     unsupported_passage_category,
     unsupported_passage_dependent_non_functional_land_category,
     via_category,
     via_and_contact_size_dependent_land_category,
     via_and_contact_size_dependent_non_functional_land_category,
     via_dependent_land_category,
     via_dependent_non_functional_land_category,
     via_terminal_category);
  END_TYPE; -- pca_product_design_object_category

  TYPE predefined_documentation_layer_purpose = ENUMERATION OF
    (soldermask,
     solderpaste,
     silkscreen,
     generic_layer,
     glue,
     gluemask,
     pastemask);
  END_TYPE; -- predefined_documentation_layer_purpose

  TYPE spacing_type = ENUMERATION OF
    (nearest_boundary,
     centroid,
     furthest_boundary);
  END_TYPE; -- spacing_type

  TYPE stiffness_class = ENUMERATION OF
    (fluid_like,
     conformal_coat,
     stiff_laminate);
  END_TYPE; -- stiffness_class

  ENTITY Default_attachment_size_based_land_physical_template
    SUBTYPE OF (Default_land_physical_template);
      minimum_attachment_region_size : OPTIONAL connection_zone_in_layout_template;
      maximum_attachment_region_size : OPTIONAL connection_zone_in_layout_template;
    INVERSE
      interface_access_mechanisms : SET[1:?] OF land_template_interface_terminal FOR associated_definition;
    WHERE
      WR1 : NOT (EXISTS(minimum_attachment_region_size) AND EXISTS(maximum_attachment_region_size)) OR (minimum_attachment_region_size :<>: maximum_attachment_region_size);
  END_ENTITY; -- default_attachment_size_based_land_physical_template

  ENTITY Default_land_physical_template
    ABSTRACT SUPERTYPE
    SUBTYPE OF (Land_physical_template);
      SELF\stratum_feature_template.of_stratum_technology : OPTIONAL SET[1:?] OF design_layer_technology;
  END_ENTITY; -- default_land_physical_template

  ENTITY Dependent_material_removal_feature_template
    SUBTYPE OF (Material_removal_feature_template);
      associated_template : default_land_physical_template;
  END_ENTITY; -- dependent_material_removal_feature_template

  ENTITY Design_layer_technology
    SUBTYPE OF (stratum_technology);
      design_layer_purpose                                     : layer_purpose;
      SELF\stratum_technology.minimum_finished_feature_size    : length_data_element;
      SELF\stratum_technology.minimum_finished_feature_spacing : length_data_element;
  END_ENTITY; -- design_layer_technology

  ENTITY Documentation_layer_technology
    SUBTYPE OF (stratum_technology);
      pre_defined_documentation_layer_purpose : OPTIONAL documentation_layer_purpose;
  END_ENTITY; -- documentation_layer_technology

  ENTITY Electrical_isolation_removal_template
    SUBTYPE OF (Material_removal_feature_template);
      electrical_isolation_spacing_requirement : layout_spacing_requirement_occurrence;
  END_ENTITY; -- electrical_isolation_removal_template

  ENTITY Land_physical_template
    SUPERTYPE OF (default_land_physical_template)
    SUBTYPE OF (stratum_feature_template);
    INVERSE
      access_mechanisms 							: SET[1:?] OF land_template_terminal FOR associated_definition;
			pre_defined_classification_code	: SET[0:1] OF External_source_identification FOR item;      
    UNIQUE
      UR1 : pre_defined_classification_code;
    WHERE
      WR1 : SIZEOF(QUERY(ltjt <* access_mechanisms | NOT ('AP210_ARM.LAND_TEMPLATE_JOIN_TERMINAL' IN TYPEOF(ltjt)))) = 0;
  END_ENTITY; -- land_physical_template

  ENTITY Land_template_interface_terminal
    SUBTYPE OF (Land_template_terminal);
      SELF\land_template_terminal.associated_definition : default_attachment_size_based_land_physical_template;
  END_ENTITY; -- land_template_interface_terminal

  ENTITY Land_template_join_terminal
    SUBTYPE OF (Land_template_terminal);
  END_ENTITY; -- land_template_join_terminal

  ENTITY Land_template_terminal
    ABSTRACT SUPERTYPE OF (ONEOF (land_template_join_terminal,
 land_template_interface_terminal))
    SUBTYPE OF (shape_element);
      associated_definition    : land_physical_template;
      terminal_connection_zone : OPTIONAL SET[1:?] OF connection_zone_in_layout_template;
      SELF\shape_element.element_name  : STRING; --ee_name;
      connection_zone_category : OPTIONAL SET[1:?] OF land_template_terminal_class;
    INVERSE
      terminal_shape : SET[0:1] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
    WHERE
      WR1 : NOT (EXISTS(terminal_connection_zone)) OR EXISTS(connection_zone_category);
      WR2 : NOT (EXISTS(terminal_connection_zone)) OR (SIZEOF(terminal_connection_zone) = SIZEOF(connection_zone_category));
  END_ENTITY; -- land_template_terminal

  ENTITY Layout_spacing_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
      reference_design_object_category                                   : pca_product_design_object_category;
      dependent_design_object_category                                   : pca_product_design_object_category;
      SELF\Requirement_definition_property.required_coordinated_characteristic : SET[1:1] OF tolerance_characteristic;
      of_spacing_type                                                    : spacing_type;
    UNIQUE
      UR1 : reference_design_object_category,
 dependent_design_object_category;
    WHERE
      WR1 : 'AP210_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(SELF\Requirement_definition_property.required_coordinated_characteristic[1].items[1]);
  END_ENTITY; -- layout_spacing_requirement_occurrence

  ENTITY Material_addition_feature_template
    SUBTYPE OF (stratum_feature_template);
    WHERE
      WR1 : NOT (SIZEOF(['AP210_ARM.SNOWBALL_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_ANGLE_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_LENGTH_TEMPLATE'] * TYPEOF(SELF)) = 1) OR ((SIZEOF(USEDIN(SELF,
 'AP210_ARM.PART_TEMPLATE_PLANAR_SHAPE.' + 'SHAPE_CHARACTERIZED_PART_TEMPLATE')) = 0) AND (SIZEOF(USEDIN(SELF,
 'AP210_ARM.PART_TEMPLATE_3D_SHAPE.' + 'SHAPE_CHARACTERIZED_PART_TEMPLATE')) = 0) AND (SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'PART_TEMPLATE_NON_PLANAR_2D_SHAPE.' + 'SHAPE_CHARACTERIZED_PART_TEMPLATE')) = 0));
  END_ENTITY; -- material_addition_feature_template

  ENTITY Material_removal_feature_template
    SUBTYPE OF (Layout_template_definition);
      of_stratum_technology : OPTIONAL SET[1:?] OF stratum_technology;
  END_ENTITY; -- material_removal_feature_template

  ENTITY Passage_technology_parameters;
      plated_passage                           : BOOLEAN;
      maximum_as_finished_passage_extent       : OPTIONAL length_data_element;
      minimum_as_finished_passage_extent       : OPTIONAL length_data_element;
      name                                     : STRING; --ee_name;
      maximum_as_finished_deposition_thickness : OPTIONAL length_data_element;
      maximum_aspect_ratio                     : OPTIONAL REAL;
      minimum_as_finished_deposition_thickness : OPTIONAL length_data_element;
      specification                            : OPTIONAL process_specification;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- passage_technology_parameters

  ENTITY Stratum_feature_template
    SUPERTYPE OF (ONEOF (land_physical_template,
 material_addition_feature_template))
    SUBTYPE OF (Layout_template_definition);
      of_stratum_technology : OPTIONAL SET[1:?] OF stratum_technology;
  END_ENTITY; -- stratum_feature_template

  ENTITY Stratum_technology
    SUPERTYPE OF (ONEOF (design_layer_technology,
 documentation_layer_technology));
      layer_position                   : layer_position_type;
      stratum_material                 : material_identification;
      maximum_stratum_thickness        : length_data_element;
      minimum_stratum_thickness        : length_data_element;
      name                             : STRING; --ee_name;
      minimum_finished_feature_size    : OPTIONAL length_data_element;
      laminate_stiffness_class         : OPTIONAL stiffness_class;
      minimum_finished_feature_spacing : OPTIONAL length_data_element;
      maximum_feature_size_requirement : OPTIONAL length_data_element;
      specification                    : OPTIONAL process_specification;
      surface_specification            : OPTIONAL surface_finish_specification;
    UNIQUE
      UR1 : name;
    WHERE
      WR1 : NOT (layer_position = layer_position_type.primary) OR ('AP210_ARM.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF));
      WR2 : NOT (layer_position = layer_position_type.secondary) OR ('AP210_ARM.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF));
  END_ENTITY; -- stratum_technology

  ENTITY Stratum_technology_link;
      precedent_stratum_technology      : stratum_technology;
      subsequent_stratum_technology     : stratum_technology;
      precedent_stratum_technology_link : OPTIONAL stratum_technology_link;
    UNIQUE
      UR1 : precedent_stratum_technology,
 subsequent_stratum_technology;
    WHERE
      WR1 : precedent_stratum_technology :<>: subsequent_stratum_technology;
      WR2 : NOT (EXISTS(precedent_stratum_technology_link)) OR (precedent_stratum_technology_link :<>: SELF);
      WR3 : NOT EXISTS(precedent_stratum_technology_link) OR (precedent_stratum_technology_link.subsequent_stratum_technology :=: precedent_stratum_technology);
  END_ENTITY; -- stratum_technology_link

END_SCHEMA; -- Manufacturing_technology_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Geometrically_bounded_surface_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1273 - ISO/TS 10303-1507 Geometrically bounded surface - EXPRESS ARM
*)

SCHEMA Geometrically_bounded_surface_arm;

USE FROM Elemental_geometric_shape_arm;

ENTITY Geometrically_bounded_surface_shape_representation
SUBTYPE OF (Geometric_model);
END_ENTITY;

END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Package_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Package - EXPRESS ARM
*)

SCHEMA Package_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Shape_property_assignment_arm;

USE FROM Specification_document_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Part_feature_function_arm;

USE FROM Part_feature_location_arm;

 	TYPE p_analytical_model_application_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON analytical_model_application_assignment_select WITH  
		(package_terminal);
	END_TYPE;

  TYPE lead_form_type = SELECT
    (predefined_lead_form,
     external_item_identification);
  END_TYPE; -- lead_form_type

  TYPE mounting_technology_type = ENUMERATION OF
    (surface_mount,
     through_hole);
  END_TYPE; -- mounting_technology_type

	SUBTYPE_CONSTRAINT part_feature_subtypes FOR Part_feature; 
		(ONEOF (Package_orientation_feature,
		Package_body));
	END_SUBTYPE_CONSTRAINT;

  TYPE predefined_lead_form = ENUMERATION OF
    (gull_wing,
     j_lead,
     reversed_j_lead,
     integral_terminal,
     undefined,
     ball,
     straight);
  END_TYPE; -- predefined_lead_form

  TYPE seating_plane_intersection_type = ENUMERATION OF
    (surface_intersection,
     through_intersection,
     does_not_intersect);
  END_TYPE; -- seating_plane_intersection_type

  ENTITY Connection_zone_package_interface_plane_relationship;
      interface_plane          : seating_plane;
      mating_zone              : connection_zone_in_usage_view;
      derived_zone             : connection_zone_in_usage_view;
      derived_zone_shape_class : STRING;
    INVERSE
      associated_package_terminal  : SET[0:1] OF package_terminal FOR seating_plane_zone;
    UNIQUE
      UR1 : interface_plane, mating_zone;
    WHERE
      WR1 : derived_zone_shape_class IN ['area','edge'];
  END_ENTITY;

  ENTITY Functional_orientation_feature
    SUBTYPE OF (part_feature);
      associated_body_vertical_extent : OPTIONAL SET[1:2] OF package_body_surface;
      associated_terminal             : primary_reference_terminal;
  END_ENTITY; -- functional_orientation_feature

  ENTITY Guided_wave_terminal
    SUBTYPE OF (package_terminal);
  END_ENTITY; -- guided_wave_terminal

  ENTITY Package
    SUBTYPE OF (part_usage_view);
      mounting_technology                        : mounting_technology_type;
      maximum_seating_plane_installation_offset  : OPTIONAL length_data_element;
      surface_mount_lead_form                    : OPTIONAL lead_form_type;
      nominal_mounting_lead_pitch                : OPTIONAL length_data_element;
      nominal_mounting_lead_span                 : OPTIONAL length_data_element;
      maximum_body_height_above_seating_plane    : length_data_element;
      maximum_body_height_below_seating_plane    : OPTIONAL length_data_element;
      maximum_body_clearance_above_seating_plane : OPTIONAL length_data_element;
      maximum_body_clearance_below_seating_plane : OPTIONAL length_data_element;
      minimum_body_clearance_above_seating_plane : OPTIONAL length_data_element;
      minimum_body_clearance_below_seating_plane : OPTIONAL length_data_element;
      maximum_lead_length_below_seating_plane    : OPTIONAL length_data_element;
      least_lead_length_below_seating_plane      : OPTIONAL length_data_element;
    DERIVE
      maximum_package_total_vertical_extent : length_data_element := max_data_element(add_data_element(maximum_body_height_above_seating_plane,
 maximum_body_height_below_seating_plane),
 add_data_element(maximum_body_height_above_seating_plane,
 maximum_lead_length_below_seating_plane));
      cutout_required                       : BOOLEAN := (maximum_body_height_below_seating_plane\value_with_unit.value_component > 0.0);
      maximum_installed_height              : length_data_element := add_data_element(maximum_body_height_above_seating_plane,
 maximum_seating_plane_installation_offset);
    INVERSE
      body                                  : SET[0:1] OF package_body FOR associated_definition;
      package_seating_plane                 : non_feature_shape_element FOR scope;
      interface_plane                       : SET[0:?] OF non_feature_shape_element FOR scope;
      package_accesses                      : SET[0:?] OF package_terminal FOR associated_definition;
      package_polarity_indication           : SET[0:1] OF Shape_element FOR containing_shape;
      package_primary_orientation_feature   : SET[0:1] OF Shape_element FOR containing_shape;
      package_secondary_orientation_feature : SET[0:1] OF Shape_element FOR containing_shape;
      package_tertiary_orientation_feature  : SET[0:1] OF Shape_element FOR containing_shape;
--      of_datum_reference_frame              : SET[0:?] OF non_feature_shape_element FOR scope;
    WHERE
      WR1  : NOT (SIZEOF(package_primary_orientation_feature) > 0) OR ('AP210_ARM.PRIMARY_ORIENTATION_FEATURE' IN TYPEOF(package_primary_orientation_feature[1]));
      WR2  : NOT (SIZEOF(package_secondary_orientation_feature) > 0) OR ('AP210_ARM.SECONDARY_ORIENTATION_FEATURE' IN TYPEOF(package_secondary_orientation_feature[1]));
      WR3  : NOT (SIZEOF(package_tertiary_orientation_feature) > 0) OR ('AP210_ARM.TERTIARY_ORIENTATION_FEATURE' IN TYPEOF(package_tertiary_orientation_feature[1]));
      WR4  : 'AP210_ARM.SEATING_PLANE' IN TYPEOF(package_seating_plane);
      WR5  : 'AP210_ARM.SEATING_PLANE' IN TYPEOF(interface_plane);
      WR6  : NOT (mounting_technology = surface_mount) OR (NOT (EXISTS(maximum_lead_length_below_seating_plane) OR EXISTS(least_lead_length_below_seating_plane)));
      WR7  : NOT (EXISTS(maximum_lead_length_below_seating_plane)) OR (maximum_lead_length_below_seating_plane\value_with_unit.value_component > 0.0);
      WR8  : NOT (EXISTS(least_lead_length_below_seating_plane)) OR (least_lead_length_below_seating_plane\value_with_unit.value_component > 0.0);
      WR9  : (NOT (mounting_technology = surface_mount) AND NOT (EXISTS(surface_mount_lead_form))) OR ((mounting_technology = surface_mount) AND (EXISTS(surface_mount_lead_form)));
      WR10 : package_seating_plane\shape_element.element_name = 'package seating plane';
      WR11 : NOT (SIZEOF(interface_plane) > 0) OR (SIZEOF(QUERY(ip <* interface_plane | NOT (ip\shape_element.element_name = 'interface plane'))) = 0);
      WR12 : NOT (SIZEOF(interface_plane) > 0) OR (SIZEOF(QUERY(ip <* interface_plane | NOT (package_seating_plane <> ip))) = 0);
      WR13 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'package'))) > 0;
--      WR14 : NOT (SIZEOF(of_datum_reference_frame) > 0) OR (SIZEOF(QUERY(odrf <* of_datum_reference_frame | NOT ('AP210_ARM.DATUM_REFERENCE_FRAME' IN TYPEOF(odrf)))) = 0);
      WR15 : SIZEOF(QUERY(pa <* package_accesses | 'AP210_ARM.PRIMARY_REFERENCE_TERMINAL' IN TYPEOF(pa))) = 1;
  END_ENTITY; -- package

  ENTITY Package_body
    SUBTYPE OF (part_feature);
      body_material                           : material_identification;
      SELF\part_feature.associated_definition : package;
    WHERE
      WR1 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('AP210_ARM.' + 'PACKAGE_BODY_TOP_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR2 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('AP210_ARM.' + 'PACKAGE_BODY_BOTTOM_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR3 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ARM.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('AP210_ARM.' + 'PACKAGE_BODY_EDGE_SURFACE' IN TYPEOF(pf)))) <= 1;
  END_ENTITY; -- package_body

  ENTITY Package_body_bottom_surface
    SUBTYPE OF (package_body_surface);
  END_ENTITY; -- package_body_bottom_surface

  ENTITY Package_body_edge_segment_surface
    SUBTYPE OF (package_body_surface);
      composed_surface : package_body_edge_surface;
      start_vertex     : edge_segment_vertex;
      end_vertex       : edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY; -- package_body_edge_segment_surface

  ENTITY Package_body_edge_surface
    SUBTYPE OF (package_body_surface);
  END_ENTITY; -- package_body_edge_surface

  ENTITY Package_body_surface
    ABSTRACT SUPERTYPE OF (ONEOF (package_body_bottom_surface,
 package_body_top_surface,
 package_body_edge_segment_surface,
 package_body_edge_surface))
    SUBTYPE OF (part_feature);
      SELF\part_feature.associated_definition : package_body;
  END_ENTITY; -- package_body_surface

  ENTITY Package_body_top_surface
    SUBTYPE OF (package_body_surface);
  END_ENTITY; -- package_body_top_surface

  ENTITY Package_orientation_feature
    ABSTRACT SUPERTYPE OF (ONEOF(Primary_orientation_feature, Secondary_orientation_feature, Tertiary_orientation_feature))
    SUBTYPE OF (part_feature, datum_feature);    
           associated_body_vertical_extent : OPTIONAL SET [1:2] OF package_body_surface;
  END_ENTITY;

(** attribute model_representation changed to analytical_model_assignment
*)
  ENTITY Package_terminal
    SUBTYPE OF (part_feature);
      SELF\part_feature.associated_definition 		: package;
      external_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
      internal_connection_zone                : OPTIONAL SET[1:?] OF connection_zone_in_usage_view;
      seating_plane_intersection              : seating_plane_intersection_type;
      terminal_surface_material               : material_identification;
      terminal_characteristic                 : OPTIONAL SET[1:?] OF characteristic;
      terminal_core_material                  : OPTIONAL material_identification;
      minimum_terminal_diametrical_extent     : OPTIONAL length_data_element;
      maximum_terminal_diametrical_extent     : OPTIONAL length_data_element;
      seating_plane_zone                      : OPTIONAL connection_zone_package_interface_plane_relationship;
    DERIVE
      mates_with_substrate : BOOLEAN := (EXISTS(seating_plane_zone)) AND (associated_definition.package_seating_plane :=: seating_plane_zone.interface_plane);
    INVERSE
      SELF\part_feature.feature_shape : SET[1:?] OF usage_concept_usage_relationship FOR associated_usage;
    WHERE
      WR1 : NOT (EXISTS(seating_plane_zone)) OR (SIZEOF(QUERY(cz <* external_connection_zone | (seating_plane_zone.derived_zone = cz))) = 1);
      WR2 : NOT (EXISTS(seating_plane_zone)) OR (SIZEOF(QUERY(cz <* external_connection_zone | (seating_plane_zone.mating_zone = cz))) = 1);
      WR3 : NOT (EXISTS(seating_plane_zone)) OR ((associated_definition.package_seating_plane :=: seating_plane_zone.interface_plane) OR (associated_definition.interface_plane[1] :=: seating_plane_zone.interface_plane));
      WR4 : NOT (EXISTS(seating_plane_zone)) OR ((seating_plane_intersection = surface_intersection) OR (seating_plane_intersection = through_intersection));
      WR5 : NOT ((seating_plane_intersection = does_not_intersect) AND (EXISTS(seating_plane_zone)));
  END_ENTITY; -- package_terminal

  ENTITY Package_terminal_surface_constituent_relationship
    SUBTYPE OF (shape_element_constituent_relationship);
      SELF\shape_element_relationship.relating : package_body_surface;
      SELF\shape_element_relationship.related  : package_terminal;
  END_ENTITY; -- package_terminal_surface_constituent_relationship

  ENTITY Polarity_indication_feature
    SUBTYPE OF (part_feature);
      associated_body_vertical_extent : OPTIONAL SET[1:2] OF package_body_surface;
      associated_terminal             : package_terminal;
  END_ENTITY; -- polarity_indication_feature

  ENTITY Primary_orientation_feature
    SUBTYPE OF (Package_orientation_feature);
  END_ENTITY; -- primary_orientation_feature

  ENTITY Primary_reference_terminal
    SUBTYPE OF (package_terminal);
    WHERE
      WR1 : NOT (EXISTS(SELF\part_feature.precedent_feature));
  END_ENTITY; -- primary_reference_terminal

  ENTITY Secondary_orientation_feature
    SUBTYPE OF (Package_orientation_feature);
  END_ENTITY; -- secondary_orientation_feature

  ENTITY Tertiary_orientation_feature
    SUBTYPE OF (Package_orientation_feature);
  END_ENTITY; -- tertiary_orientation_feature

  ENTITY Wire_terminal
    SUBTYPE OF (package_terminal);
      SELF\package_terminal.internal_connection_zone : SET[1:?] OF connection_zone_in_usage_view;
      maximum_wire_terminal_length                   : length_data_element;
      minimum_wire_terminal_length                   : length_data_element;
  END_ENTITY; -- wire_terminal

  FUNCTION add_data_element(
    input1 : length_data_element ;
    input2 : length_data_element
  ) : length_data_element;

    RETURN(input1);
  END_FUNCTION; -- add_data_element

  FUNCTION max_data_element(
    input1 : length_data_element ;
    input2 : length_data_element
  ) : length_data_element;

    RETURN(input1);
  END_FUNCTION; -- max_data_element

END_SCHEMA; -- Package_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Packaged_part_black_box_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Packaged part black box model - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Packaged_part_black_box_model_arm;

USE FROM Part_external_reference_arm;

USE FROM Pdm_material_aspects_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Part_terminal_arm;

USE FROM Package_arm;

USE FROM Network_functional_usage_view_arm;

  ENTITY Packaged_part
    SUBTYPE OF (part_usage_view);
      used_package         : SET[1:?] OF Package;
      potting_compound     : OPTIONAL material_identification;
      implemented_function : OPTIONAL functional_unit_usage_view;
    INVERSE
      access_mechanisms : SET[0:?] OF packaged_part_terminal FOR associated_definition;
    WHERE
      WR1 : NOT (EXISTS(implemented_function) XOR (SIZEOF(access_mechanisms) > 0));
      WR2 : single_package_version(SELF);
  END_ENTITY; -- packaged_part

  ENTITY Packaged_part_join_terminal
    SUBTYPE OF (packaged_part_terminal);
  END_ENTITY; -- packaged_part_join_terminal

  ENTITY Packaged_part_terminal
  	ABSTRACT SUPERTYPE
    SUBTYPE OF (part_terminal);
      terminal_of_package                     : SET[1:?] OF Package_terminal;
      SELF\part_feature.associated_definition : packaged_part;
    WHERE
      WR1 : disjoint_package_terminals(SELF);
      WR2 : NOT EXISTS(SELF\part_feature.precedent_feature);
  END_ENTITY; -- packaged_part_terminal

  FUNCTION disjoint_package_terminals(
    input : packaged_part_terminal
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION; -- disjoint_package_terminals

  FUNCTION single_package_version(
    input : packaged_part
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION; -- single_package_version

END_SCHEMA; -- Packaged_part_black_box_model_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Packaged_part_white_box_model_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Packaged part white box model - EXPRESS ARM
*)

SCHEMA Packaged_part_white_box_model_arm;

USE FROM Packaged_part_black_box_model_arm;

USE FROM Feature_and_connection_zone_arm;

USE FROM Contextual_shape_positioning_arm;

USE FROM Physical_unit_3d_shape_arm;

USE FROM Physical_unit_2d_shape_arm;

USE FROM Bare_die_arm;


  	TYPE ppwbm_analytical_model_port_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON analytical_model_port_assignment_select WITH  
 		(functional_unit_usage_view_terminal_definition,
 		connection_zone,
 		datum_difference,
  	part_device_terminal,
    part_feature);
	END_TYPE;

	SUBTYPE_CONSTRAINT physical_unit_keepout_shape_subtypes FOR Physical_unit_keepout_shape;  
	    (ONEOF (Physical_unit_3d_keepout_shape,
	 	Physical_unit_planar_keepout_shape));
	END_SUBTYPE_CONSTRAINT; 

	SUBTYPE_CONSTRAINT physical_unit_shape_subtypes FOR Physical_unit_shape;  
	    (ONEOF (Physical_unit_3d_shape,
	 	Physical_unit_planar_shape));
	END_SUBTYPE_CONSTRAINT; 

  ENTITY Device_2d_position
    SUBTYPE OF (Mapping_based_template_instance);
      placed_device  : part_device;
--      transformation : axis_placement_2d;
      part_shape     : physical_unit_planar_shape;
--      device_shape   : physical_unit_planar_shape;
  END_ENTITY; -- device_2d_position

  ENTITY Device_3d_position
    SUBTYPE OF (Mapping_based_template_instance);
      placed_device  : part_device;
--      transformation : axis_placement_3d;
      part_shape     : physical_unit_3d_shape;
--      device_shape   : physical_unit_3d_shape;
  END_ENTITY; -- device_3d_position

  ENTITY Device_terminal_map;
      target_terminal        : packaged_part_terminal;
      mapped_device_terminal : part_device_terminal;
    UNIQUE
      UR1 : mapped_device_terminal,
 target_terminal;
  END_ENTITY; -- device_terminal_map

  ENTITY Device_terminal_map_relationship;
      related_device_terminal_map  : device_terminal_map;
      relating_device_terminal_map : device_terminal_map;
  END_ENTITY; -- device_terminal_map_relationship

  ENTITY Part_device;
      defined_packaged_part : packaged_part;
      included_device       : bare_die;
      item_identification   : STRING; --ee_name;
      bonding_agent         : OPTIONAL material_identification;
    INVERSE
      device_3d_position : SET[0:1] OF device_3d_position FOR placed_device;
      device_2d_position : SET[0:1] OF device_2d_position FOR placed_device;
    UNIQUE
      UR1 : defined_packaged_part,
 item_identification;
  END_ENTITY; -- part_device

  ENTITY Part_device_terminal;
      used_bare_die_terminal : minimally_defined_bare_die_terminal;
      terminated_device      : part_device;
    UNIQUE
      UR1 : used_bare_die_terminal,
 terminated_device;
  END_ENTITY; -- part_device_terminal

END_SCHEMA; -- Packaged_part_white_box_model_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_layout_template_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical layout template - EXPRESS ARM
*)

SCHEMA Physical_layout_template_arm;

USE FROM Analytical_model_arm;

USE FROM Characteristic_arm;

USE FROM Part_view_definition_arm;

USE FROM Part_and_version_identification_arm;

USE FROM Shape_property_assignment_arm; 

USE FROM Feature_and_connection_zone_arm;

USE FROM Functional_decomposition_to_design_arm;

REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
        types_of_product 
); 

	SUBTYPE_CONSTRAINT connection_zone_subtypes FOR connection_zone;     
		 ONEOF (connection_zone_in_usage_view,
		 connection_zone_in_design_view,
		 connection_zone_in_layout_template);
	END_SUBTYPE_CONSTRAINT;

  TYPE correlated_or_independent = SELECT
    (coordinated_characteristic,
     characteristic);
  END_TYPE; -- correlated_or_independent

 	TYPE plt_analytical_model_application_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON analytical_model_application_assignment_select WITH  
		(functional_unit_definition,
		functional_unit,
		layout_template_definition);
	END_TYPE;

	TYPE plt_physical_unit_or_part_template_or_fp_or_pd = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_or_part_template_or_fp_or_pd WITH 
    	(Layout_template_definition);
	END_TYPE; -- ap210_physical_unit_or_part_template_or_fp_or_pd

  ENTITY Connection_zone_in_layout_template
  	SUBTYPE OF (Connection_zone);
  	SELF\shape_element.containing_shape : Layout_template_definition;
  END_ENTITY; 
  
(** String attribute of subtypes must be synchronized *)
  ENTITY Layout_template_definition
    SUBTYPE OF (Template_definition, Shape_element);
      physical_characteristic                 : OPTIONAL SET[1:?] OF correlated_or_independent;
    DERIVE
			SELF\shape_element.containing_shape     : layout_template_definition := SELF;      
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'template model'))) >= 0;
      WR2 : SELF\shape_element.element_name = 'NULL';
  END_ENTITY; -- layout_template_definition

  ENTITY Reference_functional_unit_assignment_to_template;
      functional_design_definition_path : reference_composition_path;
      implementation                    : layout_template_definition;
      of_property                       : OPTIONAL SET[1:?] OF coordinated_characteristic;
      path_alias                        : STRING; --ee_name;
      swap_code                         : OPTIONAL STRING;
    UNIQUE
      UR1 : implementation,
 path_alias;
  END_ENTITY; 

	ENTITY Reference_part_template_for_analytical_model ;
		template					: Layout_template_definition;
		analytical_representation	: Analytical_model_definition;
		UNIQUE
			UR1 : template;
	END_ENTITY;

  ENTITY Template
  	SUBTYPE OF (Product);
  	WHERE 
  		WR1 : SIZEOF([ 'template model' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- template

  ENTITY Template_definition
    SUBTYPE OF (item_shape, product_view_definition);
    	SELF\product_view_definition.defined_version 	: template_version;
    DERIVE	
    	SELF\item_shape.described_element     				: template_definition := SELF;      
  END_ENTITY; -- layout_template_definition
  
  ENTITY Template_version
  	SUBTYPE OF (Product_version);
  		SELF\product_version.of_product : Template;
  END_ENTITY; -- template_version

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_shape_with_parameters_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template shape with parameters - EXPRESS ARM
*)

SCHEMA Part_template_shape_with_parameters_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Physical_layout_template_arm;

USE FROM Shape_parameters_arm;

	TYPE ptswp_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Part_template_keepout_shape);
	END_TYPE; 

	TYPE ptswp_view_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON view_shape_select WITH 
	    (Part_template_shape);
	END_TYPE; 

  ENTITY Part_template_keepout_shape
		ABSTRACT SUPERTYPE;      
			constrained_design_object_category : keepout_product_design_object_category;
      shape_characterized_part_template  : Layout_template_definition;
      shape_material_condition           : material_condition;
      centroid_location                  : OPTIONAL cartesian_point;
      shape_environment                  : application_environment;
      shape_purpose                      : keepout_purpose;
  END_ENTITY; -- part_template_planar_keepout_shape

  ENTITY Part_template_shape
    ABSTRACT SUPERTYPE;
      shape_characterized_part_template : Layout_template_definition;
      shape_environment                 : OPTIONAL application_environment;
      shape_material_condition          : material_condition;
  END_ENTITY; -- part_template_planar_shape

END_SCHEMA; -- Part_template_shape_with_parameters_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template 2d shape - EXPRESS ARM
*)

SCHEMA Part_template_2d_shape_arm;

USE FROM Component_grouping_arm;

USE FROM Layered_2d_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Part_template_shape_with_parameters_arm;

USE FROM Part_template_extension_arm;

USE FROM Package_arm;

USE FROM Printed_physical_layout_template_arm;

	TYPE package_or_printed_part_template = SELECT
		(package,
     	printed_part_template);
	END_TYPE;

	TYPE package_terminal_or_printed_part_template_terminal = SELECT
		(package_terminal,
     	printed_part_template_terminal);
	END_TYPE;

	TYPE pt2ds_ee_product_definition_with_annotation_elements = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON ee_product_definition_with_annotation_elements WITH 
   	(footprint_definition,
   	padstack_definition);
	END_TYPE; 

	TYPE pt2ds_physical_unit_or_part_template_or_fp_or_pd = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_or_part_template_or_fp_or_pd WITH 
    (Footprint_definition,
     Padstack_definition);
  END_TYPE; -- ap210_physical_unit_or_part_template_or_fp_or_pd

	TYPE pt2ds_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_shape_select WITH 
	    (part_template_planar_shape);
  	END_TYPE; -- ap210_physical_unit_shape_select

  TYPE padstack_arrangement = ENUMERATION OF
    (top,
     bottom,
     symmetrical);
  END_TYPE; -- padstack_arrangement

  ENTITY Design_layer_type_specific_padstack_definition
    SUBTYPE OF (padstack_definition);
      design_layer_type_reference : design_layer_technology;
  END_ENTITY; -- design_layer_type_specific_padstack_definition

(** It does not have shape, it is not a subtype of shape_element and consequently 
a subtype of layout_template_definition *)
  ENTITY Footprint_definition
    SUBTYPE OF (template_definition);
      reference_breakout : OPTIONAL SET[1:?] OF assembly_group_component;
      reference_package  : package_or_printed_part_template;
    DERIVE
      footprint_location                : padstack_arrangement := get_padstack_arrangement(padstack);
      padstack_reference_implementation : reference_packaged_part_interconnect_implementation := padstack[1].padstack.reference_implementation;
    INVERSE
    	shape    : footprint_definition_shape FOR shape_characterized_footprint_definition;
      padstack : SET[1:?] OF padstack_location_in_footprint_definition FOR footprint;
    WHERE
      WR2 : SIZEOF(QUERY(ps <* padstack | ps.padstack.padstack_location <> footprint_location)) = 0;
      WR3 : SIZEOF(QUERY(ps <* padstack | ps.padstack.reference_implementation <> padstack_reference_implementation)) = 0;
      WR4 : ((footprint_location = padstack_arrangement.top) AND (SELF\product_view_definition.context_description.content = 'top')) OR (NOT (footprint_location = padstack_arrangement.top) AND NOT (SELF\product_view_definition.context_description.content = 'top'));
      WR5 : ((footprint_location = padstack_arrangement.bottom) AND (SELF\product_view_definition.context_description.content = 'bottom')) OR (NOT (footprint_location = padstack_arrangement.bottom) AND NOT (SELF\product_view_definition.context_description.content = 'bottom'));
      WR6 : ((footprint_location = padstack_arrangement.symmetrical) AND (SELF\product_view_definition.context_description.content = 'symmetrical')) OR (NOT (footprint_location = padstack_arrangement.symmetrical) AND NOT (SELF\product_view_definition.context_description.content = 'symmetrical'));
  END_ENTITY; -- footprint_definition

  ENTITY Footprint_definition_shape
    SUBTYPE OF (planar_projected_shape);
      shape_characterized_footprint_definition : footprint_definition;
      shape_environment                        : OPTIONAL application_environment;
      shape_material_condition                 : material_condition;
      reference_shape                          : physical_unit_shape_select;
    UNIQUE
    	UR1 : shape_characterized_footprint_definition;
    WHERE
      WR1 : NOT (SIZEOF(['AP210_ARM.PHYSICAL_UNIT_3D_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE'] * TYPEOF(reference_shape)) = 1) OR (shape_characterized_footprint_definition.reference_package :=: reference_shape.shape_characterized_physical_unit);
      WR2 : NOT (SIZEOF(['AP210_ARM.PHYSICAL_UNIT_3D_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE'] * TYPEOF(reference_shape)) = 1) OR ('AP210_ARM.PACKAGE' IN TYPEOF(reference_shape.shape_characterized_physical_unit));
      WR3 : NOT (SIZEOF(['AP210_ARM.PART_TEMPLATE_3D_SHAPE',
 'AP210_ARM.PART_TEMPLATE_PLANAR_SHAPE'] * TYPEOF(reference_shape)) = 1) OR (shape_characterized_footprint_definition.reference_package :=: reference_shape.shape_characterized_part_template);
      WR4 : NOT (SIZEOF(['AP210_ARM.PART_TEMPLATE_3D_SHAPE',
 'AP210_ARM.PART_TEMPLATE_PLANAR_SHAPE'] * TYPEOF(reference_shape)) = 1) OR ('AP210_ARM.PRINTED_PART_TEMPLATE' IN TYPEOF(reference_shape.shape_characterized_part_template));
			WR5 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- footprint_definition_shape

  ENTITY Padstack_definition
    SUPERTYPE OF (ONEOF (design_layer_type_specific_padstack_definition, stratum_type_independent_padstack_definition))  
    SUBTYPE OF (template_definition);
      reference_implementation : reference_packaged_part_interconnect_implementation;
      padstack_location        : padstack_arrangement;
    INVERSE
  		shape : padstack_definition_shape FOR shape_characterized_padstack_definition;
      template : SET[1:?] OF part_template_location_in_padstack_definition FOR padstack;
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'template model'))) >= 0;
  END_ENTITY; -- padstack_definition

  ENTITY Padstack_definition_shape
    SUBTYPE OF (planar_projected_shape);
      shape_characterized_padstack_definition : padstack_definition;
      shape_environment                       : OPTIONAL application_environment;
      shape_material_condition                : material_condition;
    UNIQUE
    	UR1 : shape_characterized_padstack_definition;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- padstack_definition_shape

  ENTITY Padstack_location_in_footprint_definition;
      padstack                   : padstack_definition;
      footprint                  : footprint_definition;
      reference_package_terminal : package_terminal_or_printed_part_template_terminal;
    INVERSE
      transform : padstack_location_in_footprint_definition_transform FOR reference_location;
    WHERE
      WR1 : NOT ('AP210_ARM.PART_FEATURE' IN TYPEOF(reference_package_terminal)) OR reference_package_terminal\shape_element.containing_shape :=: footprint.reference_package;
      WR2 : NOT ('AP210_ARM.PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF(reference_package_terminal)) OR reference_package_terminal.associated_definition :=: footprint.reference_package;
      WR3 : NOT ('AP210_ARM.PRINTED_CONNECTOR_TEMPLATE' IN TYPEOF(footprint.reference_package)) OR ('AP210_ARM.PRINTED_PART_TEMPLATE_INTERFACE_TERMINAL' IN TYPEOF(reference_package_terminal));
  END_ENTITY; -- padstack_location_in_footprint_definition

  ENTITY Padstack_location_in_footprint_definition_transform;
      padstack_shape     : padstack_definition_shape;
      footprint_shape    : footprint_definition_shape;
      reference_location : padstack_location_in_footprint_definition;
      transform          : axis_placement_2d;
    UNIQUE 
    	UR1 : reference_location;
  END_ENTITY; -- padstack_location_in_footprint_definition_transform

  ENTITY Part_template_location_in_padstack_definition;
      padstack              : padstack_definition;
      template              : layout_template_definition;
      reference_designation : STRING;
    INVERSE
      transform : SET[0:1] OF part_template_location_in_padstack_definition_transform FOR reference_location;
    WHERE
      WR1 : ((SIZEOF(transform) = 1) AND (SIZEOF(['AP210_ARM.SNOWBALL_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_ANGLE_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_LENGTH_TEMPLATE'] * TYPEOF(transform[1].template_shape.shape_characterized_part_template)) = 0)) OR (NOT (SIZEOF(transform) = 1) AND (SIZEOF(['AP210_ARM.SNOWBALL_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_ANGLE_TEMPLATE',
 'AP210_ARM.TEARDROP_BY_LENGTH_TEMPLATE'] * TYPEOF(template.associated_template_occurrence)) = 1));
  END_ENTITY; -- part_template_location_in_padstack_definition

  ENTITY Part_template_location_in_padstack_definition_transform;
      padstack_shape     : padstack_definition_shape;
      template_shape     : part_template_planar_shape;
      reference_location : part_template_location_in_padstack_definition;
      transform          : axis_placement_2d;
		UNIQUE
			UR1 : reference_location;
  END_ENTITY; -- part_template_location_in_padstack_definition_transform

  ENTITY Part_template_planar_keepout_shape
    SUBTYPE OF (Planar_shape,
 			Non_feature_shape_definition,
 			Part_template_keepout_shape);
(** Need a WR to constrain the cardinality 
      application_technology_constraint  : OPTIONAL Requirement_definition_property;
*)      
  END_ENTITY; -- part_template_planar_keepout_shape

  ENTITY Part_template_planar_shape
    SUBTYPE OF (Planar_projected_shape);
  END_ENTITY; -- part_template_planar_shape

  ENTITY Stratum_type_independent_padstack_definition
    SUBTYPE OF (padstack_definition);
  END_ENTITY; -- stratum_type_independent_padstack_definition

  FUNCTION get_padstack_arrangement(
    input : SET OF padstack_location_in_footprint_definition
  ) : padstack_arrangement;

    LOCAL
      pabt : BAG OF STRING := [];
      pabb : BAG OF STRING := [];
      pabs : BAG OF STRING := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      IF input[i].padstack.padstack_location = padstack_arrangement.top THEN
        pabt := pabt + 'top';
      END_IF;
      IF input[i].padstack.padstack_location = padstack_arrangement.bottom THEN
        pabb := pabb + 'bottom';
      END_IF;
      IF input[i].padstack.padstack_location = padstack_arrangement.symmetrical THEN
        pabs := pabs + 'symmetrical';
      END_IF;
    END_REPEAT;
    IF (SIZEOF(pabt) > 0) AND (SIZEOF(pabb) = 0) THEN
      RETURN(padstack_arrangement.top);
    END_IF;
    IF (SIZEOF(pabb) > 0) AND (SIZEOF(pabt) = 0) THEN
      RETURN(padstack_arrangement.bottom);
    END_IF;
    IF (SIZEOF(pabb) = 0) AND (SIZEOF(pabt) = 0) AND (SIZEOF(pabs) > 0) THEN
      RETURN(padstack_arrangement.symmetrical);
    END_IF;
    RETURN(?);
  END_FUNCTION; -- get_padstack_arrangement

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_non_planar_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template non planar shape - EXPRESS ARM
*)
SCHEMA Part_template_non_planar_shape_arm;

USE FROM Manifold_surface_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Part_template_shape_with_parameters_arm;

  ENTITY Part_template_non_planar_2d_shape
    SUBTYPE OF (Manifold_surface_shape_representation,
	 			Feature_shape_definition,
	 			Part_template_shape);
      transformation                    : axis_placement_3d;
  END_ENTITY; -- part_template_non_planar_2d_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_template_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part template 3d shape - EXPRESS ARM
*)

SCHEMA Part_template_3d_shape_arm;

USE FROM Physical_layout_template_arm;

USE FROM Layered_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Part_template_shape_with_parameters_arm;

	TYPE pt3ds_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_shape_select WITH 
	    (part_template_3d_shape);
  	END_TYPE; 

  ENTITY Part_template_3d_keepout_shape
    SUBTYPE OF (Non_feature_shape_definition,
    	Part_template_keepout_shape);
(** Need a WR to constrain the cardinality    
      application_technology_constraint  : OPTIONAL Requirement_definition_property;
*)      
  END_ENTITY; -- part_template_3d_keepout_shape

  ENTITY Part_template_3d_shape
    SUBTYPE OF (Feature_shape_definition, Part_template_shape);
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- part_template_3d_shape


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_usage_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit usage view - EXPRESS ARM
*)

SCHEMA Physical_unit_usage_view_arm;

USE FROM Part_view_definition_arm;

USE FROM Item_definition_structure_arm;

USE FROM Shape_composition_arm;

USE FROM Feature_and_connection_zone_arm;

USE FROM Analytical_model_arm;

USE FROM Part_feature_location_arm;

USE FROM Requirement_assignment_arm;

USE FROM Shape_property_assignment_arm;


  TYPE material_state_change_enumeration = ENUMERATION OF
    (material_addition,
     material_removal);
  END_TYPE; -- material_state_change_enumeration

	TYPE puuv_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (part_feature);
	END_TYPE; 

	TYPE puuv_specification_product_object_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON specification_product_object_select WITH 
		(part_feature);
	END_TYPE;

	TYPE ap210_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(Part_feature);
	END_TYPE; -- ap210_usage_concept
	

  ENTITY Connection_zone_in_usage_view
  	SUBTYPE OF (Connection_zone);
  	SELF\part_feature.associated_definition : part_usage_view;
  END_ENTITY; 

  ENTITY Connection_zone_map_identification;
      reference_connection_zone_shape : usage_view_connection_zone_terminal_shape_relationship;
      mapped_connection_zone_shape    : usage_view_connection_zone_terminal_shape_relationship;
    UNIQUE
      UR1 : reference_connection_zone_shape,
 mapped_connection_zone_shape;
    WHERE
      WR1 : reference_connection_zone_shape <> mapped_connection_zone_shape;
      WR2 : reference_connection_zone_shape.associated_connection_zone_shape_definition <> mapped_connection_zone_shape.associated_connection_zone_shape_definition;
  END_ENTITY; -- connection_zone_map_identification

  ENTITY Part_feature
    SUBTYPE OF (Shape_element);
      SELF\shape_element.containing_shape RENAMED associated_definition : part_usage_view;
      material_state_change   : OPTIONAL material_state_change_enumeration;
      precedent_feature       : OPTIONAL part_feature;
    INVERSE
      feature_shape                            : SET[0:?] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
  END_ENTITY; -- part_feature

  ENTITY Part_feature_make_from_relationship
  	SUBTYPE OF (Shape_element_relationship);
      associated_make_from : view_definition_relationship;
      SELF\Shape_element_relationship.relating RENAMED reusable_feature	: part_feature;
      SELF\Shape_element_relationship.related RENAMED resultant_feature	: part_feature;
    UNIQUE
      UR1 : reusable_feature,
 resultant_feature;
    WHERE
      WR1 : reusable_feature :<>: resultant_feature;
      WR2 : reusable_feature.associated_definition :<>: resultant_feature.associated_definition;
  END_ENTITY; -- part_feature_make_from_relationship

  ENTITY Part_feature_template_definition
    SUBTYPE OF (product_view_definition);
(** Need a WR to capture cardinality    
      of_model         : OPTIONAL Analytical_model_application;
*)      
      bound_parameters : OPTIONAL SET[1:?] OF independent_property_relationship; --model_parameter_relationship;
    INVERSE
      shape : part_feature_template_shape_definition FOR shape_characterized_template;
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\product_view_definition.defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'template model'))) >= 0;
  END_ENTITY; -- part_feature_template_definition

  ENTITY Part_feature_template_shape_definition
    SUBTYPE OF (Feature_shape_definition);
      shape_characterized_template : part_feature_template_definition;
    WHERE
      WR1 : NOT (SIZEOF(USEDIN(SELF,
 '')) = 0) OR (SIZEOF(QUERY(foo <* USEDIN(SELF,
 '') | NOT ('AP210_ARM.USAGE_CONCEPT_USAGE_RELATIONSHIP' IN TYPEOF(foo)))) = 0);
  END_ENTITY; -- part_feature_template_shape_definition

(** Need to capture attributes by some assignments 
  ENTITY Physical_unit
    ABSTRACT SUPERTYPE OF (ONEOF (part_design_view,
 part_usage_view))
    SUBTYPE OF (part_view_definition);
      analytical_physical_unit_representation    : OPTIONAL SET[1:?] OF analytical_model_application;
      unit_technology                            : OPTIONAL technology;
      physical_device_characteristic             : OPTIONAL SET[1:?] OF characteristic;
      physical_device_coordinated_characteristic : OPTIONAL SET[1:?] OF coordinated_characteristic;
    WHERE
      WR1 : NOT (SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'PART_OCCURRENCE_DEFINITION_RELATIONSHIP.RELATED_VIEW')) <> 0) OR (SIZEOF(['AP210_ARM.part_design_view',
 'AP210_ARM.ASSEMBLY_MODULE_USAGE_VIEW',
 'AP210_ARM.CABLE_USAGE_VIEW'] * TYPEOF(SELF)) = 1);
  END_ENTITY; -- physical_unit
*)
  ENTITY Part_usage_view
    SUBTYPE OF (Part_view_definition, item_shape);
    DERIVE
    	SELF\item_shape.described_element : shapeable_item := SELF;
    WHERE
      WR1 : SIZEOF(QUERY(acr <* USEDIN(SELF,
 'AP210_ARM.' + 'PART_OCCURRENCE_DEFINITION_RELATIONSHIP.RELATED_VIEW') | NOT ('AP210_ARM.PACKAGED_CONNECTOR_COMPONENT' IN TYPEOF(acr.related_view)))) = 0;
  END_ENTITY; -- part_usage_view

  ENTITY Usage_view_connection_zone_terminal_shape_relationship;
      associating_terminal_shape                  : part_feature_template_shape_definition;
      associated_usage                            : connection_zone_in_usage_view;
      associated_connection_zone_shape_definition : feature_shape_definition;
      associated_usage_placement                  : axis_placement;
    WHERE
      WR1 : associating_terminal_shape :<>: associated_connection_zone_shape_definition;
  END_ENTITY; -- usage_view_connection_zone_terminal_shape_relationship

END_SCHEMA; -- Physical_unit_usage_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_design_view_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit design view - EXPRESS ARM
*)

SCHEMA Physical_unit_design_view_arm;

USE FROM Part_view_definition_arm;

USE FROM Physical_unit_usage_view_arm;

USE FROM Item_definition_structure_arm;

USE FROM Feature_and_connection_zone_arm;

-- For assembly_component
USE FROM Part_occurrence_arm;

	SUBTYPE_CONSTRAINT connection_zone_subtypes FOR connection_zone;     
		 ONEOF (connection_zone_in_usage_view,
		 connection_zone_in_design_view);
	END_SUBTYPE_CONSTRAINT;

 	TYPE pudv_analytical_model_application_assignment_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON analytical_model_application_assignment_select WITH  
		(part_usage_view,
		part_design_view,
		part_feature_template_definition);
	END_TYPE;

	TYPE physical_unit_or_part_template_or_fp_or_pd = 
		EXTENSIBLE GENERIC_ENTITY SELECT (part_view_definition);
	END_TYPE;

  ENTITY Assembly_component
   SUBTYPE OF (Definition_based_product_occurrence, item_shape);
	SELF\definition_based_product_occurrence.derived_from : physical_unit_or_part_template_or_fp_or_pd;
    DERIVE
    	SELF\item_shape.described_element : shapeable_item := SELF;
    INVERSE
      SELF\Product_occurrence.occurrence_contexts : SET[1:?] OF assembly_component_relationship FOR related_view;
(** Need to encode it as Global rules TODO for Tom
      component_2d_shape         : SET[0:1] OF assembly_component_2d_shape FOR shape_characterized_component;
      component_3d_shape         : SET[0:1] OF assembly_component_3d_shape FOR shape_characterized_component;
      component_non_planar_shape : SET[0:1] OF assembly_component_non_planar_shape FOR shape_characterized_component;
*)      
    WHERE
      WR1 : NOT (EXISTS(SELF\definition_based_product_occurrence.derived_from)) OR ((('AP210_ARM.FOOTPRINT_OCCURRENCE' IN TYPEOF(SELF)) AND ('AP210_ARM.FOOTPRINT_DEFINITION' IN TYPEOF(derived_from))) OR (NOT ('AP210_ARM.FOOTPRINT_OCCURRENCE' IN TYPEOF(SELF)) AND NOT ('AP210_ARM.FOOTPRINT_DEFINITION' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from))) OR (('AP210_ARM.PADSTACK_OCCURRENCE' IN TYPEOF(SELF)) AND ('AP210_ARM.PADSTACK_DEFINITION' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from))) OR (NOT ('AP210_ARM.PADSTACK_OCCURRENCE' IN TYPEOF(SELF)) AND NOT ('AP210_ARM.PADSTACK_DEFINITION' IN TYPEOF(SELF\definition_based_product_occurrence.derived_from))));
  END_ENTITY; -- assembly_component

  ENTITY Component_make_from_relationship
		SUBTYPE OF (View_definition_relationship);  
      SELF\View_definition_relationship.relating_view RENAMED reusable_component	: assembly_component;
      SELF\View_definition_relationship.related_view RENAMED resultant_component	: assembly_component;
    WHERE
      WR1 : resultant_component <> reusable_component;
  END_ENTITY; -- component_make_from_relationship

  ENTITY Component_to_physical_usage_view_assignment
  	SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.related_view RENAMED usage_view_component  	: assembly_component;
      SELF\View_definition_relationship.relating_view RENAMED design_view_component : assembly_component;
    WHERE
      WR1 : design_view_component <> usage_view_component;
  END_ENTITY; -- component_to_physical_usage_view_assignment

  ENTITY Connection_zone_in_design_view
  	SUBTYPE OF (Connection_zone);
  	SELF\part_feature.associated_definition : part_design_view;
  END_ENTITY; 

  ENTITY Part_design_view
    SUBTYPE OF (Assembly_definition, Item_shape, Part_view_definition);
      usage_view : OPTIONAL part_usage_view;
    DERIVE
    	SELF\item_shape.described_element : shapeable_item := SELF;
    WHERE
      WR1 : ('AP210_ARM.LAYOUT_MACRO_DEFINITION' IN TYPEOF(SELF)) OR EXISTS(usage_view);
  END_ENTITY; -- part_design_view

  ENTITY Physical_component
    SUBTYPE OF (Assembly_component, Definition_based_part_occurrence);
  END_ENTITY; -- physical_component

  ENTITY Thermal_component
    SUBTYPE OF (Assembly_component);
  END_ENTITY; -- thermal_component

END_SCHEMA; -- Physical_unit_design_view_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit 3d shape - EXPRESS ARM
*)

SCHEMA Physical_unit_3d_shape_arm;

USE FROM Physical_unit_shape_with_parameters_arm;

USE FROM Layered_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Part_view_definition_arm;

  TYPE predefined_3d_purpose = ENUMERATION OF
    (analysis_input,
     analysis_output,
     shock_analysis_input,
     shock_analysis_output,
     design,
     vibration_analysis_input,
     vibration_analysis_output,
     electromagnetic_compatibility_analysis_input,
     electromagnetic_compatibility_analysis_output,
     thermal_analysis_input,
     thermal_analysis_output);
  END_TYPE; -- predefined_3d_purpose

	TYPE pu3ds_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_shape_select WITH 
	    (Physical_unit_3d_shape);
  	END_TYPE; -- ap210_physical_unit_shape_select

  TYPE shape_class = ENUMERATION OF
    (extrusion,
     manhattan_block,
     other,
     is_unknown);
  END_TYPE; -- shape_class

  TYPE three_d_purpose = SELECT
    (predefined_3d_purpose,
     external_item_identification);
  END_TYPE; -- three_d_purpose

  ENTITY Physical_unit_3d_keepout_shape   
    SUBTYPE OF (View_level_non_feature_shape_definition, Physical_unit_keepout_shape);
(** Need a WR to constrain the cardinality
      application_technology_constraint  : OPTIONAL Requirement_definition_property;
*)      
      shape_classification               : shape_class;
  END_ENTITY; -- physical_unit_3d_keepout_shape

  ENTITY Physical_unit_3d_shape
    SUBTYPE OF (Feature_shape_definition, Physical_unit_shape);
(** Need a WR to constrain the cardinality    
      application_technology_constraint : OPTIONAL Requirement_definition_property;
*)      
      shape_purpose                     : three_d_purpose;
      shape_classification              : shape_class;
  END_ENTITY; -- physical_unit_3d_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit 2d shape - EXPRESS ARM
*)

SCHEMA Physical_unit_2d_shape_arm;

USE FROM Physical_unit_shape_with_parameters_arm;

-- USE FROM Layered_2d_shape_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Value_with_unit_extension_arm;

	SUBTYPE_CONSTRAINT planar_shape_subtypes FOR planar_shape;  
		(ONEOF (planar_projected_shape,
		physical_unit_planar_keepout_shape));
	END_SUBTYPE_CONSTRAINT; 

  TYPE planar_purpose = SELECT
    (predefined_planar_purpose,
     external_item_identification);
  END_TYPE; -- planar_purpose

	TYPE pu2ds_physical_unit_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON physical_unit_shape_select WITH 
	    (physical_unit_planar_shape);
  	END_TYPE; 


  TYPE predefined_planar_purpose = ENUMERATION OF
    (analysis_input,
     analysis_output,
     shock_analysis_input,
     shock_analysis_output,
     assembly_symbol,
     design,
     design_profile,
     vibration_analysis_input,
     vibration_analysis_output,
     electromagnetic_compatibility_analysis_input,
     electromagnetic_compatibility_analysis_output,
     physical_extent,
     thermal_analysis_input,
     thermal_analysis_output);
  END_TYPE; -- predefined_planar_purpose

  TYPE shape_location = ENUMERATION OF
    (above,
     below,
     congruent);
  END_TYPE; -- shape_location

  ENTITY Physical_unit_planar_keepout_shape
    SUBTYPE OF (Planar_shape,
 			View_level_non_feature_shape_definition,
 			Physical_unit_keepout_shape);
(** Need a WR to constrain the cardinality 
      application_technology_constraint            : OPTIONAL Requirement_definition_property;
*)      
      shape_distance_from_seating_plane            : OPTIONAL length_data_element;
      shape_location_with_respect_to_seating_plane : shape_location;
    WHERE
      WR1 : NOT ((congruent = shape_location_with_respect_to_seating_plane) AND (EXISTS(shape_distance_from_seating_plane)));
  END_ENTITY; -- physical_unit_planar_keepout_shape

  ENTITY Physical_unit_planar_shape
    SUBTYPE OF (Planar_projected_shape, Physical_unit_shape);
(** Need a WR to constrain the cardinality    
      application_technology_constraint            : OPTIONAL Requirement_definition_property;
*)      
      shape_distance_from_seating_plane            : OPTIONAL length_data_element;
      shape_location_with_respect_to_seating_plane : shape_location;
      shape_purpose                                : planar_purpose;
  END_ENTITY; -- physical_unit_planar_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Physical_unit_shape_with_parameters_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Physical unit shape with parameters - EXPRESS ARM
*)

SCHEMA Physical_unit_shape_with_parameters_arm;

USE FROM Elemental_geometric_shape_arm;

USE FROM Part_view_definition_arm;

USE FROM Requirement_assignment_arm;

USE FROM Shape_parameters_arm;

USE FROM Non_feature_shape_element_arm;

  TYPE mass_property_quality = ENUMERATION OF
    (high,
     medium,
     low,
     is_unknown);
  END_TYPE; -- mass_property_quality

	TYPE puswp_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Physical_unit_keepout_shape,
		Physical_unit_shape);
	END_TYPE; 

	TYPE puswp_view_shape_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON view_shape_select WITH 
	    (Physical_unit_shape);
	END_TYPE; 


  TYPE shape_approximation_level = ENUMERATION OF
    (coarse,
     detailed,
     is_unknown);
  END_TYPE; -- shape_approximation_level

  TYPE shape_extent = ENUMERATION OF
    (envelope,
     over_body,
     over_lands,
     over_breakout);
  END_TYPE; -- shape_extent

  ENTITY Physical_unit_keepout_shape
    ABSTRACT SUPERTYPE;
			constrained_design_object_category : keepout_product_design_object_category;    
      shape_characterized_physical_unit  : part_view_definition; --physical_unit;
      shape_material_condition           : material_condition;
      shape_purpose                      : keepout_purpose;
      shape_environment                  : application_environment;
      shape_extent                       : shape_extent;			
      shape_approximation_level          : shape_approximation_level;
      centroid_location                  : OPTIONAL cartesian_point;
  END_ENTITY; -- physical_unit_planar_shape

  ENTITY Physical_unit_shape
    ABSTRACT SUPERTYPE;
      shape_characterized_physical_unit : part_view_definition;
      shape_material_condition          : material_condition;      
      centroid_location									: OPTIONAL cartesian_point;      
      shape_environment                 : application_environment;      
      shape_extent											: shape_extent;      
      shape_approximation_level					: shape_approximation_level;
      mass_property_quality							: mass_property_quality;
    WHERE
      WR1 : NOT ('AP210_ARM.PACKAGED_PART' IN TYPEOF(shape_characterized_physical_unit));
  END_ENTITY; -- physical_unit_planar_shape

END_SCHEMA; -- Physical_unit_shape_with_parameters_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Planned_characteristic_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Planned characteristic - EXPRESS ARM
*)

SCHEMA Planned_characteristic_arm;

USE FROM Characteristic_arm;

USE FROM Product_rule_arm;

USE FROM Product_view_definition_arm;

USE FROM Requirement_assignment_arm;
 
  TYPE evaluation_result_value = ENUMERATION OF
    (pass,
     fail,
     undefined);
  END_TYPE; -- evaluation_result_value

  TYPE evaluation_type = ENUMERATION OF
    (not_evaluatable,
     invalid,
     valid,
     to_be_evaluated);
  END_TYPE; -- evaluation_type

  ENTITY Evaluated_characteristic
    SUPERTYPE OF (rule_based_evaluated_characteristic);
      planned_product_data          : planned_characteristic;
      product_data_status           : evaluation_type;
      product_characterization_data : OPTIONAL SET[1:?] OF coordinated_characteristic;
      evaluation_result             : evaluation_result_value;
  END_ENTITY; -- evaluated_characteristic

  ENTITY Evaluation_ee_product_definition
    SUBTYPE OF (product_view_definition);
      evaluated_product_definition : product_view_definition;
      evaluation_data              : SET[1:?] OF evaluated_characteristic;
    WHERE
      WR1 : TYPEOF(SELF) <> TYPEOF(evaluated_product_definition);
  END_ENTITY; -- evaluation_ee_product_definition

  ENTITY Planned_characteristic;
      reference_requirement              : Requirement_assignment;
      planned_coordinated_characteristic : coordinated_characteristic;
  END_ENTITY; -- planned_characteristic

  ENTITY Rule_based_evaluated_characteristic
    SUBTYPE OF (Evaluated_characteristic);
      evaluating_rule : rule_definition;
  END_ENTITY; -- rule_based_evaluated_characteristic

END_SCHEMA; -- Planned_characteristic_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Printed_physical_layout_template_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Printed physical layout template - EXPRESS ARM
*)

SCHEMA Printed_physical_layout_template_arm;

USE FROM Physical_layout_template_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Manufacturing_technology_arm;

USE FROM Analytical_model_arm;

USE FROM Extended_geometric_tolerance_arm;

USE FROM Shape_property_assignment_arm; 

USE FROM Feature_and_connection_zone_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Network_functional_usage_view_arm;

REFERENCE FROM Requirement_decomposition_arm (get_requirement_definition_property);

	TYPE pplt_usage_concept = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON usage_concept WITH 
		(Printed_part_template_terminal);
	END_TYPE;

  TYPE printed_part_template_terminal_class = ENUMERATION OF
    (curve_edge_segment,
     surface_point,
     area_edge_segment,
     surface_area);
  END_TYPE; -- printed_part_template_terminal_class

  ENTITY Functional_usage_view_to_printed_part_template_terminal_assignment;
      physical_usage_view_terminal   : printed_part_template_terminal;
      functional_usage_view_terminal : scalar_terminal_definition;
    UNIQUE
      UR1 : functional_usage_view_terminal,
 physical_usage_view_terminal;
  END_ENTITY; -- functional_usage_view_to_printed_part_template_terminal_assignment

  ENTITY Non_conductive_cross_section_template
    SUBTYPE OF (Layout_template_definition);
      template_technology : OPTIONAL SET[1:?] OF stratum_technology;
      nominal_width       : length_data_element;
  END_ENTITY; -- non_conductive_cross_section_template

  ENTITY Printed_connector_template
    SUBTYPE OF (printed_part_template);
    INVERSE
      characterized_connector_terminal_relationship : SET[1:?] OF printed_connector_template_terminal_relationship FOR connector;
  END_ENTITY; -- printed_connector_template

  ENTITY Printed_connector_template_terminal_relationship;
      join_terminal      : printed_part_template_join_terminal;
      interface_terminal : printed_part_template_interface_terminal;
      connector          : printed_connector_template;
    UNIQUE
      UR1 : join_terminal,
 connector;
      UR2 : interface_terminal,
 connector;
  END_ENTITY; -- printed_connector_template_terminal_relationship

  ENTITY Printed_part_cross_section_template
    SUBTYPE OF (Layout_template_definition);
      horizontal_material_link                 : OPTIONAL SET[1:?] OF printed_part_template_material_link;
      vertical_material_link                   : OPTIONAL SET[1:?] OF printed_part_template_material_link;
      transmission_line_model                  : analytical_model_definition;
      maximum_transmission_line_characteristic : OPTIONAL SET[1:?] OF analytical_model_application;
      minimum_transmission_line_characteristic : OPTIONAL SET[1:?] OF analytical_model_application;
      maximum_width                            : length_data_element;
      minimum_width                            : length_data_element;
      start_vertex                             : edge_segment_vertex;
      end_vertex                               : edge_segment_vertex;
    INVERSE
      using_terminal : SET[1:?] OF printed_part_cross_section_template_terminal FOR cross_section_definition;
    WHERE
      WR1 : SIZEOF(QUERY(hml <* horizontal_material_link | NOT (hml.precedent_material\shape_element.element_name IN ['right']))) = 0;
      WR2 : SIZEOF(QUERY(hml <* horizontal_material_link | NOT (hml.subsequent_material\shape_element.element_name IN ['left']))) = 0;
      WR3 : SIZEOF(QUERY(hml <* vertical_material_link | NOT (hml.precedent_material\shape_element.element_name IN ['bottom']))) = 0;
      WR4 : SIZEOF(QUERY(hml <* vertical_material_link | NOT (hml.precedent_material\shape_element.element_name IN ['top']))) = 0;
      WR5 : horizontal_material_link :<>: vertical_material_link;
      WR6 : start_vertex :<>: end_vertex;
  END_ENTITY; -- printed_part_cross_section_template

  ENTITY Printed_part_cross_section_template_terminal
    SUBTYPE OF (printed_part_template_terminal);
      cross_section_definition       : printed_part_cross_section_template;
      material_to_left_of_terminal   : OPTIONAL printed_part_template_material_link;
      material_to_right_of_terminal  : OPTIONAL printed_part_template_material_link;
      material_to_top_of_terminal    : OPTIONAL printed_part_template_material_link;
      material_to_bottom_of_terminal : OPTIONAL printed_part_template_material_link;
    UNIQUE
      UR1 : cross_section_definition,
 material_to_left_of_terminal,
 material_to_right_of_terminal,
 material_to_top_of_terminal,
 material_to_bottom_of_terminal;
    WHERE
      WR1 : (SELF\printed_part_template_terminal.connection_zone_category = curve_edge_segment) OR (SELF\printed_part_template_terminal.connection_zone_category = area_edge_segment);
      WR2 : NOT (EXISTS(material_to_left_of_terminal) AND EXISTS(material_to_right_of_terminal)) OR (material_to_left_of_terminal :<>: material_to_right_of_terminal);
      WR3 : NOT (EXISTS(material_to_left_of_terminal) AND EXISTS(material_to_top_of_terminal)) OR (material_to_left_of_terminal :<>: material_to_top_of_terminal);
      WR4 : NOT (EXISTS(material_to_left_of_terminal) AND EXISTS(material_to_bottom_of_terminal)) OR (material_to_left_of_terminal :<>: material_to_bottom_of_terminal);
      WR5 : NOT (EXISTS(material_to_right_of_terminal) AND EXISTS(material_to_top_of_terminal)) OR (material_to_right_of_terminal :<>: material_to_top_of_terminal);
      WR6 : NOT (EXISTS(material_to_right_of_terminal) AND EXISTS(material_to_bottom_of_terminal)) OR (material_to_right_of_terminal :<>: material_to_bottom_of_terminal);
      WR7 : NOT (EXISTS(material_to_top_of_terminal) AND EXISTS(material_to_bottom_of_terminal)) OR (material_to_top_of_terminal :<>: material_to_bottom_of_terminal);
  END_ENTITY; -- printed_part_cross_section_template_terminal

  ENTITY Printed_part_template
    SUBTYPE OF (Layout_template_definition);
      of_stratum_technology       : OPTIONAL SET[1:?] OF stratum_technology;
      material_stack              : OPTIONAL SET[1:?] OF stratum_technology_link;
      printed_part_template_stack : OPTIONAL SET[1:?] OF printed_part_template_link;
      implemented_function        : OPTIONAL functional_unit_usage_view;
    DERIVE
      access_mechanisms        : SET[1:?] OF printed_part_template_terminal := raw_access_mechanisms + printed_part_template_access_mechanisms(printed_part_template_stack);
      footprint_implementation : BOOLEAN := (SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'FOOTPRINT_DEFINITION.REFERENCE_PACKAGE')) > 0);
      a                        : BOOLEAN := NOT EXISTS(of_stratum_technology);
      b                        : BOOLEAN := NOT EXISTS(material_stack);
      c                        : BOOLEAN := NOT EXISTS(printed_part_template_stack);
      d                        : BOOLEAN := NOT footprint_implementation;
    INVERSE
      raw_access_mechanisms : SET[0:?] OF printed_part_template_terminal FOR associated_definition;
    WHERE
      WR1 : (a AND b AND c) OR (a AND b AND d) OR (a AND c AND d) OR (b AND c AND d);
      WR2 : (SIZEOF(QUERY(prpc <* USEDIN(defined_version.of_product,
 'AP210_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.name = 'printed part'))) >= 0) OR ('AP210_ARM.LAYOUT_MACRO_FLOOR_PLAN_TEMPLATE' IN TYPEOF(SELF));
      WR3 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'FOOTPRINT_DEFINITION.REFERENCE_PACKAGE')) < 2;
  END_ENTITY; -- printed_part_template

  ENTITY Printed_part_template_connected_terminals_definition;
      connected_terminals : SET[2:?] OF printed_part_template_terminal;
      name                : STRING; --ee_name;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- printed_part_template_connected_terminals_definition

  ENTITY Printed_part_template_interface_terminal
    SUBTYPE OF (printed_part_template_terminal);
      SELF\printed_part_template_terminal.associated_definition : printed_connector_template;
    INVERSE
      external_connector_function : SET[1:?] OF printed_connector_template_terminal_relationship FOR interface_terminal;
  END_ENTITY; -- printed_part_template_interface_terminal

  ENTITY Printed_part_template_join_terminal
    SUBTYPE OF (printed_part_template_terminal);
    INVERSE
      internal_connector_function : SET[0:1] OF printed_connector_template_terminal_relationship FOR join_terminal;
  END_ENTITY; -- printed_part_template_join_terminal

  ENTITY Printed_part_template_link
    SUBTYPE OF (stratum_technology_link);
      precedent_printed_part_template  : printed_part_template;
      subsequent_printed_part_template : printed_part_template;
    INVERSE
      associated_printed_part_template : printed_part_template FOR printed_part_template_stack;
    WHERE
      WR1 : EXISTS(precedent_printed_part_template.of_stratum_technology);
      WR2 : EXISTS(subsequent_printed_part_template.of_stratum_technology);
      WR3 : precedent_printed_part_template.of_stratum_technology[1] = SELF\stratum_technology_link.precedent_stratum_technology;
      WR4 : subsequent_printed_part_template.of_stratum_technology[1] = SELF\stratum_technology_link.subsequent_stratum_technology;
      WR5 : SIZEOF(precedent_printed_part_template.of_stratum_technology) = 1;
      WR6 : SIZEOF(subsequent_printed_part_template.of_stratum_technology) = 1;
  END_ENTITY; -- printed_part_template_link

  ENTITY Printed_part_template_material;
      maximum_width     : OPTIONAL length_data_element;
      minimum_width     : OPTIONAL length_data_element;
      required_material : stratum_technology;
    INVERSE
      boundary : SET[0:4] OF template_material_cross_section_boundary FOR associated_definition;
    WHERE
      WR1 : SIZEOF(QUERY(temp <* (USEDIN(SELF,
 'AP210_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\shape_element.element_name = 'top')) <= 1;
      WR2 : SIZEOF(QUERY(temp <* (USEDIN(SELF,
 'AP210_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\shape_element.element_name = 'bottom')) <= 1;
      WR3 : SIZEOF(QUERY(temp <* (USEDIN(SELF,
 'AP210_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\shape_element.element_name = 'left')) <= 1;
      WR4 : SIZEOF(QUERY(temp <* (USEDIN(SELF,
 'AP210_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\shape_element.element_name = 'right')) <= 1;
  END_ENTITY; -- printed_part_template_material

  ENTITY Printed_part_template_material_link;
      precedent_material  : template_material_cross_section_boundary;
      subsequent_material : template_material_cross_section_boundary;
    UNIQUE
      UR1 : precedent_material,
 subsequent_material;
    WHERE
      WR1 : precedent_material :<>: subsequent_material;
      WR2 : precedent_material\shape_element.element_name IN ['bottom',
 'right'];
      WR3 : subsequent_material\shape_element.element_name IN ['top',
 'left'];
  END_ENTITY; -- printed_part_template_material_link

  ENTITY Printed_part_template_terminal
    ABSTRACT SUPERTYPE OF (printed_part_cross_section_template_terminal ANDOR
 (ONEOF (printed_part_template_join_terminal,
 printed_part_template_interface_terminal)))
    SUBTYPE OF (shape_element);
      associated_definition    : printed_part_template;
      connection_zone_category : printed_part_template_terminal_class;
      terminal_connection_zone : OPTIONAL SET[1:?] OF connection_zone_in_layout_template;
      SELF\shape_element.element_name  : STRING; --ee_name;
    INVERSE
      connection_requirement         : SET[0:1] OF printed_part_template_connected_terminals_definition FOR connected_terminals;
      functional_usage_view_terminal : SET[0:1] OF functional_usage_view_to_printed_part_template_terminal_assignment FOR physical_usage_view_terminal;
      feature_shape                  : SET[1:?] OF usage_concept_usage_relationship FOR associated_usage;
    UNIQUE
      UR1 : SELF\shape_element.element_name,
 associated_definition;
  END_ENTITY; -- printed_part_template_terminal

  ENTITY Printed_part_template_terminal_relationship;
      related_printed_part_terminal  : printed_part_template_terminal;
      relating_printed_part_terminal : printed_part_template_terminal;
  END_ENTITY; -- printed_part_template_terminal_relationship

  ENTITY Template_material_cross_section_boundary
    SUBTYPE OF (Non_feature_shape_element);
      associated_definition : printed_part_template_material;
    UNIQUE
      UR1 : associated_definition,
 SELF\shape_element.element_name;
    WHERE
      WR1 : SELF\shape_element.element_name IN ['top',
 'bottom',
 'left',
 'right'];
  END_ENTITY; -- template_material_cross_section_boundary

  FUNCTION printed_part_template_access_mechanisms(
    input : SET OF printed_part_template_link
  ) : SET OF printed_part_template_terminal;

    LOCAL
      pptt : SET OF printed_part_template_terminal := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      pptt := input[i].precedent_printed_part_template.raw_access_mechanisms + pptt;
      pptt := input[i].subsequent_printed_part_template.raw_access_mechanisms + pptt;
    END_REPEAT;
    RETURN(pptt);
  END_FUNCTION; -- printed_part_template_access_mechanisms

END_SCHEMA; -- Printed_physical_layout_template_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_identification_extension_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Product identification extension - EXPRESS ARM
*)

 SCHEMA Product_identification_extension_arm;

USE FROM Product_view_definition_arm;

USE FROM External_item_identification_assignment_arm;
 
 	TYPE pie_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Externally_defined_ee_product_definition);
	END_TYPE;

  ENTITY Externally_defined_ee_product_definition
    SUBTYPE OF (Product_view_definition);
    INVERSE
      source : External_source_identification FOR item;
  END_ENTITY; -- externally_defined_ee_product_definition

  ENTITY Library_ee_product_definition
    SUBTYPE OF (Externally_defined_ee_product_definition);
    DERIVE
      library : STRING := SELF\externally_defined_ee_product_definition.source;
  END_ENTITY; -- library_ee_product_definition

 END_SCHEMA; -- Product_identification_extension_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_rule_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Product rule - EXPRESS ARM
*)

SCHEMA Product_rule_arm;

REFERENCE FROM product_identification_arm(          -- ISO/TS 10303-1017 
        types_of_product 
); 

USE FROM Person_organization_assignment_arm; 

USE FROM Specification_document_arm;

USE FROM Model_parameter_arm;

USE FROM Characteristic_arm;

USE FROM Software_arm;
 
   	TYPE parameter_assignment_or_rule_general_clause = SELECT
		(parameter_assignment,
     	rule_general_clause);
	END_TYPE;

  TYPE rule_complex_or_simple = SELECT
    (rule_complex_clause,
     rule_simple_clause);
  END_TYPE; -- rule_complex_or_simple

  ENTITY Rule_action
    ABSTRACT SUPERTYPE OF (ONEOF (rule_submission,
 rule_adoption,
 rule_rejection,
 rule_supersedence,
 rule_creation,
 rule_expiration,
 rule_change_request,
 rule_request,
 rule_modification));
      subject_action_assignment : organization_or_person_in_organization_assignment;
      subject_rule              : rule_version;
    UNIQUE
      UR1 : subject_rule,
 subject_action_assignment;
  END_ENTITY; -- rule_action

  ENTITY Rule_adoption
    SUBTYPE OF (rule_action);
  END_ENTITY; -- rule_adoption

  ENTITY Rule_boolean_function
    SUBTYPE OF (rule_function);
    WHERE
      WR1 : SIZEOF(SELF\rule_function.range_parameter) = 1;
  END_ENTITY; -- rule_boolean_function

  ENTITY Rule_change_request
    SUBTYPE OF (rule_action);
      change_reason : STRING;
  END_ENTITY; -- rule_change_request

  ENTITY Rule_complex_clause;
      conjunctive_content : SET[1:?] OF rule_simple_clause;
      identifier          : STRING;
    UNIQUE
      UR1 : identifier;
  END_ENTITY; -- rule_complex_clause

  ENTITY Rule_conclusion_definition;
      rule_definition     : rule_definition;
      identifier          : STRING;
      conjunctive_content : SET[1:?] OF rule_simple_clause;
    UNIQUE
      UR1 : rule_definition,
 identifier;
  END_ENTITY; -- rule_conclusion_definition

  ENTITY Rule_creation
    SUBTYPE OF (rule_action);
  END_ENTITY; -- rule_creation

  ENTITY Rule_definition
    SUBTYPE OF (Rule_software_definition);
    INVERSE
      premise    : rule_premise_definition FOR rule_definition;
      conclusion : rule_conclusion_definition FOR rule_definition;
  END_ENTITY; -- rule_definition

  ENTITY Rule_expiration
    SUBTYPE OF (rule_action);
      expiration_rationale : STRING;
  END_ENTITY; -- rule_expiration

  ENTITY Rule_function
    SUPERTYPE OF (rule_boolean_function);
      identifier              : STRING;
      representation_language : language_reference_manual;
      reference_document      : document_definition;
      source_code             : specification_definition;
    INVERSE
      domain_parameter : SET[1:?] OF rule_function_domain_parameter FOR accessed_rule_function;
      range_parameter  : SET[1:?] OF rule_function_range_parameter FOR accessed_rule_function;
    UNIQUE
      UR1 : identifier,
 reference_document;
  END_ENTITY; -- rule_function

  ENTITY Rule_function_domain_parameter
    SUBTYPE OF (Model_parameter);
      accessed_rule_function : rule_function;
    UNIQUE
      UR1 : SELF\independent_property.id,
 accessed_rule_function;
  END_ENTITY; -- rule_function_domain_parameter

  ENTITY Rule_function_range_parameter
    SUBTYPE OF (Model_parameter);
      accessed_rule_function : rule_function;
    UNIQUE
      UR1 : SELF\independent_property.id,
 accessed_rule_function;
  END_ENTITY; -- rule_function_range_parameter

  ENTITY Rule_general_clause;
      rule_function : rule_function;
      parameter     : SET[1:?] OF parameter_assignment_or_rule_general_clause;
  END_ENTITY; -- rule_general_clause

  ENTITY Rule_justification;
      justified_action        : rule_action;
      justification_rationale : STRING;
  END_ENTITY; -- rule_justification

  ENTITY Rule_modification
    SUBTYPE OF (rule_action);
      modification_rationale : rule_change_request;
  END_ENTITY; -- rule_modification

  ENTITY Rule_premise_definition;
      rule_definition     : rule_definition;
      identifier          : STRING;
      disjunctive_content : SET[1:?] OF rule_complex_or_simple;
    UNIQUE
      UR1 : rule_definition,
 identifier;
  END_ENTITY; -- rule_premise_definition

  ENTITY Rule_priority;
      priority         : INTEGER;
      prioritized_rule : rule_definition;
    WHERE
      WR1 : priority >= 0;
  END_ENTITY; -- rule_priority
  
  ENTITY Rule_product
  	SUBTYPE OF (software);
  	WHERE 
  		WR1 : SIZEOF([ 'rule' ] * types_of_product(SELF))= 1 ;
  END_ENTITY; -- Rule_product

  ENTITY Rule_rejection
    SUBTYPE OF (rule_action);
      rejection_reason : STRING;
  END_ENTITY; -- rule_rejection

  ENTITY Rule_request
    SUBTYPE OF (rule_action);
  END_ENTITY; -- rule_request

  ENTITY Rule_set
    SUBTYPE OF (Rule_software_definition);
      rule_member : SET[1:?] OF rule_priority;
    DERIVE
      purpose : text_representation_item := SELF\product_view_definition.context_description;
    WHERE
      WR1 : EXISTS(SELF\product_view_definition.context_description);
  END_ENTITY; -- rule_set

  ENTITY Rule_set_group
    SUBTYPE OF (Rule_software_definition);
      elements : SET[2:?] OF rule_set;
  END_ENTITY; -- rule_set_group

  ENTITY Rule_simple_clause;
      rule_function : rule_boolean_function;
      parameter     : SET[1:?] OF parameter_assignment_or_rule_general_clause;
  END_ENTITY; -- rule_simple_clause

  ENTITY Rule_software_definition 
    SUPERTYPE OF (ONEOF (Rule_definition,
 			Rule_set_group, Rule_set))
    SUBTYPE OF (Software_definition); 			
    SELF\product_view_definition.defined_version : Rule_version;
  END_ENTITY; -- Software_definition

  ENTITY Rule_submission
    SUBTYPE OF (rule_action);
      submission_rationale : STRING;
  END_ENTITY; -- rule_submission

  ENTITY Rule_supersedence
    SUBTYPE OF (rule_action);
      superseded_rule : rule_version;
  END_ENTITY; -- rule_supersedence

  ENTITY Rule_version
    SUBTYPE OF (software_version);
			SELF\product_version.of_product : rule_product;    
    INVERSE
      management_action		: SET[1:?] OF rule_action FOR subject_rule;
      product_definition	: SET[1:?] OF rule_definition FOR defined_version;
  END_ENTITY; -- rule_version
  
END_SCHEMA; -- Product_rule_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Requirement_decomposition_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Requirement decomposition - EXPRESS ARM
*)

SCHEMA Requirement_decomposition_arm;

USE FROM Characteristic_arm;

USE FROM Specification_document_arm;

USE FROM Elemental_geometric_shape_arm;

USE FROM Product_rule_arm;

USE FROM Part_and_version_identification_arm;

USE FROM Requirement_assignment_arm;	

USE FROM Requirement_view_definition_arm;

USE FROM Analytical_model_arm;

USE FROM Functional_specification_arm;

USE FROM Pdm_material_aspects_arm;

 
  TYPE material_conductivity_classification = ENUMERATION OF
    (conductive,
     resistive,
     semi_conductive,
     non_conductive);
  END_TYPE; -- material_conductivity_classification

	SUBTYPE_CONSTRAINT model_parameter_subtypes FOR model_parameter; 
		 ONEOF (analytical_model_parameter,
		 category_model_parameter,
		 rule_function_domain_parameter,
		 rule_function_range_parameter);
	END_SUBTYPE_CONSTRAINT;

  TYPE relationship_operation = ENUMERATION OF
    (and_operation,
     derived_from,
     or_operation);
  END_TYPE; -- relationship_operation

  ENTITY Constraint_occurrence
    SUPERTYPE OF (ee_product_definition_based_constraint_occurrence)
    SUBTYPE OF (Requirement_definition_property);
      logical_relation : OPTIONAL rule_complex_clause;
    WHERE
      WR1 : (('AP210_ARM.' + 'EE_PRODUCT_DEFINITION_BASED_CONSTRAINT_OCCURRENCE') IN TYPEOF(SELF)) OR EXISTS(logical_relation);
  END_ENTITY; -- constraint_occurrence

  ENTITY Design_characteristic_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- design_characteristic_occurrence

  ENTITY Design_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- design_requirement_occurrence

  ENTITY Ee_product_definition_based_constraint_occurrence
    SUPERTYPE OF (shape_and_ee_product_definition_based_constraint_occurrence)
    SUBTYPE OF (Constraint_occurrence);
      constraining_part : product_view_definition;
  END_ENTITY; -- ee_product_definition_based_constraint_occurrence

  ENTITY Electrical_requirement_occurrence
    SUPERTYPE OF (material_electrical_conductivity_requirement_occurrence)
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- electrical_requirement_occurrence

  ENTITY Electromagnetic_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- electromagnetic_requirement_occurrence

  ENTITY Inspection_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- inspection_requirement_occurrence

  ENTITY Material_electrical_conductivity_requirement_occurrence
    SUBTYPE OF (Electrical_requirement_occurrence);
      electrical_conductivity_characteristic : material_conductivity_classification;
  END_ENTITY; -- material_electrical_conductivity_requirement_occurrence

  ENTITY Mechanical_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- mechanical_requirement_occurrence

  ENTITY Operational_requirement_occurrence_relationship;
      relationship_type               : relationship_operation;
      relating_requirement_occurrence : requirement_view_definition;
      related_requirement_occurrence  : requirement_view_definition;
    WHERE
      WR1 : relating_requirement_occurrence :<>: related_requirement_occurrence;
  END_ENTITY; -- operational_requirement_occurrence_relationship

  ENTITY Purpose_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- purpose_occurrence

  ENTITY Requirement_definition_property;
      associated_definition               : requirement_view_definition;
      required_analytical_representation  : OPTIONAL SET[1:?] OF analytical_model_application;
      required_functional_specification   : OPTIONAL SET[1:?] OF functional_specification;
      required_part                       : OPTIONAL SET[1:?] OF product;
      required_coordinated_characteristic : OPTIONAL SET[1:?] OF coordinated_characteristic;
      requirement_specification           : SET[1:?] OF specification_definition;
      required_characteristic             : OPTIONAL SET[1:?] OF characteristic;
      required_material                   : OPTIONAL material_identification;
      reference_clause                    : OPTIONAL structured_text_id_in_document;
    UNIQUE
      UR1 : associated_definition;
  END_ENTITY; -- Requirement_definition_property

  ENTITY Shape_and_ee_product_definition_based_constraint_occurrence
    SUBTYPE OF (Ee_product_definition_based_constraint_occurrence);
      constraining_shape : SET[1:?] OF geometric_model;
    WHERE
      WR1 : valid_constraining_shape(constraining_shape,
 SELF\ee_product_definition_based_constraint_occurrence.constraining_part);
  END_ENTITY; -- shape_and_ee_product_definition_based_constraint_occurrence

  ENTITY Test_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
    WHERE
      WR1 : SIZEOF(SELF\Requirement_definition_property.required_analytical_representation) + SIZEOF(SELF\Requirement_definition_property.required_functional_specification) > 0;
  END_ENTITY; -- test_requirement_occurrence

  ENTITY Thermal_requirement_occurrence
    SUBTYPE OF (Requirement_definition_property);
  END_ENTITY; -- thermal_requirement_occurrence

	SUBTYPE_CONSTRAINT Requirement_definition_property_subtypes FOR Requirement_definition_property;     
	    ((ONEOF (thermal_requirement_occurrence,
	 electromagnetic_requirement_occurrence,
	 electrical_requirement_occurrence,
	 mechanical_requirement_occurrence) ANDOR
	 ONEOF (design_requirement_occurrence,
	 inspection_requirement_occurrence,
	 test_requirement_occurrence,
	 purpose_occurrence,
	 constraint_occurrence,
	 design_characteristic_occurrence)));
	END_SUBTYPE_CONSTRAINT;

FUNCTION get_requirement_definition_property
  (ra : requirement_assignment;
  req_type : STRING) : requirement_definition_property;
  LOCAL
    requirements : SET[0:?] OF requirement_definition_property;
  END_LOCAL;
	requirements := USEDIN (ra.assigned_requirement, 'REQUIREMENT_DECOMPOSITION.' + 'REQUIREMENT_DEFINTION_PROPERTY.ASSOCIATED_DEFINITION') ;
	REPEAT i := 1 to SIZEOF(requirements) by 1;
	  IF (requirements[i] IN TYPEOF (req_type)) THEN
	  	RETURN (requirements[i]);
	  END_IF;
	END_REPEAT;
	RETURN (?);
END_FUNCTION;

  FUNCTION valid_constraining_shape(
    sd   : SET OF geometric_model ;
    eepd : product_view_definition
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION; -- valid_constraining_shape

END_SCHEMA; -- Requirement_decomposition_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Sequential_laminate_assembly_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Sequential laminate assembly design - EXPRESS ARM
*)
SCHEMA Sequential_laminate_assembly_design_arm;

USE FROM Assembly_module_with_interconnect_component_arm;

USE FROM Component_feature_arm;

USE FROM Layered_interconnect_module_design_arm;

  ENTITY Interconnect_module_component_stratum_based_terminal
    SUBTYPE OF (Interconnect_module_component_terminal);
      SELF\component_feature.definition : interconnect_module_stratum_based_terminal;
  END_ENTITY; -- interconnect_module_component_stratum_based_terminal

  ENTITY Interconnect_module_product_assembly_view_fabrication_joint;
      joined_terminal : SET[1:?] OF interconnect_module_component_stratum_based_terminal;
  END_ENTITY; -- interconnect_module_product_assembly_view_fabrication_joint

  ENTITY Interconnect_module_stratum_based_terminal
    SUBTYPE OF (Interconnect_module_terminal);
    WHERE
      WR1 : SIZEOF(QUERY(imtscr <* USEDIN(SELF,
 'AP210_ARM.' + 'INTERCONNECT_MODULE_TERMINAL_SURFACE_CONSTITUENT_RELATIONSHIP.' + 'RELATED_SHAPE_ELEMENT') | NOT (SIZEOF(['AP210_ARM.' + 'INTERCONNECT_MODULE_PRIMARY_SURFACE',
 'AP210_ARM.' + 'INTERCONNECT_MODULE_SECONDARY_SURFACE'] * TYPEOF(imtscr.relating)) = 1))) = 0;
      WR2 : SIZEOF(USEDIN(SELF,
 'AP210_ARM.' + 'INTERCONNECT_MODULE_TERMINAL_SURFACE_CONSTITUENT_RELATIONSHIP.' + 'RELATED_SHAPE_ELEMENT')) = 1;
 (** Need to rewrite rule, since we removed inverse part_feature.design_view_definition_component_feature
      WR3 : SIZEOF(['AP210_ARM.LAND',
 'AP210_ARM.NON_FUNCTIONAL_LAND'] * TYPEOF(SELF\part_feature.design_view_definition_component_feature)) = 1; *)
  END_ENTITY; -- interconnect_module_stratum_based_terminal

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered shape - EXPRESS ARM
*)

SCHEMA Layered_shape_arm;

USE FROM Basic_geometry_arm;

  ENTITY Detailed_geometric_model_element_relationship;
    item_1: detailed_geometric_model_element;
    item_2: detailed_geometric_model_element;
   WHERE 
    WR1: item_1 <> item_2;
  END_ENTITY;

  ENTITY Feature_shape_definition
    SUBTYPE OF (Geometric_model);
  END_ENTITY; -- feature_shape_definition

  ENTITY Geometric_model_relationship
    ABSTRACT SUPERTYPE
   SUBTYPE OF (representation_relationship);
      SELF\representation_relationship.rep_1 : geometric_model;
      SELF\representation_relationship.rep_2 : geometric_model;
    WHERE
      WR1 : rep_1 <> rep_2;
  END_ENTITY; -- Geometric_model_relationship

  ENTITY Shape_item_relationship
    SUBTYPE OF (Detailed_geometric_model_element_relationship, Representation_item);
  END_ENTITY;

 ENTITY Vector
    SUBTYPE OF (Detailed_geometric_model_element);
      orientation: direction;
      magnitude: length_measure;
    WHERE
      WR1 : magnitude >= 0.0 ;
 END_ENTITY; -- Vector

END_SCHEMA; -- Layered_shape_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_2d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered 2d shape - EXPRESS ARM
*)

SCHEMA Layered_2d_shape_arm;

USE FROM Layered_shape_arm;

  TYPE axis_placement_or_cto2d = SELECT
    (axis_placement,
     cartesian_transformation_2d);
  END_TYPE; -- axis_placement_or_cto2d

  ENTITY Axis_placement_2d
    SUBTYPE OF (Axis_placement);
  END_ENTITY; -- axis_placement_2d

  ENTITY Planar_projected_shape
    SUBTYPE OF (planar_shape,
 feature_shape_definition);
  END_ENTITY; -- planar_projected_shape

  ENTITY Planar_shape
    ABSTRACT SUPERTYPE OF(Planar_projected_shape) 
    SUBTYPE OF (Geometric_model);
    WHERE
      WR1 : SELF\geometric_model.context_of_items.dimension_count = 2;
  END_ENTITY; -- planar_shape

  ENTITY Reference_geometric_representation_relationship
    SUBTYPE OF (Geometric_model_relationship);
      related_feature_shape_placement : OPTIONAL axis_placement_or_cto2d;
      SELF\Geometric_model_relationship.rep_1 RENAMED related_feature_shape   : feature_shape_definition;
      SELF\Geometric_model_relationship.rep_2 RENAMED resultant_feature_shape : feature_shape_definition;
    WHERE
      WR1 : EXISTS(related_feature_shape_placement) OR (related_feature_shape.context_of_items :=: resultant_feature_shape.context_of_items);
(** TODO For Tom - convert WR3 into a global rule in Assembly_module_design 
      WR3 : NOT ((SIZEOF(['AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_3D_SHAPE'] * TYPEOF(related_feature_shape)) = 1) AND ('AP210_ARM.ASSEMBLY_MODULE' IN TYPEOF(related_feature_shape.shape_characterized_physical_unit))) OR NOT EXISTS(related_feature_shape_placement);
*) 
(** TODO For Tom - convert WR4 into a global rule in Interconnect_module_design 
      WR4 : NOT ((SIZEOF(['AP210_ARM.PHYSICAL_UNIT_PLANAR_SHAPE',
 'AP210_ARM.PHYSICAL_UNIT_3D_SHAPE'] * TYPEOF(related_feature_shape)) = 1) AND ('AP210_ARM.INTERCONNECT_MODULE' IN TYPEOF(related_feature_shape.shape_characterized_physical_unit))) OR NOT EXISTS(related_feature_shape_placement);
*) 
  END_ENTITY; -- reference_geometric_representation_relationship

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_3d_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered 3d shape - EXPRESS ARM
*)

SCHEMA Layered_3d_shape_arm;

USE FROM Advanced_boundary_representation_arm;

USE FROM Curve_swept_solid_arm;

USE FROM Geometrically_bounded_surface_arm;

USE FROM Layered_2d_shape_arm;

	SUBTYPE_CONSTRAINT geometric_representation_relationship_subtypes FOR Geometric_model_relationship;     
		(ONEOF (shape_definition_3d_intersection,
		 shape_definition_3d_plane_projection 
		 ));    
	END_SUBTYPE_CONSTRAINT;

	TYPE three_dimensional_shape = SELECT
		(Advanced_brep_shape_representation,
		Curve_swept_solid,
	 	Geometrically_bounded_surface_shape_representation);
	END_TYPE;

  ENTITY Axis_placement_3d
    SUBTYPE OF (Axis_placement);
  END_ENTITY; -- axis_placement_3d

  ENTITY Shape_definition_3d_intersection
    SUBTYPE OF (Geometric_model_relationship);
      orientation_intersection_plane : axis_placement_3d;
      planar_shape_origin            : axis_placement_2d;
      SELF\Geometric_model_relationship.rep_1 RENAMED surface_intersection_result : planar_shape;
      SELF\Geometric_model_relationship.rep_2 RENAMED projected_volume            : geometric_model;
    WHERE
      WR1 : NOT ('AP210_ARM.PLANAR_SHAPE' IN TYPEOF(projected_volume));
  END_ENTITY; -- shape_definition_3d_intersection

  ENTITY Shape_definition_3d_plane_projection
    SUBTYPE OF (Geometric_model_relationship);
      viewing_plane       : axis_placement_3d;
      planar_shape_origin : axis_placement_2d;
      SELF\Geometric_model_relationship.rep_1 RENAMED surface_projection_result : planar_shape;
      SELF\Geometric_model_relationship.rep_2 RENAMED projected_volume          : geometric_model;
    WHERE
      WR1 : NOT ('AP210_ARM.PLANAR_SHAPE' IN TYPEOF(projected_volume));
  END_ENTITY; -- shape_definition_3d_plane_projection

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Signal_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Signal - EXPRESS ARM
*)

SCHEMA Signal_arm;

USE FROM External_item_identification_assignment_arm;

USE FROM Extended_measure_representation_arm;

 	TYPE s_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Composite_signal_property_relationship,
		Signal_property,
		Signal);
	END_TYPE;

  ENTITY Composite_signal_property
    SUBTYPE OF (signal_property);
    INVERSE
      signal_property_structure : SET[1:?] OF composite_signal_property_relationship FOR composition;
  END_ENTITY; -- composite_signal_property

  ENTITY Composite_signal_property_relationship;
      composition                        	: composite_signal_property;
      signal_property_structural_element 	: signal_property;
    INVERSE
      aggregation_operation								: External_source_identification FOR item;
  END_ENTITY; -- composite_signal_property_relationship

  ENTITY Signal;
    INVERSE
      signal_category	: External_source_identification FOR item;
  END_ENTITY; -- signal

  ENTITY Signal_property
    SUPERTYPE OF (composite_signal_property);
      signal_property_representation 	: value_list;
      characterized_signal           	: signal;
    INVERSE
      signal_property_category				: External_source_identification FOR item;
  END_ENTITY; -- signal_property

END_SCHEMA; -- Signal_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_with_design_intend_modifications_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module with design intend modifications - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_with_design_intend_modifications_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Assembly_component_placement_requirements_arm;

	TYPE design_intent_modification_or_material_removal_component = SELECT 
		(design_intent_modification,
		material_removal_laminate_component);
	END_TYPE;

	TYPE limwdim_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Electrical_isolation_removal_structure,
		thermal_isolation_removal_structure_or_template);
	END_TYPE; 

	TYPE limwdim_restriction_basis_item = EXTENSIBLE SELECT BASED_ON restriction_basis_item WITH 
	   (stratum_concept,
	   stratum);
	END_TYPE; 

 	TYPE sf_thermal_isolation_removal_structure_or_template = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON thermal_isolation_removal_structure_or_template WITH  
		(thermal_isolation_removal_structure);
  END_TYPE; -- thermal_isolation_removal_structure_or_template

  ENTITY Design_intent_modification
    SUPERTYPE OF (ONEOF (material_removal_feature,
 material_addition_feature,
 material_shape_modification));
      design_intent            : stratum_feature_or_stratum_feature_template_component;
      modification_causal_item : restriction_basis_item;
  END_ENTITY; -- design_intent_modification

  ENTITY Design_intent_modification_sequence;
      precedent_modification  : design_intent_modification_or_material_removal_component;
      subsequent_modification : design_intent_modification_or_material_removal_component;
    UNIQUE
      UR1 : precedent_modification,
 subsequent_modification;
  END_ENTITY; -- design_intent_modification_sequence

  ENTITY Electrical_isolation_removal_structure
    SUBTYPE OF (Filled_area_material_removal_structure);
(** Need a WR to constraint the cardinality    
      electrical_isolation_spacing_requirement : Requirement_definition_property;
*)      
  END_ENTITY; -- electrical_isolation_removal_structure

  ENTITY Filled_area_material_removal_structure
    ABSTRACT SUPERTYPE
    SUBTYPE OF (Material_removal_feature);
      SELF\design_intent_modification.design_intent : conductive_filled_area;
  END_ENTITY; -- filled_area_material_removal_structure

  ENTITY Material_addition_feature
    SUBTYPE OF (Design_intent_modification);
      material_addition_shape : material_addition_feature_template;
  END_ENTITY; -- material_addition_feature

  ENTITY Material_removal_feature
    SUPERTYPE OF (filled_area_material_removal_structure)
    SUBTYPE OF (Design_intent_modification);
      material_removal_shape : material_removal_feature_template;
  END_ENTITY; -- material_removal_feature

  ENTITY Material_shape_modification
    SUBTYPE OF (Design_intent_modification);
  END_ENTITY; -- material_shape_modification

  ENTITY Thermal_isolation_removal_structure
    SUBTYPE OF (Filled_area_material_removal_structure);
(** I think this is inverse is lost after recent changes    
    INVERSE
      thermal_isolation_spacing_requirement : thermal_isolation_requirement FOR resulting_structure;
*)      
  END_ENTITY; -- thermal_isolation_removal_structure

END_SCHEMA; -- Layered_interconnect_module_with_design_intend_modifications_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Stratum_non_planar_shape_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Stratum non planar shape - EXPRESS ARM
*)

SCHEMA Stratum_non_planar_shape_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Manifold_surface_arm;

  TYPE stratum_surface_shape_select = SELECT
    (stratum_surface_shape,
     stratum_average_surface_shape);
  END_TYPE; -- stratum_surface_shape_select

  ENTITY Stratum_average_surface_shape
    SUBTYPE OF (Manifold_surface_shape_representation);
      of_surface : stratum_average_surface;
    UNIQUE
    	UR1 : of_surface;  
  END_ENTITY; -- stratum_average_surface_shape

  ENTITY Stratum_feature_non_planar_2d_shape
    SUBTYPE OF (Manifold_surface_shape_representation);
      represented_stratum_feature : stratum_feature;
  END_ENTITY; -- stratum_feature_non_planar_2d_shape

  ENTITY Stratum_feature_shape_stratum_average_surface_shape_relationship;
      of_stratum_feature_shape         : stratum_feature_non_planar_2d_shape;
      of_stratum_average_surface_shape : stratum_average_surface_shape;
  END_ENTITY; -- stratum_feature_shape_stratum_average_surface_shape_relationship

  ENTITY Stratum_feature_shape_stratum_surface_shape_relationship;
      of_stratum_feature_shape : stratum_feature_non_planar_2d_shape;
      of_stratum_surface_shape : stratum_surface_shape;
  END_ENTITY; -- stratum_feature_shape_stratum_surface_shape_relationship
 
   ENTITY Stratum_surface_shape
    SUBTYPE OF (Manifold_surface_shape_representation);
      of_surface : stratum_surface;
    UNIQUE
    	UR1 : of_surface;  
  END_ENTITY; -- stratum_surface_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_2d_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module 2d design - EXPRESS ARM
*)
SCHEMA Layered_interconnect_module_2d_design_arm;

USE FROM Layered_interconnect_module_design_arm;

USE FROM Physical_unit_2d_shape_arm;

  TYPE stratum_feature_planar_representation_select = SELECT
    (stratum_feature_styled_area_representation,
     stratum_feature_planar_shape);
  END_TYPE; -- stratum_feature_planar_representation_select

  ENTITY Stratum_feature_in_stratum_planar_position;
      stratum_shape  : stratum_planar_shape;
      transformation : axis_placement_2d;
      feature_shape  : stratum_feature_planar_representation_select;
  END_ENTITY; -- stratum_feature_in_stratum_planar_position

  ENTITY Stratum_feature_planar_shape
    SUBTYPE OF (planar_projected_shape);
      represented_stratum_feature : stratum_feature;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- stratum_feature_planar_shape

  ENTITY Stratum_feature_styled_area_representation;
      derived_planar_shape             : OPTIONAL SET[1:?] OF stratum_feature_planar_shape;
      shape_styled_area_representation : styled_area_representation;
      represented_stratum_feature      : stratum_feature;
  END_ENTITY; -- stratum_feature_styled_area_representation

  ENTITY Stratum_interconnect_module_planar_position;
      stratum_component         : interconnect_module_stratum_assembly_relationship;
      stratum_shape             : stratum_planar_shape;
      interconnect_module_shape : physical_unit_planar_shape;
      transformation            : axis_placement_2d;
   UNIQUE
   	UR1 : stratum_component;
  END_ENTITY; -- stratum_interconnect_module_planar_position

  ENTITY Stratum_planar_shape
    SUBTYPE OF (planar_projected_shape);
      shape_characterized_stratum : stratum;
    UNIQUE
    	UR1 : shape_characterized_stratum;
		WHERE
			WR1 : (SIZEOF(USEDIN(SELF,
 'LAYERED_2D_SHAPE_ARM.' + 'REFERENCE_GEOMETRIC_REPRESENTATION_RELATIONSHIP.' + 'RELATED_FEATURE_SHAPE')) = 0);       
  END_ENTITY; -- stratum_planar_shape

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Layered_interconnect_module_3d_design_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Layered interconnect module 3d design - EXPRESS ARM
*)

SCHEMA Layered_interconnect_module_3d_design_arm;

USE FROM Stratum_non_planar_shape_arm;

USE FROM Physical_unit_3d_shape_arm;

  TYPE stratum_feature_3d_shape_select = SELECT
    (stratum_feature_non_planar_2d_shape,
     stratum_feature_3d_shape);
  END_TYPE; -- stratum_feature_3d_shape_select

  ENTITY Stratum_3d_shape
    SUBTYPE OF (Feature_shape_definition);
      shape_characterized_stratum : stratum;
    WHERE
      WR1 : NOT ('AP210_ARM.PLANAR_SHAPE' IN TYPEOF(SELF));
  END_ENTITY; -- stratum_3d_shape

  ENTITY Stratum_feature_3d_shape
    SUBTYPE OF (Feature_shape_definition);
      represented_stratum_feature : stratum_feature;
  END_ENTITY; -- stratum_feature_3d_shape

  ENTITY Stratum_feature_in_stratum_3d_position;
      stratum_shape  : stratum_3d_shape;
      transformation : axis_placement_3d;
      feature_shape  : stratum_feature_3d_shape_select;
  END_ENTITY; -- stratum_feature_in_stratum_3d_position

  ENTITY Stratum_interconnect_module_3d_position;
      stratum_component         : interconnect_module_stratum_assembly_relationship;
      stratum_shape             : stratum_3d_shape;
      interconnect_module_shape : physical_unit_3d_shape;
      transformation            : axis_placement_3d;
   UNIQUE
   	UR1 : stratum_component;
  END_ENTITY; -- stratum_interconnect_module_3d_position

  ENTITY Stratum_surface_in_stratum_3d_position;
      stratum_shape  : stratum_3d_shape;
      transformation : axis_placement_3d;
      surface_shape  : stratum_surface_shape_select;
  END_ENTITY; -- stratum_surface_in_stratum_3d_position

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Styled_curve_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Styled curve - EXPRESS ARM
*)

SCHEMA Styled_curve_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Basic_curve_arm;

  TYPE curve_font_or_scaled_curve_font_select = SELECT
    (curve_style_font_and_scaling,
     curve_style_font_select);
  END_TYPE; -- curve_font_or_scaled_curve_font_select

  TYPE curve_style_font_select = SELECT
    (solid_curve,
     externally_defined_curve_font,
     curve_style_font);
  END_TYPE; -- curve_style_font_select
  
  TYPE extend_or_chord_2_extend_or_truncate_or_round = ENUMERATION OF
    (truncate,
     chord_2_extend,
     round,
     extend);
  END_TYPE; -- extend_or_chord_2_extend_or_truncate_or_round

  TYPE extend_or_truncate = ENUMERATION OF
    (truncate,
     extend);
  END_TYPE; -- extend_or_truncate

  TYPE square_or_round = ENUMERATION OF
    (square,
     round);
  END_TYPE; -- square_or_round

	TYPE styled_area_representation = 
		EXTENSIBLE GENERIC_ENTITY SELECT (styled_curve_occurrence);
	END_TYPE;

  ENTITY Curve_style;
      name              : STRING;
      corner_style      : extend_or_chord_2_extend_or_truncate_or_round;
      curve_width       : length_data_element;
      curve_font        : OPTIONAL curve_font_or_scaled_curve_font_select;
      end_extension     : extend_or_truncate;
      end_style         : square_or_round;
      width_uncertainty : length_data_element;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- curve_style

  ENTITY Curve_style_font;
  END_ENTITY; -- curve_style_font

  ENTITY Curve_style_font_and_scaling;
      name               : STRING;
      curve_font         : curve_style_font_select;
      curve_font_scaling : INTEGER; -- positive_ratio_measure;
    UNIQUE
      UR1 : name;
  END_ENTITY; -- curve_style_font_and_scaling

  ENTITY Externally_defined_curve_font;
  END_ENTITY; -- externally_defined_curve_font

  ENTITY Solid_curve;
  END_ENTITY; -- solid_curve

  ENTITY Styled_curve_occurrence;
      styled_curve   : curve;
      of_curve_style : curve_style;
  END_ENTITY; -- styled_curve_occurrence

END_SCHEMA; -- Styled_curve_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Styled_text_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Styled text - EXPRESS ARM
*)

SCHEMA Styled_text_arm;

USE FROM Document_definition_arm;

USE FROM Elemental_geometric_shape_arm;
 
  TYPE font_select = SELECT
    (registered_font,
     font_definition);
  END_TYPE; -- font_select

  ENTITY Font_definition;
  END_ENTITY; -- font_definition

  ENTITY Registered_font;
      registration_document : document_definition;
      font_code             : STRING;
    UNIQUE
      UR1 : font_code,
 registration_document;
  END_ENTITY; -- registered_font

  ENTITY Styled_text
    SUBTYPE OF (Detailed_geometric_model_element);
      text_font : font_select;
  END_ENTITY; -- styled_text

END_SCHEMA; -- Styled_text_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Curve_swept_solid_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Curve swept solid - EXPRESS ARM 
(* UNDER DEVELOPMENT *)
*) -- added ABF

SCHEMA Curve_swept_solid_arm;

USE FROM Elemental_geometric_shape_arm;    --  ISO/TS 10303-1004

ENTITY Curve_swept_solid
   SUBTYPE OF (Geometric_model);
END_ENTITY; -- curve_swept_solid

END_SCHEMA; -- Curve_swept_solid_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Ap210_product_data_management_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 product data management - EXPRESS ARM
*)

SCHEMA AP210_product_data_management_arm;

USE FROM Activity_arm;    -- ISO/TS 10303-1047

USE FROM Alias_identification_arm;

USE FROM Approval_arm;    -- ISO/TS 10303-1012

USE FROM Certification_arm;    -- ISO/TS 10303-1044

USE FROM Class_arm;    -- ISO/TS 10303-1070

USE FROM Classification_assignment_arm;    -- ISO/TS 10303-1114

USE FROM Configuration_effectivity_arm;    -- ISO/TS 10303-1058

USE FROM Contract_arm;    -- ISO/TS 10303-1062

USE FROM Date_time_assignment_arm;    -- ISO/TS 10303-1014

USE FROM Document_assignment_arm;    -- ISO/TS 10303-1122

USE FROM Document_structure_arm;    -- ISO/TS 10303-1124

USE FROM Effectivity_application_arm;    -- ISO/TS 10303-1059

USE FROM Event_assignment_arm;    -- ISO/TS 10303-1364

USE FROM External_class_arm;    -- ISO/TS 10303-1275

USE FROM External_item_identification_assignment_arm;    -- ISO/TS 10303-1128

USE FROM File_identification_arm;    -- ISO/TS 10303-1127

USE FROM Independent_property_representation_arm;    -- ISO/TS 10303-1038 ??

USE FROM Multi_linguism_arm;    -- ISO/TS 10303-1105

USE FROM Pdm_material_aspects_arm;

USE FROM Person_organization_assignment_arm;    -- ISO/TS 10303-1013

USE FROM Process_property_assignment_arm;    -- ISO/TS 10303-1040 ??

USE FROM Product_identification_arm;    -- ISO/TS 10303-1017

USE FROM Part_occurrence_arm;  -- ISO/TS 10303-1063

USE FROM Plib_class_reference_arm;

USE FROM Product_replacement_arm;    -- ISO/TS 10303-1046

USE FROM Product_view_definition_arm;    -- ISO/TS 10303-1019

USE FROM Project_arm;    -- ISO/TS 10303-1061

USE FROM Property_assignment_arm;    -- ISO/TS 10303-1030 ??

USE FROM Requirement_assignment_arm;

USE FROM Requirement_view_definition_relationship_arm; -- ISO/TS 10303-1142

USE FROM Security_classification_arm;    -- ISO/TS 10303-1015

USE FROM Shape_property_assignment_arm;  -- ISO/TS 10303-1032

USE FROM Work_order_arm;    -- ISO/TS 10303-1043

-- AP210 specific use froms

USE FROM Physical_unit_design_view_arm;

TYPE pdm_activity_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON activity_item WITH 
   (Item_usage_effectivity, 
    Product_version, 
    Product_view_definition, 
    View_definition_relationship);
END_TYPE; 

TYPE pdm_affected_item_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON affected_item_select WITH 
   (Assigned_property, 
    Product_version, 
    Product_view_definition, 
    View_definition_relationship,
    Work_request);
END_TYPE; 

TYPE pdm_approval_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON approval_item WITH 
   (Activity, 
    Applied_activity_assignment, 
    Item_usage_effectivity, 
    Work_request);
END_TYPE; 

TYPE pdm_assigned_name_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON assigned_name_select WITH 
   (product,
   product_view_definition);
END_TYPE; 

TYPE ap210_approval_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON approval_item WITH 
   (certification,
   document_definition,
   effectivity,
   independent_property_relationship, --model_parameter_relationship,
   product_configuration,
   product_version,
   product_view_definition,
   requirement_assignment,
   security_classification,
   supplied_part_relationship,
   work_order,
   work_request);
END_TYPE; --ap210_approval_item


TYPE pdm_certification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON certification_item WITH 
   (Alternate_product_relationship,
   Product_version,
   Product_version_relationship);
END_TYPE; 

TYPE pdm_classification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON classification_item WITH 
   (Activity, 
    Activity_method, 
    Activity_method_assignment, 
    Activity_property, 
    Activity_relationship, 
    Address, 
    Address_assignment, 
    Affected_items_assignment, 
    Alternate_product_relationship, 
    Applied_activity_assignment, 
    Approval, 
    Approval_assignment, 
    Approval_relationship, 
    Approval_status, 
    Approving_person_organization, 
    Assembly_relationship_substitution, 
    Assigned_property, 
    Attribute_translation_assignment, 
    Calendar_date, 
    Certification, 
    Certification_assignment, 
    Class, 
    Context_dependent_unit, 
    Contract, 
    Contract_assignment, 
    Conversion_based_unit, 
    Date_or_date_time_assignment, 
    Date_time, 
    Derived_unit, 
    Directed_activity, 
    Document_assignment, 
    Effectivity, 
    Event, 
    Event_assignment, 
    External_source_identification, 
    File, 
    File_relationship, 
    Identification_assignment, 
    Independent_property, 
    Independent_property_relationship, 
    Independent_property_representation, 
    Language, 
    Numerical_item_with_unit, 
    Organization, 
    Organization_or_person_in_organization_assignment, 
    Organization_relationship, 
    Person, 
    Product, 
    Product_category, 
    Product_concept, 
    Product_configuration, 
    Product_version, 
    Product_version_relationship, 
    Product_view_definition, 
    Project, 
    Project_assignment, 
    Project_relationship, 
    Representation, 
    Representation_context, 
    Representation_item, 
    Security_classification, 
    Security_classification_assignment, 
    String_representation_item, 
    Uncertainty_with_unit, 
    Value_with_unit, 
    View_definition_context, 
    View_definition_relationship, 
    Work_order, 
    Work_request, 
    Work_request_status);
END_TYPE; 

TYPE pdm_contract_item = EXTENSIBLE SELECT BASED_ON contract_item WITH 
   (organization_or_person_in_organization_select,
   product_version,
   work_order);
END_TYPE; --ap210_contract_item

TYPE pdm_date_or_date_time_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON date_or_date_time_item WITH 
   (Activity, 
    Applied_activity_assignment, 
    Contract,
	Document_definition,
   	Product_view_definition,
	Security_classification,
   	Work_order,
    Work_request);
END_TYPE; 

TYPE pdm_documented_element_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON documented_element_select WITH 
   (Activity, 
    Activity_method, 
    External_item_identification,
    Material_identification,
    Product_category,
    Product_version_relationship, 
    Product_view_definition,
    Representation_item,
    Shape_element, 
    Shape_element_relationship, 
    Work_request);
END_TYPE; 

TYPE pdm_effectivity_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON effectivity_item WITH 
   (Product_version, 
    Product_view_definition, 
    View_definition_relationship);
END_TYPE; 

TYPE pdm_event_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON event_item WITH 
   (Project);
END_TYPE; 

TYPE pdm_external_class_assigned_name_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON assigned_name_select WITH 
   (External_class_library);
END_TYPE; 

TYPE pdm_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON identification_item WITH 
   (Material_identification,
    Organization,   
    Product,
    Product_category,
    Product_configuration,
    Product_concept,
    Product_version,
    Shape_element_relationship);
END_TYPE; 

TYPE pdm_organization_or_person_in_organization_item = SELECT BASED_ON organization_or_person_in_organization_item WITH 
   (Activity, 
	Alias_identification,
    Applied_activity_assignment, 
    Approval, 
    Certification,
    Contract, 
   	Document_definition,
   	Product,
    Product_configuration, 
    Product_version,
    Product_view_definition,
    Security_classification, 
   	Supplied_part_relationship,
   	Work_order,
    Work_request);
END_TYPE; 

TYPE pdm_project_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON project_item WITH 
   (Activity, 
    Product_concept);
END_TYPE; 

TYPE pdm_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
    (Assembly_item_number,
	Product_configuration,
    Product_view_definition,
    Product_version,
    Product);
END_TYPE; 

TYPE pdm_security_classification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON security_classification_item WITH 
   (Assembly_component_relationship,
	Document_definition,
   	Product_version,
   	Product_view_definition,
   	Promissory_usage);
END_TYPE; 

TYPE pdm_string_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON string_select WITH 
   (Approval, 
    Approval_relationship, 
    Approval_status, 
    Certification, 
    Contract, 
    Document_assignment, 
    External_item_identification, 
    File_relationship, 
    Organization_relationship, 
    Person_in_organization, 
    Product, 
    Product_category, 
    Product_version, 
    Product_view_definition, 
    Project, 
    Project_assignment, 
    Project_relationship, 
    View_definition_relationship);
END_TYPE; 

  ENTITY Assembly_alternate_product
    SUBTYPE OF (Alternate_product_relationship);
      basis_context : part_design_view;
  END_ENTITY; -- assembly_alternate_product

  ENTITY Test_select_product
    SUBTYPE OF (Alternate_product_relationship);
  END_ENTITY; -- test_select_product

  ENTITY Assembly_item_number;
      assembly_usage : SET[1:?] OF assembly_component_relationship; --part_occurrence_definition_relationship;
      item_number    : STRING; --ee_name;
    DERIVE
      assembly : part_design_view := assembly_usage[1].related_view;
      part     : product:= assembly_usage[1].relating_view\definition_based_product_occurrence.derived_from\product_view_definition.defined_version.of_product;
    UNIQUE
      ur1 : assembly,
 item_number;
    WHERE
      wr1 : SIZEOF(QUERY(au <* assembly_usage | NOT (au.relating_view\definition_based_product_occurrence.derived_from\product_view_definition.defined_version.of_product = part))) = 0;
      wr2 : SIZEOF(QUERY(au <* assembly_usage | NOT (au.related_view = assembly))) = 0;
  END_ENTITY; -- assembly_item_number

END_SCHEMA;  -- Product_data_management_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Requirement_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3124 - ISO/TS 10303-1233 Requirement assignment - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2345
*) 


SCHEMA Requirement_assignment_arm;

USE FROM Requirement_view_definition_arm;    -- ISO/TS 10303-1141


TYPE requirement_assignment_item = EXTENSIBLE SELECT;
END_TYPE; 

TYPE requirement_source_item = EXTENSIBLE SELECT;
END_TYPE; 

ENTITY Requirement_assignment;
  id : STRING;
  description : OPTIONAL STRING;
  assigned_requirement : Requirement_view_definition;
  assigned_to : requirement_assignment_item;
END_ENTITY;

ENTITY Requirement_source;
  id : STRING;
  description : OPTIONAL STRING;
  source : requirement_source_item;
  sourced_requirement : Requirement_view_definition;
END_ENTITY;

END_SCHEMA;  -- Requirement_assignment_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Requirement_identification_and_version_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3127 - ISO/TS 10303-1140 Requirement identification and version - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2348
*) 


SCHEMA Requirement_identification_and_version_arm;

USE FROM Identification_assignment_arm;    -- ISO/TS 10303-1021

USE FROM Product_identification_arm;    -- ISO/TS 10303-1017

USE FROM Product_version_arm;    -- ISO/TS 10303-1018

USE FROM Product_version_relationship_arm;    -- ISO/TS 10303-1020


TYPE requirement_identification_and_version_identification_item = SELECT BASED_ON identification_item WITH 
   (Requirement, 
    Requirement_version);
END_TYPE; 

ENTITY Requirement
  SUBTYPE OF (Product);
END_ENTITY;

ENTITY Requirement_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Requirement;
END_ENTITY;

ENTITY Requirement_version_relationship
  SUBTYPE OF (Product_version_relationship);
  SELF\Product_version_relationship.relating_version RENAMED predecessor : Requirement_version;
  SELF\Product_version_relationship.related_version RENAMED successor : Requirement_version;
END_ENTITY;

END_SCHEMA;  -- Requirement_identification_and_version_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Requirement_view_definition_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3133 - ISO/TS 10303-1141 Requirement view definition - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2354
*) 


SCHEMA Requirement_view_definition_arm;

USE FROM Identification_assignment_arm;    -- ISO/TS 10303-1021

USE FROM Product_view_definition_arm;    -- ISO/TS 10303-1019

USE FROM Requirement_identification_and_version_arm;    -- ISO/TS 10303-1140


TYPE requirement_view_definition_identification_item = SELECT BASED_ON identification_item WITH 
   (Requirement_view_definition);
END_TYPE; 

ENTITY Requirement_view_definition
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Requirement_version;
END_ENTITY;

END_SCHEMA;  -- Requirement_view_definition_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Requirement_view_definition_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3136 - ISO/TS 10303-1142 Requirement view definition relationship - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2357
*) 


SCHEMA Requirement_view_definition_relationship_arm;

USE FROM Product_view_definition_relationship_arm;    -- ISO/TS 10303-1041

USE FROM Requirement_view_definition_arm;    -- ISO/TS 10303-1141


ENTITY Requirement_collection_relationship
  SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view RENAMED collection : Requirement_view_definition;
  SELF\View_definition_relationship.related_view RENAMED member : Requirement_view_definition;
END_ENTITY;

ENTITY Tracing_relationship
  SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view RENAMED traces_from : Requirement_view_definition;
  SELF\View_definition_relationship.related_view RENAMED traces_to : Requirement_view_definition;
END_ENTITY;

END_SCHEMA;  -- Requirement_view_definition_relationship_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Derived_shape_element_arm.exp
   ------------------------------------------------------------
*)

(* 
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $  
ISO TC184/SC4/WG12 N2864 - ISO/TS 10303-1130 Derived shape element - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N1538
*) 


SCHEMA Derived_shape_element_arm;

USE FROM Construction_geometry_arm;    -- ISO/TS 10303-1131

USE FROM Shape_property_assignment_arm;    -- ISO/TS 10303-1032

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


ENTITY Derived_geometry;
  derived_from : SET[1:?] OF Shape_element;
  geometry : constructive_element_select;
  role : STRING;
END_ENTITY;

ENTITY Derived_shape_element
  SUBTYPE OF (Shape_element);
  derived_from : SET[1:?] OF Shape_element;
  role : STRING;
END_ENTITY;

ENTITY Offset_shape_element
  SUBTYPE OF (Derived_shape_element);
  offset : Value_with_unit;
END_ENTITY;

END_SCHEMA;  -- Derived_shape_element_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Elemental_geometric_shape_arm.exp
   ------------------------------------------------------------
*)

(* 
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO/TC184/SC4 WG12N2102 - ISO/TS 10303-1004 Elemental geometric shape - EXPRESS ARM 
*)
   
SCHEMA Elemental_geometric_shape_arm;
 
USE FROM Foundation_representation_arm;

USE FROM Value_with_unit_arm;	

TYPE cartesian_transformation = SELECT (Cartesian_transformation_2d, Cartesian_transformation_3d);
END_TYPE;

TYPE geometric_mapping_target = SELECT (Axis_placement, cartesian_transformation);
END_TYPE;

ENTITY Geometric_coordinate_space
SUBTYPE OF (Numerical_representation_context);
  dimension_count: INTEGER;
WHERE
WR1: dimension_count >0;
END_ENTITY;

ENTITY Geometric_model
SUBTYPE OF (Representation);
  version_id    : OPTIONAL STRING;
  model_extent  : OPTIONAL length_measure;
  SELF\Representation.context_of_items : Geometric_coordinate_space;
  SELF\Representation.items: SET[1:?] OF Detailed_geometric_model_element;
END_ENTITY;
   
ENTITY Detailed_geometric_model_element
ABSTRACT SUPERTYPE OF (ONEOF(Cartesian_point, Direction, Axis_placement, Cartesian_transformation_2d,
	Cartesian_transformation_3d))
SUBTYPE OF (Representation_item);
END_ENTITY;

ENTITY Cartesian_point
SUBTYPE OF (Detailed_geometric_model_element);
  coordinates: LIST[1:3] OF length_measure;
END_ENTITY;

ENTITY Direction
SUBTYPE OF (Detailed_geometric_model_element);
  coordinates: LIST[2:3] OF length_measure;  
END_ENTITY;

ENTITY Axis_placement
SUBTYPE OF (Detailed_geometric_model_element);
  origin: Cartesian_point;
  x_axis: Direction;
  y_axis: Direction;
DERIVE
  dim: INTEGER := SIZEOF(origin.coordinates);
WHERE
WR1: dim >1;
WR2: dim = SIZEOF(x_axis.coordinates);
WR3: dim = SIZEOF(y_axis.coordinates);
END_ENTITY;
   
ENTITY Cartesian_transformation_2d
SUBTYPE OF (Detailed_geometric_model_element);
   multiplication_matrix: ARRAY[1:2] OF Direction;
   translation: Cartesian_point;
WHERE
WR1: SIZEOF(multiplication_matrix[1]\Direction.coordinates)=2;
WR2: SIZEOF(multiplication_matrix[2]\Direction.coordinates)=2;
WR3: SIZEOF(translation.coordinates)=2;
END_ENTITY;

ENTITY Cartesian_transformation_3d
SUBTYPE OF (Detailed_geometric_model_element);
   multiplication_matrix: ARRAY[1:3] OF Direction;
   translation: Cartesian_point;
WHERE
WR1: SIZEOF(multiplication_matrix[1]\Direction.coordinates)=3;
WR2: SIZEOF(multiplication_matrix[2]\Direction.coordinates)=3;
WR3: SIZEOF(multiplication_matrix[3]\Direction.coordinates)=3;
WR4: SIZEOF(translation.coordinates)=3;
END_ENTITY;

ENTITY Axis_placement_mapping;
  source: Axis_placement;
  target: Axis_placement;
WHERE
WR1: source\Axis_placement.dim = target\Axis_placement.dim;
END_ENTITY;

ENTITY Axis_placement_transformation_mapping;
  source: Axis_placement;
  target: cartesian_transformation;
WHERE
WR1: source\Axis_placement.dim = SIZEOF(target.translation\Cartesian_point.coordinates);
END_ENTITY;

END_SCHEMA;














(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Measure_representation_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2968 - ISO/TS 10303-1118 Measure representation - EXPRESS ARM
*) 


SCHEMA Measure_representation_arm;

USE FROM Foundation_representation_arm;    -- ISO/TS 10303-1006

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


ENTITY Measure_item
  ABSTRACT SUPERTYPE 
  SUBTYPE OF (Representation_item);
WHERE
  WR1: SIZEOF(USEDIN(SELF, 'FOUNDATION_REPRESENTATION_ARM.REPRESENTATION.ITEMS'))>0;
END_ENTITY;

ENTITY Numerical_item_with_global_unit
  SUBTYPE OF (Measure_item);
  value_component : measure_value;
WHERE
  WR1: SIZEOF(QUERY(pvr <* QUERY ( r <* USEDIN(SELF, 'FOUNDATION_REPRESENTATION_ARM.REPRESENTATION.ITEMS')| 'MEASURE_REPRESENTATION_ARM.PROPERTY_VALUE_REPRESENTATION' IN TYPEOF(r)) | EXISTS(pvr.context_of_items.units) )) > 0;
END_ENTITY;

ENTITY Numerical_item_with_unit
  SUBTYPE OF (Measure_item, Value_with_unit);
END_ENTITY;

ENTITY Property_value_representation
  SUBTYPE OF (Representation);
  SELF\Representation.context_of_items : Numerical_representation_context;
END_ENTITY;

END_SCHEMA;  -- Measure_representation_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Shape_property_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2974 - ISO/TS 10303-1032 Shape property assignment - EXPRESS ARM
*)


SCHEMA Shape_property_assignment_arm; 

USE FROM Elemental_geometric_shape_arm;    -- ISO/TS 10303-1004

USE FROM External_model_arm;    -- ISO/TS 10303-1033

USE FROM Foundation_representation_arm;    -- ISO/TS 10303-1006

USE FROM Product_view_definition_arm;    -- ISO/TS 10303-1019

USE FROM Product_view_definition_relationship_arm;    -- ISO/TS 10303-1041


TYPE shape_dependent_select = SELECT
   (Item_shape, 
    Shape_element);
END_TYPE; 

TYPE shape_model = SELECT
   (External_geometric_model, 
    Geometric_model);
END_TYPE; 

TYPE shape_select = SELECT
   (Item_shape, 
    Shape_element, 
    Shape_element_relationship);
END_TYPE; 

TYPE shapeable_item = SELECT
   (Characterizable_object, 
    Product_view_definition, 
    View_definition_usage);
END_TYPE; 

ENTITY Characterizable_object;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Contextual_item_shape
  SUBTYPE OF (Item_shape);
  SELF\Item_shape.described_element : View_definition_usage;
DERIVE
  shaped_product : Product_view_definition := described_element\View_definition_relationship.related_view;
END_ENTITY;

ENTITY Item_shape;
  id : OPTIONAL STRING;
  description : OPTIONAL STRING;
  described_element : shapeable_item;
END_ENTITY;

ENTITY Shape_dependent_property_representation;
  characteristic_type : STRING;
  description : OPTIONAL STRING;
  described_element : shape_dependent_select;
  property_representation : Representation;
END_ENTITY;

ENTITY Shape_description_association;
  represented_characteristic : shape_select;
  representation : shape_model;
  role : OPTIONAL STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Shape_element;
  id : OPTIONAL STRING;
  element_name : STRING;
  description : OPTIONAL STRING;
  containing_shape : Item_shape;
END_ENTITY;

ENTITY Shape_element_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating : Shape_element;
  related : Shape_element;
END_ENTITY;

END_SCHEMA;  -- Shape_property_assignment_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Value_with_unit_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N2976 - ISO/TS 10303-1054 Value with unit - EXPRESS ARM
*) 


SCHEMA Value_with_unit_arm;


TYPE any_number_value = NUMBER;
END_TYPE; 

TYPE any_string_value = STRING;
END_TYPE; 

TYPE length_measure = REAL;
END_TYPE; 

TYPE measure_value = EXTENSIBLE SELECT
   (any_number_value, 
    any_string_value, 
    length_measure, 
    plane_angle_measure);
END_TYPE; 

TYPE plane_angle_measure = REAL;
END_TYPE; 

ENTITY Amount_of_substance_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Context_dependent_unit
  SUBTYPE OF (Unit);
WHERE
  WR1: EXISTS(SELF\Unit.name);
END_ENTITY;

ENTITY Conversion_based_unit
  SUBTYPE OF (Unit);
  conversion_factor : Value_with_unit;
WHERE
  WR1: EXISTS(SELF\Unit.name);
END_ENTITY;

ENTITY Derived_unit
  SUBTYPE OF (Unit);
  elements : SET[1:?] OF Derived_unit_element;
END_ENTITY;

ENTITY Derived_unit_element;
  base_unit : Unit;
  exponent : REAL;
END_ENTITY;

ENTITY Duration
  SUBTYPE OF (Value_with_unit);
WHERE
  WR1: 'VALUE_WITH_UNIT_ARM.' + 'TIME_UNIT' IN TYPEOF(SELF\Value_with_unit.unit);
END_ENTITY;

ENTITY Electric_current_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Length_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Luminous_intensity_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Mass_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Plane_angle_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Ratio_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Solid_angle_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Thermodynamic_temperature_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Time_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Uncertainty_with_unit
  SUBTYPE OF (Value_with_unit);
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Unit
  SUPERTYPE OF (ONEOF (Amount_of_substance_unit,
                       Electric_current_unit,
                       Length_unit,
                       Luminous_intensity_unit,
                       Mass_unit,
                       Plane_angle_unit,
                       Ratio_unit,
                       Solid_angle_unit,
                       Thermodynamic_temperature_unit,
                       Time_unit));
  name : STRING;
  si_unit : BOOLEAN;
END_ENTITY;

ENTITY Value_with_unit;
  unit : Unit;
  value_component : measure_value;
END_ENTITY;

END_SCHEMA;  -- Value_with_unit_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Classification_with_attributes_arm.exp
   ------------------------------------------------------------
*)

(* 
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO/TC184/SC4 WG12N2616 - ISO/TS 10303-1111 Classification_with_attributes - Express ARM 
   Supersedes ISO TC184/SC4/WG12N1763
*)


SCHEMA Classification_with_attributes_arm;

USE FROM Class_arm;

USE FROM Classification_assignment_arm;

USE FROM External_class_arm;

USE FROM Extended_measure_representation_arm;

USE FROM Plib_class_reference_arm;

USE FROM Part_and_version_identification_arm;

USE FROM Part_view_definition_arm;

TYPE classification_item_extended = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON classification_item WITH (
	Part, 
	Part_version,
	Part_view_definition) ;
END_TYPE;

TYPE classified_element_select = EXTENSIBLE GENERIC_ENTITY SELECT (
	Part, 
	Part_version,
	Part_view_definition) ;
END_TYPE;

TYPE external_class_select = SELECT(Plib_class_reference, External_class);
END_TYPE;

TYPE definable_objects = SELECT (
	Part, 
	Part_version, 
	Part_view_definition);
END_TYPE;

ENTITY Class_with_attributes
SUBTYPE OF (Class);
  version_id: OPTIONAL STRING;
  used_classification_system: OPTIONAL Classification_system;
INVERSE
  characterization_attributes: SET[0:?] OF Classification_attribute FOR characterized_class;
END_ENTITY;

ENTITY Class_hierarchy;
  super_class: Class_with_attributes;
  sub_class: Class_with_attributes;
END_ENTITY;

ENTITY Classification_association
SUBTYPE OF (Classification_assignment);
   SELF\Classification_assignment.assigned_class: Class_with_attributes;
   definitional: LOGICAL;
WHERE
WR1: SIZEOF(QUERY(it<* SELF\Classification_assignment.items |
     NOT('CLASSIFICATION_WITH_ATTRIBUTES_ARM.DEFINABLE_OBJECTS' IN TYPEOF(it)) AND definitional ))=0;
WR2: SIZEOF(QUERY(it<* SELF\Classification_assignment.items |
     NOT('CLASSIFICATION_WITH_ATTRIBUTES_ARM.CLASSIFIED_ELEMENT_SELECT' IN TYPEOF(it)) )) =0;
END_ENTITY;

ENTITY Classification_attribute;
   id: STRING;
   name: OPTIONAL STRING;
   description: OPTIONAL STRING;
   allowed_values: OPTIONAL SET[1:?] OF Measure_item;
   characterized_class: Class_with_attributes;
END_ENTITY;

ENTITY Classification_system;
  id: STRING;
  description: OPTIONAL STRING;
END_ENTITY;

ENTITY External_class_with_attributes
SUBTYPE OF (Class_with_attributes);
  source: external_class_select;
END_ENTITY;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Independent_property_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2964 - ISO/TS 10303-1036 Independent property - EXPRESS ARM
*) 


SCHEMA Independent_property_arm; 


ENTITY Independent_property;
  id : STRING;
  property_type : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Independent_property_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating : Independent_property;
  related : Independent_property;
END_ENTITY;

END_SCHEMA;  -- Independent_property_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Independent_property_representation_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2966 - ISO/TS 10303-1038 Independent property representation - EXPRESS ARM
*) 


SCHEMA Independent_property_representation_arm; 

USE FROM Foundation_representation_arm;    -- ISO/TS 10303-1006

USE FROM Independent_property_arm;    -- ISO/TS 10303-1036


ENTITY Independent_property_representation;
  description : OPTIONAL STRING;
  property : Independent_property;
  rep : Representation;
  role : OPTIONAL STRING;
END_ENTITY;

END_SCHEMA;  -- Independent_property_representation_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_identification_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2925 - ISO/TS 10303-1017 Product identification - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2524
*)


SCHEMA Product_identification_arm;

USE FROM Product_categorization_arm;    -- ISO/TS 10303-1016


ENTITY Product;
  id : STRING;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Product_category_assignment;
  category : Product_category;
  products : SET[1:?] OF Product;
END_ENTITY;

FUNCTION types_of_product
 (obj : Product) : SET OF STRING; 
 LOCAL
 	category_assignments: BAG OF Product_category_assignment;
 	categories: SET OF STRING:=[];
 	i: INTEGER;
 END_LOCAL;
 
 category_assignments := USEDIN(obj,'PRODUCT_IDENTIFICATION_ARM.' + 'PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS');
    
 REPEAT i := LOINDEX(category_assignments) TO HIINDEX(category_assignments) BY 1;
       categories := categories + category_assignments[i].category.name;
 END_REPEAT;
 
 RETURN(categories);
       END_FUNCTION; 

END_SCHEMA;  -- Product_identification_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Document_definition_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N3225 - ISO/TS 10303-1123 Document definition - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N1192
*) 


SCHEMA Document_definition_arm;

USE FROM Document_and_version_identification_arm;    -- ISO/TS 10303-1121

USE FROM External_item_identification_assignment_arm;    -- ISO/TS 10303-1128

USE FROM File_identification_arm;    -- ISO/TS 10303-1127

USE FROM Product_view_definition_arm;    -- ISO/TS 10303-1019


TYPE document_location_select = SELECT BASED_ON external_identification_item WITH 
   (Document_definition);
END_TYPE; 

ENTITY Digital_document_definition
  SUBTYPE OF (Document_definition);
  files : SET[0:?] OF Digital_file;
END_ENTITY;

ENTITY Document_definition
  SUPERTYPE OF (ONEOF (Digital_document_definition,
                       Physical_document_definition))
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.name RENAMED description : OPTIONAL STRING;
  SELF\Product_view_definition.defined_version RENAMED associated_document_version : Document_version;
END_ENTITY;

ENTITY Document_location_identification
  SUBTYPE OF (External_source_identification);
WHERE
  WR1: 'DOCUMENT_DEFINITION_ARM.DOCUMENT_DEFINITION' IN TYPEOF(SELF\External_source_identification.item);
END_ENTITY;

ENTITY Physical_document_definition
  SUBTYPE OF (Document_definition);
  components : SET[0:?] OF Hardcopy;
END_ENTITY;

RULE document_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( dd <* Product_view_definition | ( NOT ( 'DOCUMENT_DEFINITION_ARM.' + 'DOCUMENT_DEFINITION' IN TYPEOF (dd) ) ) AND ( 'DOCUMENT_DEFINITION_ARM.' + 'DOCUMENT_VERSION' IN TYPEOF ( dd.defined_version) ) ) ) =0;
END_RULE; 

END_SCHEMA;  -- Document_definition_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Document_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1189 - ISO/TS 10303-1122 Document assignment - EXPRESS ARM
*)


SCHEMA Document_assignment_arm;

USE FROM Document_and_version_identification_arm;    -- ISO/TS 10303-1121

USE FROM Document_definition_arm;    -- ISO/TS 10303-1123

USE FROM File_identification_arm;    -- ISO/TS 10303-1127

TYPE assigned_document_select = SELECT 
  (Document,
   Document_definition,
   Document_version,
   File);
END_TYPE;

TYPE documented_element_select = EXTENSIBLE SELECT ;
END_TYPE;

ENTITY Document_assignment;
  assigned_document : assigned_document_select;
  is_assigned_to : documented_element_select;
  role : STRING;
END_ENTITY;

ENTITY Partial_document_assignment
SUBTYPE OF (Document_assignment);
  document_portion : STRING;
END_ENTITY;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Construction_geometry_arm.exp
   ------------------------------------------------------------
*)

(*
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N2867 - ISO/TS 10303-1131 Construction geometry - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N1541
*) 


SCHEMA Construction_geometry_arm;

USE FROM Elemental_geometric_shape_arm;    -- ISO/TS 10303-1004

USE FROM Foundation_representation_arm;    -- ISO/TS 10303-1006


TYPE constructive_element_select = EXTENSIBLE GENERIC_ENTITY SELECT
   (Axis_placement, 
    Curve, 
    point_select, 
    Surface);
END_TYPE; 

TYPE constructive_geometry_select = SELECT
   (Constructive_geometry, 
    Geometric_model);
END_TYPE; 

TYPE point_select = EXTENSIBLE GENERIC_ENTITY SELECT
   (Cartesian_point, 
    Point_on_curve, 
    Point_on_surface);
END_TYPE; 

ENTITY Constructive_geometry
  SUBTYPE OF (Representation);
  SELF\Representation.context_of_items : Geometric_coordinate_space;
WHERE
  WR1: SIZEOF(SELF\Representation.items) = SIZEOF(QUERY (it <* SELF\Representation.items | 'CONSTRUCTION_GEOMETRY_ARM.CONSTRUCTIVE_ELEMENT_SELECT' IN TYPEOF(it)));
END_ENTITY;

ENTITY Constructive_geometry_association;
  auxiliary_geometry : Constructive_geometry;
  base_geometry : constructive_geometry_select;
  description : STRING;
WHERE
  WR1: auxiliary_geometry\Representation.context_of_items :=: base_geometry\Representation.context_of_items;
END_ENTITY;

ENTITY Curve
  SUBTYPE OF (Detailed_geometric_model_element);
END_ENTITY;

ENTITY Line
  SUBTYPE OF (Curve);
END_ENTITY;

ENTITY Measurement_path;
  defined_by : Curve;
  defined_in : Geometric_coordinate_space;
END_ENTITY;

ENTITY Plane
  SUBTYPE OF (Surface);
END_ENTITY;

ENTITY Point_on_curve
  SUBTYPE OF (Detailed_geometric_model_element);
  supporting_curve : Curve;
END_ENTITY;

ENTITY Point_on_surface
  SUBTYPE OF (Detailed_geometric_model_element);
  supporting_surface : Surface;
END_ENTITY;

ENTITY Surface
  SUBTYPE OF (Detailed_geometric_model_element);
END_ENTITY;

SUBTYPE_CONSTRAINT alternate_geometry_items FOR Detailed_geometric_model_element;
  ONEOF (Cartesian_point,
         Curve,
         Point_on_curve,
         Point_on_surface,
         Surface);
END_SUBTYPE_CONSTRAINT;

END_SCHEMA;  -- Construction_geometry_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Extended_measure_representation_arm.exp
   ------------------------------------------------------------
*)

(*
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N3231 - ISO/TS 10303-1106 Extended measure representation - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N3046
*) 


SCHEMA Extended_measure_representation_arm;

USE FROM Measure_representation_arm;    -- ISO/TS 10303-1118

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


TYPE limit_qualifier_list = ENUMERATION OF 
   (minimum,
    maximum);
END_TYPE; 

ENTITY Measure_item_with_precision
  SUBTYPE OF (Measure_item);
  significant_digits : INTEGER;
END_ENTITY;

ENTITY Qualified_property_value_representation
  SUBTYPE OF (Property_value_representation);
  value_determination : OPTIONAL STRING;
  qualifier : OPTIONAL STRING;
END_ENTITY;

ENTITY Value_limit
  SUBTYPE OF (Measure_item);
  limit_qualifier : limit_qualifier_list;
  limit : Value_with_unit;
END_ENTITY;

ENTITY Value_limit_with_global_unit
  SUBTYPE OF (Measure_item);
  limit : Numerical_item_with_global_unit;
  limit_qualifier : limit_qualifier_list;
END_ENTITY;

ENTITY Value_list
  SUBTYPE OF (Measure_item);
  values : LIST[1:?] OF Measure_item;
END_ENTITY;

ENTITY Value_range
  SUBTYPE OF (Measure_item);
  lower_limit : Numerical_item_with_unit;
  upper_limit : Numerical_item_with_unit;
END_ENTITY;

ENTITY Value_range_with_global_unit
  SUBTYPE OF (Measure_item);
  lower_limit : Numerical_item_with_global_unit;
  upper_limit : Numerical_item_with_global_unit;
END_ENTITY;

ENTITY Value_set
  SUBTYPE OF (Measure_item);
  values : SET[1:?] OF Measure_item;
END_ENTITY;

ENTITY Value_with_tolerances
  SUBTYPE OF (Measure_item);
  item_value : Numerical_item_with_unit;
  lower_limit : REAL;
  upper_limit : REAL;
END_ENTITY;

SUBTYPE_CONSTRAINT alternate_measure_items FOR Measure_item;
  ABSTRACT SUPERTYPE;
  ONEOF (Measure_item_with_precision,
         Numerical_item_with_global_unit,
         Numerical_item_with_unit,
         Value_limit,
         Value_limit_with_global_unit,
         Value_list,
         Value_range,
         Value_range_with_global_unit,
         Value_set,
         Value_with_tolerances);
END_SUBTYPE_CONSTRAINT;

END_SCHEMA;  -- Extended_measure_representation_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Identification_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1111 - ISO/TS 10303-1021 Identification assignment - EXPRESS ARM
*)
  
SCHEMA Identification_assignment_arm;

   
TYPE identification_item = EXTENSIBLE SELECT;
END_TYPE;

   
ENTITY Identification_assignment;
  identifier  : STRING;
  role        : STRING;
  description : OPTIONAL STRING;
  items       : SET [1:?] OF identification_item;
END_ENTITY;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Person_organization_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1090 - ISO/TS 10303-1013 Person organization assignment - EXPRESS ARM
*)
  
SCHEMA Person_organization_assignment_arm;

USE FROM Person_organization_arm; -- Person organization

TYPE organization_or_person_in_organization_item = EXTENSIBLE SELECT ;
END_TYPE;

ENTITY Organization_or_person_in_organization_assignment;
  assigned_entity : organization_or_person_in_organization_select;
  role            : STRING;
  items           : SET [1:?] OF organization_or_person_in_organization_item;
END_ENTITY;

   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_view_definition_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2939 - ISO/TS 10303-1041 Product view definition relationship - EXPRESS ARM
*)


SCHEMA Product_view_definition_relationship_arm;

USE FROM Product_view_definition_arm;    -- ISO/TS 10303-1019


ENTITY View_definition_relationship;
  id : OPTIONAL STRING;
  relation_type : OPTIONAL STRING;
  description : OPTIONAL STRING;
  relating_view : Product_view_definition;
  related_view : Product_view_definition;
END_ENTITY;

ENTITY View_definition_usage
  SUBTYPE OF (View_definition_relationship);
END_ENTITY;

END_SCHEMA;  -- Product_view_definition_relationship_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_view_definition_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N3220 - ISO/TS 10303-1023 Part view definition - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N2109
*) 


SCHEMA Part_view_definition_arm;

USE FROM Part_and_version_identification_arm;    -- ISO/TS 10303-1022

USE FROM Product_view_definition_arm;    -- ISO/TS 10303-1019


ENTITY Part_view_definition
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Part_version;
END_ENTITY;

RULE part_view_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( pvd <* Product_view_definition | ( NOT ( 'PART_VIEW_DEFINITION_ARM.' + 'PART_VIEW_DEFINITION' IN TYPEOF (pvd) ) ) AND ( 'PART_VIEW_DEFINITION_ARM.' + 'PART_VERSION' IN TYPEOF ( pvd.defined_version) ) ) ) =0 ;
END_RULE; 

END_SCHEMA;  -- Part_view_definition_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_occurrence_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Part occurrence - EXPRESS ARM
*)

SCHEMA Part_occurrence_arm;

USE FROM Assembly_structure_arm;

USE FROM Extended_measure_representation_arm;

USE FROM Measure_representation_arm;

USE FROM Part_view_definition_arm;

USE FROM Product_view_definition_relationship_arm;

USE FROM Value_with_unit_arm;

TYPE extended_value_with_unit = SELECT (
     Value_with_unit, 
     Value_limit, 
     Value_range);
END_TYPE;

TYPE part_occurrence_select = EXTENSIBLE SELECT(Definition_based_part_occurrence);
END_TYPE;

ENTITY Definition_based_part_occurrence
SUBTYPE OF (Definition_based_product_occurrence);
  SELF\Definition_based_product_occurrence.derived_from: Part_view_definition;
END_ENTITY;

	ENTITY Definition_based_product_occurrence
		ABSTRACT SUPERTYPE OF (Definition_based_part_occurrence)
		SUBTYPE OF (Product_occurrence);
  		derived_from: Product_view_definition;
  	WHERE
			WR1: SELF\Product_view_definition.defined_version = derived_from.defined_version;
	END_ENTITY;

ENTITY Part_occurrence_definition_relationship
SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view : Part_view_definition ;
  SELF\View_definition_relationship.related_view : part_occurrence_select ;
DERIVE
  SELF\View_definition_relationship.id : STRING := SELF\View_definition_relationship.related_view\Product_view_definition.id;
WHERE
WR1: NOT (('ASSEMBLY_STRUCTURE_ARM.ASSEMBLY_COMPONENT_RELATIONSHIP' IN TYPEOF(SELF))AND (EXISTS(SELF\Assembly_component_relationship.quantity)));
END_ENTITY;

ENTITY Product_occurrence
ABSTRACT SUPERTYPE OF (ONEOF (Single_instance, Quantified_instance))
SUBTYPE OF (Product_view_definition);
  occurrence_quantity : OPTIONAL extended_value_with_unit;
  quantity_criterion : OPTIONAL STRING;
INVERSE
  occurrence_contexts: SET[1:?] OF View_definition_relationship FOR related_view;
END_ENTITY;

ENTITY Quantified_instance
SUBTYPE OF (Product_occurrence);
  SELF\Product_occurrence.occurrence_quantity : Value_with_unit ;
WHERE
WR1: NOT (EXISTS(SELF\Product_occurrence.quantity_criterion));
END_ENTITY;

ENTITY Single_instance
SUBTYPE OF (Product_occurrence);
WHERE
WR1: NOT (EXISTS(SELF\Product_occurrence.occurrence_quantity) OR EXISTS(SELF\Product_occurrence.quantity_criterion));
END_ENTITY;

END_SCHEMA; 


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Item_definition_structure_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO/TC184/SC4 WG12N2619 - ISO/TS 10303-1345  - item_definition_structure - EXPRESS ARM
   Supersedes ISO TC184/SC4/WG12N1766
*)

SCHEMA Item_definition_structure_arm;

USE FROM Effectivity_application_arm;

USE FROM Part_occurrence_arm;

USE FROM Product_structure_arm;

REFERENCE FROM Product_identification_arm(
	types_of_product);


TYPE effectivity_for_replacement  = SELECT BASED_ON effectivity_item WITH
      (Part_definition_relationship);
END_TYPE;


ENTITY Assembled_part_association
SUBTYPE OF (Part_occurrence_definition_relationship, Assembly_component_relationship);
  SELF\View_definition_relationship.relating_view : Assembly_definition;
END_ENTITY;

ENTITY Assembly_definition
SUBTYPE OF (Part_view_definition);
WHERE
WR1: 'assembly' IN types_of_product(SELF\Product_view_definition.defined_version.of_product);
END_ENTITY;

ENTITY Geometrical_relationship
  SUBTYPE OF (Part_definition_relationship);
  definition_placement: template_instance;
DERIVE
  SELF\View_definition_relationship.relation_type : STRING := 'geometrical relationship';
END_ENTITY;

ENTITY Part_definition_relationship
  SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view: Part_view_definition;
  SELF\View_definition_relationship.related_view: Part_view_definition;
END_ENTITY;

RULE Definition_replacement_requires_effectivity_assignment FOR 
	(Part_definition_relationship);
WHERE 
WR1: SIZEOF( QUERY( pdr <* Part_definition_relationship | 
	(pdr\View_definition_relationship.relation_type = 'definition replacement') AND 
	(SIZEOF( USEDIN(pdr,'ITEM_DEFINITION_STRUCTURE_ARM.EFFECTIVITY_ASSIGNMENT.ITEMS') ) = 0) ))
	 = 0; 
END_RULE; 

RULE Mandatory_part_occurrence_definition_relationship FOR (Assembly_component_relationship);
LOCAL
  assemblies_of_parts: SET OF Assembly_component_relationship := [];
END_LOCAL;
  assemblies_of_parts := QUERY(acr <* Assembly_component_relationship |
	'ITEM_DEFINITION_STRUCTURE_MIM.PART_VIEW_DEFINITION' IN TYPEOF(acr\View_definition_relationship.relating_view));
WHERE
WR1: SIZEOF(QUERY(ar <* assemblies_of_parts | 
	NOT ('ITEM_DEFINITION_STRUCTURE_ARM.ASSEMBLED_PART_ASSOCIATION' IN TYPEOF(ar)) ))= 0;
END_RULE;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\External_item_identification_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1207 - ISO/TS 10303-1128 External item identification assignment - EXPRESS ARM
*)

 
SCHEMA External_item_identification_assignment_arm;

TYPE external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE;

ENTITY External_item_identification
SUBTYPE OF (External_source_identification);
  external_id : STRING;
END_ENTITY;

ENTITY External_source_identification;
  source_id	  : STRING;
  source_type : STRING;
  item 	  : external_identification_item;
  description : OPTIONAL STRING;
END_ENTITY;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Value_with_unit_extension_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Value with unit extension - EXPRESS ARM
*)

SCHEMA Value_with_unit_extension_arm;

USE FROM Value_with_unit_arm; 

ENTITY Absorbed_dose_data_element
  SUBTYPE OF (value_with_unit);
END_ENTITY; -- absorbed_dose_data_element

  ENTITY Activity_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- activity_data_element

  ENTITY Amount_of_substance_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- amount_of_substance_data_element

  ENTITY Angle_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- angle_data_element

  ENTITY Area_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- area_data_element

  ENTITY Capacitance_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- capacitance_data_element

  ENTITY Celsius_temperature_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- celsius_temperature_data_element

  ENTITY Conductance_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- conductance_data_element

  ENTITY Dose_equivalent_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- dose_equivalent_data_element

  ENTITY Electric_charge_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- electric_charge_data_element

  ENTITY Electric_current_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- electric_current_data_element

  ENTITY Electromotive_force_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- electromotive_force_data_element

  ENTITY Energy_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- energy_data_element

  ENTITY Force_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- force_data_element

  ENTITY Frequency_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- frequency_data_element

  ENTITY Illuminance_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- illuminance_data_element

  ENTITY Inductance_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- inductance_data_element

  ENTITY Length_data_element
    SUBTYPE OF (value_with_unit);
    WHERE
      WR1 : SELF\value_with_unit.value_component >= 0.0;
  END_ENTITY; -- length_data_element

  ENTITY Luminous_flux_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- luminous_flux_data_element

  ENTITY Luminous_intensity_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- luminous_intensity_data_element

  ENTITY Magnetic_flux_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- magnetic_flux_data_element

  ENTITY Magnetic_flux_density_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- magnetic_flux_density_data_element

  ENTITY Mass_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- mass_data_element

  ENTITY Power_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- power_data_element

  ENTITY Pressure_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- pressure_data_element

  ENTITY Ratio_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- ratio_data_element

  ENTITY Resistance_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- resistance_data_element

  ENTITY Scattering_parameter_data_element
    SUBTYPE OF (value_with_unit);
      angle : REAL;
      SELF\value_with_unit.value_component RENAMED radius : REAL;
    WHERE
      WR1 : radius >= 0;
      WR2 : {0<=angle<6.28218519999};
  END_ENTITY; -- scattering_parameter_data_element

  ENTITY Solid_angle_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- solid_angle_data_element

  ENTITY Thermodynamic_temperature_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- thermodynamic_temperature_data_element

  ENTITY Volume_data_element
    SUBTYPE OF (value_with_unit);
  END_ENTITY; -- volume_data_element

SUBTYPE_CONSTRAINT value_with_unit_subtypes FOR Value_with_unit; 
  ONEOF (absorbed_dose_data_element,
 activity_data_element,
 Amount_of_substance_data_element,
 angle_data_element,
 area_data_element,
 capacitance_data_element,
 celsius_temperature_data_element,
 conductance_data_element,
 dose_equivalent_data_element,
 electric_charge_data_element,
 electric_current_data_element,
 electromotive_force_data_element,
 energy_data_element,
 force_data_element,
 frequency_data_element,
 illuminance_data_element,
 inductance_data_element,
 length_data_element,
 luminous_flux_data_element,
 luminous_intensity_data_element,
 magnetic_flux_data_element,
 magnetic_flux_density_data_element,
 mass_data_element,
 power_data_element,
 pressure_data_element,
 ratio_data_element,
 resistance_data_element,
 scattering_parameter_data_element,
 solid_angle_data_element,
 thermodynamic_temperature_data_element,
 volume_data_element); 
END_SUBTYPE_CONSTRAINT;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Manifold_surface_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1276 - ISO/TS 10303-1509 Manifold surface - EXPRESS ARM
*)


SCHEMA Manifold_surface_arm;

USE FROM Elemental_geometric_shape_arm;

ENTITY Manifold_surface_shape_representation
SUBTYPE OF (Geometric_model);
END_ENTITY;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Assembly_structure_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N3222 - ISO/TS 10303-1026 Assembly structure - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N2515
*) 


SCHEMA Assembly_structure_arm;

USE FROM Product_view_definition_relationship_arm;    -- ISO/TS 10303-1041

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


ENTITY Assembly_component_relationship
  ABSTRACT SUPERTYPE OF (ONEOF (Next_assembly_usage,
                                Promissory_usage,
                                Component_upper_level_identification))
  SUBTYPE OF (View_definition_usage);
  quantity : OPTIONAL Value_with_unit;
  location_indicator : OPTIONAL STRING;
WHERE
  WR1: NOT(EXISTS(quantity)) OR ((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) XOR (quantity.value_component > 0));
END_ENTITY;

ENTITY Next_assembly_usage
  SUBTYPE OF (Assembly_component_relationship);
END_ENTITY;

ENTITY Promissory_usage
  SUBTYPE OF (Assembly_component_relationship);
END_ENTITY;

ENTITY Component_upper_level_identification
  SUBTYPE OF (Assembly_component_relationship);
  upper_assembly_relationship : Assembly_component_relationship;
  sub_assembly_relationship : Next_assembly_usage;
UNIQUE
  UR1: upper_assembly_relationship, sub_assembly_relationship;
WHERE
  WR1: SELF :<>: upper_assembly_relationship ;
  WR2: SELF\View_definition_relationship.relating_view :=: upper_assembly_relationship\View_definition_relationship.relating_view;
  WR3: SELF\View_definition_relationship.related_view :=: sub_assembly_relationship\View_definition_relationship.related_view;
  WR4: (upper_assembly_relationship\View_definition_relationship.related_view :=: sub_assembly_relationship\View_definition_relationship.relating_view) OR (SIZEOF (QUERY (pdr <* USEDIN (upper_assembly_relationship\View_definition_relationship.related_view , 'PRODUCT_VIEW_DEFINITION_RELATIONSHIP_ARM.VIEW_DEFINITION_RELATIONSHIP.RELATED_VIEW') | pdr.relating_view :=: sub_assembly_relationship\View_definition_relationship.relating_view)) = 1);
  WR5: SIZEOF (['ASSEMBLY_STRUCTURE_ARM.NEXT_ASSEMBLY_USAGE', 'ASSEMBLY_STRUCTURE_ARM.COMPONENT_UPPER_LEVEL_IDENTIFICATION'] * TYPEOF(upper_assembly_relationship)) = 1;
END_ENTITY;

END_SCHEMA;  -- Assembly_structure_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Document_and_version_identification_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N2957 - ISO/TS 10303-2956 Document and version identification - EXPRESS ARM
*) 


SCHEMA Document_and_version_identification_arm;

USE FROM Product_identification_arm;    -- ISO/TS 10303-1017

USE FROM Product_version_arm;    -- ISO/TS 10303-1018


ENTITY Document
  SUBTYPE OF (Product);
END_ENTITY;

ENTITY Document_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Document;
END_ENTITY;

RULE document_version_constraint FOR 
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'DOCUMENT_AND_VERSION_IDENTIFICATION_ARM.' + 'DOCUMENT_VERSION' IN TYPEOF ( pv) ) ) AND ( 'DOCUMENT_AND_VERSION_IDENTIFICATION_ARM.' + 'DOCUMENT' IN TYPEOF ( pv.of_product) ) ) ) = 0 ;
END_RULE; 

END_SCHEMA;  -- Document_and_version_identification_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_view_definition_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1532 - ISO/TS 10303-1019 Product view definition - EXPRESS ARM
*)
   
SCHEMA Product_view_definition_arm;

USE FROM Product_version_arm;
         
ENTITY Product_view_definition;
  id              	: STRING;
  name  	      	: OPTIONAL STRING;
  additional_characterization	      : OPTIONAL STRING;
  initial_context 	: View_definition_context;
  additional_contexts   : SET [0:?] OF View_definition_context;
  defined_version  	: Product_version;
WHERE
WR1: NOT (initial_context IN additional_contexts);
END_ENTITY;
   
ENTITY View_definition_context;
  application_domain	: STRING;
  life_cycle_stage 	: STRING;
  description	 	: OPTIONAL STRING;
END_ENTITY;
   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Pdm_material_aspects_arm.exp
   ------------------------------------------------------------
*)

(*
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO/TC184/SC4 WG12N2613 - ISO/TS 10303-1116 pdm_material_aspects - EXPRESS ARM
   Supersedes ISO TC184/SC4/WG12N1747
*)

SCHEMA Pdm_material_aspects_arm;

USE FROM File_identification_arm;
USE FROM Independent_property_arm;
USE FROM Independent_property_representation_arm;
USE FROM Part_view_definition_arm;
USE FROM Product_as_individual_arm;
USE FROM Property_assignment_arm;

TYPE material_item_select = SELECT (
  Hardcopy,
  Part_view_definition,
  Product_as_individual);
END_TYPE;

TYPE dependent_or_independent_property_representation = SELECT(
  Independent_property_representation,
  Property_representation);
END_TYPE;

 ENTITY Data_environment;
  environment_name : STRING;
  description : OPTIONAL STRING;
  environment_characterization: SET[1:?] OF dependent_or_independent_property_representation;
 END_ENTITY;

 ENTITY Material_identification;
  material_name : STRING;
  items : SET[1:?] OF material_item_select;
 END_ENTITY;

 ENTITY Material_property_association;
  described_material : Material_identification;
  associated_property_value : Material_property_value_representation;
  definitional : OPTIONAL BOOLEAN;
 END_ENTITY;

 ENTITY Material_property_value_representation
  SUBTYPE OF (Property_representation);
  environment_condition : Data_environment;
  SELF\Property_representation.property : Applied_independent_property;
WHERE
WR1: 'MATERIAL_ASPECTS_ARM.PDM_MATERIAL_PROPERTY' IN TYPEOF(SELF\Property_representation.property.base_independent_property); 
END_ENTITY;

 ENTITY Pdm_material_property
  SUBTYPE OF (Independent_property);
 END_ENTITY;


END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Document_structure_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1195 - ISO/TS 10303-1124 Document structure - EXPRESS ARM
*)


SCHEMA Document_structure_arm;

USE FROM Document_definition_arm;  
USE FROM File_identification_arm; 
  
ENTITY Document_definition_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_document_definition : Document_definition;
  related_document_definition : Document_definition;
WHERE
  WR1: relating_document_definition :<>: related_document_definition;
END_ENTITY;

ENTITY File_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_document_file : File;
  related_document_file : File;
WHERE
  WR1: relating_document_file:<>: related_document_file;
END_ENTITY;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Approval_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2909 - ISO/TS 10303-1012 Approval - EXPRESS ARM
*)



SCHEMA Approval_arm; 

USE FROM Date_time_arm;    -- ISO/TS 10303-1010

USE FROM Person_organization_arm;    -- ISO/TS 10303-1011


TYPE approval_item = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE; 

ENTITY Approval;
  status : Approval_status;
  purpose : STRING;
  planned_date : OPTIONAL date_or_date_time_select;
  actual_date : OPTIONAL date_or_date_time_select;
END_ENTITY;

ENTITY Approval_assignment;
  assigned_approval : Approval;
  items : SET[1:?] OF approval_item;
  role : OPTIONAL STRING;
END_ENTITY;

ENTITY Approval_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_approval : Approval;
  related_approval : Approval;
END_ENTITY;

ENTITY Approval_status;
  status_name : STRING;
END_ENTITY;

ENTITY Approving_person_organization;
  person_organization : organization_or_person_in_organization_select;
  approval_date : OPTIONAL date_or_date_time_select;
  authorized_approval : Approval;
  role : OPTIONAL STRING;
END_ENTITY;

END_SCHEMA;  -- Approval_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Work_order_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2945 - ISO/TS 10303-1043 Work order - EXPRESS ARM
*)


SCHEMA Work_order_arm; 

USE FROM Activity_arm;    -- ISO/TS 10303-1047

USE FROM Work_request_arm;    -- ISO/TS 10303-1042


ENTITY Directed_activity
  SUBTYPE OF (Activity);
  directive : Work_order;
END_ENTITY;

ENTITY Work_order;
  name : STRING;
  description : OPTIONAL STRING;
  in_response_to : SET[0:?] OF Work_request;
END_ENTITY;

END_SCHEMA;  -- Work_order_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Work_request_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2947 - ISO/TS 10303-1042 Work request - EXPRESS ARM
*)



SCHEMA Work_request_arm; 

USE FROM Activity_method_arm;    -- ISO/TS 10303-1049


TYPE affected_item_select = EXTENSIBLE SELECT;
END_TYPE; 

ENTITY Activity_method_assignment;
  relation_type : STRING;
  assigned_method : Activity_method;
  associated_request : Work_request;
END_ENTITY;

ENTITY Affected_items_assignment;
  assigned_work_request : Work_request;
  items : SET[1:?] OF affected_item_select;
END_ENTITY;

ENTITY Work_request;
  request_id : STRING;
  version_id : STRING;
  description : OPTIONAL STRING;
  purpose : STRING;
END_ENTITY;

ENTITY Work_request_status;
  status : STRING;
  work_request : Work_request;
END_ENTITY;

END_SCHEMA;  -- Work_request_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Person_organization_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2921 - ISO/TS 10303-1011 Person organization - EXPRESS ARM
*)
 


SCHEMA Person_organization_arm;


TYPE organization_or_person_in_organization_select = SELECT
   (Organization, 
    Person_in_organization);
END_TYPE; 

ENTITY Address;
  name : OPTIONAL STRING;
  street_number : OPTIONAL STRING;
  street : OPTIONAL STRING;
  postal_box : OPTIONAL STRING;
  town : OPTIONAL STRING;
  region : OPTIONAL STRING;
  postal_code : OPTIONAL STRING;
  country : OPTIONAL STRING;
  internal_location : OPTIONAL STRING;
  facsimile_number : OPTIONAL STRING;
  telephone_number : OPTIONAL STRING;
  electronic_mail_address : OPTIONAL STRING;
  telex_number : OPTIONAL STRING;
  url : OPTIONAL STRING;
WHERE
  WR1: (EXISTS (street_number) OR EXISTS (street) OR EXISTS (postal_box) OR EXISTS (town) OR EXISTS (region) OR EXISTS (postal_code) OR EXISTS (country) OR EXISTS (internal_location) OR EXISTS (facsimile_number) OR EXISTS (telephone_number) OR EXISTS (electronic_mail_address) OR EXISTS (telex_number));
END_ENTITY;

ENTITY Address_assignment;
  address_type : OPTIONAL STRING;
  assigned_address : Address;
  located_person_organizations : SET[1:?] OF organization_or_person_in_organization_select;
END_ENTITY;

ENTITY Organization;
  id : OPTIONAL STRING;
  name : STRING;
END_ENTITY;

ENTITY Organization_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_organization : Organization;
  related_organization : Organization;
END_ENTITY;

ENTITY Person;
  last_name : STRING;
  first_name : OPTIONAL STRING;
  middle_names : OPTIONAL LIST[1:?] OF STRING;
  prefix_titles : OPTIONAL LIST[1:?] OF STRING;
  suffix_titles : OPTIONAL LIST[1:?] OF STRING;
END_ENTITY;

ENTITY Person_in_organization;
  concerned_person : Person;
  containing_organization : Organization;
  role : STRING;
END_ENTITY;

END_SCHEMA;  -- Person_organization_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Contextual_shape_positioning_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1138 - ISO/TS 10303-1027 Contextual shape positioning - EXPRESS ARM
*)
   
SCHEMA Contextual_shape_positioning_arm;

USE FROM Elemental_geometric_shape_arm; 		
USE FROM Foundation_representation_arm; 		
USE FROM Shape_property_assignment_arm; 

TYPE template_instance = SELECT (Mapping_based_template_instance, Transformation_based_template_instance);
END_TYPE;

ENTITY Contextual_shape_representation_inclusion;
  contextual_shape		: Contextual_item_shape;
  context_representation	: Geometric_model;
  positioned_representation	: template_instance;
END_ENTITY;

ENTITY Mapping_based_template_instance
SUBTYPE OF (Detailed_geometric_model_element);
  replicated_model: shape_model;
  source		: Axis_placement;
  target		: geometric_mapping_target;
END_ENTITY;

ENTITY Transformation_based_template_instance
SUBTYPE OF (Detailed_geometric_model_element);
 replicated_model    		: shape_model;
 replication_transformation	: cartesian_transformation;
END_ENTITY;

END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_and_version_identification_arm.exp
   ------------------------------------------------------------
*)

(*
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N2917 - ISO/TS 10303-1022 Part and version identification - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N1114
*) 


SCHEMA Part_and_version_identification_arm;

USE FROM Product_identification_arm;    -- ISO/TS 10303-1017

USE FROM Product_version_arm;    -- ISO/TS 10303-1018

REFERENCE FROM Product_identification_arm   -- ISO/TS 10303-1017
  (types_of_product); 


ENTITY Part
  SUBTYPE OF (Product);
WHERE
  WR1: SIZEOF(['part', 'raw material', 'tool']*types_of_product(SELF))=1;
END_ENTITY;

ENTITY Part_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Part;
END_ENTITY;

RULE part_version_constraint FOR 
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'PART_AND_VERSION_IDENTIFICATION_ARM.' + 'PART_VERSION' IN TYPEOF ( pv) ) ) AND ( 'PART_AND_VERSION_IDENTIFICATION_ARM.' + 'PART' IN TYPEOF ( pv.of_product) ) ) ) =0 ;
END_RULE; 

END_SCHEMA;  -- Part_and_version_identification_arm





(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Activity_arm.exp
   ------------------------------------------------------------
*)

(*
  $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2941 - ISO/TS 10303-1047 Activity - EXPRESS ARM
*)

SCHEMA Activity_arm; 

USE FROM Activity_method_arm;    -- ISO/TS 10303-1049


TYPE activity_item = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE; 

ENTITY Activity;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  chosen_method : Activity_method;
END_ENTITY;

ENTITY Activity_relationship;
  name : STRING;
  description : OPTIONAL STRING;
  relating_activity : Activity;
  related_activity : Activity;
END_ENTITY;

ENTITY Activity_status;
  assigned_activity : Activity;
  status : STRING;
END_ENTITY;

ENTITY Applied_activity_assignment;
  assigned_activity : Activity;
  items : SET[1:?] OF activity_item;
  role : STRING;
END_ENTITY;

END_SCHEMA;  -- Activity_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Activity_method_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2943 - ISO/TS 10303-1049 Activity method - EXPRESS ARM
*)


SCHEMA Activity_method_arm; 


ENTITY Activity_method;
  name : STRING;
  description : OPTIONAL STRING;
  consequence : OPTIONAL STRING;
  purpose : STRING;
END_ENTITY;

END_SCHEMA;  -- Activity_method_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Certification_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2932 - ISO/TS 10303-1044 Certification - EXPRESS ARM
*)



SCHEMA Certification_arm; 


TYPE certification_item = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE; 

ENTITY Certification;
  name : STRING;
  description : OPTIONAL STRING;
  kind : STRING;
END_ENTITY;

ENTITY Certification_assignment;
  assigned_certification : Certification;
  items : SET[1:?] OF certification_item;
  role : STRING;
END_ENTITY;

END_SCHEMA;  -- Certification_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Class_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3022 - ISO/TS 10303-1070 Class - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2258
*) 


SCHEMA Class_arm;


ENTITY Class
  SUPERTYPE OF (ONEOF (Class_by_extension,
                       Class_by_intension));
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Class_by_extension
  SUBTYPE OF (Class);
END_ENTITY;

ENTITY Class_by_intension
  SUBTYPE OF (Class);
END_ENTITY;

END_SCHEMA;  -- Class_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Classification_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3248 - ISO/TS 10303-1114 Classification assignment - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2229
*)

SCHEMA Classification_assignment_arm;

USE FROM Class_arm;    -- ISO/TS 10303-1070


TYPE classification_item = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE; 

ENTITY Classification_assignment;
  assigned_class : Class;
  items : SET[1:?] OF classification_item;
  role : OPTIONAL STRING;
END_ENTITY;

END_SCHEMA;  -- Classification_assignment_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Configuration_effectivity_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2949 - ISO/TS 10303-1058 Configuration effectivity - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2518
*) 

SCHEMA Configuration_effectivity_arm;

USE FROM Configuration_item_arm;    -- ISO/CD-TS 10303-1056

USE FROM Effectivity_arm;    -- ISO/TS 10303-1057

USE FROM Product_view_definition_relationship_arm;    -- ISO/TS 10303-1041


ENTITY Item_usage_effectivity;
  effectivity_domain : Effectivity;
  item_usage_relationship : View_definition_usage;
  resolved_configuration : Item_design_association;
END_ENTITY;

END_SCHEMA;  -- Configuration_effectivity_arm






(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Contract_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1126 - ISO/TS 10303-1062 Contract - EXPRESS ARM
*)   
SCHEMA Contract_arm;

   
TYPE contract_item = EXTENSIBLE SELECT;
END_TYPE;

ENTITY Contract;
  id             : STRING;
  purpose        : STRING;
  kind	     : STRING;
END_ENTITY;
   
ENTITY Contract_assignment;
  assigned_contract  : Contract;
  items              : SET [1:?] OF contract_item;
END_ENTITY;

   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Date_time_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2913 - ISO/TS 10303-1010 Date time - EXPRESS ARM
*) 


SCHEMA Date_time_arm;


TYPE date_or_date_time_select = SELECT
   (Calendar_date, 
    Date_time);
END_TYPE; 

TYPE day_in_month_number = INTEGER;
WHERE
  WR1: {1 <= SELF <= 31};
END_TYPE; 

TYPE hour_in_day = INTEGER;
WHERE
  WR1: { 0 <= SELF < 24 };
END_TYPE; 

TYPE minute_in_hour = INTEGER;
WHERE
  WR1: { 0 <= SELF <= 59 };
END_TYPE; 

TYPE month_in_year_number = INTEGER;
WHERE
  WR1: { 1 <= SELF <= 12 };
END_TYPE; 

TYPE offset_orientation = ENUMERATION OF 
   (ahead,
    exact,
    behind);
END_TYPE; 

TYPE second_in_minute = REAL;
WHERE
  WR1: { 0 <= SELF <= 60.0 };
END_TYPE; 

TYPE year_number = INTEGER;
END_TYPE; 

ENTITY Calendar_date;
  year_component : year_number;
  month_component : month_in_year_number;
  day_component : day_in_month_number;
END_ENTITY;

ENTITY Date_time;
  date_component : Calendar_date;
  time_component : Local_time;
END_ENTITY;

ENTITY Local_time;
  hour_component : hour_in_day;
  minute_component : OPTIONAL minute_in_hour;
  second_component : OPTIONAL second_in_minute;
  zone : Time_offset;
END_ENTITY;

ENTITY Time_offset;
  hour_offset : INTEGER;
  minute_offset : OPTIONAL INTEGER;
  sense : offset_orientation;
DERIVE
  actual_minute_offset : INTEGER := NVL(minute_offset,0);
WHERE
  WR1: { 0 <= hour_offset < 24 };
  WR2: { 0 <= actual_minute_offset <= 59 };
  WR3: NOT (((hour_offset <> 0) OR (actual_minute_offset <>0)) AND (sense = exact));
END_ENTITY;

END_SCHEMA;  -- Date_time_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Date_time_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1093 - ISO/TS 10303-1014 Date time assignment - EXPRESS ARM
*)
SCHEMA Date_time_assignment_arm;

USE FROM Date_time_arm; -- ISO/TS 10303-1010

   
TYPE date_or_date_time_item = EXTENSIBLE SELECT;
END_TYPE;
   
ENTITY Date_or_date_time_assignment;
  assigned_date : date_or_date_time_select;
  role          : STRING;
  items         : SET [1:?] OF date_or_date_time_item;
END_ENTITY;
  
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Effectivity_application_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1174 - ISO/TS 10303-1059 Effectivity application - EXPRESS ARM
*)
   
SCHEMA Effectivity_application_arm;
   
USE FROM Effectivity_arm; -- ISO/TS 10303-1057
   
TYPE effectivity_item = EXTENSIBLE SELECT; 
END_TYPE;
   
ENTITY Effectivity_assignment;
  assigned_effectivity  : Effectivity;
  role                  : STRING;
  items                 : SET [1:?] OF effectivity_item;
END_ENTITY;

   
END_SCHEMA;

(* Last update -  10 Apr 2002 *)


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Effectivity_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1168 - ISO/TS 10303-1057 Effectivity - EXPRESS ARM
*)
   
SCHEMA Effectivity_arm;

USE FROM Time_interval_arm;  -- ISO/TS 10303-1065
USE FROM Value_with_unit_arm;  -- ISO/TS 10303-1054

   
ENTITY Dated_effectivity
  SUBTYPE OF (Effectivity);
  start_bound : date_or_event;
  end_bound   : OPTIONAL date_or_event;
END_ENTITY;

ENTITY Effectivity
  SUPERTYPE OF (ONEOF (Serial_effectivity, Dated_effectivity, Lot_effectivity, Time_interval_effectivity));
  id             : STRING;
  name           : STRING;
  description    : OPTIONAL STRING;
END_ENTITY;

ENTITY Effectivity_relationship;
  relation_type : STRING;
  description   : OPTIONAL STRING;
  relating_effectivity  : Effectivity;
  related_effectivity  : Effectivity;
END_ENTITY;

ENTITY Lot_effectivity
  SUBTYPE OF (Effectivity);
  lot_id    : STRING;
  lot_size  : Value_with_unit;
END_ENTITY;

ENTITY Serial_effectivity
  SUBTYPE OF (Effectivity);
  start_id : STRING;
  end_id   : OPTIONAL STRING;
END_ENTITY;

ENTITY Time_interval_effectivity
  SUBTYPE OF (Effectivity);
  effectivity_period : Time_interval;
END_ENTITY;   
   
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Event_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2114 - ISO/TS 10303-1064 Event - EXPRESS ARM
*)

SCHEMA Event_arm; 

USE FROM Date_time_arm;    -- ISO/TS 10303-1010

USE FROM Date_time_assignment_arm;    -- ISO/TS 10303-1014

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


TYPE date_or_event = SELECT
   (Calendar_date, 
    Date_time, 
    Event);
END_TYPE; 

ENTITY Event;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  actual_start_date : OPTIONAL date_or_date_time_select;
  planned_start_date : OPTIONAL date_or_date_time_select;
END_ENTITY;

ENTITY Event_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_event : Event;
  related_event : Event;
END_ENTITY;

ENTITY Relative_event
  SUBTYPE OF (Event);
  base_event : Event;
  offset : Duration;
END_ENTITY;

END_SCHEMA;  -- Event_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Event_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2116 - ISO/TS 10303-1364 Event assignment - EXPRESS ARM
*) 


SCHEMA Event_assignment_arm; 

USE FROM Event_arm;    -- ISO/TS 10303-1064


TYPE event_item = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE; 

ENTITY Event_assignment;
  assigned_event : Event;
  items : SET[1:?] OF event_item;
  role : STRING;
END_ENTITY;

END_SCHEMA;  -- Event_assignment_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\External_class_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3049 - ISO/TS 10303-1275 External class - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2264
*) 


SCHEMA External_class_arm;

USE FROM Class_arm;    -- ISO/TS 10303-1070

USE FROM Name_assignment_arm;    -- ISO/TS 10303-1340


TYPE external_class_assigned_name_select = SELECT BASED_ON assigned_name_select WITH 
   (External_class_library);
END_TYPE; 

ENTITY External_class
  SUBTYPE OF (Class);
  external_source : External_class_library;
END_ENTITY;

ENTITY External_class_library;
  id : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

END_SCHEMA;  -- External_class_arm




(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\File_identification_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2123 - ISO/TS 10303-1127 File identification - EXPRESS ARM
*)

SCHEMA File_identification_arm;

USE FROM External_item_identification_assignment_arm;

TYPE located_select = SELECT BASED_ON external_identification_item WITH (File);
END_TYPE;

ENTITY Digital_file
SUBTYPE OF (File);
END_ENTITY;

ENTITY File
ABSTRACT SUPERTYPE OF (ONEOF(Digital_file, Hardcopy));
  id : STRING;
  version : OPTIONAL STRING;
  contained_data_type : OPTIONAL STRING;
END_ENTITY;

ENTITY Hardcopy
SUBTYPE OF (File);
END_ENTITY;

ENTITY File_location_identification
SUBTYPE OF (External_item_identification);
WHERE
WR1: 'FILE_IDENTIFICATION_ARM.FILE' IN TYPEOF(SELF\External_source_identification.item);
END_ENTITY;

END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Multi_linguism_arm.exp
   ------------------------------------------------------------
*)

(* 
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3242 - ISO/TS 10303-1105 Multi linguism - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2223
*)

SCHEMA Multi_linguism_arm;

TYPE string_select = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE;

ENTITY Language;
  language_code : STRING;
  country_code : OPTIONAL STRING;
UNIQUE
  UR1: language_code;
END_ENTITY;

ENTITY Language_indication;
   considered_instance: string_select;
   considered_attribute: STRING;
   used_language:  Language;
END_ENTITY;

ENTITY Attribute_translation_assignment;
   considered_instance: string_select;
   considered_attribute: STRING;
   translation_text : STRING;
   translation_language: Language;
UNIQUE
  UR1: considered_instance, considered_attribute, translation_language;
END_ENTITY;

END_SCHEMA; -- Multi_linguism_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Process_property_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2970 - ISO/TS 10303-1040 Process property assignment - EXPRESS ARM
*)


SCHEMA Process_property_assignment_arm; 

USE FROM Activity_arm;    -- ISO/TS 10303-1047

USE FROM Activity_method_arm;    -- ISO/TS 10303-1049

USE FROM Foundation_representation_arm;    -- ISO/TS 10303-1006

USE FROM Independent_property_arm;    -- ISO/TS 10303-1036


TYPE characterized_activity_definition = EXTENSIBLE SELECT
   (Activity, 
    Activity_method);
END_TYPE; 

ENTITY Activity_property;
  name : STRING;
  description : STRING;
  described_element : characterized_activity_definition;
END_ENTITY;

ENTITY Activity_property_representation;
  description : OPTIONAL STRING;
  property : Activity_property;
  rep : Representation;
  role : STRING;
END_ENTITY;

ENTITY Applied_independent_activity_property
  SUBTYPE OF (Activity_property);
  base_element_property : Independent_property;
DERIVE
  SELF\Activity_property.name : STRING := base_element_property.property_type;
END_ENTITY;

END_SCHEMA;  -- Process_property_assignment_arm




(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_replacement_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1144 - ISO/TS 10303-1046 Product replacement - EXPRESS ARM
*)
  
SCHEMA Product_replacement_arm;

USE FROM Assembly_structure_arm; -- ISO/TS 10303-1026
USE FROM Product_identification_arm; -- ISO/TS 10303-1017
   
ENTITY Alternate_product_relationship;
   name : OPTIONAL STRING;
   description : OPTIONAL STRING;
   alternate_product : Product;
   base_product : Product;
   criteria : STRING;
UNIQUE
   UR1: alternate_product , base_product ;
WHERE
   WR1: alternate_product  :<>: base_product ;
END_ENTITY;

   
ENTITY Assembly_relationship_substitution;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
  base_relationship        : Assembly_component_relationship;
  substitute_relationship  : Assembly_component_relationship;
UNIQUE
  UR1 : base_relationship, substitute_relationship;
WHERE
  WR1: base_relationship.relating_view :=: substitute_relationship.relating_view;
  WR2: base_relationship :<>: substitute_relationship;
END_ENTITY;

   
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Project_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2930 - ISO/TS 10303-1061 Project - EXPRESS ARM
*)


SCHEMA Project_arm; 

USE FROM Date_time_arm;    -- ISO/TS 10303-1010

USE FROM Date_time_assignment_arm;    -- ISO/TS 10303-1014

USE FROM Event_arm;    -- ISO/TS 10303-1064

USE FROM Event_assignment_arm;    -- ISO/TS 10303-1364

USE FROM Person_organization_arm;    -- ISO/TS 10303-1011


TYPE project_item = EXTENSIBLE SELECT;
END_TYPE; 

ENTITY Project;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  responsible_organizations : SET[0:?] OF Organization;
  planned_start_date : OPTIONAL date_or_event;
  planned_end_date : OPTIONAL date_or_event;
  actual_start_date : OPTIONAL date_or_date_time_select;
  actual_end_date : OPTIONAL date_or_date_time_select;
END_ENTITY;

ENTITY Project_assignment;
  assigned_project : Project;
  role : STRING;
  items : SET[0:?] OF project_item;
END_ENTITY;

ENTITY Project_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_project : Project;
  related_project : Project;
END_ENTITY;

END_SCHEMA;  -- Project_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Property_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2972 - ISO/TS 10303-1030 Property assignment - EXPRESS ARM
*)


SCHEMA Property_assignment_arm; 

USE FROM Foundation_representation_arm;    -- ISO/TS 10303-1006

USE FROM Independent_property_arm;    -- ISO/TS 10303-1036


TYPE property_assignment_select = EXTENSIBLE SELECT;
END_TYPE; 

ENTITY Applied_independent_property
  SUBTYPE OF (Assigned_property);
  base_independent_property : Independent_property;
DERIVE
  SELF\Assigned_property.name : STRING := base_independent_property.property_type;
END_ENTITY;

ENTITY Assigned_property;
  id : OPTIONAL STRING;
  name : STRING;
  description : OPTIONAL STRING;
  described_element : property_assignment_select;
END_ENTITY;

ENTITY Property_representation;
  description : OPTIONAL STRING;
  property : Assigned_property;
  rep : Representation;
  role : OPTIONAL STRING;
END_ENTITY;

END_SCHEMA;  -- Property_assignment_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Security_classification_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N3221 - ISO/TS 10303-1015 Security classification - EXPRESS ARM
Supersedes ISO TC184/SC4/WG12 N1096
*) 


SCHEMA Security_classification_arm;


TYPE security_classification_item = EXTENSIBLE SELECT;
END_TYPE; 

ENTITY Security_classification;
  classification_level : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Security_classification_assignment;
  classification : Security_classification;
  items : SET[1:?] OF security_classification_item;
END_ENTITY;

END_SCHEMA;  -- Security_classification_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_version_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2527 - ISO/TS 10303-1018 Product version - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N1105
*) 


SCHEMA Product_version_arm; 

USE FROM Product_identification_arm;    -- ISO/TS 10303-1017


ENTITY Product_version;
  id : STRING;
  description : OPTIONAL STRING;
  of_product : Product;
END_ENTITY;

END_SCHEMA;  -- Product_version_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_version_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2937- ISO/TS 10303-1020 Product version relationship - EXPRESS ARM
*)

SCHEMA Product_version_relationship_arm; 

USE FROM Product_version_arm;    -- ISO/TS 10303-1018


ENTITY Product_version_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_version : Product_version;
  related_version : Product_version;
WHERE
  WR1: relating_version :<>: related_version;
END_ENTITY;

ENTITY Supplied_part_relationship
  SUBTYPE OF (Product_version_relationship);
WHERE
  WR1: SELF\Product_version_relationship.relation_type IN ['supplied item', 'supplied document'];
END_ENTITY;

END_SCHEMA;  -- Product_version_relationship_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Foundation_representation_arm.exp
   ------------------------------------------------------------
*)

(*
$Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
ISO TC184/SC4/WG12 N2905 - ISO/TS 10303-1006 Foundation representation - EXPRESS ARM
*) 


SCHEMA Foundation_representation_arm; 

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


ENTITY Numerical_representation_context
  SUBTYPE OF (Representation_context);
  units : OPTIONAL SET[1:?] OF Unit;
  accuracies : OPTIONAL SET[1:?] OF Uncertainty_with_unit;
END_ENTITY;

ENTITY Representation;
  id : OPTIONAL STRING;
  name : STRING;
  description : OPTIONAL STRING;
  context_of_items : Representation_context;
  items : SET[1:?] OF Representation_item;
END_ENTITY;

ENTITY Representation_context;
  id : STRING;
  kind : STRING;
INVERSE
  representations_in_context : SET[1:?] OF Representation FOR context_of_items;
END_ENTITY;

ENTITY Representation_item
  ABSTRACT SUPERTYPE ;
  name : STRING;
END_ENTITY;

ENTITY Representation_relationship;
  relation_type : STRING;
  description : STRING;
  rep_1 : Representation;
  rep_2 : Representation;
END_ENTITY;

ENTITY String_representation_item
  SUBTYPE OF (Representation_item);
  string_value : STRING;
END_ENTITY;

END_SCHEMA;  -- Foundation_representation_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\External_model_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1228 - ISO/TS 10303-1033 External model - EXPRESS ARM
*)

SCHEMA External_model_arm;

USE FROM Elemental_geometric_shape_arm;

USE FROM File_identification_arm;

ENTITY External_geometric_model
SUBTYPE OF (Geometric_model);
   SELF\Representation.items: SET[1:1] OF Axis_placement;
   external_file: Digital_file;
WHERE
WR1: SELF\Representation.context_of_items.dimension_count = 3;
WR2: SELF\Representation.context_of_items.kind = 'external';
END_ENTITY;

END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_categorization_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1099 - ISO/TS 10303-1016 Product categorization - EXPRESS ARM
*)

SCHEMA Product_categorization_arm;   

ENTITY Product_category;  
  id		: OPTIONAL STRING;
  name	: STRING;
  description : OPTIONAL STRING;  
END_ENTITY;   

ENTITY Product_category_hierarchy;  
  super_category : Product_category;  
  sub_category   : Product_category;
END_ENTITY;   

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_occurrence_arm.exp
   ------------------------------------------------------------
*)

(* 
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO/TC184/SC4 WG12N2598 - ISO/TS 10303-1063 Product occurrence - Express ARM 
   Supersedes ISO TC184/SC4/WG12N1732
*)

SCHEMA Product_occurrence_arm;

USE FROM Assembly_structure_arm;

USE FROM Extended_measure_representation_arm;

USE FROM Functional_breakdown_arm;

USE FROM Measure_representation_arm;

USE FROM Part_view_definition_arm;

USE FROM Product_view_definition_relationship_arm;

USE FROM Specified_product_arm;

USE FROM Value_with_unit_arm;

TYPE Extended_Value_With_Unit = SELECT (
	Value_with_unit, 
	Value_limit, 
	Value_range);
END_TYPE;

TYPE function_occurrence_select = SELECT(Definition_based_function_occurrence, Specification_based_function_occurrence);
END_TYPE;

TYPE part_occurrence_select = SELECT(Definition_based_part_occurrence, Specification_based_part_occurrence);
END_TYPE;

ENTITY Definition_based_function_occurrence
ABSTRACT SUPERTYPE
SUBTYPE OF (Definition_based_product_occurrence);
  SELF\Definition_based_product_occurrence.derived_from: Functional_element_definition;
END_ENTITY;

ENTITY Definition_based_part_occurrence
ABSTRACT SUPERTYPE
SUBTYPE OF (Definition_based_product_occurrence);
  SELF\Definition_based_product_occurrence.derived_from: Part_view_definition;
END_ENTITY;

ENTITY Definition_based_product_occurrence
ABSTRACT SUPERTYPE OF (ONEOF(Definition_based_function_occurrence, Definition_based_part_occurrence))
SUBTYPE OF (Product_occurrence);
  derived_from: Product_view_definition;
WHERE
WR1: SELF\Product_view_definition.defined_version = SELF\derived_from.defined_version;
END_ENTITY;

ENTITY Part_occurrence_definition_relationship
SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view : Part_view_definition ;
  SELF\View_definition_relationship.related_view : part_occurrence_select ;
DERIVE
  SELF\View_definition_relationship.id : STRING := SELF\View_definition_relationship.related_view\Product_view_definition.id;
WHERE
WR1: NOT (('ASSEMBLY_STRUCTURE_ARM.ASSEMBLY_COMPONENT_RELATIONSHIP' IN TYPEOF(SELF))AND (EXISTS(SELF\Assembly_component_relationship.quantity)));
END_ENTITY;

ENTITY Product_occurrence
ABSTRACT SUPERTYPE OF (ONEOF (Definition_based_product_occurrence, Specification_based_product_occurrence))
SUBTYPE OF (Product_view_definition);
  occurrence_quantity : OPTIONAL extended_value_with_unit;
  quantity_criterion : OPTIONAL STRING;
INVERSE
  occurrence_contexts: SET[1:?] OF View_definition_relationship FOR related_view;
	-- new syntax for Inverse atts
END_ENTITY;

ENTITY Quantified_instance
SUBTYPE OF (Product_occurrence);
  SELF\Product_occurrence.occurrence_quantity : Value_with_unit ;
WHERE
WR1: SIZEOF(['PRODUCT_OCCURRENCE_ARM.DEFINITION_BASED_PART_OCCURRENCE',
		 'PRODUCT_OCCURRENCE_ARM.SPECIFICATION_BASED_PART_OCCURRENCE']*TYPEOF(SELF))=1;
WR2: NOT (EXISTS(SELF\Product_occurrence.quantity_criterion));
END_ENTITY;

ENTITY Selected_instance
SUBTYPE OF (Product_occurrence);
WHERE
WR1: SIZEOF(['PRODUCT_OCCURRENCE_ARM.DEFINITION_BASED_PART_OCCURRENCE',
		 'PRODUCT_OCCURRENCE_ARM.SPECIFICATION_BASED_PART_OCCURRENCE']*TYPEOF(SELF))=1;
WR2: (EXISTS(SELF\Product_occurrence.quantity_criterion)) OR
     (NOT('PRODUCT_OCCURRENCE_ARM.VALUE_WITH_UNIT' IN TYPEOF(SELF\Product_occurrence.occurrence_quantity)));
END_ENTITY;

ENTITY Single_function_unit
SUBTYPE OF (Product_occurrence);
WHERE
WR1: SIZEOF(['PRODUCT_OCCURRENCE_ARM.DEFINITION_BASED_FUNCTION_OCCURRENCE',
		 'PRODUCT_OCCURRENCE_ARM.SPECIFICATION_BASED_FUNCTION_OCCURRENCE']*TYPEOF(SELF))=1;
WR2: NOT (EXISTS(SELF\Product_occurrence.occurrence_quantity) OR EXISTS(SELF\Product_occurrence.quantity_criterion));
END_ENTITY;

ENTITY Single_instance
SUBTYPE OF (Product_occurrence);
WHERE
WR1: SIZEOF(['PRODUCT_OCCURRENCE_ARM.DEFINITION_BASED_PART_OCCURRENCE',
		 'PRODUCT_OCCURRENCE_ARM.SPECIFICATION_BASED_PART_OCCURRENCE']*TYPEOF(SELF))=1;
WR2: NOT (EXISTS(SELF\Product_occurrence.occurrence_quantity) OR EXISTS(SELF\Product_occurrence.quantity_criterion));
-- IP1 : the part is a countable part
END_ENTITY;

ENTITY Specification_based_function_occurrence
ABSTRACT SUPERTYPE
SUBTYPE OF (Specification_based_product_occurrence);
WHERE
WR1: 'PRODUCT_OCCURRENCE_ARM.FUNCTIONAL_ELEMENT_VERSION' IN TYPEOF(SELF\Product_view_definition.defined_version);
END_ENTITY;

ENTITY Specification_based_part_occurrence
ABSTRACT SUPERTYPE
SUBTYPE OF (Specification_based_product_occurrence);
WHERE
WR1: 'PRODUCT_OCCURRENCE_ARM.PART_VERSION' IN TYPEOF(SELF\Product_view_definition.defined_version);
END_ENTITY;

ENTITY Specification_based_product_occurrence
ABSTRACT SUPERTYPE OF (ONEOF(Specification_based_function_occurrence, Specification_based_part_occurrence))
SUBTYPE OF (Product_occurrence);
  SELF\Product_view_definition.defined_version: Specification_based_product_version;
END_ENTITY;

SUBTYPE_CONSTRAINT alternate_part_instance FOR Product_occurrence;
  ONEOF(Single_instance, Quantified_instance, Selected_instance);
END_SUBTYPE_CONSTRAINT;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_structure_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2546 - ISO/TS 10303-1134 Product structure - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N1670
*) 


SCHEMA Product_structure_arm;

USE FROM Assembly_structure_arm;    -- ISO/TS 10303-1026

USE FROM Contextual_shape_positioning_arm;    -- ISO/TS 10303-1027

USE FROM Part_and_version_identification_arm;    -- ISO/TS 10303-1022

USE FROM Part_definition_relationship_arm;    -- ISO/TS 10303-1055

USE FROM Product_replacement_arm;    -- ISO/TS 10303-1046

USE FROM Product_version_relationship_arm;    -- ISO/TS 10303-1020

USE FROM Product_view_definition_relationship_arm;    -- ISO/TS 10303-1041

USE FROM Property_assignment_arm;    -- ISO/TS 10303-1030

USE FROM Single_part_representation_arm;    -- ISO/TS 10303-1133


TYPE ps_product_property_assignment = SELECT BASED_ON property_assignment_select WITH 
   (View_definition_relationship);
END_TYPE; 

ENTITY Alternate_part_relationship
  SUBTYPE OF (Alternate_product_relationship);
  SELF\Alternate_product_relationship.alternate_product : Part;
  SELF\Alternate_product_relationship.base_product : Part;
END_ENTITY;

END_SCHEMA;  -- Product_structure_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_as_individual_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3106 - ISO/TS 10303-1164 Product as individual - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2291
*) 


SCHEMA Product_as_individual_arm;

USE FROM Identification_assignment_arm;    -- ISO/TS 10303-1021

USE FROM Product_identification_arm;    -- ISO/TS 10303-1017

USE FROM Product_version_arm;    -- ISO/TS 10303-1018

USE FROM Product_view_definition_arm;    -- ISO/TS 10303-1019


TYPE product_as_individual_identification_item = SELECT BASED_ON identification_item WITH 
   (Product_as_individual, 
    Product_as_individual_version, 
    Product_as_individual_view);
END_TYPE; 

ENTITY Product_as_individual
  SUBTYPE OF (Product);
END_ENTITY;

ENTITY Product_as_individual_version
  ABSTRACT SUPERTYPE OF (ONEOF (Product_as_planned,
                                Product_as_realized))
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Product_as_individual;
END_ENTITY;

ENTITY Product_as_individual_view
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Product_as_individual_version;
END_ENTITY;

ENTITY Product_as_planned
  SUBTYPE OF (Product_as_individual_version);
END_ENTITY;

ENTITY Product_as_realized
  SUBTYPE OF (Product_as_individual_version);
END_ENTITY;

ENTITY Product_design_to_individual;
  product_design : Product;
  individual_product : Product_as_individual;
END_ENTITY;

ENTITY Product_design_version_to_individual;
  product_design_version : Product_version;
  individual_product : Product_as_individual_version;
END_ENTITY;

ENTITY Product_planned_to_realized;
  planned_product : Product_as_planned;
  realized_product : Product_as_realized;
END_ENTITY;

END_SCHEMA;  -- Product_as_individual_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Configuration_item_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2532 - ISO/TS 10303-1056 Configuration item - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2482
*) 


SCHEMA Configuration_item_arm;

USE FROM Product_concept_identification_arm;    -- ISO/TS 10303-1060

USE FROM Product_version_arm;    -- ISO/TS 10303-1018

USE FROM Product_view_definition_arm;    -- ISO/TS 10303-1019


TYPE version_or_definition = SELECT
   (Product_version, 
    Product_view_definition);
END_TYPE; 

ENTITY Item_design_association;
  configuration : Product_configuration;
  design : version_or_definition;
UNIQUE
  UR1: configuration, design;
END_ENTITY;

ENTITY Product_configuration;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  item_context : Product_concept;
INVERSE
  corresponding_design : SET[0:1] OF Item_design_association FOR configuration;
END_ENTITY;

END_SCHEMA;  -- Configuration_item_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Time_interval_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2955 - ISO/TS 10303-1065 Time interval - EXPRESS ARM
*)


SCHEMA Time_interval_arm; 

USE FROM Event_arm;    -- ISO/TS 10303-1064

USE FROM Value_with_unit_arm;    -- ISO/TS 10303-1054


ENTITY Time_interval;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Time_interval_relationship;
  relation_type : STRING;
  description : STRING;
  relating_time_interval : Time_interval;
  related_time_interval : Time_interval;
END_ENTITY;

ENTITY Time_interval_with_bounds
  SUBTYPE OF (Time_interval);
  primary_bound : OPTIONAL date_or_event;
  secondary_bound : OPTIONAL date_or_event;
  duration_from_primary_bound : OPTIONAL Duration;
WHERE
  WR1: NOT (EXISTS (secondary_bound) AND EXISTS (duration_from_primary_bound));
  WR2: EXISTS (primary_bound) OR EXISTS (secondary_bound);
END_ENTITY;

END_SCHEMA;  -- Time_interval_arm


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Name_assignment_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3085 - ISO/TS 10303-1340 Name assignment - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2282
*) 


SCHEMA Name_assignment_arm;


TYPE assigned_name_select = EXTENSIBLE GENERIC_ENTITY SELECT;
END_TYPE; 

ENTITY Name_assignment;
  name : STRING;
  role : STRING;
  items : assigned_name_select;
END_ENTITY;

END_SCHEMA;  -- Name_assignment_arm




(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Functional_breakdown_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3052 - ISO/TS 10303-1216 Functional breakdown - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2267
*) 


SCHEMA Functional_breakdown_arm;

USE FROM Product_breakdown_arm;    -- ISO/TS 10303-1248


ENTITY Functional_breakdown
  SUBTYPE OF (Breakdown);
END_ENTITY;

ENTITY Functional_breakdown_context
  SUBTYPE OF (Breakdown_context);
  SELF\Breakdown_context.breakdown : Functional_breakdown_version;
  SELF\Breakdown_context.breakdown_element : Functional_element_definition;
END_ENTITY;

ENTITY Functional_breakdown_version
  SUBTYPE OF (Breakdown_version);
  SELF\Breakdown_version.of_product : Functional_breakdown;
END_ENTITY;

ENTITY Functional_element
  SUBTYPE OF (Breakdown_element);
END_ENTITY;

ENTITY Functional_element_definition
  SUBTYPE OF (Breakdown_element_definition);
  SELF\Breakdown_element_definition.defined_version : Functional_element_version;
END_ENTITY;

ENTITY Functional_element_usage
  SUBTYPE OF (Breakdown_element_usage);
  SELF\Breakdown_element_usage.parent_element : Functional_element_definition;
  SELF\Breakdown_element_usage.child_element : Functional_element_definition;
END_ENTITY;

ENTITY Functional_element_version
  SUBTYPE OF (Breakdown_element_version);
  SELF\Breakdown_element_version.of_product : Functional_element;
END_ENTITY;

END_SCHEMA;  -- Functional_breakdown_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Specified_product_arm.exp
   ------------------------------------------------------------
*)

(* 
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO/TC184/SC4 WG12N2589 - ISO/TS 10303-1104 Specified product - Express ARM 
   Supersedes ISO TC184/SC4/WG12N1723
*)

SCHEMA Specified_product_arm;

USE FROM Configuration_item_arm;

USE FROM Product_class_arm;

USE FROM Product_version_arm;

ENTITY Product_specification
SUBTYPE OF (Product_configuration);
  version_id: OPTIONAL STRING;
  SELF\Product_configuration.item_context: Product_class;
  defining_specifications: SET [0:?] OF Specification;
END_ENTITY;

ENTITY Specification_based_product_version
SUBTYPE OF (Product_version);
INVERSE
  specification_source: Item_design_association FOR design;
WHERE
WR1 : 'SPECIFIED_PRODUCT_ARM.PRODUCT_SPECIFICATION' IN TYPEOF(specification_source.configuration);
END_ENTITY;
END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Part_definition_relationship_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1326 - ISO/TS 10303-1055 Part definition relationship - EXPRESS ARM
*)
  
SCHEMA Part_definition_relationship_arm;
 
USE FROM Product_view_definition_relationship_arm;
USE FROM Part_view_definition_arm;
USE FROM Value_with_unit_arm;
      
ENTITY Make_from_relationship
  SUBTYPE OF (View_definition_usage);
  SELF\View_definition_relationship.relating_view: Part_view_definition;
  SELF\View_definition_relationship.related_view: Part_view_definition;
  quantity  : OPTIONAL Value_with_unit;
  priority  : OPTIONAL INTEGER;
WHERE
WR1: SELF\View_definition_relationship.relating_view :<>: 
  SELF\View_definition_relationship.related_view ;
WR2: NOT(EXISTS(quantity)) XOR 
	((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) XOR (quantity.value_component > 0));
END_ENTITY;

END_SCHEMA;


(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Single_part_representation_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N2543 - ISO/TS 10303-1133 Single part representation - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N1667
*) 


SCHEMA Single_part_representation_arm;

USE FROM Document_assignment_arm;    -- ISO/TS 10303-1122

USE FROM Extended_measure_representation_arm;    -- ISO/TS 10303-1106

USE FROM External_model_arm;    -- ISO/TS 10303-1033

USE FROM Part_and_version_identification_arm;    -- ISO/TS 10303-1022

USE FROM Part_view_definition_arm;    -- ISO/TS 10303-1023

USE FROM Person_organization_assignment_arm;    -- ISO/TS 10303-1013

USE FROM Product_categorization_arm;    -- ISO/TS 10303-1016

USE FROM Property_assignment_arm;    -- ISO/TS 10303-1030

USE FROM Shape_property_assignment_arm;    -- ISO/TS 10303-1032


TYPE spr_documented_element_select = SELECT BASED_ON documented_element_select WITH 
   (Part_view_definition, 
    Part, 
    Part_version);
END_TYPE; 

TYPE spr_product_property_assignment = SELECT BASED_ON property_assignment_select WITH 
   (Part_view_definition);
END_TYPE; 

TYPE spr_organization_or_person_in_organization_item = EXTENSIBLE SELECT BASED_ON organization_or_person_in_organization_item WITH 
   (Document, 
    Document_version, 
    Document_definition, 
    Part, 
    Part_view_definition, 
    Part_version);
END_TYPE; 

END_SCHEMA;  -- Single_part_representation_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_concept_identification_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N1177 - ISO/TS 10303-1060 Product concept identification - EXPRESS ARM
*)
   
SCHEMA Product_concept_identification_arm;
   
ENTITY Market;
  name                      : STRING;
  market_segment_type       : OPTIONAL STRING;
END_ENTITY;

   
ENTITY Product_concept;
  id                        : STRING;
  name                      : STRING;
  description               : OPTIONAL STRING;
  target_market             : OPTIONAL Market;
UNIQUE
  UR1: id;
END_ENTITY;

   
END_SCHEMA;



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_breakdown_arm.exp
   ------------------------------------------------------------
*)

(*
 $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
 ISO TC184/SC4/WG12 N3109 - ISO/TS 10303-1248 Product breakdown - EXPRESS ARM
 Supersedes ISO TC184/SC4/WG12 N2294
*) 


SCHEMA Product_breakdown_arm;

USE FROM Product_identification_arm;    -- ISO/TS 10303-1017

USE FROM Product_version_arm;    -- ISO/TS 10303-1018

USE FROM Product_view_definition_arm;    -- ISO/TS 10303-1019

USE FROM Product_view_definition_relationship_arm;    -- ISO/TS 10303-1041

USE FROM Property_assignment_arm;    -- ISO/TS 10303-1030


TYPE breakdown_element_realization_property_assignment_select = SELECT BASED_ON property_assignment_select WITH 
   (Breakdown_element_realization, 
    Breakdown_element_usage);
END_TYPE; 

TYPE breakdown_item = EXTENSIBLE SELECT
   (Breakdown_element_definition, 
    Breakdown_element_usage);
END_TYPE; 

TYPE product_item = EXTENSIBLE SELECT
   (Product_view_definition, 
    View_definition_usage);
END_TYPE; 

ENTITY Breakdown
  SUBTYPE OF (Product);
END_ENTITY;

ENTITY Breakdown_context;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  breakdown : Breakdown_version;
  breakdown_element : Breakdown_element_definition;
END_ENTITY;

ENTITY Breakdown_element
  SUBTYPE OF (Product);
END_ENTITY;

ENTITY Breakdown_element_definition
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Breakdown_element_version;
END_ENTITY;

ENTITY Breakdown_element_realization
  SUBTYPE OF (Product_definition_element_relationship);
END_ENTITY;

ENTITY Breakdown_element_usage
  SUBTYPE OF (View_definition_usage);
  name : STRING;
  SELF\View_definition_relationship.relating_view RENAMED parent_element : Breakdown_element_definition;
  SELF\View_definition_relationship.related_view RENAMED child_element : Breakdown_element_definition;
END_ENTITY;

ENTITY Breakdown_element_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Breakdown_element;
END_ENTITY;

ENTITY Breakdown_of;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  breakdown : Breakdown_version;
  of_view : Product_view_definition;
END_ENTITY;

ENTITY Breakdown_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Breakdown;
INVERSE
  breakdown_of : SET[1:?] OF Breakdown_of FOR breakdown;
END_ENTITY;

ENTITY Product_definition_element_relationship;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  breakdown : breakdown_item;
  product : product_item;
END_ENTITY;

END_SCHEMA;  -- Product_breakdown_arm



(*
   ------------------------------------------------------------
G:\abf\stepmod\ballots\ballots\test210\express\arm\Product_class_arm.exp
   ------------------------------------------------------------
*)

(* 
   $Id: arm_20041216v1.exp,v 1.1 2004/12/16 21:44:34 abf Exp $
   ISO/TC184/SC4 WG12N2640 - ISO/TS 10303-1103 Product class - Express ARM 
   Supersedes ISO TC184/SC4/WG12N1586
*)

SCHEMA Product_class_arm;

USE FROM Product_concept_identification_arm;

TYPE expression_operator = ENUMERATION OF (or_operator, and_operator, oneof_operator, not_operator);
END_TYPE;

 TYPE specification_operand_select = SELECT
      (Specification_expression, Specification);
 END_TYPE;


 ENTITY Class_category_association;
  associated_product_class : Product_class;
  mandatory : BOOLEAN;
  associated_category : Specification_category;
 END_ENTITY;

 ENTITY Class_condition_association;
  condition_type : STRING;
  associated_product_class : Product_class;
  description : OPTIONAL STRING;
  associated_condition : Specification_expression;
 END_ENTITY;

 ENTITY Class_inclusion_association;
  associated_product_class : Product_class;
  description : OPTIONAL STRING;
  associated_inclusion : Specification_inclusion;
 END_ENTITY;

 ENTITY Class_specification_association;
  associated_product_class : Product_class;
  association_type : STRING;
  associated_specification : Specification;
 END_ENTITY;

ENTITY Product_class
  SUBTYPE OF (Product_concept);
  version_id : OPTIONAL STRING;
  level_type : OPTIONAL STRING;
WHERE
WR1: NOT EXISTS(SELF\Product_concept.target_market);
END_ENTITY;

 ENTITY Product_class_relationship;
  description : OPTIONAL STRING;
  relating : Product_class;
  related : Product_class;
  relation_type : STRING;
 END_ENTITY;

 ENTITY Specification;
  id : STRING;
  version_id : OPTIONAL STRING;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
  category : Specification_category;
  package : BOOLEAN;
 END_ENTITY;

 ENTITY Specification_category;
  id : STRING;
  description : STRING;
  implicit_exclusive_condition : BOOLEAN;
 END_ENTITY;

 ENTITY Specification_category_hierarchy;
  sub_category : Specification_category;
  super_category : Specification_category;
 END_ENTITY;

 ENTITY Specification_expression;
  id : OPTIONAL STRING;
  description : OPTIONAL STRING;
  operation : expression_operator;
  operand : SET[1:?] OF specification_operand_select;
 WHERE
 WR1: (operation <> not_operator) OR (SIZEOF(operand)=1); 
 END_ENTITY;

 ENTITY Specification_inclusion;
  id : OPTIONAL STRING;
  description : OPTIONAL STRING;
  if_condition : specification_operand_select;
  included_specification : specification_operand_select;
 END_ENTITY;


END_SCHEMA;

