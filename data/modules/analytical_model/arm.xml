<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express description.file="arm_descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="ISO/TS 10303-1603">
   <application name="JSDAI" owner="LKSoft" source="analytical_model_arm schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="Analytical_model_arm">
      <interface kind="use" schema="Model_parameter_arm"/>
      <interface kind="use" schema="Software_arm"/>
      <interface kind="use" schema="Document_structure_arm"/>
      <interface kind="use" schema="Product_view_definition_relationship_arm"/>
      <interface kind="reference" schema="Specification_document_arm">
         <interfaced.item name="get_document_definition"/>
      </interface>
      <type name="am_documented_element_select">
         <select basedon="documented_element_select" extensible="YES" genericentity="YES" selectitems="Analytical_model_definition"/>
      </type>
      <type name="am_external_identification_item">
         <select basedon="external_identification_item" extensible="YES" genericentity="YES" selectitems="Digital_analytical_model_vector_port"/>
      </type>
      <type name="am_parameter_assignment_select">
         <select basedon="parameter_assignment_select" selectitems="Analytical_model_parameter"/>
      </type>
      <type name="am_property_assignment_select">
         <select basedon="property_assignment_select" selectitems="Analytical_model_definition"/>
      </type>
      <type name="analytical_model_port_assignment_select">
         <select extensible="YES" genericentity="YES"/>
      </type>
      <type name="port_property_type">
         <enumeration items="string_property_type boolean_property_type logical_property_type numeric_property_type physical_property_type"/>
      </type>
      <type name="signal_flow_direction">
         <enumeration items="unknown_direction not_applicable output_direction input_direction bidirectional"/>
      </type>
      <entity name="Across_port_variable" supertypes="Analog_port_variable">
         <where expression="EXISTS(SELF\Analog_port_variable.unit_of_measure)" label="WR1"/>
      </entity>
      <entity name="Analog_analytical_model_port" supertypes="Analytical_model_port">
         <inverse attribute="associated_port" entity="Analog_port_variable" name="signal_variable">
            <inverse.aggregate lower="1" type="SET" upper="?"/>
         </inverse>
      </entity>
      <entity name="Analog_port_variable" super.expression="ONEOF (Through_port_variable, Across_port_variable, Transform_port_variable)">
         <explicit name="associated_port">
            <typename name="Analog_analytical_model_port"/>
         </explicit>
         <explicit name="variable_name">
            <builtintype type="STRING"/>
         </explicit>
         <explicit name="unit_of_measure" optional="YES">
            <typename name="Unit"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="variable_name"/>
            <unique.attribute attribute="associated_port"/>
         </unique>
      </entity>
      <entity name="Analytical_model" supertypes="Information_product">
         <unique label="UR1">
            <unique.attribute attribute="SELF\Product.id"/>
         </unique>
      </entity>
      <entity name="Analytical_model_application" supertypes="Representation">
         <explicit name="model_parameter_assignment" optional="YES">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Parameter_assignment"/>
         </explicit>
         <explicit name="model_representation">
            <typename name="Analytical_model_definition"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="SELF\Representation.name"/>
         </unique>
      </entity>
      <entity name="Analytical_model_definition" supertypes="Information_definition">
         <explicit name="defined_version">
            <typename name="Analytical_model_version"/>
            <redeclaration entity-ref="Product_view_definition"/>
         </explicit>
         <explicit name="source_code">
            <aggregate lower="1" type="SET" upper="1"/>
            <typename name="Digital_file"/>
         </explicit>
         <derived expression="get_document_definition(SELF, 'representation language', &#10;  &#9;&#9;&#9;'SPECIFICATION_DOCUMENT_ARM.LANGUAGE_REFERENCE_MANUAL')" name="representation_language">
            <aggregate lower="1" type="SET" upper="1"/>
            <typename name="Document_definition"/>
         </derived>
         <inverse attribute="accessed_analytical_model" entity="Analytical_model_port" name="access_mechanism">
            <inverse.aggregate lower="1" type="SET" upper="?"/>
         </inverse>
         <inverse attribute="accessed_analytical_model" entity="Analytical_model_parameter" name="parameter">
            <inverse.aggregate lower="1" type="SET" upper="?"/>
         </inverse>
         <inverse attribute="is_assigned_to" entity="Document_assignment" name="reference_document"/>
      </entity>
      <entity name="Analytical_model_make_from_relationship" supertypes="View_definition_relationship">
         <explicit name="reusable_model">
            <typename name="Analytical_model_definition"/>
            <redeclaration entity-ref="View_definition_relationship" old_name="relating_view"/>
         </explicit>
         <explicit name="resultant_model">
            <typename name="Analytical_model_definition"/>
            <redeclaration entity-ref="View_definition_relationship" old_name="related_view"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="reusable_model"/>
            <unique.attribute attribute="resultant_model"/>
         </unique>
         <where expression="reusable_model :&lt;&gt;: resultant_model" label="WR1"/>
      </entity>
      <entity name="Analytical_model_parameter" supertypes="Applied_independent_property">
         <explicit name="accessed_analytical_model">
            <typename name="Analytical_model_definition"/>
            <redeclaration entity-ref="Assigned_property" old_name="described_element"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="SELF\Assigned_property.id"/>
            <unique.attribute attribute="accessed_analytical_model"/>
         </unique>
      </entity>
      <entity name="Analytical_model_port" super.expression="Analytical_model_vector_port ANDOR ONEOF (Analog_analytical_model_port, Digital_analytical_model_port)">
         <explicit name="accessed_analytical_model">
            <typename name="Analytical_model_definition"/>
         </explicit>
         <explicit name="port_name">
            <builtintype type="STRING"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="port_name"/>
            <unique.attribute attribute="accessed_analytical_model"/>
         </unique>
      </entity>
      <entity name="Analytical_model_port_assignment">
         <explicit name="assigned_analytical_model_port">
            <typename name="Analytical_model_port"/>
         </explicit>
         <explicit name="assigned_item">
            <typename name="analytical_model_port_assignment_select"/>
         </explicit>
         <explicit name="associated_analytical_model_application">
            <typename name="Analytical_model_application"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="assigned_analytical_model_port"/>
            <unique.attribute attribute="assigned_item"/>
            <unique.attribute attribute="associated_analytical_model_application"/>
         </unique>
         <where expression="assigned_analytical_model_port.accessed_analytical_model =&#10;   associated_analytical_model_application.model_representation" label="WR1"/>
      </entity>
      <entity name="Analytical_model_port_make_from_relationship">
         <explicit name="associated_make_from">
            <typename name="Analytical_model_make_from_relationship"/>
         </explicit>
         <explicit name="reusable_feature">
            <typename name="Analytical_model_port"/>
         </explicit>
         <explicit name="resultant_feature">
            <typename name="Analytical_model_port"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="reusable_feature"/>
            <unique.attribute attribute="resultant_feature"/>
         </unique>
         <where expression="reusable_feature :&lt;&gt;: resultant_feature" label="WR1"/>
         <where expression="reusable_feature.accessed_analytical_model :&lt;&gt;: resultant_feature.accessed_analytical_model" label="WR2"/>
      </entity>
      <entity name="Analytical_model_scalar_port" supertypes="Analytical_model_vector_port">
         <where expression="SIZEOF(SELF\Analytical_model_vector_port.element_port) = 1" label="WR1"/>
         <where expression="SELF = SELF\Analytical_model_vector_port.element_port[1]" label="WR2"/>
      </entity>
      <entity name="Analytical_model_vector_port" super.expression="Analytical_model_scalar_port" supertypes="Analytical_model_port">
         <explicit name="element_port">
            <aggregate lower="1" type="LIST" upper="?"/>
            <typename name="Analytical_model_scalar_port"/>
         </explicit>
         <derived expression="SIZEOF(element_port)" name="size">
            <builtintype type="INTEGER"/>
         </derived>
      </entity>
      <entity name="Analytical_model_version" supertypes="Information_version">
         <explicit name="of_product">
            <typename name="Analytical_model"/>
            <redeclaration entity-ref="Product_version"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="Digital_analytical_model_port" super.expression="Digital_analytical_model_vector_port" supertypes="Analytical_model_port">
         <explicit name="nominal_signal_flow_direction">
            <typename name="signal_flow_direction"/>
         </explicit>
         <explicit name="port_type">
            <typename name="port_property_type"/>
         </explicit>
         <where expression="not_applicable &lt;&gt; nominal_signal_flow_direction" label="WR1"/>
         <where expression="numeric_property_type &lt;&gt; port_type" label="WR2"/>
         <where expression="physical_property_type &lt;&gt; port_type" label="WR3"/>
         <where expression="unknown_direction &lt;&gt; nominal_signal_flow_direction" label="WR4"/>
      </entity>
      <entity name="Digital_analytical_model_scalar_port" supertypes="Digital_analytical_model_vector_port Analytical_model_scalar_port"/>
      <entity name="Digital_analytical_model_vector_port" supertypes="Digital_analytical_model_port Analytical_model_vector_port">
         <inverse attribute="item" entity="External_source_identification" name="data_encoding_method"/>
         <where expression="SELF\Digital_analytical_model_port.port_type = port_property_type.string_property_type" label="WR1"/>
      </entity>
      <entity name="Terminal_pair_port_equivalence_relationship">
         <explicit name="equivalent_port">
            <typename name="Analytical_model_port"/>
         </explicit>
         <explicit name="scalar_ports">
            <typename name="Analytical_model_vector_port"/>
         </explicit>
         <where expression="(SIZEOF (scalar_ports.element_port) = 2)" label="WR1"/>
      </entity>
      <entity name="Through_port_variable" supertypes="Analog_port_variable">
         <where expression="EXISTS(SELF\Analog_port_variable.unit_of_measure)" label="WR1"/>
      </entity>
      <entity name="Transform_port_variable" supertypes="Analog_port_variable">
         <explicit name="nominal_signal_flow_direction">
            <typename name="signal_flow_direction"/>
         </explicit>
         <where expression="signal_flow_direction.not_applicable &lt;&gt; nominal_signal_flow_direction" label="WR1"/>
         <where expression="signal_flow_direction.bidirectional &lt;&gt; nominal_signal_flow_direction" label="WR2"/>
      </entity>
      <rule appliesto="Product_view_definition" name="analytical_model_definition_constraint">
         <where expression="SIZEOF ( QUERY ( pvd &lt;* Product_view_definition | ( NOT ( 'ANALYTICAL_MODEL_ARM.' + 'ANALYTICAL_MODEL_DEFINITION' IN TYPEOF (pvd) ) ) AND ( 'ANALYTICAL_MODEL_ARM.' + 'ANALYTICAL_MODEL_VERSION' IN TYPEOF ( pvd.defined_version) ) ) ) =0" label="WR1"/>
      </rule>
      <rule appliesto="Product_version" name="analytical_model_version_constraint">
         <where expression="SIZEOF ( QUERY ( pv &lt;* Product_version | ( NOT ( 'ANALYTICAL_MODEL_ARM.' + 'ANALYTICAL_MODEL_VERSION' IN TYPEOF ( pv) ) ) AND ( 'ANALYTICAL_MODEL_ARM.' + 'ANALYTICAL_MODEL' IN TYPEOF ( pv.of_product) ) ) ) =0" label="WR1"/>
      </rule>
   </schema>
</express>
