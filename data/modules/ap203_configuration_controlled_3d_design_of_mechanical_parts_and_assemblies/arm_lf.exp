
(* ===================================================================================== *)
(* Long form schema generated by The EXPRESS Data Manager  compiler version 9.8.1B.20090502*)
(* Fri Jul 03 13:01:29 2009                                                                *)
(* The schema is converted from ISO10303 P11-2003 to ISO10303 P11-1994                     *)
(* ===================================================================================== *)

SCHEMA Ap203_configuration_controlled_3d_design_of_mechanical_parts_and_assemblies_arm_LF;


CONSTANT

  Pre_defined_approval_types : SET OF STRING := [
 'disposition',
 'equipment order',
 'planning'];

  Pre_defined_activity_relationship_types : SET OF STRING := [
 'alternative',
 'decomposition',
 'derivation',
 'exclusiveness',
 'precedence',
 'sequence',
 'simultaneity'];

  Pre_defined_security_classification_types : SET OF STRING := [
 'unclassified',
 'classified',
 'proprietary',
 'confidential',
 'secret',
 'top secret'];

  Pre_defined_address_assignment_types : SET OF STRING := [
 'delivery address',
 'postal address',
 'visitor address'];

  Pre_defined_organization_or_person_in_organization_assignment_types : SET OF STRING := [
 'author',
 'classification officer',
 'creator',
 'custodian',
 'customer',
 'design supplier',
 'editor',
 'id owner',
 'location',
 'manufacturer',
 'owner',
 'read access',
 'supplier',
 'wholesaler',
 'write access',
 'organization in contract'];

  Pre_defined_approval_status_types : SET OF STRING := [
 'approved',
 'disapproved',
 'withdrawn',
 'not yet approved']	;

    pre_defined_picture_representation_types : SET [0:?] OF STRING := [ 'JPEG', 'PNG', 'TIFF', 'BMP', 'GIF']; 

  Pre_defined_date_or_date_time_assignment_types : SET OF STRING := [
 'creation',
 'installation',
 'production',
 'registration',
 'update',
 'planned',
 'actual',
 'start date',
 'end date',
 'release date',
 'request date'];

  Pre_defined_work_request_types : SET OF STRING := [
 'change of standard',
 'cost reduction',
 'customer rejection',
 'customer request',
 'durability improvement',
 'government regulation',
 'production alignment',
 'procurement alignment',
 'production relief',
 'production requirement',
 'quality improvement',
 'security reason',
 'standardization',
 'supplier request',
 'technical improvement',
 'tool improvement'];

  Pre_defined_work_request_status_types : SET OF STRING := [
 'in work',
 'issued',
 'proposed',
 'resolved'];

    pre_defined_type_qualifiers : SET OF STRING := ['minimum', 'maximum',
    'nominal', 'specified', 'typical', 'calculated', 'designed', 'estimated',
    'measured', 'required', 'set point',
    'basic', 'lower deviation', 'upper deviation'];

  chemical_elements : LIST OF STRING := [
      'HYDROGEN',
      'HELIUM',
      'LITHIUM',
      'BERYLLIUM',
      'BORON',
      'CARBON',
      'NITROGEN',
      'OXYGEN',
      'FLUORINE',
      'NEON',
      'SODIUM',
      'MAGNESIUM',
      'ALUMINIUM',
      'SILICON',
      'PHOSPHORUS',
      'SULPHUR',
      'CHLORINE',
      'ARGON',
      'POTASSIUM',
      'CALCIUM',
      'SCANDIUM',
      'TITANIUM',
      'VANADIUM',
      'CHROMIUM',
      'MANGANESE',
      'IRON',
      'COBALT',
      'NICKEL',
      'COPPER',
      'ZINC',
      'GALLIUM',
      'GERMANIUM',
      'ARSENIC',
      'SELENIUM',
      'BROMINE',
      'KRYPTON',
      'RUBIDIUM',
      'STRONTIUM',
      'YTTRIUM',
      'ZIRCONIUM',
      'NIOBIUM',
      'MOLYBDENUM',
      'TECHNETIUM',
      'RUTHENIUM',
      'RHODIUM',
      'PALLADIUM',
      'SILVER',
      'CADMIUM',
      'INDIUM',
      'TIN',
      'ANTIMONY',
      'TELLURIUM',
      'IODINE',
      'XENON',
      'CAESIUM',
      'BARIUM',
      'LANTHANUM',
      'CERIUM',
      'PRASEODYMIUM',
      'NEODYMIUM',
      'PROMETHIUM',
      'SAMARIUM',
      'EUROPIUM',
      'GADOLINIUM',
      'TERBIUM',
      'DYSPROSIUM',
      'HOLMIUM',
      'ERBIUM',
      'THULIUM',
      'YTTERBIUM',
      'LUTETIUM',
      'HAFNIUM',
      'TANTALUM',
      'TUNGSTEN',
      'RHENIUM',
      'OSMIUM',
      'IRIDIUM',
      'PLATINUM',
      'GOLD',
      'MERCURY',
      'THALLIUM',
      'LEAD',
      'BISMUTH',
      'POLONIUM',
      'ASTATINE',
      'RADON',
      'FRANCIUM',
      'RADIUM',
      'ACTINIUM',
      'THORIUM',
      'PROTACTINIUM',
      'URANIUM',
      'NEPTUNIUM',
      'PLUTONIUM',
      'AMERICIUM',
      'CURIUM',
      'BERKELIUM',
      'CALIFORNIUM',
      'EINSTEINIUM',
      'FERMIUM',
      'MENDELEVIUM',
      'NOBELIUM',
      'LAWRENCIUM',
      'RUTHERFORDIUM',
      'DUBNIUM',
      'SEABORGIUM',
      'BOHRIUM',
      'HASSIUM',
      'MEITNERIUM',
      'DARMSTADTIUM',
      'ROENTGENIUM'];

END_CONSTANT;

TYPE external_identification_item = SELECT (
   Document_definition,
   Externally_defined_activity_relationship,
   Externally_defined_address_assignment,
   Externally_defined_approval,
   Externally_defined_approval_status,
   Externally_defined_date_or_date_time_assignment,
   Externally_defined_organization_or_person_in_organization_assignment,
   Externally_defined_picture_representation_item,
   Externally_defined_security_classification,
   Externally_defined_work_request,
   Externally_defined_work_request_status,
   File,
   User_defined_library_or_dictionary);
END_TYPE;


(* Pruned unused type: appearance_context_203e2  *)


(* Pruned unused type: approval_item_203e2  *)


(* Pruned unused type: contract_item_203e2  *)


(* Pruned unused type: documented_element_select_203e2  *)


(* Pruned unused type: effectivity_item_203e2  *)


(* Pruned unused type: groupable_item_203e2  *)


(* Pruned unused type: identification_item_203e2  *)


(* Pruned unused type: organization_or_person_in_organization_item_203e2  *)


(* Pruned unused type: ply_laminate_shape_203e2  *)


(* Pruned unused type: presentation_association_select_203e2  *)


(* Pruned unused type: presented_model_select_203e2  *)


(* Pruned unused type: security_classification_item_203e2  *)


(* Pruned unused type: string_select_203e2  *)


(* Pruned unused type: time_interval_item_203e2  *)


(* Pruned unused type: text_or_composite_text_203e2  *)


(* Pruned unused type: text_string_representation_item_select_203e2  *)


(* Pruned unused type: cs_material_item_select  *)


TYPE substance_composition_basis = ENUMERATION OF (
   ATOMS,
   MASS,
   MOLES,
   VOLUME);
END_TYPE;


(* Pruned unused type: compma_material_item_select  *)


TYPE cell_entry_select = SELECT
   (Plus_minus_toleranced_datum, 
    Upper_lower_toleranced_datum);
END_TYPE; 

TYPE default_context_select = SELECT
   (Item_shape);
END_TYPE; 

TYPE default_setting_select = SELECT (
   General_tolerances);
END_TYPE;


TYPE general_tolerance_table_select = SELECT (
   General_tolerance_table);
END_TYPE;


TYPE limit_select = SELECT
   (Significant_number_of_digits, 
    Upper_lower_limit);
END_TYPE; 

(* Pruned unused type: design_activity_method_item  *)


(* Pruned unused type: design_approval_item  *)


(* Pruned unused type: design_pdm_affected_item_select  *)


(* Pruned unused type: design_pdm_assigned_name_select  *)


(* Pruned unused type: design_pdm_certification_item  *)


(* Pruned unused type: design_pdm_classification_item  *)


(* Pruned unused type: design_pdm_classified_attribute_select  *)


(* Pruned unused type: design_pdm_contract_item  *)


(* Pruned unused type: design_pdm_date_or_date_time_item  *)


(* Pruned unused type: design_pdm_documented_element_select  *)


(* Pruned unused type: design_pdm_groupable_item  *)


(* Pruned unused type: design_pdm_identification_item  *)


(* Pruned unused type: design_pdm_information_usage_right_item  *)


(* Pruned unused type: design_pdm_material_item_select  *)


(* Pruned unused type: design_pdm_organization_or_person_in_organization_item  *)


(* Pruned unused type: design_pdm_requirement_assignment_item  *)


(* Pruned unused type: design_pdm_requirement_source_item  *)


(* Pruned unused type: design_pdm_security_classification_item  *)


(* Pruned unused type: design_pdm_string_select  *)


(* Pruned unused type: dimension_tolerance_document_element_select  *)


TYPE dimension_value_select = SELECT
   (Dimension_value_with_limitation, 
    Numerical_item_with_unit, 
    Tolerance_range, 
    Value_limit);
END_TYPE; 

TYPE element_with_dimension_select = SELECT (
   Shape_element);
END_TYPE;


TYPE limitation_definition_select = SELECT
   (Limits_and_fits, 
    Plus_minus_bounds);
END_TYPE; 

TYPE placed_element_select = SELECT (
   constructive_element_select,
   Derived_geometry,
   element_with_dimension_select);
END_TYPE;


(* Pruned unused type: dd_view_element_select  *)


  TYPE draughting_titled_item = SELECT 
    (Drawing,
     Drawing_sheet);
  END_TYPE;

TYPE point_or_measure = SELECT (Cartesian_point, Measure_item);
END_TYPE;

  TYPE open_shell_or_subsurface = SELECT
    (Manifold_surface_shape_representation,
     Manifold_subsurface_model);
  END_TYPE;

(* Pruned unused type: mdprwd_draughting_model_element_select  *)


TYPE mdprwd_element_select = SELECT (
   Axis_placement,
   Camera_model_d3);
END_TYPE;


TYPE mechanical_design_and_draughting_relationship_select = SELECT (
   Draughting_model,
   Geometric_model,
   Mechanical_design_presentation_representation_with_draughting,
   Mechanical_design_shaded_styled_model,
   Mechanical_representation_styled_model);
END_TYPE;


  TYPE trim_intent = ENUMERATION OF
    (blind,
     through_all,
     up_to_next,
     unspecified);
  END_TYPE;

  TYPE trim_select = SELECT
    (length_measure,
     plane_angle_measure,
     Advanced_face,
     Detailed_geometric_model_element);
  END_TYPE;

  TYPE component_class_for_assembly = SELECT 
    (Composite_assembly,
     Filament_laminate,
     Ply,
     Ply_laminate,
     Processed_core);
  END_TYPE;

  TYPE thickness_laminate_table_component = SELECT 
    (Filament_laminate,
     Ply,
     Processed_core);
  END_TYPE;

TYPE picture_representation_element_select = SELECT (
   Axis_placement_2d,
   Picture_representation_item,
   Styled_element);
END_TYPE;


(* Pruned unused type: pr_external_identification_item  *)


  TYPE evaluation_result_value = ENUMERATION OF
    (pass,
     fail,
     undefined);
  END_TYPE;

  TYPE evaluation_type = ENUMERATION OF
    (not_evaluatable,
     invalid,
     valid,
     to_be_evaluated);
  END_TYPE;

  TYPE angle_select = SELECT 
    (Axis_placement_3d,
     Curve,
     Direction,
     Point_path);
  END_TYPE;

(* Pruned unused type: sf_property_assignment_select  *)


  TYPE blend_end_condition = SELECT
    (Edge_curve,
    Point_on_curve,
    Vertex);
  END_TYPE;

  TYPE blend_radius_variation = ENUMERATION OF
    (linear,
     cubic,
     unspecified);
  END_TYPE;

  TYPE sculpting_surface = SELECT
    (Advanced_face,
     Advanced_open_shell,
     Surface);
  END_TYPE;

  TYPE solid_with_placed_feature = SELECT
    (Solid_with_depression,
    Solid_with_protrusion,
    Solid_with_circular_pattern,
    Solid_with_rectangular_pattern);
  END_TYPE;

TYPE measuring_gauge_select = SELECT (
   Part_view_definition);
END_TYPE;


(* Pruned unused type: sf_material_item_select  *)


  TYPE shaped_element_select = SELECT
    (Shape_element,Item_shape);
  END_TYPE;

  TYPE texture_select = SELECT
    (Surface_texture);
  END_TYPE;

(* Pruned unused type: tr_font_select  *)


TYPE any_number_value = NUMBER;
END_TYPE; 

TYPE any_string_value = STRING;
END_TYPE; 

TYPE length_measure = REAL;
END_TYPE; 

TYPE measure_value = SELECT (
   any_number_value,
   any_string_value,
   length_measure,
   plane_angle_measure);
END_TYPE;


TYPE plane_angle_measure = REAL;
END_TYPE; 

TYPE material_item_select = SELECT (
   Anisotropic_material,
   Braided_assembly,
   Coating_layer,
   Isotropic_material,
   Laminate_table,
   Part_view_definition,
   Substance_view_definition,
   Woven_assembly);
END_TYPE;


  TYPE material_property_select = SELECT (Material_property, General_material_property);
  END_TYPE;

  TYPE dependent_or_independent_property_representation = SELECT(
    Independent_property_representation,
    Property_representation);
  END_TYPE;

TYPE organization_or_person_in_organization_item = SELECT (
   Activity,
   Alias_identification,
   Alternate_part_relationship,
   Applied_activity_assignment,
   Applied_independent_property,
   Approval,
   Assembly_relationship_substitution,
   Certification,
   Classification_assignment,
   Classification_association,
   Contract,
   Digital_document_definition,
   Digital_file,
   Document,
   Document_definition,
   Document_version,
   File,
   Geometric_model,
   Hardcopy,
   Identification_assignment,
   Independent_property,
   Information_usage_right,
   Part,
   Part_version,
   Part_view_definition,
   Physical_document_definition,
   Product_configuration,
   Product_version_relationship,
   Project,
   Rule_action,
   Security_classification,
   Security_classification_assignment,
   Supplied_part_relationship,
   Work_order,
   Work_request);
END_TYPE;


  TYPE cartesian_transformation = SELECT (
    Cartesian_transformation_2d, 
 Cartesian_transformation_3d);
  END_TYPE;

  TYPE geometric_mapping_target = SELECT (
    Axis_placement, 
    cartesian_transformation);
  END_TYPE;

  TYPE described_element_select = SELECT (
    View_definition_usage,
    Product_occurrence_definition_relationship);
  END_TYPE;  

  TYPE geometric_item_specific_usage_select = SELECT (
    Shape_element,
    Shape_element_relationship);
  END_TYPE;  

  TYPE shape_dependent_select = SELECT
    (Item_shape, 
     Shape_element);
  END_TYPE; 

  TYPE shape_model = SELECT
    (External_geometric_model, 
     Geometric_model);
  END_TYPE; 

  TYPE shape_select = SELECT
    (Item_shape, 
     Shape_element, 
     Shape_element_relationship);
  END_TYPE; 

  TYPE shapeable_item = SELECT
    (Characterizable_object,
     Product_occurrence_definition_relationship, 
     Product_view_definition, 
     View_definition_usage);
  END_TYPE; 

(* Pruned unused type: classification_item_extended  *)


TYPE classified_element_select = SELECT (
   Product,
   Product_version,
   Product_view_definition);
END_TYPE;


TYPE external_class_select = SELECT(Plib_class_reference, External_class);
END_TYPE;

(* Pruned unused type: definable_objects  *)


TYPE classification_item = SELECT (
   Activity,
   Activity_method,
   Activity_method_assignment,
   Activity_property,
   Activity_relationship,
   Address,
   Address_assignment,
   Affected_items_assignment,
   Alternate_product_relationship,
   Applied_activity_assignment,
   Approval,
   Approval_assignment,
   Approval_relationship,
   Approval_status,
   Approving_person_organization,
   Assembly_component_relationship,
   Assembly_relationship_substitution,
   Assigned_property,
   Attribute_translation_assignment,
   Calendar_date,
   Certification,
   Certification_assignment,
   Characterizable_object,
   Class,
   classified_element_select,
   Context_dependent_unit,
   Contract,
   Contract_assignment,
   Conversion_based_unit,
   Date_or_date_time_assignment,
   Date_time,
   Derived_unit,
   Digital_document_definition,
   Digital_file,
   Directed_activity,
   Document_assignment,
   Effectivity,
   Event,
   Event_assignment,
   External_source_identification,
   File,
   File_relationship,
   Identification_assignment,
   Independent_property,
   Independent_property_relationship,
   Independent_property_representation,
   Information_right,
   Information_usage_right,
   Information_usage_right_relationship,
   Language,
   Numerical_item_with_unit,
   Organization,
   Organization_or_person_in_organization_assignment,
   Organization_relationship,
   Part_view_definition,
   Person,
   Product,
   Product_concept,
   Product_configuration,
   Product_version,
   Product_version_relationship,
   Product_view_definition,
   Project,
   Project_assignment,
   Project_relationship,
   Representation,
   Representation_context,
   Representation_item,
   Security_classification,
   Security_classification_assignment,
   String_representation_item,
   Uncertainty_with_unit,
   Value_with_unit,
   View_definition_context,
   View_definition_relationship,
   Work_order,
   Work_request,
   Work_request_status);
END_TYPE;


TYPE identification_item = SELECT (
   Approval_status,
   Contract,
   Digital_document_definition,
   Digital_file,
   Document,
   Document_definition,
   Document_version,
   Geometric_model,
   Group,
   Group_relationship,
   Hardcopy,
   Independent_property,
   Information_right,
   Information_usage_right,
   Information_usage_right_relationship,
   Material_identification,
   Organization,
   Part,
   Part_version,
   Part_view_definition,
   Physical_document_definition,
   Product,
   product_class,
   Product_concept,
   Product_configuration,
   Product_version,
   Requirement,
   Requirement_version,
   Requirement_view_definition,
   Rule_set,
   Security_classification,
   Shape_element_relationship);
END_TYPE;


TYPE information_usage_right_item = SELECT (
   certification_item,
   Characterizable_object,
   classification_item,
   documented_element_select,
   identification_item,
   Organization,
   Person_in_organization,
   Product_version,
   requirement_assignment_item,
   Work_order);
END_TYPE;


(* Pruned unused type: right_approval_item  *)


(* Pruned unused type: right_contract_item  *)


(* Pruned unused type: right_date_item  *)


(* Pruned unused type: right_person_organization_item  *)


(* Pruned unused type: effectivity_item_for_replacement  *)


(* Pruned unused type: pdpdms_external_identification_item  *)


(* Pruned unused type: pdm_activity_item  *)


(* Pruned unused type: pdm_affected_item_select  *)


(* Pruned unused type: pdm_approval_item  *)


(* Pruned unused type: pdm_certification_item  *)


(* Pruned unused type: pdm_classification_item  *)


(* Pruned unused type: pdm_date_or_date_time_item  *)


(* Pruned unused type: pdm_documented_element_select  *)


(* Pruned unused type: pdm_effectivity_item  *)


(* Pruned unused type: pdm_event_item  *)


(* Pruned unused type: pdm_external_class_assigned_name_select  *)


(* Pruned unused type: pdm_identification_item  *)


(* Pruned unused type: pdm_organization_or_person_in_organization_item  *)


(* Pruned unused type: pdm_project_item  *)


(* Pruned unused type: pdm_security_classification_item  *)


(* Pruned unused type: pdm_string_select  *)


(* Pruned unused type: pdm_time_interval_item  *)


TYPE requirement_assignment_item = SELECT (
   Product,
   Product_class,
   Product_configuration,
   Product_version,
   Product_view_definition,
   View_definition_relationship);
END_TYPE;


TYPE requirement_satisfaction_item = SELECT (
   requirement_assignment_item);
END_TYPE;


TYPE requirement_source_item = SELECT (
   Characterizable_object,
   Group,
   Group_relationship,
   Product,
   Product_version,
   Product_view_definition,
   Shape_element,
   View_definition_relationship);
END_TYPE;


  TYPE breakdown_element_select = SELECT (
 Functional_element_definition,
 Physical_element_definition);
  END_TYPE;

  TYPE constraint_context_select = SELECT (Product_class);
  END_TYPE;

(* Pruned unused type: effectivity_specification_for_replacement  *)


TYPE instance_usage_context_select = SELECT (
   Collected_item_association,
   Solution_element);
END_TYPE;


(* Pruned unused type: sc_configured_element  *)


TYPE activity_method_item = SELECT (
   Document,
   Document_version);
END_TYPE;


TYPE classified_attribute_select = SELECT (
   Activity,
   Activity_method,
   Activity_method_assignment,
   Activity_property,
   Activity_property_representation,
   Activity_relationship,
   Address_assignment,
   Affected_items_assignment,
   Alternate_part_relationship,
   Applied_activity_assignment,
   Approval,
   Approval_assignment,
   Approval_relationship,
   Approval_status,
   Approving_person_organization,
   Assigned_property,
   Certification,
   Certification_assignment,
   Context_dependent_unit,
   Contract,
   Date_or_date_time_assignment,
   Descriptive_document_property,
   Digital_file,
   Document_assignment,
   Document_definition_relationship,
   Document_location_identification,
   Document_property_representation,
   Effectivity,
   Effectivity_assignment,
   Event_assignment,
   Event_relationship,
   External_item_identification,
   External_source_identification,
   File_location_identification,
   File_relationship,
   Group,
   Group_relationship,
   Hardcopy,
   Identification_assignment,
   Independent_property,
   Independent_property_relationship,
   Independent_property_representation,
   Information_right,
   Information_usage_right,
   Information_usage_right_relationship,
   Language,
   Market,
   Numerical_document_property,
   Organization_or_person_in_organization_assignment,
   Organization_relationship,
   Part_view_definition,
   Partial_document_assignment,
   Person_in_organization,
   Product,
   Product_concept,
   Product_version,
   Product_version_relationship,
   Product_view_definition,
   Project_assignment,
   Project_relationship,
   Property_representation,
   Representation,
   Representation_context,
   Representation_item,
   Security_classification,
   Time_interval_relationship,
   Uncertainty_with_unit,
   Unit,
   Value_with_unit,
   View_definition_context,
   View_definition_relationship,
   Work_order,
   Work_request,
   Work_request_status);
END_TYPE;


  TYPE annotation_occurrence_associativity_item = SELECT
    (Fill_area,
     Leader,
     Projection_curve);
  END_TYPE;

TYPE draughting_model_element_select = SELECT (
   Annotation_element,
   Axis_placement,
   Camera_model_d3,
   Draughting_callout,
   Styled_model_replication);
END_TYPE;


  TYPE draughting_model_item_association_select = SELECT
    (Annotation_element,
     Draughting_callout);
  END_TYPE;

  TYPE annotation_plane_element = SELECT
   (Draughting_callout,
    Styled_element);
  END_TYPE;

(* Pruned unused type: de_appearance_select  *)


TYPE draughting_callout_content_select = SELECT (
   Annotation_subfigure,
   Annotation_symbol,
   Generic_annotation_curve,
   Text);
END_TYPE;


  TYPE plane_or_planar_box = SELECT(
    Planar_box,
    Plane);
  END_TYPE; 

(* Pruned unused type: da_draughting_callout_content_select  *)


  TYPE symbol_definition_select = SELECT
    (Dimension_symbol, 
     General_symbol, 
     Geometric_tolerance_symbol, 
     Marker, 
     Surface_condition_symbol, 
     Terminator);
  END_TYPE; 

  TYPE chained_or_parallel = ENUMERATION OF
    (chained,
     parallel);
  END_TYPE;

TYPE dimension_callout_select = SELECT (
   Text);
END_TYPE;


  TYPE dimension_type = ENUMERATION OF 
    (angular,
     curve,
     diameter,
     leader_directed,
     linear,
     ordinate,
     radius);
  END_TYPE;

  TYPE primary_or_secondary = ENUMERATION OF
    (primary,
     secondary);
  END_TYPE;

TYPE constructive_element_select = SELECT (
   Axis_placement,
   Curve,
   point_select,
   Surface);
END_TYPE;


  TYPE constructive_geometry_select = SELECT
    (Constructive_geometry, 
     Geometric_model);
  END_TYPE; 

(* Pruned unused type: closed_curve  *)


TYPE point_select = SELECT (
   Cartesian_point,
   Point_on_curve,
   Point_on_surface);
END_TYPE;


(* Pruned unused type: alias_identification_item_203e2  *)


TYPE assigned_document_select = SELECT 
  (Document,
   Document_definition,
   Document_version,
   File);
END_TYPE;

TYPE documented_element_select = SELECT (
   Activity,
   Activity_method,
   Class_with_attributes,
   External_item_identification,
   Externally_defined_size_dimension,
   Group,
   Group_relationship,
   Information_right,
   Information_usage_right,
   Information_usage_right_relationship,
   Material_identification,
   Part,
   Part_version,
   Part_view_definition,
   Product,
   Product_configuration,
   Product_version,
   Product_version_relationship,
   Product_view_definition,
   Property_value_representation,
   Representation_item,
   Rule_set,
   Shape_element,
   Shape_element_relationship,
   View_definition_relationship,
   Work_request);
END_TYPE;


(* Pruned unused type: area_select  *)


TYPE presentation_association_select = SELECT (
   Activity,
   Activity_method,
   Activity_relationship,
   Design_constraint_definition,
   Product_concept,
   Product_version,
   Product_view_definition,
   Specification,
   Specification_category,
   View_definition_relationship);
END_TYPE;


TYPE view_area_element_select = SELECT (
   Axis_placement_2d,
   Styled_element,
   View_area_replication);
END_TYPE;


  TYPE view_area_relation_type = ENUMERATION OF
    (copy,
     derivation,
     hierarchy,
     substitution,
     unspecified);
  END_TYPE;

  TYPE view_area_replication_model = SELECT 
    (View_area, View); 
  END_TYPE;

TYPE view_element_select = SELECT (
   Axis_placement_2d,
   Camera_image_2d_with_scale,
   Model_image_3d,
   Styled_element);
END_TYPE;


  TYPE view_relation_type = ENUMERATION OF
    (dependency,
     unspecified);
  END_TYPE;

(* Pruned unused type: el_external_identification_item  *)


  TYPE clipping_mode = ENUMERATION OF
    (union, intersection);
  END_TYPE;

  TYPE light_type = ENUMERATION OF
    (ambient, directional, spot, positional);
  END_TYPE;

  TYPE clipping_element = SELECT 
    (Plane, Clipping_operator);
  END_TYPE;

(* Pruned unused type: cv3_view_element_select  *)


  TYPE view_projection_type = ENUMERATION OF 
    (central,
     parallel);
  END_TYPE; 

(* Pruned unused type: sal_appearance_context  *)


(* Pruned unused type: sal_appearance_select  *)


(* Pruned unused type: sal_overriding_style_context  *)


  TYPE boundary_class_zone = SELECT 
    (Boundary_curve_representation,
     Loop);
  END_TYPE;

  TYPE composite_assembly_shape = SELECT 
    (Advanced_brep_shape_representation,
     Edge_based_wireframe_shape_representation,
     Faceted_brep_shape_representation,
     Geometrically_bounded_surface_shape_representation,
     Geometrically_bounded_wireframe_shape_representation,
     Manifold_surface_shape_representation,
     Shell_based_wireframe_shape_representation,
     Three_d_geometry_set);
  END_TYPE;

  TYPE core_shape = SELECT 
    (Advanced_brep_shape_representation,
     Beveled_sheet_representation,
     Faceted_brep_shape_representation);
  END_TYPE;

TYPE ply_laminate_shape = SELECT (
   Advanced_brep_shape_representation,
   Composite_sheet_representation,
   Csg_model,
   Curve_swept_solid,
   Elementary_brep_shape_representation,
   Faceted_brep_shape_representation,
   Three_d_geometry_set);
END_TYPE;


  TYPE ply_piece_shape = SELECT 
    (Ply_shape);
  END_TYPE;

  TYPE projection_method = ENUMERATION OF 
    (projection_reference,
     surface_normal);
  END_TYPE;

  TYPE ply_stock_material = SELECT 
    (Discontinuous_fiber_assembly,
     Filament_assembly,
     Isotropic_material);
  END_TYPE;

(* Pruned unused type: sma_approval_item  *)


(* Pruned unused type: pr_identification_item  *)


(* Pruned unused type: pr_organization_or_person_in_organization_item  *)


TYPE clause_select = SELECT (Simple_clause, Complex_clause);
END_TYPE;

TYPE constants = SELECT (
   any_number_value,
   any_string_value,
   Logical_representation_item);
END_TYPE;


TYPE function_symbol = SELECT (any_string_value, built_in_functions);
END_TYPE;

TYPE built_in_functions = ENUMERATION OF (
   attr_val);
END_TYPE;


TYPE expression_syntax = ENUMERATION OF (
   express);
END_TYPE;


(* Pruned unused type: pr_documented_element_select  *)


TYPE predicate_symbol = STRING;
END_TYPE;

TYPE scope_select = SELECT (Rule_definition, Rule_set, Rule_set_group);
END_TYPE;

TYPE term_select = SELECT (Symbol, constants, Func, Scalar_variable, Row_value, Row_variable); 
END_TYPE;

  TYPE template_instance = SELECT
    (Geometric_placement_operation, 
     Geometric_model_relationship_with_transformation);
  END_TYPE; 

TYPE template_definition_select = SELECT (
   Geometric_model);
END_TYPE;


TYPE property_assignment_select = SELECT (
   Breakdown_element_realization,
   Breakdown_element_usage,
   Characterizable_object,
   Document_definition,
   File,
   Part_view_definition,
   Product_view_definition,
   Shape_element,
   View_definition_relationship);
END_TYPE;


TYPE represented_definition = SELECT (
   Assigned_property,
   Independent_property);
END_TYPE;


  TYPE solid_select = SELECT
    (Modified_solid,
     Detailed_geometric_model_element);
  END_TYPE;

  TYPE shape_model_element = SELECT
    (Detailed_topological_model_element,
     Detailed_geometric_model_element);
  END_TYPE;

  TYPE composite_text_element_select = SELECT
    (Composite_presentable_text, 
     Text_literal);
  END_TYPE; 

TYPE font_select = SELECT (
   Draughting_pre_defined_text_font,
   Externally_defined_text_font,
   Text_font);
END_TYPE;


TYPE text_alignment = ENUMERATION OF (
   bottom_centre,
   bottom_left,
   bottom_right,
   centre_centre,
   centre_left,
   centre_right,
   top_centre,
   top_left,
   top_right);
END_TYPE;


TYPE text_delineation = ENUMERATION OF (
   overline,
   underline);
END_TYPE;


  TYPE text_path = ENUMERATION OF(
    left,
    right,
    up,
    down);
  END_TYPE;

TYPE organization_or_person_in_organization_select = SELECT
   (Organization, 
    Person_in_organization);
END_TYPE; 

(* Pruned unused type: located_select  *)


  TYPE value_qualifier = SELECT
    (Precision_qualifier,
     Type_qualifier,
     Uncertainty_qualifier);
  END_TYPE;

(* Pruned unused type: external_class_assigned_name_select  *)


TYPE assigned_name_select = SELECT (
   External_class_library,
   Group,
   Group_relationship,
   Product,
   Product_view_definition);
END_TYPE;


TYPE contract_item = SELECT (
   Activity,
   Document_version,
   Information_usage_right,
   organization_or_person_in_organization_select,
   Part_version,
   Product_version,
   Work_order);
END_TYPE;


(* Pruned unused type: mri_alias_identification_item  *)


(* Pruned unused type: mri_approval_item  *)


(* Pruned unused type: mri_date_or_date_time_item  *)


(* Pruned unused type: mri_identification_item  *)


(* Pruned unused type: mri_organization_or_person_in_organization_item  *)


(* Pruned unused type: mri_string_select  *)


TYPE effectivity_item = SELECT (
   Assembly_component_relationship,
   Assembly_relationship_substitution,
   Configuration,
   Document,
   Document_definition,
   Document_definition_relationship,
   Document_version,
   Part,
   Part_definition_relationship,
   Part_version,
   Part_view_definition,
   Product_version,
   Product_view_definition,
   Replaced_usage_relationship,
   View_definition_relationship);
END_TYPE;


(* Pruned unused type: ps_product_property_assignment  *)


TYPE activity_item = SELECT (
   Assembly_component_relationship,
   Item_usage_effectivity,
   Product_version,
   Product_view_definition,
   View_definition_relationship);
END_TYPE;


TYPE approval_item = SELECT (
   Activity,
   Alternate_part_relationship,
   Applied_activity_assignment,
   Applied_information_usage_right,
   Assembly_relationship_substitution,
   Certification,
   Contract,
   Digital_document_definition,
   Document,
   Document_definition,
   Document_definition_relationship,
   Document_version,
   Effectivity,
   File,
   Group,
   Group_relationship,
   Independent_property_relationship,
   Information_usage_right,
   Item_usage_effectivity,
   Part_version,
   Part_view_definition,
   Physical_document_definition,
   Product_configuration,
   Product_version,
   Product_view_definition,
   Requirement_assignment,
   Security_classification,
   Stock_material,
   Supplied_part_relationship,
   Work_order,
   Work_request);
END_TYPE;


TYPE date_or_date_time_item = SELECT (
   Activity,
   Applied_activity_assignment,
   Certification,
   Contract,
   Digital_document_definition,
   Digital_file,
   Document_definition,
   Document_definition_relationship,
   Document_version,
   Hardcopy,
   Information_usage_right,
   Organization_or_person_in_organization_assignment,
   Physical_document_definition,
   Product_view_definition,
   Security_classification,
   Security_classification_assignment,
   Work_order,
   Work_request);
END_TYPE;


TYPE security_classification_item = SELECT (
   Assembly_component_relationship,
   Digital_document_definition,
   Digital_file,
   Document,
   Document_definition,
   Document_version,
   File,
   Hardcopy,
   Part_version,
   Part_view_definition,
   Physical_document_definition,
   Product_version,
   Product_view_definition,
   Promissory_usage,
   View_definition_usage);
END_TYPE;


TYPE affected_item_select = SELECT (
   Assembly_component_relationship,
   Assigned_property,
   Product_version,
   Product_view_definition,
   View_definition_relationship,
   Work_request);
END_TYPE;


TYPE item_usage_relationship_item = SELECT (
   Assembly_component_relationship,
   View_definition_usage);
END_TYPE;


TYPE version_or_definition = SELECT
   (Product_version, 
    Product_view_definition);
END_TYPE; 

(* Pruned unused type: document_management_alias_identification_item  *)


(* Pruned unused type: document_management_approval_item  *)


(* Pruned unused type: document_management_contract_item  *)


(* Pruned unused type: document_management_date_or_date_time_item  *)


(* Pruned unused type: document_management_identification_item  *)


(* Pruned unused type: document_management_person_and_organization_item  *)


(* Pruned unused type: document_management_security_classification_item  *)


(* Pruned unused type: document_management_string_select  *)


(* Pruned unused type: document_location_select  *)


TYPE descriptive_or_numerical = SELECT
   (Descriptive_document_property, 
    Numerical_document_property);
END_TYPE; 

TYPE document_property_item = property_assignment_select;
WHERE
  wr1 : NOT ('DOCUMENT_PROPERTIES_ARM.BREAKDOWN_ELEMENT_REALIZATION' IN TYPEOF(SELF));
  wr2 : NOT ('DOCUMENT_PROPERTIES_ARM.BREAKDOWN_ELEMENT_USAGE' IN TYPEOF(SELF));
  wr3 : NOT ('DOCUMENT_PROPERTIES_ARM.CHARACTERIZABLE_OBJECT' IN TYPEOF(SELF));
  wr4 : NOT ('DOCUMENT_PROPERTIES_ARM.PART_VIEW_DEFINITION' IN TYPEOF(SELF));
  wr5 : NOT ('DOCUMENT_PROPERTIES_ARM.PRODUCT_VIEW_DEFINITION' IN TYPEOF(SELF));
  wr6 : NOT ('DOCUMENT_PROPERTIES_ARM.SHAPE_ELEMENT' IN TYPEOF(SELF));
  wr7 : NOT ('DOCUMENT_PROPERTIES_ARM.VIEW_DEFINITION_RELATIONSHIP' IN TYPEOF(SELF));
END_TYPE;


(* Pruned unused type: idrm_marked_item  *)


TYPE characterized_activity_definition = SELECT (
   Activity,
   Activity_method);
END_TYPE;


(* Pruned unused type: product_property_assignment  *)


TYPE time_interval_item = SELECT (
   Activity,
   Time_interval_effectivity);
END_TYPE;


(* Pruned unused type: requirement_view_definition_identification_item  *)


(* Pruned unused type: requirement_identification_and_version_identification_item  *)


  TYPE complex_product_select = SELECT
    (Alternative_solution, Functional_element_definition, Physical_element_definition);
  END_TYPE;

TYPE part_occurrence_select = SELECT 
 (Part_occurrence);
END_TYPE;

(* Pruned unused type: function_occurrence_select  *)


(* Pruned unused type: breakdown_element_realization_property_assignment_select  *)


TYPE breakdown_item = SELECT (
   Breakdown_element_definition,
   Breakdown_element_usage);
END_TYPE;


TYPE product_item = SELECT (
   Product_view_definition,
   View_definition_usage);
END_TYPE;


TYPE extended_value_with_unit = SELECT (
   Value_limit,
   Value_range,
   Value_with_unit);
END_TYPE;


TYPE configured_item_select = SELECT (
   Alternative_solution);
END_TYPE;


TYPE configuration_kind = ENUMERATION OF (usage, design);
END_TYPE;

TYPE configuration_inheritance_types = ENUMERATION OF (exception_case, full_inheritance, no_inheritance);
END_TYPE;

TYPE configured_specification_select = SELECT(Class_condition_association, Class_specification_association);
END_TYPE;

(* Pruned unused type: effectivity_for_configuration  *)


TYPE expression_operator = ENUMERATION OF (or_operator, and_operator, oneof_operator, not_operator);
END_TYPE;

TYPE specification_operand_select = SELECT
		(Specification_expression, Specification);
END_TYPE;

(* Pruned unused type: id_for_class  *)


(* Pruned unused type: specification_for_category  *)


TYPE groupable_item = SELECT (
   Detailed_geometric_model_element,
   Detailed_topological_model_element,
   Geometric_model_relationship_with_transformation,
   Geometric_placement_operation,
   Group_relationship,
   Shape_element,
   Styled_element);
   WHERE
  WR1: NOT ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.GROUP' IN TYPEOF(SELF));
END_TYPE; 

(* Pruned unused type: at_appearance_select  *)


TYPE text_or_composite_text = SELECT (
   Annotation_text,
   Annotation_text_character,
   Composite_presentable_text,
   Defined_character_glyph,
   Text_literal);
END_TYPE;


TYPE text_string_representation_item_select = SELECT (
   Annotation_text,
   Annotation_text_character,
   Composite_presentable_text,
   Text_literal);
END_TYPE;


TYPE appearance_context = SELECT (
   Geometric_model_relationship,
   Group,
   Layer,
   Representation,
   Visual_appearance);
END_TYPE;


TYPE appearance_select = SELECT (
   Curve_appearance,
   Hatch_style,
   Point_appearance,
   Solid_fill_area_style,
   Text_style,
   Tile_style);
END_TYPE;


  TYPE context_dependent_appearance_assignment_set = SET [2:?] OF Context_dependent_appearance_assignment; 
  END_TYPE;

TYPE overriding_style_context = SELECT (
   Detailed_geometric_model_element,
   Geometric_model_relationship,
   Layer,
   Styled_model);
END_TYPE;


TYPE presented_model_select = SELECT (
   External_geometric_model,
   Styled_model);
END_TYPE;


  TYPE styled_element_appearance = SELECT (
    Appearance_assignment, 
    context_dependent_appearance_assignment_set);
  END_TYPE;

(* Pruned unused type: fill_area_style_select  *)


  TYPE surface_side = ENUMERATION OF
    (positive,
     negative,
     both);
  END_TYPE;

TYPE structuring_method_select = SELECT (
   Group,
   Layer);
END_TYPE;


(* Pruned unused type: sd_documented_element_select  *)


(* Pruned unused type: characteristic  *)


  TYPE characteristic_data_table_cell = SELECT ( 
    Null_representation_item, 
    String_representation_item, 
    Numerical_item_with_unit, 
    Value_list, 
    Value_set); 
  END_TYPE; 

(* Pruned unused type: c_documented_element_select  *)


  TYPE range_class = ENUMERATION OF
    (closed,
     lower_open,
     upper_open,
     open);
  END_TYPE;

(* Pruned unused type: scalar_or_coordinated_characteristics  *)


  TYPE date_select = SELECT ( 
    Calendar_date, 
    Year_month, 
    Date,
    Ordinal_date, 
    Week_of_year_and_day_date);
  END_TYPE; 

  TYPE day_in_year_number = INTEGER;
    WHERE
      WR1: {1 <= SELF <= 366};
  END_TYPE; 

  TYPE day_in_week_number = INTEGER;
    WHERE
      WR1: { 1 <= SELF <= 7 };
  END_TYPE; 

  TYPE extended_date_time_select = SELECT (
    date_or_date_time_select, 
    date_select);  
  END_TYPE;

  TYPE week_in_year_number = INTEGER;
    WHERE
      WR1: { 1 <= SELF <= 53 };
  END_TYPE; 

(* Pruned unused type: external_property_select  *)


TYPE string_representation_item_select = SELECT(
    String_representation_item, 
    Included_text_block,
    Structured_text_composition);
END_TYPE; 

TYPE string_representation_item_list = LIST[1:?] OF
string_representation_item_select;
END_TYPE;

TYPE string_representation_item_set = SET[1:?] OF string_representation_item_select;
END_TYPE;

TYPE string_representation_item_list_or_set =
 SELECT(string_representation_item_list, string_representation_item_set); 
END_TYPE;

TYPE date_or_date_time_select = SELECT
   (Calendar_date, 
    Date_time);
END_TYPE; 

TYPE day_in_month_number = INTEGER;
WHERE
  WR1: {1 <= SELF <= 31};
END_TYPE; 

TYPE hour_in_day = INTEGER;
WHERE
  WR1: { 0 <= SELF < 24 };
END_TYPE; 

TYPE minute_in_hour = INTEGER;
WHERE
  WR1: { 0 <= SELF <= 59 };
END_TYPE; 

TYPE month_in_year_number = INTEGER;
WHERE
  WR1: { 1 <= SELF <= 12 };
END_TYPE; 

TYPE offset_orientation = ENUMERATION OF 
   (ahead,
    exact,
    behind);
END_TYPE; 

TYPE second_in_minute = REAL;
WHERE
  WR1: { 0 <= SELF <= 60.0 };
END_TYPE; 

TYPE year_number = INTEGER;
END_TYPE; 

TYPE alias_identification_item = identification_item;
WHERE
  wr1 : NOT ('ALIAS_IDENTIFICATION_ARM.GROUP' IN TYPEOF(SELF));
  wr2 : NOT ('ALIAS_IDENTIFICATION_ARM.GROUP_RELATIONSHIP' IN TYPEOF(SELF));
  wr3 : NOT ('ALIAS_IDENTIFICATION_ARM.INFORMATION_RIGHT' IN TYPEOF(SELF));
  wr4 : NOT ('ALIAS_IDENTIFICATION_ARM.INFORMATION_USAGE_RIGHT' IN TYPEOF(SELF));
  wr5 : NOT ('ALIAS_IDENTIFICATION_ARM.INFORMATION_USAGE_RIGHT_RELATIONSHIP' IN TYPEOF(SELF));
  wr6 : NOT ('ALIAS_IDENTIFICATION_ARM.MATERIAL_IDENTIFICATION' IN TYPEOF(SELF));
  wr7 : NOT ('ALIAS_IDENTIFICATION_ARM.PRODUCT' IN TYPEOF(SELF));
  wr8 : NOT ('ALIAS_IDENTIFICATION_ARM.PRODUCT_CLASS' IN TYPEOF(SELF));
  wr9 : NOT ('ALIAS_IDENTIFICATION_ARM.PRODUCT_CONCEPT' IN TYPEOF(SELF));
  wr10 : NOT ('ALIAS_IDENTIFICATION_ARM.PRODUCT_CONFIGURATION' IN TYPEOF(SELF));
  wr11 : NOT ('ALIAS_IDENTIFICATION_ARM.PRODUCT_VERSION' IN TYPEOF(SELF));
  wr12 : NOT ('ALIAS_IDENTIFICATION_ARM.REQUIREMENT' IN TYPEOF(SELF));
  wr13 : NOT ('ALIAS_IDENTIFICATION_ARM.REQUIREMENT_VERSION' IN TYPEOF(SELF));
  wr14 : NOT ('ALIAS_IDENTIFICATION_ARM.REQUIREMENT_VIEW_DEFINITION' IN TYPEOF(SELF));
  wr15 : NOT ('ALIAS_IDENTIFICATION_ARM.RULE_SET' IN TYPEOF(SELF));
  wr16 : NOT ('ALIAS_IDENTIFICATION_ARM.SHAPE_ELEMENT_RELATIONSHIP' IN TYPEOF(SELF));
END_TYPE;


TYPE certification_item = SELECT (
   Alternate_product_relationship,
   Product_version,
   Product_version_relationship);
END_TYPE;


TYPE string_select = SELECT (
   Alias_identification,
   Alternate_part_relationship,
   Applied_independent_property,
   Approval,
   Approval_relationship,
   Approval_status,
   Assembly_component_relationship,
   Assembly_relationship_substitution,
   Certification,
   Certification_assignment,
   Contract,
   Date_or_date_time_assignment,
   Detailed_geometric_model_element,
   Digital_document_definition,
   Document,
   Document_assignment,
   Document_definition_relationship,
   Document_version,
   Effectivity,
   Effectivity_relationship,
   Event,
   External_geometric_model,
   External_item_identification,
   External_source_identification,
   File_relationship,
   Identification_assignment,
   Independent_property,
   Independent_property_relationship,
   Information_right,
   Information_usage_right,
   Information_usage_right_relationship,
   Item_shape,
   Make_from_relationship,
   Organization_relationship,
   Person_in_organization,
   Physical_document_definition,
   Product,
   Product_version,
   Product_version_relationship,
   Product_view_definition,
   Project,
   Project_assignment,
   Project_relationship,
   Representation,
   Security_classification_assignment,
   Shape_element,
   Shape_element_relationship,
   String_representation_item,
   Uncertainty_with_unit,
   View_definition_context,
   View_definition_relationship);
END_TYPE;


TYPE project_item = SELECT (
   Activity,
   Product_concept);
END_TYPE;


TYPE date_or_event = SELECT
   (Calendar_date, 
    Date_time, 
    Event);
END_TYPE; 

(* Pruned unused type: spr_documented_element_select  *)


(* Pruned unused type: spr_organization_or_person_in_organization_item  *)


(* Pruned unused type: spr_product_property_assignment  *)


TYPE event_item = SELECT (
   Project);
END_TYPE;


  ENTITY Surface_style_rendering 
    SUBTYPE OF (Surface_appearance_element); 
      assigned_colour : Colour;
  END_ENTITY;

  ENTITY Chemical_element 
    SUBTYPE OF (Substance); 
  END_ENTITY; 

  ENTITY Physical_particle
    SUBTYPE OF (Substance);
  END_ENTITY;

  ENTITY Raw_material_definition_relationship
    SUBTYPE OF (View_definition_usage);
   	  SELF\View_definition_relationship.relating_view : Part_view_definition;  -- application : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\View_definition_relationship.related_view : Substance_view_definition;  -- definition : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      application : PART_VIEW_DEFINITION := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      definition : SUBSTANCE_VIEW_DEFINITION := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1 : NOT EXISTS(SELF\View_definition_relationship.relation_type);
  END_ENTITY;

  ENTITY Substance
    SUPERTYPE OF (ONEOF (
              CHEMICAL_ELEMENT,
              CHEMICAL_COMPOUND,
              PHYSICAL_PARTICLE))
  SUBTYPE OF (Product);    
    UNIQUE 
      UR1: SELF\Product.id;
  END_ENTITY; 

  ENTITY Substance_composition_relationship 
    SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.related_view : Substance_view_definition;  -- constituent : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\View_definition_relationship.relating_view : Substance_view_definition;  -- whole : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      composition_basis                                                  : Substance_composition_basis;

      determination_method                                               : STRING; 

      amount 															 : Value_with_unit; 
    DERIVE
      constituent : SUBSTANCE_VIEW_DEFINITION := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      whole : SUBSTANCE_VIEW_DEFINITION := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
 WHERE
      WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.RATIO_UNIT' IN TYPEOF(amount.unit);      
      WR2 : NOT EXISTS(SELF\View_definition_relationship.relation_type);
  END_ENTITY; 

  ENTITY Substance_version 
    SUBTYPE OF (Product_version); 
    SELF\Product_version.of_product : Substance; 
  END_ENTITY; 

  ENTITY Substance_view_definition 
    SUBTYPE OF (Product_view_definition); 
    SELF\Product_view_definition.defined_version : Substance_version; 
  END_ENTITY; 

  ENTITY Composite_material_identification
    SUBTYPE OF (Material_identification);
      SELF\Material_identification.items : SET [1 : ?] OF material_item_select;  -- composite_items : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      composite_items :  SET[1:?] OF MATERIAL_ITEM_SELECT := SELF\Material_identification.items;  -- ITEMS : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      composite_material_name : STRING := SELF\Material_identification.material_name;  -- MATERIAL_NAME : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY;

  ENTITY Compound_shape_representation
    SUBTYPE OF (Geometric_model);
  END_ENTITY;

ENTITY Csg_model
  SUBTYPE OF (Geometric_model);
END_ENTITY;

ENTITY Csg_primitive
  SUBTYPE OF (Detailed_geometric_model_element);
END_ENTITY;

ENTITY Curve_swept_solid
   SUBTYPE OF (Geometric_model);
END_ENTITY;

ENTITY Default_setting_association;
  default_value : SET[0:?] OF default_setting_select;
  default_context : default_context_select;
END_ENTITY;

ENTITY General_tolerance_table;
  tolerance_type : STRING;
INVERSE
  cell : SET[1:?] OF Tolerance_table_cell FOR tolerance_table;
END_ENTITY;

ENTITY General_tolerances;
  table_definition : general_tolerance_table_select;
  tolerance_class : STRING;
END_ENTITY;

ENTITY Plus_minus_toleranced_datum;
  tolerance_value : Numerical_item_with_unit;
END_ENTITY;

ENTITY Significant_number_of_digits;
  number_of_digits : STRING;
END_ENTITY;

ENTITY Tolerance_table_cell;
  cell_value : cell_entry_select;
  description : STRING;
  limit : limit_select;
  tolerance_class : STRING;
  tolerance_table : General_tolerance_table;
END_ENTITY;

ENTITY Upper_lower_limit;
  upper_limit : Numerical_item_with_unit;
  lower_limit : Numerical_item_with_unit;
END_ENTITY;

ENTITY Upper_lower_toleranced_datum;
  lower_tolerance_value : Numerical_item_with_unit;
  upper_tolerance_value : Numerical_item_with_unit;
END_ENTITY;

  ENTITY Associated_dimension_text
    SUBTYPE OF (Dimension_text);
      is_displaying : Geometric_dimension;
  END_ENTITY;

  ENTITY Dimension_curve_terminator_to_projection_curve_associativity
    SUBTYPE OF(Annotation_occurrence_associativity);
      SELF\Annotation_occurrence_associativity.relating_element : Dimension_curve_terminator;
      SELF\Annotation_occurrence_associativity.related_element  : Projection_curve;
  END_ENTITY;

  ENTITY Dimensioning_standard
    SUBTYPE OF (Document_assignment);
  END_ENTITY;

ENTITY Angular_location_dimension
  SUBTYPE OF (Location_dimension);
  orientation : Axis_placement;
END_ENTITY;

ENTITY Angular_size_dimension
  SUBTYPE OF (Size_dimension);
  full : BOOLEAN;
  major_angle : BOOLEAN;
END_ENTITY;

ENTITY Curved_distance_dimension
  SUBTYPE OF (Location_dimension);
  used_path : Measurement_path;
END_ENTITY;

ENTITY Curved_size_dimension
  SUBTYPE OF (Size_dimension);
END_ENTITY;

ENTITY Diameter_size_dimension
  SUBTYPE OF (Size_dimension);
END_ENTITY;

ENTITY Dimension_value_with_limitation;
  defined_by : limitation_definition_select;
  limited_value : Numerical_item_with_unit;
END_ENTITY;

ENTITY Externally_defined_size_dimension
  SUBTYPE OF (Size_dimension);
  name : STRING;
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Geometric_dimension
   ABSTRACT SUPERTYPE OF (ONEOF (
                        LOCATION_DIMENSION,
                        SIZE_DIMENSION));
  id : STRING;
  dimension_value : dimension_value_select;
  notes : SET[0:?] OF STRING;
END_ENTITY;

ENTITY Height_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Length_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Limits_and_fits;
  deviation : STRING;
  fitting_type : OPTIONAL STRING;
  grade : STRING;
END_ENTITY;

ENTITY Linear_distance_dimension
  SUBTYPE OF (Location_dimension);
  orientation : OPTIONAL Axis_placement;
END_ENTITY;

ENTITY Location_dimension
   ABSTRACT SUPERTYPE OF (ONEOF (
                        ANGULAR_LOCATION_DIMENSION,
                        CURVED_DISTANCE_DIMENSION,
                        LINEAR_DISTANCE_DIMENSION))
  SUBTYPE OF (Geometric_dimension);
  description : OPTIONAL STRING;
  directed : OPTIONAL BOOLEAN;
  origin : placed_element_select;
  target : placed_element_select;
END_ENTITY;

ENTITY Plus_minus_bounds;
  lower_bound : Value_with_unit;
  significant_digits : OPTIONAL INTEGER;
  upper_bound : Value_with_unit;
  value_determination : OPTIONAL STRING;
END_ENTITY;

ENTITY Radial_size_dimension
  SUBTYPE OF (Size_dimension);
  radius_type : STRING;
END_ENTITY;

ENTITY Size_dimension
   ABSTRACT SUPERTYPE OF (ONEOF (
                        ANGULAR_SIZE_DIMENSION,
                        CURVED_SIZE_DIMENSION,
                        DIAMETER_SIZE_DIMENSION,
                        EXTERNALLY_DEFINED_SIZE_DIMENSION,
                        HEIGHT_SIZE_DIMENSION,
                        LENGTH_SIZE_DIMENSION,
                        RADIAL_SIZE_DIMENSION,
                        THICKNESS_SIZE_DIMENSION,
                        WIDTH_SIZE_DIMENSION))
  SUBTYPE OF (Geometric_dimension);
  envelope_principle : OPTIONAL BOOLEAN;
  is_applied_to : element_with_dimension_select;
END_ENTITY;

ENTITY Thickness_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Tolerance_range;
  lower_range : Numerical_item_with_unit;
  significant_digits : OPTIONAL INTEGER;
  upper_range : Numerical_item_with_unit;
END_ENTITY;

ENTITY Width_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

  ENTITY Camera_image_2d_with_scale
    SUBTYPE OF (Detailed_geometric_model_element);
      is_displaying : presented_model_select;
      source        : Camera_model_d2;
      target        : Planar_box;
  END_ENTITY;

  ENTITY Camera_model_d2
    SUBTYPE OF (Detailed_geometric_model_element);
      view_window          : Planar_box;
      view_window_clipping : BOOLEAN;
  END_ENTITY;

  ENTITY Draughting_title;
    contents : STRING;
    items    : SET [1:?] OF draughting_titled_item;
    language : STRING;
  END_ENTITY;

  ENTITY Drawing_definition; 
    drawing_number : STRING;
    drawing_type   : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Drawing
    SUBTYPE OF (Presentation_set);
      revision_identifier : STRING;
      drawing_identifier  : Drawing_definition;
      intended_scale      : OPTIONAL STRING;
    UNIQUE
      UR1: revision_identifier, drawing_identifier;
  END_ENTITY;

  ENTITY Drawing_sequence; 
      predecessor : Drawing;
      successor   : Drawing;
    WHERE
      WR1: predecessor :<>: successor;
  END_ENTITY;

  ENTITY Drawing_sheet
    SUBTYPE OF (View_area);
      revision_identifier : STRING;
  END_ENTITY;

  ENTITY Drawing_sheet_sequence 
    SUBTYPE OF (View_area_relationship);
      SELF\View_area_relationship.relating : Drawing_sheet;
      SELF\View_area_relationship.related  : Drawing_sheet;
  WHERE
    WR1: SELF\View_area_relationship.relating :<>: SELF\View_area_relationship.related;
  END_ENTITY;

  ENTITY Elementary_brep_shape_representation
	SUBTYPE OF (Geometric_model);
  END_ENTITY;

  ENTITY External_currency
    SUBTYPE OF (Currency, External_context_dependent_unit);
  END_ENTITY;

  ENTITY External_representation_item
    SUBTYPE OF (Representation_item);
      id              : STRING;
      external_source : External_source;
  END_ENTITY;

  ENTITY External_string_representation_item
    SUBTYPE OF (External_representation_item);
  END_ENTITY;

ENTITY Angularity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Circular_runout_tolerance
  SUBTYPE OF (Geometric_tolerance);
  angle : OPTIONAL REAL;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Coaxiality_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Common_datum
  SUBTYPE OF (Datum);
  made_up_by : SET[2:?] OF Single_datum;
END_ENTITY;

ENTITY Concentricity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Cylindricity_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Datum;
END_ENTITY;

ENTITY Datum_defined_by_derived_shape
  SUBTYPE OF (Derived_geometry, Single_datum);
END_ENTITY;

ENTITY Datum_defined_by_feature
  SUBTYPE OF (Single_datum);
  defined_by : Shape_element;
END_ENTITY;

ENTITY Datum_defined_by_targets
  SUBTYPE OF (Single_datum);
  defined_by : SET[1:?] OF Datum_target;
  rule_description : STRING;
END_ENTITY;

ENTITY Datum_reference;
  precedence : INTEGER;
  referenced_datum : Datum;
END_ENTITY;

ENTITY Datum_target;
  id : STRING;
END_ENTITY;

ENTITY Flatness_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Geometric_tolerance
   ABSTRACT SUPERTYPE OF (ONEOF (
                        ANGULARITY_TOLERANCE,
                        CIRCULAR_RUNOUT_TOLERANCE,
                        COAXIALITY_TOLERANCE,
                        CONCENTRICITY_TOLERANCE,
                        CYLINDRICITY_TOLERANCE,
                        FLATNESS_TOLERANCE,
                        LINE_PROFILE_TOLERANCE,
                        PARALLELISM_TOLERANCE,
                        PERPENDICULARITY_TOLERANCE,
                        POSITION_TOLERANCE,
                        ROUNDNESS_TOLERANCE,
                        STRAIGHTNESS_TOLERANCE,
                        SURFACE_PROFILE_TOLERANCE,
                        SYMMETRY_TOLERANCE,
                        TOTAL_RUNOUT_TOLERANCE));
  name : OPTIONAL STRING;
  applied_to : Shape_element;
  modification : OPTIONAL Tolerance_condition;
  qualifying_note : OPTIONAL STRING;
  segment_size : OPTIONAL Value_with_unit;
  significant_digits : OPTIONAL INTEGER;
  tolerance_value : Value_with_unit;
  value_determination : OPTIONAL STRING;
WHERE
  WR1: (NOT (EXISTS(segment_size))) OR ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.LENGTH_MEASURE' IN TYPEOF(segment_size.value_component));
  WR2: (NOT (EXISTS(tolerance_value))) OR ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.LENGTH_MEASURE' IN TYPEOF(tolerance_value.value_component));
  WR3: (NOT (EXISTS(significant_digits))) OR (significant_digits > 0);
END_ENTITY;

ENTITY Geometric_tolerance_relationship;
  relation_type : STRING;
  relating : Geometric_tolerance;
  related : Geometric_tolerance;
END_ENTITY;

ENTITY Line_profile_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Parallelism_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Perpendicularity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:3] OF Datum_reference;
END_ENTITY;

ENTITY Placed_target
   ABSTRACT SUPERTYPE OF (ONEOF (
                        TARGET_CIRCLE,
                        TARGET_POINT,
                        TARGET_RECTANGLE,
                        TARGET_STRAIGHT_LINE))
  SUBTYPE OF (Datum_target);
  defined_in : Geometric_coordinate_space;
  parameter_reference : Axis_placement;
END_ENTITY;

ENTITY Position_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Projection
  SUBTYPE OF (Tolerance_zone_definition);
  projection_end : Shape_element;
  projection_length : Value_with_unit;
END_ENTITY;

ENTITY Roundness_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Single_datum
  SUBTYPE OF (Datum);
  datum_name : STRING;
  modification : OPTIONAL Tolerance_condition;
END_ENTITY;

ENTITY Straightness_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
END_ENTITY;

ENTITY Surface_profile_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Symmetry_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:3] OF Datum_reference;
END_ENTITY;

ENTITY Target_area
  SUBTYPE OF (Datum_target);
END_ENTITY;

ENTITY Target_circle
  SUBTYPE OF (Placed_target);
  diameter : Numerical_item_with_unit;
END_ENTITY;

ENTITY Target_point
  SUBTYPE OF (Placed_target);
END_ENTITY;

ENTITY Target_rectangle
  SUBTYPE OF (Placed_target);
  target_length : Numerical_item_with_unit;
  target_width : Numerical_item_with_unit;
END_ENTITY;

ENTITY Target_straight_line
  SUBTYPE OF (Placed_target);
  target_length : Numerical_item_with_unit;
END_ENTITY;

ENTITY Tolerance_condition;
  condition : STRING;
END_ENTITY;

ENTITY Tolerance_zone;
  form_type : STRING;
  zone_for : SET[1:?] OF Geometric_tolerance;
END_ENTITY;

ENTITY Tolerance_zone_definition;
  defining : Tolerance_zone;
  first_element : Shape_element;
  second_element : OPTIONAL Shape_element;
END_ENTITY;

ENTITY Total_runout_tolerance
  SUBTYPE OF (Geometric_tolerance);
  angle : REAL;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Geometric_validation_property;
  property_representation: Representation;
  property_value  : point_or_measure;
  validated_model : Geometric_model;
WHERE
WR1: 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.NUMERICAL_REPRESENTATION_CONTEXT' IN TYPEOF(property_representation\Representation.context_of_items) ;
WR2: property_representation.name IN ['centroid', 'volume', 'surface area'];
WR3: property_value in property_representation\Representation.items;
END_ENTITY;

ENTITY Centre_of_mass
SUBTYPE OF (Shape_dependent_property_representation);
WHERE
WR1: SIZEOF(SELF\Shape_dependent_property_representation.property_representation.items)=1;
WR2: SIZEOF(QUERY (it <* SELF\Shape_dependent_property_representation.property_representation.items |
   'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF' + '.CARTESIAN_POINT' IN TYPEOF(it) ))=1;
WR3: 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF' + '.GEOMETRIC_COORDINATE_SPACE' IN 
	TYPEOF(SELF\Shape_dependent_property_representation.property_representation.context_of_items);
END_ENTITY;

ENTITY Inertia_matrix_item
SUBTYPE OF (Representation_item);
  inertia_values : ARRAY[1:6] OF REAL;
  common_unit: Unit;
END_ENTITY;

ENTITY Moments_of_inertia
SUBTYPE OF (Shape_dependent_property_representation);
WHERE
WR1: SIZEOF(QUERY (it <* SELF\Shape_dependent_property_representation.property_representation.items |
   'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF' + '.AXIS_PLACEMENT'IN TYPEOF(it) ))=1;
WR2: SIZEOF(QUERY (it <* SELF\Shape_dependent_property_representation.property_representation.items |
   'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF' + '.INERTIA_MATRIX_ITEM' IN TYPEOF(it) ))=1;
WR3: 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF' + '.GEOMETRIC_COORDINATE_SPACE' IN 
	TYPEOF(SELF\Shape_dependent_property_representation.property_representation.context_of_items);
END_ENTITY;

  ENTITY Manifold_subsurface_model
    SUBTYPE OF (Geometric_model);
      parent_surface : open_shell_or_subsurface;
    WHERE
      WR1 : SELF :<>: parent_surface;
      WR2 : SELF\Geometric_model.context_of_items :=: parent_surface\Geometric_model.context_of_items;
  END_ENTITY;

  ENTITY Mechanical_design_and_draughting_relationship
    SUBTYPE OF(Definitional_representation_relationship); 
      SELF\representation_relationship.rep_1 : mechanical_design_and_draughting_relationship_select; 
      SELF\representation_relationship.rep_2 : mechanical_design_and_draughting_relationship_select; 
    WHERE    
      WR1: NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'DRAUGHTING_MODEL' IN TYPEOF(rep_2)) OR 
        (SIZEOF(['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'DRAUGHTING_MODEL', 
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'GEOMETRIC_MODEL'] * TYPEOF(rep_1)) = 1);
      WR2: NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'MECHANICAL_REPRESENTATION_STYLED_MODEL' IN TYPEOF(rep_2)) 
        OR (SIZEOF(['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'MECHANICAL_REPRESENTATION_STYLED_MODEL', 
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'GEOMETRIC_MODEL'] * TYPEOF(rep_1)) = 1);
      WR3: NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'MECHANICAL_DESIGN_SHADED_STYLED_MODEL' IN TYPEOF(rep_2)) 
        OR (SIZEOF(['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'MECHANICAL_DESIGN_SHADED_STYLED_MODEL',
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'GEOMETRIC_MODEL'] * TYPEOF(rep_1)) = 1);
  END_ENTITY;  

  ENTITY Mechanical_design_presentation_representation_with_draughting
    SUBTYPE OF (Styled_model); 
      SELF\Representation.items : SET [1:?] OF mdprwd_element_select; 
    WHERE 
      WR1: SELF\Representation.context_of_items\Geometric_coordinate_space.dimension_count = 3;
  END_ENTITY; 

  ENTITY Extruded_solid_with_draft_angle
    SUBTYPE OF (Extruded_solid_with_trim_conditions);
      draft_angle : plane_angle_measure;
  END_ENTITY;

  ENTITY Extruded_solid_with_multiple_draft_angles
    SUBTYPE OF (Extruded_solid_with_trim_conditions);
      draft_edges  : LIST[2:?] OF SET[1:?] OF edge_curve;
      draft_angles : LIST[2:?] OF plane_angle_measure;
    WHERE
      WR1: SIZEOF(draft_edges) = SIZEOF(draft_angles);
      WR2: SIZEOF(QUERY(q <* draft_angles | q = 0)) = 0;
  END_ENTITY;

  ENTITY Extruded_solid_with_trim_conditions
    SUPERTYPE OF (ONEOF (
              EXTRUDED_SOLID_WITH_DRAFT_ANGLE,
              EXTRUDED_SOLID_WITH_MULTIPLE_DRAFT_ANGLES))
  SUBTYPE OF (Extruded_solid);
      start_condition        : trim_select;
      end_condition          : trim_select;
      start_condition_intent : trim_intent; 
      end_condition_intent   : trim_intent; 
  END_ENTITY;

  ENTITY Solid_of_revolution_with_trim_conditions
    SUBTYPE OF (Solid_of_revolution);
      start_condition : trim_select;
      end_condition   : trim_select;
  END_ENTITY;

  ENTITY Composite_assembly
    SUBTYPE OF (Constituent_part);
      layup_part : Composite_assembly_table;
      shape      : OPTIONAL composite_assembly_shape;
  END_ENTITY;

  ENTITY Composite_assembly_sequence_definition;
    components_in_sequence : BAG [1:?] OF component_class_for_assembly;
  END_ENTITY;

  ENTITY Composite_assembly_table
    SUBTYPE OF (Part_laminate_table);
      sequence_groups : LIST [2:?] OF Composite_assembly_sequence_definition;
  END_ENTITY;

  ENTITY Constituent_part
    SUPERTYPE OF (ONEOF (
              PLY,
              PLY_PIECE,
              PLY_LAMINATE,
              FILAMENT_LAMINATE,
              PROCESSED_CORE,
              COMPOSITE_ASSEMBLY))
  SUBTYPE OF (Part_view_definition);
      SELF\Product_view_definition.id : STRING;               -- constituent_part_identification : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      weight                                                                   : OPTIONAL Mass_data_element;  
    DERIVE
      constituent_part_identification : STRING := SELF\Product_view_definition.id;  -- ID : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY;

  ENTITY Edge_zone_shape
    SUBTYPE OF (Zone_structural_makeup_shape_representation);
      boundary : boundary_class_zone;
  END_ENTITY;

  ENTITY Filament_laminate
    SUBTYPE OF (Constituent_part);
      made_from : Filament_assembly;
      shape     : OPTIONAL Filament_laminate_shape;
  END_ENTITY;

  ENTITY Filament_laminate_shape;
    cross_section : Shape_description_association;
  END_ENTITY;

  ENTITY Laminate_table
    SUPERTYPE OF (ONEOF (
              PART_LAMINATE_TABLE,
              ZONE_STRUCTURAL_MAKEUP))
  SUBTYPE OF (Part_view_definition);
      basis             : Reinforcement_orientation_basis;
      resulting_surface : OPTIONAL Surface;
      base_surface      : OPTIONAL Surface_with_direction;
  END_ENTITY;

  ENTITY Part_laminate_table
    SUPERTYPE OF (ONEOF (
              COMPOSITE_ASSEMBLY_TABLE,
              PLY_LAMINATE_TABLE))
  SUBTYPE OF (Laminate_table);
  END_ENTITY;

  ENTITY Percentage_laminate_table
    SUBTYPE OF (Zone_structural_makeup);
      table_components : SET [1:?] OF Percentage_ply;
      total_thickness  : Length_data_element;
  END_ENTITY;

  ENTITY Percentage_ply;
    strength_orientation  : OPTIONAL Ply_orientation_angle;
    material              : Stock_material;
    makeup_and_properties : OPTIONAL Zone_structural_makeup;
    volume_percent        : Ratio_data_element;
  END_ENTITY;

  ENTITY Ply
    SUBTYPE OF (Constituent_part);
      constituents         : OPTIONAL LIST [1:?] OF Ply_piece;
      ply_thickness        : Length_data_element;
      material_orientation : Direction_of_fiber_orientation_within_a_ply;
      material_type        : ply_stock_material;
      shape                : OPTIONAL Ply_shape;
    DERIVE
      material_orientation_angle : Ply_orientation_angle := material_orientation.orientations[1]; 
  END_ENTITY;

  ENTITY Ply_laminate
    SUBTYPE OF (Constituent_part);
      shape     : OPTIONAL ply_laminate_shape;
      ply_table : Ply_laminate_table;
  END_ENTITY;

  ENTITY Ply_laminate_sequence_definition;
    plies_in_sequence : SET [1:?] OF Ply;
  END_ENTITY;

  ENTITY Ply_laminate_table
    SUBTYPE OF (Part_laminate_table);
      sequence : LIST [2:?] OF Ply_laminate_sequence_definition;
  END_ENTITY;

  ENTITY Ply_piece
    SUBTYPE OF (Constituent_part);
      shape        : OPTIONAL ply_piece_shape;
      warp_surface : LOGICAL;
  END_ENTITY;

  ENTITY Point_zone_shape
    SUBTYPE OF (Zone_structural_makeup_shape_representation);
      location : point_select;
  END_ENTITY;

  ENTITY Processed_core
    SUBTYPE OF (Constituent_part);
      added_material           : OPTIONAL LIST [0:?] OF Ply;
      cell_direction           : Direction_of_fiber_orientation_within_a_ply;
      made_from_stock          : Stock_core;
      made_from_processed_core : OPTIONAL SET [1:?] OF Processed_core;
      shape                    : OPTIONAL core_shape;
    DERIVE
      cell_orientation_angle   : Ply_orientation_angle := cell_direction.orientations[1]; 
  END_ENTITY;

  ENTITY Smeared_material
    SUBTYPE OF (Zone_structural_makeup);
      total_thickness : Length_data_element;
  END_ENTITY;

  ENTITY Surface_with_direction;
    defining_surface   : Surface;
    material_direction : Direction;
  END_ENTITY;

  ENTITY Thickness_laminate_table
    SUBTYPE OF (Zone_structural_makeup);
      table_components : LIST [2:?] OF thickness_laminate_table_component;
  END_ENTITY;

  ENTITY Zone_structural_makeup
    SUPERTYPE OF (ONEOF ((
              SMEARED_MATERIAL
              AND 
              THICKNESS_LAMINATE_TABLE),(
              SMEARED_MATERIAL
              AND 
              PERCENTAGE_LAMINATE_TABLE),
              THICKNESS_LAMINATE_TABLE,
              PERCENTAGE_LAMINATE_TABLE,
              SMEARED_MATERIAL))
  SUBTYPE OF (Laminate_table);
      boundary : OPTIONAL Zone_structural_makeup_shape_representation;
  END_ENTITY;

  ENTITY Zone_structural_makeup_shape_representation
    SUPERTYPE OF (ONEOF (
              POINT_ZONE_SHAPE,
              EDGE_ZONE_SHAPE));
  END_ENTITY;

  ENTITY Externally_defined_picture_representation_item 
    SUBTYPE OF (Picture_representation_item); 
    INVERSE 
      source : External_source_identification FOR item; 
    WHERE 
      WR1: NOT (SELF\Representation_item.name IN pre_defined_picture_representation_types); 
  END_ENTITY; 

  ENTITY Picture_representation 
    SUBTYPE OF (View_area); 
      SELF\Representation.items : SET[1:?] OF picture_representation_element_select;
    WHERE
      WR1: SIZEOF(QUERY(item <* items | 
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'PICTURE_REPRESENTATION_ITEM' IN TYPEOF(item))) = 1;
  END_ENTITY; 

  ENTITY Picture_representation_item 
     ABSTRACT SUPERTYPE OF (ONEOF (
                        EXTERNALLY_DEFINED_PICTURE_REPRESENTATION_ITEM,
                        PREDEFINED_PICTURE_REPRESENTATION_ITEM))
  SUBTYPE OF (Bytes_representation_item);
  END_ENTITY; 

  ENTITY Predefined_picture_representation_item 
    SUBTYPE OF (Picture_representation_item); 
    WHERE 
      WR1: SELF\Representation_item.name IN pre_defined_picture_representation_types; 
  END_ENTITY; 

  ENTITY Evaluated_characteristic
    SUPERTYPE OF (
              RULE_BASED_EVALUATED_CHARACTERISTIC);
      planned_product_data          : Planned_characteristic;
      product_data_status           : evaluation_type;
      product_characterization_data : OPTIONAL SET[1:?] OF Property_value_representation;
      evaluation_result             : evaluation_result_value;
  END_ENTITY;

  ENTITY Evaluation_view_definition
    SUBTYPE OF (Product_view_definition);
      evaluated_product_definition : Product_view_definition;
      evaluation_data              : SET[1:?] OF Evaluated_characteristic;
    WHERE
      WR1 : TYPEOF(SELF) <> TYPEOF(evaluated_product_definition);
  END_ENTITY;

  ENTITY Planned_characteristic;
      reference_requirement              : Requirement_assignment;
      planned_coordinated_characteristic : Property_value_representation;
  END_ENTITY;

  ENTITY Rule_based_evaluated_characteristic
    SUBTYPE OF (Evaluated_characteristic);
      evaluating_rule : Rule_definition;
  END_ENTITY;

  ENTITY Direction_of_fiber_orientation_within_a_ply
    SUBTYPE OF (Representation);
      SELF\Representation.context_of_items : Geometric_coordinate_space; 
      SELF\Representation.items            : SET[1:?] OF angle_select;
    INVERSE 
      orientations : SET[1:1] OF Ply_orientation_angle FOR rep_1;
  END_ENTITY;

  ENTITY Draped_orientation_angle
    SUBTYPE OF (Ply_orientation_angle);
  END_ENTITY;

  ENTITY Laid_orientation_angle
    SUBTYPE OF (Ply_orientation_angle);
  END_ENTITY;

  ENTITY Ply_orientation_angle 
    SUPERTYPE OF (ONEOF (
              DRAPED_ORIENTATION_ANGLE,
              LAID_ORIENTATION_ANGLE))
  SUBTYPE OF (Representation_relationship);  
      angle_reference                        : angle_select; 
      SELF\Representation_relationship.rep_1 : Direction_of_fiber_orientation_within_a_ply;
      SELF\Representation_relationship.rep_2 : Reinforcement_orientation_basis; 
  END_ENTITY;

  ENTITY Point_and_vector
    SUBTYPE OF (Detailed_geometric_model_element);
      location : point_select;
      vector : LIST [1:2] OF Direction;
  END_ENTITY;

  ENTITY Point_path
    SUBTYPE OF (Detailed_geometric_model_element);
      directions : LIST [1:?] OF Point_and_vector;
  END_ENTITY;

  ENTITY Reinforcement_orientation_basis
    SUBTYPE OF (Representation);
      SELF\Representation.context_of_items : Geometric_coordinate_space; 
      SELF\Representation.items            : SET [1:1] OF Axis_placement_3d; 
    DERIVE
      basis_location : Cartesian_point := SELF\Representation.items[1]\Axis_placement.origin;
      orientation    : Direction       := SELF\Representation.items[1]\Axis_placement.x_axis;
    INVERSE 
      tables       : SET[1:?] OF Laminate_table FOR basis; 
      orientations : SET[1:?] OF Ply_orientation_angle FOR rep_2;
  END_ENTITY;

ENTITY Representation_item_with_uncertainty
  SUBTYPE OF (Representation_item);
  uncertainty : SET[1:?] OF Uncertainty_value;
END_ENTITY;

ENTITY Representation_with_uncertainty
  SUBTYPE OF (Representation);
  uncertainty : SET[1:?] OF Uncertainty_with_unit;
END_ENTITY;

ENTITY Uncertainty_value;
  name : STRING;
  description : OPTIONAL STRING;
  uncertainty : STRING;
END_ENTITY;

  ENTITY Shape_feature_definition
    SUBTYPE OF (Characterizable_object);
    DERIVE
      feature_model : SET [1:?] OF Geometric_model := get_geometric_model(of_shape); 
    INVERSE
      of_shape : Item_shape FOR described_element;
    WHERE
      WR1: EXISTS(feature_model);
  END_ENTITY;

ENTITY Shape_feature_occurrence 
   ABSTRACT SUPERTYPE OF (ONEOF (
                        INSTANCED_FEATURE,
                        PLACED_FEATURE))
  SUBTYPE OF (Shape_element);
END_ENTITY;

ENTITY Instanced_feature  
  SUBTYPE OF (Shape_feature_occurrence, Shape_feature_definition);
END_ENTITY;

ENTITY Placed_feature  
  SUBTYPE OF (Shape_feature_occurrence);
   definition : Shape_feature_definition;
END_ENTITY;

  ENTITY Advanced_open_shell
    SUBTYPE OF (Detailed_topological_model_element);    
      shell_faces : SET [1:?] OF Advanced_face;
  END_ENTITY;

  ENTITY Complex_deleted_face_solid
    SUBTYPE OF (Deleted_face_solid);
      thickened_face_list :  LIST [1:?] OF SET[1:?] OF Advanced_face;
      thickness_list      :  LIST [1:?] OF length_measure;
    WHERE
      WR1: SIZEOF(thickened_face_list) = SIZEOF(thickness_list);
  END_ENTITY; 

  ENTITY Conical_stepped_hole_transition
    SUBTYPE OF (Detailed_geometric_model_element);
      apex_angle         : plane_angle_measure;
      cone_base_radius   : length_measure;    
      transition_number  : INTEGER;
    WHERE
      WR1 : transition_number > 0;
      WR2 : cone_base_radius  > 0.0; 
  END_ENTITY;

  ENTITY Deleted_face_solid
    SUPERTYPE OF (ONEOF (
              DELETED_FACE_SOLID_WITH_OFFSETS,
              COMPLEX_DELETED_FACE_SOLID))
  SUBTYPE OF (Modified_solid);
      deleted_faces : SET [1:?] OF Advanced_face;
      thickness     : length_measure;
    WHERE
      WR1 : thickness <> 0.0;
  END_ENTITY; 

  ENTITY Deleted_face_solid_with_offsets
    SUBTYPE OF (Deleted_face_solid);
      thickness2 : length_measure;
    WHERE
      WR1: thickness2 <> 0.0;
      WR2: SELF\Deleted_face_solid.thickness <> thickness2;
  END_ENTITY; 

  ENTITY Path_modified_solid
    SUBTYPE OF (Solid_with_edge_modification);
  END_ENTITY;

  ENTITY Path_modified_solid_with_end_conditions
    SUBTYPE OF (Path_modified_solid);
      end_conditions :  LIST [2:2] OF blend_end_condition; 
  END_ENTITY;

  ENTITY Sculptured_solid
    SUBTYPE OF (Modified_solid);
      cutting_surface : sculpting_surface;
      positive_side   : BOOLEAN;
  END_ENTITY;

  ENTITY Sculptured_solid_with_selection
    SUBTYPE OF (Sculptured_solid);
      retained_part : Detailed_topological_model_element;
  END_ENTITY;

  ENTITY Solid_with_angled_chamfer
    SUBTYPE OF (Solid_with_edge_modification);
      offset_distance             : length_measure;
      left_offset                 : BOOLEAN;
      offset_angle                : plane_angle_measure;
    WHERE
      WR1: offset_distance > 0.0;   
      WR2: offset_angle > 0.0; 
  END_ENTITY; 

  ENTITY Solid_with_circular_pattern
    SUBTYPE OF (Modified_solid);
      location : Axis_placement;
      replicated_element : solid_with_placed_feature;
      replicate_count  : INTEGER;
      angular_spacing  : plane_angle_measure;
      radial_alignment : BOOLEAN;
      reference_point  : Cartesian_point;
    WHERE
     WR1 : replicate_count > 0;
  END_ENTITY;

  ENTITY Solid_with_circular_pocket
    SUBTYPE OF (Solid_with_pocket);
      pocket_radius      : length_measure; 
    WHERE 
      WR1: SELF\Solid_with_pocket.floor_blend_radius <= pocket_radius;
      WR2: pocket_radius > 0.0;
  END_ENTITY;

  ENTITY Solid_with_circular_protrusion
    SUBTYPE OF (Solid_with_protrusion);
      radius : length_measure;
    WHERE
      WR1: radius >= 0.0; 
  END_ENTITY;

  ENTITY Solid_with_conical_bottom_hole
    SUBTYPE OF (Solid_with_stepped_round_hole);
      semi_apex_angle : plane_angle_measure;
      tip_radius      : length_measure;
    WHERE
      WR1 : tip_radius < 
          SELF\Solid_with_stepped_round_hole.segment_radii[segments];
      WR2 : tip_radius >= 0.0;
      WR3 : semi_apex_angle > 0.0;  
  END_ENTITY;

  ENTITY Solid_with_curved_slot
    SUBTYPE OF (Solid_with_slot);
     slot_centreline : Detailed_geometric_model_element;
  END_ENTITY;

  ENTITY Solid_with_depression
     ABSTRACT SUPERTYPE OF (
                        SOLID_WITH_THROUGH_DEPRESSION
                        ANDOR (ONEOF (
                        SOLID_WITH_STEPPED_ROUND_HOLE,
                        SOLID_WITH_POCKET,
                        SOLID_WITH_SLOT,
                        SOLID_WITH_GROOVE)))
  SUBTYPE OF (Modified_Solid);
      location : Axis_placement; 
      depth    : length_measure;
    WHERE
      WR1 : depth > 0.0;
  END_ENTITY;

  ENTITY Solid_with_double_offset_chamfer
    SUBTYPE OF (Solid_with_edge_modification);
      left_offset_distance  : length_measure;  
      right_offset_distance : length_measure;
    WHERE
      WR1: left_offset_distance > 0.0;   
      WR2: right_offset_distance > 0.0; 
  END_ENTITY; 

  ENTITY Solid_with_edge_modification
    SUPERTYPE OF (
              PATH_MODIFIED_SOLID
              ANDOR (ONEOF (
              SOLID_WITH_FIXED_RADIUS_EDGE_BLEND,
              SOLID_WITH_SIMPLE_CHAMFER,
              SOLID_WITH_DOUBLE_OFFSET_CHAMFER,
              SOLID_WITH_ANGLED_CHAMFER)))
  SUBTYPE OF (Modified_solid);    
      blended_edges : LIST [1:?] OF Edge;
  END_ENTITY;

  ENTITY Solid_with_fixed_radius_edge_blend
    SUBTYPE OF (Solid_with_edge_modification);
      radius : length_measure;
    WHERE
      WR1: radius > 0.0; 
  END_ENTITY;

  ENTITY Solid_with_flat_bottom_hole
    SUBTYPE OF (Solid_with_stepped_round_hole);
      fillet_radius : length_measure;
    WHERE
      WR1 : fillet_radius < 
          SELF\Solid_with_stepped_round_hole.segment_radii[segments];
      WR2 : fillet_radius  >= 0.0;    
  END_ENTITY;

  ENTITY Solid_with_general_pocket  
    SUBTYPE OF (Solid_with_pocket);
      profile            : Detailed_geometric_model_element;
      reference_point    : Cartesian_point;
  END_ENTITY;

  ENTITY Solid_with_general_protrusion
    SUBTYPE OF (Solid_with_protrusion);
    profile         : Detailed_geometric_model_element;
    reference_point : Cartesian_point;
  END_ENTITY;

  ENTITY Solid_with_groove
    SUBTYPE OF (Solid_with_depression);
      groove_radius       : length_measure;
      groove_width        : length_measure;
      draft_angle         : plane_angle_measure;
      floor_fillet_radius : length_measure;
      external_groove     : BOOLEAN;
    WHERE
      WR1: NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_THROUGH_DEPRESSION' 
          IN TYPEOF(SELF));
      WR2: groove_radius > 0.0; 
      WR3: groove_width > 0.0;       
      WR4: floor_fillet_radius >= 0.0;
  END_ENTITY; 

  ENTITY Solid_with_incomplete_circular_pattern
    SUBTYPE OF (Solid_with_circular_pattern);
      omitted_instances : SET[1:?] OF INTEGER;
    WHERE
      WR1: SIZEOF(omitted_instances) <
           SELF\Solid_with_circular_pattern.replicate_count;
      WR2: SIZEOF(QUERY(q <* omitted_instances | q > 
           SELF\Solid_with_circular_pattern.replicate_count)) = 0;
  END_ENTITY;

  ENTITY Solid_with_incomplete_rectangular_pattern
    SUBTYPE OF (Solid_with_rectangular_pattern);
      omitted_instances : SET[1:?] OF LIST [1:2] OF INTEGER;
    WHERE
      WR1: NOT([1,1] IN omitted_instances);
      WR2: SIZEOF(omitted_instances) <
            ((SELF\Solid_with_rectangular_pattern.row_count *
               SELF\Solid_with_rectangular_pattern.column_count) - 1);
      WR3: SIZEOF(QUERY(q <* omitted_instances |   
             ((q[1] > SELF\Solid_with_rectangular_pattern.row_count) OR
              (q[2] > SELF\Solid_with_rectangular_pattern.column_count)))) = 0;
  END_ENTITY;

  ENTITY Solid_with_offset_faces
    SUBTYPE OF (Modified_solid);
      offset_faces : LIST [1:?] OF SET[1:?] OF Advanced_face;
      offset_distances : LIST [1:?] OF length_measure;
    WHERE
      WR1: SIZEOF(offset_faces) = SIZEOF(offset_distances); 
  END_ENTITY;

  ENTITY Solid_with_pocket
     ABSTRACT SUPERTYPE OF (ONEOF (
                        SOLID_WITH_RECTANGULAR_POCKET,
                        SOLID_WITH_CIRCULAR_POCKET,
                        SOLID_WITH_GENERAL_POCKET))
  SUBTYPE OF (Solid_with_depression);
      floor_blend_radius : length_measure;
      draft_angle        : plane_angle_measure;
    WHERE
      WR1 : floor_blend_radius >= 0.0;
  END_ENTITY;

  ENTITY Solid_with_protrusion
     ABSTRACT SUPERTYPE OF (ONEOF (
                        SOLID_WITH_CIRCULAR_PROTRUSION,
                        SOLID_WITH_RECTANGULAR_PROTRUSION,
                        SOLID_WITH_GENERAL_PROTRUSION))
  SUBTYPE OF (Modified_solid);
      location : Axis_placement; 
      height      : length_measure;
      draft_angle : plane_angle_measure;
    WHERE
      WR1: height > 0.0; 
  END_ENTITY;

  ENTITY Solid_with_rectangular_pattern
    SUBTYPE OF (Modified_solid);
      location : Axis_placement; 
      replicated_element : solid_with_placed_feature;
      row_count      : INTEGER;
      column_count   : INTEGER;
      row_spacing    : length_measure;
      column_spacing : length_measure; 
    WHERE
      WR1 : (row_count * column_count) > 1;
      WR2 : row_spacing > 0.0;
      WR3 : column_spacing > 0.0;
  END_ENTITY;

  ENTITY Solid_with_rectangular_pocket
    SUBTYPE OF (Solid_with_pocket);
      pocket_length      : length_measure;
      pocket_width       : length_measure;
      corner_radius      : length_measure;
    WHERE
      WR1: (corner_radius < pocket_width/2) 
        AND (corner_radius < pocket_length/2);
      WR2: pocket_length > 0.0;
      WR3: pocket_width > 0.0;
      WR4: corner_radius >= 0.0;
  END_ENTITY;

  ENTITY Solid_with_rectangular_protrusion
    SUBTYPE OF (Solid_with_protrusion);
    protrusion_length : length_measure;
    width             : length_measure;
    corner_radius     : length_measure;
  WHERE
    WR1: (corner_radius <= width/2) 
           AND (corner_radius <= protrusion_length/2);
    WR2: protrusion_length > 0.0; 
    WR3: width > 0.0; 
    WR4: corner_radius >= 0.0; 
  END_ENTITY;

  ENTITY Solid_with_simple_chamfer
    SUBTYPE OF (Solid_with_edge_modification);
      offset_distance : length_measure;
    WHERE
      WR1: offset_distance > 0.0; 
  END_ENTITY;

  ENTITY Solid_with_slot
     ABSTRACT SUPERTYPE OF ((ONEOF (
                        SOLID_WITH_TRAPEZOIDAL_SLOT,
                        SOLID_WITH_TEE_SLOT))
                        AND (ONEOF (
                        SOLID_WITH_STRAIGHT_SLOT,
                        SOLID_WITH_CURVED_SLOT)))
  SUBTYPE OF (Solid_with_depression);
      slot_width     : length_measure;
      closed_ends    : LIST[2:2] OF LOGICAL;
      end_exit_faces : LIST[2:2] OF SET[0:?] OF Advanced_face;
  WHERE
    WR1: NOT(('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_THROUGH_DEPRESSION' 
          IN TYPEOF(SELF)) AND (closed_ends = [FALSE,FALSE]));
    WR2: NOT(((closed_ends[1] = TRUE) AND (SIZEOF(end_exit_faces[1]) <> 0))
        OR ((closed_ends[2] = TRUE) AND (SIZEOF(end_exit_faces[2]) <> 0)));
    WR3 : slot_width > 0.0;       
  END_ENTITY;

  ENTITY Solid_with_spherical_bottom_hole
    SUBTYPE OF (Solid_with_stepped_round_hole);
      sphere_radius : length_measure;
    WHERE
      WR1 : sphere_radius >= 
          SELF\Solid_with_stepped_round_hole.segment_radii[segments];
  END_ENTITY;

  ENTITY Solid_with_stepped_round_hole
    SUPERTYPE OF (
              SOLID_WITH_STEPPED_ROUND_HOLE_AND_CONICAL_TRANSITIONS
              ANDOR ONEOF (
              SOLID_WITH_FLAT_BOTTOM_HOLE,
              SOLID_WITH_CONICAL_BOTTOM_HOLE,
              SOLID_WITH_SPHERICAL_BOTTOM_HOLE))
  SUBTYPE OF (Solid_with_depression);
      segments           : INTEGER;
      segment_radii      : LIST[1:segments] OF length_measure;
      segment_depths     : LIST[1:segments] OF length_measure;
    DERIVE
      SELF\Solid_with_depression.depth : length_measure := calculate_depth(SELF);
    WHERE
      WR1: NOT (('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_THROUGH_DEPRESSION'
        IN TYPEOF(SELF)) AND (SIZEOF(TYPEOF(SELF) *
        ['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_FLAT_BOTTOM_HOLE',
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_CONICAL_BOTTOM_HOLE',
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_SPHERICAL_BOTTOM_HOLE']) 
        <> 0)); 
  END_ENTITY;

  ENTITY Solid_with_stepped_round_hole_and_conical_transitions
    SUBTYPE OF (Solid_with_stepped_round_hole);
      conical_transitions : SET[1:?] OF Conical_stepped_hole_transition; 
    WHERE
      WR1: SIZEOF (conical_transitions) <= 
         (SELF\Solid_with_stepped_round_hole.segments + 1);
      WR2: ('SOLID_SHAPE_ELEMENT_SCHEMA.SOLID_WITH_THROUGH_DEPRESSION'
         IN TYPEOF(SELF)) XOR (SIZEOF(conical_transitions) <= 
         SELF\Solid_with_stepped_round_hole.segments);
  END_ENTITY;

  ENTITY Solid_with_straight_slot
    SUBTYPE OF (Solid_with_slot);
      slot_length : length_measure;
    WHERE
      WR1: slot_length > 0.0; 
  END_ENTITY;

  ENTITY Solid_with_tee_slot
    SUBTYPE OF (Solid_with_slot);
      tee_section_width  : length_measure;
      collar_depth       : length_measure;
    WHERE
      WR1: collar_depth < SELF\Solid_with_depression.depth;
      WR2: tee_section_width > SELF\solid_with_slot.slot_width; 
      WR3: tee_section_width > 0.0;       
      WR4: collar_depth > 0.0;       
  END_ENTITY;

  ENTITY Solid_with_through_depression
    SUBTYPE OF (Solid_with_depression);
      exit_faces : SET[1:?] OF Advanced_face;
  END_ENTITY;

  ENTITY Solid_with_trapezoidal_slot
    SUBTYPE OF (Solid_with_slot);
      draft_angle         : plane_angle_measure;
      floor_fillet_radius : length_measure;
    WHERE
      WR1: floor_fillet_radius >= 0.0; 
  END_ENTITY;

  ENTITY Solid_with_variable_radius_edge_blend
    SUBTYPE OF (Path_modified_solid);
      interpolation_points : LIST [2:?] OF Cartesian_point;
      radii                : LIST [2:?] OF length_measure;
      variations           : LIST [2:?] OF blend_radius_variation; 
    WHERE
      WR1: SIZEOF(blended_edges) = SIZEOF(radii);
      WR2: SIZEOF(variations) = SIZEOF(interpolation_points) - 1;
      WR3: SIZEOF(['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_FIXED_RADIUS_EDGE_BLEND',
              'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_SIMPLE_CHAMFER',
              'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_DOUBLE_OFFSET_CHAMFER',
              'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_WITH_ANGLED_CHAMFER'] * TYPEOF(SELF)) = 0;
  END_ENTITY;

  ENTITY Coating_layer
    SUBTYPE OF (Shape_element);
    INVERSE
      thickness : SET[0:1] OF Thickness_size_dimension FOR is_applied_to;
    WHERE
      WR1: SIZEOF(USEDIN(SELF, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.MATERIAL_IDENTIFICATION.ITEMS'))=1;
  END_ENTITY;

  ENTITY Contact_ratio
   SUBTYPE OF (Surface_condition);
     ratio_value     : Measure_item;
     measuring_gauge : measuring_gauge_select;
  END_ENTITY;

  ENTITY Extended_visual_appearance
    SUBTYPE OF (Visual_appearance);
      opacity          : OPTIONAL Measure_item;
      orientation      : OPTIONAL Angle_data_element;
      refraction_index : OPTIONAL Measure_item;  
      texture_map      : Digital_file;  
  END_ENTITY;

  ENTITY Hardness
    SUBTYPE OF (Surface_condition);
      description           : OPTIONAL STRING;      
      depth                 : OPTIONAL Measure_item;      
      environment_condition : SET[0:?] OF STRING;
      hardness_value        : Measure_item;
      measuring_method      : STRING;      
      measuring_position    : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Surface_condition
     ABSTRACT SUPERTYPE OF (ONEOF (
                        CONTACT_RATIO,
                        HARDNESS,
                        TACTILE_APPEARANCE,
                        TREATMENT_RESULT,
                        VISUAL_APPEARANCE,
                        SURFACE_TEXTURE));
      value_determination : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Surface_condition_association;
    describing_surface_condition : Surface_condition;
    described_element            : shaped_element_select;
  END_ENTITY;

  ENTITY Surface_texture
    SUBTYPE OF (Surface_condition);
      measuring_method    : STRING;
      measuring_direction : OPTIONAL Measurement_path;
  END_ENTITY;

  ENTITY Surface_texture_parameter;
    parameter_value   : Measure_item;
    parameter_name    : STRING;
    described_texture : texture_select;
  END_ENTITY;

  ENTITY Tactile_appearance
    SUBTYPE OF (Surface_condition);
      id          : OPTIONAL STRING;
      name        : OPTIONAL STRING;
      depth       : OPTIONAL Measure_item;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Treatment_result
    SUBTYPE OF (Surface_condition);
      id          : OPTIONAL STRING;
      name        : OPTIONAL STRING;
      description : STRING;
      purpose     : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Visual_appearance
    SUBTYPE OF (Surface_condition);
      id           : OPTIONAL STRING;
      colour_id    : STRING;
      name         : OPTIONAL STRING;
      colour_name  : OPTIONAL STRING;
      lustre       : STRING;
      transparency : OPTIONAL STRING;
      pattern      : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Annotation_text_character 
    SUBTYPE OF (Detailed_geometric_model_element);
    replicated_model : Character_glyph_symbol; 
    source           : Axis_placement;
    target           : Axis_placement;
  END_ENTITY;

  ENTITY Character_glyph_font_usage; 
    character : Character_glyph_symbol;
    font      : Text_font;
  END_ENTITY;

  ENTITY Character_glyph_symbol
    SUBTYPE OF (Representation);
      SELF\Representation.name : STRING (1) FIXED;            -- character : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      character : STRING := SELF\Representation.name;         -- NAME : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY; 

  ENTITY Text_font; 
    id           : STRING; 
    name         : STRING; 
    description  : STRING;
   INVERSE          
    glyphs: SET [1:?] OF Character_glyph_font_usage FOR font;
  END_ENTITY;

  ENTITY Text_font_family; 
    id           : STRING; 
    name         : STRING; 
    description  : STRING;
   INVERSE          
    fonts: SET [1:?] OF Text_font_in_family FOR family;
  END_ENTITY; 

  ENTITY Text_font_in_family;
    font   : Text_font;
    family : Text_font_family;
  END_ENTITY;

  ENTITY Solid_model_element
    SUBTYPE OF (Detailed_geometric_model_element);
  END_ENTITY;

  ENTITY Thickened_face_solid_model_element
    SUBTYPE OF (Solid_model_element);
      base_face        : Advanced_face;
      base_thickness   : length_measure;       
      top_thickness    : length_measure;
  END_ENTITY;

ENTITY Geometrically_bounded_2d_wireframe_shape_representation
  SUBTYPE OF (Geometric_model);
END_ENTITY;

ENTITY Assembly_component_relationship
    ABSTRACT SUPERTYPE OF (ONEOF (
                        NEXT_ASSEMBLY_USAGE,
                        PROMISSORY_USAGE,
                        COMPONENT_UPPER_LEVEL_IDENTIFICATION) ) 
  SUBTYPE OF (Product_occurrence_definition_relationship);
  location_indicator : OPTIONAL STRING;
  quantity : OPTIONAL Value_with_unit;
WHERE
  WR1: NOT(EXISTS(quantity)) OR ((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) XOR (quantity.value_component > 0));
END_ENTITY;

ENTITY Component_upper_level_identification
  SUBTYPE OF (Assembly_component_relationship);
  upper_assembly_relationship : Assembly_component_relationship;
  sub_assembly_relationship : Next_assembly_usage;
UNIQUE
  UR1: upper_assembly_relationship, sub_assembly_relationship;
WHERE
  WR1: SELF :<>: upper_assembly_relationship;
  WR2: SELF\Product_occurrence_definition_relationship.relating_view :=: upper_assembly_relationship\Product_occurrence_definition_relationship.relating_view;
  WR3: SELF\Product_occurrence_definition_relationship.related_view :=: sub_assembly_relationship\Product_occurrence_definition_relationship.related_view;
  WR4: (upper_assembly_relationship\Product_occurrence_definition_relationship.related_view :=: sub_assembly_relationship\Product_occurrence_definition_relationship.relating_view) OR (SIZEOF (QUERY (pdr <* USEDIN (upper_assembly_relationship\Product_occurrence_definition_relationship.related_view , 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRODUCT_OCCURRENCE_DEFINITION_RELATIONSHIP.RELATED_VIEW') | pdr.relating_view :=: sub_assembly_relationship\Product_occurrence_definition_relationship.relating_view)) = 1);
  WR5: SIZEOF (['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.NEXT_ASSEMBLY_USAGE', 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.COMPONENT_UPPER_LEVEL_IDENTIFICATION'] * TYPEOF(upper_assembly_relationship)) = 1;
END_ENTITY;

ENTITY Next_assembly_usage
  SUBTYPE OF (Assembly_component_relationship);
END_ENTITY;

ENTITY Product_occurrence_definition_relationship
   ABSTRACT SUPERTYPE;
  relating_view : Product_view_definition;
  related_view : Product_view_definition;
END_ENTITY;

ENTITY Promissory_usage
  SUBTYPE OF (Assembly_component_relationship);
END_ENTITY;

ENTITY Product_view_definition;
  id              	: OPTIONAL STRING;
  name  	      	: OPTIONAL STRING;
  additional_characterization	      : OPTIONAL STRING;
  initial_context 	: View_definition_context;
  additional_contexts   : SET [0:?] OF View_definition_context;
  defined_version  	: Product_version;
WHERE
  WR1: NOT (initial_context IN additional_contexts);
  WR2: EXISTS(id) OR (TYPEOF(SELF\Product_view_definition) <> TYPEOF(SELF));
END_ENTITY;

ENTITY View_definition_context;
  application_domain	: STRING;
  life_cycle_stage 	: STRING;
  description	 	: OPTIONAL STRING;
WHERE
  WR1: (SIZEOF (USEDIN(SELF, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' +
    'PRODUCT_VIEW_DEFINITION.INITIAL_CONTEXT')) > 0) OR
    (SIZEOF (USEDIN(SELF, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' +
    'PRODUCT_VIEW_DEFINITION.ADDITIONAL_CONTEXTS')) > 0);
END_ENTITY;

ENTITY Amount_of_substance_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Context_dependent_unit
  SUBTYPE OF (Unit);
WHERE
  WR1: EXISTS(SELF\Unit.name);
END_ENTITY;

ENTITY Conversion_based_unit
  SUBTYPE OF (Unit);
  conversion_factor : Value_with_unit;
WHERE
  WR1: EXISTS(SELF\Unit.name);
END_ENTITY;

ENTITY Derived_unit
  SUBTYPE OF (Unit);
  elements : SET[1:?] OF Derived_unit_element;
END_ENTITY;

ENTITY Derived_unit_element;
  base_unit : Unit;
  exponent : REAL;
END_ENTITY;

ENTITY Duration
  SUBTYPE OF (Value_with_unit);
WHERE
  WR1: 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'TIME_UNIT' IN TYPEOF(SELF\Value_with_unit.unit);
END_ENTITY;

ENTITY Electric_current_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Length_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Luminous_intensity_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Mass_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Plane_angle_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Ratio_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Solid_angle_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Thermodynamic_temperature_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Time_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Uncertainty_with_unit
  SUBTYPE OF (Value_with_unit);
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Unit
  SUPERTYPE OF (ONEOF (
              AMOUNT_OF_SUBSTANCE_UNIT,
              ELECTRIC_CURRENT_UNIT,
              LENGTH_UNIT,
              LUMINOUS_INTENSITY_UNIT,
              MASS_UNIT,
              PLANE_ANGLE_UNIT,
              RATIO_UNIT,
              SOLID_ANGLE_UNIT,
              THERMODYNAMIC_TEMPERATURE_UNIT,
              TIME_UNIT));
  name : STRING;
  si_unit : BOOLEAN;
END_ENTITY;

ENTITY Value_with_unit  SUPERTYPE OF (ONEOF (
               ACCELERATION_DATA_ELEMENT,
               ABSORBED_DOSE_DATA_ELEMENT,
               RADIOACTIVITY_DATA_ELEMENT,
               AMOUNT_OF_SUBSTANCE_DATA_ELEMENT,
               ANGLE_DATA_ELEMENT,
               AREA_DATA_ELEMENT,
               CAPACITANCE_DATA_ELEMENT,
               CELSIUS_TEMPERATURE_DATA_ELEMENT,
               CONDUCTANCE_DATA_ELEMENT,
               DIELECTRIC_CONSTANT_DATA_ELEMENT,
               DOSE_EQUIVALENT_DATA_ELEMENT,
               ELECTRIC_CHARGE_DATA_ELEMENT,
               ELECTRIC_CURRENT_DATA_ELEMENT,
               ELECTRIC_POTENTIAL_DATA_ELEMENT,
               ENERGY_DATA_ELEMENT,
               FORCE_DATA_ELEMENT,
               FREQUENCY_DATA_ELEMENT,
               ILLUMINANCE_DATA_ELEMENT,
               INDUCTANCE_DATA_ELEMENT,
               LENGTH_DATA_ELEMENT,
               LOSS_TANGENT_DATA_ELEMENT,
               LUMINOUS_FLUX_DATA_ELEMENT,
               LUMINOUS_INTENSITY_DATA_ELEMENT,
               MAGNETIC_FLUX_DATA_ELEMENT,
               MAGNETIC_FLUX_DENSITY_DATA_ELEMENT,
               MASS_DATA_ELEMENT,
               POWER_DATA_ELEMENT,
               PRESSURE_DATA_ELEMENT,
               RATIO_DATA_ELEMENT,
               RESISTANCE_DATA_ELEMENT,
               SCATTERING_PARAMETER_DATA_ELEMENT,
               SOLID_ANGLE_DATA_ELEMENT,
               THERMAL_RESISTANCE_DATA_ELEMENT,
               THERMODYNAMIC_TEMPERATURE_DATA_ELEMENT,
               VELOCITY_DATA_ELEMENT,
               VOLUME_DATA_ELEMENT) ) ;
  unit : Unit;
  value_component : measure_value;
END_ENTITY;

 ENTITY Applied_independent_material_property SUBTYPE OF
    (Material_property, Applied_independent_property);
     SELF\Applied_independent_property.base_independent_property: General_material_property;
  END_ENTITY;

 ENTITY Data_environment;
  environment_name : STRING;
  description : OPTIONAL STRING;
  environment_characterization: SET[1:?] OF dependent_or_independent_property_representation;
 END_ENTITY;

 ENTITY Material_identification;
  material_name : STRING;
  items : SET[1:?] OF material_item_select;
 END_ENTITY;

 ENTITY Material_property
  SUBTYPE OF (Assigned_property);
 END_ENTITY;

 ENTITY Material_property_association;
  described_material : Material_identification;
  associated_property_value : Material_property_value_representation;
  definitional : OPTIONAL BOOLEAN;
 END_ENTITY;

 ENTITY Material_property_value_representation
  SUBTYPE OF (Property_definition_representation);
    environment_condition                                               : Data_environment;

    SELF\Property_definition_representation.definition : material_property_select;  -- property : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      property : MATERIAL_PROPERTY_SELECT := SELF\Property_definition_representation.definition;  -- DEFINITION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

 END_ENTITY;

 ENTITY General_material_property
  SUBTYPE OF (Independent_property);
  WHERE
    WR1:  SIZEOF(QUERY( aip <* USEDIN(SELF,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.APPLIED_INDEPENDENT_PROPERTY.'+
                     'BASE_INDEPENDENT_PROPERTY') |
               NOT
			('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.APPLIED_INDEPENDENT_MATERIAL_PROPERTY' IN
                    TYPEOF(aip)))) = 0;
 END_ENTITY;

ENTITY Part_view_definition
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Part_version;
END_ENTITY;

ENTITY Organization_or_person_in_organization_assignment  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT,
               EXTERNALLY_DEFINED_ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT) ) ;
  assigned_entity : organization_or_person_in_organization_select;
  role            : STRING;
  items           : SET [1:?] OF organization_or_person_in_organization_item;
END_ENTITY;

ENTITY View_definition_relationship;
  id : OPTIONAL STRING;
  relation_type : OPTIONAL STRING;
  description : OPTIONAL STRING;
  relating_view : Product_view_definition;
  related_view : Product_view_definition;
END_ENTITY;

ENTITY View_definition_usage
  SUBTYPE OF (View_definition_relationship);
END_ENTITY;

ENTITY Edge_based_wireframe_shape_representation
SUBTYPE OF (Geometric_model);
END_ENTITY;

  ENTITY Non_manifold_shape_representation
    SUBTYPE OF (Geometric_model);
  END_ENTITY;

  ENTITY Axis_placement
    SUPERTYPE OF (ONEOF (
              AXIS_PLACEMENT_2D,
              AXIS_PLACEMENT_3D))
  SUBTYPE OF (Detailed_geometric_model_element);
      origin : Cartesian_point;
      x_axis : Direction;
      y_axis : Direction;
    DERIVE
      dim: INTEGER := SIZEOF(origin.coordinates);
    WHERE
      WR1: dim >1;
      WR2: dim = SIZEOF(x_axis.coordinates);
      WR3: dim = SIZEOF(y_axis.coordinates);
  END_ENTITY;

  ENTITY Axis_placement_2d
    SUBTYPE OF (Axis_placement);
  END_ENTITY;

  ENTITY Axis_placement_3d
    SUBTYPE OF (Axis_placement);
  END_ENTITY;

  ENTITY Axis_placement_mapping;
      source : Axis_placement;
      target : Axis_placement;
    WHERE
      WR1: source\Axis_placement.dim = target\Axis_placement.dim;
  END_ENTITY;

  ENTITY Cartesian_point
    SUBTYPE OF (Detailed_geometric_model_element);
      coordinates : LIST[1:3] OF length_measure;
  END_ENTITY;

  ENTITY Cartesian_transformation_2d
    SUBTYPE OF (Detailed_geometric_model_element);
      multiplication_matrix : ARRAY[1:2] OF Direction;
      translation           : Cartesian_point;
    WHERE
      WR1: SIZEOF(multiplication_matrix[1]\Direction.coordinates)=2;
      WR2: SIZEOF(multiplication_matrix[2]\Direction.coordinates)=2;
      WR3: SIZEOF(translation.coordinates)=2;
  END_ENTITY;

  ENTITY Cartesian_transformation_3d
    SUBTYPE OF (Detailed_geometric_model_element);
      multiplication_matrix : ARRAY[1:3] OF Direction;
      translation           : Cartesian_point;
    WHERE
      WR1: SIZEOF(multiplication_matrix[1]\Direction.coordinates)=3;
      WR2: SIZEOF(multiplication_matrix[2]\Direction.coordinates)=3;
      WR3: SIZEOF(multiplication_matrix[3]\Direction.coordinates)=3;
      WR4: SIZEOF(translation.coordinates)=3;
  END_ENTITY;

  ENTITY Detailed_geometric_model_element
      ABSTRACT SUPERTYPE OF (ONEOF(
                        ADVANCED_FACE,
                        AXIS_PLACEMENT,
                        CAMERA_MODEL_D2,
                        CAMERA_IMAGE_2D_WITH_SCALE,
                        CAMERA_MODEL_D3,
                        CARTESIAN_POINT,
                        CARTESIAN_TRANSFORMATION_2D,
                        CARTESIAN_TRANSFORMATION_3D,
                        CLIPPING_OPERATOR,
                        COMPOSITE_PRESENTABLE_TEXT,
                        CURVE,
                        DIRECTION,
                        LIGHT_SOURCE,
                        MODEL_IMAGE_3D,
                        POINT_AND_VECTOR,
                        POINT_ON_CURVE,
                        POINT_ON_SURFACE,
                        POINT_PATH,
                        SOLID_MODEL_ELEMENT,
                        SURFACE,
                        TEXT_LITERAL,
                        GEOMETRIC_MODEL_ELEMENT_RELATIONSHIP,
                        VECTOR))
  SUBTYPE OF (Representation_item);
  END_ENTITY;

  ENTITY Direction
    SUBTYPE OF (Detailed_geometric_model_element);
      coordinates : LIST[2:3] OF length_measure;  
  END_ENTITY;

  ENTITY Geometric_coordinate_space
    SUBTYPE OF (Numerical_representation_context);
      dimension_count : INTEGER;
    WHERE
      WR1: dimension_count >0;
  END_ENTITY;

  ENTITY Geometric_model
    SUBTYPE OF (Representation);
      version_id                           : OPTIONAL STRING;
      model_extent                         : OPTIONAL length_measure;
      SELF\Representation.context_of_items : Geometric_coordinate_space;
      SELF\Representation.items            : SET[1:?] OF Detailed_geometric_model_element;
  END_ENTITY;

ENTITY Numerical_representation_context
  SUBTYPE OF (Representation_context);
  units : OPTIONAL SET[1:?] OF Unit;
  accuracies : OPTIONAL SET[1:?] OF Uncertainty_with_unit;
END_ENTITY;

ENTITY Representation;
  id : OPTIONAL STRING;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
  context_of_items : Representation_context;
  items : SET[1:?] OF Representation_item;
WHERE
  WR1 : EXISTS(name) OR (TYPEOF(SELF\Representation) <> TYPEOF(SELF));
END_ENTITY;

ENTITY Representation_context;
  id : STRING;
  kind : STRING;
INVERSE
  representations_in_context : SET[1:?] OF Representation FOR context_of_items;
END_ENTITY;

ENTITY Representation_item
    ABSTRACT SUPERTYPE OF (ONEOF(
                        BOOLEAN_REPRESENTATION_ITEM,
                        CHARACTERISTIC_DATA_TABLE,
                        CHARACTERISTIC_DATA_TABLE_ROW,
                        COMPOUND_REPRESENTATION_ITEM,
                        DATE_TIME_REPRESENTATION_ITEM,
                        INTEGER_REPRESENTATION_ITEM,
                        LOGICAL_REPRESENTATION_ITEM,
                        RATIONAL_REPRESENTATION_ITEM,
                        STYLED_ELEMENT,
                        REAL_REPRESENTATION_ITEM,
                        STYLED_MODEL_REPLICATION));
  name : OPTIONAL STRING;
END_ENTITY;

ENTITY Representation_relationship;
  relation_type : OPTIONAL STRING;
  description : OPTIONAL STRING;
  rep_1 : Representation;
  rep_2 : Representation;
WHERE
  WR1 : EXISTS(relation_type) OR (TYPEOF(SELF\Representation_relationship) <> TYPEOF(SELF));
  WR2 : EXISTS(description) OR (TYPEOF(SELF\Representation_relationship) <> TYPEOF(SELF));
END_ENTITY;

ENTITY String_representation_item
    SUPERTYPE OF (ONEOF (
               TAGGED_TEXT_ITEM,
               UNIFORM_RESOURCE_IDENTIFIER) ) 
      SUBTYPE OF (Representation_item);
  string_value : STRING;
END_ENTITY;

ENTITY Measure_item
    ABSTRACT SUPERTYPE OF (ONEOF (
                        MEASURE_ITEM_WITH_PRECISION,
                        NUMERICAL_ITEM_WITH_GLOBAL_UNIT,
                        NUMERICAL_ITEM_WITH_UNIT,
                        VALUE_LIST,
                        VALUE_RANGE,
                        VALUE_RANGE_WITH_GLOBAL_UNIT,
                        VALUE_SET,
                        VALUE_WITH_TOLERANCES) ) 
  SUBTYPE OF (Representation_item);
WHERE
  WR1: SIZEOF(USEDIN(SELF, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.REPRESENTATION.ITEMS'))>0;
END_ENTITY;

ENTITY Numerical_item_with_global_unit
  SUBTYPE OF (Measure_item);
  value_component : measure_value;
WHERE
  WR1: SIZEOF(QUERY(pvr <* QUERY ( r <* USEDIN(SELF, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.REPRESENTATION.ITEMS')| 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PROPERTY_VALUE_REPRESENTATION' IN TYPEOF(r)) | EXISTS(pvr.context_of_items.units) )) > 0;
END_ENTITY;

ENTITY Numerical_item_with_unit
  SUBTYPE OF (Measure_item, Value_with_unit);
END_ENTITY;

ENTITY Property_value_representation
    SUPERTYPE OF (ONEOF (
               RANGE_CHARACTERISTIC,
               TOLERANCE_CHARACTERISTIC) ) 
      SUBTYPE OF (Representation);
  SELF\Representation.context_of_items : Numerical_representation_context;
END_ENTITY;

  ENTITY Contextual_item_shape
    SUBTYPE OF (Item_shape);
      SELF\Item_shape.described_element : described_element_select;
    DERIVE
      shaped_product : Product_view_definition := spa_get_definition(SELF);
  END_ENTITY;

  ENTITY Geometric_item_specific_usage;
      name            : STRING;
      description     : OPTIONAL STRING;
      definition      : geometric_item_specific_usage_select;
      identified_item : Detailed_geometric_model_element;
      used_model      : shape_model;      
  END_ENTITY;

  ENTITY Item_shape;
    id                : OPTIONAL STRING;
    description       : OPTIONAL STRING;
    described_element : shapeable_item;
  END_ENTITY;

  ENTITY Shape_dependent_property_representation;
    characteristic_type     : STRING;
    description             : OPTIONAL STRING;
    described_element       : shape_dependent_select;
    property_representation : Representation;
  END_ENTITY;

  ENTITY Shape_description_association;
    represented_characteristic : shape_select;
    representation             : shape_model;
    role                       : OPTIONAL STRING;
    description                : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Shape_element;
      id               : OPTIONAL STRING;
      element_name     : OPTIONAL STRING;
      description      : OPTIONAL STRING;
      containing_shape : Item_shape;
    WHERE
      WR1: EXISTS(element_name) OR (TYPEOF(SELF\Shape_element) <> TYPEOF(SELF));
  END_ENTITY;

  ENTITY Shape_element_relationship;
      relation_type : OPTIONAL STRING;
      description   : OPTIONAL STRING;
      relating      : Shape_element;
      related       : Shape_element;
    WHERE
      WR1: EXISTS(relation_type) OR (TYPEOF(SELF\Shape_element_relationship) <> TYPEOF(SELF));
  END_ENTITY;

ENTITY Class_with_attributes
SUBTYPE OF (Class);
  version_id: OPTIONAL STRING;
  used_classification_system: OPTIONAL Classification_system;
INVERSE
  characterization_attributes: SET[0:?] OF Classification_attribute FOR characterized_class;
END_ENTITY;

ENTITY Class_hierarchy;
  super_class: Class_with_attributes;
  sub_class: Class_with_attributes;
END_ENTITY;

ENTITY Classification_association
SUBTYPE OF (Classification_assignment);
   SELF\Classification_assignment.assigned_class: Class_with_attributes;
   definitional: LOGICAL;
WHERE
WR1: NOT(definitional = TRUE) OR
       (SIZEOF(QUERY(it<* SELF\Classification_assignment.items | 
                 NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.DEFINABLE_OBJECTS' IN TYPEOF(it)) )) = 0);
WR2: SIZEOF(QUERY(it<* SELF\Classification_assignment.items |
     NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.CLASSIFIED_ELEMENT_SELECT' IN TYPEOF(it)) )) =0;
END_ENTITY;

ENTITY Classification_attribute;
   id: STRING;
   name: OPTIONAL STRING;
   description: OPTIONAL STRING;
   allowed_values: OPTIONAL SET[1:?] OF Measure_item;
   characterized_class: Class_with_attributes;
   attribute_definition: Independent_property;
END_ENTITY;

ENTITY Classification_system;
  id: STRING;
  description: OPTIONAL STRING;
END_ENTITY;

ENTITY External_class_with_attributes
SUBTYPE OF (Class_with_attributes);
  source: external_class_select;
END_ENTITY;

ENTITY Classification_assignment;
  assigned_class : Class;
  items : SET[1:?] OF classification_item;
  role : OPTIONAL STRING;
END_ENTITY;

ENTITY Class
  SUPERTYPE OF (ONEOF (
              CLASS_BY_EXTENSION,
              CLASS_BY_INTENSION));
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Class_by_extension
  SUBTYPE OF (Class);
END_ENTITY;

ENTITY Class_by_intension
  SUBTYPE OF (Class);
END_ENTITY;

  ENTITY Measure_item_with_precision
    SUBTYPE OF (Measure_item);
      significant_digits : INTEGER;
  END_ENTITY;

  ENTITY Value_limit
    SUBTYPE OF (Numerical_item_with_unit, Qualified_representation_item);
      SELF\Qualified_representation_item.qualifiers : SET[1:1] OF Pre_defined_type_qualifier;
    WHERE
      WR1:SELF\Qualified_representation_item.qualifiers[1]\Type_qualifier.name in ['minimum', 'maximum'];
  END_ENTITY;   

  ENTITY Value_list
    SUBTYPE OF (Measure_item);
      values : LIST[1:?] OF Measure_item;
  END_ENTITY;

  ENTITY Value_range
    SUBTYPE OF (Measure_item);
      lower_limit : Numerical_item_with_unit;
      upper_limit : Numerical_item_with_unit;
  END_ENTITY;

  ENTITY Value_range_with_global_unit
    SUBTYPE OF (Measure_item);
      lower_limit : Numerical_item_with_global_unit;
      upper_limit : Numerical_item_with_global_unit;
  END_ENTITY;

  ENTITY Value_set
    SUBTYPE OF (Measure_item);
      values : SET[1:?] OF Measure_item;
  END_ENTITY;

  ENTITY Value_with_tolerances
    SUBTYPE OF (Measure_item);
      item_value : Numerical_item_with_unit;
      lower_limit : REAL;
      upper_limit : REAL;
  END_ENTITY;

ENTITY Independent_property  SUPERTYPE OF (ONEOF(
               CHARACTERISTIC_DATA_TABLE_HEADER,
               CHARACTERISTIC_DATA_COLUMN_HEADER,
               PLIB_PROPERTY_REFERENCE,
               EXTERNAL_LIBRARY_PROPERTY));
  id : STRING;
  property_type : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Independent_property_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating : Independent_property;
  related : Independent_property;
END_ENTITY;

ENTITY Identification_assignment;
  identifier  : STRING;
  role        : STRING;
  description : OPTIONAL STRING;
  items       : SET [1:?] OF identification_item;
END_ENTITY;

  ENTITY Plib_class_reference;
    code         : STRING;
    supplier_bsu : STRING;
    version      : STRING;
  END_ENTITY;

ENTITY Applied_information_usage_right;
  item : SET[1:?] OF information_usage_right_item;
  right_applied : Information_usage_right;
END_ENTITY;

ENTITY Information_right;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  restriction : OPTIONAL STRING;
END_ENTITY;

ENTITY Information_usage_right;
  id : STRING;
  name : STRING;
  comment : OPTIONAL STRING;
  grants_right : SET[1:?] OF Information_right;
END_ENTITY;

ENTITY Information_usage_right_relationship;
  relating : Information_usage_right;
  related : Information_usage_right;
  relation_type : STRING;
END_ENTITY;

  ENTITY Assembled_part_association
    SUBTYPE OF (Assembly_component_relationship, Part_occurrence_definition_relationship);
      SELF\Product_occurrence_definition_relationship.relating_view : Assembly_definition;
  END_ENTITY;

  ENTITY Assembly_definition
    SUBTYPE OF (Part_view_definition);
  END_ENTITY;

  ENTITY Effectivity_controlled_assembly_definition
    SUBTYPE OF (Assembly_definition);
  END_ENTITY;

  ENTITY Geometrical_relationship
    SUBTYPE OF (Part_definition_relationship);
      definition_placement: Geometric_model_relationship_with_transformation;
    DERIVE
      SELF\View_definition_relationship.relation_type : STRING := 'geometrical relationship';
  END_ENTITY;

  ENTITY Part_definition_relationship
    SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.relating_view : Part_view_definition;
      SELF\View_definition_relationship.related_view  : Part_view_definition;
  END_ENTITY;

  ENTITY Externally_defined_activity_relationship
    SUBTYPE OF (Activity_relationship);
    INVERSE
      source : External_source_identification FOR item;
    WHERE
      WR1: NOT (SELF\Activity_relationship.name IN Pre_defined_activity_relationship_types);
  END_ENTITY;

  ENTITY Externally_defined_security_classification
    SUBTYPE OF (Security_classification);
    INVERSE
      source : External_source_identification FOR item;
    WHERE
      WR1: NOT (SELF\Security_classification.classification_level IN Pre_defined_security_classification_types);
  END_ENTITY;

  ENTITY Externally_defined_address_assignment
    SUBTYPE OF (Address_assignment);
    INVERSE
      source : External_source_identification FOR item;
    WHERE
      WR1: (EXISTS(SELF\Address_assignment.address_type)) AND
        (NOT (SELF\Address_assignment.address_type IN Pre_defined_address_assignment_types));
  END_ENTITY;

  ENTITY Externally_defined_organization_or_person_in_organization_assignment
    SUBTYPE OF (Organization_or_person_in_organization_assignment);
    INVERSE
      source : External_source_identification FOR item;
    WHERE
      WR1: NOT (SELF\Organization_or_person_in_organization_assignment.role IN Pre_defined_organization_or_person_in_organization_assignment_types);
  END_ENTITY;

  ENTITY Externally_defined_approval_status
    SUBTYPE OF (Approval_status);
    INVERSE
      source : External_source_identification FOR item;
    WHERE
      WR1: NOT (SELF\Approval_status.status_name IN Pre_defined_approval_status_types);
  END_ENTITY;

  ENTITY Externally_defined_approval
    SUBTYPE OF (Approval);
    INVERSE
      source : External_source_identification FOR item;
    WHERE
      WR1: NOT (SELF\Approval.purpose IN Pre_defined_approval_types);
  END_ENTITY;

  ENTITY Externally_defined_date_or_date_time_assignment
    SUBTYPE OF (Date_or_date_time_assignment);
    INVERSE
      source : External_source_identification FOR item;
    WHERE
      WR1: NOT (SELF\Date_or_date_time_assignment.role IN Pre_defined_date_or_date_time_assignment_types);
  END_ENTITY;

  ENTITY Externally_defined_work_request
    SUBTYPE OF (Work_request);
    INVERSE
      source : External_source_identification FOR item;
    WHERE
      WR1: NOT (SELF\Work_request.purpose IN Pre_defined_work_request_types);
  END_ENTITY;

  ENTITY Externally_defined_work_request_status
    SUBTYPE OF (Work_request_status);
    INVERSE
      source : External_source_identification FOR item;
    WHERE
      WR1: NOT (SELF\Work_request_status.status IN Pre_defined_work_request_status_types);
  END_ENTITY;

  ENTITY Person_in_organization_relationship;
    description   : OPTIONAL STRING; 
    relating      : Person_in_organization;
    related       : Person_in_organization;
    relation_type : STRING;
  END_ENTITY;

  ENTITY Pre_defined_activity_relationship
    SUBTYPE OF (Activity_relationship);
    WHERE
      WR1: SELF\Activity_relationship.name IN Pre_defined_activity_relationship_types;
  END_ENTITY;

  ENTITY Pre_defined_security_classification
    SUBTYPE OF (Security_classification);
    WHERE
      WR1: SELF\Security_classification.classification_level IN Pre_defined_security_classification_types;
  END_ENTITY;

  ENTITY Pre_defined_address_assignment
    SUBTYPE OF (Address_assignment);
    WHERE
      WR1: SELF\Address_assignment.address_type IN Pre_defined_address_assignment_types;
  END_ENTITY;

  ENTITY Pre_defined_organization_or_person_in_organization_assignment
    SUBTYPE OF (Organization_or_person_in_organization_assignment);
    WHERE
      WR1: SELF\Organization_or_person_in_organization_assignment.role IN Pre_defined_organization_or_person_in_organization_assignment_types; 
  END_ENTITY;

  ENTITY Pre_defined_approval_status
    SUBTYPE OF (Approval_status);
    WHERE
      WR1: SELF\Approval_status.status_name IN Pre_defined_approval_status_types;
  END_ENTITY;

  ENTITY Pre_defined_approval
    SUBTYPE OF (Approval);
    WHERE
      WR1: SELF\Approval.purpose IN Pre_defined_approval_types;
  END_ENTITY;

  ENTITY Pre_defined_date_or_date_time_assignment
    SUBTYPE OF (Date_or_date_time_assignment);
    WHERE
      WR1: SELF\Date_or_date_time_assignment.role IN Pre_defined_date_or_date_time_assignment_types;
  END_ENTITY;

  ENTITY Pre_defined_work_request
    SUBTYPE OF (Work_request);
    WHERE
      WR1: SELF\Work_request.purpose IN Pre_defined_work_request_types;
  END_ENTITY;

  ENTITY Pre_defined_work_request_status
    SUBTYPE OF (Work_request_status);
    WHERE
      WR1: SELF\Work_request_status.status IN Pre_defined_work_request_status_types;
  END_ENTITY;

ENTITY Requirement_assignment;
  id : STRING;
  description : OPTIONAL STRING;
  assigned_requirement : Requirement_view_definition;
  assigned_to : requirement_assignment_item;
END_ENTITY;

ENTITY Requirement_satisfied_by;
  id : STRING;
  description : OPTIONAL STRING;
  satisfied_by : requirement_satisfaction_item;
  satisfied_requirement : Requirement_view_definition;
  related_assignment : OPTIONAL Requirement_assignment;
END_ENTITY;

ENTITY Requirement_source;
  id : STRING;
  description : OPTIONAL STRING;
  source : requirement_source_item;
  sourced_requirement : Requirement_view_definition;
END_ENTITY;

ENTITY Requirement_collection_relationship
  SUBTYPE OF (Requirement_view_definition_relationship);
    DERIVE
      collection : REQUIREMENT_VIEW_DEFINITION := SELF\Requirement_view_definition_relationship.primary;  -- PRIMARY : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      member : REQUIREMENT_VIEW_DEFINITION := SELF\Requirement_view_definition_relationship.secondary;  -- SECONDARY : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Requirement_view_definition_relationship
  SUPERTYPE OF (ONEOF (
              REQUIREMENT_COLLECTION_RELATIONSHIP,
              TRACING_RELATIONSHIP))
  SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view : Requirement_view_definition;  -- primary : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
  SELF\View_definition_relationship.related_view : Requirement_view_definition;  -- secondary : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      primary : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      secondary : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

WHERE
  WR1: primary :<>: secondary;
END_ENTITY;

ENTITY Tracing_relationship
  SUBTYPE OF (Requirement_view_definition_relationship);
    DERIVE
      traces_from : REQUIREMENT_VIEW_DEFINITION := SELF\Requirement_view_definition_relationship.primary;  -- PRIMARY : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      traces_to : REQUIREMENT_VIEW_DEFINITION := SELF\Requirement_view_definition_relationship.secondary;  -- SECONDARY : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

  ENTITY Breakdown_node_relationship;
      description   : OPTIONAL STRING;
      relating      : complex_product_select;
      related       : breakdown_element_select;
      relation_type : STRING;  
    WHERE
      WR1: (NOT (relation_type IN ['functionality', 'realization'])) OR
	    (TYPEOF(related) <> TYPEOF(relating));
      WR2: (NOT (relation_type IN ['decomposition', 'specialization', 'occurrence'])) OR
	    (aggregate1_in_aggregate2(TYPEOF(related),TYPEOF(relating)) OR aggregate1_in_aggregate2(TYPEOF(relating),TYPEOF(related)) ) ;
      WR3: (NOT (relation_type IN ['occurrence'])) OR 
	    ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PHYSICAL_ELEMENT_DEFINITION' IN TYPEOF(relating));
  END_ENTITY;

  ENTITY Class_breakdown_association;
    description       : OPTIONAL STRING;
    considered_class  : Product_class;
    breakdown_element : breakdown_element_select;
    relation_type     : STRING;
  END_ENTITY;

  ENTITY Complex_node_relationship;
      description   : OPTIONAL STRING;
      relating      : complex_product_select;
      related       : complex_product_select;
      relation_type : STRING;  
    WHERE
      WR1: (aggregate1_in_aggregate2(TYPEOF(related),TYPEOF(relating)) OR aggregate1_in_aggregate2(TYPEOF(relating),TYPEOF(related)) ) ;
  END_ENTITY;

  ENTITY Design_constraint_association;
    name                  : OPTIONAL STRING;	
    constrained_object    : complex_product_select;
    constraint_definition : Design_constraint_definition;  
  END_ENTITY;

  ENTITY Design_constraint_context_association;
    constraint_definition : Design_constraint_definition;
    constraint_context    : constraint_context_select;
  END_ENTITY;

  ENTITY Design_constraint_definition
    SUBTYPE OF (Product_view_definition);
      SELF\Product_view_definition.defined_version : Requirement_version;
  END_ENTITY;

  ENTITY Design_constraint_relationship
    SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.relating_view : Design_constraint_definition;
      SELF\View_definition_relationship.related_view  : Design_constraint_definition;
  END_ENTITY;

  ENTITY Part_function_association
    SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.relating_view : Functional_element_definition;
      SELF\View_definition_relationship.related_view  : Part_view_definition;
  END_ENTITY;

  ENTITY Part_occurrence_relationship
    SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.relating_view : part_occurrence_select;
      SELF\View_definition_relationship.related_view  : part_occurrence_select;
  END_ENTITY;

  ENTITY Replaced_usage_relationship
    SUBTYPE OF (Part_occurrence_relationship);
      usage_context : instance_usage_context_select;
    DERIVE
      SELF\View_definition_relationship.relation_type : STRING := 'usage replacement';
  END_ENTITY;

  ENTITY Specification_category_breakdown_influence;
    influencing_category      : Class_category_association;
    influenced_breakdown_node : breakdown_element_select;
  END_ENTITY;

  ENTITY Test_select_product
    SUBTYPE OF (Alternate_product_relationship);
  WHERE
    WR1: NOT EXISTS (SELF\Alternate_product_relationship.criteria);
  END_ENTITY;

ENTITY Activity_method_relationship;
  name : STRING;
  description : OPTIONAL STRING;
  relating_method : Activity_method;
  related_method : Activity_method;
END_ENTITY;

ENTITY Applied_activity_method_assignment;
  assigned_activity_method : Activity_method;
  items : SET[1:?] OF activity_method_item;
  role : STRING;
END_ENTITY;

ENTITY Activity_method;
  name : STRING;
  description : OPTIONAL STRING;
  consequence : OPTIONAL STRING;
  purpose : STRING;
END_ENTITY;

ENTITY Attribute_classification;
  allowed_value : Class;
  attribute_name : STRING;
  classified_entity : SET[1:?] OF classified_attribute_select;
END_ENTITY;

  ENTITY Annotation_occurrence_associativity;
    relating_element : Annotation_element;
    related_element  : annotation_occurrence_associativity_item;
  END_ENTITY;

  ENTITY Draughting_model
    SUBTYPE OF (Styled_model);
      SELF\Representation.items : SET[1:?] OF draughting_model_element_select;
  UNIQUE
    UR1:  SELF\Representation.name;
  END_ENTITY;

  ENTITY Draughting_model_item_association;
    name            : STRING;
    definition      : shape_select;
    identified_item : draughting_model_item_association_select;
    used_model      : Draughting_model;
  END_ENTITY;

  ENTITY Annotation_fill_area 
    SUBTYPE OF (Detailed_geometric_model_element); 
      boundaries : SET [1:?] OF Curve; 
  END_ENTITY; 

  ENTITY Annotation_plane
    SUBTYPE OF (Annotation_element);
      elements : OPTIONAL SET[1:?] OF annotation_plane_element;
      SELF\Styled_element.element : plane_or_planar_box;
  END_ENTITY;

  ENTITY Dimension_curve 
    SUBTYPE OF (Annotation_curve);
      terminator : SET[0:2] OF Terminator;
  END_ENTITY;

  ENTITY Dimension_curve_directed_callout
    SUBTYPE OF (Draughting_callout);
      dimension_curve : Dimension_curve;
    WHERE
      WR1: dimension_curve IN SELF\Draughting_callout.contents;
  END_ENTITY;

  ENTITY Draughting_callout 
    SUPERTYPE OF (ONEOF (
              DIMENSION_CURVE_DIRECTED_CALLOUT,
              LEADER_DIRECTED_CALLOUT,
              PROJECTION_DIRECTED_CALLOUT))
  SUBTYPE OF (Representation_item);
      contents : LIST [1:?] OF draughting_callout_content_select;
  END_ENTITY;

  ENTITY Fill_area 
    SUBTYPE OF (Annotation_element);
      SELF\Styled_element.element : Annotation_fill_area;
      reference_point             : point_select;
  END_ENTITY;

  ENTITY Generic_annotation_curve
    SUBTYPE OF (Annotation_curve);
  END_ENTITY;

  ENTITY Leader 
    SUBTYPE OF (Annotation_curve);
  END_ENTITY;

  ENTITY Leader_directed_callout
    SUBTYPE OF (Draughting_callout);
      leader : Leader;
    WHERE
      WR1: leader IN SELF\Draughting_callout.contents;
  END_ENTITY;

  ENTITY Projection_curve 
    SUBTYPE OF (Annotation_curve);
  END_ENTITY;

  ENTITY Projection_directed_callout
    SUBTYPE OF (Draughting_callout);
      projection_curve : Projection_curve;
    WHERE
      WR1: projection_curve IN SELF\Draughting_callout.contents;
  END_ENTITY;

  ENTITY Annotation_subfigure
    SUBTYPE OF (Annotation_element);
  END_ENTITY;

  ENTITY Annotation_symbol
    SUBTYPE OF (Annotation_element);
      symbol_definition : symbol_definition_select;
  END_ENTITY;

  ENTITY Dimension_curve_terminator
    SUBTYPE OF (Terminator_symbol);
  END_ENTITY;

  ENTITY Dimension_symbol; 
  END_ENTITY;

  ENTITY Draughting_annotation_occurrence 
    SUBTYPE OF (Representation);
  END_ENTITY;

  ENTITY General_symbol 
    SUBTYPE of (Representation);
  END_ENTITY;

  ENTITY Geometric_tolerance_symbol; 
  END_ENTITY;

  ENTITY Surface_condition_symbol; 
  END_ENTITY;

  ENTITY Terminator_symbol
    SUBTYPE OF (Annotation_symbol);
  END_ENTITY;

  ENTITY Datum_feature_callout 
    SUBTYPE OF (Draughting_element);
  END_ENTITY;

  ENTITY Datum_target_callout 
    SUBTYPE OF (Draughting_element);
  END_ENTITY;

  ENTITY Dimension
     ABSTRACT SUPERTYPE OF (
                        DIMENSION_CALLOUT
                        ANDOR 
                        DIMENSION_VALUE)
  SUBTYPE OF (Draughting_element);
      id                : STRING;
  END_ENTITY;

  ENTITY Dimension_callout 
    SUBTYPE OF (Dimension);
    callout_element : SET [1:?] OF dimension_callout_select;
    dimension_type  : SET [1:?] OF dimension_type;
  END_ENTITY;

  ENTITY Dimension_callout_relationship;
      relating_draughting_callout : Dimension_callout;  
      related_draughting_callout  : Dimension_value;
      relation_type               : primary_or_secondary;
  END_ENTITY;

  ENTITY Dimension_prefix
    SUBTYPE OF (Draughting_element);
      prefix : Dimension_text;
    INVERSE
      parent : Structured_dimension_callout FOR prefix;
    WHERE
      WR1: prefix IN SELF\Draughting_callout.contents;
      WR2: prefix\Representation_item.name = 'prefix text';            
  END_ENTITY;    

  ENTITY Dimension_sequence_pair; 
    allignment  : chained_or_parallel;
	predecessor : Dimension_callout;
	successor   : Dimension_callout;
  END_ENTITY;

  ENTITY Dimension_suffix
    SUBTYPE OF (Draughting_element);
      suffix : Dimension_text;
    INVERSE
      parent : Structured_dimension_callout FOR suffix;
    WHERE
      WR1: suffix IN SELF\Draughting_callout.contents;
      WR2: suffix\Representation_item.name = 'suffix text';      
  END_ENTITY;    

  ENTITY Dimension_value
    SUBTYPE OF (Dimension);
      dimension_value : Dimension_text;
    WHERE
      WR1: dimension_value IN SELF\Draughting_callout.contents;
      WR2: dimension_value\Representation_item.name = 'dimension value';
  END_ENTITY;

  ENTITY Draughting_element
    SUPERTYPE OF (ONEOF (
              DATUM_FEATURE_CALLOUT,
              DATUM_TARGET_CALLOUT,
              DIMENSION,
              DIMENSION_PREFIX,
              DIMENSION_SUFFIX,
              GEOMETRIC_TOLERANCE_CALLOUT,
              SURFACE_CONDITION_CALLOUT))
  SUBTYPE OF(Draughting_callout);
  END_ENTITY;

  ENTITY Geometric_tolerance_callout 
    SUBTYPE OF (Draughting_element);
  END_ENTITY;

  ENTITY Structured_dimension_callout
    SUBTYPE OF (Dimension_value);
      prefix          : OPTIONAL Dimension_prefix;
      suffix          : OPTIONAL Dimension_suffix;
      tolerance_value : OPTIONAL Dimension_text;
      unit_text       : OPTIONAL Dimension_text;
    WHERE
      WR1: tolerance_value IN SELF\Draughting_callout.contents;
      WR2: NOT EXISTS(tolerance_value) OR (tolerance_value\Representation_item.name = 'tolerance value');
      WR3: unit_text IN SELF\Draughting_callout.contents;
      WR4: NOT EXISTS(unit_text) OR (unit_text\Representation_item.name = 'unit text');
  END_ENTITY;

  ENTITY Surface_condition_callout 
    SUBTYPE OF (Draughting_element);
  END_ENTITY;

  ENTITY Constructive_geometry
    SUBTYPE OF (Representation);
      SELF\Representation.context_of_items : Geometric_coordinate_space;
      SELF\Representation.items : SET [1:?] OF constructive_element_select;
  END_ENTITY;

  ENTITY Constructive_geometry_association;
      auxiliary_geometry : Constructive_geometry;
      base_geometry      : constructive_geometry_select;
      description        : STRING;
    WHERE
      WR1: auxiliary_geometry\Representation.context_of_items :=: base_geometry\Representation.context_of_items;
  END_ENTITY;

  ENTITY Circle
    SUBTYPE OF (Curve);
  END_ENTITY;

  ENTITY Closed_composite_curve
    SUBTYPE OF (Composite_curve);
  END_ENTITY;

  ENTITY Composite_curve
    SUBTYPE OF (Curve);
      curve_segment : LIST[1:?] OF UNIQUE Composite_curve_segment;
  END_ENTITY;

  ENTITY Composite_curve_segment;
      segment_curve : Curve;
    INVERSE
      using_curves : SET[1:?] OF composite_curve FOR curve_segment;
  END_ENTITY;

	ENTITY Measurement_path;
	          defined_by : Curve;
	          defined_in : Geometric_coordinate_space;
	END_ENTITY;

	ENTITY Trimmed_curve
	  SUBTYPE OF (Curve);
	    start_point : Cartesian_point;
	    end_point : Cartesian_point;
	END_ENTITY;

ENTITY Curve
    SUPERTYPE OF (ONEOF (
               COMPOSITE_CURVE,
               TRIMMED_CURVE) ) 
      SUBTYPE OF (Detailed_geometric_model_element);
END_ENTITY;

ENTITY Line
  SUBTYPE OF (Curve);
END_ENTITY;

ENTITY Plane
  SUBTYPE OF (Surface);
END_ENTITY;

ENTITY Point_on_curve
  SUBTYPE OF (Detailed_geometric_model_element);
  supporting_curve : Curve;
END_ENTITY;

ENTITY Point_on_surface
  SUBTYPE OF (Detailed_geometric_model_element);
  supporting_surface : Surface;
END_ENTITY;

ENTITY Surface
  SUBTYPE OF (Detailed_geometric_model_element);
END_ENTITY;

ENTITY External_item_identification
SUBTYPE OF (External_source_identification);
  external_id : STRING;
END_ENTITY;

ENTITY External_source_identification;
  source_id	  : STRING;
  source_type : STRING;
  item 	  : external_identification_item;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Derived_geometry;
  derived_from : SET[1:?] OF Shape_element;
  geometry : constructive_element_select;
  role : STRING;
END_ENTITY;

ENTITY Derived_shape_element
  SUBTYPE OF (Shape_element);
  derived_from : SET[1:?] OF Shape_element;

  SELF\Shape_element.description : STRING;                    -- role : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      role : STRING := SELF\Shape_element.description;        -- DESCRIPTION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Offset_shape_element
  SUBTYPE OF (Derived_shape_element);
  offset : Value_with_unit;
END_ENTITY;

ENTITY Document_assignment;
  assigned_document : assigned_document_select;
  is_assigned_to : documented_element_select;
  role : STRING;
END_ENTITY;

ENTITY Partial_document_assignment
SUBTYPE OF (Document_assignment);
  document_portion : STRING;
END_ENTITY;

  ENTITY Presentation_set;
    areas : SET[1:?] OF View_area; 
  END_ENTITY;

  ENTITY Presentation_set_assignment; 
    associated_presentation : Presentation_set;
    is_describing           : presentation_association_select;
  END_ENTITY;

  ENTITY View 
    SUBTYPE OF (Styled_model); 
      SELF\Representation.items : SET [1:?] OF view_element_select; 
  WHERE 
    WR1: SELF\Representation.context_of_items\Geometric_coordinate_space.dimension_count = 2;      
  END_ENTITY;   

  ENTITY View_area
    SUBTYPE OF (Styled_model); 
      size : Planar_box;  
      SELF\Representation.items : SET [1:?] OF view_area_element_select; 
    WHERE 
      WR1: SELF\Representation.context_of_items\Geometric_coordinate_space.dimension_count = 2;
  END_ENTITY; 

  ENTITY View_area_assignment;
    associated_view_area : View_area;
    is_describing        : presentation_association_select;
  END_ENTITY;

  ENTITY View_area_relationship;
    relation_type : view_area_relation_type;
    description   : OPTIONAL STRING;
    relating      : View_area;
    related       : View_area;
  END_ENTITY;

  ENTITY View_area_replication 
    SUBTYPE OF (Styled_model_replication); 
      SELF\Styled_model_replication.replicated_model : view_area_replication_model; 
  END_ENTITY; 

  ENTITY View_relationship;
    relation_type : view_relation_type;
    description   : OPTIONAL STRING;
    relating      : View;
    related       : View;
  END_ENTITY;

  ENTITY Currency
      ABSTRACT SUPERTYPE OF ((ONEOF (
                        EXTERNAL_CURRENCY,
                        ISO4217_CURRENCY)) ) 
  SUBTYPE OF (Unit);
  END_ENTITY;

  ENTITY Currency_value 
    SUBTYPE OF (Value_with_unit); 
      SELF\Value_with_unit.unit : Currency;
  END_ENTITY; 

  ENTITY Iso4217_currency 
    SUBTYPE OF (Currency);
  END_ENTITY; 

  ENTITY External_context_dependent_unit
    SUBTYPE OF (Context_dependent_unit);
      id              : STRING;
      external_source : External_source;
  END_ENTITY;

  ENTITY External_conversion_based_unit
    SUBTYPE OF (Conversion_based_unit);
      id              : STRING;
      external_source : External_source;
  END_ENTITY;

  ENTITY Iso15926_4_rdl
    SUBTYPE OF (Known_source); 
  END_ENTITY; 

  ENTITY Known_source 
     ABSTRACT SUPERTYPE OF (ONEOF (
                        ISO15926_4_RDL,
                        OTD_CATALOGUE,
                        OTD_DICTIONARY,
                        PLIB_DICTIONARY,
                        PLIB_LIBRARY))
  SUBTYPE OF (External_source); 
  END_ENTITY; 

  ENTITY Otd_catalogue 
    SUBTYPE OF (Known_source); 
  END_ENTITY; 

  ENTITY Otd_dictionary 
    SUBTYPE OF (Known_source); 
  END_ENTITY; 

  ENTITY Plib_dictionary 
    SUBTYPE OF (Known_source); 
  END_ENTITY; 

  ENTITY Plib_library 
    SUBTYPE OF (Known_source); 
  END_ENTITY; 

  ENTITY User_defined_library_or_dictionary 
    SUBTYPE OF (External_source); 
    INVERSE
      source : External_source_identification FOR item;
  END_ENTITY;

  ENTITY External_source  SUPERTYPE OF ((ONEOF (
               KNOWN_SOURCE,
               USER_DEFINED_LIBRARY_OR_DICTIONARY)) ) ; 
    id          : STRING;
    description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Manifold_surface_shape_representation
    SUBTYPE OF (Geometric_model);
  END_ENTITY;

  ENTITY Shell_based_surface_model
    SUBTYPE OF (Detailed_geometric_model_element);
  END_ENTITY;

  ENTITY Mechanical_design_view_area 
    SUBTYPE OF (View_area);
  END_ENTITY;

  ENTITY Mechanical_representation_styled_model  
    SUBTYPE OF (Styled_model);
  END_ENTITY;

  ENTITY Camera_model_d3
    SUBTYPE OF (Detailed_geometric_model_element);
      clipping : OPTIONAL Clipping_operator; 
      hidden_element_appearance : OPTIONAL Appearance_assignment; 
      hidden_line_removal : OPTIONAL BOOLEAN; 
      sources : OPTIONAL SET[1:?] OF Light_source;      
      view_projection : view_projection_type; 
      view_window : Planar_box; 
    WHERE
      WR1: NOT EXISTS(hidden_element_appearance) OR EXISTS(hidden_line_removal);
  END_ENTITY;   

  ENTITY Clipping_operator
    SUBTYPE OF (Detailed_geometric_model_element);
      elements : SET [1:?] OF clipping_element;
      operator : clipping_mode;
  END_ENTITY;

  ENTITY Light_source
    SUBTYPE OF (Detailed_geometric_model_element);
      colour : OPTIONAL Colour;
      light_type : light_type;
  END_ENTITY;

  ENTITY Model_image_3d
    SUBTYPE OF (Detailed_geometric_model_element);
       is_displaying : presented_model_select; 
       source : Camera_model_d3;
       target : Planar_box;
  END_ENTITY;   

ENTITY Colour;
  name : STRING;
END_ENTITY;

ENTITY Externally_defined_colour
  SUBTYPE OF (Colour);
  source : STRING;
END_ENTITY;

ENTITY Pre_defined_colour
  SUBTYPE OF (Colour);
WHERE
  WR1: SELF.name IN ['red', 'green', 'blue', 'yellow', 'magenta', 'cyan', 'black', 'white'];
END_ENTITY;

ENTITY User_defined_colour
  SUBTYPE OF (Colour);
  red : REAL;
  green : REAL;
  blue : REAL;
WHERE
  WR1: {0.0 <= red <= 1.0};
  WR2: {0.0 <= green <= 1.0};
  WR3: {0.0 <= blue <= 1.0};
END_ENTITY;

  ENTITY Solid_fill_area_style;
    fill_colour : Colour; 
  END_ENTITY;  

  ENTITY Mechanical_design_shaded_presentation_area   
    SUBTYPE OF (View_area);
  END_ENTITY;

  ENTITY Mechanical_design_shaded_styled_model  
    SUBTYPE OF (Styled_model);
  END_ENTITY;

  ENTITY Chemical_compound 
    SUBTYPE OF (Substance); 
    DERIVE
  	  id_owner: SET[0:?] OF Organization_or_person_in_organization_assignment :=
        QUERY(temp <* bag_to_set(USEDIN(SELF,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+
        'ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT.ITEMS')) |
                         (temp.role = 'id owner') );
    WHERE 
      WR1 : EXISTS (id_owner) AND (SIZEOF(id_owner) = 1);
  END_ENTITY; 

  ENTITY Edge
    SUBTYPE OF (Detailed_topological_model_element);
      start_vertex : Vertex;
      end_vertex   : Vertex;
  END_ENTITY;

  ENTITY Edge_curve
    SUBTYPE OF (Detailed_geometric_model_element, Edge);
      edge_geometry : Curve;
      same_sense    : BOOLEAN;
  END_ENTITY;

  ENTITY Vertex
    SUBTYPE OF (Detailed_topological_model_element);
  END_ENTITY;

  ENTITY Vertex_point
    SUBTYPE OF (Detailed_geometric_model_element, Vertex);
      vertex_position : Cartesian_point;
  END_ENTITY;

ENTITY Detailed_topological_model_element
   ABSTRACT SUPERTYPE
  SUBTYPE OF (Representation_item);
END_ENTITY;

  ENTITY Axis1_placement
    SUBTYPE OF (Detailed_geometric_model_element);
      axis     : Direction;
      position : Cartesian_point;
  END_ENTITY;

  ENTITY Extruded_solid
    SUBTYPE OF (Swept_solid);
      depth              : length_measure;
      extruded_direction : Direction;
  END_ENTITY;

  ENTITY Solid_of_revolution
    SUBTYPE OF (Swept_solid);
      angle : plane_angle_measure;
      axis  : Axis1_placement;
  END_ENTITY;

  ENTITY Swept_solid
    SUPERTYPE OF (ONEOF (
              EXTRUDED_SOLID,
              SOLID_OF_REVOLUTION))
  SUBTYPE OF (Detailed_geometric_model_element);
      swept_face : Advanced_face;
  END_ENTITY;

  ENTITY Beveled_sheet_representation
    SUBTYPE OF (Constituent_shape_representation);
      bevel_angle             : Angle_data_element;
      boundary_surface        : Composite_sheet_representation;
      vertical_profile_height : Length_data_element;
  END_ENTITY;

  ENTITY Boundary_curve_representation;
    bounds : SET [1:?] OF Curve;
  END_ENTITY;

  ENTITY Composite_sheet_representation
    SUPERTYPE OF (ONEOF (
              FACE_BASED_SHEET_REPRESENTATION,
              GEOMETRIC_SHEET_REPRESENTATION))
  SUBTYPE OF (Constituent_shape_representation);
  END_ENTITY;

  ENTITY Constituent_shape_representation
     ABSTRACT SUPERTYPE OF (ONEOF (
                        THREE_D_GEOMETRY_SET,
                        COMPOSITE_SHEET_REPRESENTATION,
                        BEVELED_SHEET_REPRESENTATION))
  SUBTYPE OF (Geometric_model);
  END_ENTITY;

  ENTITY Face_based_sheet_representation
    SUBTYPE OF (Composite_sheet_representation);
      face_surface : Surface;
      inner_bounds : OPTIONAL SET [1:?] OF Loop;
      outer_bound  : Loop;
  END_ENTITY;

  ENTITY Flat_pattern_ply_shape
    SUBTYPE OF (Ply_shape);
      wrapup_origin_on_flat_pattern : Cartesian_point;
      wrapup_origin_on_surface      : Cartesian_point;
  END_ENTITY;

  ENTITY Geometric_sheet_representation
    SUBTYPE OF (Composite_sheet_representation);
      basis_surface : Surface;
      cutouts       : OPTIONAL SET [1:?] OF Boundary_curve_representation;
      outer_edge    : Boundary_curve_representation;
  END_ENTITY;

  ENTITY Laid_ply_shape
    SUBTYPE OF (Ply_shape);
  END_ENTITY;

  ENTITY Loop
    SUBTYPE OF (Detailed_topological_model_element);
  END_ENTITY;

  ENTITY Ply_shape
    SUPERTYPE OF (ONEOF (
              PROJECTED_PLY_SHAPE,
              LAID_PLY_SHAPE,
              FLAT_PATTERN_PLY_SHAPE));
      defining_model : Composite_sheet_representation;
      basis : OPTIONAL Ply_shape;
  END_ENTITY;

  ENTITY Projected_ply_shape
    SUPERTYPE OF (ONEOF (
              VIEW_PLY_SHAPE,
              SURFACE_PLY_SHAPE))
  SUBTYPE OF (Ply_shape);
      method               : projection_method;
      projection_direction : OPTIONAL Direction;
  END_ENTITY;

  ENTITY Surface_ply_shape
    SUBTYPE OF (Projected_ply_shape);
      offset       : Length_data_element;
      surface_role : STRING;
  END_ENTITY;

  ENTITY Three_d_geometry_set
    SUBTYPE OF (Constituent_shape_representation);
      basis_role        : STRING;
      basis_surface     : Surface;
      defining_boundary : SET [1:?] OF Curve;
  END_ENTITY;

  ENTITY View_ply_shape
    SUBTYPE OF (Projected_ply_shape);
  END_ENTITY;

  ENTITY Advanced_brep_shape_representation
	SUBTYPE OF (Geometric_model);
  END_ENTITY;

ENTITY Faceted_brep_shape_representation
SUBTYPE OF (Geometric_model);
END_ENTITY;

ENTITY Advanced_face
SUBTYPE OF (Detailed_geometric_model_element);
END_ENTITY;

ENTITY Geometrically_bounded_surface_shape_representation
SUBTYPE OF (Geometric_model);
END_ENTITY;

ENTITY Geometrically_bounded_wireframe_shape_representation
SUBTYPE OF (Geometric_model);
END_ENTITY;

ENTITY Shell_based_wireframe_shape_representation
SUBTYPE OF (Geometric_model);
END_ENTITY;

ENTITY Absorbed_dose_data_element
  SUBTYPE OF (Value_with_unit);
END_ENTITY;

  ENTITY Radioactivity_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Acceleration_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Amount_of_substance_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.AMOUNT_OF_SUBSTANCE_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Angle_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PLANE_ANGLE_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Area_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Capacitance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Celsius_temperature_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Conductance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Dielectric_constant_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Dose_equivalent_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Electric_charge_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Electric_current_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.ELECTRIC_CURRENT_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Electric_potential_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Energy_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Force_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Frequency_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Illuminance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Inductance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Length_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
      WR1 : SELF\Value_with_unit.value_component >= 0.0;
	  WR2 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.LENGTH_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Loss_tangent_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Luminous_flux_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Luminous_intensity_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.LUMINOUS_INTENSITY_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Magnetic_flux_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Magnetic_flux_density_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Mass_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.MASS_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Power_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Pressure_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Ratio_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.RATIO_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Resistance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Scattering_parameter_data_element
    SUBTYPE OF (Value_with_unit);
      angle : REAL;

      SELF\Value_with_unit.value_component : any_number_value;  -- radius : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      radius : ANY_NUMBER_VALUE := SELF\Value_with_unit.value_component;  -- VALUE_COMPONENT : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
 WHERE
      WR1 : radius >= 0;
      WR2 : {0 <= angle < 2*PI};
  END_ENTITY;

  ENTITY Solid_angle_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_ANGLE_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Thermal_resistance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Thermodynamic_temperature_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.THERMODYNAMIC_TEMPERATURE_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Velocity_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Volume_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Anisotropic_material
    SUBTYPE OF (Stock_material);
  END_ENTITY;

  ENTITY Braided_assembly
    SUBTYPE OF (Stock_material);
  END_ENTITY;

  ENTITY Discontinuous_fiber_assembly
    SUBTYPE OF (Stock_material);
  END_ENTITY;

  ENTITY Filament_assembly
    SUBTYPE OF (Stock_material);
  END_ENTITY;

  ENTITY Isotropic_material
    SUBTYPE OF (Stock_material);
  END_ENTITY;

  ENTITY Material_direction;
    material_orientation : Direction;
  END_ENTITY;

  ENTITY Stock_core
    SUBTYPE OF (Stock_material);
  END_ENTITY;

  ENTITY Stock_material 
    SUPERTYPE OF (ONEOF (
              ANISOTROPIC_MATERIAL,
              BRAIDED_ASSEMBLY,
              DISCONTINUOUS_FIBER_ASSEMBLY,
              FILAMENT_ASSEMBLY,
              ISOTROPIC_MATERIAL,
              STOCK_CORE,
              WOVEN_ASSEMBLY))
  SUBTYPE OF (Part_view_definition);
      property                                     : Material_property_value_representation;
      reference_direction                          : OPTIONAL Material_direction;
      specified_material                           : Material_specification;
  END_ENTITY;

  ENTITY Woven_assembly
    SUBTYPE OF (Stock_material);
  END_ENTITY;

  ENTITY Binary_representation_item 
    SUBTYPE OF (Representation_item); 
  END_ENTITY; 

  ENTITY Bytes_representation_item 
    SUBTYPE OF (Binary_representation_item); 
  END_ENTITY; 

ENTITY Abstract_variable
   ABSTRACT SUPERTYPE OF (ONEOF (
                        SCALAR_VARIABLE,
                        ROW_VARIABLE));
  name : STRING;
  scope : scope_select;
 UNIQUE 
  UR1 : name, scope;
END_ENTITY;

ENTITY Atomic_formula
   ABSTRACT SUPERTYPE OF (ONEOF (
                        RULE_CONDITION,
                        GROUND_FACT));
  predicate_symbol : predicate_symbol;  
  terms : LIST OF term_select;
END_ENTITY;

ENTITY Attribute_assertion
  SUBTYPE OF (Fact_type);
   entity_type : STRING;
   attribute : STRING;
END_ENTITY; 

ENTITY Back_chaining_rule
  SUBTYPE OF (Rule_definition);
  head : Rule_condition;
  body : LIST OF Rule_condition;
 WHERE
  WR1: SELF.head.positive = TRUE;
  WR2:  local_vars_of(SELF.head) <= local_vars_of(SELF.body);
END_ENTITY;

ENTITY Complex_clause
   ABSTRACT SUPERTYPE OF (ONEOF (
                        COMPLEX_CONJUNCTIVE_CLAUSE,
                        COMPLEX_DISJUNCTIVE_CLAUSE));
  clauses : LIST [2:?] OF clause_select;
END_ENTITY;

ENTITY Complex_conjunctive_clause
  SUBTYPE OF (Complex_clause); 
END_ENTITY;

ENTITY Complex_disjunctive_clause
  SUBTYPE OF (Complex_clause); 
END_ENTITY;

ENTITY Entity_assertion
  SUBTYPE OF (Fact_type);
END_ENTITY;

ENTITY Enum_reference_prefix;
 prefix : STRING;
END_ENTITY;

ENTITY Extent;
  variable_id : OPTIONAL STRING;
  source : STRING;
  query_expression : STRING;
  syntax : OPTIONAL expression_syntax;
END_ENTITY;

ENTITY Fact_type
   ABSTRACT SUPERTYPE OF (ONEOF (
                        ENTITY_ASSERTION,
                        ATTRIBUTE_ASSERTION));
   source : Extent;
   predicate_symbol : STRING;
END_ENTITY;

ENTITY Forward_chaining_rule
  SUBTYPE OF (Rule_definition);
  premise : clause_Select; 
  conclusion : Literal_conjunction;
  WHERE
  WR1:  local_vars_of(SELF.conclusion) <= local_vars_of(SELF.premise);
END_ENTITY;

ENTITY Func;
 func_sym : function_symbol;
 terms : LIST OF term_select;
END_ENTITY;

ENTITY Global_assignment;
  variable : Abstract_variable;
  val : term_select;
 WHERE
  WR1: NOT(contains_variable(SELF.val));
END_ENTITY;

ENTITY Ground_fact
 SUBTYPE OF (Atomic_formula);
 WHERE
  WR1: SIZEOF(QUERY(r <* SELF\Atomic_formula.terms | contains_variable(r))) = 0;
END_ENTITY;

ENTITY Literal_conjunction
  SUBTYPE OF (Simple_clause);
END_ENTITY;

ENTITY Literal_disjunction
  SUBTYPE OF (Simple_clause);
END_ENTITY;

ENTITY Row_value;
  values : LIST OF term_select;
 WHERE
  WR1: SIZEOF(QUERY(v <* SELF.values | contains_variable(v))) = 0;
  WR2: SIZEOF(QUERY(v <* SELF.values | 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.ROW_VALUE' IN TYPEOF(v))) = 0;
END_ENTITY;

ENTITY Row_variable
 SUBTYPE OF (Abstract_variable);
END_ENTITY;

ENTITY Rule_action
    ABSTRACT SUPERTYPE OF (ONEOF (
                        RULE_SUBMISSION,
                        RULE_ADOPTION,
                        RULE_REJECTION,
                        RULE_SUPERSEDENCE,
                        RULE_CREATION,
                        RULE_EXPIRATION,
                        RULE_CHANGE_REQUEST,
                        RULE_REQUEST,
                        RULE_MODIFICATION));
   subject_rule : Rule_version;
DERIVE
   subject_action_assignment : SET[0:?] OF Organization_or_person_in_organization_assignment := 
         bag_to_set(QUERY(temp <* USEDIN ( SELF , 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 
                                       'ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT.ITEMS' ) 
                    | ( temp.role = 'subject action assignment')));
  UNIQUE
   UR1: SELF\Rule_action.subject_rule, SELF\Rule_action.subject_action_assignment;
  WHERE
   WR1: EXISTS (subject_action_assignment) AND (SIZEOF(subject_action_assignment) = 1 );
END_ENTITY;

ENTITY Rule_adoption
   SUBTYPE OF (Rule_action);
END_ENTITY;

ENTITY Rule_change_request
   SUBTYPE OF (Rule_action);
   change_reason : STRING;
END_ENTITY;

ENTITY Rule_condition
 SUBTYPE OF (Atomic_formula);
  positive : BOOLEAN;
END_ENTITY;

ENTITY Rule_creation
    SUBTYPE OF (Rule_action);
END_ENTITY;

ENTITY Rule_definition
   ABSTRACT SUPERTYPE OF (ONEOF (
                        FORWARD_CHAINING_RULE,
                        BACK_CHAINING_RULE))
  SUBTYPE OF (Rule_software_definition);
END_ENTITY; 

ENTITY Rule_expiration
   SUBTYPE OF (Rule_action);
   expiration_rationale : STRING;
END_ENTITY;

ENTITY Rule_justification
   SUBTYPE OF (Rule_action);
   justified_action : Rule_action;
   justification_rationale : STRING;
WHERE
   WR1: SELF <> justified_action ;
END_ENTITY;

ENTITY Rule_modification
   SUBTYPE OF (Rule_action);
   modification_rationale : Rule_change_request;
END_ENTITY;

ENTITY Rule_priority;
   priority : INTEGER;
   prioritized_rule : Rule_definition;
WHERE
   WR1: priority >= 0 ;
END_ENTITY;

ENTITY Rule_product
   SUBTYPE OF (Software);
END_ENTITY;

ENTITY Rule_rejection
   SUBTYPE OF (Rule_action);
   rejection_reason : STRING;
END_ENTITY;

ENTITY Rule_request
   SUBTYPE OF (Rule_action);
END_ENTITY;

ENTITY Rule_set
   SUBTYPE OF (Rule_software_definition);
   conflict_resolution_strategy : OPTIONAL STRING;
   rule_member : SET[1:?] OF Rule_priority;
 DERIVE  
   engine: SET[1:1] OF Document_definition :=
		get_document_definition(SELF, 'engine', 
		'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.LANGUAGE_REFERENCE_MANUAL');
 INVERSE
   purpose : Identification_assignment FOR items;
 WHERE
   WR1: purpose.role = 'purpose' ;
END_ENTITY;

ENTITY Rule_set_group
  SUBTYPE OF (Rule_software_definition);
  elements : SET[2:?] OF Rule_set;
END_ENTITY;

ENTITY Rule_software_definition
   SUPERTYPE OF (ONEOF (
              RULE_DEFINITION,
              RULE_SET_GROUP,
              RULE_SET))
  SUBTYPE OF (Software_definition);
   SELF\Product_view_definition.defined_version : Rule_version;
END_ENTITY;

ENTITY Rule_submission
   SUBTYPE OF (Rule_action);
   submission_rationale : STRING;
END_ENTITY;

ENTITY Rule_supersedence
   SUBTYPE OF (Rule_action);
   superseded_rule : Rule_version;
END_ENTITY;

ENTITY Rule_version
   SUBTYPE OF (Software_version);
   SELF\Product_version.of_product : Rule_product;
INVERSE
   management_action : SET[1:?] OF Rule_action FOR subject_rule;
   product_definition : SET[1:?] OF Rule_software_definition FOR defined_version;
END_ENTITY;

ENTITY Scalar_variable
 SUBTYPE OF (Abstract_variable);
END_ENTITY;

ENTITY Simple_clause
   ABSTRACT SUPERTYPE OF (ONEOF (
                        LITERAL_CONJUNCTION,
                        LITERAL_DISJUNCTION));
  formulas : LIST [1:?] OF Rule_condition;
END_ENTITY;

ENTITY Symbol
  SUBTYPE OF(Representation_item);
 UNIQUE
  UR1 : SELF\Representation_item.name;
END_ENTITY;

  ENTITY Contextual_shape_representation;
      contextual_shape          : Contextual_item_shape;
      representing_relationship : Geometric_model_relationship;
    DERIVE
      context_representation    : Geometric_model := representing_relationship.rep_2 ;
      positioned_representation : Geometric_model := representing_relationship.rep_1 ;
  END_ENTITY;

  ENTITY Geometric_composition_with_operator_transformation
    SUBTYPE OF (Geometric_relationship_with_operator_transformation,
      Definitional_representation_relationship);
  END_ENTITY;

  ENTITY Geometric_composition_with_placement_transformation
    SUBTYPE OF (Geometric_relationship_with_placement_transformation,
      Definitional_representation_relationship);
  END_ENTITY; 

  ENTITY Geometric_placement
    SUBTYPE OF (Geometric_placement_operation);
      target : Axis_placement;
  END_ENTITY; 

  ENTITY Geometric_placement_model
    SUBTYPE OF (Geometric_model);
      SELF\Representation.items : SET[1:1] OF Geometric_placement_operation;
  END_ENTITY;

  ENTITY Geometric_placement_operation
     ABSTRACT SUPERTYPE OF (ONEOF (
                        GEOMETRIC_PLACEMENT,
                        GEOMETRIC_OPERATOR_TRANSFORMATION))
  SUBTYPE OF (Detailed_geometric_model_element);
      source : Axis_placement;  
      template_definition : template_definition_select;
  END_ENTITY; 

  ENTITY Geometric_model_relationship_with_transformation
     ABSTRACT SUPERTYPE OF (ONEOF (
                        GEOMETRIC_RELATIONSHIP_WITH_PLACEMENT_TRANSFORMATION,
                        GEOMETRIC_RELATIONSHIP_WITH_OPERATOR_TRANSFORMATION))
  SUBTYPE OF (Geometric_model_relationship);
    WHERE  
      WR1: rep_1.context_of_items :<>: rep_2.context_of_items;
  END_ENTITY;

  ENTITY Geometric_operator_transformation
    SUBTYPE OF (Geometric_placement_operation);
      target : cartesian_transformation;
  END_ENTITY; 

  ENTITY Geometric_relationship_with_operator_transformation
    SUBTYPE OF (Geometric_model_relationship_with_transformation);
      transformation: cartesian_transformation;
    WHERE
      WR1:  rep_1.context_of_items\Geometric_coordinate_space.dimension_count :=:
        rep_2.context_of_items\Geometric_coordinate_space.dimension_count;
  END_ENTITY;

  ENTITY Geometric_relationship_with_placement_transformation
    SUBTYPE OF (Geometric_model_relationship_with_transformation);
      transformation: Axis_placement_mapping;
    WHERE
      WR1:  rep_1.context_of_items\Geometric_coordinate_space.dimension_count :=:
        rep_2.context_of_items\Geometric_coordinate_space.dimension_count;
  END_ENTITY;

  ENTITY Shape_placement_association
    SUBTYPE OF (Shape_description_association);
      SELF\Shape_description_association.representation             : Geometric_placement_model;
      SELF\Shape_description_association.represented_characteristic : Contextual_item_shape;
END_ENTITY;

ENTITY Definitional_representation_relationship
  SUBTYPE OF (Representation_relationship);
    WHERE
      WR1: acyclic_representation_relationship(SELF,
        [SELF\representation_relationship.rep_2],
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+
        'REPRESENTATION');
END_ENTITY;  

ENTITY Geometric_model_relationship
 SUBTYPE OF (Representation_relationship);
    SELF\Representation_relationship.rep_1 : Geometric_model;
    SELF\Representation_relationship.rep_2 : Geometric_model;
  WHERE
    WR1 : rep_1 <> rep_2;
END_ENTITY;

ENTITY Applied_independent_property
  SUBTYPE OF (Assigned_property);
  base_independent_property : Independent_property;
DERIVE
  SELF\Assigned_property.name : STRING := base_independent_property.property_type;
END_ENTITY;

ENTITY Assigned_property;
  id : OPTIONAL STRING;
  name : STRING;
  description : OPTIONAL STRING;
  described_element : property_assignment_select;
END_ENTITY;

ENTITY Property_definition_representation
   ABSTRACT SUPERTYPE;
    description : OPTIONAL STRING;
    definition : represented_definition;
    rep : Representation;
    role : OPTIONAL STRING;
END_ENTITY;

ENTITY Property_representation
  SUBTYPE OF (Property_definition_representation);
    SELF\Property_definition_representation.definition : Assigned_property;  -- property : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      property : ASSIGNED_PROPERTY := SELF\Property_definition_representation.definition;  -- DEFINITION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

  ENTITY Modified_solid
    SUBTYPE OF (Detailed_geometric_model_element);
      rationale  : STRING;
      base_solid : solid_select;
  END_ENTITY;

  ENTITY Procedural_solid_representation_sequence
    SUBTYPE OF (Procedural_shape_representation_sequence);
  END_ENTITY;

  ENTITY Explicit_procedural_shape_representation_relationship
    SUBTYPE OF (Representation_relationship);
      SELF\Representation_relationship.rep_1 : Procedural_shape_representation; 
      SELF\Representation_relationship.rep_2 : Geometric_model; 
    WHERE
      WR1 : NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PROCEDURAL_SHAPE_REPRESENTATION' 
           in TYPEOF(rep_2));
  END_ENTITY;

  ENTITY Explicit_procedural_geometric_representation_item_relationship;
      relating_item : Procedural_shape_representation_sequence; 
      related_item  : Detailed_geometric_model_element;
    WHERE
      WR1 : NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PROCEDURAL_SHAPE_REPRESENTATION_SEQUENCE' 
            IN TYPEOF(related_item)); 
  END_ENTITY;

  ENTITY Indirectly_selected_shape_elements
    SUBTYPE OF (User_selected_shape_elements);
      indirectly_selected_items : SET[1:?] OF shape_model_element;
  END_ENTITY;

  ENTITY Procedural_shape_representation
    SUBTYPE OF (Geometric_model);
      SELF\Representation.items: SET[1:?] OF Procedural_shape_representation_sequence;
  END_ENTITY;

  ENTITY Procedural_shape_representation_sequence
    SUBTYPE OF (Detailed_geometric_model_element);
      elements            : LIST [1:?] OF shape_model_element;
      suppressed_elements : SET[0:?] OF shape_model_element;
      rationale           : STRING;
  END_ENTITY;

  ENTITY User_selected_shape_elements
    SUBTYPE OF(Representation_item);
      selected_items : SET[1:?] OF shape_model_element; 
  END_ENTITY;

ENTITY Independent_property_representation
  SUBTYPE OF (Property_definition_representation);
    SELF\Property_definition_representation.definition : Independent_property;  -- property : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      property : INDEPENDENT_PROPERTY := SELF\Property_definition_representation.definition;  -- DEFINITION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Part
  SUBTYPE OF (Product);
END_ENTITY;

ENTITY Part_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Part;
END_ENTITY;

ENTITY Product;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Product_version  SUPERTYPE OF (ONEOF (
               DOCUMENT_VERSION,
               PART_VERSION) ) ;
  id : STRING;
  description : OPTIONAL STRING;
  of_product : Product;
END_ENTITY;

  ENTITY Composite_presentable_text
    SUBTYPE OF (Detailed_geometric_model_element);
      collected_text : LIST[2:?] OF composite_text_element_select;
  END_ENTITY;

  ENTITY Draughting_pre_defined_text_font;
  END_ENTITY;

  ENTITY Externally_defined_text_font;
    name : STRING;
  END_ENTITY; 

  ENTITY Text_literal
    SUPERTYPE OF (
              TEXT_LITERAL_WITH_EXTENT
              ANDOR 
              TEXT_LITERAL_WITH_DELINEATION
              ANDOR 
              TEXT_LITERAL_WITH_ASSOCIATED_CURVES
              ANDOR 
              TEXT_LITERAL_WITH_BLANKING_BOX)
  SUBTYPE OF (Detailed_geometric_model_element);
      alignment : text_alignment;
      font : font_select;
      literal : STRING;
      path : text_path;
      placement : Axis_placement;
  END_ENTITY;

  ENTITY Text_literal_with_associated_curves
    SUBTYPE OF (Text_literal);
      associated_curves : SET [1:?] OF Curve;
  END_ENTITY;  

  ENTITY Text_literal_with_blanking_box
    SUBTYPE OF (Text_literal);
  END_ENTITY;  

  ENTITY Text_literal_with_delineation
    SUBTYPE OF (Text_literal);
      delineation: text_delineation;
  END_ENTITY;  

  ENTITY Text_literal_with_extent
    SUBTYPE OF (Text_literal);
      width : length_measure; 
      height : length_measure;
  END_ENTITY;  

ENTITY Address;
  name : OPTIONAL STRING;
  street_number : OPTIONAL STRING;
  street : OPTIONAL STRING;
  postal_box : OPTIONAL STRING;
  town : OPTIONAL STRING;
  region : OPTIONAL STRING;
  postal_code : OPTIONAL STRING;
  country : OPTIONAL STRING;
  internal_location : OPTIONAL STRING;
  facsimile_number : OPTIONAL STRING;
  telephone_number : OPTIONAL STRING;
  electronic_mail_address : OPTIONAL STRING;
  telex_number : OPTIONAL STRING;
  url : OPTIONAL STRING;
WHERE
  WR1: (EXISTS (street_number) OR EXISTS (street) OR EXISTS (postal_box) OR EXISTS (town) OR EXISTS (region) OR EXISTS (postal_code) OR EXISTS (country) OR EXISTS (internal_location) OR EXISTS (facsimile_number) OR EXISTS (telephone_number) OR EXISTS (electronic_mail_address) OR EXISTS (telex_number));
END_ENTITY;

ENTITY Address_assignment  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_ADDRESS_ASSIGNMENT,
               EXTERNALLY_DEFINED_ADDRESS_ASSIGNMENT) ) ;
  address_type : OPTIONAL STRING;
  assigned_address : Address;
  located_person_organizations : SET[1:?] OF organization_or_person_in_organization_select;
END_ENTITY;

ENTITY Organization;
  id : OPTIONAL STRING;
  name : STRING;
END_ENTITY;

ENTITY Organization_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_organization : Organization;
  related_organization : Organization;
END_ENTITY;

ENTITY Person;
  last_name : STRING;
  first_name : OPTIONAL STRING;
  middle_names : OPTIONAL LIST[1:?] OF STRING;
  prefix_titles : OPTIONAL LIST[1:?] OF STRING;
  suffix_titles : OPTIONAL LIST[1:?] OF STRING;
END_ENTITY;

ENTITY Person_in_organization;
  concerned_person : Person;
  containing_organization : Organization;
  role : STRING;
END_ENTITY;

ENTITY Characterizable_object;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY External_geometric_model
SUBTYPE OF (Geometric_model);
   SELF\Representation.items: SET[1:1] OF Axis_placement;
   external_file: Digital_file;
WHERE
WR1: SELF\Representation.context_of_items.dimension_count = 3;
WR2: SELF\Representation.context_of_items.kind = 'external';
END_ENTITY;

ENTITY Digital_file
SUBTYPE OF (File);
END_ENTITY;

ENTITY File
 ABSTRACT SUPERTYPE OF (ONEOF (
                        DIGITAL_FILE,
                        HARDCOPY));
  id : STRING;
  version : OPTIONAL STRING;
  contained_data_type : OPTIONAL STRING;
END_ENTITY;

ENTITY Hardcopy
SUBTYPE OF (File);
END_ENTITY;

ENTITY File_location_identification
SUBTYPE OF (External_item_identification);
WHERE
WR1: 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.FILE' IN TYPEOF(SELF\External_source_identification.item);
END_ENTITY;

  ENTITY Expanded_uncertainty
    SUBTYPE OF (Standard_uncertainty);
      coverage_factor : REAL;
  END_ENTITY;

  ENTITY Measure_qualification;
      name              : STRING; 
      description       : STRING; 
      qualified_measure : Value_with_unit;
      qualifiers        : SET[1:?] OF value_qualifier;
    WHERE
      WR1 : NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+'NUMERICAL_ITEM_WITH_UNIT' IN TYPEOF(qualified_measure));
      WR2 : SIZEOF(QUERY(temp <* qualifiers | 
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRECISION_QUALIFIER' IN TYPEOF(temp))) < 2;      
  END_ENTITY;

  ENTITY Precision_qualifier;
    precision_value : INTEGER;
  END_ENTITY;

  ENTITY Pre_defined_type_qualifier
    SUBTYPE OF (Type_qualifier);
    WHERE
      WR1: SELF\Type_qualifier.name IN pre_defined_type_qualifiers;
  END_ENTITY;

  ENTITY Qualified_numerical_item_with_unit 
    SUBTYPE OF (Numerical_item_with_unit, Qualified_representation_item); 
  END_ENTITY; 

  ENTITY Qualified_representation_item 
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Representation_item); 
       qualifiers : SET [1:?] OF value_qualifier; 
    WHERE 
      WR1: SIZEOF(QUERY(temp <* qualifiers | 
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRECISION_QUALIFIER' 
        IN TYPEOF(temp))) < 2; 
  END_ENTITY; 

  ENTITY Qualitative_uncertainty
    SUBTYPE OF (Uncertainty_qualifier);
      uncertainty_value : STRING; 
  END_ENTITY;

  ENTITY Standard_uncertainty
    SUPERTYPE OF (
              EXPANDED_UNCERTAINTY)
  SUBTYPE OF (Uncertainty_qualifier);
      uncertainty_value : REAL;
  END_ENTITY;

  ENTITY Type_qualifier
      ABSTRACT SUPERTYPE OF (ONEOF(
                        EXTERNALLY_DEFINED_TYPE_QUALIFIER,
                        PRE_DEFINED_TYPE_QUALIFIER));
    name : STRING;
  END_ENTITY;

  ENTITY Uncertainty_qualifier
    SUPERTYPE OF (ONEOF (
              STANDARD_UNCERTAINTY,
              QUALITATIVE_UNCERTAINTY));
      measure_name : STRING; 
      description  : STRING; 
  END_ENTITY;

  ENTITY External_class
    SUBTYPE OF (Class);
      external_source : External_class_library;
  END_ENTITY;

  ENTITY External_class_library
    SUBTYPE OF (External_source);
  END_ENTITY;

ENTITY Name_assignment;
  name : STRING;
  role : STRING;
  items : assigned_name_select;
END_ENTITY;

ENTITY Contract;
  id : STRING;
  purpose : STRING;
  kind : STRING;
END_ENTITY;

ENTITY Contract_assignment;
  assigned_contract : Contract;
  items : SET[1:?] OF contract_item;
END_ENTITY;

ENTITY Contract_relationship;
  relating_contract : Contract;
  related_contract : Contract;
END_ENTITY;

ENTITY Effectivity_assignment;
  assigned_effectivity  : Effectivity;
  role                  : STRING;
  items                 : SET [1:?] OF effectivity_item;
END_ENTITY;

ENTITY Dated_effectivity
  SUBTYPE OF (Effectivity);
  start_bound : date_or_event;
  end_bound   : OPTIONAL date_or_event;
END_ENTITY;

ENTITY Effectivity
  SUPERTYPE OF (ONEOF (
              SERIAL_EFFECTIVITY,
              DATED_EFFECTIVITY,
              LOT_EFFECTIVITY,
              TIME_INTERVAL_EFFECTIVITY));
  id             : STRING;
  name           : STRING;
  description    : OPTIONAL STRING;
END_ENTITY;

ENTITY Effectivity_relationship;
  relation_type : STRING;
  description   : OPTIONAL STRING;
  relating_effectivity  : Effectivity;
  related_effectivity  : Effectivity;
END_ENTITY;

ENTITY Lot_effectivity
  SUBTYPE OF (Effectivity);
  lot_id    : STRING;
  lot_size  : Value_with_unit;
END_ENTITY;

ENTITY Serial_effectivity
  SUBTYPE OF (Effectivity);
  start_id : STRING;
  end_id   : OPTIONAL STRING;
END_ENTITY;

ENTITY Time_interval_effectivity
  SUBTYPE OF (Effectivity);
  effectivity_period : Time_interval;
END_ENTITY;   

ENTITY Time_interval;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Time_interval_relationship;
  relation_type : STRING;
  description : STRING;
  relating_time_interval : Time_interval;
  related_time_interval : Time_interval;
END_ENTITY;

ENTITY Time_interval_with_bounds
  SUBTYPE OF (Time_interval);
  primary_bound : OPTIONAL date_or_event;
  secondary_bound : OPTIONAL date_or_event;
  duration_from_primary_bound : OPTIONAL Duration;
WHERE
  WR1: NOT (EXISTS (secondary_bound) AND EXISTS (duration_from_primary_bound));
  WR2: EXISTS (primary_bound) OR EXISTS (secondary_bound);
END_ENTITY;

  ENTITY Definition_based_part_occurrence
    SUBTYPE OF (Definition_based_product_occurrence, Part_occurrence);
      SELF\Definition_based_product_occurrence.derived_from : Part_view_definition;
  END_ENTITY;

  ENTITY Part_occurrence
     ABSTRACT SUPERTYPE
 SUBTYPE OF (Product_occurrence);
      SELF\Product_view_definition.defined_version : Part_version;
  END_ENTITY;

  ENTITY Part_occurrence_definition_relationship
    SUBTYPE OF (Product_occurrence_definition_relationship);
      SELF\Product_occurrence_definition_relationship.relating_view : Part_view_definition;
      SELF\Product_occurrence_definition_relationship.related_view  : Part_occurrence;
    DERIVE
      id : STRING := SELF\Product_occurrence_definition_relationship.related_view\Product_view_definition.id;
  END_ENTITY;

  ENTITY Specification_based_part_occurrence
    SUBTYPE OF (Specification_based_product_occurrence, Part_occurrence);
  END_ENTITY;

ENTITY Alternate_part_relationship
  SUBTYPE OF (Alternate_product_relationship);
  SELF\Alternate_product_relationship.alternate_product : Part;
  SELF\Alternate_product_relationship.base_product : Part;
END_ENTITY;

ENTITY Activity;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  chosen_method : Activity_method;
END_ENTITY;

ENTITY Activity_relationship  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_ACTIVITY_RELATIONSHIP,
               EXTERNALLY_DEFINED_ACTIVITY_RELATIONSHIP) ) ;
  name : STRING;
  description : OPTIONAL STRING;
  relating_activity : Activity;
  related_activity : Activity;
END_ENTITY;

ENTITY Activity_status;
  assigned_activity : Activity;
  status : STRING;
END_ENTITY;

ENTITY Applied_activity_assignment;
  assigned_activity : Activity;
  items : SET[1:?] OF activity_item;
  role : STRING;
END_ENTITY;

ENTITY Approval  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_APPROVAL,
               EXTERNALLY_DEFINED_APPROVAL) ) ;
  status : Approval_status;
  purpose : STRING;
  planned_date : OPTIONAL date_or_date_time_select;
  actual_date : OPTIONAL date_or_date_time_select;
END_ENTITY;

ENTITY Approval_assignment;
  assigned_approval : Approval;
  items : SET[1:?] OF approval_item;
  role : OPTIONAL STRING;
END_ENTITY;

ENTITY Approval_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_approval : Approval;
  related_approval : Approval;
END_ENTITY;

ENTITY Approval_status  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_APPROVAL_STATUS,
               EXTERNALLY_DEFINED_APPROVAL_STATUS) ) ;
  status_name : STRING;
END_ENTITY;

ENTITY Approving_person_organization;
  person_organization : organization_or_person_in_organization_select;
  approval_date : OPTIONAL date_or_date_time_select;
  authorized_approval : Approval;
  role : OPTIONAL STRING;
END_ENTITY;

ENTITY Date_or_date_time_assignment  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_DATE_OR_DATE_TIME_ASSIGNMENT,
               EXTERNALLY_DEFINED_DATE_OR_DATE_TIME_ASSIGNMENT) ) ;
  assigned_date : date_or_date_time_select;
  role          : STRING;
  items         : SET [1:?] OF date_or_date_time_item;
END_ENTITY;

ENTITY Security_classification  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_SECURITY_CLASSIFICATION,
               EXTERNALLY_DEFINED_SECURITY_CLASSIFICATION) ) ;
  classification_level : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Security_classification_assignment;
  classification : Security_classification;
  items : SET[1:?] OF security_classification_item;
END_ENTITY;

ENTITY Activity_method_assignment;
  relation_type : STRING;
  assigned_method : Activity_method;
  associated_request : Work_request;
END_ENTITY;

ENTITY Affected_items_assignment;
  assigned_work_request : Work_request;
  items : SET[1:?] OF affected_item_select;
END_ENTITY;

ENTITY Work_request  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_WORK_REQUEST,
               EXTERNALLY_DEFINED_WORK_REQUEST) ) ;
  request_id : STRING;
  version_id : STRING;
  description : OPTIONAL STRING;
  purpose : STRING;
END_ENTITY;

ENTITY Work_request_status  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_WORK_REQUEST_STATUS,
               EXTERNALLY_DEFINED_WORK_REQUEST_STATUS) ) ;
  status : STRING;
  work_request : Work_request;
END_ENTITY;

ENTITY Item_usage_effectivity;
  effectivity_domain : Effectivity;
  item_usage_relationship : item_usage_relationship_item;
  resolved_configuration : Item_design_association;
END_ENTITY;

ENTITY Item_design_association;
  configuration : Product_configuration;
  design : version_or_definition;
UNIQUE
  UR1: configuration, design;
END_ENTITY;

ENTITY Product_configuration;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  item_context : Product_concept;
INVERSE
  corresponding_design : SET[0:1] OF Item_design_association FOR configuration;
END_ENTITY;

ENTITY Product_configuration_hierarchical_relationship
  SUBTYPE OF (Product_configuration_relationship);
    DERIVE
      child : PRODUCT_CONFIGURATION := SELF\Product_configuration_relationship.related_product_configuration;  -- RELATED_PRODUCT_CONFIGURATION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      parent : PRODUCT_CONFIGURATION := SELF\Product_configuration_relationship.relating_product_configuration;  -- RELATING_PRODUCT_CONFIGURATION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Product_configuration_relationship
  SUPERTYPE OF (ONEOF (
              PRODUCT_CONFIGURATION_HIERARCHICAL_RELATIONSHIP,
              PRODUCT_CONFIGURATION_REVISION_SEQUENCE));
  relating_product_configuration : Product_configuration;
  related_product_configuration : Product_configuration;
END_ENTITY;

ENTITY Product_configuration_revision_sequence
  SUBTYPE OF (Product_configuration_relationship);
    DERIVE
      predecessor : PRODUCT_CONFIGURATION := SELF\Product_configuration_relationship.relating_product_configuration;  -- RELATING_PRODUCT_CONFIGURATION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      successor : PRODUCT_CONFIGURATION := SELF\Product_configuration_relationship.related_product_configuration;  -- RELATED_PRODUCT_CONFIGURATION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Document
  SUBTYPE OF (Product);
END_ENTITY;

ENTITY Document_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Document;
END_ENTITY;

ENTITY Digital_document_definition
  SUBTYPE OF (Document_definition);
  files : SET[0:?] OF Digital_file;
END_ENTITY;

ENTITY Document_definition
  SUPERTYPE OF (ONEOF (
              DIGITAL_DOCUMENT_DEFINITION,
              PHYSICAL_DOCUMENT_DEFINITION))
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Document_version;  -- associated_document_version : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      associated_document_version : DOCUMENT_VERSION := SELF\Product_view_definition.defined_version;  -- DEFINED_VERSION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      description : STRING := SELF\Product_view_definition.name;  -- NAME : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Document_location_identification
  SUBTYPE OF (External_source_identification);
WHERE
  WR1: 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.DOCUMENT_DEFINITION' IN TYPEOF(SELF\External_source_identification.item);
END_ENTITY;

ENTITY Physical_document_definition
  SUBTYPE OF (Document_definition);
  components : SET[0:?] OF Hardcopy;
END_ENTITY;

ENTITY Assigned_document_property
  SUBTYPE OF (Assigned_property);
  SELF\Assigned_property.described_element : document_property_item;
DERIVE
  SELF\Assigned_property.name : STRING := 'document property';
WHERE
  WR1: SIZEOF(['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.DOCUMENT_DEFINITION', 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.FILE']*TYPEOF(SELF\Assigned_property.described_element)) = 1;
END_ENTITY;

ENTITY Descriptive_document_property
  SUBTYPE OF (String_representation_item);
INVERSE
  valued_characteristic : SET[1:1] OF Document_property_representation FOR items;
END_ENTITY;

ENTITY Document_property_representation
  SUBTYPE OF (Representation);
  SELF\Representation.items : SET[1:?] OF descriptive_or_numerical;
WHERE
  WR1: SIZEOF(QUERY( pr <* USEDIN(SELF, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PROPERTY_DEFINITION_REPRESENTATION.REP') | 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.ASSIGNED_PROPERTY' IN TYPEOF (pr\Property_representation.property)))> 0;
  WR2: SELF\Representation.context_of_items.kind = 'document parameters';
  WR3: SIZEOF(QUERY(it1 <* SELF\Representation.items | SIZEOF(QUERY(it2 <* SELF\Representation.items | it1.name = it2.name)) > 1 ))= 0;
END_ENTITY;

ENTITY Numerical_document_property
  SUBTYPE OF (Numerical_item_with_unit);
INVERSE
  valued_characteristic : SET[1:1] OF Document_property_representation FOR items;
END_ENTITY;

ENTITY Document_definition_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_document_definition : Document_definition;
  related_document_definition : Document_definition;
WHERE
  WR1: relating_document_definition :<>: related_document_definition;
END_ENTITY;

ENTITY File_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_document_file : File;
  related_document_file : File;
WHERE
  WR1: relating_document_file:<>: related_document_file;
END_ENTITY;

  ENTITY Incomplete_reference_marking
    SUBTYPE OF (Classification_assignment);
    WHERE
      WR1: SIZEOF(QUERY(item <* SELF\Classification_assignment.items |  NOT ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.IDRM_MARKED_ITEM' IN TYPEOF(item)))) = 0;
      WR2: SELF\Classification_assignment.assigned_class.id = 'reference';
  END_ENTITY;

  ENTITY Activity_property;
    name              : STRING;
    description       : STRING;
    described_element : characterized_activity_definition;
  END_ENTITY;

  ENTITY Activity_property_representation;
    description : OPTIONAL STRING;
    property    : Activity_property;
    rep         : Representation;
    role        : STRING;
  END_ENTITY;

  ENTITY Applied_independent_activity_property
    SUBTYPE OF (Activity_property);
      base_element_property : Independent_property;
    DERIVE
      SELF\Activity_property.name : STRING := base_element_property.property_type;
  END_ENTITY;

ENTITY Time_interval_assignment;
  assigned_time_interval : Time_interval;
  role : Time_interval_role;
  items : SET[1:?] OF time_interval_item;
END_ENTITY;

ENTITY Time_interval_role;
  name : STRING;
  description : STRING;
END_ENTITY;

ENTITY Directed_activity
  SUBTYPE OF (Activity);
  directive : Work_order;
END_ENTITY;

ENTITY Work_order;
  name : STRING;
  description : OPTIONAL STRING;
  in_response_to : SET[0:?] OF Work_request;
END_ENTITY;

ENTITY Requirement_view_definition
  SUBTYPE OF (Product_view_definition);
    SELF\Product_view_definition.defined_version : Requirement_version;
END_ENTITY;

ENTITY Requirement
SUBTYPE OF (Product);
END_ENTITY;

ENTITY Requirement_version
SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Requirement;
END_ENTITY;

ENTITY Requirement_version_relationship
SUBTYPE OF (Product_version_relationship);
  SELF\Product_version_relationship.relating_version : Requirement_version;  -- predecessor : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
  SELF\Product_version_relationship.related_version : Requirement_version;  -- successor : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      predecessor : REQUIREMENT_VERSION := SELF\Product_version_relationship.relating_version;  -- RELATING_VERSION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      successor : REQUIREMENT_VERSION := SELF\Product_version_relationship.related_version;  -- RELATED_VERSION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Product_version_relationship;
  relation_type : OPTIONAL STRING;
  description : OPTIONAL STRING;
  relating_version : Product_version;
  related_version : Product_version;
WHERE
  WR1: relating_version :<>: related_version;
  WR2: EXISTS(relation_type) OR (TYPEOF(SELF\Product_version_relationship) <> TYPEOF(SELF));
END_ENTITY;

ENTITY Supplied_part_relationship
  SUBTYPE OF (Product_version_relationship);
WHERE
  WR1: SELF\Product_version_relationship.relation_type IN ['supplied item', 'supplied document'];
END_ENTITY;

  ENTITY Alternative_solution;
    id : STRING;
    version_id : OPTIONAL STRING;
    base_element : complex_product_select;
  END_ENTITY;

  ENTITY Solution_element;
    resolved_requirement: complex_product_select;
    element: part_occurrence_select;
    description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Supplier_solution
    SUBTYPE OF (Alternative_solution);
      supplier : Organization;
      probability_rate : OPTIONAL REAL;
    DERIVE
      actual_rate : REAL := NVL(probability_rate, 1.0);
    WHERE
      WR1: { 0.0 <= actual_rate <= 1.0 };
  END_ENTITY;

  ENTITY Technical_solution
    SUBTYPE OF (Alternative_solution);
      description : STRING;
  END_ENTITY;

ENTITY Definition_based_function_occurrence
  SUBTYPE OF (Definition_based_product_occurrence);
  SELF\Definition_based_product_occurrence.derived_from :
Functional_element_definition;
END_ENTITY;

ENTITY Specification_based_function_occurrence
  SUBTYPE OF (Specification_based_product_occurrence, Single_instance);
WHERE
  WR1: 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.FUNCTIONAL_ELEMENT_VERSION' IN
TYPEOF(SELF\Product_view_definition.defined_version);
END_ENTITY;

  ENTITY Physical_breakdown
    SUBTYPE OF (Breakdown);
  END_ENTITY;

  ENTITY Physical_breakdown_context
    SUBTYPE OF (Breakdown_context);
      SELF\Breakdown_context.breakdown         : Physical_breakdown_version;
      SELF\Breakdown_context.breakdown_element : Physical_element_definition;
  END_ENTITY;

  ENTITY Physical_breakdown_version
    SUBTYPE OF (Breakdown_version);
      SELF\Breakdown_version.of_product : Physical_breakdown;
  END_ENTITY;

  ENTITY Physical_element
    SUBTYPE OF (Breakdown_element);
  END_ENTITY;

  ENTITY Physical_element_definition
    SUBTYPE OF (Breakdown_element_definition);
      SELF\Breakdown_element_definition.defined_version : Physical_element_version;
  END_ENTITY;

  ENTITY Physical_element_usage
    SUBTYPE OF (Breakdown_element_usage);
      SELF\View_definition_relationship.relating_view : Physical_element_definition;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
      SELF\View_definition_relationship.related_view : Physical_element_definition;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Physical_element_version
    SUBTYPE OF (Breakdown_element_version);
      SELF\Breakdown_element_version.of_product : Physical_element;
  END_ENTITY;

  ENTITY Collected_item_association
    SUBTYPE OF (Part_occurrence_definition_relationship);
      SELF\Product_occurrence_definition_relationship.relating_view : Collection_definition;
    WHERE
      WR1: NOT ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.ASSEMBLY_COMPONENT_RELATIONSHIP' IN TYPEOF(SELF));
  END_ENTITY;

  ENTITY Collection_definition
    SUBTYPE OF (Part_view_definition);
  END_ENTITY;

ENTITY Occurrence_placement
 ABSTRACT SUPERTYPE OF (ONEOF (
                        PART_OCCURRENCE_PLACEMENT,
                        PHYSICAL_ELEMENT_PLACEMENT));
  reference_physical_element: Physical_element_definition;
  reference_geometric_space : Geometric_model;
  positioned_representation : template_instance;
END_ENTITY;

ENTITY Part_occurrence_placement
SUBTYPE OF(Occurrence_placement);
  placed_part_occurrence: Single_instance;
END_ENTITY;

ENTITY Physical_element_placement
SUBTYPE OF(Occurrence_placement);
  placed_physical_element: Physical_element_definition;
WHERE
WR1: placed_physical_element\Product_view_definition.defined_version :<>: 
	SELF\Occurrence_placement.reference_physical_element\Product_view_definition.defined_version;
END_ENTITY;

  ENTITY Breakdown
    SUBTYPE OF (Product);
  END_ENTITY;

  ENTITY Breakdown_context;
    id                : STRING;
    name              : STRING;
    description       : OPTIONAL STRING;
    breakdown         : Breakdown_version;
    breakdown_element : Breakdown_element_definition;
  END_ENTITY;

  ENTITY Breakdown_element
    SUBTYPE OF (Product);
  END_ENTITY;

  ENTITY Breakdown_element_definition
    SUBTYPE OF (Product_view_definition);
      SELF\Product_view_definition.defined_version : Breakdown_element_version;
  END_ENTITY;

  ENTITY Breakdown_element_realization
    SUBTYPE OF (Product_definition_element_relationship);
  END_ENTITY;

  ENTITY Breakdown_element_usage
    SUBTYPE OF (View_definition_usage);
      name : STRING;

      SELF\View_definition_relationship.relating_view : Breakdown_element_definition;  -- parent_element : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\View_definition_relationship.related_view : Breakdown_element_definition;  -- child_element : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      child_element : BREAKDOWN_ELEMENT_DEFINITION := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      parent_element : BREAKDOWN_ELEMENT_DEFINITION := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY;

  ENTITY Breakdown_element_version
    SUBTYPE OF (Product_version);
      SELF\Product_version.of_product : Breakdown_element;
  END_ENTITY;

  ENTITY Breakdown_of;
    id          : STRING;
    name        : STRING;
    description : OPTIONAL STRING;
    breakdown   : Breakdown_version;
    of_view     : Product_view_definition;
  END_ENTITY;

  ENTITY Breakdown_version
    SUBTYPE OF (Product_version);
      SELF\Product_version.of_product : Breakdown;
    INVERSE
      breakdown_of : SET[1:?] OF Breakdown_of FOR breakdown;
  END_ENTITY;

  ENTITY Product_definition_element_relationship;
    id          : STRING;
    name        : STRING;
    description : OPTIONAL STRING;
    breakdown   : breakdown_item;
    product     : product_item;
  END_ENTITY;

  ENTITY Definition_based_product_occurrence
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Product_occurrence);
      derived_from: Product_view_definition;
    WHERE
      WR1: SELF\Product_view_definition.defined_version = derived_from.defined_version;
  END_ENTITY;

  ENTITY Product_occurrence
     ABSTRACT SUPERTYPE OF (ONEOF (
                        PRODUCT_OCCURRENCE_WITH_QUANTITY,
                        SINGLE_INSTANCE)
                        AND (ONEOF (
                        DEFINITION_BASED_PRODUCT_OCCURRENCE,
                        SPECIFICATION_BASED_PRODUCT_OCCURRENCE)))
  SUBTYPE OF (Product_view_definition);
    INVERSE
      occurrence_contexts : SET [0:?] OF Product_occurrence_definition_relationship FOR related_view;
      view_definition_contexts : SET [0:?] OF View_definition_relationship FOR related_view;
    WHERE
      WR1: SIZEOF(occurrence_contexts) + SIZEOF(view_definition_contexts) >= 1;
      WR2: NOT EXISTS(SELF\Product_view_definition.additional_characterization);
      WR3: SIZEOF(QUERY( oc <* occurrence_contexts |
            NOT( NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.ASSEMBLY_COMPONENT_RELATIONSHIP' IN TYPEOF(oc)) OR
                 NOT EXISTS(oc\Assembly_component_relationship.quantity))
               )) = 0;
  END_ENTITY;

  ENTITY Product_occurrence_with_quantity
     ABSTRACT SUPERTYPE OF (ONEOF (
                        QUANTIFIED_INSTANCE,
                        SELECTED_INSTANCE))
  SUBTYPE OF (Product_occurrence);
      occurrence_quantity : OPTIONAL extended_value_with_unit;
  END_ENTITY;

  ENTITY Quantified_instance
    SUBTYPE OF (Product_occurrence_with_quantity);
      SELF\Product_occurrence_with_quantity.occurrence_quantity : Value_with_unit;
  END_ENTITY;

  ENTITY Selected_instance
    SUBTYPE OF (Product_occurrence_with_quantity);
      quantity_criterion : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Single_instance
    SUBTYPE OF (Product_occurrence);
  END_ENTITY;

  ENTITY Specification_based_product_occurrence
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Product_occurrence);
      SELF\Product_view_definition.defined_version : Specification_based_product_version;
  END_ENTITY;

  ENTITY Product_specification
    SUBTYPE OF (Product_configuration);
      version_id                              : OPTIONAL STRING;
      SELF\Product_configuration.item_context : Product_class;
      defining_specifications                 : SET [0:?] OF Specification;
  END_ENTITY;

  ENTITY Specification_based_product_version
    SUBTYPE OF (Product_version);
    INVERSE
      specification_source : Item_design_association FOR design;
    WHERE
      WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRODUCT_SPECIFICATION' IN TYPEOF(specification_source.configuration);
  END_ENTITY;

  ENTITY Functional_breakdown
    SUBTYPE OF (Breakdown);
  END_ENTITY;

  ENTITY Functional_breakdown_context
    SUBTYPE OF (Breakdown_context);
      SELF\Breakdown_context.breakdown : Functional_breakdown_version;
      SELF\Breakdown_context.breakdown_element : Functional_element_definition;
  END_ENTITY;

  ENTITY Functional_breakdown_version
    SUBTYPE OF (Breakdown_version);
    SELF\Breakdown_version.of_product : Functional_breakdown;
  END_ENTITY;

  ENTITY Functional_element
    SUBTYPE OF (Breakdown_element);
  END_ENTITY;

  ENTITY Functional_element_definition
    SUBTYPE OF (Breakdown_element_definition);
      SELF\Breakdown_element_definition.defined_version : Functional_element_version;
  END_ENTITY;

  ENTITY Functional_element_usage
    SUBTYPE OF (Breakdown_element_usage);
      SELF\View_definition_relationship.relating_view : Functional_element_definition;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
      SELF\View_definition_relationship.related_view : Functional_element_definition;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Functional_element_version
    SUBTYPE OF (Breakdown_element_version);
      SELF\Breakdown_element_version.of_product : Functional_element;
  END_ENTITY;

ENTITY Configuration;
  configured_element : configured_item_select;
  is_solution_for : configured_specification_select;
  configuration_type : configuration_kind;
  inheritance_type : configuration_inheritance_types;
WHERE
WR1: consistent_configuration_type(SELF);
END_ENTITY;

 ENTITY Class_category_association;
  associated_product_class : Product_class;
  mandatory : BOOLEAN;
  associated_category : Specification_category;
 END_ENTITY;

 ENTITY Class_condition_association;
  condition_type : STRING;
  associated_product_class : Product_class;
  description : OPTIONAL STRING;
  associated_condition : Specification_expression;
 END_ENTITY;

 ENTITY Class_inclusion_association;
  associated_product_class : Product_class;
  description : OPTIONAL STRING;
  associated_inclusion : Specification_inclusion;
 END_ENTITY;

 ENTITY Class_specification_association;
  associated_product_class : Product_class;
  association_type : STRING;
  associated_specification : Specification;
 END_ENTITY;

ENTITY Product_class
  SUBTYPE OF (Product_concept);
  version_id : OPTIONAL STRING;
  level_type : OPTIONAL STRING;
WHERE
WR1: NOT EXISTS(SELF\Product_concept.target_market);
END_ENTITY;

 ENTITY Product_class_relationship;
  description : OPTIONAL STRING;
  relating : Product_class;
  related : Product_class;
  relation_type : STRING;
 END_ENTITY;

 ENTITY Specification;
  id : STRING;
  version_id : OPTIONAL STRING;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
  category : Specification_category;
  package : BOOLEAN;
 END_ENTITY;

 ENTITY Specification_category;
  id : STRING;
  description : STRING;
  implicit_exclusive_condition : BOOLEAN;
 END_ENTITY;

 ENTITY Specification_category_hierarchy;
  sub_category : Specification_category;
  super_category : Specification_category;
 END_ENTITY;

 ENTITY Specification_expression;
  id : OPTIONAL STRING;
  description : OPTIONAL STRING;
  operation : expression_operator;
  operand : SET[1:?] OF specification_operand_select;
 WHERE
 WR1: (operation <> not_operator) OR (SIZEOF(operand)=1); 
 END_ENTITY;

 ENTITY Specification_inclusion;
  id : OPTIONAL STRING;
  description : OPTIONAL STRING;
  if_condition : specification_operand_select;
  included_specification : specification_operand_select;
 END_ENTITY;

ENTITY Market;
  name                      : STRING;
  market_segment_type       : OPTIONAL STRING;
END_ENTITY;

ENTITY Product_concept;
  id                        : STRING;
  name                      : STRING;
  description               : OPTIONAL STRING;
  target_market             : OPTIONAL Market;
UNIQUE
  UR1: id;
END_ENTITY;

ENTITY Group;
  id : OPTIONAL STRING;
  name : STRING;
  description : OPTIONAL STRING;
  elements : SET[0:?] OF groupable_item;
  membership_meaning : OPTIONAL STRING;
END_ENTITY;

ENTITY Group_relationship;
  description : OPTIONAL STRING;
  relation_type : STRING;
  relating_group : Group;
  related_group : Group;
END_ENTITY;

ENTITY Alternate_product_relationship;
   name : OPTIONAL STRING;
   description : OPTIONAL STRING;
   alternate_product : Product;
   base_product : Product;
   criteria : OPTIONAL STRING;
UNIQUE
   UR1: alternate_product , base_product ;
WHERE
   WR1: alternate_product  :<>: base_product ;
   WR2: EXISTS(criteria) OR (TYPEOF(SELF\Alternate_product_relationship) <> TYPEOF(SELF));
END_ENTITY;

ENTITY Assembly_relationship_substitution;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
  base_relationship        : Assembly_component_relationship;
  substitute_relationship  : Assembly_component_relationship;
UNIQUE
  UR1 : base_relationship, substitute_relationship;
WHERE
  WR1: base_relationship.relating_view :=: substitute_relationship.relating_view;
  WR2: base_relationship :<>: substitute_relationship;
END_ENTITY;

  ENTITY Annotation_curve
      ABSTRACT SUPERTYPE OF ((ONEOF (
                        LEADER,
                        PROJECTION_CURVE,
                        DIMENSION_CURVE)
                        ANDOR (
                        GENERIC_ANNOTATION_CURVE)) ) 
  SUBTYPE OF (Annotation_element);
      annotation_curve_type       : OPTIONAL STRING;
      SELF\Styled_element.element : Curve;
  END_ENTITY;

  ENTITY Annotation_element 
      SUPERTYPE OF (ONEOF(
               TEXT,
               ANNOTATION_CURVE,
               ANNOTATION_SUBFIGURE,
               ANNOTATION_SYMBOL,
               FILL_AREA)) 
  SUBTYPE OF (Detailed_geometric_model_element, Styled_element);
  END_ENTITY;

  ENTITY Annotation_text
    SUBTYPE OF (Detailed_geometric_model_element);
      replicated_model : Text_string_representation;
      source           : Axis_placement;
      target           : Axis_placement;
  END_ENTITY;

  ENTITY Defined_character_glyph
    SUBTYPE OF (Detailed_geometric_model_element);
      placement : Axis_placement;
  END_ENTITY;

  ENTITY Dimension_text
    SUBTYPE OF (Text);
    WHERE
      WR1: name IN ['dimension value', 'tolerance value', 'unit text', 'prefix text', 'suffix text'];
  END_ENTITY;

  ENTITY Text 
    SUBTYPE OF (Annotation_element);
      SELF\Styled_element.element : text_or_composite_text;   -- text : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      text : TEXT_OR_COMPOSITE_TEXT := SELF\Styled_element.element;  -- ELEMENT : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY;

  ENTITY Text_string_representation
    SUBTYPE OF (Styled_model);
    SELF\Representation.items : SET [1:1] OF text_string_representation_item_select;
  END_ENTITY; 

  ENTITY Text_style;  
    font_size_scale  : REAL; 
    mirror_placement : OPTIONAL Axis_placement;
    text_colour      : Colour; 
  END_ENTITY;

  ENTITY Appearance_assignment;
    appearance_components : SET[1:?] OF appearance_select;
  END_ENTITY;

  ENTITY Context_dependent_appearance_assignment
    SUBTYPE OF (Appearance_assignment);
      context_definition : appearance_context;
  END_ENTITY;

  ENTITY Context_dependent_over_riding_styled_element
    SUBTYPE OF (Over_riding_styled_element);
      context_definition : LIST [1:?] OF overriding_style_context;
  END_ENTITY;

  ENTITY Over_riding_styled_element
    SUBTYPE OF (Styled_element);
      over_ridden_element : Styled_element;
  END_ENTITY;

  ENTITY Planar_box
    SUBTYPE OF (Detailed_geometric_model_element);
      size_in_x : length_measure;
      size_in_y : length_measure;
      placement : Axis_placement; 
  END_ENTITY;

  ENTITY Styled_element
    SUBTYPE OF (Representation_item);
      appearance : styled_element_appearance;
      element : Detailed_geometric_model_element;
      invisible : BOOLEAN;
  END_ENTITY;

  ENTITY Styled_model
      ABSTRACT SUPERTYPE OF (ONEOF (
                        VIEW,
                        VIEW_AREA) ) 
  SUBTYPE OF (Representation);
      version_id : OPTIONAL STRING;
      SELF\Representation.context_of_items : Geometric_coordinate_space;
    DERIVE
      styled_geometry : SET[0:?] OF Geometric_model := 
      bag_to_set(QUERY (r <* (USEDIN(SELF\Representation.context_of_items,
	 	'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 
	 	'REPRESENTATION.' + 'CONTEXT_OF_ITEMS')) | 
	 	'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.GEOMETRIC_MODEL' IN TYPEOF(r)));
  END_ENTITY;

  ENTITY Styled_model_replication 
    SUBTYPE OF (Representation_item); 
      replicated_model : Styled_model; 
      source : Axis_placement; 
      target : geometric_mapping_target; 
  END_ENTITY;

  ENTITY Externally_defined_marker
    SUBTYPE OF (Marker);
      marker_reference : STRING;
  END_ENTITY;

  ENTITY Externally_defined_terminator
    SUBTYPE OF (Terminator);
      terminator_reference : STRING;
  END_ENTITY;

  ENTITY Marker;
  END_ENTITY;

  ENTITY Point_appearance;
    marker : Marker;
    colour : Colour;
    size : REAL;
  END_ENTITY;

  ENTITY Predefined_marker
    SUBTYPE OF (Marker);
  END_ENTITY;

  ENTITY Predefined_terminator
    SUBTYPE OF (Terminator);
  END_ENTITY;

  ENTITY Terminator;
  END_ENTITY;

  ENTITY User_defined_marker
    SUBTYPE OF (Marker);
      symbol : Geometric_model;
  END_ENTITY;

  ENTITY User_defined_terminator
    SUBTYPE OF (Terminator);
      symbol : Geometric_model;
  END_ENTITY;

  ENTITY Vector_appearance
    SUBTYPE OF (Curve_appearance);
      terminator_type : Terminator;
  END_ENTITY;

  ENTITY Curve_appearance;
    colour : Colour;
    font   : Curve_font;
    width  : REAL;
  END_ENTITY;

  ENTITY Curve_font
    SUPERTYPE OF (ONEOF (
              EXTERNALLY_DEFINED_CURVE_FONT,
              PREDEFINED_CURVE_FONT,
              USER_DEFINED_CURVE_FONT));
      curve_font_name : STRING;
  END_ENTITY;

  ENTITY Curve_font_pattern;
    on_segment : REAL;
    off_segment : REAL;
  END_ENTITY;

  ENTITY Externally_defined_curve_font
    SUBTYPE OF (Curve_font);
      curve_font_reference : STRING;
  END_ENTITY;

  ENTITY Predefined_curve_font
    SUBTYPE OF (Curve_font);
    WHERE
      WR1: SELF.curve_font_name IN ['continuous', 'chain', 'chain double dash', 'dashed', 'dotted'];
  END_ENTITY;

  ENTITY Solid_curve_font
    SUBTYPE OF (Predefined_curve_font);
    WHERE
      WR1: SELF.curve_font_name IN ['continuous'];
  END_ENTITY;

  ENTITY User_defined_curve_font
    SUBTYPE OF (Curve_font);
      pattern        : SET[1:?] OF Curve_font_pattern;
      segment_symbol : Geometric_model;
  END_ENTITY;

  ENTITY Externally_defined_hatch_style
    SUBTYPE OF (Hatch_style); 
  END_ENTITY;

  ENTITY Externally_defined_tile_style
    SUBTYPE OF (Tile_style); 
  END_ENTITY;

  ENTITY Hatch_style
     ABSTRACT SUPERTYPE OF (ONEOF (
                        EXTERNALLY_DEFINED_HATCH_STYLE,
                        USER_DEFINED_HATCH_STYLE))
  SUBTYPE OF (Detailed_geometric_model_element);
  END_ENTITY;

  ENTITY Tile_style
     ABSTRACT SUPERTYPE OF (ONEOF (
                        EXTERNALLY_DEFINED_TILE_STYLE,
                        USER_DEFINED_TILE_STYLE))

	SUBTYPE OF (Detailed_geometric_model_element);
  END_ENTITY;

  ENTITY User_defined_hatch_style
    SUBTYPE OF (Hatch_style);
      hatch_line_appearance         : Curve_appearance;
      start_of_next_hatch_line      : Vector;
      point_of_reference_hatch_line : Cartesian_point;
      pattern_start                 : Cartesian_point;
      hatch_line_angle              : Angle_data_element;
    WHERE
     WR1 : 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SOLID_CURVE_FONT' IN TYPEOF(SELF.hatch_line_appearance.font);
  END_ENTITY;

  ENTITY User_defined_tile_style
    SUBTYPE OF (Tile_style);
      first_direction_repeat_factor  : Vector;
      second_direction_repeat_factor : Vector;
      tiling_scale                   : INTEGER;
  END_ENTITY;

  ENTITY Detailed_geometric_model_element_relationship;
    item_1: Detailed_geometric_model_element;
    item_2: Detailed_geometric_model_element;
   WHERE 
    WR1: item_1 <> item_2;
  END_ENTITY;

  ENTITY Geometric_model_element_relationship
    SUBTYPE OF (Detailed_geometric_model_element_relationship, Detailed_geometric_model_element);
  END_ENTITY;

  ENTITY Vector
    SUBTYPE OF (Detailed_geometric_model_element);
      orientation: Direction;
      magnitude: length_measure;
    WHERE
      WR1 : magnitude >= 0.0 ;
  END_ENTITY;

  ENTITY Boundary_curve_appearance
    SUBTYPE OF (Surface_related_curve_appearance);
  END_ENTITY;

  ENTITY Control_grid_appearance
    SUBTYPE OF (Surface_related_curve_appearance);
  END_ENTITY;

  ENTITY Parameter_line_appearance
    SUBTYPE OF (Surface_related_curve_appearance);
      number_of_u_curves : INTEGER;
      number_of_v_curves : INTEGER;
  END_ENTITY;

  ENTITY Segmentation_curve_appearance
    SUBTYPE OF (Surface_related_curve_appearance);
  END_ENTITY;

  ENTITY Silhouette_curve_appearance
    SUBTYPE OF (Surface_related_curve_appearance);
  END_ENTITY;

  ENTITY Surface_appearance;
    side   : surface_side;    
    styles : SET[1:7] OF Surface_appearance_element;
  END_ENTITY;

  ENTITY Surface_appearance_element
      ABSTRACT SUPERTYPE OF (ONEOF(
                        SURFACE_COLOUR,
                        SURFACE_RELATED_CURVE_APPEARANCE,
                        SURFACE_STYLE_RENDERING)); 
  END_ENTITY;

  ENTITY Surface_colour 
    SUBTYPE OF (Surface_appearance_element);
      assigned_colour : Colour;
  END_ENTITY;

  ENTITY Surface_related_curve_appearance 
     ABSTRACT SUPERTYPE OF (ONEOF (
                        BOUNDARY_CURVE_APPEARANCE,
                        CONTROL_GRID_APPEARANCE,
                        PARAMETER_LINE_APPEARANCE,
                        SEGMENTATION_CURVE_APPEARANCE,
                        SILHOUETTE_CURVE_APPEARANCE))

	SUBTYPE OF (Surface_appearance_element);
      style : Curve_appearance;
  END_ENTITY;

  ENTITY Layer;
    id               : STRING;
    description      : STRING;
    layered_elements : SET[1:?] OF Representation_item;
  END_ENTITY;

  ENTITY Structuring_method_hierarchy;
    relating : structuring_method_select;
    related  : Group;
  END_ENTITY;

  ENTITY Design_specification
    SUPERTYPE OF (
              INTERFACE_SPECIFICATION_DOCUMENT_DEFINITION)
  SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Fabrication_technology_specification
    SUBTYPE OF (Process_specification);
  END_ENTITY;

  ENTITY Interface_specification_document_definition
    SUBTYPE OF (Design_specification);
  END_ENTITY;

  ENTITY Language_reference_manual
    SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Material_specification
    SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Partial_document_with_structured_text_representation_assignment
    SUBTYPE OF(Partial_document_assignment);
      structured_portion : string_representation_item_select;
    UNIQUE
      UR1: SELF\Partial_document_assignment.document_portion,
      SELF\Document_assignment.assigned_document;
  END_ENTITY;

  ENTITY Process_specification
    SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Specification_allocation
  	SUBTYPE OF (Document_assignment);
      SELF\Document_assignment.assigned_document : Specification_definition;  -- allocated_specification : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      allocated_specification : SPECIFICATION_DEFINITION := SELF\Document_assignment.assigned_document;  -- ASSIGNED_DOCUMENT : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY;

  ENTITY Specification_definition
  	SUPERTYPE OF (ONEOF (
              DESIGN_SPECIFICATION,
              PROCESS_SPECIFICATION,
              MATERIAL_SPECIFICATION,
              TEST_SPECIFICATION,
              LANGUAGE_REFERENCE_MANUAL))
  SUBTYPE OF (Document_definition);
	DERIVE
  		source: SET[0:?] OF Organization_or_person_in_organization_assignment :=
         bag_to_set(QUERY(temp <* USEDIN(SELF,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+
         'ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT.ITEMS') |
                         (temp.role = 'document source') ));
	WHERE
      WR1: EXISTS (source) AND (SIZEOF(source) = 1);
  END_ENTITY;

  ENTITY Surface_finish_specification
    SUBTYPE OF (Material_specification);
  END_ENTITY;

  ENTITY Test_specification
    SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Characteristic_data_table
    SUBTYPE OF (Representation_item);
      property_value : LIST[1:?] OF Characteristic_data_table_row;
    WHERE
      WR1: SIZEOF(QUERY( pv <* property_value |
                  NOT (SIZEOF(pv.cell) = SIZEOF(property_value[1].cell))
                  )) = 0;
  END_ENTITY;

  ENTITY Characteristic_data_table_representation
    SUBTYPE OF (Property_value_representation);
      SELF\Representation.items : SET[1:1] OF Characteristic_data_table;
  END_ENTITY;

  ENTITY Characteristic_data_table_row
    SUBTYPE OF (Representation_item);
      cell : LIST [1:?] OF characteristic_data_table_cell;
  END_ENTITY;

  ENTITY Characteristic_data_column_header 
    SUBTYPE OF (Independent_property);
    INVERSE
      table_header_usage : Characteristic_data_table_header_decomposition FOR related;  
  END_ENTITY;

  ENTITY Characteristic_data_table_header 
    SUBTYPE OF (Independent_property);
    INVERSE
      column : SET [2:?] OF Characteristic_data_table_header_decomposition FOR relating;    
  END_ENTITY;

  ENTITY Characteristic_data_column_header_link
    SUBTYPE OF (Independent_property_relationship);
      SELF\Independent_property_relationship.relating : Characteristic_data_column_header;  -- precedent : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\Independent_property_relationship.related : Characteristic_data_column_header;  -- subsequent : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      SELF\Independent_property_relationship.relation_type : STRING := 'sequence'; 
      precedent : CHARACTERISTIC_DATA_COLUMN_HEADER := SELF\Independent_property_relationship.relating;  -- RELATING : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      subsequent : CHARACTERISTIC_DATA_COLUMN_HEADER := SELF\Independent_property_relationship.related;  -- RELATED : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1: subsequent <> precedent;
  END_ENTITY; 

  ENTITY Characteristic_data_table_header_decomposition
    SUBTYPE OF (Independent_property_relationship);
      SELF\Independent_property_relationship.relating : Characteristic_data_table_header;
      SELF\Independent_property_relationship.related : Characteristic_data_column_header;
    DERIVE
      SELF\Independent_property_relationship.relation_type : STRING := 'decomposition';
  END_ENTITY;

  ENTITY Externally_defined_type_qualifier
    SUBTYPE OF (Type_qualifier);
      external_source : External_source;
    WHERE
      WR1: NOT(name IN pre_defined_type_qualifiers);
  END_ENTITY;

  ENTITY Length_tolerance_characteristic
    SUBTYPE OF(Tolerance_characteristic);
    WHERE
      WR1 : ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.STATISTICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
            ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SYMMETRICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
            ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PLUS_MINUS_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
        (SIZEOF(QUERY(it <* SELF\Representation.items |
          NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.LENGTH_DATA_ELEMENT' IN TYPEOF(it))
         )) = 0);
      WR2 : NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SYMMETRICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
        (SIZEOF(QUERY(it <* SELF\Representation.items |
        ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.LENGTH_DATA_ELEMENT' IN TYPEOF(it))
           )) = 1);
      WR3 : NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.STATISTICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
        (SIZEOF(QUERY(it <* SELF\Representation.items |
        ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.LENGTH_DATA_ELEMENT' IN TYPEOF(it))
           )) = 1);
      WR4 : NOT EXISTS(SELF\Representation.description);
      WR5 : NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PLUS_MINUS_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
        (SIZEOF(QUERY(it <* SELF\Representation.items |
          NOT(('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.VALUE_WITH_TOLERANCES' IN TYPEOF(it)) AND
             ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.LENGTH_DATA_ELEMENT' IN TYPEOF(it\Value_with_tolerances.item_value)))
         )) = 0);
  END_ENTITY;

  ENTITY Maximum_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET [1:1] OF Value_limit;
    WHERE
      WR1: SELF\Representation.items[1]\Value_limit.qualifiers[1]\Type_qualifier.name = 'maximum';      
  END_ENTITY;

  ENTITY Minimum_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET [1:1] OF Value_limit;
    WHERE
      WR1: SELF\Representation.items[1]\Value_limit.qualifiers[1]\Type_qualifier.name = 'minimum';      
  END_ENTITY;

  ENTITY Nominal_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET[1:1] OF Qualified_numerical_item_with_unit;
    WHERE
      WR1: SELF\Representation.items[1]\Qualified_representation_item.qualifiers[1]\Type_qualifier.name = 'nominal';
  END_ENTITY;

  ENTITY Null_representation_item 
    SUBTYPE OF (Representation_item); 
  END_ENTITY; 

  ENTITY Plus_minus_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET [1:1] OF Value_with_tolerances;
  END_ENTITY;

  ENTITY Range_characteristic
    SUBTYPE OF (Property_value_representation);
      SELF\Representation.items : SET[2:2] OF Numerical_item_with_unit;
      range_type				: range_class;
    WHERE
      WR1 : TYPEOF(SELF\Representation.items[1]) =
          TYPEOF(SELF\Representation.items[2]);
      WR2 : TYPEOF(SELF\Representation.items[1]\Value_with_unit.unit) =
          TYPEOF(SELF\Representation.items[2]\Value_with_unit.unit);
      WR3 : valid_range(SELF\Representation.items[1],
                      SELF\Representation.items[2]);          
  END_ENTITY;

  ENTITY Statistical_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET [2:?] OF Numerical_item_with_unit;
  END_ENTITY;

  ENTITY Symmetrical_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET[2:2] OF Numerical_item_with_unit;
    WHERE
      WR1: SIZEOF(QUERY( ri <* 
         SELF\representation.items |
        'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.RATIO_DATA_ELEMENT' IN TYPEOF(ri))) = 1;
  END_ENTITY;

  ENTITY Text_representation_item
  	SUBTYPE OF (String_representation_item);
  END_ENTITY;

  ENTITY Tolerance_characteristic
     ABSTRACT SUPERTYPE OF ((ONEOF (
                        MINIMUM_TOLERANCE_CHARACTERISTIC,
                        STATISTICAL_TOLERANCE_CHARACTERISTIC,
                        SYMMETRICAL_TOLERANCE_CHARACTERISTIC,
                        MAXIMUM_TOLERANCE_CHARACTERISTIC,
                        PLUS_MINUS_TOLERANCE_CHARACTERISTIC,
                        NOMINAL_TOLERANCE_CHARACTERISTIC))
                        ANDOR 
                        LENGTH_TOLERANCE_CHARACTERISTIC)
  SUBTYPE OF (Property_value_representation);
    WHERE
      WR1: SELF\Representation.context_of_items\Representation_context.id = 'tolerance values';
      WR2 : NOT EXISTS(SELF\Representation.name);
  END_ENTITY;

  ENTITY Boolean_representation_item
    SUBTYPE OF (Representation_item);
      the_value : BOOLEAN;
  END_ENTITY;

  ENTITY Compound_representation_item 
     ABSTRACT SUPERTYPE OF (ONEOF (
                        SEQUENCE_REPRESENTATION_ITEM,
                        SET_REPRESENTATION_ITEM))
  SUBTYPE OF (Representation_item); 
  END_ENTITY; 

  ENTITY Date_time_representation_item
    SUBTYPE OF (Representation_item);
      the_value : extended_date_time_select;
  END_ENTITY; 

  ENTITY Integer_representation_item
    SUBTYPE OF (Representation_item);
      the_value : INTEGER;
  END_ENTITY;

  ENTITY Logical_representation_item
    SUBTYPE OF (Representation_item);
      the_value : LOGICAL;
  END_ENTITY;

  ENTITY Rational_representation_item
    SUBTYPE OF (Representation_item);
      numerator   : INTEGER;
      denominator : INTEGER;
  END_ENTITY;

  ENTITY Real_representation_item
    SUBTYPE OF (Representation_item);
      the_value   : REAL;
  END_ENTITY;

  ENTITY Sequence_representation_item
    SUBTYPE OF (Compound_representation_item);
      the_value   : LIST OF Representation_item;
  END_ENTITY;

  ENTITY Set_representation_item
    SUBTYPE OF (Compound_representation_item);
      the_value   : SET OF Representation_item;
  END_ENTITY;

  ENTITY Year_month;
    month_component : month_in_year_number; 
    year_component  : year_number; 
  END_ENTITY;  

  ENTITY Date;
    year_component  : year_number; 
  END_ENTITY;  

  ENTITY Ordinal_date;
      day_component  : day_in_year_number;   
      year_component : year_number; 
    WHERE 
      WR1:  ( NOT leap_year ( SELF  . year_component ) AND  { 1 <= day_component <= 365 } ) OR 
        ( leap_year ( SELF . year_component ) AND { 1 <= day_component <= 366 } ) ;  
  END_ENTITY; 

  ENTITY Week_of_year_and_day_date;
    day_component  : OPTIONAL day_in_week_number;   
    year_component : year_number; 
    week_component : week_in_year_number; 
  END_ENTITY; 

  ENTITY External_library_property
    SUBTYPE OF (Independent_property);
      external_id  : STRING;    
      source       : External_source;
    DERIVE
      library_type : STRING := source.id;
  END_ENTITY;

  ENTITY Plib_property_reference
    SUBTYPE OF (Independent_property);
      code       : STRING;
      version    : STRING;
      name_scope : Plib_class_reference;
  END_ENTITY;

ENTITY Included_text_block
  SUBTYPE OF (Representation_item);
  source : Structured_text_representation;
END_ENTITY;

 ENTITY Structured_text_composition
   SUBTYPE OF (Representation_item);
  content: string_representation_item_list_or_set;
 END_ENTITY;

ENTITY Structured_text_representation
  SUBTYPE OF (Representation);
  SELF\Representation.items : SET [1:1] OF string_representation_item_select; 
END_ENTITY;

ENTITY Tagged_text_item
  SUBTYPE OF (String_representation_item);
WHERE
  WR1: SIZEOF (QUERY (using_rep <* USEDIN(SELF,
       'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.REPRESENTATION.ITEMS') |
  NOT ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.TAGGED_TEXT_FORMAT' IN
  TYPEOF (using_rep.context_of_items))
       )) = 0;
END_ENTITY;

ENTITY Tagged_text_format
  SUBTYPE OF (Representation_context);
END_ENTITY;

ENTITY Uniform_resource_identifier
  SUBTYPE OF (String_representation_item);
END_ENTITY;

  ENTITY Software 
    SUBTYPE OF (Information_product);
    UNIQUE 
      UR1: SELF\Product.id;
  END_ENTITY;

  ENTITY Software_definition 
    SUBTYPE OF (Information_definition);
    SELF\Product_view_definition.defined_version : Software_version;
  END_ENTITY;

  ENTITY Software_version
    SUBTYPE OF (Information_version);
    SELF\Product_version.of_product : Software;
  END_ENTITY;

ENTITY Calendar_date;
  year_component : year_number;
  month_component : month_in_year_number;
  day_component : day_in_month_number;
END_ENTITY;

ENTITY Date_time;
  date_component : Calendar_date;
  time_component : Local_time;
END_ENTITY;

ENTITY Local_time;
  hour_component : hour_in_day;
  minute_component : OPTIONAL minute_in_hour;
  second_component : OPTIONAL second_in_minute;
  zone : Time_offset;
END_ENTITY;

ENTITY Time_offset;
  hour_offset : INTEGER;
  minute_offset : OPTIONAL INTEGER;
  sense : offset_orientation;
DERIVE
  actual_minute_offset : INTEGER := NVL(minute_offset,0);
WHERE
  WR1: { 0 <= hour_offset < 24 };
  WR2: { 0 <= actual_minute_offset <= 59 };
  WR3: NOT (((hour_offset <> 0) OR (actual_minute_offset <>0)) AND (sense = exact));
END_ENTITY;

  ENTITY Alias_identification
    SUBTYPE OF (Identification_assignment);
      SELF\Identification_assignment.items : SET [1:?] OF alias_identification_item;
    DERIVE
      SELF\Identification_assignment.role : STRING := 'alias';
  END_ENTITY;

ENTITY Certification;
  name : STRING;
  description : OPTIONAL STRING;
  kind : STRING;
END_ENTITY;

ENTITY Certification_assignment;
  assigned_certification : Certification;
  items : SET[1:?] OF certification_item;
  role : STRING;
END_ENTITY;

ENTITY Language;
  language_code : STRING;
  country_code : OPTIONAL STRING;
UNIQUE
  UR1: language_code;
END_ENTITY;

ENTITY Language_indication;
   considered_instance: string_select;
   considered_attribute: STRING;
   used_language:  Language;
END_ENTITY;

ENTITY Attribute_translation_assignment;
   considered_instance: string_select;
   considered_attribute: STRING;
   translation_text : STRING;
   translation_language: Language;
UNIQUE
  UR1: considered_instance, considered_attribute, translation_language;
END_ENTITY;

ENTITY Project;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  responsible_organizations : SET[0:?] OF Organization;
  planned_start_date : OPTIONAL date_or_event;
  planned_end_date : OPTIONAL date_or_event;
  actual_start_date : OPTIONAL date_or_date_time_select;
  actual_end_date : OPTIONAL date_or_date_time_select;
END_ENTITY;

ENTITY Project_assignment;
  assigned_project : Project;
  role : STRING;
  items : SET[1:?] OF project_item;
END_ENTITY;

ENTITY Project_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_project : Project;
  related_project : Project;
END_ENTITY;

ENTITY Event;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  actual_start_date : OPTIONAL date_or_date_time_select;
  planned_start_date : OPTIONAL date_or_date_time_select;
END_ENTITY;

ENTITY Event_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_event : Event;
  related_event : Event;
END_ENTITY;

ENTITY Relative_event
  SUBTYPE OF (Event);
  base_event : Event;
  offset : Duration;
END_ENTITY;

ENTITY Make_from_relationship
  SUBTYPE OF (View_definition_usage);
  SELF\View_definition_relationship.relating_view: Part_view_definition;
  SELF\View_definition_relationship.related_view: Part_view_definition;
  quantity  : OPTIONAL Value_with_unit;
  priority  : OPTIONAL INTEGER;
WHERE
WR1: SELF\View_definition_relationship.relating_view :<>: 
  SELF\View_definition_relationship.related_view ;
WR2: NOT(EXISTS(quantity)) XOR 
	((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) XOR (quantity.value_component > 0));
END_ENTITY;

ENTITY Information_product
   ABSTRACT SUPERTYPE
 	SUBTYPE OF (Product);
END_ENTITY;

ENTITY Information_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Information_product;
END_ENTITY;

ENTITY Information_definition
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Information_version;
END_ENTITY;

ENTITY Event_assignment;
  assigned_event : Event;
  items : SET[1:?] OF event_item;
  role : STRING;
END_ENTITY;

FUNCTION contains_variable (x : Term_select) : BOOLEAN;
  IF ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.ABSTRACT_VARIABLE' IN TYPEOF(x)) THEN RETURN (TRUE);
      ELSE IF (('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.FUNC' IN TYPEOF(X)) AND
              (SIZEOF(QUERY(y <* x.terms | contains_variable(y))) > 0)) 
              THEN RETURN (TRUE);
              ELSE RETURN (FALSE);
           END_IF;
  END_IF;
END_FUNCTION;

 FUNCTION get_geometric_model(input : Item_shape) : SET OF Geometric_model;
 LOCAL
  sda : SET OF Shape_description_association := [];
  gm : SET OF Geometric_model := [];
 END_LOCAL;
 
  sda := bag_to_set(USEDIN(input,
	 	'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 
	 	'SHAPE_DESCRIPTION_ASSOCIATION.' + 'REPRESENTED_CHARACTERISTIC'));
 
 REPEAT i := 1 to SIZEOF(sda) BY 1;
  gm := gm + sda[i].representation;
 END_REPEAT;
 RETURN(gm);
END_FUNCTION;

  FUNCTION calculate_depth (swsrh : Solid_with_stepped_round_hole) 
                              : length_measure;
    LOCAL
      i  : INTEGER;
      td : length_measure := 0;
    END_LOCAL;
    REPEAT i := 1 TO swsrh.segments;
      td := td + swsrh.segment_depths[i];
    END_REPEAT;
    RETURN(td); 
  END_FUNCTION;

  FUNCTION spa_get_definition ( input : Contextual_item_shape ): Product_view_definition;
    IF ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.VIEW_DEFINITION_USAGE'
      IN TYPEOF(input\Item_shape.described_element))
      THEN
        RETURN(input\Item_shape.described_element\View_definition_relationship.related_view);
    END_IF;
    IF ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRODUCT_OCCURRENCE_DEFINITION_RELATIONSHIP' IN
        TYPEOF(input\Item_shape.described_element))
      THEN
        RETURN(input\Item_shape.described_element\Product_occurrence_definition_relationship.related_view);
    END_IF;    
    RETURN(?);
  END_FUNCTION;

  FUNCTION aggregate1_in_aggregate2 (agg1, agg2: AGGREGATE OF GENERIC): LOGICAL;
    RETURN(SIZEOF(QUERY (ele <* agg1 | VALUE_IN(agg2, ele)))= SIZEOF(agg1));
  END_FUNCTION;

FUNCTION local_vars_of (thing : GENERIC) : SET [0:?] OF Scalar_variable;
  LOCAL
    accum : SET [0:?] OF Scalar_variable := [];
  END_LOCAL;
  RETURN (local_vars_aux(thing, accum));
END_FUNCTION;

FUNCTION local_vars_aux (thing : GENERIC; accum : SET [0:?] OF Scalar_variable) 
                                                : SET [0:?] OF Scalar_variable;
  LOCAL i,j,k : INTEGER; END_LOCAL;
  IF (('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.ABSTRACT_VARIABLE' IN TYPEOF(thing)) AND 
      ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.RULE_DEFINITION' IN (TYPEOF(thing.scope))))
   THEN accum := accum + thing;
   ELSE IF ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.RULE_CONDITION' IN TYPEOF(thing))
        THEN REPEAT i := 1 TO HIINDEX(thing\Atomic_formula.terms);
                accum := local_vars_aux(thing\Atomic_formula.terms[i],accum);
             END_REPEAT;
        ELSE IF ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.SIMPLE_CLAUSE' IN TYPEOF(thing))
             THEN REPEAT j := 1 TO HIINDEX(thing.formulas);
                        accum := local_vars_aux(thing.formulas[j],accum);
                  END_REPEAT;
             ELSE IF ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.COMPLEX_CLAUSE' IN TYPEOF(thing))
                  THEN REPEAT k := 1 TO HIINDEX(thing.clauses);
                        accum := local_vars_aux(thing.clauses[k],accum);
                       END_REPEAT;
                  END_IF;
             END_IF;
        END_IF;
  END_IF;
  RETURN(accum);
END_FUNCTION;

  FUNCTION bag_to_set(
    the_bag : BAG OF GENERIC : intype
  ) : SET OF GENERIC : intype;

    LOCAL
      the_set : SET OF GENERIC : intype := [];
      i       : INTEGER;
    END_LOCAL;

    IF SIZEOF(the_bag) > 0 THEN
      REPEAT i := 1 TO HIINDEX(the_bag);
        the_set := the_set + the_bag[i];
      END_REPEAT;
    END_IF;
    RETURN(the_set);
  END_FUNCTION;

  FUNCTION get_document_definition(
      input : documented_element_select;
      role : STRING;
      type_name : STRING) : SET OF Document_definition; 
    LOCAL
      dd : SET[0:?] OF Document_definition := [];  --this gives us access to the information base
      da : SET[0:?] OF Document_assignment :=[];
    END_LOCAL;
    da := bag_to_set(QUERY(dr <* USEDIN (input, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.'+
	  'DOCUMENT_ASSIGNMENT.IS_ASSIGNED_TO') | (dr.role = role)));
    -- iterate over da
    REPEAT i := 1 to SIZEOF(da) by 1;
      IF(type_name IN TYPEOF (da[i].assigned_document))THEN
        dd := dd + da[i].assigned_document;
      END_IF;
    END_REPEAT;
    RETURN(dd);
  END_FUNCTION;

FUNCTION acyclic_representation_relationship
  (relation : representation_relationship; relatives : SET[1:?] OF representation; specific_relation : STRING) : BOOLEAN; 
  LOCAL
    x : SET OF representation_relationship;
  END_LOCAL;

  IF relation.rep_1 IN relatives THEN
    RETURN (FALSE);
  END_IF;
  x := QUERY(r <* bag_to_set(USEDIN(relation.rep_1, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'REPRESENTATION_RELATIONSHIP.' + 'REP_2')) | specific_relation IN TYPEOF(r));
  REPEAT i := 1 TO HIINDEX(x);
    IF NOT acyclic_representation_relationship(x[i], relatives + relation.rep_1, specific_relation) THEN
      RETURN (FALSE);
    END_IF;
  END_REPEAT;
  RETURN (TRUE);
END_FUNCTION; 

FUNCTION consistent_configuration_type(config: Configuration): BOOLEAN;
IF ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.CLASS_CONDITION_ASSOCIATION' IN TYPEOF(config.is_solution_for)) THEN
  IF config.configuration_type = configuration_kind.usage THEN
    RETURN(config.is_solution_for\Class_condition_association.condition_type ='part usage');
  ELSE
    RETURN(config.is_solution_for\Class_condition_association.condition_type ='design case');
  END_IF;
END_IF;

IF ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.CLASS_SPECIFICATION_ASSOCIATION' IN TYPEOF(config.is_solution_for)) THEN
  IF config.configuration_type = configuration_kind.usage THEN
    RETURN(config.is_solution_for\Class_specification_association.association_type ='part usage');
  ELSE 
    RETURN(config.is_solution_for\Class_specification_association.association_type ='design case');
  END_IF;
END_IF;

RETURN(FALSE);
END_FUNCTION;

  FUNCTION valid_range(input1 : Numerical_item_with_unit;
                       input2 : Numerical_item_with_unit) : BOOLEAN;
    RETURN(TRUE);
  END_FUNCTION; 

  FUNCTION leap_year
    (year : year_number) : BOOLEAN;
      IF ( ( ( ( year MOD  4 ) = 0 ) AND 
        ( ( year MOD  100 ) <> 0 ) ) OR ( ( year MOD 400 ) = 0 ) ) 
        THEN 
          RETURN  ( TRUE ) ; 
        ELSE 
          RETURN ( FALSE ) ; 
      END_IF ; 
  END_FUNCTION;

FUNCTION type_of_set(items: SET OF GENERIC       ): SET OF STRING;
LOCAL
  result: SET OF STRING:= [];
END_LOCAL;

REPEAT i:=1 TO HIINDEX(items);
  result := result + TYPEOF(items[i]);
END_REPEAT;
RETURN(result);
END_FUNCTION;

  RULE unique_product_view_definition_id FOR
      (Product_version);
    WHERE
      WR1:  SIZEOF(QUERY (pv <* Product_version | 
        (SIZEOF (QUERY (pvd1 <*
        USEDIN(pv,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRODUCT_VIEW_DEFINITION.DEFINED_VERSION') |  
        (SIZEOF (QUERY (pvd2 <*
        USEDIN(pv,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRODUCT_VIEW_DEFINITION.DEFINED_VERSION')
        |  pvd1.id = pvd2.id)) > 1)
        )) > 0)
        )) = 0;  
  END_RULE;

  RULE person_requires_person_and_organization FOR 
      (Person);
    WHERE
      WR1: SIZEOF(QUERY(p <* Person | SIZEOF(USEDIN(p, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF' + '.PERSON_IN_ORGANIZATION.CONCERNED_PERSON')) = 0)) = 0;
  END_RULE; 

  RULE shape_requires_product_view FOR 
      (Item_shape);
    WHERE
      WR1: SIZEOF(QUERY(is <* Item_shape | NOT ('PRODUCT_VIEW_DEFINITION_ARM' + '.PRODUCT_VIEW_DEFINITION' IN TYPEOF(is.described_element)))) = 0;
  END_RULE; 

  RULE substance_view_definition_constraint FOR (Product_view_definition);
    WHERE
      WR1: SIZEOF ( QUERY ( pvd <* Product_view_definition | ( NOT ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SUBSTANCE_VIEW_DEFINITION' IN TYPEOF (pvd) ) ) AND ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SUBSTANCE_VERSION' IN TYPEOF ( pvd.defined_version) ) ) ) =0 ;
  END_RULE; 

  RULE definition_replacement_requires_effectivity_assignment FOR 
      (Part_definition_relationship);
    WHERE 
      WR1: SIZEOF( QUERY( pdr <* Part_definition_relationship | 
        (pdr\View_definition_relationship.relation_type = 'definition replacement') AND 
        (SIZEOF( USEDIN(pdr,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.EFFECTIVITY_ASSIGNMENT.ITEMS') ) = 0) ))
	     = 0; 
  END_RULE; 

RULE max_one_entity_prefix FOR (Enum_reference_prefix);
 WHERE
   WR1: SIZEOF(QUERY(x <* Enum_reference_prefix | TRUE)) <= 1;
END_RULE;

  RULE unique_document_id FOR
      (Document);
    WHERE
      WR1:  SIZEOF(QUERY (p1 <* Document | SIZEOF(QUERY (p2 <* Document | 
              (NOT(p1 :=: p2) AND (p1.id = p2.id)))) > 0 )) = 0;
  END_RULE;

  RULE unique_requirement_id FOR
      (Requirement);
    WHERE
      WR1:  SIZEOF(QUERY (p1 <* Requirement | SIZEOF(QUERY (p2 <* Requirement | 
              (NOT(p1 :=: p2) AND (p1.id = p2.id)))) > 0 )) = 0;
  END_RULE;

  RULE product_occurrence_usage FOR
      (Product_occurrence);
    WHERE
      WR1: SIZEOF(QUERY( po <* Product_occurrence |
      NOT (
      (SIZEOF(USEDIN(po,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRODUCT_OCCURRENCE_DEFINITION_RELATIONSHIP.RELATED_VIEW')) +
        SIZEOF(USEDIN(po,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRODUCT_DEFINITION_ELEMENT_RELATIONSHIP.PRODUCT'))) > 0
        )
        )) = 0;
  END_RULE;

RULE part_view_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( pvd <* Product_view_definition | ( NOT ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'PART_VIEW_DEFINITION' IN TYPEOF (pvd) ) ) AND ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'PART_VERSION' IN TYPEOF ( pvd.defined_version) ) ) ) =0 ;
END_RULE; 

  RULE substance_version_constraint FOR (Product_version);
    WHERE
      WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SUBSTANCE_VERSION' IN TYPEOF ( pv) ) ) AND ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SUBSTANCE' IN TYPEOF ( pv.of_product) ) ) ) =0 ;
  END_RULE; 

  RULE chemical_element_constraint FOR (Product);
    WHERE
      WR1: SIZEOF ( QUERY ( p <* Product | 
               (('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SUBSTANCE' IN TYPEOF (p) ) AND ((p\Product.name) IN chemical_elements) ) 
                OR
               (NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SUBSTANCE' IN TYPEOF (p) ) AND NOT((p\Product.name) IN chemical_elements) ))) =
        SIZEOF ( Product);
  END_RULE; 

  RULE addresses_are_assigned FOR 
      (Address);
    WHERE
      WR1: SIZEOF(QUERY(a <* Address | SIZEOF(USEDIN(a, 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF' + '.ADDRESS_ASSIGNMENT.ASSIGNED_ADDRESS')) = 0)) = 0;
  END_RULE; 

  RULE unique_product_version_id FOR
      (Product);
    WHERE
      WR1:  SIZEOF(QUERY (p <* Product | 
       (SIZEOF (QUERY (pv1 <*
       USEDIN(p,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRODUCT_VERSION.OF_PRODUCT') |  
       (SIZEOF (QUERY (pv2 <*
       USEDIN(p,'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.PRODUCT_VERSION.OF_PRODUCT')
       |  pv1.id = pv2.id)) > 1)
       )) > 0)
       )) = 0;  
  END_RULE;

  RULE unique_part_id FOR
      (Part);
    WHERE
      WR1:  SIZEOF(QUERY (p1 <* Part | SIZEOF(QUERY (p2 <* Part | 
              (NOT(p1 :=: p2) AND (p1.id = p2.id)))) > 0 )) = 0;
  END_RULE;

RULE rule_version_constraint FOR (Product_version);
WHERE
   WR1: SIZEOF (QUERY(pv <* Product_version | (NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'RULE_VERSION' IN TYPEOF(pv))) 
                      AND ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'RULE_PRODUCT' IN TYPEOF(pv.of_product)))) = 0 ;
END_RULE;

RULE rule_software_definition_constraint FOR (Product_view_definition);
WHERE
   WR1: SIZEOF (QUERY ( pvd <* Product_view_definition | ( NOT('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'RULE_SOFTWARE_DEFINITION' 
                       IN TYPEOF(pvd))) 
                       AND ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'RULE_VERSION' IN TYPEOF (pvd . defined_version)))) = 0 ;
END_RULE; 

RULE document_version_constraint FOR 
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'DOCUMENT_VERSION' IN TYPEOF ( pv) ) ) AND ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'DOCUMENT' IN TYPEOF ( pv.of_product) ) ) ) = 0 ;
END_RULE; 

RULE restrict_to_dated_effectivity FOR (Effectivity_assignment);
LOCAL
  ndea_set : SET OF Effectivity_assignment := [];
END_LOCAL;
  ndea_set := QUERY(ea <* Effectivity_assignment | 
	NOT ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.DATED_EFFECTIVITY' IN TYPEOF(ea.assigned_effectivity)));
WHERE
  WR1: SIZEOF(QUERY(ea <* ndea_set | 
		(SIZEOF(['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.CONFIGURATION']*type_of_set(ea.items))>0) )) =0;
END_RULE;

RULE document_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( dd <* Product_view_definition | ( NOT ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'DOCUMENT_DEFINITION' IN TYPEOF (dd) ) ) AND ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'DOCUMENT_VERSION' IN TYPEOF ( dd.defined_version) ) ) ) =0;
END_RULE; 

  RULE mandatory_part_occurrence_definition_relationship FOR (Assembly_component_relationship);
    LOCAL
      assemblies_of_parts: SET OF Assembly_component_relationship := [];
    END_LOCAL;
    WHERE
      WR1: SIZEOF(QUERY(ar <* assemblies_of_parts | 
	    NOT ('AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.ASSEMBLED_PART_ASSOCIATION' IN TYPEOF(ar)) ))= 0;
  END_RULE;

RULE software_version_constraint FOR 
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SOFTWARE_VERSION' IN TYPEOF ( pv) ) ) AND ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SOFTWARE' IN TYPEOF ( pv.of_product) ) ) ) =0 ;
END_RULE; 

RULE software_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( pvd <* Product_view_definition | ( NOT ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SOFTWARE_DEFINITION' IN TYPEOF (pvd) ) ) AND ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'SOFTWARE_VERSION' IN TYPEOF ( pvd.defined_version) ) ) ) =0 ;
END_RULE; 

RULE Information_product_version_constraint FOR
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT (
  'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'INFORMATION_VERSION' IN TYPEOF
  ( pv) ) ) AND ( 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_ARM_LF.' + 'INFORMATION_PRODUCT' IN TYPEOF (
pv.of_product) ) ) ) =0 ;
END_RULE; 

(* E2: SUBTYPE_CONSTRAINT dd_detailed_geometric_model_element_subtypes FOR DETAILED_GEOMETRIC_MODEL_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT assembly_component_relationship_constraint FOR ASSEMBLY_COMPONENT_RELATIONSHIP; *)
-- generated from SUBTYPE_CONSTRAINT assembly_component_relationship_constraint

RULE total_over_assembly_component_relationship_constraint FOR( ASSEMBLY_COMPONENT_RELATIONSHIP);
WHERE
  wr1 : SIZEOF(QUERY(p <* ASSEMBLY_COMPONENT_RELATIONSHIP | SIZEOF(['Ap203_configuration_controlled_3d_design_of_mechanical_parts_and_assemblies_arm.COMPONENT_UPPER_LEVEL_IDENTIFICATION'] * TYPEOF(p) ) = 0)) = 0;
  wr2 : SIZEOF(QUERY(p <* ASSEMBLY_COMPONENT_RELATIONSHIP | SIZEOF(['Ap203_configuration_controlled_3d_design_of_mechanical_parts_and_assemblies_arm.NEXT_ASSEMBLY_USAGE'] * TYPEOF(p) ) = 0)) = 0;
  wr3 : SIZEOF(QUERY(p <* ASSEMBLY_COMPONENT_RELATIONSHIP | SIZEOF(['Ap203_configuration_controlled_3d_design_of_mechanical_parts_and_assemblies_arm.PROMISSORY_USAGE'] * TYPEOF(p) ) = 0)) = 0;
END_RULE;

(* E2: SUBTYPE_CONSTRAINT curve_subtypes FOR CURVE; *)

(* E2: SUBTYPE_CONSTRAINT currency_subtypes FOR CURRENCY; *)

(* E2: SUBTYPE_CONSTRAINT external_source_subtypes FOR EXTERNAL_SOURCE; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_activity_relationship_subtypes FOR ACTIVITY_RELATIONSHIP; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_approval_subtypes FOR APPROVAL; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_approval_status_subtypes FOR APPROVAL_STATUS; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_date_or_date_time_assignment_subtypes FOR DATE_OR_DATE_TIME_ASSIGNMENT; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_security_classification_subtypes FOR SECURITY_CLASSIFICATION; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_work_request_subtypes FOR WORK_REQUEST; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_work_request_status_subtypes FOR WORK_REQUEST_STATUS; *)

(* E2: SUBTYPE_CONSTRAINT annotation_curve_subtypes FOR ANNOTATION_CURVE; *)

(* E2: SUBTYPE_CONSTRAINT cv3d_detailed_geometric_model_element_subtypes FOR DETAILED_GEOMETRIC_MODEL_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT alternate_geometry_items FOR DETAILED_GEOMETRIC_MODEL_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT ta_detailed_geometric_model_element_subtypes FOR DETAILED_GEOMETRIC_MODEL_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT ph_styled_model_subtypes FOR STYLED_MODEL; *)

(* E2: SUBTYPE_CONSTRAINT exclusive_product_versions_203e2 FOR PRODUCT_VERSION; *)

(* E2: SUBTYPE_CONSTRAINT value_with_unit_subtypes FOR VALUE_WITH_UNIT; *)

(* E2: SUBTYPE_CONSTRAINT pos_detailed_geometric_model_element_subtypes FOR DETAILED_GEOMETRIC_MODEL_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT tbsa_detailed_geometric_model_element_subtypes FOR DETAILED_GEOMETRIC_MODEL_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT alternate_measure_items FOR MEASURE_ITEM; *)

(* E2: SUBTYPE_CONSTRAINT aa_representation_item_subtypes FOR REPRESENTATION_ITEM; *)

(* E2: SUBTYPE_CONSTRAINT type_qualifier_subtypes FOR TYPE_QUALIFIER; *)

(* E2: SUBTYPE_CONSTRAINT independent_property_subtypes FOR INDEPENDENT_PROPERTY; *)

(* E2: SUBTYPE_CONSTRAINT plib_or_external FOR INDEPENDENT_PROPERTY; *)

(* E2: SUBTYPE_CONSTRAINT c_representation_item_subtypes FOR REPRESENTATION_ITEM; *)

(* E2: SUBTYPE_CONSTRAINT representation_item_subtypes FOR REPRESENTATION_ITEM; *)

(* E2: SUBTYPE_CONSTRAINT exclusive_property_value_representation_characteristic FOR PROPERTY_VALUE_REPRESENTATION; *)

(* E2: SUBTYPE_CONSTRAINT alternate_annotation_elements FOR ANNOTATION_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT mdsp_surface_appearance_element_subtypes FOR SURFACE_APPEARANCE_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_organization_or_person_in_organization_assignment_subtypes FOR ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_address_assignment_subtypes FOR ADDRESS_ASSIGNMENT; *)

(* E2: SUBTYPE_CONSTRAINT ttr_string_representation_item_subtypes FOR STRING_REPRESENTATION_ITEM; *)

(* E2: SUBTYPE_CONSTRAINT alternate_extended_geometry_items FOR DETAILED_GEOMETRIC_MODEL_ELEMENT; *)


END_SCHEMA;

