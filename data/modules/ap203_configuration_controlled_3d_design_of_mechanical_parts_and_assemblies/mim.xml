<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="ap203_configuration_controlled_3d_design_of_mechanical_parts_and_assemblies_mim schema_instance"/>
   <schema name="Ap203_configuration_controlled_3d_design_of_mechanical_parts_and_assemblies_mim">
      <interface kind="use" schema="Activity_mim"/>
      <interface kind="use" schema="application_context_schema">
         <interfaced.item name="application_context"/>
         <interfaced.item name="product_context"/>
         <interfaced.item name="product_definition_context"/>
      </interface>
      <interface kind="use" schema="Configuration_controlled_3d_parts_and_assemblies_mim"/>
      <interface kind="use" schema="product_concept_schema">
         <interfaced.item name="product_concept_relationship"/>
      </interface>
      <interface kind="reference" schema="support_resource_schema">
         <interfaced.item name="type_check_function"/>
      </interface>
      <constant name="deprecated_interfaced_data_types" expression="['document_with_class',&#10;    'ordinal_date', &#10;    'product_definition_formation_with_specified_source', &#10;    'week_of_year_and_day_date']">
         <aggregate type="SET" lower="0" upper="?"/>
         <builtintype type="STRING"/>
      </constant>
      <constant name="deprecated_constructed_data_types" expression="['approved_item',&#10;    'certified_item', &#10;    'change_request_item', &#10;    'contracted_item', &#10;    'classified_item', &#10;    'date_time_item', &#10;    'person_organization_item', &#10;    'specified_item', &#10;    'start_request_item', &#10;    'work_item']">
         <aggregate type="SET" lower="0" upper="?"/>
         <builtintype type="STRING"/>
      </constant>
      <constant name="deprecated_entity_data_types" expression="['cc_design_approval',&#10;    'cc_design_certification', &#10;    'cc_design_contract', &#10;    'cc_design_date_and_time_assignment', &#10;    'cc_design_person_and_organization_assignment', &#10;    'cc_design_security_classification', &#10;    'cc_design_specification_reference', &#10;    'change', &#10;    'change_request', &#10;    'design_context', &#10;    'design_make_from_relationship', &#10;    'mechanical_context', &#10;    'start_request', &#10;    'start_work', &#10;    'supplied_part_relationship']">
         <aggregate type="SET" lower="0" upper="?"/>
         <builtintype type="STRING"/>
      </constant>
      <type name="action_item_203e2">
         <select basedon="action_items" selectitems="product_definition_formation_relationship"/>
      </type>
      <type name="action_request_item_203e2">
         <select basedon="action_request_item" selectitems="product_definition_formation_relationship"/>
      </type>
      <type name="approval_item_203e2">
         <select basedon="approval_item" selectitems="alternate_product_relationship assembly_component_usage_substitute certification contract document_file executed_action product product_definition product_definition_formation product_definition_relationship"/>
      </type>
      <type name="approved_item">
         <select selectitems="certification change change_request configuration_effectivity configuration_item contract product security_classification start_request start_work"/>
      </type>
      <type name="attribute_language_item_203e2">
         <select basedon="attribute_language_item" selectitems="alternate_product_relationship application_context applied_certification_assignment applied_identification_assignment applied_security_classification_assignment assembly_component_usage_substitute attribute_value_assignment configuration_design configuration_item descriptive_representation_item effectivity effectivity_relationship event_occurrence external_source general_property general_property_relationship geometric_representation_item geometric_tolerance make_from_usage_option mapped_item organization_role person_and_organization_role product_concept product_concept_relationship product_definition_context product_definition_formation product_definition_formation_relationship product_definition_shape product_related_product_category property_definition representation security_classification security_classification_assignment shape_aspect shape_aspect_relationship shape_representation time_interval_role topological_representation_item uncertainty_measure_with_unit uncertainty_qualifier"/>
      </type>
      <type name="certification_item_203e2">
         <select basedon="certification_item"/>
      </type>
      <type name="certified_item">
         <select selectitems="supplied_part_relationship"/>
      </type>
      <type name="change_request_item">
         <select selectitems="product_definition_formation"/>
      </type>
      <type name="classified_item">
         <select selectitems="assembly_component_usage product_definition_formation"/>
      </type>
      <type name="contract_item_203e2">
         <select basedon="contract_item" selectitems="executed_action product_definition_formation"/>
      </type>
      <type name="contracted_item">
         <select selectitems="product_definition_formation"/>
      </type>
      <type name="date_and_time_item_203e2">
         <select basedon="date_and_time_item" selectitems="applied_organization_assignment applied_person_and_organization_assignment approval_person_organization certification contract organizational_project product_definition product_definition_formation security_classification"/>
      </type>
      <type name="date_item_203e2">
         <select basedon="date_item" selectitems="applied_organization_assignment applied_person_and_organization_assignment approval_person_organization certification contract organizational_project product_definition product_definition_formation security_classification"/>
      </type>
      <type name="date_time_item">
         <select selectitems="approval_person_organization certification change change_request contract product_definition security_classification start_request start_work"/>
      </type>
      <type name="document_reference_item_203e2">
         <select basedon="document_reference_item" selectitems="product product_definition product_definition_formation product_definition_relationship"/>
      </type>
      <type name="effectivity_item_203e2">
         <select basedon="effectivity_item" selectitems="assembly_component_usage_substitute product product_definition product_definition_formation product_definition_relationship"/>
      </type>
      <type name="event_occurrence_item_203e2">
         <select basedon="event_occurrence_item" selectitems="organizational_project"/>
      </type>
      <type name="external_identification_item_203e2">
         <select basedon="external_identification_item" selectitems="document_file product_definition"/>
      </type>
      <type name="identification_item_203e2">
         <select basedon="identification_item" selectitems="approval_status document_file general_property organization product product_definition product_definition_formation security_classification security_classification_level shape_representation"/>
      </type>
      <type name="multi_language_attribute_item_203e2">
         <select basedon="multi_language_attribute_item" selectitems="alternate_product_relationship application_context applied_certification_assignment applied_identification_assignment assembly_component_usage_substitute attribute_value_assignment colour configuration_design configuration_item descriptive_representation_item effectivity effectivity_relationship event_occurrence external_source general_property general_property_relationship geometric_representation_item geometric_tolerance make_from_usage_option mapped_item organization_role person_and_organization_role product_concept product_concept_relationship product_definition_context product_definition_formation product_definition_formation_relationship product_definition_shape product_related_product_category property_definition representation representation_relationship security_classification security_classification_assignment shape_aspect shape_aspect_relationship shape_representation time_interval_role topological_representation_item uncertainty_measure_with_unit"/>
      </type>
      <type name="organization_item_203e2">
         <select basedon="organization_item" selectitems="alternate_product_relationship applied_action_assignment applied_identification_assignment applied_security_classification_assignment assembly_component_usage_substitute certification document_file general_property organizational_project product product_definition product_definition_formation product_definition_formation_relationship property_definition shape_representation"/>
      </type>
      <type name="organizational_project_item_203e2">
         <select basedon="project_item" selectitems="executed_action product_concept"/>
      </type>
      <type name="person_and_organization_item_203e2">
         <select basedon="person_and_organization_item" selectitems="alternate_product_relationship applied_action_assignment applied_security_classification_assignment assembly_component_usage_substitute certification document_file general_property organizational_project product product_definition product_definition_formation product_definition_formation_relationship property_definition shape_representation"/>
      </type>
      <type name="person_organization_item">
         <select selectitems="change change_request configuration_item contract product product_definition product_definition_formation security_classification start_request start_work"/>
      </type>
      <type name="security_classification_item_203e2">
         <select basedon="security_classification_item" selectitems="document_file product_definition product_definition_formation product_definition_usage"/>
      </type>
      <type name="specified_item">
         <select selectitems="product_definition shape_aspect"/>
      </type>
      <type name="start_request_item">
         <select selectitems="product_definition_formation"/>
      </type>
      <type name="time_interval_item_203e2">
         <select basedon="time_interval_item" selectitems="time_interval_based_effectivity"/>
      </type>
      <type name="work_item">
         <select selectitems="product_definition_formation"/>
      </type>
      <entity name="cc_design_approval" supertypes="approval_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="approved_item"/>
         </explicit>
      </entity>
      <entity name="cc_design_certification" supertypes="certification_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="certified_item"/>
         </explicit>
      </entity>
      <entity name="cc_design_contract" supertypes="contract_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="contracted_item"/>
         </explicit>
      </entity>
      <entity name="cc_design_date_and_time_assignment" supertypes="date_and_time_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="date_time_item"/>
         </explicit>
      </entity>
      <entity name="cc_design_person_and_organization_assignment" supertypes="person_and_organization_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="person_organization_item"/>
         </explicit>
         <where label="WR1" expression="cc_design_person_and_organization_correlation(SELF)"/>
      </entity>
      <entity name="cc_design_security_classification" supertypes="security_classification_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="classified_item"/>
         </explicit>
      </entity>
      <entity name="cc_design_specification_reference" supertypes="document_reference">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="specified_item"/>
         </explicit>
      </entity>
      <entity name="change" supertypes="action_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="work_item"/>
         </explicit>
      </entity>
      <entity name="change_request" supertypes="action_request_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="change_request_item"/>
         </explicit>
      </entity>
      <entity name="design_context" supertypes="product_definition_context">
         <where label="WR1" expression="SELF.life_cycle_stage = 'design'"/>
      </entity>
      <entity name="design_make_from_relationship" supertypes="product_definition_relationship"/>
      <entity name="mechanical_context" supertypes="product_context">
         <where label="WR1" expression="SELF.discipline_type = 'mechanical'"/>
      </entity>
      <entity name="start_request" supertypes="action_request_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="start_request_item"/>
         </explicit>
      </entity>
      <entity name="start_work" supertypes="action_assignment">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="work_item"/>
         </explicit>
      </entity>
      <entity name="supplied_part_relationship" supertypes="product_definition_relationship"/>
      <function name="cc_design_person_and_organization_correlation">
         <parameter name="e">
            <typename name="cc_design_person_and_organization_assignment"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>LOCAL
    po_role : STRING;
  END_LOCAL;
    po_role := e\person_and_organization_assignment.role.name;
  CASE po_role OF
    'request_recipient'      : IF SIZEOF (e.items) &lt;&gt;
                                 SIZEOF (QUERY (x &lt;* e.items |
                                 SIZEOF(['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'CHANGE_REQUEST',
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'START_REQUEST'] *
                                 TYPEOF (x)) = 1))
                                 THEN RETURN(FALSE);
                               END_IF;
    'initiator'              : IF SIZEOF (e.items) &lt;&gt;
                                 SIZEOF (QUERY (x &lt;* e.items |
                                 SIZEOF(['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'CHANGE_REQUEST',
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'START_REQUEST',
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'START_WORK',
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'CHANGE'] *
                                 TYPEOF (x)) = 1))
                                 THEN RETURN(FALSE);
                               END_IF;
    'creator'                : IF SIZEOF (e.items) &lt;&gt;
                                 SIZEOF (QUERY (x &lt;* e.items |
                                 SIZEOF (['AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'PRODUCT_DEFINITION_FORMATION',
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'PRODUCT_DEFINITION'] *
                                 TYPEOF (x)) = 1))
                                 THEN RETURN (FALSE);
                               END_IF;
    'part_supplier'          : IF SIZEOF (e.items) &lt;&gt;
                                 SIZEOF (QUERY (x &lt;* e.items |
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'PRODUCT_DEFINITION_FORMATION'
                                 IN TYPEOF (x)))
                                 THEN RETURN(FALSE);
                               END_IF;
    'design_supplier'        : IF SIZEOF (e.items) &lt;&gt;
                                 SIZEOF (QUERY (x &lt;* e.items |
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'PRODUCT_DEFINITION_FORMATION'
                                 IN TYPEOF (x)))
                                 THEN RETURN(FALSE);
                               END_IF;
    'design_owner'           : IF SIZEOF (e.items) &lt;&gt;
                                 SIZEOF (QUERY (x &lt;* e.items |
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.PRODUCT'
                                 IN TYPEOF (x)))
                                 THEN RETURN(FALSE);
                               END_IF;
    'configuration_manager'  : IF SIZEOF (e.items) &lt;&gt;
                                 SIZEOF (QUERY (x &lt;* e.items |
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'CONFIGURATION_ITEM'
                                 IN TYPEOF (x)))
                                 THEN RETURN(FALSE);
                               END_IF;
    'contractor'             : IF SIZEOF (e.items) &lt;&gt;
                                 SIZEOF (QUERY (x &lt;* e.items |
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.CONTRACT'
                                 IN TYPEOF (x)))
                                 THEN RETURN(FALSE);
                               END_IF;
    'classification_officer' : IF SIZEOF (e.items) &lt;&gt;
                                 SIZEOF (QUERY (x &lt;* e.items |
                                 'AP203_CONFIGURATION_CONTROLLED_3D_DESIGN_OF_MECHANICAL_PARTS_AND_ASSEMBLIES_MIM.' +
                                 'SECURITY_CLASSIFICATION'
                                 IN TYPEOF (x))) THEN
                                 RETURN(FALSE);
                               END_IF;
    OTHERWISE : RETURN(TRUE);
  END_CASE;
  RETURN (TRUE);</algorithm>
      </function>
   </schema>
</express>
