(*
   $Id: mim.exp,v 1.27 2017/09/11 15:48:22 verodub Exp $
   WG12 N9797 - ISO/TS - 10303-409 ap209_multidisciplinary_analysis_and_design - EXPRESS MIM
*)
SCHEMA Ap209_multidisciplinary_analysis_and_design_mim;

USE FROM Analysis_assignment_mim;   -- ISO/TS 10303-1474
USE FROM Analysis_characterized_mim;   -- ISO/TS 10303-1475
USE FROM Analysis_identification_mim;   -- ISO/TS 10303-1476
USE FROM Analysis_mim;   -- ISO/TS 10303-1372
USE FROM Analysis_product_relationships_mim;   -- ISO/TS 10303-1373
USE FROM Analysis_representation_mim;   -- ISO/TS 10303-1785
USE FROM Analysis_shape_mim;   -- ISO/TS 10303-1374
USE FROM Ap242_managed_model_based_3d_engineering_mim;   -- ISO/TS 10303-442
USE FROM Cfd_equations_mim;   -- ISO/TS 10303-1376
USE FROM Cfd_model_mim;   -- ISO/TS 10303-1377
USE FROM Cfd_results_mim;   -- ISO/TS 10303-1378
USE FROM Cfd_specified_general_property_mim;   -- ISO/TS 10303-1379
USE FROM Fea_definition_relationships_mim;   -- ISO/TS 10303-1380
USE FROM Fea_material_aspects_mim;   -- ISO/TS 10303-1769
USE FROM Finite_element_analysis_mim;   -- ISO/TS 10303-1381
USE FROM Finite_element_shape_mim;   -- ISO/TS 10303-1382
USE FROM Finite_elements_mim;   -- ISO/TS 10303-1383
USE FROM iso13584_generic_expressions_schema;     -- ISO 13584-20
USE FROM iso13584_expressions_schema;             -- ISO 13584-20
USE FROM mathematical_functions_schema;           -- ISO 10303-50
USE FROM Mesh_connectivity_mim;   -- ISO/TS 10303-1384
USE FROM Mesh_function_mim;   -- ISO/TS 10303-1385
USE FROM Mesh_topology_mim;   -- ISO/TS 10303-1386
USE FROM Part_view_definition_mim;   -- ISO/TS 10303-1023
USE FROM Product_analysis_mim;   -- ISO/TS 10303-1387

TYPE ap209e2_analysis_approval_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON approval_item WITH
  (control,
   fea_model,
   result,
   temporal_spatial_domain);
END_TYPE;

TYPE ap209e2_analysed_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON analysed_item WITH
  (product_definition,
   fea_model,
   temporal_spatial_domain);
END_TYPE;

TYPE ap209e2_groupable_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON groupable_item WITH
  (address,
   applied_approval_assignment,
   applied_classification_assignment,
   applied_document_reference,
   applied_external_identification_assignment,
   applied_group_assignment,
   applied_organization_assignment,
   applied_person_and_organization_assignment,
   applied_security_classification_assignment,
   approval,
   approval_person_organization,
   approval_relationship,
   approval_status,
   assembly_component_usage,
   calendar_date,
   class,
   control,
   coordinated_universal_time_offset,
   date_and_time,
   date_and_time_assignment,
   date_assignment,
   derived_unit,
   derived_unit_element,
   document_file,
   document_relationship,
   external_source,
   fea_model,
   general_property,
   general_property_relationship,
   group,
   local_time,
   measure_qualification,
   measure_with_unit,
   multi_language_attribute_assignment,
   named_unit,
   numerical_model,
   organization,
   organization_relationship,
   person,
   person_and_organization,
   precision_qualifier,
   product,
   product_definition_context,
   product_definition_formation_relationship,
   product_definition_group_assignment,
   product_definition_relationship,
   product_relationship,
   property_definition,
   representation_context,
   representation_relationship,
   result,
   security_classification,
   state,
   state_definition,
   state_relationship,
   type_qualifier,
   uncertainty_qualifier);
END_TYPE;

TYPE ap209e2_analysis_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT  BASED_ON identification_item WITH
  (product_definition_relationship);
END_TYPE;

--TYPE ap209e2_representation_proxy_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON representation_proxy_select WITH 
--   (product_definition_formation);
--END_TYPE; 

RULE ap209_application_protocol_definition_required FOR
    (application_context);
WHERE
  WR1:  SIZEOF( QUERY( ac <* application_context |
              (SIZEOF (QUERY (apd <* USEDIN(ac,'APPLICATION_CONTEXT_SCHEMA.APPLICATION_PROTOCOL_DEFINITION.APPLICATION') |
                (apd.application_interpreted_model_schema_name = 'ap209_multidisciplinary_analysis_and_design')
                )) > 0)
              )) > 0;
END_RULE;


END_SCHEMA;

