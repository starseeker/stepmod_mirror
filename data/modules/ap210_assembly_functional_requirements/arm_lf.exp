(*
   $Id: arm_lf.exp,v 1.15 2006/10/27 09:22:49 liutkus Exp $
   ISO TC184/SC4/WG3 N1951 - ISO/TS 10303-1605 AP210 assembly functional requirements - EXPRESS ARM
   Supersedes ISO TC184/SC4/WG3 N1690
*)



SCHEMA Ap210_assembly_functional_requirements_arm_LF;

CONSTANT

Pre_defined_approval_status_types : SET OF STRING := [
 'approved',
 'disapproved',
 'withdrawn',
 'not yet approved']	;

Pre_defined_security_classification_types : SET OF STRING := [
 'unclassified',
 'classified',
 'proprietary',
 'confidential',
 'secret',
 'top secret'];

Pre_defined_address_assignment_types : SET OF STRING := [
 'delivery address',
 'postal address',
 'visitor address'];

Pre_defined_organization_or_person_in_organization_assignment_types : SET OF STRING := [
 'author',
 'classification officer',
 'creator',
 'custodian',
 'customer',
 'design supplier',
 'editor',
 'id owner',
 'location',
 'manufacturer',
 'owner',
 'read access',
 'supplier',
 'wholesaler',
 'write access',
 'organization in contract'];

Pre_defined_activity_relationship_types : SET OF STRING := [
 'alternative',
 'decomposition',
 'derivation',
 'exclusiveness',
 'precedence',
 'sequence',
 'simultaneity'];

Pre_defined_approval_types : SET OF STRING := [
 'disposition',
 'equipment order',
 'planning'];

Pre_defined_date_or_date_time_assignment_types : SET OF STRING := [
 'creation',
 'installation',
 'production',
 'registration',
 'update',
 'planned',
 'actual',
 'start date',
 'end date',
 'release date',
 'request date'];

Pre_defined_work_request_types : SET OF STRING := [
 'change of standard',
 'cost reduction',
 'customer rejection',
 'customer request',
 'durability improvement',
 'government regulation',
 'production alignment',
 'procurement alignment',
 'production relief',
 'production requirement',
 'quality improvement',
 'security reason',
 'standardization',
 'supplier request',
 'technical improvement',
 'tool improvement'];

Pre_defined_work_request_status_types : SET OF STRING := [
 'in work',
 'issued',
 'proposed',
 'resolved'];

END_CONSTANT;

TYPE date_or_date_time_item = SELECT (
   Activity,
   Applied_activity_assignment,
   Certification,
   Contract,
   Digital_document_definition,
   Digital_file,
   Document_definition,
   Document_definition_relationship,
   Document_version,
   Hardcopy,
   Organization_or_person_in_organization_assignment,
   Physical_document_definition,
   Product_view_definition,
   Security_classification,
   Security_classification_assignment,
   Work_order,
   Work_request);
END_TYPE;


(* Pruned unused type: design_pdm_affected_item_select  *)


(* Pruned unused type: design_pdm_assigned_name_select  *)


(* Pruned unused type: design_approval_item  *)


(* Pruned unused type: design_pdm_certification_item  *)


(* Pruned unused type: design_pdm_classification_item  *)


(* Pruned unused type: design_pdm_classified_attribute_select  *)


(* Pruned unused type: design_pdm_contract_item  *)


(* Pruned unused type: design_pdm_date_or_date_time_item  *)


(* Pruned unused type: design_pdm_documented_element_select  *)


(* Pruned unused type: design_pdm_identification_item  *)


(* Pruned unused type: design_pdm_groupable_item  *)


(* Pruned unused type: design_pdm_material_item_select  *)


(* Pruned unused type: design_pdm_organization_or_person_in_organization_item  *)


(* Pruned unused type: design_pdm_requirement_assignment_item  *)


(* Pruned unused type: design_pdm_requirement_source_item  *)


(* Pruned unused type: design_pdm_security_classification_item  *)


  TYPE evaluation_result_value = ENUMERATION OF
    (pass,
     fail,
     undefined);
  END_TYPE;

  TYPE evaluation_type = ENUMERATION OF
    (not_evaluatable,
     invalid,
     valid,
     to_be_evaluated);
  END_TYPE;

(* Pruned unused type: tra_requirement_assignment_item  *)


(* Pruned unused type: pdm_activity_item  *)


(* Pruned unused type: pdm_affected_item_select  *)


(* Pruned unused type: pdm_approval_item  *)


(* Pruned unused type: pdm_certification_item  *)


(* Pruned unused type: pdm_classification_item  *)


(* Pruned unused type: pdm_date_or_date_time_item  *)


(* Pruned unused type: pdm_documented_element_select  *)


(* Pruned unused type: pdm_effectivity_item  *)


(* Pruned unused type: pdm_event_item  *)


(* Pruned unused type: pdm_external_class_assigned_name_select  *)


(* Pruned unused type: pdm_identification_item  *)


(* Pruned unused type: pdm_organization_or_person_in_organization_item  *)


(* Pruned unused type: pdm_project_item  *)


(* Pruned unused type: pdm_security_classification_item  *)


(* Pruned unused type: pdm_string_select  *)


(* Pruned unused type: pdm_time_interval_item  *)


(* Pruned unused type: classification_item_extended  *)


TYPE classified_element_select = SELECT (
   Product,
   Product_version,
   Product_view_definition);
END_TYPE;


TYPE external_class_select = SELECT(Plib_class_reference, External_class);
END_TYPE;

TYPE definable_objects = SELECT (
 Product, 
 Product_version, 
 Product_view_definition);
END_TYPE;

TYPE classification_item = SELECT (
   Activity,
   Activity_method,
   Activity_method_assignment,
   Activity_property,
   Activity_relationship,
   Address,
   Address_assignment,
   Affected_items_assignment,
   Alternate_product_relationship,
   Applied_activity_assignment,
   Approval,
   Approval_assignment,
   Approval_relationship,
   Approval_status,
   Approving_person_organization,
   Assembly_relationship_substitution,
   Assigned_property,
   Attribute_translation_assignment,
   Calendar_date,
   Certification,
   Certification_assignment,
   Characterizable_object,
   Class,
   classified_element_select,
   Context_dependent_unit,
   Contract,
   Contract_assignment,
   Conversion_based_unit,
   Date_or_date_time_assignment,
   Date_time,
   definable_objects,
   Derived_unit,
   Digital_document_definition,
   Digital_file,
   Directed_activity,
   Document_assignment,
   Effectivity,
   Event,
   Event_assignment,
   External_source_identification,
   File,
   File_relationship,
   Identification_assignment,
   Independent_property,
   Independent_property_relationship,
   Independent_property_representation,
   Language,
   Material_identification_with_conductivity_classification,
   Numerical_item_with_unit,
   Organization,
   Organization_or_person_in_organization_assignment,
   Organization_relationship,
   Part_view_definition,
   Person,
   Product,
   Product_category,
   Product_concept,
   Product_configuration,
   Product_version,
   Product_version_relationship,
   Product_view_definition,
   Project,
   Project_assignment,
   Project_relationship,
   Representation,
   Representation_context,
   Representation_item,
   Security_classification,
   Security_classification_assignment,
   String_representation_item,
   Uncertainty_with_unit,
   Value_with_unit,
   View_definition_context,
   View_definition_relationship,
   Work_order,
   Work_request,
   Work_request_status);
END_TYPE;


(* Pruned unused type: external_class_assigned_name_select  *)


TYPE limit_qualifier_list = ENUMERATION OF 
   (minimum,
    maximum);
END_TYPE; 

TYPE material_item_select = SELECT (
   Assembly_bond_definition,
   Bare_die_template_terminal,
   Bare_die_terminal,
   Filled_via_template,
   Package_body,
   Package_terminal_template_definition,
   Packaged_part,
   Part_view_definition,
   Passage_technology,
   Predefined_requirement_view_definition,
   Stratum_technology);
END_TYPE;


TYPE material_property_select = SELECT (Material_property, General_material_property);
END_TYPE;

TYPE dependent_or_independent_property_representation = SELECT(
  Independent_property_representation,
  Property_representation);
END_TYPE;

TYPE groupable_item = SELECT (
   Assembly_component,
   Component_feature,
   Group_relationship,
   Part_connected_terminals_definition,
   Part_feature,
   Physical_connectivity_definition);
   WHERE
  WR1: NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GROUP' IN TYPEOF(SELF));
END_TYPE; 

(* Pruned unused type: pdpdms_external_identification_item  *)


TYPE requirement_assignment_item = SELECT (
   Assembly_component_relationship,
   Assembly_item_number,
   Assembly_joint,
   Component_bonding_relationship,
   Functional_unit,
   Group,
   Group_relationship,
   Part_feature,
   Part_template_keepout_shape_model,
   Part_view_definition,
   Passage_technology,
   Physical_connectivity_definition,
   Physical_connectivity_definition_relationship,
   Physical_connectivity_element,
   Physical_unit_keepout_shape_model,
   Physical_unit_shape_model,
   Product,
   Product_configuration,
   Product_version,
   Product_view_definition,
   Restraint_condition,
   Statistical_dimensional_location,
   Statistical_dimensional_size,
   Statistical_geometric_tolerance,
   Stratum_technology,
   Stratum_technology_occurrence,
   View_definition_relationship);
END_TYPE;


TYPE requirement_source_item = SELECT (
   Characterizable_object,
   Group,
   Group_relationship,
   Product,
   Product_version,
   Product_view_definition,
   Shape_element,
   View_definition_relationship);
END_TYPE;


TYPE activity_method_item = SELECT (
   Document,
   Document_version,
   Test_method_based_parameter_assignment);
END_TYPE;


TYPE classified_attribute_select = SELECT (
   Activity,
   Activity_method,
   Activity_method_assignment,
   Activity_property,
   Activity_property_representation,
   Activity_relationship,
   Address_assignment,
   Affected_items_assignment,
   Alternate_part_relationship,
   Applied_activity_assignment,
   Approval,
   Approval_assignment,
   Approval_relationship,
   Approval_status,
   Approving_person_organization,
   Assigned_property,
   Certification,
   Certification_assignment,
   Context_dependent_unit,
   Contract,
   Date_or_date_time_assignment,
   Descriptive_document_property,
   Digital_file,
   Document_assignment,
   Document_definition_relationship,
   Document_location_identification,
   Document_property_representation,
   Effectivity,
   Effectivity_assignment,
   Event_assignment,
   Event_relationship,
   External_item_identification,
   External_source_identification,
   File_location_identification,
   File_relationship,
   Group,
   Group_relationship,
   Hardcopy,
   Identification_assignment,
   Independent_property,
   Independent_property_relationship,
   Independent_property_representation,
   Language,
   Market,
   Numerical_document_property,
   Organization_or_person_in_organization_assignment,
   Organization_relationship,
   Part_view_definition,
   Partial_document_assignment,
   Person_in_organization,
   Product,
   Product_category,
   Product_concept,
   Product_version,
   Product_version_relationship,
   Product_view_definition,
   Project_assignment,
   Project_relationship,
   Property_representation,
   Representation,
   Representation_context,
   Representation_item,
   Security_classification,
   Time_interval_relationship,
   Uncertainty_with_unit,
   Unit,
   Value_with_unit,
   View_definition_context,
   View_definition_relationship,
   Work_order,
   Work_request,
   Work_request_status);
END_TYPE;


(* Pruned unused type: at_external_identification_item  *)


(* Pruned unused type: at_material_item_select  *)


(* Pruned unused type: at_property_assignment_select  *)


(* Pruned unused type: at_requirement_assignment_item  *)


  TYPE degree_of_freedom = ENUMERATION OF
    (x,
     y,
     z,
     u,
     v,
     w);
  END_TYPE;

TYPE assembled_feature_select = SELECT (
   Bare_die_component_terminal,
   Component_mounting_feature,
   Packaged_component_join_terminal,
   Packaged_connector_component_interface_terminal);
END_TYPE;


TYPE assembly_module_or_assembly_group_component = SELECT (
   Assembly_module);
END_TYPE;


(* Pruned unused type: ap_documented_element_select  *)


(* Pruned unused type: ap_external_identification_item  *)


  TYPE predefined_geometric_status = ENUMERATION OF
    (undefined,
     standard_datum_condition,
     perpendicular_primary_datum_axis,
     perpendicular_primary_datum_plane);
  END_TYPE;

  	TYPE mounting_technology_type = ENUMERATION OF
    	(surface_mount,
     	through_hole);
  	END_TYPE;

(* Pruned unused type: pa_ee_product_definition_with_annotation_elements  *)


(* Pruned unused type: pa_external_identification_item  *)


(* Pruned unused type: pa_material_item_select  *)


  TYPE predefined_lead_form = ENUMERATION OF
    (gull_wing,
     j_lead,
     reversed_j_lead,
     integral_terminal,
     undefined,
     ball,
     straight);
  END_TYPE;

  TYPE seating_plane_intersection_type = ENUMERATION OF
    (surface_intersection,
     through_intersection,
     does_not_intersect);
  END_TYPE;

 	TYPE interface_plane_or_seating_plane =  SELECT
		(Seating_plane,
		 Interface_plane);
	END_TYPE;

(* Pruned unused type: bd_ee_product_definition_with_annotation_elements  *)


(* Pruned unused type: bd_material_item_select  *)


	TYPE derived_zone_shape_class = ENUMERATION OF(
		area,
		edge);
	END_TYPE;

  TYPE extend_or_chord_2_extend_or_truncate_or_round = ENUMERATION OF
    (truncate,
     chord_2_extend,
     round,
     extend);
  END_TYPE;

  TYPE extend_or_truncate = ENUMERATION OF
    (truncate,
     extend);
  END_TYPE;

TYPE text_alignment = ENUMERATION OF(
          top_right,
          top_centre,
          top_left,
          centre_right,
          centre_centre,
          centre_left,
          bottom_right,
          bottom_centre,
          bottom_left );
   END_TYPE;

  TYPE square_or_round = ENUMERATION OF
    (square,
     round);
  END_TYPE;

(* Pruned unused type: pie_external_identification_item  *)


(* Pruned unused type: fdtd_managed_design_object  *)


(* Pruned unused type: dm_approval_item  *)


TYPE managed_design_object = SELECT (
   Design_functional_unit_allocation_to_assembly_component,
   Design_functional_unit_allocation_to_reference_functional_unit,
   Product_view_definition);
END_TYPE;


TYPE approval_item = SELECT (
   Activity,
   Applied_activity_assignment,
   Certification,
   Contract,
   Digital_document_definition,
   Document_definition,
   Document_definition_relationship,
   Document_version,
   Effectivity,
   Frozen_assignment,
   Group,
   Group_relationship,
   Independent_property_relationship,
   Item_usage_effectivity,
   Physical_document_definition,
   Product_configuration,
   Product_version,
   Product_view_definition,
   Requirement_assignment,
   Security_classification,
   Supplied_part_relationship,
   Work_order,
   Work_request);
END_TYPE;


TYPE date_or_date_time_select = SELECT
   (Calendar_date, 
    Date_time);
END_TYPE; 

TYPE day_in_month_number = INTEGER;
WHERE
  WR1: {1 <= SELF <= 31};
END_TYPE; 

TYPE hour_in_day = INTEGER;
WHERE
  WR1: { 0 <= SELF < 24 };
END_TYPE; 

TYPE minute_in_hour = INTEGER;
WHERE
  WR1: { 0 <= SELF <= 59 };
END_TYPE; 

TYPE month_in_year_number = INTEGER;
WHERE
  WR1: { 1 <= SELF <= 12 };
END_TYPE; 

TYPE offset_orientation = ENUMERATION OF 
   (ahead,
    exact,
    behind);
END_TYPE; 

TYPE second_in_minute = REAL;
WHERE
  WR1: { 0 <= SELF <= 60.0 };
END_TYPE; 

TYPE year_number = INTEGER;
END_TYPE; 

TYPE organization_or_person_in_organization_select = SELECT
   (Organization, 
    Person_in_organization);
END_TYPE; 

	TYPE assembly_component_or_item_number = SELECT
    	(Assembly_item_number,
    	 Assembly_component_relationship,
    	 Next_assembly_usage);
	END_TYPE;

	TYPE assembly_item_number_or_process_specification = SELECT
    	(Assembly_item_number,
    	 Process_specification);
	END_TYPE;

(* Pruned unused type: pudv_groupable_item  *)


(* Pruned unused type: pudv_physical_unit  *)


(* Pruned unused type: pudv_extended_value_with_unit  *)


(* Pruned unused type: pudv_requirement_assignment_item  *)


	TYPE textual_quantity_specification = STRING;
	END_TYPE;

  TYPE bus_structural_definition_or_node = SELECT
    (Functional_unit_network_node_definition,
     Bus_structural_definition);
  END_TYPE;

(* Pruned unused type: nfdw_requirement_assignment_item  *)


(* Pruned unused type: pcd_groupable_item  *)


(* Pruned unused type: pcd_requirement_assignment_item  *)


(* Pruned unused type: pcd_documented_element_select  *)


TYPE termination_or_junction = SELECT (
   Component_terminal,
   Topological_junction);
END_TYPE;


(* Pruned unused type: amwpcc_assembled_feature_select  *)


  TYPE correlated_or_independent = SELECT
    (Property_value_representation,
     characteristic);
  END_TYPE;

  TYPE physical_unit_or_part_template = SELECT (Part_view_definition, Template_definition);
  END_TYPE;

(* Pruned unused type: cf_groupable_item  *)


TYPE feature_select = SELECT (
   Part_feature);
END_TYPE;


(* Pruned unused type: rd_requirement_assignment_item  *)


  TYPE material_conductivity_classification = ENUMERATION OF
    (conductive,
     resistive,
     semi_conductive,
     non_conductive);
  END_TYPE;

	TYPE characteristic_select = SELECT
	   (Property_value_representation,
	   characteristic);
	END_TYPE; 

(* Pruned unused type: rd_documented_element_select  *)


(* Pruned unused type: rd_material_item_select  *)


(* Pruned unused type: rd_property_assignment_select  *)


	TYPE relationship_operation = ENUMERATION OF
    	(and_operation,
		or_operation);
	END_TYPE;

(* Pruned unused type: pr_identification_item  *)


(* Pruned unused type: pr_organization_or_person_in_organization_item  *)


TYPE clause_select = SELECT (Simple_clause, Complex_clause);
END_TYPE;

TYPE constants = SELECT (
   any_number_value,
   any_string_value,
   Logical_representation_item);
END_TYPE;


TYPE function_symbol = SELECT (any_string_value, built_in_functions);
END_TYPE;

TYPE built_in_functions = ENUMERATION OF (
   attr_val);
END_TYPE;


TYPE expression_syntax = ENUMERATION OF (
   express);
END_TYPE;


(* Pruned unused type: pr_documented_element_select  *)


TYPE predicate_symbol = STRING;
END_TYPE;

TYPE scope_select = SELECT (Rule_definition, Rule_set, Rule_set_group);
END_TYPE;

TYPE term_select = SELECT (Symbol, constants, Func, Scalar_variable, Row_value, Row_variable); 
END_TYPE;

(* Pruned unused type: fatp_groupable_item  *)


(* Pruned unused type: fuuv_am_port_assignment_select  *)


  TYPE material_state_change_enumeration = ENUMERATION OF
    (material_addition,
     material_removal);
  END_TYPE;

TYPE physical_unit = SELECT (
   Part_design_view,
   Part_usage_view);
END_TYPE;


(* Pruned unused type: puuv_groupable_item  *)


(* Pruned unused type: puuv_requirement_assignment_item  *)


(* Pruned unused type: puuv_documented_element_select  *)


(* Pruned unused type: puuv_usage_concept  *)


(* Pruned unused type: cma_classification_item  *)


(* Pruned unused type: cma_material_item_select  *)


TYPE cartesian_transformation = SELECT (Cartesian_transformation_2d, Cartesian_transformation_3d);
END_TYPE;

(* Pruned unused type: geometric_mapping_target  *)


TYPE any_number_value = NUMBER;
END_TYPE; 

TYPE any_string_value = STRING;
END_TYPE; 

TYPE length_measure = REAL;
END_TYPE; 

TYPE measure_value = SELECT (
   any_number_value,
   any_string_value,
   length_measure,
   plane_angle_measure);
END_TYPE;


TYPE plane_angle_measure = REAL;
END_TYPE; 

(* Pruned unused type: fs_documented_element_select  *)


(* Pruned unused type: fs_external_identification_item  *)


(* Pruned unused type: s_external_identification_item  *)


(* Pruned unused type: sd_documented_element_select  *)


(* Pruned unused type: design_activity_method_item  *)


TYPE activity_item = SELECT (
   Item_usage_effectivity,
   Product_version,
   Product_view_definition,
   View_definition_relationship);
END_TYPE;


TYPE identification_item = SELECT (
   alias_identification_item,
   Approval_status,
   Contract,
   Digital_document_definition,
   Digital_file,
   Document,
   Document_version,
   Group,
   Group_relationship,
   Hardcopy,
   Material_identification,
   Organization,
   Physical_document_definition,
   Product,
   Product_category,
   product_class,
   Product_concept,
   Product_configuration,
   Product_version,
   Requirement,
   Requirement_version,
   Requirement_view_definition,
   Rule_set,
   Security_classification,
   Shape_element_relationship);
END_TYPE;


(* Pruned unused type: requirement_view_definition_identification_item  *)


(* Pruned unused type: am_external_identification_item  *)


(* Pruned unused type: am_documented_element_select  *)


TYPE analytical_model_port_assignment_select = SELECT (
   Functional_unit_usage_view_terminal_definition);
END_TYPE;


  TYPE model_parameter_type = ENUMERATION OF
    (string_property_type,
     boolean_property_type,
     logical_property_type,
     numeric_property_type,
     physical_property_type);
  END_TYPE;

  TYPE signal_flow_direction = ENUMERATION OF
    (unknown_direction,
     not_applicable,
     output_direction,
     input_direction,
     bidirectional);
  END_TYPE;

(* Pruned unused type: mp_activity_method_item_select  *)


(* Pruned unused type: mp_groupable_item  *)


(* Pruned unused type: mp_documented_element_select  *)


TYPE certification_item = SELECT (
   Alternate_product_relationship,
   Product_version,
   Product_version_relationship);
END_TYPE;


TYPE version_or_definition = SELECT
   (Product_version, 
    Product_view_definition);
END_TYPE; 

TYPE contract_item = SELECT (
   Document_version,
   organization_or_person_in_organization_select,
   Product_version,
   Work_order);
END_TYPE;


TYPE assigned_document_select = SELECT 
  (Document,
   Document_definition,
   Document_version,
   File);
END_TYPE;

TYPE documented_element_select = SELECT (
   Activity,
   Activity_method,
   Analytical_model_definition,
   Class_with_attributes,
   External_item_identification,
   Externally_defined_size_dimension,
   Group,
   Group_relationship,
   Material_identification,
   Model_parameter,
   Part,
   Part_feature,
   Part_version,
   Part_view_definition,
   Passage_technology,
   Physical_connectivity_definition,
   Physical_connectivity_element,
   Predefined_requirement_view_definition,
   Product,
   Product_category,
   Product_configuration,
   Product_version,
   Product_version_relationship,
   Product_view_definition,
   Property_value_representation,
   Representation_item,
   Rule_set,
   Shape_element,
   Shape_element_relationship,
   Signal_specification,
   Stratum_technology,
   Surface_prepped_terminal,
   Work_request);
END_TYPE;


(* Pruned unused type: document_location_select  *)


(* Pruned unused type: located_select  *)


(* Pruned unused type: document_management_alias_identification_item  *)


(* Pruned unused type: document_management_approval_item  *)


(* Pruned unused type: document_management_contract_item  *)


(* Pruned unused type: document_management_date_or_date_time_item  *)


(* Pruned unused type: document_management_identification_item  *)


(* Pruned unused type: document_management_person_and_organization_item  *)


(* Pruned unused type: document_management_security_classification_item  *)


(* Pruned unused type: document_management_string_select  *)


(* Pruned unused type: ai_identification_item  *)


TYPE alias_identification_item = SELECT (
   Approval_status,
   Contract,
   Digital_document_definition,
   Digital_file,
   Document,
   Document_version,
   Hardcopy,
   Organization,
   Physical_document_definition,
   Security_classification);
END_TYPE;


TYPE external_identification_item = SELECT (
   Altered_package,
   Assembly_bond_definition,
   Composite_signal_property_relationship,
   Digital_analytical_model_vector_port,
   Document_definition,
   Documentation_layer_technology,
   Externally_defined_activity_relationship,
   Externally_defined_address_assignment,
   Externally_defined_approval,
   Externally_defined_approval_status,
   Externally_defined_date_or_date_time_assignment,
   Externally_defined_dimension_representation,
   Externally_defined_organization_or_person_in_organization_assignment,
   Externally_defined_security_classification,
   Externally_defined_view_definition,
   Externally_defined_work_request,
   Externally_defined_work_request_status,
   File,
   Functional_specification,
   Land_physical_template,
   Package,
   Package_terminal_template_definition,
   Part_template_keepout_shape_model,
   Physical_unit_keepout_shape_model,
   Signal,
   Signal_property);
END_TYPE;


TYPE descriptive_or_numerical = SELECT
   (Descriptive_document_property, 
    Numerical_document_property);
END_TYPE; 

TYPE document_property_item = property_assignment_select;
WHERE
  wr1 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM.ASSEMBLY_BOND_DEFINITION' IN TYPEOF(SELF));
  wr2 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM.CHARACTERIZABLE_OBJECT' IN TYPEOF(SELF));
  wr3 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM.PART_VIEW_DEFINITION' IN TYPEOF(SELF));
  wr4 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM.PASSAGE_TECHNOLOGY' IN TYPEOF(SELF));
  wr5 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM.PRODUCT_VIEW_DEFINITION' IN TYPEOF(SELF));
  wr6 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM.REQUIREMENT_VIEW_DEFINITION' IN TYPEOF(SELF));
  wr7 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM.SHAPE_ELEMENT' IN TYPEOF(SELF));
  wr8 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM.STRATUM_TECHNOLOGY' IN TYPEOF(SELF));
  wr9 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM.VIEW_DEFINITION_RELATIONSHIP' IN TYPEOF(SELF));
END_TYPE;


(* Pruned unused type: mri_alias_identification_item  *)


(* Pruned unused type: mri_approval_item  *)


(* Pruned unused type: mri_date_or_date_time_item  *)


(* Pruned unused type: mri_identification_item  *)


(* Pruned unused type: mri_organization_or_person_in_organization_item  *)


(* Pruned unused type: mri_string_select  *)


TYPE security_classification_item = SELECT (
   Assembly_component_relationship,
   Digital_document_definition,
   Digital_file,
   Document,
   Document_definition,
   Document_version,
   Hardcopy,
   Physical_document_definition,
   Product_version,
   Product_view_definition,
   Promissory_usage);
END_TYPE;


TYPE effectivity_item = SELECT (
   Part_definition_relationship,
   Product_version,
   Product_view_definition,
   View_definition_relationship);
END_TYPE;


TYPE date_or_event = SELECT
   (Calendar_date, 
    Date_time, 
    Event);
END_TYPE; 

TYPE event_item = SELECT (
   Project);
END_TYPE;


TYPE assigned_name_select = SELECT (
   External_class_library,
   Group,
   Group_relationship,
   Product,
   Product_view_definition);
END_TYPE;


(* Pruned unused type: idrm_marked_item  *)


TYPE property_assignment_select = SELECT (
   Assembly_bond_definition,
   Characterizable_object,
   Document_definition,
   File,
   Part_view_definition,
   Passage_technology,
   Product_view_definition,
   Requirement_view_definition,
   Shape_element,
   Stratum_technology,
   View_definition_relationship);
END_TYPE;


TYPE represented_definition = SELECT (
   Assigned_property,
   Independent_property);
END_TYPE;


TYPE string_select = SELECT (
   Approval,
   Approval_relationship,
   Approval_status,
   Certification,
   Contract,
   Date_or_date_time_assignment,
   Digital_document_definition,
   Document,
   Document_assignment,
   Document_definition_relationship,
   Document_version,
   External_item_identification,
   External_source_identification,
   File_relationship,
   Identification_assignment,
   Organization_relationship,
   Person_in_organization,
   Physical_document_definition,
   Product,
   Product_category,
   Product_version,
   Product_view_definition,
   Project,
   Project_assignment,
   Project_relationship,
   View_definition_relationship);
END_TYPE;


TYPE organization_or_person_in_organization_item = SELECT (
   Activity,
   Alias_identification,
   Applied_activity_assignment,
   Approval,
   Classification_assignment,
   Classification_association,
   Contract,
   Digital_document_definition,
   Digital_file,
   Document,
   Document_definition,
   Document_version,
   Hardcopy,
   Identification_assignment,
   Part,
   Part_version,
   Part_view_definition,
   Physical_document_definition,
   Product_configuration,
   Rule_action,
   Security_classification,
   Security_classification_assignment,
   Supplied_part_relationship,
   Work_order,
   Work_request);
END_TYPE;


TYPE project_item = SELECT (
   Activity,
   Product_concept);
END_TYPE;


TYPE characterized_activity_definition = SELECT (
   Activity,
   Activity_method);
END_TYPE;


(* Pruned unused type: ps_product_property_assignment  *)


(* Pruned unused type: product_property_assignment  *)


TYPE shape_dependent_select = SELECT
   (Item_shape, 
    Shape_element);
END_TYPE; 

TYPE shape_model = SELECT
   (External_geometric_model, 
    Geometric_model);
END_TYPE; 

TYPE shape_select = SELECT
   (Item_shape, 
    Shape_element, 
    Shape_element_relationship);
END_TYPE; 

TYPE shapeable_item = SELECT
   (Characterizable_object, 
    Product_view_definition, 
    View_definition_usage);
END_TYPE; 

(* Pruned unused type: spr_documented_element_select  *)


(* Pruned unused type: spr_product_property_assignment  *)


(* Pruned unused type: spr_organization_or_person_in_organization_item  *)


TYPE time_interval_item = SELECT (
   Activity);
END_TYPE;


TYPE affected_item_select = SELECT (
   Assigned_property,
   Product_version,
   Product_view_definition,
   View_definition_relationship,
   Work_request);
END_TYPE;


TYPE extended_value_with_unit = SELECT (
   textual_quantity_specification,
   Value_limit,
   Value_range,
   Value_with_unit);
END_TYPE;


(* Pruned unused type: requirement_identification_and_version_identification_item  *)


TYPE physical_feature_or_part_template = SELECT (
   Datum_feature);
END_TYPE;


  TYPE centre_type = ENUMERATION OF
    (centred_on_arc,
     centred_on_radial);
  END_TYPE;

  TYPE descriptive_or_geometric_orientation = SELECT
    (measure_orientation,
     Direction);
  END_TYPE;

  TYPE dimension_qualifiers = ENUMERATION OF
    (free_state,
     average);
  END_TYPE;

  TYPE dimensional_location_or_dimensional_size = SELECT
    (Size_dimension,
     Location_dimension);
  END_TYPE;

(* Pruned unused type: egt_external_identification_item  *)


(* Pruned unused type: egt_requirement_assignment_item  *)


  TYPE geometric_or_dimension_select = SELECT
    (Geometric_tolerance,
     Geometric_dimension);
  END_TYPE;

  TYPE geometric_tolerance_qualifiers = ENUMERATION OF
    (pitch_diameter,
     minor_diameter,
     each_element,
     major_diameter,
     each_radial_element,
     not_concave,
     not_convex,
     free_state);
  END_TYPE;

  TYPE locating_or_refinement_linear_profile_tolerance = SELECT
    (Line_profile_tolerance,
     Composite_linear_profile_refinement_tolerance);
  END_TYPE;

  TYPE locating_or_refinement_surface_profile_tolerance = SELECT
    (Surface_profile_tolerance,
     Composite_surface_profile_refinement_tolerance);
  END_TYPE;

  TYPE measure_orientation = ENUMERATION OF
    (reversed,
     normal);
  END_TYPE;

  TYPE offset_types = ENUMERATION OF
    (towards_material,
     away_from_material);
  END_TYPE;

  TYPE orientation_select = SELECT
    (Datum_axis_related_orientation,
     Viewing_plane_based_orientation,
     Datum_based_vector_orientation);
  END_TYPE;

  TYPE restrained_item_select = SELECT
    (Single_datum,
     physical_feature_or_part_template);
  END_TYPE;

TYPE true_profile_representations = SELECT (
   Dimension_set,
   Document_definition,
   Func);
END_TYPE;


TYPE cell_entry_select = SELECT
   (Plus_minus_toleranced_datum, 
    Upper_lower_toleranced_datum);
END_TYPE; 

TYPE default_context_select = SELECT
   (Item_shape);
END_TYPE; 

TYPE default_setting_select = SELECT (
   General_tolerances);
END_TYPE;


TYPE general_tolerance_table_select = SELECT (
   General_tolerance_table);
END_TYPE;


TYPE limit_select = SELECT
   (Significant_number_of_digits, 
    Upper_lower_limit);
END_TYPE; 

(* Pruned unused type: dimension_tolerance_document_element_select  *)


TYPE dimension_value_select = SELECT
   (Dimension_value_with_limitation, 
    Numerical_item_with_unit, 
    Tolerance_range, 
    Value_limit);
END_TYPE; 

TYPE element_with_dimension_select = SELECT (
   Shape_element);
END_TYPE;


TYPE limitation_definition_select = SELECT
   (Limits_and_fits, 
    Plus_minus_bounds);
END_TYPE; 

TYPE placed_element_select = SELECT (
   constructive_element_select,
   Derived_geometry,
   element_with_dimension_select);
END_TYPE;


TYPE constructive_geometry_select = SELECT
   (Constructive_geometry, 
    Geometric_model);
END_TYPE; 

TYPE constructive_element_select = SELECT (
   Axis_placement,
   Curve,
   point_select,
   Surface);
END_TYPE;


TYPE point_select = SELECT (
   Cartesian_point,
   Point_on_curve,
   Point_on_surface);
END_TYPE;


TYPE ee_product_definition_with_annotation_elements = SELECT (
   Bare_die,
   Package);
END_TYPE;


(* Pruned unused type: nfse_usage_concept  *)


(* Pruned unused type: nfse_feature_or_non_feature_usage  *)


TYPE view_shape_select = SELECT (
   Part_template_shape_model,
   Physical_unit_shape_model);
END_TYPE;


(* Pruned unused type: part_template_or_physical_unit_2d_shape_select  *)


(* Pruned unused type: sf_property_assignment_select  *)


	TYPE fill_area_style_select = SELECT
	   (Hatch_style, 
	    Tile_style);
	END_TYPE; 

(* Pruned unused type: ft_documented_element_select  *)


(* Pruned unused type: ft_material_item_select  *)


(* Pruned unused type: ft_property_assignment_select  *)


(* Pruned unused type: ft_requirement_assignment_item  *)


  TYPE land_template_terminal_class = ENUMERATION OF
    (surface_point_class,
     edge_curve_class,
     edge_point_class,
     surface_area_class);
  END_TYPE;

  TYPE layer_position_type = ENUMERATION OF
    (secondary,
     all,
     external,
     primary,
     internal);
  END_TYPE;

  TYPE layer_purpose = ENUMERATION OF
    (other_signal,
     lands_only,
     power_or_ground,
     embedded_passive_capacitor_dielectric,
     embedded_passive_resistor);
  END_TYPE;

(* Pruned unused type: mt_external_identification_item  *)


(* Pruned unused type: mt_usage_concept  *)


  TYPE predefined_documentation_layer_purpose = ENUMERATION OF
    (soldermask,
     solderpaste,
     silkscreen,
     generic_layer,
     glue,
     gluemask,
     pastemask);
  END_TYPE;

  TYPE stiffness_class = ENUMERATION OF
    (fluid_like,
     stiff_laminate);
  END_TYPE;

TYPE feature_or_non_feature_usage = SELECT (
   Usage_view_level_non_feature_shape_model);
END_TYPE;


TYPE usage_concept = SELECT (
   Land_template_terminal,
   Non_feature_shape_element,
   Part_feature);
END_TYPE;


(* Pruned unused type: ptswp_external_identification_item  *)


(* Pruned unused type: ptswp_requirement_assignment_item  *)


(* Pruned unused type: ptswp_view_shape_select  *)


(* Pruned unused type: effectivity_item_for_replacement  *)


  TYPE characteristic = SELECT
    (String_representation_item,
    Numerical_item_with_unit,
    Value_list,
    Value_set);
  END_TYPE;

(* Pruned unused type: c_documented_element_select  *)


	TYPE list_characteristic = LIST[1:?] OF characteristic;
	END_TYPE; 

  TYPE range_class = ENUMERATION OF
    (closed,
     lower_open,
     upper_open,
     open);
  END_TYPE;

  TYPE scalar_or_coordinated_characteristics = SELECT
    (Property_value_representation,
     characteristic);
  END_TYPE;

  TYPE value_qualifier = SELECT
    (Precision_qualifier,
     Type_qualifier,
     Uncertainty_qualifier);
  END_TYPE;

TYPE string_representation_item_select = SELECT(
    String_representation_item, 
    Included_text_block,
    Structured_text_composition);
END_TYPE; 

TYPE string_representation_item_list = LIST[1:?] OF
string_representation_item_select;
END_TYPE;

TYPE string_representation_item_set = SET[1:?] OF string_representation_item_select;
END_TYPE;

TYPE string_representation_item_list_or_set =
 SELECT(string_representation_item_list, string_representation_item_set); 
END_TYPE;

(* Pruned unused type: template_instance  *)


TYPE template_definition_select = SELECT (
   Geometric_model);
END_TYPE;


TYPE expression_operator = ENUMERATION OF (or_operator, and_operator, oneof_operator, not_operator);
END_TYPE;

TYPE specification_operand_select = SELECT
		(Specification_expression, Specification);
END_TYPE;

(* Pruned unused type: id_for_class  *)


(* Pruned unused type: specification_for_category  *)


  TYPE mass_property_quality = ENUMERATION OF
    (high,
     medium,
     low,
     is_unknown);
  END_TYPE;

(* Pruned unused type: puswp_external_identification_item  *)


(* Pruned unused type: puswp_requirement_assignment_item  *)


  TYPE shape_approximation_level = ENUMERATION OF
    (coarse,
     detailed,
     is_unknown);
  END_TYPE;

  TYPE shape_extent = ENUMERATION OF
    (envelope,
     over_body,
     over_lands,
     over_breakout);
  END_TYPE;

	TYPE package_or_package_external_reference = SELECT
  		(Package,
   		package_external_reference);
	END_TYPE;

(* Pruned unused type: ppbbm_material_item_select  *)


TYPE application_environment = ENUMERATION OF (
   end_user_application,
   manufacturing);
END_TYPE;


  TYPE keepout_product_design_object_category = ENUMERATION OF
    (assembly_module_assembly_component,
     assembly_module_component_feature,
     assembly_ee_material,
     interconnect_ee_material,
     interconnect_module_assembly_component,
     interconnect_module_via,
     interconnect_module_inter_stratum_feature,
     interconnect_module_cutout,
     interconnect_module_fill_area,
     interconnect_module_laminate_component,
     interconnect_module_stratum_feature);
  END_TYPE;

  TYPE material_condition = ENUMERATION OF
    (nominal_material_condition,
     minimum_material_condition,
     maximum_material_condition);
  END_TYPE;

  TYPE material_condition_property_names = ENUMERATION OF
    (maximum_material_principle,
     least_material_requirement);
  END_TYPE;

(* Pruned unused type: physical_unit_shape_model_select  *)


  TYPE predefined_keepout_purpose = ENUMERATION OF
    (thermal,
     generic_clearance,
     shock,
     vibration,
     electromagnetic_compatibility);
  END_TYPE;

TYPE composite_text_element_select = SELECT
   (Composite_presentable_text, 
    Presentable_text_item);
END_TYPE; 

TYPE font_select = SELECT (
  Draughting_pre_defined_text_font,
  Externally_defined_text_font);
END_TYPE;

ENTITY Alias_identification
SUBTYPE OF (Identification_assignment);
  SELF\Identification_assignment.items : SET [1 : ?] OF alias_identification_item;
DERIVE
  SELF\Identification_assignment.role : STRING := 'alias';
END_ENTITY;

  ENTITY Aggregate_connectivity_requirement;
      connectivity_requirement : SET [1:?] OF Functional_unit_network_node_definition;
  END_ENTITY;

  ENTITY Connectivity_allocation;
      implementation           : Physical_connectivity_definition;
      connectivity_requirement : Aggregate_connectivity_requirement;
    UNIQUE
      UR1 : implementation;
  END_ENTITY;

  ENTITY Physical_node_requirement_to_implementing_component_allocation;
      physical_node_requirement          : Physical_connectivity_definition;
      implementation_component           : Assembly_component;
      implementation_interface_joint_set : OPTIONAL SET[1:?] OF Interface_mounted_join;
      implementation_joint_set           : OPTIONAL SET[1:?] OF Assembly_joint;
    DERIVE
      implementation_connection_definition_1 : SET[0:1] OF part_connected_terminals_definition := get_pctd(implementation_component,
 implementation_joint_set);
      implementation_connection_definition_2 : SET[0:1] OF packaged_connector_terminal_relationship := get_pctr(implementation_component,
 implementation_interface_joint_set);
    WHERE
      WR1 : EXISTS(implementation_interface_joint_set) XOR EXISTS(implementation_joint_set);
      WR2 : (SIZEOF(implementation_connection_definition_1) + SIZEOF(implementation_connection_definition_2) = 1) OR (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.INTERFACE_COMPONENT' IN TYPEOF(implementation_component)) AND ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PHYSICAL_COMPONENT_INTERFACE_TERMINAL' IN TYPEOF(get_cit(implementation_component,
 implementation_joint_set)))) OR ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ROUTED_INTERCONNECT_COMPONENT' IN TYPEOF(implementation_component));
      WR3 : SIZEOF(QUERY(pct <* physical_node_requirement.associated_terminals | pct\Component_feature.associated_component = implementation_component)) = 0;
  END_ENTITY;

  ENTITY Evaluated_characteristic
    SUPERTYPE OF (
              RULE_BASED_EVALUATED_CHARACTERISTIC);
      planned_product_data          : Planned_characteristic;
      product_data_status           : evaluation_type;
      product_characterization_data : OPTIONAL SET[1:?] OF Property_value_representation;
      evaluation_result             : evaluation_result_value;
  END_ENTITY;

  ENTITY Evaluation_view_definition
    SUBTYPE OF (Product_view_definition);
      evaluated_product_definition : Product_view_definition;
      evaluation_data              : SET[1:?] OF Evaluated_characteristic;
    WHERE
      WR1 : TYPEOF(SELF) <> TYPEOF(evaluated_product_definition);
  END_ENTITY;

  ENTITY Planned_characteristic;
      reference_requirement              : Requirement_assignment;
      planned_coordinated_characteristic : Property_value_representation;
  END_ENTITY;

  ENTITY Rule_based_evaluated_characteristic
    SUBTYPE OF (Evaluated_characteristic);
      evaluating_rule : Rule_definition;
  END_ENTITY;

  ENTITY Test_requirement_allocation
    SUBTYPE OF (Requirement_assignment);
      SELF\Requirement_assignment.assigned_to : Product_version;

      analytical_model_based_test_access                : OPTIONAL SET[1:?] OF Analytical_model_port_assignment; --part_feature_model_port_assignment;

      functional_specification_based_test_access        : OPTIONAL SET[1:?] OF Functional_usage_view_to_part_terminal_assignment;

      SELF\Requirement_assignment.assigned_requirement : Predefined_requirement_view_definition;  -- assigned_requirement_property : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      assigned_requirement_property : PREDEFINED_REQUIREMENT_VIEW_DEFINITION := SELF\Requirement_assignment.assigned_requirement;  -- ASSIGNED_REQUIREMENT : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
 WHERE
      WR1 : EXISTS(analytical_model_based_test_access) XOR EXISTS(functional_specification_based_test_access);
      WR2 : NOT (EXISTS(functional_specification_based_test_access)) OR 
      (SIZEOF(QUERY(fa <* functional_specification_based_test_access | NOT 
      (fa.physical_usage_view_terminal\Shape_element.containing_shape.defined_version = SELF\Requirement_assignment.assigned_to))) = 0);
     WR3 : assigned_requirement_property\Product_view_definition.initial_context\View_definition_context.life_cycle_stage = 'test';
  END_ENTITY;

ENTITY Class_with_attributes
SUBTYPE OF (Class);
  version_id: OPTIONAL STRING;
  used_classification_system: OPTIONAL Classification_system;
INVERSE
  characterization_attributes: SET[0:?] OF Classification_attribute FOR characterized_class;
END_ENTITY;

ENTITY Class_hierarchy;
  super_class: Class_with_attributes;
  sub_class: Class_with_attributes;
END_ENTITY;

ENTITY Classification_association
SUBTYPE OF (Classification_assignment);
   SELF\Classification_assignment.assigned_class: Class_with_attributes;
   definitional: LOGICAL;
WHERE
WR1: SIZEOF(QUERY(it<* SELF\Classification_assignment.items |
     NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.DEFINABLE_OBJECTS' IN TYPEOF(it)) AND definitional ))=0;
WR2: SIZEOF(QUERY(it<* SELF\Classification_assignment.items |
     NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.CLASSIFIED_ELEMENT_SELECT' IN TYPEOF(it)) )) =0;
END_ENTITY;

ENTITY Classification_attribute;
   id: STRING;
   name: OPTIONAL STRING;
   description: OPTIONAL STRING;
   allowed_values: OPTIONAL SET[1:?] OF Measure_item;
   characterized_class: Class_with_attributes;
   attribute_definition: Independent_property;
END_ENTITY;

ENTITY Classification_system;
  id: STRING;
  description: OPTIONAL STRING;
END_ENTITY;

ENTITY External_class_with_attributes
SUBTYPE OF (Class_with_attributes);
  source: external_class_select;
END_ENTITY;

ENTITY Class
    SUPERTYPE OF ( ( ONEOF (
               CLASS_BY_EXTENSION,
               CLASS_BY_INTENSION) )ANDOR( (ONEOF (
               CONDUCTIVITY_MATERIAL_PROPERTY_CLASS,
               RELATIVE_PERMEABILITY_MATERIAL_PROPERTY_CLASS,
               RELATIVE_OPTICAL_INSERTION_LOSS_MATERIAL_PROPERTY_CLASS,
               RELATIVE_PERMITTIVITY_MATERIAL_PROPERTY_CLASS)) )  ) ;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Class_by_extension
  SUBTYPE OF (Class);
END_ENTITY;

ENTITY Class_by_intension
  SUBTYPE OF (Class);
END_ENTITY;

ENTITY Classification_assignment;
  assigned_class : Class;
  items : SET[1:?] OF classification_item;
  role : OPTIONAL STRING;
END_ENTITY;

ENTITY External_class
  SUBTYPE OF (Class);
  external_source : External_class_library;
END_ENTITY;

ENTITY External_class_library;
  id : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Measure_item_with_precision
  SUBTYPE OF (Measure_item);
  significant_digits : INTEGER;
END_ENTITY;

ENTITY Qualified_property_value_representation
  SUBTYPE OF (Property_value_representation);
  value_determination : OPTIONAL STRING;
  qualifier : OPTIONAL STRING;
END_ENTITY;

ENTITY Value_limit
  SUBTYPE OF (Measure_item);
  limit_qualifier : limit_qualifier_list;
  limit : Value_with_unit;
END_ENTITY;

ENTITY Value_limit_with_global_unit
  SUBTYPE OF (Measure_item);
  limit : Numerical_item_with_global_unit;
  limit_qualifier : limit_qualifier_list;
END_ENTITY;

ENTITY Value_list
  SUBTYPE OF (Measure_item);
  values : LIST[1:?] OF Measure_item;
END_ENTITY;

ENTITY Value_range
  SUBTYPE OF (Measure_item);
  lower_limit : Numerical_item_with_unit;
  upper_limit : Numerical_item_with_unit;
END_ENTITY;

ENTITY Value_range_with_global_unit
  SUBTYPE OF (Measure_item);
  lower_limit : Numerical_item_with_global_unit;
  upper_limit : Numerical_item_with_global_unit;
END_ENTITY;

ENTITY Value_set
  SUBTYPE OF (Measure_item);
  values : SET[1:?] OF Measure_item;
END_ENTITY;

ENTITY Value_with_tolerances
  SUBTYPE OF (Measure_item);
  item_value : Numerical_item_with_unit;
  lower_limit : REAL;
  upper_limit : REAL;
END_ENTITY;

ENTITY Plib_class_reference;
  code : STRING;
  supplier_bsu : STRING;
  version : STRING;
END_ENTITY;

ENTITY Product;
  id : STRING;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Product_category_assignment;
  category : Product_category;
  products : SET[1:?] OF Product;
END_ENTITY;

ENTITY Product_version;
  id : STRING;
  description : OPTIONAL STRING;
  of_product : Product;
END_ENTITY;

ENTITY Product_view_definition;
  id              	: OPTIONAL STRING;
  name  	      	: OPTIONAL STRING;
  additional_characterization	      : OPTIONAL STRING;
  initial_context 	: View_definition_context;
  additional_contexts   : SET [0:?] OF View_definition_context;
  defined_version  	: Product_version;
WHERE
  WR1: NOT (initial_context IN additional_contexts);
  WR2: EXISTS(id) OR (TYPEOF(SELF\Product_view_definition) <> TYPEOF(SELF));
END_ENTITY;

ENTITY View_definition_context;
  application_domain	: STRING;
  life_cycle_stage 	: STRING;
  description	 	: OPTIONAL STRING;
WHERE
  WR1: (SIZEOF (USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' +
    'PRODUCT_VIEW_DEFINITION.INITIAL_CONTEXT')) > 0) OR
    (SIZEOF (USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' +
    'PRODUCT_VIEW_DEFINITION.ADDITIONAL_CONTEXTS')) > 0);
END_ENTITY;

ENTITY Independent_property;
  id : STRING;
  property_type : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Independent_property_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating : Independent_property;
  related : Independent_property;
END_ENTITY;

 ENTITY Applied_independent_material_property SUBTYPE OF
    (Material_property, Applied_independent_property);
     SELF\Applied_independent_property.base_independent_property: General_material_property;
  END_ENTITY;

 ENTITY Data_environment;
  environment_name : STRING;
  description : OPTIONAL STRING;
  environment_characterization: SET[1:?] OF dependent_or_independent_property_representation;
 END_ENTITY;

 ENTITY Material_identification;
  material_name : STRING;
  items : SET[1:?] OF material_item_select;
 END_ENTITY;

 ENTITY Material_property
  SUBTYPE OF (Assigned_property);
 END_ENTITY;

 ENTITY Material_property_association;
  described_material : Material_identification;
  associated_property_value : Material_property_value_representation;
  definitional : OPTIONAL BOOLEAN;
 END_ENTITY;

 ENTITY Material_property_value_representation
  SUBTYPE OF (Property_definition_representation);
    environment_condition                                               : Data_environment;

    SELF\Property_definition_representation.definition : material_property_select;  -- property : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      property : MATERIAL_PROPERTY_SELECT := SELF\Property_definition_representation.definition;  -- DEFINITION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

 END_ENTITY;

 ENTITY General_material_property
  SUBTYPE OF (Independent_property);
  WHERE
    WR1:  SIZEOF(QUERY( aip <* USEDIN(SELF,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.APPLIED_INDEPENDENT_PROPERTY.'+
                     'BASE_INDEPENDENT_PROPERTY') |
               NOT
			('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.APPLIED_INDEPENDENT_MATERIAL_PROPERTY' IN
                    TYPEOF(aip)))) = 0;
 END_ENTITY;

ENTITY Group;
  id : OPTIONAL STRING;
  name : STRING;
  description : OPTIONAL STRING;
  elements : SET[0:?] OF groupable_item;
  membership_meaning : OPTIONAL STRING;
END_ENTITY;

ENTITY Group_relationship;
  description : OPTIONAL STRING;
  relation_type : STRING;
  relating_group : Group;
  related_group : Group;
END_ENTITY;

ENTITY Definition_based_part_occurrence
  SUBTYPE OF (Definition_based_product_occurrence, Part_occurrence);
  SELF\Definition_based_product_occurrence.derived_from : Part_view_definition;
END_ENTITY;

ENTITY Part_occurrence
   ABSTRACT SUPERTYPE
  SUBTYPE OF (Product_occurrence);
  SELF\Product_view_definition.defined_version : Part_version;
END_ENTITY;

ENTITY Part_occurrence_definition_relationship
  SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view : Part_view_definition;
  SELF\View_definition_relationship.related_view : Part_occurrence;
DERIVE
  SELF\View_definition_relationship.id : STRING :=
SELF\View_definition_relationship.related_view\Product_view_definition.id;
WHERE
  WR1: NOT (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ASSEMBLY_COMPONENT_RELATIONSHIP' IN
TYPEOF(SELF))AND (EXISTS(SELF\Assembly_component_relationship.quantity)));
END_ENTITY;

ENTITY Specification_based_part_occurrence
  SUBTYPE OF (Specification_based_product_occurrence, Part_occurrence);
END_ENTITY;

ENTITY Externally_defined_activity_relationship
    SUBTYPE OF (Activity_relationship);
INVERSE
  source : External_source_identification FOR item;
WHERE
  WR1: NOT (SELF\Activity_relationship.name IN Pre_defined_activity_relationship_types);
END_ENTITY;

ENTITY Externally_defined_security_classification
    SUBTYPE OF (Security_classification);
INVERSE
  source : External_source_identification FOR item;
WHERE
  WR1: NOT (SELF\Security_classification.classification_level IN Pre_defined_security_classification_types);
END_ENTITY;

ENTITY Externally_defined_address_assignment
    SUBTYPE OF (Address_assignment);
INVERSE
  source : External_source_identification FOR item;
WHERE
  WR1: (EXISTS(SELF\Address_assignment.address_type)) AND
       (NOT (SELF\Address_assignment.address_type IN Pre_defined_address_assignment_types));
END_ENTITY;

ENTITY Externally_defined_organization_or_person_in_organization_assignment
  SUBTYPE OF (Organization_or_person_in_organization_assignment);
INVERSE
  source : External_source_identification FOR item;
WHERE
  WR1: NOT (SELF\Organization_or_person_in_organization_assignment.role IN Pre_defined_organization_or_person_in_organization_assignment_types);
END_ENTITY;

ENTITY Externally_defined_approval_status
  SUBTYPE OF (Approval_status);
INVERSE
  source : External_source_identification FOR item;
WHERE
  WR1: NOT (SELF\Approval_status.status_name IN Pre_defined_approval_status_types);
END_ENTITY;

ENTITY Externally_defined_approval
  SUBTYPE OF (Approval);
INVERSE
  source : External_source_identification FOR item;
WHERE
  WR1: NOT (SELF\Approval.purpose IN Pre_defined_approval_types);
END_ENTITY;

ENTITY Externally_defined_date_or_date_time_assignment
  SUBTYPE OF (Date_or_date_time_assignment);
INVERSE
  source : External_source_identification FOR item;
WHERE
  WR1: NOT (SELF\Date_or_date_time_assignment.role IN Pre_defined_date_or_date_time_assignment_types);
END_ENTITY;

ENTITY Externally_defined_work_request
  SUBTYPE OF (Work_request);
INVERSE
  source : External_source_identification FOR item;
WHERE
  WR1: NOT (SELF\Work_request.purpose IN Pre_defined_work_request_types);
END_ENTITY;

ENTITY Externally_defined_work_request_status
  SUBTYPE OF (Work_request_status);
INVERSE
  source : External_source_identification FOR item;
WHERE
  WR1: NOT (SELF\Work_request_status.status IN Pre_defined_work_request_status_types);
END_ENTITY;

ENTITY Person_in_organization_relationship;
  description : OPTIONAL STRING; 
  relating : Person_in_organization;
  related : Person_in_organization;
  relation_type : STRING;
END_ENTITY;

ENTITY Pre_defined_activity_relationship
	SUBTYPE OF (Activity_relationship);
WHERE
  WR1: SELF\Activity_relationship.name IN Pre_defined_activity_relationship_types;
END_ENTITY;

ENTITY Pre_defined_security_classification
  SUBTYPE OF (Security_classification);
WHERE
  WR1: SELF\Security_classification.classification_level IN Pre_defined_security_classification_types;
END_ENTITY;

ENTITY Pre_defined_address_assignment
  SUBTYPE OF (Address_assignment);
WHERE
  WR1: SELF\Address_assignment.address_type IN Pre_defined_address_assignment_types;
END_ENTITY;

ENTITY Pre_defined_organization_or_person_in_organization_assignment
  SUBTYPE OF (Organization_or_person_in_organization_assignment);
WHERE
  WR1: SELF\Organization_or_person_in_organization_assignment.role IN Pre_defined_organization_or_person_in_organization_assignment_types; 
END_ENTITY;

ENTITY Pre_defined_approval_status
  SUBTYPE OF (Approval_status);
WHERE
  WR1: SELF\Approval_status.status_name IN Pre_defined_approval_status_types;
END_ENTITY;

ENTITY Pre_defined_approval
  SUBTYPE OF (Approval);
WHERE
  WR1: SELF\Approval.purpose IN Pre_defined_approval_types;
END_ENTITY;

ENTITY Pre_defined_date_or_date_time_assignment
  SUBTYPE OF (Date_or_date_time_assignment);
WHERE
  WR1: SELF\Date_or_date_time_assignment.role IN Pre_defined_date_or_date_time_assignment_types;
END_ENTITY;

ENTITY Pre_defined_work_request
  SUBTYPE OF (Work_request);
WHERE
  WR1: SELF\Work_request.purpose IN Pre_defined_work_request_types;
END_ENTITY;

ENTITY Pre_defined_work_request_status
  SUBTYPE OF (Work_request_status);
WHERE
  WR1: SELF\Work_request_status.status IN Pre_defined_work_request_status_types;
END_ENTITY;

ENTITY Requirement_assignment;
  id : STRING;
  description : OPTIONAL STRING;
  assigned_requirement : Requirement_view_definition;
  assigned_to : requirement_assignment_item;
END_ENTITY;

ENTITY Requirement_source;
  id : STRING;
  description : OPTIONAL STRING;
  source : requirement_source_item;
  sourced_requirement : Requirement_view_definition;
END_ENTITY;

ENTITY Requirement_collection_relationship
  SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view : Requirement_view_definition;  -- collection : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
  SELF\View_definition_relationship.related_view : Requirement_view_definition;  -- member : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      collection : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      member : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Tracing_relationship
  SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view : Requirement_view_definition;  -- traces_from : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
  SELF\View_definition_relationship.related_view : Requirement_view_definition;  -- traces_to : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      traces_from : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      traces_to : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

  ENTITY Test_select_product
    SUBTYPE OF (Alternate_product_relationship);
  WHERE
    WR1: NOT EXISTS (SELF\Alternate_product_relationship.criteria);
  END_ENTITY;

ENTITY Activity_method_relationship;
  name : STRING;
  description : OPTIONAL STRING;
  relating_method : Activity_method;
  related_method : Activity_method;
END_ENTITY;

ENTITY Applied_activity_method_assignment;
  assigned_activity_method : Activity_method;
  items : SET[1:?] OF activity_method_item;
  role : STRING;
END_ENTITY;

ENTITY Activity_method;
  name : STRING;
  description : OPTIONAL STRING;
  consequence : OPTIONAL STRING;
  purpose : STRING;
END_ENTITY;

ENTITY Attribute_classification;
  allowed_value : Class;
  attribute_name : STRING;
  classified_entity : SET[1:?] OF classified_attribute_select;
END_ENTITY;

  ENTITY Assembled_with_bonding
    SUBTYPE OF (Assembly_joint);
      default_bond_definition : Assembly_bond_definition;
    WHERE
      WR1 : SELF\Assembly_joint.assembly_feature_1.definition :=: default_bond_definition.bonded_feature_1;
      WR2 : SELF\Assembly_joint.assembly_feature_2.definition :=: default_bond_definition.bonded_feature_2;
  END_ENTITY;

  ENTITY Assembled_with_fasteners
    SUBTYPE OF (Assembly_joint);
      SELF\Shape_element.containing_shape : Assembly_group_component;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Assembly_bond_definition;
      name                                    : STRING;   
      analytical_assembly_bond_representation : OPTIONAL SET[1:?] OF Analytical_model_application;
      associated_definition                   : Externally_defined_view_definition;
      bonded_feature_1                        : Part_feature;
      bonded_feature_2                        : Part_feature;
    INVERSE
      default_shape : SET[0:1] OF default_assembly_bond_shape_model FOR shape_characterized_definition;
	  bond_category	: External_source_identification FOR item;
	  bond_material : material_identification FOR items;      
    UNIQUE
      UR1 : name;
      UR2 : associated_definition;
    WHERE
      WR1 : bonded_feature_1 <> bonded_feature_2;
      WR2 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (bond_material);
  END_ENTITY;

  ENTITY Assembly_joint
    SUPERTYPE OF (
              ASSEMBLED_WITH_FASTENERS
              ANDOR 
              ASSEMBLED_WITH_BONDING)
  SUBTYPE OF (Component_feature_joint);
      SELF\Shape_element_relationship.relating : assembled_feature_select;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
      SELF\Shape_element_relationship.related : assembled_feature_select;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
      SELF\Shape_element.containing_shape : assembly_module_or_assembly_group_component;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
    DERIVE
      assembly_feature_1 : ASSEMBLED_FEATURE_SELECT := SELF\Component_feature_joint.feature_1;  -- FEATURE_1 : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      assembly_feature_2 : ASSEMBLED_FEATURE_SELECT := SELF\Component_feature_joint.feature_2;  -- FEATURE_2 : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      associated_assembly : ASSEMBLY_MODULE_OR_ASSEMBLY_GROUP_COMPONENT := SELF\Component_feature_joint.associated_definition;  -- ASSOCIATED_DEFINITION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1 : assembly_feature_1 :<>: assembly_feature_2;
      WR2 : ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ASSEMBLED_WITH_FASTENERS' IN TYPEOF(SELF)) OR 
             (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.COMPONENT_FEATURE' IN TYPEOF(assembly_feature_1)) AND 
             (SIZEOF(QUERY(ay <* assembly_feature_1\Component_feature.associated_component\Product_occurrence.occurrence_contexts | ay.related_view <> associated_assembly)) = 0));
      WR3 : ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ASSEMBLED_WITH_FASTENERS' IN TYPEOF(SELF)) OR 
             (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.COMPONENT_FEATURE' IN TYPEOF(assembly_feature_2)) AND 
             (SIZEOF(QUERY(ay <* assembly_feature_2\Component_feature.associated_component\Product_occurrence.occurrence_contexts | ay.related_view <> associated_assembly)) = 0));
  END_ENTITY;

  ENTITY Assembly_technology_specification
    SUBTYPE OF (Process_specification);
  END_ENTITY;

  ENTITY Component_mating_constraint_condition;
      name                          : STRING;  
      constraining_joint            : SET[1:3] OF Assembly_joint;
      constrained_degree_of_freedom : SET[1:5] OF degree_of_freedom;
      of_context                    : Part_design_view;
    UNIQUE
      UR1 : name,
 of_context;
  END_ENTITY;

  ENTITY Connection_zone_based_assembly_joint
    SUBTYPE OF (Assembly_joint);
      zone_1 : Connection_zone_in_design_view;
      zone_2 : Connection_zone_in_design_view;
    WHERE
      WR1 : zone_1 :<>: zone_2;
  END_ENTITY;

  ENTITY Default_assembly_bond_shape_model
    SUBTYPE OF (Geometric_model);
      shape_characterized_definition : Assembly_bond_definition;
    WHERE
      WR1 : NOT EXISTS(SELF\Representation.description);
      WR2 : SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_DESCRIPTION_ASSOCIATION.REPRESENTATION'))=0;      
  END_ENTITY;

  ENTITY Assembly_connection_zone_position_relationship;
      associating_design_view_shape               : Geometric_model;
      associated_usage                            : Connection_zone_in_design_view;
      associated_connection_zone_shape_definition : Geometric_model;
      associated_usage_placement                  : Axis_placement;
      associating_design_view                     : Assembly_module;
  END_ENTITY;

  ENTITY Assembly_module
    SUBTYPE OF (Assembly_definition, Part_design_view);
  WHERE
    WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Bare_die_component
    SUBTYPE OF (Physical_component);
      SELF\Definition_based_product_occurrence.derived_from : Bare_die;
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.name);
  END_ENTITY;

  ENTITY Bare_die_component_terminal
    SUBTYPE OF (Physical_component_terminal);
      SELF\Component_feature.definition           : Bare_die_terminal;

      SELF\Shape_element.containing_shape : Bare_die_component;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
 WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Component_external_reference;
      design_owner          : STRING;
      part_number           : STRING;
      revision_code         : STRING;
      product_definition_id : STRING;
      reference_designation : STRING;
  END_ENTITY;

  ENTITY Component_feature_external_reference;
      name                 : STRING;
      associated_component : Component_external_reference;
    UNIQUE
      UR1 : associated_component,
 name;
  END_ENTITY;

  ENTITY Component_mounting_clearance_relationship;
      feature_relationship : Component_feature_relationship;
      mounting_clearance   : Length_tolerance_characteristic;
  END_ENTITY;

  ENTITY Component_mounting_feature
    SUBTYPE OF (Physical_component_feature);
      SELF\Component_feature.definition : Part_mounting_feature;
  END_ENTITY;

  ENTITY Component_overlap_relationship;
      previously_placed_component : Next_assembly_usage;
      current_component           : Next_assembly_usage;
      added_clearance             : Length_tolerance_characteristic;
  END_ENTITY;

  ENTITY Minimally_defined_component_terminal
    SUBTYPE OF (Physical_component_terminal);
      SELF\Component_feature.definition : Part_terminal_external_reference;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Movable_packaged_component_join_terminal
    SUBTYPE OF (Packaged_component_join_terminal);
      wire_terminal_length      : Length_tolerance_characteristic;
    WHERE
      WR1 : SIZEOF(QUERY(pt <* SELF\Component_feature.definition\Packaged_part_terminal.terminal_of_package | 
            NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.WIRE_TERMINAL' IN TYPEOF (pt)))) = 0;
  END_ENTITY;

  ENTITY Packaged_component
    SUBTYPE OF (Physical_component);
      SELF\Definition_based_product_occurrence.derived_from : Packaged_part;

      selected_package_alternate               : OPTIONAL Altered_package;
    INVERSE
      access_mechanism : SET[1:?] OF packaged_component_join_terminal FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)

  END_ENTITY;

  ENTITY Packaged_component_join_terminal
    SUBTYPE OF (Physical_component_terminal);
      SELF\Component_feature.definition           : Packaged_part_join_terminal;

      SELF\Shape_element.containing_shape : Packaged_component;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
 WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Pca
    SUBTYPE OF (Assembly_module);
      SELF\Part_design_view.usage_view : Pca_usage_view;
  END_ENTITY;

  ENTITY Routed_interconnect_component
    SUBTYPE OF (Physical_component);
      routed_centreline_shape : Planar_path_shape_model_with_parameters;
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.name);
  END_ENTITY;

  ENTITY Routed_physical_component
    SUBTYPE OF (Physical_component);
      routed_centreline_shape : Planar_path_shape_model_with_parameters;
  END_ENTITY;

  ENTITY Altered_package
    SUBTYPE OF (Package);
      of_geometric_status          : OPTIONAL predefined_geometric_status;
      modified_terminal_separation : OPTIONAL Length_data_element;
      package_to_be_altered        : Package;
    INVERSE
	  of_external_geometric_status : SET [0:1] OF External_source_identification FOR item;      
	WHERE
	  WR1: (EXISTS (of_geometric_status)) XOR ((SIZEOF(of_external_geometric_status)) = 1);
	  WR2: NOT EXISTS(SELF\Product_view_definition.name);
  END_ENTITY;

  ENTITY Altered_package_terminal
     ABSTRACT SUPERTYPE OF ((
                        SHAPE_FORMED_TERMINAL
                        ANDOR 
                        SURFACE_PREPPED_TERMINAL)
                        ANDOR 
                        LENGTH_TRIMMED_TERMINAL)
  SUBTYPE OF (Package_terminal);
      terminal_to_be_altered                  : Package_terminal;

      SELF\Shape_element.containing_shape : Altered_package;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Length_trimmed_terminal
    SUBTYPE OF (Altered_package_terminal);
      trimmed_length : Length_tolerance_characteristic;
  END_ENTITY;

  ENTITY Shape_formed_terminal
    SUBTYPE OF (Altered_package_terminal);
  END_ENTITY;

  ENTITY Surface_prepped_terminal
    SUBTYPE OF (Altered_package_terminal);
	DERIVE
	  surface_preparation: SET[1:1] OF Document_definition :=
  			get_document_definition(SELF, 'surface preparation', 
  			'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SURFACE_FINISH_SPECIFICATION');
  END_ENTITY;

  ENTITY Connection_zone_in_part_feature_template_definition
  	SUBTYPE OF (Connection_zone);
  	DERIVE
  		associated_definition : Part_feature_template_definition := containing_shape.described_element;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.element_name);
  END_ENTITY; 

  ENTITY Connection_zone_package_interface_plane_relationship;
      interface_plane          : interface_plane_or_seating_plane;
      mating_zone              : Connection_zone_in_part_feature_template_definition;
      derived_zone             : Connection_zone_in_part_feature_template_definition;
      derived_zone_shape_class : STRING;
    INVERSE
      associated_package_terminal  : SET[0:1] OF package_terminal_template_definition FOR seating_plane_zone;
    UNIQUE
      UR1 : interface_plane, mating_zone;
    WHERE
      WR1 : derived_zone_shape_class IN ['area','edge'];
  END_ENTITY;

  ENTITY Functional_orientation_feature
    SUBTYPE OF (Part_feature);
      associated_body_vertical_extent : OPTIONAL SET[1:2] OF Package_body_surface;
      associated_terminal             : Package_terminal;
  END_ENTITY;

  ENTITY Guided_wave_terminal
    SUBTYPE OF (Package_terminal);
  END_ENTITY;

  ENTITY Package
    SUBTYPE OF (Part_usage_view);
      mounting_technology                        : mounting_technology_type;

      maximum_seating_plane_installation_offset  : OPTIONAL Length_data_element;

      nominal_mounting_lead_pitch                : OPTIONAL Length_data_element;

      nominal_mounting_lead_span                 : OPTIONAL Length_data_element;

      maximum_body_height_above_seating_plane    : Length_data_element;

      maximum_body_height_below_seating_plane    : OPTIONAL Length_data_element;

      body_clearance_above_seating_plane         : OPTIONAL Length_tolerance_characteristic;

      body_clearance_below_seating_plane         : OPTIONAL Length_tolerance_characteristic;

      maximum_lead_length_below_seating_plane    : OPTIONAL Length_data_element;

      least_lead_length_below_seating_plane      : OPTIONAL Length_data_element;
    DERIVE
      maximum_package_total_vertical_extent : length_data_element := max_data_element(add_data_element(maximum_body_height_above_seating_plane,
 maximum_body_height_below_seating_plane),
 add_data_element(maximum_body_height_above_seating_plane,
 maximum_lead_length_below_seating_plane));

      cutout_required                       : BOOLEAN := (maximum_body_height_below_seating_plane\Value_with_unit.value_component > 0.0);

      maximum_installed_height              : length_data_element := add_data_element(maximum_body_height_above_seating_plane,
 maximum_seating_plane_installation_offset);

      one_orientation_feature               : BOOLEAN := (SIZEOF(orientation_feature) = 1);

      two_orientation_features              : BOOLEAN := (SIZEOF(orientation_feature) = 2);

      three_orientation_features            : BOOLEAN := (SIZEOF(orientation_feature) = 3);
      package_seating_plane                 : SET OF Seating_plane := bag_to_set(QUERY(nfse <* USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.NON_FEATURE_SHAPE_ELEMENT.SCOPE')|
                                                'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SEATING_PLANE' IN TYPEOF(nfse)));
      interface_plane                       : SET OF Interface_plane := bag_to_set(QUERY(nfse <* USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.NON_FEATURE_SHAPE_ELEMENT.SCOPE')|
                                                'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.INTERFACE_PLANE' IN TYPEOF(nfse)));
    INVERSE
      body                                  : SET[0:1] OF Package_body FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
      package_accesses                      : SET[0:?] OF Package_terminal FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
      package_polarity_indication           : SET[0:1] OF Polarity_indication_feature FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
      orientation_feature                   : SET[0:3] OF Package_orientation_feature FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
 WHERE
      WR1  : NOT (mounting_technology = surface_mount) OR (NOT (EXISTS(maximum_lead_length_below_seating_plane) OR EXISTS(least_lead_length_below_seating_plane)));
      WR2  : NOT (EXISTS(maximum_lead_length_below_seating_plane)) OR (maximum_lead_length_below_seating_plane\Value_with_unit.value_component > 0.0);
      WR3  : NOT (EXISTS(least_lead_length_below_seating_plane)) OR (least_lead_length_below_seating_plane\Value_with_unit.value_component > 0.0);
      WR4  : SIZEOF(package_seating_plane) = 1;
      WR5  : 'package' IN types_of_product(SELF\Product_view_definition.defined_version.of_product);
      WR6  : SIZEOF(QUERY(pa <* package_accesses | 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRIMARY_REFERENCE_TERMINAL' IN TYPEOF(pa))) = 1;
	  WR7  : SIZEOF(QUERY(nt <* package_accesses |
	                      EXISTS(nt\Part_feature.precedent_feature)
	               )) = (SIZEOF(package_accesses) - 1);
	  WR8  : SIZEOF(QUERY(nt <* package_accesses |
	                     (SIZEOF(nt\Part_feature.subsequent_feature) = 1)
	               )) = (SIZEOF(package_accesses) - 1);
      WR9  : NOT one_orientation_feature    OR ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRIMARY_ORIENTATION_FEATURE' IN TYPEOF(orientation_feature[1]));
      WR10 : NOT two_orientation_features   OR ((SIZEOF(QUERY(orf <* orientation_feature |
                                                  ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRIMARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1) AND
                                                (SIZEOF(QUERY(orf <* orientation_feature |
                                                  ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SECONDARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1));
      WR11 : NOT three_orientation_features OR ((SIZEOF(QUERY(orf <* orientation_feature |
                                                  ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRIMARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1) AND
                                                (SIZEOF(QUERY(orf <* orientation_feature |
                                                  ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SECONDARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1) AND
                                                (SIZEOF(QUERY(orf <* orientation_feature |
                                                  ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.TERTIARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1));
  END_ENTITY;

  ENTITY Package_body
    SUBTYPE OF (Part_feature);
      SELF\Shape_element.containing_shape : Package;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
    INVERSE
   body_material : Material_identification FOR items;

 WHERE
      WR1 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'PACKAGE_BODY_TOP_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR2 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'PACKAGE_BODY_BOTTOM_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR3 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'PACKAGE_BODY_EDGE_SURFACE' IN TYPEOF(pf)))) <= 1;
     WR4: 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (body_material);
  END_ENTITY;

  ENTITY Package_body_bottom_surface
    SUBTYPE OF (Package_body_surface);
  END_ENTITY;

  ENTITY Package_body_edge_segment_surface
    SUBTYPE OF (Package_body_surface);
      composed_surface : Package_body_edge_surface;
      start_vertex     : Edge_segment_vertex;
      end_vertex       : Edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
  END_ENTITY;

  ENTITY Package_body_edge_surface
    SUBTYPE OF (Package_body_surface);
  END_ENTITY;

  ENTITY Package_body_surface
     ABSTRACT SUPERTYPE OF (ONEOF (
                        PACKAGE_BODY_BOTTOM_SURFACE,
                        PACKAGE_BODY_TOP_SURFACE,
                        PACKAGE_BODY_EDGE_SEGMENT_SURFACE,
                        PACKAGE_BODY_EDGE_SURFACE))
  SUBTYPE OF (Part_feature);
      associated_package_body : Package_body;
  END_ENTITY;

  ENTITY Package_body_top_surface
    SUBTYPE OF (Package_body_surface);
  END_ENTITY;

  ENTITY Package_orientation_feature
     ABSTRACT SUPERTYPE OF (ONEOF (
                        PRIMARY_ORIENTATION_FEATURE,
                        SECONDARY_ORIENTATION_FEATURE,
                        TERTIARY_ORIENTATION_FEATURE))
  SUBTYPE OF (Part_feature, Datum_feature);
           associated_body_vertical_extent : OPTIONAL SET [1:2] OF Package_body_surface;

      SELF\Shape_element.containing_shape : Package;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Package_terminal
    SUBTYPE OF (Part_feature, Placed_feature);
      SELF\Placed_feature.definition 		  : Package_terminal_template_definition;

      SELF\Shape_element.containing_shape : Package;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
    INVERSE
      feature_shape : SET[1:?] OF usage_concept_usage_relationship FOR associated_usage;


  END_ENTITY;

  ENTITY Package_terminal_template_definition
    SUBTYPE OF (Part_feature_template_definition);
      external_connection_zone                : OPTIONAL SET[1:?] OF Connection_zone_in_part_feature_template_definition;
      internal_connection_zone                : OPTIONAL SET[1:?] OF Connection_zone_in_part_feature_template_definition;
      lead_form                               : OPTIONAL predefined_lead_form;
      seating_plane_intersection              : seating_plane_intersection_type;
      terminal_characteristic                 : OPTIONAL SET[1:?] OF characteristic;
      terminal_diametrical_extent             : Length_tolerance_characteristic;
      seating_plane_zone                      : OPTIONAL Connection_zone_package_interface_plane_relationship;
    DERIVE
      mates_with_substrate : BOOLEAN := (EXISTS(seating_plane_zone));
      terminal_core_material : SET [0:1] OF Material_identification := bag_to_set(QUERY( temp <* USEDIN(SELF,
     'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.MATERIAL_IDENTIFICATION.ITEMS') | 
     (SIZEOF( QUERY( cla <* USEDIN(temp,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
 	'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') | cla.role = 'terminal core material')) = 1)));
      terminal_surface_material : SET [1:1] OF Material_identification := bag_to_set(QUERY( temp <* USEDIN(SELF,
     'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.MATERIAL_IDENTIFICATION.ITEMS') | 
     (SIZEOF( QUERY( cla <* USEDIN(temp,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
 	'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') | cla.role = 'terminal surface material')) = 1)));
 	INVERSE
	  external_lead_form                      : SET[0:1] OF External_source_identification FOR item;            
    WHERE
      WR1 : NOT EXISTS(seating_plane_zone) OR (SIZEOF(QUERY(cz <* external_connection_zone | (seating_plane_zone.derived_zone = cz))) = 1);
      WR2 : NOT EXISTS(seating_plane_zone) OR (SIZEOF(QUERY(cz <* external_connection_zone | (seating_plane_zone.mating_zone = cz))) = 1);
      WR4 : NOT EXISTS(seating_plane_zone) OR ((seating_plane_intersection = surface_intersection) OR (seating_plane_intersection = through_intersection));
      WR5 : NOT ((seating_plane_intersection = does_not_intersect) AND (EXISTS(seating_plane_zone)));
      WR8 : NOT (SIZEOF(terminal_core_material) = 1) OR
                ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (terminal_core_material[1]));
      WR9 : EXISTS(terminal_core_material);
      WR10: NOT EXISTS(terminal_surface_material) OR
                ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (terminal_surface_material[1]));
	  WR11: (EXISTS (lead_form)) XOR ((SIZEOF(external_lead_form)) = 1);
  END_ENTITY;

  ENTITY Package_terminal_surface_constituent_relationship
    SUBTYPE OF (Shape_element_constituent_relationship);
      SELF\Shape_element_relationship.relating : Package_body_surface;
      SELF\Shape_element_relationship.related  : Package_terminal;
  END_ENTITY;

  ENTITY Polarity_indication_feature
    SUBTYPE OF (Part_feature);
      associated_body_vertical_extent : OPTIONAL SET[1:2] OF Package_body_surface;

      associated_terminal             : Package_terminal;

      SELF\Shape_element.containing_shape : Package;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Primary_orientation_feature
    SUBTYPE OF (Package_orientation_feature);
  END_ENTITY;

  ENTITY Primary_reference_terminal
    SUBTYPE OF (Package_terminal);
    WHERE
      WR1 : NOT (EXISTS(SELF\Part_feature.precedent_feature));
  END_ENTITY;

  ENTITY Secondary_orientation_feature
    SUBTYPE OF (Package_orientation_feature);
  END_ENTITY;

  ENTITY Tertiary_orientation_feature
    SUBTYPE OF (Package_orientation_feature);
  END_ENTITY;

  ENTITY Wire_terminal
    SUBTYPE OF (Package_terminal);
   WHERE
    WR1 : SIZEOF(SELF\Package_terminal.feature_shape) = 0;
  END_ENTITY;

  ENTITY Wire_terminal_template_definition
    SUBTYPE OF (Package_terminal_template_definition);
      SELF\Package_terminal_template_definition.internal_connection_zone : SET[1:?] OF Connection_zone_in_part_feature_template_definition;
      wire_terminal_length                                               : Length_tolerance_characteristic;
  END_ENTITY;

  ENTITY Assembly_module_interface_terminal
    SUBTYPE OF (Assembly_module_terminal);
  END_ENTITY;

  ENTITY Assembly_module_terminal
    SUPERTYPE OF (
              ASSEMBLY_MODULE_INTERFACE_TERMINAL
              ANDOR 
              PCA_TERMINAL)
  SUBTYPE OF (Part_terminal);
      SELF\Shape_element.containing_shape : Assembly_module_usage_view;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
      reference_terminal                      : OPTIONAL Packaged_part_interface_terminal;

      related_connector                       : OPTIONAL Next_assembly_usage;

      SELF\Shape_feature.connection_area      : OPTIONAL SET[1:?] OF Connection_zone_in_usage_view;            

 WHERE
      WR1 : NOT EXISTS(related_connector) OR 
            (SELF\Shape_element.containing_shape.described_element = 
             related_connector\View_definition_relationship.related_view);
      WR2 : NOT EXISTS(related_connector) OR EXISTS(related_connector.location_indicator);
      WR3 : EXISTS(related_connector) OR 
            (SELF\Shape_element.containing_shape.described_element = 
             SELF\Part_feature.associated_definition);
  END_ENTITY;

  ENTITY Assembly_module_usage_view
    SUPERTYPE OF (
              PCA_USAGE_VIEW)
  SUBTYPE OF (Part_usage_view);
      implemented_function              : Functional_unit_usage_view;
    INVERSE
      access_mechanisms : SET[0:?] OF assembly_module_terminal FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
 WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Pca_terminal
    SUBTYPE OF (Assembly_module_terminal);
      SELF\Shape_element.containing_shape : Pca_usage_view;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Pca_usage_view
    SUBTYPE OF (Assembly_module_usage_view);
      maximum_negative_component_height : OPTIONAL Datum_based_length_measure;
      maximum_positive_component_height : OPTIONAL Datum_based_length_measure;
  END_ENTITY;

  ENTITY Bare_die
    SUBTYPE OF (Part_usage_view);
      least_material_condition_centroid_location   : OPTIONAL Cartesian_point;

      maximum_height_above_seating_plane           : OPTIONAL Length_data_element;

      maximum_material_condition_centroid_location : OPTIONAL Cartesian_point;

      implemented_function                         : Functional_unit_usage_view;
    INVERSE
      access_mechanisms : SET[2:?] OF minimally_defined_bare_die_terminal FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
      die_seating_plane : non_feature_shape_element FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
 WHERE
      WR1 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_ELEMENT.CONTAINING_SHAPE') | ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'BARE_DIE_TOP_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR2 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_ELEMENT.CONTAINING_SHAPE') | ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'BARE_DIE_BOTTOM_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR3 : SIZEOF(QUERY(pf <* USEDIN(SELF,
 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_ELEMENT.CONTAINING_SHAPE') | ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'BARE_DIE_EDGE_SURFACE' IN TYPEOF(pf)))) <= 1;
      WR4 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SEATING_PLANE' IN TYPEOF(die_seating_plane);
  END_ENTITY;

  ENTITY Bare_die_bottom_surface
    SUBTYPE OF (Bare_die_surface);
  END_ENTITY;

  ENTITY Bare_die_edge_segment_surface
    SUBTYPE OF (Bare_die_surface);
      composed_surface                        : Bare_die_edge_surface;
      start_vertex                            : Edge_segment_vertex;
      end_vertex                              : Edge_segment_vertex;
    WHERE
      WR1 : start_vertex :<>: end_vertex;
      WR2 : SELF\Shape_element.containing_shape :=: composed_surface\Shape_element.containing_shape;
  END_ENTITY;

  ENTITY Bare_die_edge_surface
    SUBTYPE OF (Bare_die_surface);
  END_ENTITY;

  ENTITY Bare_die_surface
     ABSTRACT SUPERTYPE OF (ONEOF (
                        BARE_DIE_TOP_SURFACE,
                        BARE_DIE_BOTTOM_SURFACE,
                        BARE_DIE_EDGE_SEGMENT_SURFACE,
                        BARE_DIE_EDGE_SURFACE))
  SUBTYPE OF (Part_mounting_feature);
			SELF\Shape_element.containing_shape : Bare_die;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Bare_die_terminal
    SUBTYPE OF (Minimally_defined_bare_die_terminal, Placed_feature);
      SELF\Placed_feature.definition : Bare_die_template_terminal;
  END_ENTITY;

  ENTITY Bare_die_template_terminal
    SUBTYPE OF (Part_feature_template_definition, Shape_feature);
      SELF\Shape_feature.connection_area : OPTIONAL SET[1:?] OF Connection_zone_in_usage_view;            
      seating_plane_zone                 : OPTIONAL Connection_zone_bare_die_interface_plane_relationship;
   INVERSE
	  material : material_identification FOR items;      
   WHERE  
      WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (material);
  END_ENTITY;

  ENTITY Bare_die_terminal_surface_constituent_relationship
    SUBTYPE OF (Shape_element_constituent_relationship);
      SELF\Shape_element_relationship.relating : Bare_die_surface;
      SELF\Shape_element_relationship.related  : Bare_die_terminal;
  END_ENTITY;

  ENTITY Bare_die_top_surface
    SUBTYPE OF (Bare_die_surface);
  END_ENTITY;

  ENTITY Connection_zone_bare_die_interface_plane_relationship;
      interface_plane          : Seating_plane;
      mating_zone              : Connection_zone_in_usage_view;
      derived_zone             : Connection_zone_in_usage_view;
      derived_zone_shape_class : derived_zone_shape_class;
    INVERSE
      associated_bare_die_terminal : SET[0:1] OF bare_die_template_terminal FOR seating_plane_zone;
    UNIQUE
      UR1 : interface_plane,
 mating_zone;
  END_ENTITY; 

  ENTITY Guided_wave_bare_die_terminal
    SUBTYPE OF (Minimally_defined_bare_die_terminal);
  END_ENTITY;

  ENTITY Minimally_defined_bare_die_terminal
    SUPERTYPE OF (
              GUIDED_WAVE_BARE_DIE_TERMINAL
              ANDOR 
              BARE_DIE_TERMINAL)
  SUBTYPE OF (Part_terminal);
      SELF\Shape_element.containing_shape : Bare_die;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Physical_component_feature
      SUPERTYPE OF ((ONEOF (
               PHYSICAL_COMPONENT_TERMINAL,
               PHYSICAL_COMPONENT_INTERFACE_TERMINAL)) ) 
      SUBTYPE OF (Component_feature);
  END_ENTITY;

  ENTITY Physical_component_terminal
      ABSTRACT SUPERTYPE OF (ONEOF (
                        BARE_DIE_COMPONENT_TERMINAL,
                        MINIMALLY_DEFINED_COMPONENT_TERMINAL,
                        PACKAGED_COMPONENT_JOIN_TERMINAL) ) 
  SUBTYPE OF (Component_terminal,
 			Physical_component_feature);
  END_ENTITY;

  ENTITY Curve_style_parameters
  	 ABSTRACT SUPERTYPE OF (ONEOF (
                        CLOSED_CURVE_STYLE_PARAMETERS,
                        CURVE_STYLE_PARAMETERS_WITH_ENDS));
      name              : STRING;
      corner_style      : extend_or_chord_2_extend_or_truncate_or_round;
      curve_width       : Length_data_element;
      width_uncertainty : Length_data_element;
    UNIQUE
      UR1 : name;
  END_ENTITY;

  ENTITY Closed_curve_style_parameters
    SUBTYPE OF (Curve_style_parameters);
  END_ENTITY;

  ENTITY Curve_style_parameters_with_ends
    SUBTYPE OF (Curve_style_parameters);
      end_extension     : extend_or_truncate;
      end_style         : square_or_round;
  END_ENTITY;

  ENTITY Default_trace_template
    SUBTYPE OF (Trace_template);
      of_stratum_technology : Stratum_technology;
  END_ENTITY;

  ENTITY Fill_area_template
   SUBTYPE OF (Parametric_template);
    fill_area_style : OPTIONAL fill_area_style_select;
    outer_boundary_style : Closed_curve_style_parameters;
    inner_boundary_style : Closed_curve_style_parameters;
  END_ENTITY;

  ENTITY Inter_stratum_feature_edge_segment_template
    SUBTYPE OF (Inter_stratum_feature_template);
      composed_edge  : Inter_stratum_feature_edge_template;
      start_vertex   : Edge_segment_vertex;
      end_vertex     : Edge_segment_vertex;
      reference_path : Trimmed_curve;
    WHERE
      WR1 : EXISTS(reference_path.start_point) AND 
            EXISTS(reference_path.end_point);
      WR2 : start_vertex :<>: end_vertex;
  END_ENTITY;

  ENTITY Inter_stratum_feature_edge_template
    SUBTYPE OF (Inter_stratum_feature_template);
    INVERSE
      edges : SET[2:?] OF inter_stratum_feature_edge_segment_template FOR composed_edge;
  END_ENTITY;

  ENTITY Parametric_template
     ABSTRACT SUPERTYPE OF (ONEOF (
                        FILL_AREA_TEMPLATE,
                        TEARDROP_TEMPLATE,
                        TRACE_TEMPLATE))
  SUBTYPE OF (Template_definition);
  END_ENTITY;

  ENTITY Part_string_template
    SUBTYPE OF (Template_definition);
      string_alignment : text_alignment;
  END_ENTITY;

  ENTITY Part_text_template
    SUBTYPE OF (Template_definition);
      of_character                            : Character_glyph_symbol;    
  END_ENTITY;

  ENTITY Planar_path_shape_model_with_parameters
    SUBTYPE OF (Single_area_csg_2d_model);
      SELF\Representation.items : SET[1:?] OF Axis_placement_2d;
      centreline : Curve;
      parameters : Curve_style_parameters;
  END_ENTITY;

  ENTITY Planar_closed_path_shape_model_with_parameters
    SUBTYPE OF (Planar_path_shape_model_with_parameters);
      SELF\Planar_path_shape_model_with_parameters.centreline : Closed_curve;
      SELF\Planar_path_shape_model_with_parameters.parameters : Closed_curve_style_parameters;
  END_ENTITY;

  ENTITY Solid_character_glyph_2d_symbol
    SUBTYPE OF (Character_glyph_symbol, Csg_2d_model);
  END_ENTITY;

  ENTITY Snowball_template
    SUBTYPE OF (Teardrop_template);
      snowball_start_distance     : Length_data_element;
      snowball_end_distance       : OPTIONAL Length_data_element;
      snowball_initial_spacing    : OPTIONAL Length_data_element;
      snowball_end_spacing        : OPTIONAL Length_data_element;
      snowball_initial_radius     : Length_data_element;
      snowball_end_radius         : OPTIONAL Length_data_element;
      snowball_quantity_per_trace : INTEGER; -- positive_integer;
    WHERE
      WR1 : NOT (snowball_quantity_per_trace > 1) OR (EXISTS(snowball_initial_spacing) AND EXISTS(snowball_end_spacing) AND EXISTS(snowball_end_distance) AND EXISTS(snowball_end_radius));
      WR2 : (SIZEOF(USEDIN(SELF,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_TEMPLATE_SHAPE_MODEL.' + 'SHAPE_CHARACTERIZED_DEFINITION')) = 0);
      WR3 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Teardrop_by_angle_template
    SUBTYPE OF (Teardrop_template);
      teardrop_angle : Angle_data_element;
    WHERE
      WR1 : (SIZEOF(USEDIN(SELF,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_TEMPLATE_SHAPE_MODEL.' + 'SHAPE_CHARACTERIZED_DEFINITION')) = 0);
      WR2 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Teardrop_by_length_template
    SUBTYPE OF (Teardrop_template);
      teardrop_taper_start_distance : Length_data_element;
      teardrop_taper_end_distance   : Length_data_element;
   WHERE
      WR1 : (SIZEOF(USEDIN(SELF,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_TEMPLATE_SHAPE_MODEL.' + 'SHAPE_CHARACTERIZED_DEFINITION')) = 0);
      WR2 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Teardrop_template
    SUPERTYPE OF (ONEOF (
              SNOWBALL_TEMPLATE,
              TEARDROP_BY_ANGLE_TEMPLATE,
              TEARDROP_BY_LENGTH_TEMPLATE))
  SUBTYPE OF (Parametric_template, Single_stratum_template);
    WHERE
      WR1 : (SIZEOF(['AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SNOWBALL_TEMPLATE',
            'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.TEARDROP_BY_ANGLE_TEMPLATE',
            'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.TEARDROP_BY_LENGTH_TEMPLATE'] * TYPEOF(SELF)) = 1) XOR
            ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.EXTERNALLY_DEFINED_VIEW_DEFINITION' IN TYPEOF(SELF));
  END_ENTITY;

  ENTITY Trace_template
    SUPERTYPE OF (
              DEFAULT_TRACE_TEMPLATE)
  SUBTYPE OF (Parametric_template);
      trace_style : Curve_style_parameters;
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.name);
  END_ENTITY;

  ENTITY Array_placement_group
     ABSTRACT SUPERTYPE OF (ONEOF (
                        LINEAR_ARRAY_PLACEMENT_GROUP_COMPONENT,
                        RECTANGULAR_ARRAY_PLACEMENT_GROUP_COMPONENT))
  SUBTYPE OF (Assembly_group_component);
  END_ENTITY;

  ENTITY Assembly_component_placement_link;
      precedent_element  : Assembly_component;
      subsequent_element : Assembly_component;
    INVERSE
      referenced_by : linear_array_placement_group_component FOR element;
  END_ENTITY;

  ENTITY Assembly_group_component
    SUBTYPE OF (Assembly_component);
    INVERSE
      components : SET[1:?] OF next_assembly_usage FOR relating_view;
    WHERE
      WR1: components[1].relation_type = 'group component';
      WR2: SIZEOF(QUERY(co <* components | NOT(('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ASSEMBLY_COMPONENT') IN TYPEOF(co\View_definition_relationship.related_view)))) = 0;
  END_ENTITY;

  ENTITY Interfaced_group_component
    SUBTYPE OF (Assembly_group_component);
      group_interface_component : SET[1:?] OF Interface_component;
  END_ENTITY;

  ENTITY Linear_array_placement_group_component
    SUBTYPE OF (Array_placement_group);
      element                               : SET[1:?] OF Assembly_component_placement_link;
      initial_node_positive_x_displacement  : Length_data_element;
      terminus_node_positive_x_displacement : Length_data_element;
      location_uncertainty                  : Length_data_element;
  END_ENTITY;

  ENTITY Linear_array_placement_group_component_link;
      precedent_element  : Linear_array_placement_group_component;
      subsequent_element : Linear_array_placement_group_component;
    INVERSE
      referenced_by : rectangular_array_placement_group_component FOR element;
  END_ENTITY;

  ENTITY Rectangular_array_placement_group_component
    SUBTYPE OF (Array_placement_group);
      element                              : SET[1:?] OF Linear_array_placement_group_component_link;
      initial_row_positive_y_displacement  : Length_data_element;
      terminus_row_positive_y_displacement : Length_data_element;
      location_uncertainty                 : Length_data_element;
  END_ENTITY;

  ENTITY Externally_defined_view_definition
    SUBTYPE OF (Product_view_definition);
    INVERSE
      source : External_source_identification FOR item;
  END_ENTITY;

  ENTITY Library_view_definition
    SUBTYPE OF (Externally_defined_view_definition);
    DERIVE
      library : STRING := SELF\Externally_defined_view_definition.source.source_id;
  END_ENTITY;

  ENTITY Component_swap_specification
    SUBTYPE OF (Change_design_object_management_relationship);
      SELF\Change_design_object_management_relationship.current_design_object  : Design_functional_unit_allocation_to_assembly_component;
      SELF\Change_design_object_management_relationship.previous_design_object : Design_functional_unit_allocation_to_assembly_component;
  END_ENTITY;

  ENTITY Design_composition_path;
      path_element           : SET[1:?] OF Functional_unit;
      design_functional_unit : Functional_unit;
  END_ENTITY;

  ENTITY Design_functional_unit_allocation_to_assembly_component;
      functional_design_definition_path : Design_composition_path;
      implementation                    : Assembly_component;
      global_swappable                  : BOOLEAN;
      local_swappable                   : BOOLEAN;
      of_property                       : OPTIONAL SET[1:?] OF Property_value_representation;
      path_alias                        : STRING; 
      swap_code                         : STRING;
    UNIQUE
      UR1 : implementation,
 path_alias;
  END_ENTITY;

  ENTITY Design_functional_unit_allocation_to_reference_functional_unit;
      reference_definition_path : Reference_composition_path;
      design_definition_path    : Design_composition_path;
  END_ENTITY;

  ENTITY Gate_path_swap_specification
    SUBTYPE OF (Change_design_object_management_relationship);
      SELF\Change_design_object_management_relationship.current_design_object  : Design_functional_unit_allocation_to_reference_functional_unit;
      SELF\Change_design_object_management_relationship.previous_design_object : Design_functional_unit_allocation_to_reference_functional_unit;
  END_ENTITY;

  ENTITY Reference_composition_path;
      path_element              : SET[1:?] OF Functional_unit;
      reference_functional_unit : Functional_unit;
  END_ENTITY;

  ENTITY Reference_functional_unit_assignment_to_template;
      functional_design_definition_path : Reference_composition_path;
      implementation                    : Template_definition;
      of_property                       : OPTIONAL SET[1:?] OF Property_value_representation;
      path_alias                        : STRING; 
      swap_code                         : OPTIONAL STRING;
    UNIQUE
      UR1 : implementation,
 path_alias;
  END_ENTITY; 

  ENTITY Reference_functional_unit_assignment_to_part;
      functional_design_definition_path : Reference_composition_path;
      implementation                    : Part_view_definition;
      of_property                       : OPTIONAL SET[1:?] OF Property_value_representation;
      path_alias                        : STRING; 
      swap_code                         : OPTIONAL STRING;
    UNIQUE
      UR1 : implementation,
 path_alias;
  END_ENTITY; 

  ENTITY Terminal_swap_specification
    SUBTYPE OF (Change_design_object_management_relationship);
      SELF\Change_design_object_management_relationship.previous_design_object : Functional_unit_terminal_node_assignment;
      SELF\Change_design_object_management_relationship.current_design_object  : Functional_unit_terminal_node_assignment;
  END_ENTITY;

  	ENTITY Add_design_object_management_relationship
      SUBTYPE OF (Design_object_management_relationship);
    	current_design_object : managed_design_object;
      UNIQUE
        UR1 : current_design_object;
	END_ENTITY;

  	ENTITY Change_design_object_management_relationship
        SUPERTYPE OF ((ONEOF (
               TERMINAL_SWAP_SPECIFICATION,
               GATE_PATH_SWAP_SPECIFICATION,
               COMPONENT_SWAP_SPECIFICATION)) ) 
      SUBTYPE OF (Design_object_management_relationship);
    	current_design_object  : managed_design_object;
      	previous_design_object : OPTIONAL managed_design_object;
      	attribute_name : OPTIONAL STRING;
      WHERE
      	WR1: TYPEOF(current_design_object) = TYPEOF(previous_design_object);
       	WR2: current_design_object <> previous_design_object;
  	END_ENTITY;

  	ENTITY Delete_design_object_management_relationship
      SUBTYPE OF (Design_object_management_relationship);
      	previous_design_object : managed_design_object;
      UNIQUE
      	UR1 : previous_design_object;
  	END_ENTITY;

  	ENTITY Design_object_management_relationship
   	   ABSTRACT SUPERTYPE OF (ONEOF (
                        CHANGE_DESIGN_OBJECT_MANAGEMENT_RELATIONSHIP,
                        DELETE_DESIGN_OBJECT_MANAGEMENT_RELATIONSHIP,
                        ADD_DESIGN_OBJECT_MANAGEMENT_RELATIONSHIP)
                        ANDOR (
                        VIEW_DEPENDENT_DESIGN_OBJECT_MANAGEMENT_RELATIONSHIP))
  SUBTYPE OF (Activity);
      WHERE
        WR1 : NOT EXISTS(SELF\Activity.name);
  	END_ENTITY;

  	ENTITY Frozen_assignment;
    	frozen_item       : SET[1:?] OF managed_design_object;
    INVERSE
      assigned_approval : SET [1:1] OF Approval_assignment FOR items;
  	END_ENTITY;

  	ENTITY View_dependent_design_object_management_relationship
      SUBTYPE OF (Design_object_management_relationship);
      	previous_design : Product_view_definition;
      	current_design  : Product_view_definition;
  	END_ENTITY;

ENTITY Approval  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_APPROVAL,
               EXTERNALLY_DEFINED_APPROVAL) ) ;
  status : Approval_status;
  purpose : STRING;
  planned_date : OPTIONAL date_or_date_time_select;
  actual_date : OPTIONAL date_or_date_time_select;
END_ENTITY;

ENTITY Approval_assignment;
  assigned_approval : Approval;
  items : SET[1:?] OF approval_item;
  role : OPTIONAL STRING;
END_ENTITY;

ENTITY Approval_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_approval : Approval;
  related_approval : Approval;
END_ENTITY;

ENTITY Approval_status  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_APPROVAL_STATUS,
               EXTERNALLY_DEFINED_APPROVAL_STATUS) ) ;
  status_name : STRING;
END_ENTITY;

ENTITY Approving_person_organization;
  person_organization : organization_or_person_in_organization_select;
  approval_date : OPTIONAL date_or_date_time_select;
  authorized_approval : Approval;
  role : OPTIONAL STRING;
END_ENTITY;

ENTITY Calendar_date;
  year_component : year_number;
  month_component : month_in_year_number;
  day_component : day_in_month_number;
END_ENTITY;

ENTITY Date_time;
  date_component : Calendar_date;
  time_component : Local_time;
END_ENTITY;

ENTITY Local_time;
  hour_component : hour_in_day;
  minute_component : OPTIONAL minute_in_hour;
  second_component : OPTIONAL second_in_minute;
  zone : Time_offset;
END_ENTITY;

ENTITY Time_offset;
  hour_offset : INTEGER;
  minute_offset : OPTIONAL INTEGER;
  sense : offset_orientation;
DERIVE
  actual_minute_offset : INTEGER := NVL(minute_offset,0);
WHERE
  WR1: { 0 <= hour_offset < 24 };
  WR2: { 0 <= actual_minute_offset <= 59 };
  WR3: NOT (((hour_offset <> 0) OR (actual_minute_offset <>0)) AND (sense = exact));
END_ENTITY;

ENTITY Address;
  name : OPTIONAL STRING;
  street_number : OPTIONAL STRING;
  street : OPTIONAL STRING;
  postal_box : OPTIONAL STRING;
  town : OPTIONAL STRING;
  region : OPTIONAL STRING;
  postal_code : OPTIONAL STRING;
  country : OPTIONAL STRING;
  internal_location : OPTIONAL STRING;
  facsimile_number : OPTIONAL STRING;
  telephone_number : OPTIONAL STRING;
  electronic_mail_address : OPTIONAL STRING;
  telex_number : OPTIONAL STRING;
  url : OPTIONAL STRING;
WHERE
  WR1: (EXISTS (street_number) OR EXISTS (street) OR EXISTS (postal_box) OR EXISTS (town) OR EXISTS (region) OR EXISTS (postal_code) OR EXISTS (country) OR EXISTS (internal_location) OR EXISTS (facsimile_number) OR EXISTS (telephone_number) OR EXISTS (electronic_mail_address) OR EXISTS (telex_number));
END_ENTITY;

ENTITY Address_assignment  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_ADDRESS_ASSIGNMENT,
               EXTERNALLY_DEFINED_ADDRESS_ASSIGNMENT) ) ;
  address_type : OPTIONAL STRING;
  assigned_address : Address;
  located_person_organizations : SET[1:?] OF organization_or_person_in_organization_select;
END_ENTITY;

ENTITY Organization;
  id : OPTIONAL STRING;
  name : STRING;
END_ENTITY;

ENTITY Organization_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_organization : Organization;
  related_organization : Organization;
END_ENTITY;

ENTITY Person;
  last_name : STRING;
  first_name : OPTIONAL STRING;
  middle_names : OPTIONAL LIST[1:?] OF STRING;
  prefix_titles : OPTIONAL LIST[1:?] OF STRING;
  suffix_titles : OPTIONAL LIST[1:?] OF STRING;
END_ENTITY;

ENTITY Person_in_organization;
  concerned_person : Person;
  containing_organization : Organization;
  role : STRING;
END_ENTITY;

ENTITY Directed_activity
  SUBTYPE OF (Activity);
  directive : Work_order;
END_ENTITY;

ENTITY Work_order;
  name : STRING;
  description : OPTIONAL STRING;
  in_response_to : SET[0:?] OF Work_request;
END_ENTITY;

  ENTITY Assembly_alternate_product
    SUBTYPE OF (Alternate_product_relationship);
      basis_context : Part_design_view;
    WHERE
      WR1: NOT EXISTS (SELF\Alternate_product_relationship.criteria);
  END_ENTITY;

  ENTITY Assembly_component
    ABSTRACT SUPERTYPE
  SUBTYPE OF (Definition_based_product_occurrence, Item_shape);
	SELF\Definition_based_product_occurrence.derived_from : physical_unit_or_part_template;
    DERIVE
    	SELF\Item_shape.described_element : shapeable_item := SELF;
    INVERSE
      SELF\Product_occurrence.occurrence_contexts : SET[1:?] OF assembly_component_relationship FOR related_view;
    WHERE
      WR1 : NOT(('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.FOOTPRINT_OCCURRENCE' IN TYPEOF(SELF)) XOR ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.FOOTPRINT_DEFINITION' IN TYPEOF(derived_from))) OR 
            NOT(('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PADSTACK_OCCURRENCE' IN TYPEOF(SELF)) XOR ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PADSTACK_DEFINITION' IN TYPEOF(SELF\Definition_based_product_occurrence.derived_from)));
      WR2 : SELF\Product_view_definition.defined_version :=: SELF\Definition_based_product_occurrence.derived_from.defined_version;
  END_ENTITY;

  ENTITY Assembly_item_number;
      assembly_usage : SET[1:?] OF Assembly_component_relationship;
      item_number    : STRING;
    DERIVE
      assembly : Product_view_definition := assembly_usage[1].relating_view;
      part     : Product := assembly_usage[1].related_view\Definition_based_product_occurrence.derived_from\Product_view_definition.defined_version.of_product;
    UNIQUE
      UR1 : assembly, item_number;
    WHERE
      WR1 : SIZEOF(QUERY(au <* assembly_usage | NOT (au.relating_view\Definition_based_product_occurrence.derived_from\Product_view_definition.defined_version.of_product = Part))) = 0;
      WR2 : SIZEOF(QUERY(au <* assembly_usage | NOT (au.related_view = assembly))) = 0;
  END_ENTITY;

  ENTITY Component_bonding_relationship;
      associated_design : Part_design_view;  
      component_1   : assembly_component_or_item_number;
      component_2   : assembly_component_or_item_number;
      bond_material : assembly_component_or_item_number;
      specification : assembly_item_number_or_process_specification;
    WHERE
      WR1 : component_1 <> component_2;
      WR2 : component_1 <> bond_material;
      WR3 : component_1 <> specification;
      WR4 : component_2 <> bond_material;
      WR5 : component_2 <> specification;
      WR6 : bond_material <> specification;
      WR7 : valid_assembly_context_for_bond(associated_design, component_1);
      WR8 : valid_assembly_context_for_bond(associated_design, component_2);
      WR9 : valid_assembly_context_for_bond(associated_design, bond_material);
     WR10 : valid_assembly_context_for_bond(associated_design, specification);
  END_ENTITY;

  ENTITY Component_make_from_relationship
		SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.relating_view : Assembly_component;  -- reusable_component : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\View_definition_relationship.related_view : Assembly_component;  -- resultant_component : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      resultant_component : ASSEMBLY_COMPONENT := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      reusable_component : ASSEMBLY_COMPONENT := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
 WHERE
      WR1 : resultant_component <> reusable_component;
  END_ENTITY;

  ENTITY Component_to_physical_usage_view_assignment
  	SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.relating_view : Assembly_component;  -- design_view_component : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\View_definition_relationship.related_view : Assembly_component;  -- usage_view_component : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      design_view_component : ASSEMBLY_COMPONENT := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      usage_view_component : ASSEMBLY_COMPONENT := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
 WHERE
      WR1 : design_view_component <> usage_view_component;
      WR2 : NOT EXISTS(SELF\View_definition_relationship.relation_type);
  END_ENTITY;

  ENTITY Connection_zone_in_design_view
  	SUBTYPE OF (Connection_zone);
  	DERIVE
  		associated_definition : Part_design_view := SELF\Shape_element.containing_shape.described_element;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.element_name);
  END_ENTITY; 

  ENTITY Next_assembly_usage_occurrence_relationship
    SUBTYPE OF (Next_assembly_usage);
    SELF\View_definition_relationship.related_view : Product_occurrence;
  UNIQUE
    UR1 : SELF\View_definition_relationship.relating_view, 
          SELF\Assembly_component_relationship.location_indicator;
  END_ENTITY;

  ENTITY Part_design_view
    SUBTYPE OF (Item_shape, Part_view_definition);
      usage_view : OPTIONAL Part_usage_view;
    DERIVE
    	SELF\Item_shape.described_element : shapeable_item := SELF;
    WHERE
      WR1 : ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LAYOUT_MACRO_DEFINITION' IN TYPEOF(SELF)) OR EXISTS(usage_view);
      WR2 : SIZEOF(QUERY(nauo <* USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.VIEW_DEFINITION_RELATIONSHIP.RELATING_VIEW') |
                 (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.NEXT_ASSEMBLY_USAGE_OCCURRENCE_RELATIONSHIP' IN TYPEOF(nauo)) XOR
                  ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.NEXT_ASSEMBLY_USAGE' IN TYPEOF(nauo)))                 
                 )) = 0;
  END_ENTITY;

  ENTITY Physical_component
      SUPERTYPE OF (ONEOF (
               BARE_DIE_COMPONENT,
               PACKAGED_COMPONENT,
               ROUTED_INTERCONNECT_COMPONENT,
               ROUTED_PHYSICAL_COMPONENT) ) 
      SUBTYPE OF (Assembly_component, Definition_based_part_occurrence);
  END_ENTITY;

  ENTITY Thermal_component
    SUBTYPE OF (Assembly_component);
  END_ENTITY;

  ENTITY Bus_element_link;
      precedent_element  : bus_structural_definition_or_node;
      subsequent_element : bus_structural_definition_or_node;
    UNIQUE
      UR1 : precedent_element,
 subsequent_element;
    WHERE
      WR1 : precedent_element <> subsequent_element;
  END_ENTITY;

  ENTITY Bus_structural_definition;
      bus_name    : STRING; 
      composition : SET[1:?] OF Bus_element_link;
    INVERSE
      external_bus_access : SET[0:1] OF Functional_unit_network_terminal_definition_bus_assignment FOR connected_bus;
    UNIQUE
      UR1 : bus_name;
    WHERE
      WR1 : consistent_bus_structural_definition(composition);
  END_ENTITY;

  ENTITY Functional_unit
  	SUBTYPE OF(Definition_based_product_occurrence);
      SELF\Definition_based_product_occurrence.derived_from : Functional_unit_definition;  -- definition : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\Product_view_definition.id : STRING;               -- reference_designation : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      functional_property   : OPTIONAL SET[1:?] OF Parameter_assignment_override;
    DERIVE
		composed_network    : Functional_unit_network_definition := SELF\Product_occurrence.occurrence_contexts[1].relating_view;    

		SELF\Product_view_definition.defined_version : Product_version := SELF\Definition_based_product_occurrence.derived_from.defined_version;
      definition : FUNCTIONAL_UNIT_DEFINITION := SELF\Definition_based_product_occurrence.derived_from;  -- DERIVED_FROM : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      reference_designation : STRING := SELF\Product_view_definition.id;  -- ID : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
    INVERSE
      access_mechanisms : SET[1:?] OF functional_unit_terminal FOR accessed_functional_unit;

  WHERE
      WR1 : SIZEOF(SELF\Product_occurrence.occurrence_contexts) = 1;
      WR2 : EXISTS(composed_network);
  END_ENTITY;

  ENTITY Functional_unit_network_definition
    SUBTYPE OF (Functional_unit_definition);
      usage_view : Functional_unit_usage_view;
  END_ENTITY;

  ENTITY Functional_unit_network_node_definition
    SUBTYPE OF (Product_view_definition);
      associated_functional_unit_definition                                                              : Functional_unit_network_definition;

      SELF\Product_view_definition.additional_characterization : STRING;  -- functional_unit_network_node_name : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      SELF\Product_view_definition.defined_version : Functional_version := associated_functional_unit_definition.defined_version;

      valid_conservative_node : BOOLEAN := ( ( SIZEOF (USEDIN ( SELF ,
        'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.BUS_ELEMENT_LINK.PRECEDENT_ELEMENT' ) )
        + SIZEOF ( USEDIN ( SELF ,
        'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.BUS_ELEMENT_LINK.SUBSEQUENT_ELEMENT' )
        ) + SIZEOF (USEDIN ( SELF ,
        'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.FUNCTIONAL_UNIT_TERMINAL_NODE_ASSIGNMENT.COMPOSED_NODE'
        )) + SIZEOF ( external_node_access ) ) > 1 );
      functional_unit_network_node_name : STRING := SELF\Product_view_definition.additional_characterization;  -- ADDITIONAL_CHARACTERIZATION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
    INVERSE
      external_node_access : SET[0:1] OF functional_unit_network_terminal_definition_node_assignment FOR composed_node;

  WHERE
      WR1 : EXISTS(valid_conservative_node);
  END_ENTITY;

  ENTITY Functional_unit_network_terminal_definition_bus_assignment;
      connected_bus      : Bus_structural_definition;
      connected_terminal : Functional_unit_usage_view_terminal_definition;
    UNIQUE
      UR1 : connected_bus, connected_terminal;
  END_ENTITY;

  ENTITY Functional_unit_network_terminal_definition_node_assignment;
      composed_node      : Functional_unit_network_node_definition;
      connected_terminal : Functional_unit_usage_view_terminal_definition;
    UNIQUE
      UR1 : composed_node, connected_terminal;
  END_ENTITY;

  ENTITY Functional_unit_terminal;
      accessed_functional_unit : Functional_unit;
      definition               : Functional_unit_usage_view_terminal_definition;
    INVERSE
      bus_assignment  : SET[0:1] OF functional_unit_terminal_bus_assignment FOR connected_terminal;
      node_assignment : SET[0:1] OF functional_unit_terminal_node_assignment FOR connected_terminal;
  END_ENTITY;

  ENTITY Functional_unit_terminal_bus_assignment;
      connected_bus      : Bus_structural_definition;
      connected_terminal : Functional_unit_terminal;
  END_ENTITY;

  ENTITY Functional_unit_terminal_node_assignment;
      composed_node      : Functional_unit_network_node_definition;
      connected_terminal : Functional_unit_terminal;
  END_ENTITY;

  ENTITY Physical_connectivity_definition
    SUPERTYPE OF (
              PHYSICAL_CONNECTIVITY_STRUCTURE_DEFINITION)
  SUBTYPE OF (Shape_element);
      associated_terminals  : SET[2:?] OF Physical_component_terminal;

      SELF\Shape_element.element_name : STRING;

      SELF\Shape_element.containing_shape : Physical_unit_network_definition;  -- associated_definition : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      associated_definition : PHYSICAL_UNIT_NETWORK_DEFINITION := SELF\Shape_element.containing_shape;  -- CONTAINING_SHAPE : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

    UNIQUE
      UR1 : SELF\Shape_element.element_name, associated_definition;
  END_ENTITY;

  ENTITY Physical_connectivity_definition_relationship;
      first_definition  : Physical_connectivity_definition;
      second_definition : Physical_connectivity_definition;
      purpose           : STRING;
    INVERSE
      requirement : SET[1:1] OF Requirement_assignment FOR assigned_to;
  END_ENTITY;

  ENTITY Physical_connectivity_element;
      name                 : STRING; 
      start_terminus       : termination_or_junction;
      end_terminus         : termination_or_junction;
      connectivity_context : Physical_connectivity_structure_definition;
    UNIQUE
      UR1 : name, connectivity_context;
    WHERE
      WR1 : start_terminus <> end_terminus;
  END_ENTITY;

  ENTITY Physical_connectivity_make_from_relationship;
      reusable_definition  : Physical_connectivity_definition;
      resultant_definition : Physical_connectivity_definition;
  END_ENTITY;

  ENTITY Physical_connectivity_structure_definition
    SUBTYPE OF (Physical_connectivity_definition);
    DERIVE
      structural_terminal_nodes : SET OF Physical_component_terminal := get_pct(structural_element);
      structural_junction_nodes : SET OF Topological_junction := get_tj(structural_element);
      tree_structure : BOOLEAN := ((SIZEOF(structural_terminal_nodes) + SIZEOF(structural_junction_nodes)) = (SIZEOF(structural_element) + 1));
    INVERSE
      structural_element : SET[1:?] OF Physical_connectivity_element FOR connectivity_context;
    WHERE
      WR1 : SIZEOF(QUERY(stn <* structural_terminal_nodes |
                   NOT(stn IN SELF\Physical_connectivity_definition.associated_terminals)
                   )) = 0;
      WR2 : SIZEOF(structural_terminal_nodes) = 
            SIZEOF(SELF\Physical_connectivity_definition.associated_terminals);
  END_ENTITY;

  ENTITY Physical_unit_network_definition
    SUBTYPE OF (Part_design_view);
    DERIVE
      terminals : SET [0:?] OF Component_terminal := 
      get_terminals(bag_to_set(USEDIN(SELF,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PHYSICAL_CONNECTIVITY_DEFINITION.ASSOCIATED_DEFINITION')));
    WHERE
      WR1 : NOT (SIZEOF(terminals) > 1) OR
           (SIZEOF(QUERY(t <* terminals | NOT(SIZEOF(USEDIN(t, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
                          'PHYSICAL_CONNECTIVITY_DEFINITION.ASSOCIATED_TERMINALS')) = 1))) = 0);
  END_ENTITY;

  ENTITY Topological_junction;
      name  : STRING;   
      scope : Physical_connectivity_structure_definition;
    UNIQUE
      UR1 : name, scope;
  END_ENTITY; 

  ENTITY Interface_mounted_join;
      connection_to_interconnect_module_component : Packaged_connector_component_interface_terminal;
      access_to_interface_mounted_component       : Physical_component_terminal;
  END_ENTITY;

  ENTITY Packaged_connector_component
    SUBTYPE OF (Interface_component,
 Packaged_component);
      SELF\Definition_based_product_occurrence.derived_from : Packaged_connector;
    INVERSE
      interface_access_mechanism : SET[1:?] OF packaged_connector_component_interface_terminal FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
 WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.name);
  END_ENTITY;

  ENTITY Packaged_connector_component_interface_terminal
    SUBTYPE OF (Physical_component_interface_terminal);
      SELF\Component_feature.definition           : Packaged_part_interface_terminal;

      SELF\Shape_element.containing_shape : Packaged_connector_component;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
 WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Physical_component_interface_terminal
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Physical_component_feature);
      SELF\Shape_element.containing_shape : Interface_component;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Interface_component
    SUBTYPE OF (Physical_component);
    INVERSE
      access_mechanism : SET[1:?] OF physical_component_interface_terminal FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)

  END_ENTITY;

  ENTITY Package_external_reference;
      design_owner          : STRING;
      part_number           : STRING;
      revision_code         : STRING;
      product_definition_id : STRING;
  END_ENTITY;

  ENTITY Package_terminal_external_reference;
      name                  : STRING;  
      associated_definition : Package_external_reference;
    UNIQUE
      UR1 : associated_definition,
 name;
  END_ENTITY;

  ENTITY Part_terminal_external_reference;
      associated_definition : physical_unit_or_part_template;
      feature_name          : STRING; 
      feature_type          : STRING; 
    UNIQUE
      UR1 : associated_definition,
 feature_name,
 feature_type;
  END_ENTITY;

  ENTITY Connection_zone_in_layout_template
  	SUBTYPE OF (Connection_zone, Instanced_feature);
  	SELF\Shape_element.containing_shape : Template_definition;
  END_ENTITY; 

	ENTITY Reference_part_template_for_analytical_model ;
		template					: Template_definition;
		analytical_representation	: Analytical_model_definition;
		UNIQUE
			UR1 : template;
	END_ENTITY;

  ENTITY Template
  	SUBTYPE OF (Product);
    UNIQUE 
      UR1: SELF\Product.id;
  	WHERE 
      WR1 : SIZEOF([ 'template model' ] * types_of_product(SELF))= 1 ;
  END_ENTITY;

  ENTITY Template_definition
      SUPERTYPE OF ( ( (ONEOF (
               PARAMETRIC_TEMPLATE,
               PART_STRING_TEMPLATE,
               PART_TEXT_TEMPLATE)) )ANDOR( (ONEOF (
               GEOMETRIC_TEMPLATE,
               SINGLE_STRATUM_TEMPLATE,
               STRATUM_STACK_MODEL)) )  ) 
      SUBTYPE OF (Item_shape, Product_view_definition);
    	SELF\Product_view_definition.defined_version 	: Template_version;
      	physical_characteristic                 : OPTIONAL SET[1:?] OF correlated_or_independent;
    DERIVE	
    	SELF\Item_shape.described_element     				: template_definition := SELF;      
    WHERE
      WR1 : SIZEOF(QUERY(prpc <* USEDIN(SELF\Product_view_definition.defined_version.of_product,
 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS') | (prpc.category\Product_category.name = 'template model'))) > 0;
  END_ENTITY;

  ENTITY Template_version
 	SUBTYPE OF (Product_version);
  		SELF\Product_version.of_product : Template;
  END_ENTITY;

  ENTITY Component_feature
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Shape_element);
      definition           : OPTIONAL feature_select;

      SELF\Shape_element.containing_shape : Assembly_component;  -- associated_component : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\Shape_element.element_name : STRING;
    DERIVE
      associated_component : ASSEMBLY_COMPONENT := SELF\Shape_element.containing_shape;  -- CONTAINING_SHAPE : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

    UNIQUE
      UR1 : definition,associated_component;
      UR2 : SELF\Shape_element.element_name, associated_component;
  END_ENTITY;

  ENTITY Component_feature_joint
      ABSTRACT SUPERTYPE
  SUBTYPE OF (Component_feature_relationship, Shape_element);
    SELF\Shape_element.element_name : STRING;
    DERIVE
      associated_definition : ITEM_SHAPE := SELF\Shape_element.containing_shape;  -- CONTAINING_SHAPE : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      feature_1 : COMPONENT_FEATURE := SELF\Shape_element_relationship.relating;  -- RELATING : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      feature_2 : COMPONENT_FEATURE := SELF\Shape_element_relationship.related;  -- RELATED : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
 WHERE
      WR1 : feature_1 <> feature_2;
      WR2 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRODUCT_VIEW_DEFINITION' in TYPEOF(associated_definition);
      WR3 : SELF\Shape_element.containing_shape\Item_shape.described_element = feature_1\Shape_element.containing_shape\Item_shape.described_element;      
  END_ENTITY;

  ENTITY Component_feature_make_from_relationship
		SUBTYPE OF (Component_feature_relationship);
    DERIVE
      resultant_feature : COMPONENT_FEATURE := SELF\Shape_element_relationship.related;  -- RELATED : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      reusable_feature : COMPONENT_FEATURE := SELF\Shape_element_relationship.relating;  -- RELATING : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY;

  ENTITY Component_feature_relationship
    SUPERTYPE OF (ONEOF (
              COMPONENT_FEATURE_JOINT,
              COMPONENT_FEATURE_MAKE_FROM_RELATIONSHIP))
 	SUBTYPE OF (Shape_element_relationship);
      SELF\Shape_element_relationship.relating : Component_feature;  	
      SELF\Shape_element_relationship.related  : Component_feature;
  END_ENTITY;

  ENTITY Component_feature_to_physical_usage_view_assignment;
      defined_part_feature   : Part_feature;
      assigned_design_object : Component_feature;
    UNIQUE 
    	UR1 : assigned_design_object;
    	UR2 : defined_part_feature;
  END_ENTITY;

  ENTITY Component_terminal
    SUBTYPE OF (Component_feature);
      local_swappable  : OPTIONAL BOOLEAN;
      global_swappable : OPTIONAL BOOLEAN;
      swap_code        : OPTIONAL STRING;
  END_ENTITY;

  ENTITY Constraint_occurrence
    SUPERTYPE OF (
              VIEW_BASED_CONSTRAINT_OCCURRENCE)
  SUBTYPE OF (Predefined_requirement_view_definition);
      logical_relation : OPTIONAL Complex_clause;
    WHERE
      WR1 : (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'VIEW_BASED_CONSTRAINT_OCCURRENCE') IN TYPEOF(SELF)) OR EXISTS(logical_relation);
      WR2 : NOT EXISTS(SELF\Product_view_definition.id);
  END_ENTITY;

  ENTITY Design_characteristic_occurrence
    SUBTYPE OF (Predefined_requirement_view_definition);
  END_ENTITY;

  ENTITY View_based_constraint_occurrence
    SUPERTYPE OF (
              SHAPE_AND_VIEW_BASED_CONSTRAINT_OCCURRENCE)
  SUBTYPE OF (Constraint_occurrence);
      constraining_part : Product_view_definition;
  END_ENTITY;

  ENTITY Material_electrical_conductivity_requirement_occurrence
    SUBTYPE OF (Predefined_requirement_view_definition);
      electrical_conductivity_characteristic : material_conductivity_classification;
  END_ENTITY;

  ENTITY Operational_requirement_occurrence_relationship
     SUBTYPE OF (Assigned_property, View_definition_relationship);
       SELF\View_definition_relationship.relating_view : Requirement_view_definition;  -- operand_1 : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
       SELF\View_definition_relationship.related_view : Requirement_view_definition;  -- operand_2 : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
       SELF\Assigned_property.described_element : Requirement_view_definition;  -- result : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
       relationship_type                                                 : relationship_operation;
    DERIVE
      operand_1 : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      operand_2 : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      result : REQUIREMENT_VIEW_DEFINITION := SELF\Assigned_property.described_element;  -- DESCRIBED_ELEMENT : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
 WHERE
      WR1 : operand_1 :<>: operand_2;
  END_ENTITY;

  ENTITY Predefined_requirement_view_definition
	SUPERTYPE OF (ONEOF (
              CONSTRAINT_OCCURRENCE,
              DESIGN_CHARACTERISTIC_OCCURRENCE))
  SUBTYPE OF(Requirement_view_definition);
      required_analytical_representation  : OPTIONAL SET[1:?] OF Analytical_model_application;
      required_functional_specification   : OPTIONAL SET[1:?] OF Functional_specification;
      required_characteristic             : OPTIONAL characteristic_select;
    DERIVE
		requirement_specification: SET[1:?] OF Document_definition :=
  			get_document_definition(SELF, 'requirement specification', 
  			'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SPECIFICATION_DEFINITION');
		reference_clause: SET[0:1] OF Document_definition :=
  			get_document_definition(SELF, 'reference clause', 
  			'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.DOCUMENT_DEFINITION');
   INVERSE
	  required_material : SET [0:1] OF material_identification FOR items;      
    WHERE  
	  WR1 : NOT (SIZEOF(required_material) = 1) OR
            ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (required_material));
      WR2: SELF\Product_view_definition.initial_context.application_domain IN 
          ['mechanical', 'thermal', 'electromechancial', 'electromagnetic compatibility', 'electrical'];
      WR3: SELF\Product_view_definition.initial_context.life_cycle_stage in ['design', 'qualify', 'inspect', 'test'];
      WR4 : NOT EXISTS(SELF\Product_view_definition.name);
  END_ENTITY;

  ENTITY Requirement_view_definition_relationship
     SUBTYPE OF (View_definition_relationship);
       SELF\View_definition_relationship.relating_view : Requirement_view_definition;  -- primary : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
       SELF\View_definition_relationship.related_view : Requirement_view_definition;  -- secondary : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
       SELF\View_definition_relationship.relation_type                  : STRING;
    DERIVE
      primary : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      secondary : REQUIREMENT_VIEW_DEFINITION := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
 WHERE
       WR1 : primary :<>: secondary;
       WR2 : SELF\View_definition_relationship.relation_type IN ['derived from', 'precedence', 'reference to', 'supplemental'];
  END_ENTITY;

  ENTITY Shape_and_view_based_constraint_occurrence
    SUBTYPE OF (View_based_constraint_occurrence);
      constraining_shape : SET[1:?] OF Geometric_model;
    WHERE
      WR1 : valid_constraining_shape(constraining_shape,
 SELF\View_based_constraint_occurrence.constraining_part);
  END_ENTITY;

ENTITY Abstract_variable
   ABSTRACT SUPERTYPE OF (ONEOF (
                        SCALAR_VARIABLE,
                        ROW_VARIABLE));
  name : STRING;
  scope : scope_select;
 UNIQUE 
  UR1 : name, scope;
END_ENTITY;

ENTITY Atomic_formula
   ABSTRACT SUPERTYPE OF (ONEOF (
                        RULE_CONDITION,
                        GROUND_FACT));
  predicate_symbol : predicate_symbol;  
  terms : LIST OF term_select;
END_ENTITY;

ENTITY Attribute_assertion
  SUBTYPE OF (Fact_type);
   entity_type : STRING;
   attribute : STRING;
END_ENTITY; 

ENTITY Back_chaining_rule
  SUBTYPE OF (Rule_definition);
  head : Rule_condition;
  body : LIST OF Rule_condition;
 WHERE
  WR1: SELF.head.positive = TRUE;
  WR2:  local_vars_of(SELF.head) <= local_vars_of(SELF.body);
END_ENTITY;

ENTITY Complex_clause
   ABSTRACT SUPERTYPE OF (ONEOF (
                        COMPLEX_CONJUNCTIVE_CLAUSE,
                        COMPLEX_DISJUNCTIVE_CLAUSE));
  clauses : LIST [2:?] OF clause_select;
END_ENTITY;

ENTITY Complex_conjunctive_clause
  SUBTYPE OF (Complex_clause); 
END_ENTITY;

ENTITY Complex_disjunctive_clause
  SUBTYPE OF (Complex_clause); 
END_ENTITY;

ENTITY Entity_assertion
  SUBTYPE OF (Fact_type);
END_ENTITY;

ENTITY Enum_reference_prefix;
 prefix : STRING;
END_ENTITY;

ENTITY Extent;
  source : STRING;
  variable_id : OPTIONAL STRING;
  query_expression : STRING;
  syntax : OPTIONAL expression_syntax;
END_ENTITY;

ENTITY Fact_type
   ABSTRACT SUPERTYPE OF (ONEOF (
                        ENTITY_ASSERTION,
                        ATTRIBUTE_ASSERTION));
   source : Extent;
   predicate_symbol : STRING;
END_ENTITY;

ENTITY Forward_chaining_rule
  SUBTYPE OF (Rule_definition);
  premise : clause_Select; 
  conclusion : Literal_conjunction;
  WHERE
  WR1:  local_vars_of(SELF.conclusion) <= local_vars_of(SELF.premise);
END_ENTITY;

ENTITY Func;
 func_sym : function_symbol;
 terms : LIST OF term_select;
END_ENTITY;

ENTITY Global_assignment;
  variable : Abstract_variable;
  val : term_select;
 WHERE
  WR1: NOT(contains_variable(SELF.val));
END_ENTITY;

ENTITY Ground_fact
 SUBTYPE OF (Atomic_formula);
 WHERE
  WR1: SIZEOF(QUERY(r <* SELF\Atomic_formula.terms | contains_variable(r))) = 0;
END_ENTITY;

ENTITY Literal_conjunction
  SUBTYPE OF (Simple_clause);
END_ENTITY;

ENTITY Literal_disjunction
  SUBTYPE OF (Simple_clause);
END_ENTITY;

ENTITY Row_value;
  values : LIST OF term_select;
 WHERE
  WR1: SIZEOF(QUERY(v <* SELF.values | contains_variable(v))) = 0;
  WR2: SIZEOF(QUERY(v <* SELF.values | 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ROW_VALUE' IN TYPEOF(v))) = 0;
END_ENTITY;

ENTITY Row_variable
 SUBTYPE OF (Abstract_variable);
END_ENTITY;

ENTITY Rule_action
    ABSTRACT SUPERTYPE OF (ONEOF (
                        RULE_SUBMISSION,
                        RULE_ADOPTION,
                        RULE_REJECTION,
                        RULE_SUPERSEDENCE,
                        RULE_CREATION,
                        RULE_EXPIRATION,
                        RULE_CHANGE_REQUEST,
                        RULE_REQUEST,
                        RULE_MODIFICATION));
   subject_rule : Rule_version;
DERIVE
   subject_action_assignment : SET[0:?] OF Organization_or_person_in_organization_assignment := 
         bag_to_set(QUERY(temp <* USEDIN ( SELF , 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
                                       'ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT.ITEMS' ) 
                    | ( temp.role = 'subject action assignment')));
  UNIQUE
   UR1: SELF\Rule_action.subject_rule, SELF\Rule_action.subject_action_assignment;
  WHERE
   WR1: EXISTS (subject_action_assignment) AND (SIZEOF(subject_action_assignment) = 1 );
END_ENTITY;

ENTITY Rule_adoption
   SUBTYPE OF (Rule_action);
END_ENTITY;

ENTITY Rule_change_request
   SUBTYPE OF (Rule_action);
   change_reason : STRING;
END_ENTITY;

ENTITY Rule_condition
 SUBTYPE OF (Atomic_formula);
  positive : BOOLEAN;
END_ENTITY;

ENTITY Rule_creation
    SUBTYPE OF (Rule_action);
END_ENTITY;

ENTITY Rule_definition
   ABSTRACT SUPERTYPE OF (ONEOF (
                        FORWARD_CHAINING_RULE,
                        BACK_CHAINING_RULE))
  SUBTYPE OF (Rule_software_definition);
END_ENTITY; 

ENTITY Rule_expiration
   SUBTYPE OF (Rule_action);
   expiration_rationale : STRING;
END_ENTITY;

ENTITY Rule_justification
   SUBTYPE OF (Rule_action);
   justified_action : Rule_action;
   justification_rationale : STRING;
WHERE
   WR1: SELF <> justified_action ;
END_ENTITY;

ENTITY Rule_modification
   SUBTYPE OF (Rule_action);
   modification_rationale : Rule_change_request;
END_ENTITY;

ENTITY Rule_priority;
   priority : INTEGER;
   prioritized_rule : Rule_definition;
WHERE
   WR1: priority >= 0 ;
END_ENTITY;

ENTITY Rule_product
   SUBTYPE OF (Software);
WHERE
   WR1: SIZEOF ( [ 'rule' ] * types_of_product ( SELF ) ) = 1 ;
END_ENTITY;

ENTITY Rule_rejection
   SUBTYPE OF (Rule_action);
   rejection_reason : STRING;
END_ENTITY;

ENTITY Rule_request
   SUBTYPE OF (Rule_action);
END_ENTITY;

ENTITY Rule_set
   SUBTYPE OF (Rule_software_definition);
   conflict_resolution_strategy : OPTIONAL STRING;
   rule_member : SET[1:?] OF Rule_priority;
 DERIVE  
   engine: SET[1:1] OF Document_definition :=
		get_document_definition(SELF, 'engine', 
		'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LANGUAGE_REFERENCE_MANUAL');
 INVERSE
   purpose : Identification_assignment FOR items;
 WHERE
   WR1: purpose.role = 'purpose' ;
END_ENTITY;

ENTITY Rule_set_group
  SUBTYPE OF (Rule_software_definition);
  elements : SET[2:?] OF Rule_set;
END_ENTITY;

ENTITY Rule_software_definition
   SUPERTYPE OF (ONEOF (
              RULE_DEFINITION,
              RULE_SET_GROUP,
              RULE_SET))
  SUBTYPE OF (Software_definition);
   SELF\Product_view_definition.defined_version : Rule_version;
END_ENTITY;

ENTITY Rule_submission
   SUBTYPE OF (Rule_action);
   submission_rationale : STRING;
END_ENTITY;

ENTITY Rule_supersedence
   SUBTYPE OF (Rule_action);
   superseded_rule : Rule_version;
END_ENTITY;

ENTITY Rule_version
   SUBTYPE OF (Software_version);
   SELF\Product_version.of_product : Rule_product;
INVERSE
   management_action : SET[1:?] OF Rule_action FOR subject_rule;
   product_definition : SET[1:?] OF Rule_software_definition FOR defined_version;
END_ENTITY;

ENTITY Scalar_variable
 SUBTYPE OF (Abstract_variable);
END_ENTITY;

ENTITY Simple_clause
   ABSTRACT SUPERTYPE OF (ONEOF (
                        LITERAL_CONJUNCTION,
                        LITERAL_DISJUNCTION));
  formulas : LIST [1:?] OF Rule_condition;
END_ENTITY;

ENTITY Symbol
  SUBTYPE OF(Representation_item);
 UNIQUE
  UR1 : SELF\Representation_item.name;
END_ENTITY;

  ENTITY Functional_usage_view_to_part_terminal_assignment;
      physical_usage_view_terminal   : Part_terminal;
      functional_usage_view_terminal : Scalar_terminal_definition;
    UNIQUE
      UR1 : functional_usage_view_terminal,
 physical_usage_view_terminal;
  END_ENTITY;

  ENTITY Part_connected_terminals_definition;
      name                  : STRING;   
      associated_definition : Part_usage_view;
      connected_terminals   : SET[2:?] OF Part_terminal;
    UNIQUE
      UR1 : name,
 associated_definition;
    WHERE
      WR1 : SIZEOF(QUERY(ct <* connected_terminals | NOT (associated_definition = ct\Shape_element.containing_shape))) = 0;
  END_ENTITY;

  ENTITY Part_terminal
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Part_feature);
    INVERSE
      connection_requirement         : SET[0:1] OF part_connected_terminals_definition FOR connected_terminals;
      functional_usage_view_terminal : SET[0:1] OF functional_usage_view_to_part_terminal_assignment FOR physical_usage_view_terminal;
  END_ENTITY;

  ENTITY Equivalent_functional_terminals_assignment;
      name                 : STRING;   
      equivalent_terminals : SET[2:?] OF Functional_unit_usage_view_terminal_definition;
  END_ENTITY;

  ENTITY Equivalent_functional_unit_definition_assignment;
      name                                   : STRING;   
      equivalent_functional_unit_definitions : SET[2:?] OF Functional_unit_definition;
  END_ENTITY;

  ENTITY Functional_product
  	SUBTYPE OF (Information_product);
    UNIQUE 
      UR1: SELF\Product.id;
    WHERE 
      WR1 : SIZEOF([ 'functional' ] * types_of_product(SELF))= 1 ;
  END_ENTITY;

  ENTITY Functional_terminal_group;
      name              : STRING; 
      group_description : STRING;
      group_type        : STRING;
    UNIQUE
      UR1 : name;
  END_ENTITY;

  ENTITY Functional_terminal_group_assignment;
      composed_group                 : Functional_terminal_group;
      functional_usage_view_terminal : Scalar_terminal_definition;
  END_ENTITY;

  ENTITY Functional_unit_definition
      ABSTRACT SUPERTYPE OF ((ONEOF (
                        FUNCTIONAL_UNIT_NETWORK_DEFINITION,
                        FUNCTIONAL_UNIT_USAGE_VIEW)) ) 
  SUBTYPE OF (Information_definition);
      SELF\Product_view_definition.defined_version : Functional_version;
  END_ENTITY;

	ENTITY Functional_unit_make_from_relationship
		SUBTYPE OF (View_definition_relationship);
		SELF\View_definition_relationship.relating_view : Functional_unit_usage_view;		
		SELF\View_definition_relationship.related_view 	: Functional_unit_usage_view;
	END_ENTITY;

  ENTITY Functional_unit_usage_view
    SUBTYPE OF (Functional_unit_definition);
     DERIVE analytical_model_application_reference : SET[0:?] OF Analytical_model_application := 
     bag_to_set(USEDIN(access_mechanism[1],'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ANALYTICAL_MODEL_PORT_ASSIGNMENT.ASSIGNED_ITEM'));
    INVERSE
      access_mechanism : SET[1:?] OF functional_unit_usage_view_terminal_definition FOR associated_functional_unit_definition;
    WHERE
      WR1: SIZEOF(analytical_model_application_reference) <= 1;
      WR2: NOT(SIZEOF(analytical_model_application_reference) = 1) OR
        (SIZEOF(QUERY( am <* access_mechanism |
           NOT((SIZEOF(USEDIN(am,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ANALYTICAL_MODEL_PORT_ASSIGNMENT.ASSIGNED_ITEM')) = 0) OR
              (SIZEOF(QUERY( ampa <* USEDIN(am, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ANALYTICAL_MODEL_PORT_ASSIGNMENT.ASSIGNED_ITEM') |
                 NOT(analytical_model_application_reference[1] :=: ampa.associated_analytical_model_application) 
                 )) = 0))
        )) = 0);
  END_ENTITY;

  ENTITY Functional_unit_usage_view_terminal_definition
    SUPERTYPE OF (
              SCALAR_TERMINAL_DEFINITION);
      associated_functional_unit_definition : Functional_unit_usage_view;
      signal_name                           : STRING; 
    UNIQUE
      UR1 : signal_name,
 associated_functional_unit_definition;
  END_ENTITY;

  ENTITY Functional_unit_usage_view_terminal_definition_make_from_relationship;
      associated_make_from : Functional_unit_make_from_relationship;
      reusable_feature     : Functional_unit_usage_view_terminal_definition;
      resultant_feature    : Functional_unit_usage_view_terminal_definition;
    UNIQUE
      UR1 : reusable_feature,
 resultant_feature;
    WHERE
      WR1 : reusable_feature :<>: resultant_feature;
      WR2 : reusable_feature.associated_functional_unit_definition :<>: resultant_feature.associated_functional_unit_definition;
  END_ENTITY;

  ENTITY Functional_version
  	SUBTYPE OF (Information_version);
	  SELF\Product_version.of_product : Functional_product;
  END_ENTITY;

  ENTITY Scalar_terminal_definition
    SUBTYPE OF (Functional_unit_usage_view_terminal_definition);
  END_ENTITY;

  ENTITY Scalar_terminal_definition_link;
      precedent_terminal_definition  : Scalar_terminal_definition;
      subsequent_terminal_definition : Scalar_terminal_definition;
    UNIQUE
      UR1 : precedent_terminal_definition,
 subsequent_terminal_definition;
    WHERE
      WR1 : precedent_terminal_definition :<>: subsequent_terminal_definition;
  END_ENTITY;

  ENTITY Derived_part_view_definition_relationship
    SUBTYPE OF(View_definition_relationship);
     SELF\View_definition_relationship.relating_view : Part_view_definition;
     SELF\View_definition_relationship.related_view  : Part_view_definition;
    WHERE
      WR1: SIZEOF(get_derived_shape_element(SELF\View_definition_relationship.related_view)) > 0;
      WR2: SIZEOF(QUERY(gdrse <* get_derived_shape_element(SELF\View_definition_relationship.related_view) |
             (SIZEOF(QUERY(se <* gdrse.derived_from |
              SELF\View_definition_relationship.relating_view <> se.containing_shape.described_element
              )) = 0)
             )) = SIZEOF(get_derived_shape_element(SELF\View_definition_relationship.related_view));
      WR3 : NOT EXISTS(SELF\View_definition_relationship.relation_type);             
  END_ENTITY;

  ENTITY Connection_zone_in_usage_view
  	SUBTYPE OF (Connection_zone);
  	DERIVE
  		associated_definition : Part_usage_view := containing_shape.described_element;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.element_name);
  END_ENTITY; 

  ENTITY Connection_zone_map_identification;
      reference_connection_zone_shape : Usage_view_connection_zone_terminal_shape_relationship;
      mapped_connection_zone_shape    : Usage_view_connection_zone_terminal_shape_relationship;
    UNIQUE
      UR1 : reference_connection_zone_shape,
 mapped_connection_zone_shape;
    WHERE
      WR1 : reference_connection_zone_shape <> mapped_connection_zone_shape;
      WR2 : reference_connection_zone_shape.associated_connection_zone_shape_definition <> mapped_connection_zone_shape.associated_connection_zone_shape_definition;
  END_ENTITY;

  ENTITY Part_feature
      SUPERTYPE OF ((ONEOF (
               PACKAGE_ORIENTATION_FEATURE,
               PACKAGE_BODY)) ) 
      SUBTYPE OF (Shape_feature);
      SELF\Shape_element.containing_shape : Part_usage_view;  -- associated_definition : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      material_state_change   : OPTIONAL material_state_change_enumeration;

      precedent_feature       : OPTIONAL Part_feature;
    DERIVE
      associated_definition : PART_USAGE_VIEW := SELF\Shape_element.containing_shape;  -- CONTAINING_SHAPE : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
    INVERSE
      subsequent_feature      : SET [0:1] OF Part_feature for precedent_feature;

 WHERE
      WR1 : NOT EXISTS(precedent_feature) OR
                NOT( precedent_feature IN subsequent_feature);    
      WR2 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Part_feature_make_from_relationship
  	SUBTYPE OF (Shape_element_relationship);
      associated_make_from : View_definition_relationship;

      SELF\Shape_element_relationship.relating : Part_feature;  -- reusable_feature : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\Shape_element_relationship.related : Part_feature;  -- resultant_feature : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      resultant_feature : PART_FEATURE := SELF\Shape_element_relationship.related;  -- RELATED : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      reusable_feature : PART_FEATURE := SELF\Shape_element_relationship.relating;  -- RELATING : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1 : reusable_feature :<>: resultant_feature;
      WR2 : reusable_feature.associated_definition :<>: resultant_feature.associated_definition;
  END_ENTITY;

  ENTITY Part_feature_template_definition
    SUBTYPE OF (Shape_feature_definition);
      id : STRING;
    UNIQUE
      UR1 : id; 
  END_ENTITY;

  ENTITY Part_feature_template_shape_model
    SUBTYPE OF (Geometric_model);
    WHERE
      WR1 : NOT (SIZEOF(USEDIN(SELF, '')) > 1) OR 
       (SIZEOF(QUERY(foo <* USEDIN(SELF,'') | 
       NOT(SIZEOF(['AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.USAGE_CONCEPT_USAGE_RELATIONSHIP',
        'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_FEATURE_TEMPLATE_DEFINITION'] * TYPEOF(foo))= 1)
        )) 
        = 0);
      WR2 : NOT EXISTS(SELF\Representation.description);
      WR3 : SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_DESCRIPTION_ASSOCIATION.REPRESENTATION'))=0;            
  END_ENTITY;

  ENTITY Part_usage_view
    SUBTYPE OF (Part_view_definition, Item_shape);
    DERIVE
    	SELF\Item_shape.described_element : shapeable_item := SELF;
  END_ENTITY;

  ENTITY Usage_view_connection_zone_terminal_shape_relationship;
      associating_terminal_shape                  : Part_feature_template_shape_model;
      associated_usage                            : Connection_zone_in_usage_view;
      associated_connection_zone_shape_definition : Geometric_model;
      associated_usage_placement                  : Axis_placement;
    WHERE
      WR1 : associating_terminal_shape :<>: associated_connection_zone_shape_definition;
  END_ENTITY;

 ENTITY Conductivity_material_property_class
	 ABSTRACT SUPERTYPE OF (ONEOF (
                        MATERIAL_ELECTRICAL_CONDUCTIVITY_CLASS,
                        MATERIAL_THERMAL_CONDUCTIVITY_CLASS))
  SUBTYPE OF (Class);
  WHERE
	WR1: SELF\Class.name IN 
       ['conductive', 'non conductive', 'resistive', 'semi conductive', 'super conductive'];
    WR2: NOT EXISTS(SELF\Class.description);
 END_ENTITY;

 ENTITY Relative_permeability_material_property_class
  SUBTYPE OF (Class);
  WHERE
	WR1: SELF\Class.name IN 
       ['free space permeabilty', 'low permeability', 'medium permeability', 'highly permeable'];
    WR2: NOT EXISTS(SELF\Class.description);
 END_ENTITY;

 ENTITY Relative_optical_insertion_loss_material_property_class
  SUBTYPE OF (Class);
  WHERE
	WR1: SELF\Class.name IN 
       ['vacuum', 'very low loss', 'low loss', 'medium loss', 'high loss'];
    WR2: NOT EXISTS(SELF\Class.description);
 END_ENTITY;

 ENTITY Relative_permittivity_material_property_class
  SUBTYPE OF (Class);
  WHERE
	WR1: SELF\Class.name IN 
       ['vacuum permittivity', 'low permittivity', 'medium permittivity', 'high permittivity'];
    WR2: NOT EXISTS(SELF\Class.description);
 END_ENTITY;

ENTITY Material_electrical_conductivity_class
  SUBTYPE OF (Conductivity_material_property_class);
END_ENTITY;

ENTITY Material_thermal_conductivity_class
  SUBTYPE OF (Conductivity_material_property_class);
END_ENTITY;

 ENTITY Material_identification_with_conductivity_classification
  SUBTYPE OF (Material_identification);
  DERIVE
    electrical_conductivity_classification : STRING := get_cond_class(SELF,'MATERIAL_ELECTRICAL_CONDUCTIVITY_CLASS');
    magnetic_permeability_classification   : STRING := get_cond_class(SELF,'RELATIVE_PERMEABILITY_MATERIAL_PROPERTY_CLASS');
    optical_insertion_loss_classification  : STRING := get_cond_class(SELF,'RELATIVE_OPTICAL_INSERTION_LOSS_MATERIAL_PROPERTY_CLASS');
    thermal_conductivity_classification    : STRING := get_cond_class(SELF,'MATERIAL_THERMAL_CONDUCTIVITY_CLASS');
    dielectric_permittivity_classification : STRING := get_cond_class(SELF,'RELATIVE_PERMITTIVITY_MATERIAL_PROPERTY_CLASS');
  WHERE 	
  	WR1: (SIZEOF(QUERY(ca <* USEDIN(SELF,
	 	'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
	 	'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') |
	 	('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
	 	'MATERIAL_ELECTRICAL_CONDUCTIVITY_CLASS' IN TYPEOF (ca.assigned_class)))) = 1);
  	WR2: (SIZEOF(QUERY(ca <* USEDIN(SELF,
	 	'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
	 	'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') |
	 	('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
	 	'MATERIAL_THERMAL_CONDUCTIVITY_CLASS' IN TYPEOF (ca.assigned_class)))) <= 1);
  	WR3: (SIZEOF(QUERY(ca <* USEDIN(SELF,
	 	'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
	 	'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') |
	 	('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
	 	'RELATIVE_PERMEABILITY_MATERIAL_PROPERTY_CLASS' IN TYPEOF (ca.assigned_class)))) <= 1);
  	WR4: (SIZEOF(QUERY(ca <* USEDIN(SELF,
	 	'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
	 	'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') |
	 	('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
	 	'RELATIVE_PERMITTIVITY_MATERIAL_PROPERTY_CLASS' IN TYPEOF (ca.assigned_class)))) <= 1);
  	WR5: (SIZEOF(QUERY(ca <* USEDIN(SELF,
	 	'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
	 	'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') |
	 	('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
	 	'RELATIVE_OPTICAL_INSERTION_LOSS_MATERIAL_PROPERTY_CLASS' IN TYPEOF (ca.assigned_class)))) <= 1);
 END_ENTITY;

ENTITY Part_view_definition
    SUPERTYPE OF ((ONEOF (
               PART_USAGE_VIEW,
               PART_DESIGN_VIEW)) ) 
      SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Part_version;
END_ENTITY;

ENTITY Geometric_coordinate_space
SUBTYPE OF (Numerical_representation_context);
  dimension_count: INTEGER;
WHERE
WR1: dimension_count >0;
END_ENTITY;

ENTITY Geometric_model
  SUPERTYPE OF ((ONEOF (
               PHYSICAL_UNIT_KEEPOUT_SHAPE_MODEL,
               PHYSICAL_UNIT_SHAPE_MODEL)) ) 
    
SUBTYPE OF (Representation);
  version_id    : OPTIONAL STRING;
  model_extent  : OPTIONAL length_measure;
  SELF\Representation.context_of_items : Geometric_coordinate_space;
  SELF\Representation.items: SET[1:?] OF Detailed_geometric_model_element;
END_ENTITY;

ENTITY Detailed_geometric_model_element
  ABSTRACT SUPERTYPE OF ( ( ONEOF (
                        CARTESIAN_POINT,
                        DIRECTION,
                        AXIS_PLACEMENT,
                        CARTESIAN_TRANSFORMATION_2D,
                        CARTESIAN_TRANSFORMATION_3D) )ANDOR( ONEOF (
                        CARTESIAN_POINT,
                        DIRECTION,
                        AXIS_PLACEMENT,
                        CARTESIAN_TRANSFORMATION_2D,
                        CARTESIAN_TRANSFORMATION_3D,
                        CURVE,
                        POINT_ON_CURVE,
                        POINT_ON_SURFACE,
                        SURFACE) )ANDOR( ONEOF (
                        CARTESIAN_POINT,
                        DIRECTION,
                        AXIS_PLACEMENT,
                        CARTESIAN_TRANSFORMATION_2D,
                        CARTESIAN_TRANSFORMATION_3D,
                        CURVE,
                        POINT_ON_CURVE,
                        POINT_ON_SURFACE,
                        SURFACE,
                        VECTOR) )  ) 

SUBTYPE OF (Representation_item);
END_ENTITY;

ENTITY Cartesian_point
SUBTYPE OF (Detailed_geometric_model_element);
  coordinates: LIST[1:3] OF length_measure;
END_ENTITY;

ENTITY Direction
SUBTYPE OF (Detailed_geometric_model_element);
  coordinates: LIST[2:3] OF length_measure;  
END_ENTITY;

ENTITY Axis_placement
  SUPERTYPE OF (ONEOF (
               AXIS_PLACEMENT_2D,
               AXIS_PLACEMENT_3D) ) 
    
SUBTYPE OF (Detailed_geometric_model_element);
  origin: Cartesian_point;
  x_axis: Direction;
  y_axis: Direction;
DERIVE
  dim: INTEGER := SIZEOF(origin.coordinates);
WHERE
WR1: dim >1;
WR2: dim = SIZEOF(x_axis.coordinates);
WR3: dim = SIZEOF(y_axis.coordinates);
END_ENTITY;

ENTITY Cartesian_transformation_2d
SUBTYPE OF (Detailed_geometric_model_element);
   multiplication_matrix: ARRAY[1:2] OF Direction;
   translation: Cartesian_point;
WHERE
WR1: SIZEOF(multiplication_matrix[1]\Direction.coordinates)=2;
WR2: SIZEOF(multiplication_matrix[2]\Direction.coordinates)=2;
WR3: SIZEOF(translation.coordinates)=2;
END_ENTITY;

ENTITY Cartesian_transformation_3d
SUBTYPE OF (Detailed_geometric_model_element);
   multiplication_matrix: ARRAY[1:3] OF Direction;
   translation: Cartesian_point;
WHERE
WR1: SIZEOF(multiplication_matrix[1]\Direction.coordinates)=3;
WR2: SIZEOF(multiplication_matrix[2]\Direction.coordinates)=3;
WR3: SIZEOF(multiplication_matrix[3]\Direction.coordinates)=3;
WR4: SIZEOF(translation.coordinates)=3;
END_ENTITY;

ENTITY Axis_placement_mapping;
  source: Axis_placement;
  target: Axis_placement;
WHERE
WR1: source\Axis_placement.dim = target\Axis_placement.dim;
END_ENTITY;

ENTITY Numerical_representation_context
  SUBTYPE OF (Representation_context);
  units : OPTIONAL SET[1:?] OF Unit;
  accuracies : OPTIONAL SET[1:?] OF Uncertainty_with_unit;
END_ENTITY;

ENTITY Representation;
  id : OPTIONAL STRING;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
  context_of_items : Representation_context;
  items : SET[1:?] OF Representation_item;
WHERE
  WR1 : EXISTS(name) OR (TYPEOF(SELF\Representation) <> TYPEOF(SELF));
END_ENTITY;

ENTITY Representation_context;
  id : STRING;
  kind : STRING;
INVERSE
  representations_in_context : SET[1:?] OF Representation FOR context_of_items;
END_ENTITY;

ENTITY Representation_item
   ABSTRACT SUPERTYPE;
  name : OPTIONAL STRING;
END_ENTITY;

ENTITY Representation_relationship;
  relation_type : OPTIONAL STRING;
  description : OPTIONAL STRING;
  rep_1 : Representation;
  rep_2 : Representation;
WHERE
  WR1 : EXISTS(relation_type) OR (TYPEOF(SELF\Representation_relationship) <> TYPEOF(SELF));
  WR2 : EXISTS(description) OR (TYPEOF(SELF\Representation_relationship) <> TYPEOF(SELF));
END_ENTITY;

ENTITY String_representation_item
    SUPERTYPE OF (ONEOF (
               TAGGED_TEXT_ITEM,
               UNIFORM_RESOURCE_IDENTIFIER) ) 
      SUBTYPE OF (Representation_item);
  string_value : STRING;
END_ENTITY;

ENTITY Amount_of_substance_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Context_dependent_unit
  SUBTYPE OF (Unit);
WHERE
  WR1: EXISTS(SELF\Unit.name);
END_ENTITY;

ENTITY Conversion_based_unit
  SUBTYPE OF (Unit);
  conversion_factor : Value_with_unit;
WHERE
  WR1: EXISTS(SELF\Unit.name);
END_ENTITY;

ENTITY Derived_unit
  SUBTYPE OF (Unit);
  elements : SET[1:?] OF Derived_unit_element;
END_ENTITY;

ENTITY Derived_unit_element;
  base_unit : Unit;
  exponent : REAL;
END_ENTITY;

ENTITY Duration
  SUBTYPE OF (Value_with_unit);
WHERE
  WR1: 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'TIME_UNIT' IN TYPEOF(SELF\Value_with_unit.unit);
END_ENTITY;

ENTITY Electric_current_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Length_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Luminous_intensity_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Mass_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Plane_angle_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Ratio_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Solid_angle_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Thermodynamic_temperature_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Time_unit
  SUBTYPE OF (Unit);
END_ENTITY;

ENTITY Uncertainty_with_unit
  SUBTYPE OF (Value_with_unit);
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Unit
  SUPERTYPE OF (ONEOF (
              AMOUNT_OF_SUBSTANCE_UNIT,
              ELECTRIC_CURRENT_UNIT,
              LENGTH_UNIT,
              LUMINOUS_INTENSITY_UNIT,
              MASS_UNIT,
              PLANE_ANGLE_UNIT,
              RATIO_UNIT,
              SOLID_ANGLE_UNIT,
              THERMODYNAMIC_TEMPERATURE_UNIT,
              TIME_UNIT));
  name : STRING;
  si_unit : BOOLEAN;
END_ENTITY;

ENTITY Value_with_unit  SUPERTYPE OF (ONEOF (
               ABSORBED_DOSE_DATA_ELEMENT,
               ACTIVITY_DATA_ELEMENT,
               AMOUNT_OF_SUBSTANCE_DATA_ELEMENT,
               ANGLE_DATA_ELEMENT,
               AREA_DATA_ELEMENT,
               CAPACITANCE_DATA_ELEMENT,
               CELSIUS_TEMPERATURE_DATA_ELEMENT,
               CONDUCTANCE_DATA_ELEMENT,
               DOSE_EQUIVALENT_DATA_ELEMENT,
               ELECTRIC_CHARGE_DATA_ELEMENT,
               ELECTRIC_CURRENT_DATA_ELEMENT,
               ELECTROMOTIVE_FORCE_DATA_ELEMENT,
               ENERGY_DATA_ELEMENT,
               FORCE_DATA_ELEMENT,
               FREQUENCY_DATA_ELEMENT,
               ILLUMINANCE_DATA_ELEMENT,
               INDUCTANCE_DATA_ELEMENT,
               LENGTH_DATA_ELEMENT,
               LUMINOUS_FLUX_DATA_ELEMENT,
               LUMINOUS_INTENSITY_DATA_ELEMENT,
               MAGNETIC_FLUX_DATA_ELEMENT,
               MAGNETIC_FLUX_DENSITY_DATA_ELEMENT,
               MASS_DATA_ELEMENT,
               POWER_DATA_ELEMENT,
               PRESSURE_DATA_ELEMENT,
               RATIO_DATA_ELEMENT,
               RESISTANCE_DATA_ELEMENT,
               SCATTERING_PARAMETER_DATA_ELEMENT,
               SOLID_ANGLE_DATA_ELEMENT,
               THERMODYNAMIC_TEMPERATURE_DATA_ELEMENT,
               VOLUME_DATA_ELEMENT) ) ;
  unit : Unit;
  value_component : measure_value;
END_ENTITY;

  ENTITY Functional_specification;
      associated_definition          	: Functional_specification_definition;
      reference_signal               	: Signal_specification;
      characterizing_functional_unit 	: Functional_unit;
      characterizing_signal          	: Signal_specification;
    INVERSE
      characteristic_category					: External_source_identification FOR item;
    WHERE
      WR1 : characterizing_functional_unit.composed_network = associated_definition;
  END_ENTITY;

  ENTITY Functional_specification_definition
    SUBTYPE OF (Functional_unit_network_definition);
    INVERSE
      composing_specification : SET[1:?] OF functional_specification FOR associated_definition;
  END_ENTITY;

  ENTITY Signal_specification;
      measurement_access_mechanism : Functional_unit_terminal;
      reference_access_mechanism   : OPTIONAL Functional_unit_terminal;
      minimum_characteristic       : Signal_property;
      maximum_characteristic       : Signal_property;
      characterization_network     : Functional_unit_network_definition;
	DERIVE
	  measurement_condition: SET[1:1] OF Document_definition :=
  			get_document_definition(SELF, 'measurement condition', 
  			'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.TEST_SPECIFICATION');
  END_ENTITY;

  ENTITY Composite_signal_property
    SUBTYPE OF (Signal_property);
    INVERSE
      signal_property_structure : SET[1:?] OF composite_signal_property_relationship FOR composition;
  END_ENTITY;

  ENTITY Composite_signal_property_relationship;
      composition                        	: Composite_signal_property;
      signal_property_structural_element 	: Signal_property;
    INVERSE
      aggregation_operation								: External_source_identification FOR item;
  END_ENTITY;

  ENTITY Signal;
      name : STRING;
    INVERSE
      signal_category	: External_source_identification FOR item;
    UNIQUE
      UR1 : name;  
  END_ENTITY;

  ENTITY Signal_property
    SUPERTYPE OF (
              COMPOSITE_SIGNAL_PROPERTY);
      signal_property_representation : Characteristic_data_table;
      characterized_signal           : Signal;
    INVERSE
      signal_property_category				: External_source_identification FOR item;
  END_ENTITY;

  ENTITY Design_specification
    SUPERTYPE OF (
              INTERFACE_SPECIFICATION_DOCUMENT_DEFINITION)
  SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Fabrication_technology_specification
    SUBTYPE OF (Process_specification);
  END_ENTITY;

  ENTITY Interface_specification_document_definition
    SUBTYPE OF (Design_specification);
  END_ENTITY;

  ENTITY Language_reference_manual
    SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Material_specification
    SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Partial_document_with_structured_text_representation_assignment
    SUBTYPE OF(Partial_document_assignment);
      structured_portion : string_representation_item_select;
    UNIQUE
      UR1: SELF\Partial_document_assignment.document_portion,
      SELF\Document_assignment.assigned_document;
  END_ENTITY;

  ENTITY Process_specification
      SUPERTYPE OF ((ONEOF (
               ASSEMBLY_TECHNOLOGY_SPECIFICATION,
               FABRICATION_TECHNOLOGY_SPECIFICATION)) ) 
      SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Specification_allocation
  	SUBTYPE OF (Document_assignment);
      SELF\Document_assignment.assigned_document : Specification_definition;  -- allocated_specification : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      purpose                      : STRING;
    DERIVE
      allocated_specification : SPECIFICATION_DEFINITION := SELF\Document_assignment.assigned_document;  -- ASSIGNED_DOCUMENT : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY;

  ENTITY Specification_definition
  	SUPERTYPE OF (ONEOF (
              DESIGN_SPECIFICATION,
              PROCESS_SPECIFICATION,
              MATERIAL_SPECIFICATION,
              TEST_SPECIFICATION,
              LANGUAGE_REFERENCE_MANUAL))
  SUBTYPE OF (Document_definition);
	DERIVE
  		source: SET[0:?] OF Organization_or_person_in_organization_assignment :=
         bag_to_set(QUERY(temp <* USEDIN(SELF,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
         'ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT.ITEMS') |
                         (temp.role = 'document source') ));
	WHERE
      WR1: EXISTS (source) AND (SIZEOF(source) = 1);
  END_ENTITY;

  ENTITY Surface_finish_specification
    SUBTYPE OF (Material_specification);
  END_ENTITY;

  ENTITY Test_specification
    SUBTYPE OF (Specification_definition);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.additional_characterization);
  END_ENTITY;

  ENTITY Software 
    SUBTYPE OF (Information_product);
    UNIQUE 
      UR1: SELF\Product.id;
  	WHERE 
	  WR1 :  SIZEOF(['software', 'information'] * types_of_product(SELF)) = 2;
  END_ENTITY;

  ENTITY Software_definition 
    SUBTYPE OF (Information_definition);
    SELF\Product_view_definition.defined_version : Software_version;
  END_ENTITY;

  ENTITY Software_version
    SUBTYPE OF (Information_version);
    SELF\Product_version.of_product : Software;
  END_ENTITY;

ENTITY Date_or_date_time_assignment  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_DATE_OR_DATE_TIME_ASSIGNMENT,
               EXTERNALLY_DEFINED_DATE_OR_DATE_TIME_ASSIGNMENT) ) ;
  assigned_date : date_or_date_time_select;
  role          : STRING;
  items         : SET [1:?] OF date_or_date_time_item;
END_ENTITY;

ENTITY Activity;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  chosen_method : Activity_method;
END_ENTITY;

ENTITY Activity_relationship  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_ACTIVITY_RELATIONSHIP,
               EXTERNALLY_DEFINED_ACTIVITY_RELATIONSHIP) ) ;
  name : STRING;
  description : OPTIONAL STRING;
  relating_activity : Activity;
  related_activity : Activity;
END_ENTITY;

ENTITY Activity_status;
  assigned_activity : Activity;
  status : STRING;
END_ENTITY;

ENTITY Applied_activity_assignment;
  assigned_activity : Activity;
  items : SET[1:?] OF activity_item;
  role : STRING;
END_ENTITY;

ENTITY Identification_assignment;
  identifier  : STRING;
  role        : STRING;
  description : OPTIONAL STRING;
  items       : SET [1:?] OF identification_item;
END_ENTITY;

ENTITY Product_category;  
  id		: OPTIONAL STRING;
  name	: STRING;
  description : OPTIONAL STRING;  
END_ENTITY;   

ENTITY Product_category_hierarchy;  
  super_category : Product_category;  
  sub_category   : Product_category;
END_ENTITY;   

ENTITY Requirement_view_definition
  SUBTYPE OF (Product_view_definition);
    SELF\Product_view_definition.defined_version : Requirement_version;
END_ENTITY;

  ENTITY Across_port_variable
    SUBTYPE OF (Analog_port_variable);
    WHERE
      WR1 : EXISTS(SELF\Analog_port_variable.unit_of_measure);
  END_ENTITY;

  ENTITY Analog_analytical_model_port
    SUBTYPE OF (Analytical_model_port);
    INVERSE
      signal_variable : SET[1:?] OF analog_port_variable FOR associated_port;
  END_ENTITY;

  ENTITY Analog_port_variable
    SUPERTYPE OF (ONEOF (
              THROUGH_PORT_VARIABLE,
              ACROSS_PORT_VARIABLE,
              TRANSFORM_PORT_VARIABLE));
      associated_port : Analog_analytical_model_port;
      variable_name   : STRING; 
      unit_of_measure : OPTIONAL Unit; --STRING;
    UNIQUE
      UR1 : variable_name,
 associated_port;
  END_ENTITY;

  ENTITY Analytical_model
  	SUBTYPE OF (Information_product);
    UNIQUE 
      UR1: SELF\Product.id;
  	WHERE 
      WR1 : SIZEOF(['analytical model', 'information'] * types_of_product(SELF)) = 2;
  END_ENTITY;

  ENTITY Analytical_model_application
    SUBTYPE OF (Representation);  
      model_parameter_assignment     : SET[1:?] OF Parameter_assignment;
      model_representation           : Analytical_model_definition;
    UNIQUE
      UR1 : SELF\Representation.name;
  END_ENTITY;

  ENTITY Analytical_model_definition
    SUBTYPE OF (Information_definition);
      SELF\Product_view_definition.defined_version 	: Analytical_model_version;
      source_code : SET [1:1] OF Digital_file;
    DERIVE  
		representation_language: SET[1:1] OF Document_definition :=
  			get_document_definition(SELF, 'representation language', 
  			'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LANGUAGE_REFERENCE_MANUAL');
    INVERSE
      access_mechanism : SET[1:?] OF analytical_model_port FOR accessed_analytical_model;
      parameter        : SET[1:?] OF analytical_model_parameter FOR accessed_analytical_model;
	  reference_document : document_assignment FOR is_assigned_to;    	
  END_ENTITY;

  ENTITY Analytical_model_make_from_relationship
  	SUBTYPE OF (View_definition_relationship);
      SELF\View_definition_relationship.relating_view : Analytical_model_definition;  -- reusable_model : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\View_definition_relationship.related_view : Analytical_model_definition;  -- resultant_model : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      resultant_model : ANALYTICAL_MODEL_DEFINITION := SELF\View_definition_relationship.related_view;  -- RELATED_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      reusable_model : ANALYTICAL_MODEL_DEFINITION := SELF\View_definition_relationship.relating_view;  -- RELATING_VIEW : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1 : reusable_model :<>: resultant_model;
  END_ENTITY;

  ENTITY Analytical_model_parameter
    SUBTYPE OF (Model_parameter);
      accessed_analytical_model : Analytical_model_definition;
    UNIQUE
      UR1 : SELF\Independent_property.id,
 accessed_analytical_model;
  END_ENTITY;

  ENTITY Analytical_model_port
    SUPERTYPE OF (
              ANALYTICAL_MODEL_VECTOR_PORT
              ANDOR (ONEOF (
              ANALOG_ANALYTICAL_MODEL_PORT,
              DIGITAL_ANALYTICAL_MODEL_PORT)));
      accessed_analytical_model : Analytical_model_definition;
      port_name                 : STRING; 
    UNIQUE
      UR1 : port_name,
 accessed_analytical_model;
  END_ENTITY;

  ENTITY Analytical_model_port_assignment;
	assigned_analytical_model_port	: Analytical_model_port;
	assigned_item					: analytical_model_port_assignment_select;
	associated_analytical_model_application :Analytical_model_application;
   UNIQUE
    UR1 : assigned_analytical_model_port,assigned_item,associated_analytical_model_application;
   WHERE
    WR1 : assigned_analytical_model_port.accessed_analytical_model =
   associated_analytical_model_application.model_representation;
  END_ENTITY;

  ENTITY Analytical_model_port_make_from_relationship;
      associated_make_from : Analytical_model_make_from_relationship;
      reusable_feature     : Analytical_model_port;
      resultant_feature    : Analytical_model_port;
    UNIQUE
      UR1 : reusable_feature,
 resultant_feature;
    WHERE
      WR1 : reusable_feature :<>: resultant_feature;
      WR2 : reusable_feature.accessed_analytical_model :<>: resultant_feature.accessed_analytical_model;
  END_ENTITY;

  ENTITY Analytical_model_scalar_port
    SUBTYPE OF (Analytical_model_vector_port);
    WHERE
      WR1 : SIZEOF(SELF\Analytical_model_vector_port.element_port) = 1;
      WR2 : SELF = SELF\Analytical_model_vector_port.element_port[1];
  END_ENTITY;

  ENTITY Analytical_model_vector_port
    SUPERTYPE OF (
              ANALYTICAL_MODEL_SCALAR_PORT)
  SUBTYPE OF (Analytical_model_port);
    element_port : LIST [1:?] OF Analytical_model_scalar_port;
  DERIVE    
      size : INTEGER := SIZEOF(element_port); -- positive_integer;      
  END_ENTITY;

  ENTITY Analytical_model_version
  	SUBTYPE OF (Information_version);
  		SELF\Product_version.of_product : Analytical_model;
  END_ENTITY; 

  ENTITY Digital_analytical_model_port
  	 ABSTRACT SUPERTYPE OF (
                        DIGITAL_ANALYTICAL_MODEL_VECTOR_PORT)
  SUBTYPE OF (Analytical_model_port);
      nominal_signal_flow_direction : signal_flow_direction;
      port_type                     : model_parameter_type;
    WHERE
      WR1 : not_applicable <> nominal_signal_flow_direction;
      WR2 : numeric_property_type <> port_type;
      WR3 : physical_property_type <> port_type;
      WR4 : unknown_direction <> nominal_signal_flow_direction;
  END_ENTITY;

  ENTITY Digital_analytical_model_scalar_port
    SUBTYPE OF (Digital_analytical_model_vector_port, Analytical_model_scalar_port);
  END_ENTITY;

  ENTITY Digital_analytical_model_vector_port
    SUBTYPE OF (Digital_analytical_model_port,Analytical_model_vector_port);
    INVERSE
      data_encoding_method 	: External_source_identification FOR item;
    WHERE
     WR1 : SELF\Digital_analytical_model_port.port_type = model_parameter_type.string_property_type;
  END_ENTITY;

	ENTITY Terminal_pair_port_equivalence_relationship;
      equivalent_port : Analytical_model_port;
      scalar_ports    : Analytical_model_vector_port;
	 WHERE
	  WR1: (SIZEOF (scalar_ports.element_port) = 2);
  	END_ENTITY;

  ENTITY Through_port_variable
    SUBTYPE OF (Analog_port_variable);
    WHERE
      WR1 : EXISTS(SELF\Analog_port_variable.unit_of_measure);
  END_ENTITY;

  ENTITY Transform_port_variable
    SUBTYPE OF (Analog_port_variable);
      nominal_signal_flow_direction : signal_flow_direction;
    WHERE
      WR1 : not_applicable <> nominal_signal_flow_direction;
      WR2 : bidirectional <> nominal_signal_flow_direction;
  END_ENTITY;

  ENTITY Category_model_parameter
    SUBTYPE OF (Model_parameter);
    INVERSE 
      associated_attribute : SET[1:1] OF Classification_attribute FOR attribute_definition;
  END_ENTITY;

  ENTITY Model_parameter
   SUBTYPE OF (Independent_property);
      unit_of_measure    : OPTIONAL Unit; -- STRING
      valid_range        : OPTIONAL SET[1:?] OF Value_range; --coordinated_characteristic; 
      default_value      : OPTIONAL scalar_or_coordinated_characteristics;
	DERIVE
		reference_document: SET[0:?] OF Document_definition :=
  			get_document_definition(SELF, 'reference document', 
  			'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.DOCUMENT_DEFINITION');
	WHERE
   		WR1 : EXISTS (reference_document) AND (SIZEOF(reference_document) = 1);
  END_ENTITY;

  ENTITY Parameter_assignment
    SUBTYPE OF (Independent_property_representation);
      SELF\Property_definition_representation.definition : Model_parameter;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Parameter_assignment_override;
      overridden_parameter_assignment : Parameter_assignment;
      overriding_parameter_assignment : Parameter_assignment;
  END_ENTITY;

  ENTITY Schema_based_model_parameter
    SUBTYPE OF (Model_parameter);
      entity_name    : STRING;

      attribute_name : OPTIONAL STRING;
    DERIVE
      schema_identifier : STRING := SELF\Independent_property.property_type;  -- PROPERTY_TYPE : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

    UNIQUE
      UR1 : entity_name,
 attribute_name,
 schema_identifier;
  END_ENTITY;

  ENTITY Product_specific_parameter_value_assignment;
      of_product         : Product;
      assigned_parameter : Parameter_assignment;
    DERIVE
      the_model_parameter : model_parameter := assigned_parameter\Independent_property_representation.property;
    UNIQUE
      UR1 : the_model_parameter, of_product;
  END_ENTITY;

  ENTITY Test_method_based_parameter_assignment
    SUBTYPE OF (Parameter_assignment);
   WHERE
    WR1 : SIZEOF(USEDIN(SELF,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.APPLIED_ACTIVITY_METHOD_ASSIGNMENT.ITEMS')) = 1;
  END_ENTITY;

ENTITY Document_definition_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_document_definition : Document_definition;
  related_document_definition : Document_definition;
WHERE
  WR1: relating_document_definition :<>: related_document_definition;
END_ENTITY;

ENTITY File_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_document_file : File;
  related_document_file : File;
WHERE
  WR1: relating_document_file:<>: related_document_file;
END_ENTITY;

ENTITY View_definition_relationship;
  id : OPTIONAL STRING;
  relation_type : OPTIONAL STRING;
  description : OPTIONAL STRING;
  relating_view : Product_view_definition;
  related_view : Product_view_definition;
END_ENTITY;

ENTITY View_definition_usage
  SUBTYPE OF (View_definition_relationship);
END_ENTITY;

ENTITY Assembly_component_relationship
   ABSTRACT SUPERTYPE OF (ONEOF (
                        NEXT_ASSEMBLY_USAGE,
                        PROMISSORY_USAGE,
                        COMPONENT_UPPER_LEVEL_IDENTIFICATION))
  SUBTYPE OF (View_definition_usage);
  quantity : OPTIONAL Value_with_unit;
  location_indicator : OPTIONAL STRING;
WHERE
  WR1: NOT(EXISTS(quantity)) OR ((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) XOR (quantity.value_component > 0));
END_ENTITY;

ENTITY Next_assembly_usage
  SUBTYPE OF (Assembly_component_relationship);
END_ENTITY;

ENTITY Promissory_usage
  SUBTYPE OF (Assembly_component_relationship);
END_ENTITY;

ENTITY Component_upper_level_identification
  SUBTYPE OF (Assembly_component_relationship);
  upper_assembly_relationship : Assembly_component_relationship;
  sub_assembly_relationship : Next_assembly_usage;
UNIQUE
  UR1: upper_assembly_relationship, sub_assembly_relationship;
WHERE
  WR1: SELF :<>: upper_assembly_relationship ;
  WR2: SELF\View_definition_relationship.relating_view :=: upper_assembly_relationship\View_definition_relationship.relating_view;
  WR3: SELF\View_definition_relationship.related_view :=: sub_assembly_relationship\View_definition_relationship.related_view;
  WR4: (upper_assembly_relationship\View_definition_relationship.related_view :=: sub_assembly_relationship\View_definition_relationship.relating_view) OR (SIZEOF (QUERY (pdr <* USEDIN (upper_assembly_relationship\View_definition_relationship.related_view , 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.VIEW_DEFINITION_RELATIONSHIP.RELATED_VIEW') | pdr.relating_view :=: sub_assembly_relationship\View_definition_relationship.relating_view)) = 1);
  WR5: SIZEOF (['AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.NEXT_ASSEMBLY_USAGE', 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.COMPONENT_UPPER_LEVEL_IDENTIFICATION'] * TYPEOF(upper_assembly_relationship)) = 1;
END_ENTITY;

ENTITY Certification;
  name : STRING;
  description : OPTIONAL STRING;
  kind : STRING;
END_ENTITY;

ENTITY Certification_assignment;
  assigned_certification : Certification;
  items : SET[1:?] OF certification_item;
  role : STRING;
END_ENTITY;

ENTITY Item_usage_effectivity;
  effectivity_domain : Effectivity;
  item_usage_relationship : View_definition_usage;
  resolved_configuration : Item_design_association;
END_ENTITY;

ENTITY Item_design_association;
  configuration : Product_configuration;
  design : version_or_definition;
UNIQUE
  UR1: configuration, design;
END_ENTITY;

ENTITY Product_configuration;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  item_context : Product_concept;
INVERSE
  corresponding_design : SET[0:1] OF Item_design_association FOR configuration;
END_ENTITY;

ENTITY Dated_effectivity
  SUBTYPE OF (Effectivity);
  start_bound : date_or_event;
  end_bound   : OPTIONAL date_or_event;
END_ENTITY;

ENTITY Effectivity
  SUPERTYPE OF (ONEOF (
              SERIAL_EFFECTIVITY,
              DATED_EFFECTIVITY,
              LOT_EFFECTIVITY,
              TIME_INTERVAL_EFFECTIVITY));
  id             : STRING;
  name           : STRING;
  description    : OPTIONAL STRING;
END_ENTITY;

ENTITY Effectivity_relationship;
  relation_type : STRING;
  description   : OPTIONAL STRING;
  relating_effectivity  : Effectivity;
  related_effectivity  : Effectivity;
END_ENTITY;

ENTITY Lot_effectivity
  SUBTYPE OF (Effectivity);
  lot_id    : STRING;
  lot_size  : Value_with_unit;
END_ENTITY;

ENTITY Serial_effectivity
  SUBTYPE OF (Effectivity);
  start_id : STRING;
  end_id   : OPTIONAL STRING;
END_ENTITY;

ENTITY Time_interval_effectivity
  SUBTYPE OF (Effectivity);
  effectivity_period : Time_interval;
END_ENTITY;   

ENTITY Market;
  name                      : STRING;
  market_segment_type       : OPTIONAL STRING;
END_ENTITY;

ENTITY Product_concept;
  id                        : STRING;
  name                      : STRING;
  description               : OPTIONAL STRING;
  target_market             : OPTIONAL Market;
UNIQUE
  UR1: id;
END_ENTITY;

ENTITY Contract;
  id             : STRING;
  purpose        : STRING;
  kind	     : STRING;
END_ENTITY;

ENTITY Contract_assignment;
  assigned_contract  : Contract;
  items              : SET [1:?] OF contract_item;
END_ENTITY;

ENTITY Document_assignment;
  assigned_document : assigned_document_select;
  is_assigned_to : documented_element_select;
  role : STRING;
END_ENTITY;

ENTITY Partial_document_assignment
SUBTYPE OF (Document_assignment);
  document_portion : STRING;
END_ENTITY;

ENTITY Document
  SUBTYPE OF (Product);
END_ENTITY;

ENTITY Document_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Document;
END_ENTITY;

ENTITY Digital_document_definition
  SUBTYPE OF (Document_definition);
  files : SET[0:?] OF Digital_file;
END_ENTITY;

ENTITY Document_definition
  SUPERTYPE OF (ONEOF (
              DIGITAL_DOCUMENT_DEFINITION,
              PHYSICAL_DOCUMENT_DEFINITION))
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Document_version;  -- associated_document_version : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      associated_document_version : DOCUMENT_VERSION := SELF\Product_view_definition.defined_version;  -- DEFINED_VERSION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      description : STRING := SELF\Product_view_definition.name;  -- NAME : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Document_location_identification
  SUBTYPE OF (External_source_identification);
WHERE
  WR1: 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.DOCUMENT_DEFINITION' IN TYPEOF(SELF\External_source_identification.item);
END_ENTITY;

ENTITY Physical_document_definition
  SUBTYPE OF (Document_definition);
  components : SET[0:?] OF Hardcopy;
END_ENTITY;

ENTITY Digital_file
SUBTYPE OF (File);
END_ENTITY;

ENTITY File
 ABSTRACT SUPERTYPE OF (ONEOF (
                        DIGITAL_FILE,
                        HARDCOPY));
  id : STRING;
  version : OPTIONAL STRING;
  contained_data_type : OPTIONAL STRING;
END_ENTITY;

ENTITY Hardcopy
SUBTYPE OF (File);
END_ENTITY;

ENTITY File_location_identification
SUBTYPE OF (External_item_identification);
WHERE
WR1: 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.FILE' IN TYPEOF(SELF\External_source_identification.item);
END_ENTITY;

  ENTITY Design_functional_unit_allocation_to_assembly_joint;
      functional_design_definition_path : Design_composition_path;
      implementation                    : Assembly_joint;
    UNIQUE
      UR1 : functional_design_definition_path;
  END_ENTITY;

ENTITY External_item_identification
SUBTYPE OF (External_source_identification);
  external_id : STRING;
END_ENTITY;

ENTITY External_source_identification;
  source_id	  : STRING;
  source_type : STRING;
  item 	  : external_identification_item;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Assigned_document_property
  SUBTYPE OF (Assigned_property);
  SELF\Assigned_property.described_element : document_property_item;
DERIVE
  SELF\Assigned_property.name : STRING := 'document property';
UNIQUE
  UR1: SELF\Assigned_property.described_element;
WHERE
  WR1: SIZEOF(['AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.DOCUMENT_DEFINITION', 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.FILE']*TYPEOF(SELF\Assigned_property.described_element)) = 1;
END_ENTITY;

ENTITY Descriptive_document_property
  SUBTYPE OF (String_representation_item);
INVERSE
  valued_characteristic : SET[1:1] OF Document_property_representation FOR items;
END_ENTITY;

ENTITY Document_property_representation
  SUBTYPE OF (Representation);
  SELF\Representation.items : SET[1:?] OF descriptive_or_numerical;
WHERE
  WR1: SIZEOF(QUERY( pr <* USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PROPERTY_DEFINITION_REPRESENTATION.REP') | 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ASSIGNED_PROPERTY' IN TYPEOF (pr\Property_representation.property)))> 0;
  WR2: SELF\Representation.context_of_items.kind = 'document parameters';
  WR3: valid_document_property_representation(SELF);
  WR4: SIZEOF(QUERY(it1 <* SELF\Representation.items | SIZEOF(QUERY(it2 <* SELF\Representation.items | it1.name = it2.name)) > 1 ))= 0;
END_ENTITY;

ENTITY Numerical_document_property
  SUBTYPE OF (Numerical_item_with_unit);
INVERSE
  valued_characteristic : SET[1:1] OF Document_property_representation FOR items;
END_ENTITY;

ENTITY Security_classification  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_SECURITY_CLASSIFICATION,
               EXTERNALLY_DEFINED_SECURITY_CLASSIFICATION) ) ;
  classification_level : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Security_classification_assignment;
  classification : Security_classification;
  items : SET[1:?] OF security_classification_item;
END_ENTITY;

ENTITY Effectivity_assignment;
  assigned_effectivity  : Effectivity;
  role                  : STRING;
  items                 : SET [1:?] OF effectivity_item;
END_ENTITY;

ENTITY Time_interval;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Time_interval_relationship;
  relation_type : STRING;
  description : STRING;
  relating_time_interval : Time_interval;
  related_time_interval : Time_interval;
END_ENTITY;

ENTITY Time_interval_with_bounds
  SUBTYPE OF (Time_interval);
  primary_bound : OPTIONAL date_or_event;
  secondary_bound : OPTIONAL date_or_event;
  duration_from_primary_bound : OPTIONAL Duration;
WHERE
  WR1: NOT (EXISTS (secondary_bound) AND EXISTS (duration_from_primary_bound));
  WR2: EXISTS (primary_bound) OR EXISTS (secondary_bound);
END_ENTITY;

ENTITY Event;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  actual_start_date : OPTIONAL date_or_date_time_select;
  planned_start_date : OPTIONAL date_or_date_time_select;
END_ENTITY;

ENTITY Event_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_event : Event;
  related_event : Event;
END_ENTITY;

ENTITY Relative_event
  SUBTYPE OF (Event);
  base_event : Event;
  offset : Duration;
END_ENTITY;

ENTITY Event_assignment;
  assigned_event : Event;
  items : SET[1:?] OF event_item;
  role : STRING;
END_ENTITY;

ENTITY Name_assignment;
  name : STRING;
  role : STRING;
  items : assigned_name_select;
END_ENTITY;

ENTITY External_geometric_model
SUBTYPE OF (Geometric_model);
   SELF\Representation.items: SET[1:1] OF Axis_placement;
   external_file: Digital_file;
WHERE
WR1: SELF\Representation.context_of_items.dimension_count = 3;
WR2: SELF\Representation.context_of_items.kind = 'external';
END_ENTITY;

ENTITY Incomplete_reference_marking
SUBTYPE OF (Classification_assignment);
WHERE
WR1: SIZEOF (QUERY( item <* SELF\Classification_assignment.items | 
	NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.CLASSIFICATION_ITEM' IN TYPEOF(item) ) )) = 0;

WR2: SELF\Classification_assignment.assigned_class.id = 'reference';
END_ENTITY;

ENTITY Independent_property_representation
  SUBTYPE OF (Property_definition_representation);
    SELF\Property_definition_representation.definition : Independent_property;  -- property : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      property : INDEPENDENT_PROPERTY := SELF\Property_definition_representation.definition;  -- DEFINITION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Applied_independent_property
  SUBTYPE OF (Assigned_property);
  base_independent_property : Independent_property;
DERIVE
  SELF\Assigned_property.name : STRING := base_independent_property.property_type;
END_ENTITY;

ENTITY Assigned_property;
  id : OPTIONAL STRING;
  name : STRING;
  description : OPTIONAL STRING;
  described_element : property_assignment_select;
END_ENTITY;

ENTITY Property_definition_representation
   ABSTRACT SUPERTYPE;
    description : OPTIONAL STRING;
    definition : represented_definition;
    rep : Representation;
    role : OPTIONAL STRING;
END_ENTITY;

ENTITY Property_representation
  SUBTYPE OF (Property_definition_representation);
    SELF\Property_definition_representation.definition : Assigned_property;  -- property : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      property : ASSIGNED_PROPERTY := SELF\Property_definition_representation.definition;  -- DEFINITION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Language;
  language_code : STRING;
  country_code : OPTIONAL STRING;
UNIQUE
  UR1: language_code;
END_ENTITY;

ENTITY Language_indication;
   considered_instance: string_select;
   considered_attribute: STRING;
   used_language:  Language;
END_ENTITY;

ENTITY Attribute_translation_assignment;
   considered_instance: string_select;
   considered_attribute: STRING;
   translation_text : STRING;
   translation_language: Language;
UNIQUE
  UR1: considered_instance, considered_attribute, translation_language;
END_ENTITY;

ENTITY Organization_or_person_in_organization_assignment  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT,
               EXTERNALLY_DEFINED_ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT) ) ;
  assigned_entity : organization_or_person_in_organization_select;
  role            : STRING;
  items           : SET [1:?] OF organization_or_person_in_organization_item;
END_ENTITY;

ENTITY Project;
  id : STRING;
  name : STRING;
  description : OPTIONAL STRING;
  responsible_organizations : SET[0:?] OF Organization;
  planned_start_date : OPTIONAL date_or_event;
  planned_end_date : OPTIONAL date_or_event;
  actual_start_date : OPTIONAL date_or_date_time_select;
  actual_end_date : OPTIONAL date_or_date_time_select;
END_ENTITY;

ENTITY Project_assignment;
  assigned_project : Project;
  role : STRING;
  items : SET[1:?] OF project_item;
END_ENTITY;

ENTITY Project_relationship;
  relation_type : STRING;
  description : OPTIONAL STRING;
  relating_project : Project;
  related_project : Project;
END_ENTITY;

ENTITY Measure_item
    ABSTRACT SUPERTYPE OF (ONEOF (
                        MEASURE_ITEM_WITH_PRECISION,
                        NUMERICAL_ITEM_WITH_GLOBAL_UNIT,
                        NUMERICAL_ITEM_WITH_UNIT,
                        VALUE_LIMIT,
                        VALUE_LIMIT_WITH_GLOBAL_UNIT,
                        VALUE_LIST,
                        VALUE_RANGE,
                        VALUE_RANGE_WITH_GLOBAL_UNIT,
                        VALUE_SET,
                        VALUE_WITH_TOLERANCES) ) 
  SUBTYPE OF (Representation_item);
WHERE
  WR1: SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.REPRESENTATION.ITEMS'))>0;
END_ENTITY;

ENTITY Numerical_item_with_global_unit
  SUBTYPE OF (Measure_item);
  value_component : measure_value;
WHERE
  WR1: SIZEOF(QUERY(pvr <* QUERY ( r <* USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.REPRESENTATION.ITEMS')| 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PROPERTY_VALUE_REPRESENTATION' IN TYPEOF(r)) | EXISTS(pvr.context_of_items.units) )) > 0;
END_ENTITY;

ENTITY Numerical_item_with_unit
  SUBTYPE OF (Measure_item, Value_with_unit);
END_ENTITY;

ENTITY Property_value_representation
    SUPERTYPE OF (ONEOF (
               RANGE_CHARACTERISTIC,
               TOLERANCE_CHARACTERISTIC) ) 
      SUBTYPE OF (Representation);
  SELF\Representation.context_of_items : Numerical_representation_context;
END_ENTITY;

ENTITY Make_from_relationship
  SUBTYPE OF (View_definition_usage);
  SELF\View_definition_relationship.relating_view: Part_view_definition;
  SELF\View_definition_relationship.related_view: Part_view_definition;
  quantity  : OPTIONAL Value_with_unit;
  priority  : OPTIONAL INTEGER;
WHERE
WR1: SELF\View_definition_relationship.relating_view :<>: 
  SELF\View_definition_relationship.related_view ;
WR2: NOT(EXISTS(quantity)) XOR 
	((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) XOR (quantity.value_component > 0));
END_ENTITY;

ENTITY Activity_property;
  name : STRING;
  description : STRING;
  described_element : characterized_activity_definition;
END_ENTITY;

ENTITY Activity_property_representation;
  description : OPTIONAL STRING;
  property : Activity_property;
  rep : Representation;
  role : STRING;
END_ENTITY;

ENTITY Applied_independent_activity_property
  SUBTYPE OF (Activity_property);
  base_element_property : Independent_property;
DERIVE
  SELF\Activity_property.name : STRING := base_element_property.property_type;
END_ENTITY;

ENTITY Alternate_product_relationship;
   name : OPTIONAL STRING;
   description : OPTIONAL STRING;
   alternate_product : Product;
   base_product : Product;
   criteria : OPTIONAL STRING;
UNIQUE
   UR1: alternate_product , base_product ;
WHERE
   WR1: alternate_product  :<>: base_product ;
   WR2: EXISTS(criteria) OR (TYPEOF(SELF\Alternate_product_relationship) <> TYPEOF(SELF));
END_ENTITY;

ENTITY Assembly_relationship_substitution;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
  base_relationship        : Assembly_component_relationship;
  substitute_relationship  : Assembly_component_relationship;
UNIQUE
  UR1 : base_relationship, substitute_relationship;
WHERE
  WR1: base_relationship.relating_view :=: substitute_relationship.relating_view;
  WR2: base_relationship :<>: substitute_relationship;
END_ENTITY;

ENTITY Alternate_part_relationship
  SUBTYPE OF (Alternate_product_relationship);
  SELF\Alternate_product_relationship.alternate_product : Part;
  SELF\Alternate_product_relationship.base_product : Part;
END_ENTITY;

ENTITY Product_version_relationship;
  relation_type : OPTIONAL STRING;
  description : OPTIONAL STRING;
  relating_version : Product_version;
  related_version : Product_version;
WHERE
  WR1: relating_version :<>: related_version;
  WR2: EXISTS(relation_type) OR (TYPEOF(SELF\Product_version_relationship) <> TYPEOF(SELF));
END_ENTITY;

ENTITY Supplied_part_relationship
  SUBTYPE OF (Product_version_relationship);
WHERE
  WR1: SELF\Product_version_relationship.relation_type IN ['supplied item', 'supplied document'];
END_ENTITY;

ENTITY Contextual_item_shape
  SUBTYPE OF (Item_shape);
  SELF\Item_shape.described_element : View_definition_usage;
DERIVE
  shaped_product : Product_view_definition := described_element\View_definition_relationship.related_view;
END_ENTITY;

ENTITY Item_shape;
  id : OPTIONAL STRING;
  description : OPTIONAL STRING;
  described_element : shapeable_item;
END_ENTITY;

ENTITY Shape_dependent_property_representation;
  characteristic_type : STRING;
  description : OPTIONAL STRING;
  described_element : shape_dependent_select;
  property_representation : Representation;
END_ENTITY;

ENTITY Shape_description_association;
  represented_characteristic : shape_select;
  representation : shape_model;
  role : OPTIONAL STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Shape_element  SUPERTYPE OF (ONEOF (
               SHAPE_FEATURE,
               NON_FEATURE_SHAPE_ELEMENT) ) ;
  id : OPTIONAL STRING;
  element_name : OPTIONAL STRING;
  description : OPTIONAL STRING;
  containing_shape : Item_shape;
WHERE
  WR1: EXISTS(element_name) OR (TYPEOF(SELF\Shape_element) <> TYPEOF(SELF));
END_ENTITY;

ENTITY Shape_element_relationship;
  relation_type : OPTIONAL STRING;
  description : OPTIONAL STRING;
  relating : Shape_element;
  related : Shape_element;
WHERE
  WR1: EXISTS(relation_type) OR (TYPEOF(SELF\Shape_element_relationship) <> TYPEOF(SELF));
END_ENTITY;

ENTITY Time_interval_assignment;
  assigned_time_interval : Time_interval;
  role : Time_interval_role;
  items : SET[1:?] OF time_interval_item;
END_ENTITY;

ENTITY Time_interval_role;
  name : STRING;
  description : STRING;
END_ENTITY;

ENTITY Activity_method_assignment;
  relation_type : STRING;
  assigned_method : Activity_method;
  associated_request : Work_request;
END_ENTITY;

ENTITY Affected_items_assignment;
  assigned_work_request : Work_request;
  items : SET[1:?] OF affected_item_select;
END_ENTITY;

ENTITY Work_request  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_WORK_REQUEST,
               EXTERNALLY_DEFINED_WORK_REQUEST) ) ;
  request_id : STRING;
  version_id : STRING;
  description : OPTIONAL STRING;
  purpose : STRING;
END_ENTITY;

ENTITY Work_request_status  SUPERTYPE OF (ONEOF (
               PRE_DEFINED_WORK_REQUEST_STATUS,
               EXTERNALLY_DEFINED_WORK_REQUEST_STATUS) ) ;
  status : STRING;
  work_request : Work_request;
END_ENTITY;

	ENTITY Definition_based_product_occurrence
		 ABSTRACT SUPERTYPE
		SUBTYPE OF (Product_occurrence);
  		derived_from: Product_view_definition;
  	WHERE
			WR1: SELF\Product_view_definition.defined_version = derived_from.defined_version;
	END_ENTITY;

ENTITY Product_occurrence
 ABSTRACT SUPERTYPE OF (ONEOF (
                        PRODUCT_OCCURRENCE_WITH_QUANTITY,
                        SINGLE_INSTANCE)
                        AND (ONEOF (
                        DEFINITION_BASED_PRODUCT_OCCURRENCE,
                        SPECIFICATION_BASED_PRODUCT_OCCURRENCE)))

SUBTYPE OF (Product_view_definition);
INVERSE
  occurrence_contexts: SET[1:?] OF View_definition_relationship FOR related_view;
END_ENTITY;

ENTITY Product_occurrence_with_quantity
   ABSTRACT SUPERTYPE OF (ONEOF (
                        QUANTIFIED_INSTANCE,
                        SELECTED_INSTANCE))
  SUBTYPE OF (Product_occurrence);
  occurrence_quantity : OPTIONAL extended_value_with_unit;
END_ENTITY;

ENTITY Quantified_instance
  SUBTYPE OF (Product_occurrence_with_quantity);
  SELF\Product_occurrence_with_quantity.occurrence_quantity : Value_with_unit;
END_ENTITY;

ENTITY Selected_instance
  SUBTYPE OF (Product_occurrence_with_quantity);
  quantity_criterion : OPTIONAL STRING;
END_ENTITY;

ENTITY Single_instance
  SUBTYPE OF (Product_occurrence);
END_ENTITY;

ENTITY Specification_based_product_occurrence
   ABSTRACT SUPERTYPE
  SUBTYPE OF (Product_occurrence);
  SELF\Product_view_definition.defined_version : Specification_based_product_version;
END_ENTITY;

ENTITY Product_specification
SUBTYPE OF (Product_configuration);
  version_id: OPTIONAL STRING;
  SELF\Product_configuration.item_context: Product_class;
  defining_specifications: SET [0:?] OF Specification;
END_ENTITY;

ENTITY Specification_based_product_version
SUBTYPE OF (Product_version);
INVERSE
  specification_source: Item_design_association FOR design;
WHERE
WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRODUCT_SPECIFICATION' IN TYPEOF(specification_source.configuration);
END_ENTITY;

ENTITY Requirement
  SUBTYPE OF (Product);
END_ENTITY;

ENTITY Requirement_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Requirement;
END_ENTITY;

ENTITY Requirement_version_relationship
  SUBTYPE OF (Product_version_relationship);
  SELF\Product_version_relationship.relating_version : Requirement_version;  -- predecessor : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
  SELF\Product_version_relationship.related_version : Requirement_version;  -- successor : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      predecessor : REQUIREMENT_VERSION := SELF\Product_version_relationship.relating_version;  -- RELATING_VERSION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      successor : REQUIREMENT_VERSION := SELF\Product_version_relationship.related_version;  -- RELATED_VERSION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

  ENTITY Apex
    SUBTYPE OF (Derived_non_feature_shape_element);
  END_ENTITY;

  ENTITY Boundary_size_characteristic
     ABSTRACT SUPERTYPE OF (ONEOF (
                        DIAMETRICAL_BOUNDARY_SIZE_CHARACTERISTIC,
                        OPPOSING_BOUNDARY_SET_SIZE_CHARACTERISTIC));
      tolerance_value         : Length_data_element;
      maximum_tolerance_value : OPTIONAL Length_data_element;
  END_ENTITY;

  ENTITY Centre_axis
    SUBTYPE OF (Centre_of_symmetry);
  WHERE
    WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Centre_of_symmetry
     ABSTRACT SUPERTYPE OF (ONEOF (
                        CENTRE_AXIS,
                        CENTRE_PLANE,
                        CENTRE_POINT))
  SUBTYPE OF (Derived_non_feature_shape_element);
  END_ENTITY;

  ENTITY Centre_plane
    SUBTYPE OF (Centre_of_symmetry);
  WHERE
    WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Centre_point
    SUBTYPE OF (Centre_of_symmetry);
  WHERE
    WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Composite_linear_profile_refinement_tolerance
    SUBTYPE OF (Line_profile_tolerance);
      refined_control : locating_or_refinement_linear_profile_tolerance;
    WHERE
      WR1 : NOT EXISTS(SELF\Geometric_tolerance.name);
  END_ENTITY;

  ENTITY Composite_surface_profile_refinement_tolerance
    SUBTYPE OF (Surface_profile_tolerance);
      refined_control : locating_or_refinement_surface_profile_tolerance;
    WHERE
      WR1 : NOT EXISTS(SELF\Geometric_tolerance.name);
  END_ENTITY;

  ENTITY Conical_tolerance_zone_boundary
    SUBTYPE OF (Tolerance_zone_boundary);
    INVERSE
      boundary_and_surface_relationships : SET[2:2] OF conical_tolerance_zone_boundary_and_surface_relationship FOR sized_tolerance_zone_boundary;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Conical_tolerance_zone_boundary_and_surface_relationship;
      sized_tolerance_zone_boundary : Conical_tolerance_zone_boundary;
      terminating_surface           : physical_feature_or_part_template;
    INVERSE
      size_characteristic : conical_tolerance_zone_boundary_diametrical_size_characteristic FOR sized_boundary_at_surface;
  END_ENTITY;

  ENTITY Conical_tolerance_zone_boundary_diametrical_size_characteristic;
      sized_boundary_at_surface : Conical_tolerance_zone_boundary_and_surface_relationship;
      tolerance_value           : Length_data_element;
  END_ENTITY;

  ENTITY Conical_tolerance_zone_definition
    SUBTYPE OF (Tolerance_zone_definition);
-- LK input needed      SELF\Tolerance_zone_definition.boundary_definition : conical_tolerance_zone_boundary_definition;
  END_ENTITY;

  ENTITY Datum_axis
    SUBTYPE OF (Datum_shape_element);
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Datum_axis_and_tolerance_zone_orienting_relationship;
      oriented_tolerance_zone : Tolerance_zone;
      orienting_datum_axis    : Datum_axis;
    INVERSE
      zone_orientation : datum_axis_related_orientation FOR orienting_relationship;
  END_ENTITY;

  ENTITY Datum_axis_related_orientation;
      orienting_relationship : Datum_axis_and_tolerance_zone_orienting_relationship;
      orientation_type       : centre_type;
  END_ENTITY;

  ENTITY Datum_based_direction_vector;
      direction_vector_representation : Axis_placement;
      vector_of                       : Datum_plane;
      positive_direction_vector       : BOOLEAN;
  END_ENTITY;

  ENTITY Datum_based_length_measure;
      measure             : Length_data_element;
      measure_orientation : descriptive_or_geometric_orientation;
      of_datum            : Datum_plane;
  END_ENTITY;

  ENTITY Datum_based_vector_orientation;
      direction_components : SET[2:2] OF Direction_element;
  END_ENTITY;

  ENTITY Datum_difference
    SUBTYPE OF (Shape_element_relationship);
      SELF\Shape_element_relationship.relating : Datum_shape_element;  -- precedent_datum : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\Shape_element_relationship.related : Datum_shape_element;  -- subsequent_datum : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      precedent_datum : DATUM_SHAPE_ELEMENT := SELF\Shape_element_relationship.relating;  -- RELATING : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      subsequent_datum : DATUM_SHAPE_ELEMENT := SELF\Shape_element_relationship.related;  -- RELATED : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY;

  ENTITY Datum_difference_based_characteristic
    SUBTYPE OF (Representation_item); --characteristic);
      of_datum_difference : Datum_difference;
  END_ENTITY;

  ENTITY Datum_feature
    SUPERTYPE OF (
              DATUM_TARGET_SET)
  SUBTYPE OF (Shape_element);
  END_ENTITY;

  ENTITY Datum_plane
    SUBTYPE OF (Datum_shape_element);
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Datum_point
    SUBTYPE OF (Datum_shape_element);
  END_ENTITY;

	ENTITY Datum_shape_element
	  SUBTYPE OF (Datum, Non_feature_shape_element);
	END_ENTITY;

  ENTITY Datum_target_set
    SUBTYPE OF (Datum_feature);
    INVERSE
      included_datum_targets : SET[1:?] OF datum_target_usage_in_datum_target_set_relationship FOR defined_datum_target_set;
  END_ENTITY;

  ENTITY Datum_target_usage_in_datum_target_set_relationship;
      defined_datum_target_set : Datum_target_set;
      used_datum_target        : Datum_target;
      datum_target_number      : INTEGER; -- positive_integer;
    UNIQUE
      UR1 : used_datum_target,
 defined_datum_target_set;
      UR2 : datum_target_number,
 defined_datum_target_set;
  END_ENTITY;

  ENTITY Derived_non_feature_shape_element
     ABSTRACT SUPERTYPE OF (ONEOF (
                        APEX,
                        CENTRE_OF_SYMMETRY,
                        LINEAR_EXTENSION,
                        GEOMETRIC_INTERSECTION,
                        GEOMETRIC_ALIGNMENT,
                        TANGENT_SHAPE_ELEMENT))
  SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      deriving_relationships : SET[1:?] OF shape_element_deriving_relationship FOR relating;
  END_ENTITY; 

  ENTITY Diametrical_boundary_size_characteristic
    SUBTYPE OF (Boundary_size_characteristic);
      sized_boundary : Tolerance_zone_circular_or_cylindrical_or_spherical_boundary;
  END_ENTITY; 

  ENTITY Dimension_qualifier
     ABSTRACT SUPERTYPE OF (ONEOF (
                        PRE_DEFINED_DIMENSION_QUALIFIER,
                        USER_DEFINED_DIMENSION_QUALIFIER));
      qualified_dimensions : SET[1:?] OF Geometric_dimension;
  END_ENTITY;

  ENTITY Dimension_related_positional_boundary
    SUBTYPE OF (Positional_boundary);
      boundary_members             : SET[1:?] OF Positional_boundary_member;
      constrained_physical_feature : physical_feature_or_part_template;
  END_ENTITY;

  ENTITY Dimension_related_positional_boundary_definition
    SUBTYPE OF (Positional_boundary_definition);
      SELF\Positional_boundary_definition.defined_positional_boundary : Dimension_related_positional_boundary;
      characterized_boundary_member_definitions                       : SET[1:?] OF Positional_boundary_member_definition;
  END_ENTITY;

  ENTITY Dimension_set;
      associated_dimensions : SET[1:?] OF Geometric_dimension;
  END_ENTITY;

  ENTITY Dimensional_characteristic_representation;
      representation                     : Shape_dimension_representation;
      dimension                          : dimensional_location_or_dimensional_size;
      auxiliary_dimension_representation : BOOLEAN;
  END_ENTITY;

  ENTITY Dimensional_size_based_on_opposing_boundaries
    SUBTYPE OF (Size_dimension);
      boundary_separation           		: Shape_element_locating_relationship;
      SELF\Size_dimension.is_applied_to : Composite_unit_shape_element;
  END_ENTITY;

  ENTITY Directed_axis
    SUBTYPE OF (Non_feature_shape_element);
      axis_to_be_oriented : Centre_axis;
      start_shape_element : Shape_element;
      end_shape_element   : Shape_element;
    UNIQUE
      UR1 : axis_to_be_oriented,
 start_shape_element;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Direction_element;
      direction                     : Datum_based_direction_vector;
      angle_value                   : Angle_data_element;
      base_datum_plane              : Datum_plane;
      direction_of_half_datum_plane : Datum_based_direction_vector;
    INVERSE
      elements_of : SET[1:?] OF datum_based_vector_orientation FOR direction_components;
  END_ENTITY;

  ENTITY Edge_segment_vertex
    SUBTYPE OF (Datum_point);
  END_ENTITY;

  ENTITY Externally_defined_dimension_representation
    SUBTYPE OF (Shape_dimension_representation);
      dimension_value : OPTIONAL Value_with_unit;
    INVERSE
      definitions			: SET[1:?] OF External_source_identification FOR item;
  END_ENTITY;

  ENTITY Geometric_alignment
    SUBTYPE OF (Derived_non_feature_shape_element);
  END_ENTITY;

  ENTITY Geometric_intersection
    SUBTYPE OF (Derived_non_feature_shape_element);
  END_ENTITY;

  ENTITY Geometric_tolerance_qualifier
     ABSTRACT SUPERTYPE OF (ONEOF (
                        PRE_DEFINED_GEOMETRIC_TOLERANCE_QUALIFIER,
                        USER_DEFINED_GEOMETRIC_TOLERANCE_QUALIFIER));
      qualified_geometric_tolerances : SET[1:?] OF Geometric_tolerance;
  END_ENTITY;

  ENTITY Geometric_tolerance_with_applied_material_condition_property
    SUBTYPE OF (Geometric_tolerance);
      applied_material_condition_property_name : material_condition_property_names;
  END_ENTITY; 

  ENTITY Limit_dimension_representation
    SUBTYPE OF (Shape_dimension_representation);
      upper_dimension_value : Value_with_unit;
      lower_dimension_value : Value_with_unit;
  END_ENTITY;

  ENTITY Linear_extension
    SUBTYPE OF (Derived_non_feature_shape_element);
  END_ENTITY;

  ENTITY Maximum_dimension_representation
    SUBTYPE OF (Singular_dimension_representation);
  END_ENTITY;

  ENTITY Minimum_dimension_representation
    SUBTYPE OF (Singular_dimension_representation);
  END_ENTITY;

  ENTITY Opposing_boundary_set_size_characteristic
    SUBTYPE OF (Boundary_size_characteristic);
      sized_boundary_set : Tolerance_zone_opposing_boundary_set;
  END_ENTITY;

  ENTITY Parallel_shape_element_relationship
    SUBTYPE OF (Shape_element_relationship);
    WHERE
      WR1 : NOT EXISTS (SELF\Shape_element_relationship.relation_type);
  END_ENTITY;

  ENTITY Perpendicular_shape_element_relationship
    SUBTYPE OF (Shape_element_relationship);
    WHERE
      WR1 : NOT EXISTS (SELF\Shape_element_relationship.relation_type);
  END_ENTITY; 

  ENTITY Positional_boundary
     ABSTRACT SUPERTYPE OF (ONEOF (
                        PROFILE_RELATED_POSITIONAL_BOUNDARY,
                        DIMENSION_RELATED_POSITIONAL_BOUNDARY))
  SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      boundary_definition : positional_boundary_definition FOR defined_positional_boundary;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Positional_boundary_and_profile_boundary_member_relationship;
      offset_positional_boundary                  : Profile_related_positional_boundary;
      base_profile_tolerance_zone_boundary_member : Tolerance_zone_boundary_member;
    INVERSE
      offset : positional_boundary_offset FOR offset_boundary_relationship;
  END_ENTITY;

  ENTITY Positional_boundary_definition
     ABSTRACT SUPERTYPE OF (ONEOF (
                        PROFILE_RELATED_POSITIONAL_BOUNDARY_DEFINITION,
                        DIMENSION_RELATED_POSITIONAL_BOUNDARY_DEFINITION));
      defined_positional_boundary : Positional_boundary;
  END_ENTITY;

  ENTITY Positional_boundary_member
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      composed_positional_boundary : dimension_related_positional_boundary FOR boundary_members;
      boundary_member_definition   : positional_boundary_member_definition FOR defined_positional_boundary_member;
  END_ENTITY;

  ENTITY Positional_boundary_member_definition;
      defined_positional_boundary_member : Positional_boundary_member;
      tolerance_value                    : Length_data_element;
      associated_dimension               : Size_dimension;
    INVERSE
      boundary_definition : dimension_related_positional_boundary_definition FOR characterized_boundary_member_definitions;
  END_ENTITY;

  ENTITY Positional_boundary_offset;
      offset_boundary_relationship : Positional_boundary_and_profile_boundary_member_relationship;
      tolerance_value              : Length_data_element;
    INVERSE
      boundary_definition : profile_related_positional_boundary_definition FOR boundary_offset;
  END_ENTITY;

  ENTITY Pre_defined_dimension_qualifier
    SUBTYPE OF (Dimension_qualifier);
      description : dimension_qualifiers;
  END_ENTITY;

  ENTITY Pre_defined_geometric_tolerance_qualifier
    SUBTYPE OF (Geometric_tolerance_qualifier);
      description : geometric_tolerance_qualifiers;
  END_ENTITY; 

  ENTITY Profile_related_positional_boundary
    SUBTYPE OF (Positional_boundary);
    INVERSE
      associating_relationship : positional_boundary_and_profile_boundary_member_relationship FOR offset_positional_boundary;
  END_ENTITY;

  ENTITY Profile_related_positional_boundary_definition
    SUBTYPE OF (Positional_boundary_definition);
      SELF\Positional_boundary_definition.defined_positional_boundary : Profile_related_positional_boundary;
      boundary_offset                                                 : Positional_boundary_offset;
  END_ENTITY;

  ENTITY Projected_zone_and_base_relationship;
      base_physical_feature : physical_feature_or_part_template;
      projected_zone        : Tolerance_zone;
    INVERSE
      size_characteristic : projected_zone_height_characteristic FOR defined_height_of;
  END_ENTITY;

  ENTITY Projected_zone_height_characteristic;
      defined_height_of      : Projected_zone_and_base_relationship;
      projected_height_value : Length_data_element;
-- LK input needed    INVERSE
-- LK input needed      zone_definition : projection FOR defining; --projected_zone_height;
  END_ENTITY;

  ENTITY Restraint_condition
    SUPERTYPE OF (
              TOLERANCE_SPECIFIC_RESTRAINT_CONDITION);
      applied_to            : restrained_item_select;
	DERIVE
  		restraint_description: SET[0:?] OF Requirement_view_definition :=
  		get_rvd(SELF, 'restraint description');
	WHERE
   		WR1 : EXISTS (restraint_description) AND (SIZEOF(restraint_description) = 1);
  END_ENTITY;

  ENTITY Runout_tolerance_zone_definition_with_specified_angle
    SUBTYPE OF (Tolerance_zone_definition);
      runout_orientation : Runout_zone_orientation;
  END_ENTITY;

  ENTITY Runout_tolerance_zone_orienting_relationship;
      oriented_zone  : Tolerance_zone;
      orienting_axis : Directed_axis;
    INVERSE
      angular_size_characteristic : runout_zone_orientation FOR oriented_relationship;
  END_ENTITY;

  ENTITY Runout_zone_orientation;
      oriented_relationship : Runout_tolerance_zone_orienting_relationship;
      semi_angle_value      : Angle_data_element;
    INVERSE
      zone_definition : runout_tolerance_zone_definition_with_specified_angle FOR runout_orientation;
  END_ENTITY;

  ENTITY Separate_geometric_tolerance_requirement;
      separated_geometric_tolerances : SET[1:?] OF Geometric_tolerance;
  END_ENTITY;

  ENTITY Shape_dimension_representation
     ABSTRACT SUPERTYPE OF (ONEOF (
                        LIMIT_DIMENSION_REPRESENTATION,
                        SINGULAR_DIMENSION_REPRESENTATION,
                        EXTERNALLY_DEFINED_DIMENSION_REPRESENTATION));
  END_ENTITY;

  ENTITY Shape_element_deriving_relationship
    SUBTYPE OF (Shape_element_relationship);
      SELF\Shape_element_relationship.relating : Derived_non_feature_shape_element;
    UNIQUE
      UR1 : SELF\Shape_element_relationship.related, 
 SELF\Shape_element_relationship.relating;
  END_ENTITY;

  ENTITY Simultaneous_geometric_tolerance_requirement;
      grouped_geometric_tolerances : SET[2:?] OF Geometric_tolerance;
  END_ENTITY;

  ENTITY Singular_dimension_representation
     ABSTRACT SUPERTYPE OF (ONEOF (
                        THEORETICALLY_EXACT_DIMENSION_REPRESENTATION,
                        MAXIMUM_DIMENSION_REPRESENTATION,
                        MINIMUM_DIMENSION_REPRESENTATION))
  SUBTYPE OF (Shape_dimension_representation);
      dimension_value : Value_with_unit;
  END_ENTITY;

  ENTITY Statistical_dimensional_location
    SUBTYPE OF (Geometric_dimension);
      alternate_dimension             : OPTIONAL Geometric_dimension;
	DERIVE
  		statistical_control_requirement: SET[0:?] OF Requirement_view_definition :=
  		get_rvd(SELF, 'statistical control requirement');
	WHERE
   		WR1 : EXISTS (statistical_control_requirement) AND (SIZEOF(statistical_control_requirement) = 1);
  END_ENTITY;

  ENTITY Statistical_dimensional_size
    SUBTYPE OF (Geometric_dimension);
      alternate_dimension             : OPTIONAL Geometric_dimension;
	DERIVE
  		statistical_control_requirement: SET[0:?] OF Requirement_view_definition :=
  		get_rvd(SELF, 'statistical control requirement');
	WHERE
   		WR1 : EXISTS (statistical_control_requirement) AND (SIZEOF(statistical_control_requirement) = 1);
  END_ENTITY;

  ENTITY Statistical_geometric_tolerance
    SUBTYPE OF (Geometric_tolerance);
      alternate_tolerance             : OPTIONAL Geometric_tolerance;
	DERIVE
  		statistical_control_requirement: SET[0:?] OF Requirement_view_definition :=
  		get_rvd(SELF, 'statistical control requirement');
	WHERE
   		WR1 : EXISTS (statistical_control_requirement) AND (SIZEOF(statistical_control_requirement) = 1);
  END_ENTITY;

  ENTITY Tangent_plane
    SUBTYPE OF (Tangent_shape_element);
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Tangent_shape_element
    SUPERTYPE OF (
              TANGENT_PLANE)
  SUBTYPE OF (Derived_non_feature_shape_element);
  END_ENTITY;

  ENTITY Theoretically_exact_dimension_representation
    SUBTYPE OF (Singular_dimension_representation);
  END_ENTITY;

  ENTITY Tolerance_specific_restraint_condition
    SUBTYPE OF (Restraint_condition);
      affected_tolerances : SET[1:?] OF geometric_or_dimension_select;
  END_ENTITY;

  ENTITY Tolerance_zone_and_viewing_plane_orienting_relationship;
      orienting_viewing_plane : Viewing_plane;
      oriented_tolerance_zone : Tolerance_zone;
    INVERSE
      zone_orientation : viewing_plane_based_orientation FOR orienting_relationship;
  END_ENTITY;

  ENTITY Tolerance_zone_boundary
     ABSTRACT SUPERTYPE OF (ONEOF (
                        TOLERANCE_ZONE_CIRCULAR_OR_CYLINDRICAL_OR_SPHERICAL_BOUNDARY,
                        TOLERANCE_ZONE_OPPOSING_BOUNDARY_SET,
                        CONICAL_TOLERANCE_ZONE_BOUNDARY))
  SUBTYPE OF (Non_feature_shape_element);
--    INVERSE
-- LK input needed      bounded_zone             : tolerance_zone FOR zone_boundary;
--      boundary_zone_definition : tolerance_zone_boundary_definition FOR defined_zone_boundary;
  END_ENTITY;

  ENTITY Tolerance_zone_boundary_member
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      explicit_opposing_boundary_set : tolerance_zone_explicit_opposing_boundary_set FOR boundary_members;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Tolerance_zone_boundary_member_offset;
      offset_tolerance_zone_boundary_member : Tolerance_zone_boundary_member;
      offset_value                          : Length_data_element;
      type_of_offset                        : offset_types;
--    INVERSE
--      boundary_definition : profile_boundary_definition_with_offsets FOR boundary_offsets;
  END_ENTITY;

  ENTITY Tolerance_zone_circular_or_cylindrical_or_spherical_boundary
    SUBTYPE OF (Tolerance_zone_boundary);
    INVERSE
      size_characteristic : diametrical_boundary_size_characteristic FOR sized_boundary;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Tolerance_zone_definition_with_per_unit_size_specification
    SUBTYPE OF (Tolerance_zone_definition);
      per_unit_size_specification : Tolerance_zone_per_unit_size_specification;
  END_ENTITY;

  ENTITY Tolerance_zone_definition_with_specified_orientation
    SUBTYPE OF (Tolerance_zone_definition);
      zone_orientation : orientation_select;
  END_ENTITY;

  ENTITY Tolerance_zone_explicit_opposing_boundary_set
    SUBTYPE OF (Tolerance_zone_opposing_boundary_set);
      boundary_members : SET[2:2] OF Tolerance_zone_boundary_member;
  END_ENTITY;

  ENTITY Tolerance_zone_form;
      name                         : STRING; 
      characterized_tolerance_zone : Tolerance_zone;
-- LK input needed    INVERSE
-- LK input needed      zone_definition : tolerance_zone_definition FOR form;
  END_ENTITY;

  ENTITY Tolerance_zone_implicit_opposing_boundary_set
    SUBTYPE OF (Tolerance_zone_opposing_boundary_set);
  END_ENTITY;

  ENTITY Tolerance_zone_opposing_boundary_set
     ABSTRACT SUPERTYPE OF (ONEOF (
                        TOLERANCE_ZONE_EXPLICIT_OPPOSING_BOUNDARY_SET,
                        TOLERANCE_ZONE_IMPLICIT_OPPOSING_BOUNDARY_SET))
  SUBTYPE OF (Tolerance_zone_boundary);
    INVERSE
      size_characteristic : opposing_boundary_set_size_characteristic FOR sized_boundary_set;
  END_ENTITY;

  ENTITY Tolerance_zone_per_unit_size_specification;
      specified_tolerance_zone : Tolerance_zone;
      per_unit_size            : SET[1:2] OF Length_data_element;
    INVERSE
      zone_definition : tolerance_zone_definition_with_per_unit_size_specification FOR per_unit_size_specification;
  END_ENTITY;

  ENTITY True_profile;
      profiled_surface       : physical_feature_or_part_template;
      profile_representation : true_profile_representations;
--    INVERSE
--      boundary_definition : SET[1:?] OF profile_boundary_definition FOR basic_profile;
  END_ENTITY;

  ENTITY User_defined_dimension_qualifier
    SUBTYPE OF (Dimension_qualifier);
      name        : STRING; 
      description : STRING; 
  END_ENTITY;

  ENTITY User_defined_geometric_tolerance_qualifier
    SUBTYPE OF (Geometric_tolerance_qualifier);
      name        : STRING; 
      description : STRING; 
  END_ENTITY;

  ENTITY Viewing_plane
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      viewing_plane_specification : viewing_plane_definition FOR defined_viewing_plane;
    WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Viewing_plane_based_orientation;
      orienting_relationship      : Tolerance_zone_and_viewing_plane_orienting_relationship;
      viewing_plane_specification : Viewing_plane_definition;
  END_ENTITY;

  ENTITY Viewing_plane_definition;
      defined_viewing_plane        : Viewing_plane;
      viewing_plane_representation : Axis_placement;
    INVERSE
      zone_orientation : viewing_plane_based_orientation FOR viewing_plane_specification;
  END_ENTITY;

ENTITY Default_setting_association;
  default_value : SET[0:?] OF default_setting_select;
  default_context : default_context_select;
END_ENTITY;

ENTITY General_tolerance_table;
  tolerance_type : STRING;
INVERSE
  cell : SET[1:?] OF Tolerance_table_cell FOR tolerance_table;
END_ENTITY;

ENTITY General_tolerances;
  table_definition : general_tolerance_table_select;
  tolerance_class : STRING;
END_ENTITY;

ENTITY Plus_minus_toleranced_datum;
  tolerance_value : Numerical_item_with_unit;
END_ENTITY;

ENTITY Significant_number_of_digits;
  number_of_digits : STRING;
END_ENTITY;

ENTITY Tolerance_table_cell;
  cell_value : cell_entry_select;
  description : STRING;
  limit : limit_select;
  tolerance_class : STRING;
  tolerance_table : General_tolerance_table;
END_ENTITY;

ENTITY Upper_lower_limit;
  upper_limit : Numerical_item_with_unit;
  lower_limit : Numerical_item_with_unit;
END_ENTITY;

ENTITY Upper_lower_toleranced_datum;
  lower_tolerance_value : Numerical_item_with_unit;
  upper_tolerance_value : Numerical_item_with_unit;
END_ENTITY;

ENTITY Angular_location_dimension
  SUBTYPE OF (Location_dimension);
  orientation : Axis_placement;
END_ENTITY;

ENTITY Angular_size_dimension
  SUBTYPE OF (Size_dimension);
  full : BOOLEAN;
  major_angle : BOOLEAN;
END_ENTITY;

ENTITY Curved_distance_dimension
  SUBTYPE OF (Location_dimension);
  used_path : Measurement_path;
END_ENTITY;

ENTITY Curved_size_dimension
  SUBTYPE OF (Size_dimension);
END_ENTITY;

ENTITY Diameter_size_dimension
  SUBTYPE OF (Size_dimension);
END_ENTITY;

ENTITY Dimension_value_with_limitation;
  defined_by : limitation_definition_select;
  limited_value : Numerical_item_with_unit;
END_ENTITY;

ENTITY Externally_defined_size_dimension
  SUBTYPE OF (Size_dimension);
  name : STRING;
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Geometric_dimension
   ABSTRACT SUPERTYPE OF (ONEOF (
                        LOCATION_DIMENSION,
                        SIZE_DIMENSION));
  id : STRING;
  dimension_value : dimension_value_select;
  notes : SET[0:?] OF STRING;
END_ENTITY;

ENTITY Height_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Length_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Limits_and_fits;
  deviation : STRING;
  fitting_type : OPTIONAL STRING;
  grade : STRING;
END_ENTITY;

ENTITY Linear_distance_dimension
  SUBTYPE OF (Location_dimension);
  orientation : OPTIONAL Axis_placement;
END_ENTITY;

ENTITY Location_dimension
   ABSTRACT SUPERTYPE OF (ONEOF (
                        ANGULAR_LOCATION_DIMENSION,
                        CURVED_DISTANCE_DIMENSION,
                        LINEAR_DISTANCE_DIMENSION))
  SUBTYPE OF (Geometric_dimension);
  description : OPTIONAL STRING;
  directed : OPTIONAL BOOLEAN;
  origin : placed_element_select;
  target : placed_element_select;
END_ENTITY;

ENTITY Plus_minus_bounds;
  lower_bound : Value_with_unit;
  significant_digits : OPTIONAL INTEGER;
  upper_bound : Value_with_unit;
  value_determination : OPTIONAL STRING;
END_ENTITY;

ENTITY Radial_size_dimension
  SUBTYPE OF (Size_dimension);
  radius_type : STRING;
END_ENTITY;

ENTITY Size_dimension
   ABSTRACT SUPERTYPE OF (ONEOF (
                        ANGULAR_SIZE_DIMENSION,
                        CURVED_SIZE_DIMENSION,
                        DIAMETER_SIZE_DIMENSION,
                        EXTERNALLY_DEFINED_SIZE_DIMENSION,
                        HEIGHT_SIZE_DIMENSION,
                        LENGTH_SIZE_DIMENSION,
                        RADIAL_SIZE_DIMENSION,
                        THICKNESS_SIZE_DIMENSION,
                        WIDTH_SIZE_DIMENSION))
  SUBTYPE OF (Geometric_dimension);
  envelope_principle : OPTIONAL BOOLEAN;
  is_applied_to : element_with_dimension_select;
END_ENTITY;

ENTITY Thickness_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Tolerance_range;
  lower_range : Numerical_item_with_unit;
  significant_digits : OPTIONAL INTEGER;
  upper_range : Numerical_item_with_unit;
END_ENTITY;

ENTITY Width_size_dimension
  SUBTYPE OF (Size_dimension);
  used_path : OPTIONAL Measurement_path;
END_ENTITY;

ENTITY Constructive_geometry
  SUBTYPE OF (Representation);
  SELF\Representation.context_of_items : Geometric_coordinate_space;
WHERE
  WR1: SIZEOF(SELF\Representation.items) = SIZEOF(QUERY (it <* SELF\Representation.items | 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.CONSTRUCTIVE_ELEMENT_SELECT' IN TYPEOF(it)));
END_ENTITY;

ENTITY Constructive_geometry_association;
  auxiliary_geometry : Constructive_geometry;
  base_geometry : constructive_geometry_select;
  description : STRING;
WHERE
  WR1: auxiliary_geometry\Representation.context_of_items :=: base_geometry\Representation.context_of_items;
END_ENTITY;

  ENTITY Closed_curve
    SUBTYPE OF (Curve);
  END_ENTITY;

  ENTITY Composite_curve
    SUBTYPE OF (Curve);
      curve_segment : LIST[1:?] OF UNIQUE Composite_curve_segment;
  END_ENTITY;

  ENTITY Composite_curve_segment;
      segment_curve : Curve;
    INVERSE
      using_curves : SET[1:?] OF composite_curve FOR curve_segment;
  END_ENTITY;

	ENTITY Measurement_path;
	          defined_by : Curve;
	          defined_in : Geometric_coordinate_space;
	END_ENTITY;

	ENTITY Trimmed_curve
	  SUBTYPE OF (Curve);
	    start_point : Cartesian_point;
	    end_point : Cartesian_point;
	END_ENTITY;

     ENTITY Curve
         SUPERTYPE OF (ONEOF (
               COMPOSITE_CURVE,
               TRIMMED_CURVE) ) 
      SUBTYPE OF (Detailed_geometric_model_element);
--       WHERE
--         WR1: NOT EXISTS (SELF\Representation_item.name);
     END_ENTITY;

     ENTITY Line
       SUBTYPE OF (Curve);
     END_ENTITY;

     ENTITY Plane
       SUBTYPE OF (Surface);
     END_ENTITY;

     ENTITY Point_on_curve
       SUBTYPE OF (Detailed_geometric_model_element);
       supporting_curve : Curve;
--       WHERE
--         WR1: NOT EXISTS (SELF\Representation_item.name);
     END_ENTITY;

     ENTITY Point_on_surface
       SUBTYPE OF (Detailed_geometric_model_element);
       supporting_surface : Surface;
--       WHERE
--         WR1: NOT EXISTS (SELF\Representation_item.name);
     END_ENTITY;

     ENTITY Surface
       SUBTYPE OF (Detailed_geometric_model_element);
--     WHERE
--       WR1: NOT EXISTS (SELF\Representation_item.name);
     END_ENTITY;

ENTITY Derived_geometry;
  derived_from : SET[1:?] OF Shape_element;
  geometry : constructive_element_select;
  role : STRING;
END_ENTITY;

ENTITY Derived_shape_element
  SUBTYPE OF (Shape_element);
  derived_from : SET[1:?] OF Shape_element;

  SELF\Shape_element.description : STRING;                    -- role : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      role : STRING := SELF\Shape_element.description;        -- DESCRIPTION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

END_ENTITY;

ENTITY Offset_shape_element
  SUBTYPE OF (Derived_shape_element);
  offset : Value_with_unit;
END_ENTITY;

ENTITY Angularity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Circular_runout_tolerance
  SUBTYPE OF (Geometric_tolerance);
  angle : OPTIONAL REAL;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Coaxiality_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Common_datum
  SUBTYPE OF (Datum);
  made_up_by : SET[2:?] OF Single_datum;
END_ENTITY;

ENTITY Concentricity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Cylindricity_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Datum;
END_ENTITY;

ENTITY Datum_defined_by_derived_shape
  SUBTYPE OF (Derived_geometry, Single_datum);
END_ENTITY;

ENTITY Datum_defined_by_feature
  SUBTYPE OF (Single_datum);
  defined_by : Shape_element;
END_ENTITY;

ENTITY Datum_defined_by_targets
  SUBTYPE OF (Single_datum);
  defined_by : SET[1:?] OF Datum_target;
  rule_description : STRING;
END_ENTITY;

ENTITY Datum_reference;
  precedence : INTEGER;
  referenced_datum : Datum;
END_ENTITY;

ENTITY Datum_target;
  id : STRING;
END_ENTITY;

ENTITY Flatness_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Geometric_tolerance
   ABSTRACT SUPERTYPE OF (ONEOF (
                        ANGULARITY_TOLERANCE,
                        CIRCULAR_RUNOUT_TOLERANCE,
                        COAXIALITY_TOLERANCE,
                        CONCENTRICITY_TOLERANCE,
                        CYLINDRICITY_TOLERANCE,
                        FLATNESS_TOLERANCE,
                        LINE_PROFILE_TOLERANCE,
                        PARALLELISM_TOLERANCE,
                        PERPENDICULARITY_TOLERANCE,
                        POSITION_TOLERANCE,
                        ROUNDNESS_TOLERANCE,
                        STRAIGHTNESS_TOLERANCE,
                        SURFACE_PROFILE_TOLERANCE,
                        SYMMETRY_TOLERANCE,
                        TOTAL_RUNOUT_TOLERANCE));
  name : OPTIONAL STRING;
  applied_to : Shape_element;
  modification : OPTIONAL Tolerance_condition;
  qualifying_note : OPTIONAL STRING;
  segment_size : OPTIONAL Value_with_unit;
  significant_digits : OPTIONAL INTEGER;
  tolerance_value : Value_with_unit;
  value_determination : OPTIONAL STRING;
WHERE
  WR1: (NOT (EXISTS(segment_size))) OR ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LENGTH_MEASURE' IN TYPEOF(segment_size.value_component));
  WR2: (NOT (EXISTS(tolerance_value))) OR ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LENGTH_MEASURE' IN TYPEOF(tolerance_value.value_component));
  WR3: (NOT (EXISTS(significant_digits))) OR (significant_digits > 0);
END_ENTITY;

ENTITY Geometric_tolerance_relationship;
  relation_type : STRING;
  relating : Geometric_tolerance;
  related : Geometric_tolerance;
END_ENTITY;

ENTITY Line_profile_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Parallelism_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

ENTITY Perpendicularity_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:3] OF Datum_reference;
END_ENTITY;

ENTITY Placed_target
   ABSTRACT SUPERTYPE OF (ONEOF (
                        TARGET_CIRCLE,
                        TARGET_POINT,
                        TARGET_RECTANGLE,
                        TARGET_STRAIGHT_LINE))
  SUBTYPE OF (Datum_target);
  defined_in : Geometric_coordinate_space;
  parameter_reference : Axis_placement;
END_ENTITY;

ENTITY Position_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Projection
  SUBTYPE OF (Tolerance_zone_definition);
  projection_end : Shape_element;
  projection_length : Value_with_unit;
END_ENTITY;

ENTITY Roundness_tolerance
  SUBTYPE OF (Geometric_tolerance);
END_ENTITY;

ENTITY Single_datum
  SUBTYPE OF (Datum);
  datum_name : STRING;
  modification : OPTIONAL Tolerance_condition;
END_ENTITY;

ENTITY Straightness_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
END_ENTITY;

ENTITY Surface_profile_tolerance
  SUBTYPE OF (Geometric_tolerance);
  reference_datum : SET[0:3] OF Datum_reference;
END_ENTITY;

ENTITY Symmetry_tolerance
  SUBTYPE OF (Geometric_tolerance);
  affected_plane : OPTIONAL Axis_placement;
  reference_datum : SET[1:3] OF Datum_reference;
END_ENTITY;

ENTITY Target_area
  SUBTYPE OF (Datum_target);
END_ENTITY;

ENTITY Target_circle
  SUBTYPE OF (Placed_target);
  diameter : Numerical_item_with_unit;
END_ENTITY;

ENTITY Target_point
  SUBTYPE OF (Placed_target);
END_ENTITY;

ENTITY Target_rectangle
  SUBTYPE OF (Placed_target);
  target_length : Numerical_item_with_unit;
  target_width : Numerical_item_with_unit;
END_ENTITY;

ENTITY Target_straight_line
  SUBTYPE OF (Placed_target);
  target_length : Numerical_item_with_unit;
END_ENTITY;

ENTITY Tolerance_condition;
  condition : STRING;
END_ENTITY;

ENTITY Tolerance_zone;
  form_type : STRING;
  zone_for : SET[1:?] OF Geometric_tolerance;
END_ENTITY;

ENTITY Tolerance_zone_definition;
  defining : Tolerance_zone;
  first_element : Shape_element;
  second_element : OPTIONAL Shape_element;
END_ENTITY;

ENTITY Total_runout_tolerance
  SUBTYPE OF (Geometric_tolerance);
  angle : REAL;
  reference_datum : SET[1:2] OF Datum_reference;
END_ENTITY;

  ENTITY Design_view_level_non_feature_shape_model
    SUBTYPE OF (Non_feature_shape_model);
      SELF\Non_feature_shape_model.model_shape : Physical_unit_shape_model;
    WHERE
      WR1 : SELF\Geometric_model.context_of_items :=: SELF\Non_feature_shape_model.model_shape\Geometric_model.context_of_items;
      WR2: SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GEOMETRIC_MODEL_RELATIONSHIP.REP_1')) = 0;
      WR3: SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GEOMETRIC_PLACEMENT_OPERATION.TEMPLATE_DEFINITION')) = 0;
      WR4: SELF\Non_feature_shape_model.associated_element.scope :=:
           SELF\Non_feature_shape_model.model_shape\Physical_unit_shape_model.shape_characterized_definition;
  END_ENTITY;

  ENTITY Interface_plane
    SUBTYPE OF (Non_feature_shape_element);
   WHERE
    WR1 : (SELF\Shape_element.element_name = 'interface plane');
  END_ENTITY;

  ENTITY Non_feature_shape_model
  SUPERTYPE OF (ONEOF (
              DESIGN_VIEW_LEVEL_NON_FEATURE_SHAPE_MODEL,
              USAGE_VIEW_LEVEL_NON_FEATURE_SHAPE_MODEL))
  SUBTYPE OF (Geometric_model);
      associated_element : Non_feature_shape_element;
      model_shape        : OPTIONAL Geometric_model;
    WHERE
      WR1 : TYPEOF(SELF) <> TYPEOF(model_shape);
      WR2 : NOT EXISTS(SELF\Representation.id);
      WR3 : SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_DESCRIPTION_ASSOCIATION.REPRESENTATION'))=0;            
  END_ENTITY;

  ENTITY Non_feature_shape_element
      SUPERTYPE OF ((ONEOF (
               DERIVED_NON_FEATURE_SHAPE_ELEMENT,
               DIRECTED_AXIS,
               POSITIONAL_BOUNDARY,
               POSITIONAL_BOUNDARY_MEMBER,
               TOLERANCE_ZONE_BOUNDARY,
               TOLERANCE_ZONE_BOUNDARY_MEMBER,
               VIEWING_PLANE,
               SEATING_PLANE,
               REFERENCE_GRAPHIC_REGISTRATION_MARK)) ) 
      SUBTYPE OF (Shape_element);
      SELF\Shape_element.element_name : STRING;

      SELF\Shape_element.containing_shape : ee_product_definition_with_annotation_elements;  -- scope : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      scope : EE_PRODUCT_DEFINITION_WITH_ANNOTATION_ELEMENTS := SELF\Shape_element.containing_shape;  -- CONTAINING_SHAPE : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
    INVERSE
      element_shape            : SET[0:?] OF non_feature_shape_model FOR associated_element;

      associated_usage_concept : SET[0:?] OF usage_concept_usage_relationship FOR associated_usage;

  WHERE
      WR1 : NOT ((SIZEOF(associated_usage_concept) > 0) XOR (SIZEOF(element_shape) > 0));
      WR2 : SIZEOF(QUERY(ucur <* associated_usage_concept | NOT(ucur\Usage_concept_usage_relationship.associated_shape_definition IN element_shape))) = 0;
      WR3 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ITEM_SHAPE' IN TYPEOF(scope);
  END_ENTITY;

  ENTITY Non_feature_shape_element_relationship
    SUBTYPE OF (Shape_element_relationship);
      SELF\Shape_element_relationship.relating : Non_feature_shape_element;    
      SELF\Shape_element_relationship.related : Non_feature_shape_element;
    UNIQUE
      UR1 : SELF\Shape_element_relationship.related,
 SELF\Shape_element_relationship.relating;
    WHERE
      WR1 : NOT EXISTS (SELF\Shape_element_relationship.relation_type);
  END_ENTITY;

   ENTITY Reference_graphic_registration_mark
    SUBTYPE OF (Non_feature_shape_element);
  END_ENTITY;

  ENTITY Seating_plane
    SUBTYPE OF (Non_feature_shape_element);
   WHERE
    WR1 : (SELF\Shape_element.element_name = 'seating plane');
  END_ENTITY;

  ENTITY Usage_view_level_non_feature_shape_model
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Non_feature_shape_model);
      SELF\Non_feature_shape_model.model_shape : view_shape_select;
    WHERE
      WR1 : SELF\Geometric_model.context_of_items = SELF\Non_feature_shape_model.model_shape\Geometric_model.context_of_items;
  END_ENTITY;

  ENTITY View_level_non_feature_shape_element
    SUBTYPE OF (Non_feature_shape_element);
     WHERE
      WR1: NOT(SIZEOF(SELF\Non_feature_shape_element.element_shape) > 0) OR
      valid_es('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.USAGE_VIEW_LEVEL_NON_FEATURE_SHAPE_MODEL',
      (SELF\Non_feature_shape_element.element_shape));
      WR2 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Fiducial_part_feature
    SUBTYPE OF (Part_tooling_feature);
  END_ENTITY;

  ENTITY Part_interface_access_feature
    SUBTYPE OF (Part_feature);
      accessed_interface                 : Part_feature;
      SELF\Shape_feature.connection_area : OPTIONAL SET[1:?] OF Connection_zone_in_usage_view;                  
    WHERE
      WR1 : SELF\Part_feature.material_state_change = material_removal;
      WR2 : SELF <> accessed_interface;
      WR3 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_TERMINAL' IN TYPEOF(SELF));
      WR4 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PACKAGE_BODY' IN TYPEOF(SELF));
      WR5 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_MOUNTING_FEATURE' IN TYPEOF(SELF));
      WR6 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.INTERCONNECT_MODULE_SURFACE_FEATURE' IN TYPEOF(SELF));
      WR7 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PACKAGE_TERMINAL' IN TYPEOF(SELF));
      WR8 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PACKAGE_BODY_SURFACE' IN TYPEOF(SELF));
      WR9 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.POLARITY_INDICATION_FEATURE' IN TYPEOF(SELF));
  END_ENTITY;

  ENTITY Part_mating_feature
    SUBTYPE OF (Part_feature);
      SELF\Shape_feature.connection_area : OPTIONAL SET[1:?] OF Connection_zone_in_usage_view;                  
    WHERE
      WR1 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_MOUNTING_FEATURE' IN TYPEOF(SELF));
      WR2 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.INTERCONNECT_MODULE_SURFACE_FEATURE' IN TYPEOF(SELF));
      WR3 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PACKAGE_TERMINAL' IN TYPEOF(SELF));
      WR4 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_TERMINAL' IN TYPEOF(SELF));
  END_ENTITY;

  ENTITY Part_mounting_feature
    SUBTYPE OF (Part_feature);
      SELF\Shape_feature.connection_area : OPTIONAL SET[1:?] OF Connection_zone_in_usage_view;            
  END_ENTITY;

  ENTITY Part_tooling_feature
    SUPERTYPE OF (ONEOF (
              FIDUCIAL_PART_FEATURE,
              TOOL_REGISTRATION_MARK)
              ANDOR 
              TEST_POINT_PART_FEATURE)
  SUBTYPE OF (Part_feature);
  END_ENTITY;

  ENTITY Test_point_part_feature
    SUBTYPE OF (Part_tooling_feature);
  WHERE
   WR1: 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_TERMINAL' IN TYPEOF(SELF);
  END_ENTITY;

  ENTITY Thermal_feature
    SUBTYPE OF (Part_feature);
  END_ENTITY;

  ENTITY Tool_registration_mark
    SUBTYPE OF (Part_tooling_feature);
  END_ENTITY;

  ENTITY Mating_connector_relationship
    SUBTYPE OF (Part_definition_relationship);
      SELF\View_definition_relationship.relating_view : Packaged_connector;
      SELF\View_definition_relationship.related_view : Packaged_connector;
    WHERE
      WR1 : NOT EXISTS(SELF\View_definition_relationship.relation_type);
  END_ENTITY;

  ENTITY Packaged_connector
    SUBTYPE OF (Packaged_part);
    INVERSE
      characterized_connector_terminal_relationship : SET[1:?] OF packaged_connector_terminal_relationship FOR connector;
  END_ENTITY;

  ENTITY Packaged_connector_terminal_relationship;
      connector          : Packaged_connector;
      join_terminal      : Packaged_part_join_terminal;
      interface_terminal : Packaged_part_interface_terminal;
    UNIQUE
      UR1 : join_terminal;
      UR2 : interface_terminal,
 connector;
  END_ENTITY;

  ENTITY Packaged_part_interface_terminal
    SUBTYPE OF (Packaged_part_terminal);
    INVERSE
      external_connector_function : SET[0:?] OF packaged_connector_terminal_relationship FOR interface_terminal;
  END_ENTITY;

  ENTITY Planar_projected_shape_model
    SUBTYPE OF (Planar_shape_model);
    WHERE
      WR1 : NOT EXISTS(SELF\Representation.name);
  END_ENTITY;

  ENTITY Planar_shape_model
     ABSTRACT SUPERTYPE OF (
                        PLANAR_PROJECTED_SHAPE_MODEL)
  SUBTYPE OF (Geometric_model);
    WHERE
      WR1 : SELF\Geometric_model.context_of_items.dimension_count = 2;
  END_ENTITY;

ENTITY Csg_2d_model
  SUBTYPE OF (Geometric_model);
END_ENTITY;

 ENTITY Single_area_csg_2d_model
    SUBTYPE OF (Csg_2d_model);
 END_ENTITY;

 ENTITY Single_boundary_csg_2d_model
    SUBTYPE OF (Single_area_csg_2d_model);
--  WHERE
--    WR: only one outline (no holes)
  END_ENTITY;

ENTITY Geometrically_bounded_2d_wireframe_shape_representation
  SUBTYPE OF (Geometric_model);
END_ENTITY;

  ENTITY Shape_feature_definition
    SUBTYPE OF (Characterizable_object);
    DERIVE
      feature_model : SET [1:?] OF Geometric_model := get_geometric_model(of_shape); 
    INVERSE
      of_shape : Item_shape FOR described_element;
    WHERE
      WR1: EXISTS(feature_model);
  END_ENTITY;

ENTITY Shape_feature_occurrence 
   ABSTRACT SUPERTYPE OF (ONEOF (
                        INSTANCED_FEATURE,
                        PLACED_FEATURE))
  SUBTYPE OF (Shape_element);
END_ENTITY;

ENTITY Instanced_feature  
  SUBTYPE OF (Shape_feature_occurrence, Shape_feature_definition);
END_ENTITY;

ENTITY Placed_feature  
  SUBTYPE OF (Shape_feature_occurrence);
   definition : Shape_feature_definition;
END_ENTITY;

  ENTITY Circular_area
    SUBTYPE OF (Primitive_2d);
      centre : Cartesian_point;
      radius : Length_data_element;
  END_ENTITY;

  ENTITY Elliptic_area
    SUBTYPE OF (Primitive_2d);
      position    : Axis_placement_2d;
      semi_axis_1 : Length_data_element;
      semi_axis_2 : Length_data_element;
  END_ENTITY;

  ENTITY Polygonal_area
    SUBTYPE OF (Primitive_2d);
      bounds : LIST[3:?] OF UNIQUE Cartesian_point;
  END_ENTITY;

  ENTITY Primitive_2d
     ABSTRACT SUPERTYPE OF (ONEOF (
                        CIRCULAR_AREA,
                        ELLIPTIC_AREA,
                        RECTANGULAR_AREA,
                        POLYGONAL_AREA))
  SUBTYPE OF (Detailed_geometric_model_element);
--       WHERE
--         WR1: NOT EXISTS (SELF\Representation_item.name);
  END_ENTITY;

  ENTITY Rectangular_area
    SUBTYPE OF (Primitive_2d);
      position : Axis_placement_2d;
      x        : Length_data_element;
      y        : Length_data_element;
  END_ENTITY;

  ENTITY Axis_placement_2d
    SUBTYPE OF (Axis_placement);
--  WHERE
--    WR1: NOT EXISTS (SELF\Representation_item.name);
  END_ENTITY;

  ENTITY Axis_placement_3d
    SUBTYPE OF (Axis_placement);
--  WHERE
--    WR1: NOT EXISTS (SELF\Representation_item.name);
  END_ENTITY;

  ENTITY Definitional_representation_relationship
    SUBTYPE OF (Representation_relationship);
   WHERE
    WR1: acyclic_representation_relationship(SELF,
       [SELF\representation_relationship.rep_2],
       'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
       'REPRESENTATION');
  END_ENTITY;  

  ENTITY Detailed_geometric_model_element_relationship;
    item_1: Detailed_geometric_model_element;
    item_2: Detailed_geometric_model_element;
   WHERE 
    WR1: item_1 <> item_2;
  END_ENTITY;

  ENTITY Geometric_model_relationship
   SUBTYPE OF (Representation_relationship);
      SELF\Representation_relationship.rep_1 : Geometric_model;
      SELF\Representation_relationship.rep_2 : Geometric_model;
    WHERE
      WR1 : rep_1 <> rep_2;
  END_ENTITY;

  ENTITY Geometric_model_element_relationship
    SUBTYPE OF (Detailed_geometric_model_element_relationship, Detailed_geometric_model_element);
  END_ENTITY;

 ENTITY Vector
    SUBTYPE OF (Detailed_geometric_model_element);
      orientation: Direction;
      magnitude: length_measure;
    WHERE
      WR1 : magnitude >= 0.0 ;
--      WR2: NOT EXISTS (SELF\Representation_item.name);
 END_ENTITY;

ENTITY Absorbed_dose_data_element
  SUBTYPE OF (Value_with_unit);
END_ENTITY;

  ENTITY Activity_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Amount_of_substance_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.AMOUNT_OF_SUBSTANCE_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Angle_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PLANE_ANGLE_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Area_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Capacitance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Celsius_temperature_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Conductance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Dose_equivalent_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Electric_charge_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Electric_current_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ELECTRIC_CURRENT_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Electromotive_force_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Energy_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Force_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Frequency_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Illuminance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Inductance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Length_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
      WR1 : SELF\Value_with_unit.value_component >= 0.0;
	  WR2 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LENGTH_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Luminous_flux_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Luminous_intensity_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LUMINOUS_INTENSITY_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Magnetic_flux_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Magnetic_flux_density_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Mass_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.MASS_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Power_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Pressure_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Ratio_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.RATIO_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Resistance_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Scattering_parameter_data_element
    SUBTYPE OF (Value_with_unit);
      angle : REAL;

      SELF\Value_with_unit.value_component : REAL;            -- radius : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      radius : REAL := SELF\Value_with_unit.value_component;  -- VALUE_COMPONENT : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
 WHERE
      WR1 : radius >= 0;
      WR2 : {0<=angle<6.28218519999};
  END_ENTITY;

  ENTITY Solid_angle_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SOLID_ANGLE_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Thermodynamic_temperature_data_element
    SUBTYPE OF (Value_with_unit);
    WHERE
		WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.THERMODYNAMIC_TEMPERATURE_UNIT' IN TYPEOF(SELF\Value_with_unit.Unit);
  END_ENTITY;

  ENTITY Volume_data_element
    SUBTYPE OF (Value_with_unit);
  END_ENTITY;

  ENTITY Hatch_style
     ABSTRACT SUPERTYPE OF (ONEOF (
                        EXTERNALLY_DEFINED_HATCH_STYLE,
                        USER_DEFINED_HATCH_STYLE))
  SUBTYPE OF (Detailed_geometric_model_element);
--    WHERE
--      WR1: NOT EXISTS (SELF\Representation_item.name);
  END_ENTITY;

  ENTITY Externally_defined_hatch_style -- mapps to Externally_defined_hatch_style 
    SUBTYPE OF (Hatch_style); 
  END_ENTITY;

  ENTITY User_defined_hatch_style -- mapps to Fill_area_style_hatching
    SUBTYPE OF (Hatch_style);
      hatch_line_appearance         : Curve_appearance;
      start_of_next_hatch_line      : Vector;
      point_of_reference_hatch_line : Cartesian_point;
      pattern_start                 : Cartesian_point;
      hatch_line_angle              : Angle_data_element;
    WHERE
     WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SOLID_CURVE_FONT' IN TYPEOF(SELF.hatch_line_appearance.font);
  END_ENTITY;

	ENTITY Tile_style
	   ABSTRACT SUPERTYPE OF (ONEOF (
                        EXTERNALLY_DEFINED_TILE_STYLE,
                        USER_DEFINED_TILE_STYLE))
  SUBTYPE OF (Detailed_geometric_model_element);
--    WHERE
--      WR1: NOT EXISTS (SELF\Representation_item.name);
	END_ENTITY;

  ENTITY Externally_defined_tile_style -- mapps to Externally_defined_tile_style
    SUBTYPE OF (Tile_style); 
  END_ENTITY;

  ENTITY User_defined_tile_style -- mapps to Fill_area_style_tiles
    SUBTYPE OF (Tile_style);
      first_direction_repeat_factor  : Vector;
      second_direction_repeat_factor : Vector;
--      tile                           : Tile_shape;
      tiling_scale                   : INTEGER; -- positive_ratio_measure;
  END_ENTITY;

ENTITY Curve_appearance;
  colour : Colour;
  font : Curve_font;
  width : REAL;
END_ENTITY;

ENTITY Curve_font
  SUPERTYPE OF (ONEOF (
              EXTERNALLY_DEFINED_CURVE_FONT,
              PREDEFINED_CURVE_FONT,
              USER_DEFINED_CURVE_FONT));
  curve_font_name : STRING;
END_ENTITY;

ENTITY Externally_defined_curve_font
  SUBTYPE OF (Curve_font);
  (* Do as in other AP210 modules IF possible *)
  curve_font_reference : STRING;
END_ENTITY;

ENTITY Predefined_curve_font
  SUBTYPE OF (Curve_font);
WHERE
  WR1: SELF.curve_font_name IN ['continuous', 'chain', 'chain double dash', 'dashed', 'dotted'];
END_ENTITY;

ENTITY Solid_curve_font
  SUBTYPE OF (Predefined_curve_font);
WHERE
  WR1: SELF.curve_font_name IN ['continuous'];
END_ENTITY;

ENTITY User_defined_curve_font
  SUBTYPE OF (Curve_font);
  pattern : SET[1:?] OF Curve_font_pattern;
  segment_symbol : Geometric_model;
END_ENTITY;

ENTITY Curve_font_pattern;
  on_segment : REAL;
  off_segment : REAL;
END_ENTITY;

  ENTITY Blind_passage_template
    SUBTYPE OF (Unsupported_passage_template);
      of_measure_orientation               : measure_orientation;
      datum_reference_layer                : Stratum_technology_occurrence;
      datum_reference_side                 : Stratum_technology_occurrence_link;
      bottom_distance_from_datum_reference : Shape_dimension_representation;
  END_ENTITY;

  ENTITY Component_termination_passage_template
    SUBTYPE OF (Continuous_template, Inter_stratum_feature_template);
      SELF\Inter_stratum_feature_template.of_passage_technology : Default_component_termination_passage_definition;
    INVERSE
      access_mechanisms : SET[2:?] OF component_termination_passage_template_terminal FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)

  END_ENTITY;

  ENTITY Component_termination_passage_template_interface_terminal
    SUBTYPE OF (Component_termination_passage_template_terminal);
  END_ENTITY;

  ENTITY Component_termination_passage_template_join_terminal
    SUBTYPE OF (Component_termination_passage_template_terminal);
      disallowed_inter_stratum_extent : OPTIONAL SET[1:?] OF Stratum_technology_occurrence_link;
  END_ENTITY;

  ENTITY Component_termination_passage_template_terminal
     ABSTRACT SUPERTYPE OF (ONEOF (
                        COMPONENT_TERMINATION_PASSAGE_TEMPLATE_INTERFACE_TERMINAL,
                        COMPONENT_TERMINATION_PASSAGE_TEMPLATE_JOIN_TERMINAL))
  SUBTYPE OF (Shape_feature);
      SELF\Shape_element.containing_shape : Component_termination_passage_template;  -- associated_definition : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\Shape_feature.connection_area                                : OPTIONAL SET[1:?] OF Connection_zone_in_layout_template;
    DERIVE
      associated_definition : COMPONENT_TERMINATION_PASSAGE_TEMPLATE := SELF\Shape_element.containing_shape;  -- CONTAINING_SHAPE : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Continuous_template
    SUBTYPE OF (Geometric_template);
  WHERE
    WR1 : SIZEOF(QUERY(s <* SELF\Geometric_template.shapes |
          NOT 
          (SIZEOF(['AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SINGLE_AREA_CSG_2D_MODEL',
                   'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PLANAR_PATH_SHAPE_MODEL_WITH_PARAMETERS'] * TYPEOF(s))
           = 1)
          )) = 0;
  END_ENTITY;

  ENTITY Counterbore_passage_template
    SUBTYPE OF (Unsupported_passage_template);
      smaller_passage : Unsupported_passage_template;
      larger_passage  : Blind_passage_template;
  END_ENTITY;

  ENTITY Countersunk_passage_template
    SUBTYPE OF (Unsupported_passage_template);
      constant_diameter_passage : Unsupported_passage_template;
      tapered_passage           : Blind_passage_template;
  END_ENTITY;

  ENTITY Default_attachment_size_based_land_physical_template
    SUBTYPE OF (Land_physical_template, Shape_feature);
      SELF\Shape_feature.connection_area : OPTIONAL SET[1:1] OF Connection_zone_in_layout_template;  -- minimum_attachment_region_size : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      maximum_attachment_region_size : OPTIONAL Connection_zone_in_layout_template;
    DERIVE
      SELF\Shape_element.containing_shape : Default_attachment_size_based_land_physical_template := SELF;

      SELF\Shape_feature.element_name : STRING := '';      
      minimum_attachment_region_size :  SET[1:1] OF CONNECTION_ZONE_IN_LAYOUT_TEMPLATE := SELF\Shape_feature.connection_area;  -- CONNECTION_AREA : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
    INVERSE
      interface_access_mechanisms : SET[1:?] OF land_template_interface_terminal FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
 WHERE
      WR1 : NOT (EXISTS(minimum_attachment_region_size) AND EXISTS(maximum_attachment_region_size)) OR (minimum_attachment_region_size[1] :<>: maximum_attachment_region_size);
      WR2 : NOT (EXISTS(minimum_attachment_region_size)) OR (SIZEOF(QUERY(mars <* minimum_attachment_region_size |
                 NOT(mars\Shape_element.containing_shape :=: SELF)
                 )) = 0);
      WR3 : maximum_attachment_region_size\Shape_element.containing_shape :=: SELF;
  END_ENTITY;

  ENTITY Default_component_termination_passage_definition
    SUBTYPE OF (Passage_technology);
      allowed_component_terminal_extent                        : Length_tolerance_characteristic;
      SELF\Passage_technology.as_finished_deposition_thickness : Length_tolerance_characteristic;
      SELF\Passage_technology.as_finished_passage_extent       : Length_tolerance_characteristic;
    INVERSE
      SELF\Passage_technology.deposition_material : SET [1:1] OF material_identification FOR items;
    WHERE
      WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (deposition_material);
  END_ENTITY;

  ENTITY Default_passage_based_land_physical_template
     ABSTRACT SUPERTYPE OF (ONEOF (
                        DEFAULT_PLATED_PASSAGE_BASED_LAND_PHYSICAL_TEMPLATE,
                        DEFAULT_UNSUPPORTED_PASSAGE_BASED_LAND_PHYSICAL_TEMPLATE))
  SUBTYPE OF (Land_physical_template);
      minimum_fabrication_allowance : Length_data_element;
      of_passage_technology         : Passage_technology;
      minimum_annular_ring          : Length_data_element;
    UNIQUE
      UR1 : of_passage_technology, SELF\Land_physical_template.of_stratum_technology;
  END_ENTITY;

	ENTITY Default_plated_passage_based_land_physical_template
	  SUBTYPE OF (Default_passage_based_land_physical_template);
	 WHERE
	   WR1 : SELF\Default_passage_based_land_physical_template.of_passage_technology.plated_passage = TRUE;
	END_ENTITY;

  ENTITY Default_tapered_blind_via_definition
    SUBTYPE OF (Default_via_definition);
      as_finished_interior_passage_extent      : Length_tolerance_characteristic;
    WHERE
      WR1: less(as_finished_interior_passage_extent, SELF\default_via_definition.as_finished_passage_extent);
  END_ENTITY;

  ENTITY Default_unsupported_passage_based_land_physical_template
    SUBTYPE OF (Default_passage_based_land_physical_template);
      SELF\Default_passage_based_land_physical_template.of_passage_technology : Default_unsupported_passage_definition;
  END_ENTITY;

  ENTITY Default_unsupported_passage_definition
    SUBTYPE OF (Passage_technology);
      SELF\Passage_technology.as_finished_passage_extent : Length_tolerance_characteristic;
  END_ENTITY;

  ENTITY Default_via_definition
    SUBTYPE OF (Passage_technology);
      SELF\Passage_technology.as_finished_deposition_thickness : Length_tolerance_characteristic;
      SELF\Passage_technology.as_finished_passage_extent       : Length_tolerance_characteristic;
    INVERSE
      SELF\Passage_technology.deposition_material : SET [1:1] OF material_identification FOR items;
    WHERE
      WR1 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (deposition_material);
  END_ENTITY;

  ENTITY Design_layer_technology
    SUBTYPE OF (Stratum_technology);
      design_layer_purpose                                     : layer_purpose;
      SELF\Stratum_technology.minimum_finished_feature_size    : Length_data_element;
      SELF\Stratum_technology.minimum_finished_feature_spacing : Length_data_element;
   WHERE
	WR1 : (SIZEOF([SELF\Stratum_technology.stratum_material.electrical_conductivity_classification,
           SELF\Stratum_technology.stratum_material.thermal_conductivity_classification] *
           ['conductive']) >= 1) OR
       (SELF\Stratum_technology.stratum_material.magnetic_permeability_classification IN ['highly permeable']) OR
       (SELF\Stratum_technology.stratum_material.optical_insertion_loss_classification IN ['vacuum', 'very low loss', 'low loss']);
  END_ENTITY;

  ENTITY Documentation_layer_technology
    SUBTYPE OF (Stratum_technology);
      pre_defined_documentation_layer_purpose : OPTIONAL predefined_documentation_layer_purpose;
    INVERSE
	  externally_defined_documentation_layer_purpose : SET [0:1] OF External_source_identification FOR item;      
	WHERE
	  WR1: (EXISTS (pre_defined_documentation_layer_purpose)) XOR ((SIZEOF(externally_defined_documentation_layer_purpose)) = 1);
  END_ENTITY;

  ENTITY Filled_via_template
    SUBTYPE OF (Via_template);
    INVERSE
      fill_material : SET[1:1] OF Material_identification FOR items;
    WHERE
      WR1: 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (fill_material[1]);
  END_ENTITY;

  ENTITY Inter_stratum_feature_template
      SUPERTYPE OF ( ( ONEOF (
               COMPONENT_TERMINATION_PASSAGE_TEMPLATE,
               UNSUPPORTED_PASSAGE_TEMPLATE,
               VIA_TEMPLATE) )ANDOR( (ONEOF (
               COMPONENT_TERMINATION_PASSAGE_TEMPLATE,
               VIA_TEMPLATE,
               UNSUPPORTED_PASSAGE_TEMPLATE,
               INTER_STRATUM_FEATURE_EDGE_SEGMENT_TEMPLATE,
               INTER_STRATUM_FEATURE_EDGE_TEMPLATE)) )  ) 
  SUBTYPE OF (Geometric_template);
      of_passage_technology : Passage_technology;
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.name);
  END_ENTITY;

  ENTITY Land_physical_template
    SUPERTYPE OF (ONEOF (
              DEFAULT_PASSAGE_BASED_LAND_PHYSICAL_TEMPLATE,
              DEFAULT_ATTACHMENT_SIZE_BASED_LAND_PHYSICAL_TEMPLATE))
  SUBTYPE OF (Stratum_feature_template);
      SELF\Single_stratum_template.of_stratum_technology : OPTIONAL SET[1:?] OF Design_layer_technology;
    INVERSE
      access_mechanisms                                   : SET[1:?] OF land_template_terminal FOR containing_shape;
      pre_defined_classification_code                     : SET[0:1] OF External_source_identification FOR item;      
    UNIQUE
      UR1 : pre_defined_classification_code;
    WHERE
      WR1 : SIZEOF(QUERY(ltjt <* access_mechanisms | NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LAND_TEMPLATE_JOIN_TERMINAL' IN TYPEOF(ltjt)))) = 0;
      WR2 : SIZEOF(QUERY(s <* SELF\Geometric_template.shapes |
             NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SINGLE_AREA_CSG_2D_MODEL' IN TYPEOF(s)))) = 0;
      WR3 : SIZEOF(SELF\Geometric_template.shapes) > 0;
  END_ENTITY;

  ENTITY Land_template_interface_terminal
    SUBTYPE OF (Land_template_terminal);
      SELF\Shape_element.containing_shape : Default_attachment_size_based_land_physical_template;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)

  END_ENTITY;

  ENTITY Land_template_join_terminal
    SUBTYPE OF (Land_template_terminal);
  END_ENTITY;

  ENTITY Land_template_terminal
     ABSTRACT SUPERTYPE OF (ONEOF (
                        LAND_TEMPLATE_JOIN_TERMINAL,
                        LAND_TEMPLATE_INTERFACE_TERMINAL))
  SUBTYPE OF (Shape_feature);
      SELF\Shape_element.containing_shape : Land_physical_template;  -- associated_definition : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\Shape_feature.connection_area : OPTIONAL SET[1:?] OF Connection_zone_in_layout_template;      

      connection_zone_category                                          : OPTIONAL SET[1:?] OF land_template_terminal_class;
    DERIVE
      associated_definition : LAND_PHYSICAL_TEMPLATE := SELF\Shape_element.containing_shape;  -- CONTAINING_SHAPE : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1 : NOT (EXISTS(SELF\Shape_feature.connection_area)) OR EXISTS(connection_zone_category);
      WR2 : NOT (EXISTS(SELF\Shape_feature.connection_area)) OR (SIZEOF(SELF\Shape_feature.connection_area) = SIZEOF(connection_zone_category));
      WR3 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Material_removal_feature_template
    SUBTYPE OF (Single_stratum_continuous_template);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.name);
      WR2 : SIZEOF(SELF\Geometric_template.shapes) > 0;
  END_ENTITY;

	ENTITY Passage_technology
		SUPERTYPE OF (ONEOF (
              DEFAULT_VIA_DEFINITION,
              DEFAULT_COMPONENT_TERMINATION_PASSAGE_DEFINITION,
              DEFAULT_UNSUPPORTED_PASSAGE_DEFINITION));
      name                              : STRING;
      as_finished_deposition_thickness  : OPTIONAL Length_tolerance_characteristic;
      as_finished_passage_extent        : OPTIONAL Length_tolerance_characteristic;      
      maximum_aspect_ratio              : OPTIONAL REAL;      
      minimum_finished_size             : OPTIONAL Length_data_element;      
      plated_passage                    : BOOLEAN;
	 DERIVE
		specification: SET[0:1] OF Document_definition :=
  			get_document_definition(SELF, 'specification', 
  			'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PROCESS_SPECIFICATION');
     INVERSE
	  deposition_material : SET [0:1] OF material_identification FOR items;      
     UNIQUE
       UR1 : name;
	 WHERE
	  WR1 : NOT (SIZEOF(deposition_material) = 1) OR
            ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (deposition_material[1]));
      WR2: NOT (plated_passage) OR (SIZEOF(deposition_material) = 1);
      WR3: NOT EXISTS(as_finished_deposition_thickness) OR (SIZEOF(deposition_material) = 1);
      WR4: NOT EXISTS(as_finished_deposition_thickness) OR (SIZEOF(deposition_material) = 1);
      WR5: NOT (plated_passage) OR
           (SIZEOF([deposition_material[1].electrical_conductivity_classification,
                    deposition_material[1].thermal_conductivity_classification] *
                   ['conductive']) >= 1);
	END_ENTITY;

  ENTITY Single_stratum_continuous_template
     ABSTRACT SUPERTYPE OF (ONEOF (
                        STRATUM_FEATURE_TEMPLATE,
                        MATERIAL_REMOVAL_FEATURE_TEMPLATE))
  SUBTYPE OF (Continuous_template, Single_stratum_template);
  END_ENTITY;

  ENTITY Single_stratum_template
     ABSTRACT SUPERTYPE OF (
                        SINGLE_STRATUM_CONTINUOUS_TEMPLATE)
  SUBTYPE OF (Template_definition);
      of_stratum_technology : OPTIONAL SET [1:?] OF stratum_technology;
  END_ENTITY;

  ENTITY Stratum_feature_template
    SUPERTYPE OF (
              LAND_PHYSICAL_TEMPLATE)
  SUBTYPE OF (Single_stratum_continuous_template);
    WHERE
      WR1 : NOT EXISTS(SELF\Product_view_definition.name);
  END_ENTITY;

  ENTITY Stratum_stack_model
     ABSTRACT SUPERTYPE
  SUBTYPE OF(Template_definition);
    DERIVE
      composing_occurrence : SET [1:?] OF Stratum_technology_occurrence := get_stack(composing_link);
    INVERSE
      composing_link : SET[1:?] OF Stratum_technology_occurrence_link FOR scope;
  END_ENTITY;

  ENTITY Stratum_technology
    SUPERTYPE OF (ONEOF (
              DESIGN_LAYER_TECHNOLOGY,
              DOCUMENTATION_LAYER_TECHNOLOGY));
      name                             : STRING;  
      layer_position                   : layer_position_type;
      stratum_thickness                : Length_tolerance_characteristic;
      minimum_finished_feature_size    : OPTIONAL Length_data_element;
      laminate_stiffness_class         : OPTIONAL stiffness_class;
      minimum_finished_feature_spacing : OPTIONAL Length_data_element;
      maximum_feature_size_requirement : OPTIONAL Length_data_element;
      minimum_aspect_ratio             : OPTIONAL REAL;
	DERIVE
		specification: SET[0:1] OF Document_definition :=
  			get_document_definition(SELF, 'specification', 
  			'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PROCESS_SPECIFICATION');
		surface_specification: SET[0:1] OF Document_definition :=
  			get_document_definition(SELF, 'surface specification', 
  			'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SURFACE_FINISH_SPECIFICATION');
   INVERSE
	  stratum_material : material_identification FOR items;      
    UNIQUE
      UR1 : name;
    WHERE
      WR1 : NOT (layer_position = layer_position_type.primary) OR ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF));
      WR2 : NOT (layer_position = layer_position_type.secondary) OR ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF));
	  WR3 : 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (stratum_material);
  END_ENTITY;

  ENTITY Stratum_technology_occurrence;
    name       : STRING; 
    definition : Stratum_technology;
  UNIQUE
    UR1: name;  
  END_ENTITY;

  ENTITY Stratum_technology_occurrence_link;
    precedent_sto  : Stratum_technology_occurrence;
    subsequent_sto : Stratum_technology_occurrence;
    scope          : Stratum_stack_model;
  WHERE
   WR1 : NOT (precedent_sto :=: subsequent_sto) OR (SIZEOF(scope.composing_link) = 1);
  END_ENTITY;

  ENTITY Stratum_technology_occurrence_swap_relationship;
    primary_sto  : Stratum_technology_occurrence;
    secondary_sto : Stratum_technology_occurrence;
    scope : Stratum_stack_model;
   UNIQUE
    UR1 : primary_sto, scope;
    UR2 : secondary_sto, scope;
  WHERE
   WR1 : primary_sto <> secondary_sto;
   WR2 : (primary_sto IN scope\Stratum_stack_model.composing_occurrence) AND
         (secondary_sto IN scope\Stratum_stack_model.composing_occurrence);
  END_ENTITY;

  ENTITY Stratum_technology_swap_relationship;
    primary_stratum_technology   : Stratum_technology;
    secondary_stratum_technology : Stratum_technology;
   UNIQUE
    UR1: primary_stratum_technology;
    UR2: secondary_stratum_technology;
   WHERE 
    WR1 : NOT (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.DOCUMENTATION_LAYER_TECHNOLOGY' IN TYPEOF(primary_stratum_technology)) AND
              EXISTS(primary_stratum_technology\Documentation_layer_technology.pre_defined_documentation_layer_purpose))
          OR
          (primary_stratum_technology\Documentation_layer_technology.pre_defined_documentation_layer_purpose =
           secondary_stratum_technology\Documentation_layer_technology.pre_defined_documentation_layer_purpose);
    WR2: TYPEOF(primary_stratum_technology) = TYPEOF(secondary_stratum_technology);
    WR3: primary_stratum_technology\Stratum_technology.layer_position = layer_position_type.primary;
    WR4: secondary_stratum_technology\Stratum_technology.layer_position = layer_position_type.secondary;
    WR5: primary_stratum_technology <> secondary_stratum_technology;
  END_ENTITY;

  ENTITY Unsupported_passage_template
    SUPERTYPE OF (ONEOF (
              COUNTERBORE_PASSAGE_TEMPLATE,
              COUNTERSUNK_PASSAGE_TEMPLATE,
              BLIND_PASSAGE_TEMPLATE))
  SUBTYPE OF (Continuous_template, Inter_stratum_feature_template);
      SELF\Inter_stratum_feature_template.of_passage_technology : Default_unsupported_passage_definition;
  END_ENTITY;

  ENTITY Via_template
    SUBTYPE OF (Continuous_template, Inter_stratum_feature_template);
      SELF\Inter_stratum_feature_template.of_passage_technology : Default_via_definition;
    INVERSE
      access_mechanisms : SET[2:?] OF via_template_terminal FOR containing_shape;
  END_ENTITY;

  ENTITY Via_template_terminal
    SUBTYPE OF (Shape_feature);
      SELF\Shape_element.containing_shape : Via_template;     -- associated_definition : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      disallowed_inter_stratum_extent                                   : OPTIONAL SET [1:?] OF Stratum_technology_occurrence_link;

      SELF\Shape_feature.connection_area : OPTIONAL SET[1:?] OF Connection_zone_in_layout_template;      
    DERIVE
      associated_definition : VIA_TEMPLATE := SELF\Shape_element.containing_shape;  -- CONTAINING_SHAPE : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1 : NOT EXISTS(SELF\Shape_element.description);
  END_ENTITY;

  ENTITY Usage_concept_usage_relationship
     SUBTYPE OF (Geometric_placement_operation);
       SELF\Geometric_placement_operation.template_definition : Geometric_model;  -- associated_shape_definition : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
       associated_usage                                                                           : usage_concept;

       associating_usage_shape                                                                    : feature_or_non_feature_usage;
    DERIVE
      associated_shape_definition : GEOMETRIC_MODEL := SELF\Geometric_placement_operation.template_definition;  -- TEMPLATE_DEFINITION : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
    INVERSE
       composed_model : SET[1:1] OF Geometric_model FOR items;

 WHERE
       WR1 : (  ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.NON_FEATURE_SHAPE_MODEL' IN TYPEOF(associated_shape_definition)) AND 
                ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.NON_FEATURE_SHAPE_MODEL' IN TYPEOF(associating_usage_shape))) OR 
             (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GEOMETRIC_MODEL' IN TYPEOF(associated_shape_definition)) AND 
              ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GEOMETRIC_MODEL' IN TYPEOF(associating_usage_shape)));
       WR2 : NOT ( ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GEOMETRIC_OPERATOR_TRANSFORMATION' IN
               TYPEOF(SELF)) AND ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.CARTESIAN_TRANSFORMATION_2D' IN 
               TYPEOF(SELF\Geometric_operator_transformation.target))) OR 
             ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.NON_FEATURE_SHAPE_MODEL' IN TYPEOF(associating_usage_shape));  
       WR3 : associating_usage_shape = composed_model[1]; 
       WR4 : NOT EXISTS(SELF\Representation_item.name);
       WR5 : ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GEOMETRIC_PLACEMENT' IN TYPEOF(SELF)) OR
             ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GEOMETRIC_OPERATOR_TRANSFORMATION' IN TYPEOF(SELF));
       WR6 : NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GEOMETRIC_PLACEMENT_MODEL' IN TYPEOF(composed_model[1]));
  END_ENTITY;

  ENTITY Geometric_template
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Template_definition);
  INVERSE
    shapes : SET [0:?] OF Part_template_shape_model FOR shape_characterized_definition;
    WHERE
     WR1 : SIZEOF(QUERY( gm <* USEDIN(SELF,'')|
        (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.GEOMETRIC_MODEL' IN TYPEOF(gm)) AND 
        NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_TEMPLATE_SHAPE_MODEL' IN
        TYPEOF(gm)))
        )) = 0;
  END_ENTITY;

  ENTITY Part_template_keepout_shape_model
		 ABSTRACT SUPERTYPE
  SUBTYPE OF (Geometric_model);		
	  constrained_design_object_category : keepout_product_design_object_category;
      shape_characterized_definition     : Geometric_template;
      shape_material_condition           : material_condition;
      centroid_location                  : OPTIONAL Cartesian_point;
      shape_environment                  : application_environment;
      shape_purpose                      : OPTIONAL predefined_keepout_purpose;
    INVERSE
	  external_shape_purpose : SET [0:1] OF External_source_identification FOR item;      
	WHERE
	  WR1: (EXISTS (shape_purpose)) XOR ((SIZEOF(external_shape_purpose)) = 1);
      WR2: SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_DESCRIPTION_ASSOCIATION.REPRESENTATION'))=0;      
  END_ENTITY;

  ENTITY Part_template_shape_model
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Geometric_model);
      shape_characterized_definition : SET[1:?] OF Geometric_template;
      shape_environment              : OPTIONAL application_environment;
      shape_material_condition       : material_condition;
  END_ENTITY;

  ENTITY Part_template_shape_representation_relationship
  	SUBTYPE OF (Geometric_model_relationship);
      SELF\Geometric_model_relationship.rep_1 : Part_template_shape_model;  -- principal_part_shape : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\Geometric_model_relationship.rep_2 : Part_template_shape_model;  -- related_part_shape : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      principal_part_shape : PART_TEMPLATE_SHAPE_MODEL := SELF\Geometric_model_relationship.rep_1;  -- REP_1 : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      related_part_shape : PART_TEMPLATE_SHAPE_MODEL := SELF\Geometric_model_relationship.rep_2;  -- REP_2 : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1 : principal_part_shape :<>: related_part_shape;
      WR2 : NOT EXISTS(SELF\Representation_relationship.relation_type);
      WR3 : principal_part_shape\Geometric_model.context_of_items :=: related_part_shape\Geometric_model.context_of_items;
      WR4 : principal_part_shape\Part_template_shape_model.shape_characterized_definition :=:
            related_part_shape\Part_template_shape_model.shape_characterized_definition;
  END_ENTITY;

  ENTITY Character_glyph_symbol
    SUBTYPE OF (Representation);
      SELF\Representation.name : STRING (1) FIXED;            -- character : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      character : STRING := SELF\Representation.name;         -- NAME : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

  END_ENTITY; 

  ENTITY Character_glyph_font_usage; 
    character : Character_glyph_symbol;
    font      : Text_font;
  END_ENTITY;

  ENTITY Text_font; 
    id           : STRING; 
    name         : STRING; 
    description  : STRING;
   INVERSE          
    glyphs: SET [1:?] OF Character_glyph_font_usage FOR font;
  END_ENTITY;

  ENTITY Text_font_in_family;
    font   : Text_font;
    family : Text_font_family;
  END_ENTITY;

  ENTITY Text_font_family; 
    id           : STRING; 
    name         : STRING; 
    description  : STRING;
   INVERSE          
    fonts: SET [1:?] OF Text_font_in_family FOR family;
  END_ENTITY; 

  ENTITY Connection_zone
  	  ABSTRACT SUPERTYPE OF (ONEOF (
                        CONNECTION_ZONE_IN_USAGE_VIEW,
                        CONNECTION_ZONE_IN_DESIGN_VIEW,
                        CONNECTION_ZONE_IN_LAYOUT_TEMPLATE) ) 
 	SUBTYPE OF (Shape_feature_occurrence);
    WHERE
      WR1 : (SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.FEATURE_DEFINITION_WITH_CONNECTION_AREA.CONNECTION_AREA')) +
             SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_FEATURE.CONNECTION_AREA')))
            = 1;
      WR2 : NOT EXISTS (SELF\Shape_element.description);
      WR3 : NOT EXISTS (SELF\Shape_element.element_name);
  END_ENTITY;

  ENTITY Feature_definition_with_connection_area
    SUBTYPE OF (Shape_feature_definition);
    connection_area : SET [1:?] OF Connection_zone;
  END_ENTITY;

  ENTITY Location_shape_model
    SUBTYPE OF (Geometric_model);
  END_ENTITY;

  ENTITY Shape_feature
  	  ABSTRACT SUPERTYPE OF ((ONEOF (
                        VIA_TEMPLATE_TERMINAL,
                        COMPONENT_TERMINATION_PASSAGE_TEMPLATE_TERMINAL,
                        LAND_TEMPLATE_TERMINAL)) ) 
  SUBTYPE OF (Shape_element);
   		connection_area : OPTIONAL SET[1:?] OF Connection_zone;
   		SELF\Shape_element.element_name : STRING;
    UNIQUE
      UR1 : SELF\Shape_element.element_name, 
      SELF\shape_element.containing_shape;
  END_ENTITY;

ENTITY Characterizable_object;
  name : STRING;
  description : OPTIONAL STRING;
END_ENTITY;

ENTITY Part
  SUBTYPE OF (Product);
WHERE
  WR1: SIZEOF(['part', 'raw material', 'tool']*types_of_product(SELF))=1;
END_ENTITY;

ENTITY Part_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Part;
END_ENTITY;

ENTITY Assembled_part_association
SUBTYPE OF (Part_occurrence_definition_relationship, Assembly_component_relationship);
  SELF\View_definition_relationship.relating_view : Assembly_definition;
END_ENTITY;

ENTITY Assembly_definition
SUBTYPE OF (Part_view_definition);
WHERE
WR1: 'assembly' IN types_of_product(SELF\Product_view_definition.defined_version.of_product);
END_ENTITY;

ENTITY Geometrical_relationship
  SUBTYPE OF (Part_definition_relationship);
  definition_placement: Geometric_model_relationship_with_transformation;
DERIVE
  SELF\View_definition_relationship.relation_type : STRING := 'geometrical relationship';
END_ENTITY;

ENTITY Part_definition_relationship
  SUBTYPE OF (View_definition_relationship);
  SELF\View_definition_relationship.relating_view: Part_view_definition;
  SELF\View_definition_relationship.related_view: Part_view_definition;
END_ENTITY;

  ENTITY Composite_group_shape_element
    SUBTYPE OF (Composite_shape_element);
  END_ENTITY;

  ENTITY Composite_shape_element
     ABSTRACT SUPERTYPE OF (ONEOF (
                        COMPOSITE_GROUP_SHAPE_ELEMENT,
                        COMPOSITE_UNIT_SHAPE_ELEMENT))
  SUBTYPE OF (Shape_element);
    INVERSE
      composing_relationships : SET[2:?] OF shape_element_composing_relationship FOR relating;
  END_ENTITY;

  ENTITY Composite_unit_shape_element
    SUBTYPE OF (Composite_shape_element);
  END_ENTITY;

  ENTITY Shape_element_boundary_relationship
    SUBTYPE OF (Shape_element_relationship);
    WHERE
      WR1 : NOT EXISTS (SELF\Shape_element_relationship.relation_type);
  END_ENTITY;

  ENTITY Shape_element_composing_relationship
    SUBTYPE OF (Shape_element_constituent_relationship);
      SELF\Shape_element_relationship.relating : Composite_shape_element;
  END_ENTITY;

  ENTITY Shape_element_constituent_relationship
    SUPERTYPE OF (
              SHAPE_ELEMENT_COMPOSING_RELATIONSHIP)
  SUBTYPE OF (Shape_element_relationship);
    UNIQUE
      UR1 : related, relating;
    WHERE
      WR1 : SELF\Shape_element_relationship.related <> SELF\Shape_element_relationship.relating;
      WR2 : NOT EXISTS (SELF\Shape_element_relationship.relation_type);
  END_ENTITY;

  ENTITY Shape_element_locating_relationship
		SUBTYPE OF (Shape_element_constituent_relationship);
    DERIVE
      located_shape_element : SHAPE_ELEMENT := SELF\Shape_element_relationship.related;  -- RELATED : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      locating_shape_element : SHAPE_ELEMENT := SELF\Shape_element_relationship.relating;  -- RELATING : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE

    UNIQUE
      UR1 : located_shape_element, locating_shape_element;
  END_ENTITY;

  ENTITY Characteristic_data_table
    SUBTYPE OF (Characterizable_object, Measure_item);
      property_value : LIST[1:?] OF Characteristic_data_table_row;
      index_value    : LIST[1:?] OF INTEGER;
    UNIQUE
      UR1: SELF\Characterizable_object.name;
    WHERE
      WR1: SIZEOF(property_value) = SIZEOF(index_value);
      WR2: SIZEOF(QUERY( pv <* property_value |
                  NOT (SIZEOF(pv.property_value) = SIZEOF(property_value[1].property_value))
                  )) = 0;
      WR3: SIZEOF(USEDIN
                 (SELF,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ASSIGNED_PROPERTY.DESCRIBED_ELEMENT')) = 0;
  END_ENTITY;

  ENTITY Characteristic_data_table_row
    SUBTYPE OF (Measure_item);
      property_value : LIST[1:?] OF list_characteristic;
  END_ENTITY;

  ENTITY Expanded_uncertainty
    SUBTYPE OF (Standard_uncertainty);
      coverage_factor : REAL;
  END_ENTITY;

  ENTITY Length_tolerance_characteristic
    SUBTYPE OF(Tolerance_characteristic);
    WHERE
      WR1 : ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.STATISTICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
            ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SYMMETRICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
            ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PLUS_MINUS_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
        (SIZEOF(QUERY(it <* SELF\Representation.items |
          NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LENGTH_DATA_ELEMENT' IN TYPEOF(it))
         )) = 0);
      WR2 : NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SYMMETRICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
        (SIZEOF(QUERY(it <* SELF\Representation.items |
        ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LENGTH_DATA_ELEMENT' IN TYPEOF(it))
           )) = 1);
      WR3 : NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.STATISTICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
        (SIZEOF(QUERY(it <* SELF\Representation.items |
        ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LENGTH_DATA_ELEMENT' IN TYPEOF(it))
           )) = 1);
      WR4 : NOT EXISTS(SELF\Representation.description);
      WR5 : ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PLUS_MINUS_TOLERANCE_CHARACTERISTIC' IN TYPEOF(SELF)) OR
        (SIZEOF(QUERY(it <* SELF\Representation.items |
          NOT(('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.VALUE_WITH_TOLERANCES' IN TYPEOF(it)) AND
             ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.LENGTH_DATA_ELEMENT' IN TYPEOF(it\Value_with_tolerances.item_value)))
         )) = 0);
  END_ENTITY;

  ENTITY Logical_representation_item
    SUBTYPE OF (String_representation_item);
    WHERE 
      WR1: SELF\Representation_item.name IN ['.BOOLEAN.', '.LOGICAL.'];
      WR2: SELF\String_representation_item.string_value IN ['.TRUE.', '.FALSE.','.UNKNOWN.', '.UNDEFINED.'];
      WR3: NOT (SELF\Representation_item.name = '.BOOLEAN.') OR
        (SELF\String_representation_item.string_value IN ['.TRUE.', '.FALSE.', '.UNDEFINED.']);
  END_ENTITY;

  ENTITY Maximum_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET [1:1] OF Value_limit;
    WHERE
      WR1: SELF\Representation.items[1]\Value_limit.limit_qualifier = limit_qualifier_list.maximum;
  END_ENTITY;

  ENTITY Measure_qualification;
      name              : STRING; 
      description       : STRING; 
      qualified_measure : Value_with_unit;
      qualifiers        : SET[1:?] OF value_qualifier;
  END_ENTITY;

  ENTITY Minimum_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET [1:1] OF Value_limit;
    WHERE
      WR1: SELF\Representation.items[1]\Value_limit.limit_qualifier = limit_qualifier_list.minimum;
  END_ENTITY;

  ENTITY Nominal_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET[1:1] OF Numerical_item_with_unit;
  END_ENTITY;

  ENTITY Plus_minus_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET [1:1] OF Value_with_tolerances;
  END_ENTITY;

  ENTITY Precision_qualifier;
      precision_value : INTEGER;
  END_ENTITY;

  ENTITY Qualitative_uncertainty
    SUBTYPE OF (Uncertainty_qualifier);
      uncertainty_value : STRING; 
  END_ENTITY;

  ENTITY Range_characteristic
    SUBTYPE OF (Property_value_representation);
      SELF\Representation.items : SET[2:2] OF Numerical_item_with_unit;
      range_type				: range_class;
  WHERE
    WR1 : TYPEOF(SELF\Representation.items[1]) =
          TYPEOF(SELF\Representation.items[2]);
    WR2 : TYPEOF(SELF\Representation.items[1]\Value_with_unit.unit) =
          TYPEOF(SELF\Representation.items[2]\Value_with_unit.unit);
    WR3 : valid_range(SELF\Representation.items[1],
                      SELF\Representation.items[2]);          
  END_ENTITY;

  ENTITY Standard_uncertainty
    SUPERTYPE OF (
              EXPANDED_UNCERTAINTY)
  SUBTYPE OF (Uncertainty_qualifier);
      uncertainty_value : REAL;
  END_ENTITY;

  ENTITY Statistical_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET [2:?] OF Numerical_item_with_unit;
  END_ENTITY;

  ENTITY Symmetrical_tolerance_characteristic
    SUBTYPE OF (Tolerance_characteristic);
      SELF\Representation.items : SET[2:2] OF Numerical_item_with_unit;
    WHERE
      WR1: SIZEOF(QUERY( ri <* 
         SELF\representation.items |
        'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.RATIO_DATA_ELEMENT' IN TYPEOF(ri))) = 1;
  END_ENTITY;

  ENTITY Text_representation_item
  	SUBTYPE OF (String_representation_item);
  END_ENTITY;

  ENTITY Tolerance_characteristic
     ABSTRACT SUPERTYPE OF ((ONEOF (
                        MINIMUM_TOLERANCE_CHARACTERISTIC,
                        STATISTICAL_TOLERANCE_CHARACTERISTIC,
                        SYMMETRICAL_TOLERANCE_CHARACTERISTIC,
                        MAXIMUM_TOLERANCE_CHARACTERISTIC,
                        PLUS_MINUS_TOLERANCE_CHARACTERISTIC,
                        NOMINAL_TOLERANCE_CHARACTERISTIC))
                        ANDOR 
                        LENGTH_TOLERANCE_CHARACTERISTIC)
  SUBTYPE OF (Property_value_representation);
    WHERE
      WR1: SELF\Representation.context_of_items\Representation_context.id = 'tolerance values';
      WR2 : NOT EXISTS(SELF\Representation.name);
  END_ENTITY;

  ENTITY Type_qualifier;
      name : STRING;
  END_ENTITY;

  ENTITY Uncertainty_qualifier
    SUPERTYPE OF (ONEOF (
              STANDARD_UNCERTAINTY,
              QUALITATIVE_UNCERTAINTY));
      measure_name : STRING; 
      description  : STRING; 
  END_ENTITY;

ENTITY Included_text_block
  SUBTYPE OF (Representation_item);
  source : Structured_text_representation;
END_ENTITY;

 ENTITY Structured_text_composition
   SUBTYPE OF (Representation_item);
  content: string_representation_item_list_or_set;
 END_ENTITY;

ENTITY Structured_text_representation
  SUBTYPE OF (Representation);
  SELF\Representation.items : SET [1:1] OF string_representation_item_select; 
END_ENTITY;

ENTITY Tagged_text_item
  SUBTYPE OF (String_representation_item);
WHERE
  WR1: SIZEOF (QUERY (using_rep <* USEDIN(SELF,
       'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.REPRESENTATION.ITEMS') |
  NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.TAGGED_TEXT_FORMAT' IN
  TYPEOF (using_rep.context_of_items))
       )) = 0;
END_ENTITY;

ENTITY Tagged_text_format
  SUBTYPE OF (Representation_context);
END_ENTITY;

ENTITY Uniform_resource_identifier
  SUBTYPE OF (String_representation_item);
END_ENTITY;

ENTITY Information_product
   ABSTRACT SUPERTYPE
 	SUBTYPE OF (Product);
  WHERE
    WR1 : SIZEOF(['document', 'information'] * types_of_product(SELF)) = 0;
END_ENTITY;

ENTITY Information_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Information_product;
END_ENTITY;

ENTITY Information_definition
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Information_version;
END_ENTITY;

ENTITY Contextual_shape_representation;
   contextual_shape : Contextual_item_shape;
   representing_relationship : Geometric_model_relationship;
 DERIVE
   context_representation : Geometric_model := representing_relationship.rep_2 ;
   positioned_representation : Geometric_model := representing_relationship.rep_1 ;
END_ENTITY;

ENTITY Geometric_composition_with_operator_transformation
  SUBTYPE OF (Geometric_relationship_with_operator_transformation,
Definitional_representation_relationship);
END_ENTITY;

ENTITY Geometric_composition_with_placement_transformation
  SUBTYPE OF (Geometric_relationship_with_placement_transformation,
Definitional_representation_relationship);
END_ENTITY; 

ENTITY Geometric_placement
  SUBTYPE OF (Geometric_placement_operation);
   target : Axis_placement;
END_ENTITY; 

ENTITY Geometric_placement_model
  SUBTYPE OF (Geometric_model);
  SELF\Representation.items : SET[1:1] OF Geometric_placement_operation;
END_ENTITY;

ENTITY Geometric_placement_operation
   ABSTRACT SUPERTYPE OF (ONEOF (
                        GEOMETRIC_PLACEMENT,
                        GEOMETRIC_OPERATOR_TRANSFORMATION))
  SUBTYPE OF (Detailed_geometric_model_element);
   source : Axis_placement;  
   template_definition : template_definition_select;
END_ENTITY; 

ENTITY Geometric_model_relationship_with_transformation
   ABSTRACT SUPERTYPE OF (ONEOF (
                        GEOMETRIC_RELATIONSHIP_WITH_PLACEMENT_TRANSFORMATION,
                        GEOMETRIC_RELATIONSHIP_WITH_OPERATOR_TRANSFORMATION))
  SUBTYPE OF (Geometric_model_relationship);
WHERE  
  WR1: rep_1.context_of_items <> rep_2.context_of_items;
END_ENTITY;

ENTITY Geometric_operator_transformation
  SUBTYPE OF (Geometric_placement_operation);
   target : cartesian_transformation;
END_ENTITY; 

ENTITY Geometric_relationship_with_operator_transformation
  SUBTYPE OF (Geometric_model_relationship_with_transformation);
  transformation: cartesian_transformation;
WHERE
  WR1:  rep_1.context_of_items\Geometric_coordinate_space.dimension_count :=:
        rep_2.context_of_items\Geometric_coordinate_space.dimension_count;
END_ENTITY;

ENTITY Geometric_relationship_with_placement_transformation
  SUBTYPE OF (Geometric_model_relationship_with_transformation);
  transformation: Axis_placement_mapping;
WHERE
  WR1:  rep_1.context_of_items\Geometric_coordinate_space.dimension_count :=:
        rep_2.context_of_items\Geometric_coordinate_space.dimension_count;
END_ENTITY;

ENTITY Shape_placement_association
  SUBTYPE OF (Shape_description_association);
  SELF\Shape_description_association.representation : Geometric_placement_model;
  SELF\Shape_description_association.represented_characteristic : Contextual_item_shape;
END_ENTITY;

 ENTITY Class_category_association;
  associated_product_class : Product_class;
  mandatory : BOOLEAN;
  associated_category : Specification_category;
 END_ENTITY;

 ENTITY Class_condition_association;
  condition_type : STRING;
  associated_product_class : Product_class;
  description : OPTIONAL STRING;
  associated_condition : Specification_expression;
 END_ENTITY;

 ENTITY Class_inclusion_association;
  associated_product_class : Product_class;
  description : OPTIONAL STRING;
  associated_inclusion : Specification_inclusion;
 END_ENTITY;

 ENTITY Class_specification_association;
  associated_product_class : Product_class;
  association_type : STRING;
  associated_specification : Specification;
 END_ENTITY;

ENTITY Product_class
  SUBTYPE OF (Product_concept);
  version_id : OPTIONAL STRING;
  level_type : OPTIONAL STRING;
WHERE
WR1: NOT EXISTS(SELF\Product_concept.target_market);
END_ENTITY;

 ENTITY Product_class_relationship;
  description : OPTIONAL STRING;
  relating : Product_class;
  related : Product_class;
  relation_type : STRING;
 END_ENTITY;

 ENTITY Specification;
  id : STRING;
  version_id : OPTIONAL STRING;
  name : OPTIONAL STRING;
  description : OPTIONAL STRING;
  category : Specification_category;
  package : BOOLEAN;
 END_ENTITY;

 ENTITY Specification_category;
  id : STRING;
  description : STRING;
  implicit_exclusive_condition : BOOLEAN;
 END_ENTITY;

 ENTITY Specification_category_hierarchy;
  sub_category : Specification_category;
  super_category : Specification_category;
 END_ENTITY;

 ENTITY Specification_expression;
  id : OPTIONAL STRING;
  description : OPTIONAL STRING;
  operation : expression_operator;
  operand : SET[1:?] OF specification_operand_select;
 WHERE
 WR1: (operation <> not_operator) OR (SIZEOF(operand)=1); 
 END_ENTITY;

 ENTITY Specification_inclusion;
  id : OPTIONAL STRING;
  description : OPTIONAL STRING;
  if_condition : specification_operand_select;
  included_specification : specification_operand_select;
 END_ENTITY;

  ENTITY Physical_unit_keepout_shape_model
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Geometric_model);    
	  constrained_design_object_category : keepout_product_design_object_category;    
      shape_characterized_definition     : Part_usage_view; --physical_unit;
      shape_material_condition           : material_condition;
      shape_purpose                      : OPTIONAL predefined_keepout_purpose;
      shape_environment                  : application_environment;
      shape_extent                       : shape_extent;			
      shape_approximation_level          : shape_approximation_level;
      centroid_location                  : OPTIONAL Cartesian_point;
    INVERSE
	  external_shape_purpose : SET [0:1] OF External_source_identification FOR item;      
	WHERE
	  WR1: (EXISTS (shape_purpose)) XOR ((SIZEOF(external_shape_purpose)) = 1);
  END_ENTITY;

  ENTITY Physical_unit_shape_model
     ABSTRACT SUPERTYPE
  SUBTYPE OF (Geometric_model);    
      shape_characterized_definition : physical_unit;
      shape_material_condition       : material_condition;      
      centroid_location              : OPTIONAL Cartesian_point;      
      shape_environment              : application_environment;      
      shape_extent                   : shape_extent;      
      shape_approximation_level      : shape_approximation_level;
      mass_property_quality          : mass_property_quality;
    WHERE
      WR1 : NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PACKAGED_PART' IN TYPEOF(shape_characterized_definition));
      WR2 : SIZEOF(USEDIN(SELF, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_DESCRIPTION_ASSOCIATION.REPRESENTATION'))=0;            
  END_ENTITY;

  ENTITY Physical_unit_shape_representation_relationship
  	SUBTYPE OF (Geometric_model_relationship);
      SELF\Geometric_model_relationship.rep_1 : Physical_unit_shape_model;  -- principal_part_shape : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
      SELF\Geometric_model_relationship.rep_2 : Physical_unit_shape_model;  -- related_part_shape : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, an attribute with the new name is in the DERIVE clause
    DERIVE
      principal_part_shape : PHYSICAL_UNIT_SHAPE_MODEL := SELF\Geometric_model_relationship.rep_1;  -- REP_1 : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
      related_part_shape : PHYSICAL_UNIT_SHAPE_MODEL := SELF\Geometric_model_relationship.rep_2;  -- REP_2 : This ATTRIBUTE was RENAMED in the EXPRESS E2 source, this is the new name implemented as DERIVE
  WHERE
      WR1 : principal_part_shape :<>: related_part_shape;
      WR2 : NOT EXISTS(SELF\Representation_relationship.relation_type);
      WR3 : principal_part_shape\Geometric_model.context_of_items :=: related_part_shape\Geometric_model.context_of_items;
      WR4 : principal_part_shape\Physical_unit_shape_model.shape_characterized_definition :=:
            related_part_shape\Physical_unit_shape_model.shape_characterized_definition;
  END_ENTITY;

  ENTITY Packaged_part
    SUBTYPE OF (Part_usage_view);
      used_package         : SET[1:?] OF package_or_package_external_reference;

      implemented_function : OPTIONAL Functional_unit_usage_view;
    DERIVE
		potting_compound : SET [0:1] OF Material_identification := 
		bag_to_set(QUERY( temp <* USEDIN(SELF,
		     'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.MATERIAL_IDENTIFICATION.ITEMS') | 
		     (SIZEOF( QUERY( cla <* USEDIN(temp,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
		 	'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') | cla.role = 'potting compound')) = 1)));
    INVERSE
      access_mechanisms : SET[0:?] OF packaged_part_terminal FOR containing_shape ;-- This INVERSE ATTRIBUTE referred a RENAMED attribute; referred name changed to original name (P11 G.5.6 anticipated TC1)
 WHERE
      WR1 : NOT (EXISTS(implemented_function) XOR (SIZEOF(access_mechanisms) > 0));
      WR2 : single_package_version(SELF);
  END_ENTITY;

  ENTITY Packaged_part_join_terminal
    SUBTYPE OF (Packaged_part_terminal);
  END_ENTITY;

  ENTITY Packaged_part_terminal
  	  ABSTRACT SUPERTYPE OF ((ONEOF (
                        PACKAGED_PART_INTERFACE_TERMINAL,
                        PACKAGED_PART_JOIN_TERMINAL)) ) 
  SUBTYPE OF (Part_terminal);
      terminal_of_package                     : SET[1:?] OF Package_terminal;

      SELF\Shape_element.containing_shape : Packaged_part;-- This ATTRIBUTE was RENAMED in a supertype; name converted back to original name (P11 G.5.6 bullet 4)
 WHERE
      WR1 : disjoint_package_terminals(SELF);
      WR2 : NOT EXISTS(SELF\Part_feature.precedent_feature);
  END_ENTITY;

ENTITY Colour;
  name : STRING;
END_ENTITY;

ENTITY Externally_defined_colour
  SUBTYPE OF (Colour);
  source : STRING;
END_ENTITY;

ENTITY Pre_defined_colour
  SUBTYPE OF (Colour);
WHERE
  WR1: SELF.name IN ['red', 'green', 'blue', 'yellow', 'magenta', 'cyan', 'black', 'white'];
END_ENTITY;

ENTITY User_defined_colour
  SUBTYPE OF (Colour);
  red : REAL;
  green : REAL;
  blue : REAL;
WHERE
  WR1: {0.0 <= red <= 1.0};
  WR2: {0.0 <= green <= 1.0};
  WR3: {0.0 <= blue <= 1.0};
END_ENTITY;

ENTITY Composite_presentable_text
  SUBTYPE OF (Detailed_geometric_model_element);
  collected_text : LIST[2:?] OF composite_text_element_select;
END_ENTITY;

ENTITY Draughting_pre_defined_text_font;
END_ENTITY;

ENTITY Externally_defined_text_font;
  name : STRING;
END_ENTITY; 

ENTITY Presentable_text_item
  SUBTYPE OF (Detailed_geometric_model_element);
  literal : STRING;
  placement : Axis_placement;
  style : Text_style;
END_ENTITY;

ENTITY Text_literal_with_extent
  SUBTYPE OF (Presentable_text_item);
    font : font_select;
END_ENTITY;  

ENTITY Text_style;
  name : STRING;
END_ENTITY;

FUNCTION local_vars_of (thing : GENERIC) : SET [0:?] OF Scalar_variable;
  LOCAL
    accum : SET [0:?] OF Scalar_variable := [];
  END_LOCAL;
  RETURN (local_vars_aux(thing, accum));
END_FUNCTION;

  FUNCTION get_pctr(
    ac   : Assembly_component ;
    imjb : SET OF Interface_mounted_join
  ) : SET OF Packaged_connector_terminal_relationship;

    LOCAL
      cf   : Component_feature;
      pctr : SET OF packaged_connector_terminal_relationship := [];
    END_LOCAL;

    cf := imjb[1].connection_to_interconnect_module_component;
    IF ac :=: cf.associated_component THEN
      IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PACKAGED_PART_INTERFACE_TERMINAL' IN TYPEOF(cf.definition)) THEN
        pctr := cf.definition.external_connector_function;
        RETURN(pctr);
      ELSE
        RETURN(pctr);
      END_IF;
    ELSE
      RETURN(pctr);
    END_IF;
  END_FUNCTION;

  FUNCTION get_cit(
    ac  : Assembly_component ;
    ajb : SET OF Assembly_joint
  ) : Physical_component_interface_terminal;

    LOCAL
      cf  : LIST[1:2] OF component_feature := [ajb[1].assembly_feature_1,
                                               ajb[1].assembly_feature_2];
      cit : Physical_component_interface_terminal;
    END_LOCAL;

    REPEAT i := 1 TO 2 BY 1;
      IF ac :=: cf[i].associated_component THEN
        IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.INTERFACE_COMPONENT' IN TYPEOF(cf[i].associated_component)) THEN
          RETURN(cf[i]);
        ELSE
          RETURN(?);
        END_IF;
      ELSE
        RETURN(?);
      END_IF;
    END_REPEAT;
    RETURN(?);
  END_FUNCTION;

FUNCTION get_document_definition(
	input : documented_element_select;
	role : STRING;
	type_name : STRING
) : SET OF Document_definition; 

LOCAL
	dd : SET[0:?] OF Document_definition := [];  --this gives us access to the information base
	da : SET[0:?] OF Document_assignment :=[];
END_LOCAL;
	da := bag_to_set(QUERY(dr <* USEDIN (input, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
	'DOCUMENT_ASSIGNMENT.IS_ASSIGNED_TO') | (dr.role = role)));

	-- iterate over da
	REPEAT i := 1 to SIZEOF(da) by 1;
		IF(type_name IN TYPEOF (da[i].assigned_document))THEN
			dd := dd + da[i].assigned_document;
		END_IF;
	END_REPEAT;
	RETURN(dd);
END_FUNCTION;

  FUNCTION bag_to_set(
    the_bag : BAG OF GENERIC : intype
  ) : SET OF GENERIC : intype;

    LOCAL
      the_set : SET OF GENERIC : intype := [];
      i       : INTEGER;
    END_LOCAL;

    IF SIZEOF(the_bag) > 0 THEN
      REPEAT i := 1 TO HIINDEX(the_bag);
        the_set := the_set + the_bag[i];
      END_REPEAT;
    END_IF;
    RETURN(the_set);
  END_FUNCTION;

  FUNCTION max_data_element(
    input1 : Length_data_element ;
    input2 : Length_data_element
  ) : Length_data_element;

    RETURN(input1);
  END_FUNCTION;

  FUNCTION add_data_element(
    input1 : Length_data_element ;
    input2 : Length_data_element
  ) : Length_data_element;

    RETURN(input1);
  END_FUNCTION;

FUNCTION types_of_product
 (obj : Product) : SET OF STRING; 
 LOCAL
 	category_assignments: BAG OF Product_category_assignment;
 	categories: SET OF STRING:=[];
 	i: INTEGER;
 END_LOCAL;
 
 category_assignments := USEDIN(obj,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS');
    
 REPEAT i := LOINDEX(category_assignments) TO HIINDEX(category_assignments) BY 1;
       categories := categories + category_assignments[i].category.name;
 END_REPEAT;
 
 RETURN(categories);
       END_FUNCTION; 

FUNCTION valid_assembly_context_for_bond(input1 : Part_design_view;
                                         input2 : GENERIC       ) : BOOLEAN;
RETURN(TRUE);
END_FUNCTION;                                         

  FUNCTION consistent_bus_structural_definition(
    input : SET OF Bus_element_link
  ) : BOOLEAN;

    LOCAL
      vertex        : SET OF bus_structural_definition_or_node := [];
      edge          : INTEGER := SIZEOF(input);
      vc            : INTEGER := 0;
      vertex_degree : INTEGER := 0;
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      vertex := vertex + input[i].precedent_element;
      vertex := vertex + input[i].subsequent_element;
    END_REPEAT;
    vc := SIZEOF(vertex);
    IF (vc <> (edge + 1)) THEN
      RETURN(FALSE);
    END_IF;
    REPEAT i := 1 TO vc BY 1;
      vertex_degree := 0;
      REPEAT j := 1 TO SIZEOF(input) BY 1;
        IF input[j].precedent_element = vertex[i] THEN
          vertex_degree := vertex_degree + 1;
        END_IF;
        IF input[j].subsequent_element = vertex[i] THEN
          vertex_degree := vertex_degree + 1;
        END_IF;
      END_REPEAT;
      IF (vertex_degree > 2) THEN
        RETURN(FALSE);
      END_IF;
    END_REPEAT;
    RETURN(TRUE);
  END_FUNCTION;

  FUNCTION get_pct(input : SET OF Physical_connectivity_element) : SET OF Physical_component_terminal;
  LOCAL
   pct : SET OF Physical_component_terminal := [];
    i : INTEGER := 0;
  END_LOCAL;
  REPEAT  i := 1 TO SIZEOF(input) BY 1;
   IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PHYSICAL_COMPONENT_TERMINAL' IN TYPEOF(input[i].start_terminus)) THEN
   pct := pct + input[i].start_terminus;
   END_IF;
   IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PHYSICAL_COMPONENT_TERMINAL' IN TYPEOF(input[i].end_terminus)) THEN
   pct := pct + input[i].end_terminus;
   END_IF;
  END_REPEAT;
  RETURN(pct);
  END_FUNCTION;

  FUNCTION get_tj(input : SET OF Physical_connectivity_element) : SET OF Topological_junction;
  LOCAL
   tj : SET OF Topological_junction := [];
    i : INTEGER := 0;
  END_LOCAL;
  REPEAT  i := 1 TO SIZEOF(input) BY 1;
   IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.TOPOLOGICAL_JUNCTION' IN TYPEOF(input[i].start_terminus)) THEN
   tj := tj + input[i].start_terminus;
   END_IF;
   IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.TOPOLOGICAL_JUNCTION' IN TYPEOF(input[i].end_terminus)) THEN
   tj := tj + input[i].end_terminus;
   END_IF;
  END_REPEAT;
  RETURN(tj);
  END_FUNCTION;

  FUNCTION get_terminals(input : SET OF Physical_connectivity_definition) : SET OF Component_terminal;
  LOCAL
   ct : SET OF Component_terminal := [];
    i : INTEGER := 0;
  END_LOCAL;
  REPEAT  i := 1 TO SIZEOF(input) BY 1;
   ct := ct + input[i].associated_terminals;
  END_REPEAT;
  RETURN(ct);
  END_FUNCTION;

  FUNCTION valid_constraining_shape(
    sd   : SET OF Geometric_model ;
    eepd : Product_view_definition
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION;

  FUNCTION get_pctd(
    ac  : Assembly_component ;
    ajb : SET OF Assembly_joint
  ) : SET OF Part_connected_terminals_definition;

    LOCAL
      cf  : LIST[1:2] OF component_feature := [ajb[1].assembly_feature_1,
                                               ajb[1].assembly_feature_2];
      pctd : SET OF part_connected_terminals_definition := [];
    END_LOCAL;

    REPEAT i := 1 TO 2 BY 1;
      IF ac :=: cf[i].associated_component THEN
        IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PART_TERMINAL' IN TYPEOF(cf[i].definition)) THEN
          pctd := cf[i].definition.connection_requirement;
          RETURN(pctd);
        ELSE
          RETURN(pctd);
        END_IF;
      ELSE
        RETURN(pctd);
      END_IF;
    END_REPEAT;
    RETURN(?);
  END_FUNCTION;

FUNCTION local_vars_aux (thing : GENERIC; accum : SET [0:?] OF Scalar_variable) 
                                                : SET [0:?] OF Scalar_variable;
  LOCAL i,j,k : INTEGER; END_LOCAL;
  IF (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ABSTRACT_VARIABLE' IN TYPEOF(thing)) AND 
      ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.RULE_DEFINITION' IN (TYPEOF(thing.scope))))
   THEN accum := accum + thing;
   ELSE IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.RULE_CONDITION' IN TYPEOF(thing))
        THEN REPEAT i := 1 TO HIINDEX(thing\Atomic_formula.terms);
                accum := local_vars_aux(thing\Atomic_formula.terms[i],accum);
             END_REPEAT;
        ELSE IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SIMPLE_CLAUSE' IN TYPEOF(thing))
             THEN REPEAT j := 1 TO HIINDEX(thing.formulas);
                        accum := local_vars_aux(thing.formulas[j],accum);
                  END_REPEAT;
             ELSE IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.COMPLEX_CLAUSE' IN TYPEOF(thing))
                  THEN REPEAT k := 1 TO HIINDEX(thing.clauses);
                        accum := local_vars_aux(thing.clauses[k],accum);
                       END_REPEAT;
                  END_IF;
             END_IF;
        END_IF;
  END_IF;
  RETURN(accum);
END_FUNCTION;

FUNCTION contains_variable (x : Term_select) : BOOLEAN;
  IF ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ABSTRACT_VARIABLE' IN TYPEOF(x)) THEN RETURN (TRUE);
      ELSE IF (('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.FUNC' IN TYPEOF(X)) AND
              (SIZEOF(QUERY(y <* x.terms | contains_variable(y))) > 0)) 
              THEN RETURN (TRUE);
              ELSE RETURN (FALSE);
           END_IF;
  END_IF;
END_FUNCTION;

FUNCTION get_derived_shape_element( input : Part_view_definition) : SET OF Derived_shape_element;
LOCAL
 is : SET OF Item_shape := bag_to_set(USEDIN(input, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ITEM_SHAPE.DESCRIBED_ELEMENT'));
 se : SET OF Shape_element := [];
END_LOCAL; 
REPEAT i := 1 to SIZEOF(is) by 1;
   se  := se + bag_to_set(USEDIN(is[i], 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.SHAPE_ELEMENT.CONTAINING_SHAPE'));
END_REPEAT;  

RETURN(QUERY(dse <* se | 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.DERIVED_SHAPE_ELEMENT' IN TYPEOF(se)));
END_FUNCTION;

 FUNCTION get_cond_class(input1 : Material_identification_with_conductivity_classification;
                         input2 : STRING) : STRING;
 LOCAL
  car : SET OF Classification_assignment := [];
 END_LOCAL;
  car := QUERY(ca <* bag_to_set(USEDIN(input1,
	 	'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
	 	'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS')) |
	 	('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
	 	input2 IN TYPEOF (ca.assigned_class)));
 IF SIZEOF(car) = 1
  THEN
    RETURN(car[1].assigned_class\class.name);
  ELSE
    RETURN('?');
 END_IF;
 END_FUNCTION;

FUNCTION valid_document_property_representation
 (rep : Document_property_representation) : LOGICAL; 

CASE rep.name OF
'document content': 
   BEGIN
RETURN (
  SIZEOF(QUERY( items <* rep\Representation.items | 
  NOT (items.name IN ['detail level', 'geometry type', 'real world scale'])))= 0
 );
   END;

'document creation': 
   BEGIN
IF NOT (SIZEOF(QUERY( items <* rep\Representation.items | 
  NOT (items.name IN ['creating interface', 'creating system', 'operating system'])))= 0
 ) THEN
  RETURN(FALSE);
END_IF;
IF NOT (SIZEOF(QUERY( items <* rep\Representation.items | 
  NOT (items.name IN ['creating system'])))= 1
 ) THEN
  RETURN(FALSE);
ELSE
  RETURN(TRUE);
END_IF;

   END;

'document format': 
   BEGIN
RETURN (
  SIZEOF(QUERY( items <* rep\Representation.items | 
  NOT (items.name IN ['character code', 'data format', 'size format', 'size format standard'])))= 0
 );
   END;

'document size': 
   BEGIN
RETURN (
  SIZEOF(QUERY( items <* rep\Representation.items | 
  NOT (items.name IN ['file size', 'page count'])))= 0
 );
   END;

OTHERWISE:
  RETURN(UNKNOWN);
END_CASE;
        END_FUNCTION; 

FUNCTION get_rvd(
	input : requirement_assignment_item;
	id : STRING
) : SET OF Requirement_view_definition; 

LOCAL
	rvd : SET[0:?] OF Requirement_view_definition := [];  --this gives us access to the information base
	ra : SET[0:?] OF Requirement_assignment :=[];
END_LOCAL;
	ra := bag_to_set((QUERY(rai <* USEDIN (input, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.'+
	'REQUIREMENT_ASSIGNMENT.ASSIGNED_TO') | (rai.id = id))));

	-- iterate over ra
	REPEAT i := 1 to SIZEOF(ra) by 1;
		rvd := rvd + ra[i].assigned_requirement;
	END_REPEAT;

	RETURN(rvd);
END_FUNCTION;

  FUNCTION valid_es(input1 : STRING;
                  input2 : SET OF NON_FEATURE_SHAPE_MODEL) : BOOLEAN;
   REPEAT i := 1 to HIINDEX(input2);
    IF NOT (input1 IN TYPEOF(input2)) THEN RETURN(FALSE);
    END_IF;
   END_REPEAT;
    RETURN(TRUE);
  END_FUNCTION;

 FUNCTION get_geometric_model(input : Item_shape) : SET OF Geometric_model;
 LOCAL
  sda : SET OF Shape_description_association := [];
  gm : SET OF Geometric_model := [];
 END_LOCAL;
 
  sda := bag_to_set(USEDIN(input,
	 	'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 
	 	'SHAPE_DESCRIPTION_ASSOCIATION.' + 'REPRESENTED_CHARACTERISTIC'));
 
 REPEAT i := 1 to SIZEOF(sda) BY 1;
  gm := gm + sda[i].representation;
 END_REPEAT;
 RETURN(gm);
END_FUNCTION;

FUNCTION acyclic_representation_relationship
 (relation : representation_relationship; relatives : SET[1:?] OF representation; specific_relation : STRING) : BOOLEAN; 
 LOCAL
      x : SET OF representation_relationship;
    END_LOCAL;

    IF relation.rep_1 IN relatives THEN
      RETURN (FALSE);
    END_IF;
    x := QUERY(r <* bag_to_set(USEDIN(relation.rep_1, 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'REPRESENTATION_RELATIONSHIP.' + 'REP_2')) | specific_relation IN TYPEOF(r));
    REPEAT i := 1 TO HIINDEX(x);
      IF NOT acyclic_representation_relationship(x[i], relatives + relation.rep_1, specific_relation) THEN
        RETURN (FALSE);
      END_IF;
    END_REPEAT;
    RETURN (TRUE);
END_FUNCTION; 

  FUNCTION less(input1 : Length_tolerance_characteristic;
              input2 : Length_tolerance_characteristic) : BOOLEAN;
    RETURN(TRUE);
  END_FUNCTION;

 FUNCTION get_stack(input : SET OF Stratum_technology_occurrence_link) : SET OF Stratum_technology_occurrence;
  LOCAL
   sto : SET OF Stratum_technology_occurrence := [];
    i : INTEGER := 0;
  END_LOCAL;
  REPEAT  i := 1 TO SIZEOF(input) BY 1;
   sto := sto + input[i].precedent_sto + input[i].subsequent_sto;
  END_REPEAT;
  RETURN(sto);
  END_FUNCTION;

  FUNCTION valid_range(input1 : Numerical_item_with_unit;
                       input2 : Numerical_item_with_unit) : BOOLEAN;
   RETURN(TRUE);
  END_FUNCTION; 

  FUNCTION single_package_version(
    input : Packaged_part
  ) : BOOLEAN;

    RETURN(TRUE);
  END_FUNCTION;

  FUNCTION disjoint_package_terminals(
    input : Packaged_part_terminal
  ) : BOOLEAN;
    RETURN(TRUE);
  END_FUNCTION;

RULE rule_version_constraint FOR (Product_version);
WHERE
   WR1: SIZEOF (QUERY(pv <* Product_version | (NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'RULE_VERSION' IN TYPEOF(pv))) 
                      AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'RULE_PRODUCT' IN TYPEOF(pv.of_product)))) = 0 ;
END_RULE;

RULE unique_product_view_definition_id FOR
    (Product_version);
WHERE
  WR1:  SIZEOF(QUERY (pv <* Product_version | 
   (SIZEOF (QUERY (pvd1 <*
USEDIN(pv,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRODUCT_VIEW_DEFINITION.DEFINED_VERSION') |  
     (SIZEOF (QUERY (pvd2 <*
USEDIN(pv,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRODUCT_VIEW_DEFINITION.DEFINED_VERSION')
|  pvd1.id = pvd2.id)) > 1)
     )) > 0)
   )) = 0;  
END_RULE;

  RULE unique_assembly_item_number FOR (Assembly_item_number);
   LOCAL
     acr : BAG OF Assembly_component_relationship := [];
   END_LOCAL;
   REPEAT i := 1 to SIZEOF(Assembly_item_number) by 1;
     acr  := acr + Assembly_item_number[i].assembly_usage;
   END_REPEAT;  
  WHERE
   WR1 : SIZEOF(acr) = SIZEOF(bag_to_set(acr));
  END_RULE;

RULE max_one_entity_prefix FOR (Enum_reference_prefix);
 WHERE
   SIZEOF(QUERY(x <* Enum_reference_prefix | TRUE)) <= 1;
END_RULE;

RULE unique_document_id FOR
    (Document);
WHERE
  WR1:  SIZEOF(QUERY (p1 <* Document | SIZEOF(QUERY (p2 <* Document | 
              (NOT(p1 :=: p2) AND (p1.id = p2.id)))) > 0 )) = 0;
END_RULE;

RULE unique_requirement_id FOR
    (Requirement);
WHERE
  WR1:  SIZEOF(QUERY (p1 <* Requirement | SIZEOF(QUERY (p2 <* Requirement | 
              (NOT(p1 :=: p2) AND (p1.id = p2.id)))) > 0 )) = 0;
END_RULE;

RULE Definition_replacement_requires_effectivity_assignment FOR 
	(Part_definition_relationship);
WHERE 
WR1: SIZEOF( QUERY( pdr <* Part_definition_relationship | 
	(pdr\View_definition_relationship.relation_type = 'definition replacement') AND 
	(SIZEOF( USEDIN(pdr,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.EFFECTIVITY_ASSIGNMENT.ITEMS') ) = 0) ))
	 = 0; 
END_RULE; 

RULE template_version_constraint FOR 
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'TEMPLATE_VERSION' IN TYPEOF ( pv) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'TEMPLATE' IN TYPEOF ( pv.of_product) ) ) ) =0 ;
END_RULE; 

RULE part_version_constraint FOR 
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'PART_VERSION' IN TYPEOF ( pv) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'PART' IN TYPEOF ( pv.of_product) ) ) ) =0 ;
END_RULE; 

RULE part_view_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( pvd <* Product_view_definition | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'PART_VIEW_DEFINITION' IN TYPEOF (pvd) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'PART_VERSION' IN TYPEOF ( pvd.defined_version) ) ) ) =0 ;
END_RULE; 

RULE unique_part_id FOR
    (Part);
WHERE
  WR1:  SIZEOF(QUERY (p1 <* Part | SIZEOF(QUERY (p2 <* Part | 
              (NOT(p1 :=: p2) AND (p1.id = p2.id)))) > 0 )) = 0;
END_RULE;

RULE unique_product_version_id FOR
    (Product);
WHERE
  WR1:  SIZEOF(QUERY (p <* Product | 
   (SIZEOF (QUERY (pv1 <*
USEDIN(p,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRODUCT_VERSION.OF_PRODUCT') |  
   (SIZEOF (QUERY (pv2 <*
USEDIN(p,'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.PRODUCT_VERSION.OF_PRODUCT')
|  pv1.id = pv2.id)) > 1)
     )) > 0)
   )) = 0;  
END_RULE;

RULE rule_software_definition_constraint FOR (Product_view_definition);
WHERE
   WR1: SIZEOF (QUERY ( pvd <* Product_view_definition | ( NOT('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'RULE_SOFTWARE_DEFINITION' 
                       IN TYPEOF(pvd))) 
                       AND ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'RULE_VERSION' IN TYPEOF (pvd . defined_version)))) = 0 ;
END_RULE; 

  RULE unique_assembly_component_relationship FOR (Assembly_component_relationship);
   LOCAL
     gee : SET OF Product_view_definition := [];
     gei : SET OF Product_view_definition := [];
   END_LOCAL;
   REPEAT i := 1 to SIZEOF(Assembly_component_relationship) by 1;
     gee  := gee + Assembly_component_relationship[i]\View_definition_relationship.related_view;
     gei  := gei + Assembly_component_relationship[i]\View_definition_relationship.relating_view;
   END_REPEAT;  
  WHERE
   WR1 : SIZEOF(gee) = SIZEOF(gei);
  END_RULE;

RULE Mandatory_part_occurrence_definition_relationship FOR (Assembly_component_relationship);
LOCAL
  assemblies_of_parts: SET OF Assembly_component_relationship := [];
END_LOCAL;
--  assemblies_of_parts := QUERY(acr <* Assembly_component_relationship |
--	'ITEM_DEFINITION_STRUCTURE_MIM.PART_VIEW_DEFINITION' IN TYPEOF(SELF\View_definition_relationship.relating_view));
WHERE
WR1: SIZEOF(QUERY(ar <* assemblies_of_parts | 
	NOT ('AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.ASSEMBLED_PART_ASSOCIATION' IN TYPEOF(ar)) ))= 0;
END_RULE;

RULE template_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( pvd <* Product_view_definition | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'TEMPLATE_DEFINITION' IN TYPEOF (pvd) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'TEMPLATE_VERSION' IN TYPEOF ( pvd.defined_version) ) ) ) =0 ;
END_RULE; 

RULE analytical_model_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( pvd <* Product_view_definition | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'ANALYTICAL_MODEL_DEFINITION' IN TYPEOF (pvd) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'ANALYTICAL_MODEL_VERSION' IN TYPEOF ( pvd.defined_version) ) ) ) =0 ;
END_RULE; 

RULE software_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( pvd <* Product_view_definition | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'SOFTWARE_DEFINITION' IN TYPEOF (pvd) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'SOFTWARE_VERSION' IN TYPEOF ( pvd.defined_version) ) ) ) =0 ;
END_RULE; 

RULE document_definition_constraint FOR 
(Product_view_definition);
WHERE
  WR1: SIZEOF ( QUERY ( dd <* Product_view_definition | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'DOCUMENT_DEFINITION' IN TYPEOF (dd) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'DOCUMENT_VERSION' IN TYPEOF ( dd.defined_version) ) ) ) =0;
END_RULE; 

RULE analytical_model_version_constraint FOR 
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'ANALYTICAL_MODEL_VERSION' IN TYPEOF ( pv) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'ANALYTICAL_MODEL' IN TYPEOF ( pv.of_product) ) ) ) =0 ;
END_RULE; 

RULE software_version_constraint FOR 
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'SOFTWARE_VERSION' IN TYPEOF ( pv) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'SOFTWARE' IN TYPEOF ( pv.of_product) ) ) ) =0 ;
END_RULE; 

RULE document_version_constraint FOR 
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'DOCUMENT_VERSION' IN TYPEOF ( pv) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'DOCUMENT' IN TYPEOF ( pv.of_product) ) ) ) = 0 ;
END_RULE; 

RULE Information_product_version_constraint FOR
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT (
  'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'INFORMATION_VERSION' IN TYPEOF
  ( pv) ) ) AND ( 'AP210_ASSEMBLY_FUNCTIONAL_REQUIREMENTS_ARM_LF.' + 'INFORMATION_PRODUCT' IN TYPEOF (
pv.of_product) ) ) ) =0 ;
END_RULE; 

(* E2: SUBTYPE_CONSTRAINT exclusive_property_value_representation_characteristic FOR PROPERTY_VALUE_REPRESENTATION; *)

(* E2: SUBTYPE_CONSTRAINT change_design_object_management_relationship_subtypes FOR CHANGE_DESIGN_OBJECT_MANAGEMENT_RELATIONSHIP; *)

(* E2: SUBTYPE_CONSTRAINT curve_subtypes FOR CURVE; *)

(* E2: SUBTYPE_CONSTRAINT egt_non_feature_shape_element_subtypes FOR NON_FEATURE_SHAPE_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT inter_stratum_feature_template_subtypes FOR INTER_STRATUM_FEATURE_TEMPLATE; *)

(* E2: SUBTYPE_CONSTRAINT pudv_connection_zone_subtypes FOR CONNECTION_ZONE; *)

(* E2: SUBTYPE_CONSTRAINT packaged_part_terminal_subtypes FOR PACKAGED_PART_TERMINAL; *)

(* E2: SUBTYPE_CONSTRAINT cma_class_subtypes FOR CLASS; *)

(* E2: SUBTYPE_CONSTRAINT alternate_geometry_items FOR DETAILED_GEOMETRIC_MODEL_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT physical_component_subtypes FOR PHYSICAL_COMPONENT; *)

(* E2: SUBTYPE_CONSTRAINT pte_template_definition_subtypes FOR TEMPLATE_DEFINITION; *)

(* E2: SUBTYPE_CONSTRAINT ft_template_definition_subtypes FOR TEMPLATE_DEFINITION; *)

(* E2: SUBTYPE_CONSTRAINT pudv_part_view_definition_subtypes FOR PART_VIEW_DEFINITION; *)

(* E2: SUBTYPE_CONSTRAINT alternate_measure_items FOR MEASURE_ITEM; *)

(* E2: SUBTYPE_CONSTRAINT functional_unit_definition_subtypes FOR FUNCTIONAL_UNIT_DEFINITION; *)

(* E2: SUBTYPE_CONSTRAINT process_specification_subtypes FOR PROCESS_SPECIFICATION; *)

(* E2: SUBTYPE_CONSTRAINT part_feature_subtypes FOR PART_FEATURE; *)

(* E2: SUBTYPE_CONSTRAINT amd_physical_component_terminal_subtypes FOR PHYSICAL_COMPONENT_TERMINAL; *)

(* E2: SUBTYPE_CONSTRAINT ttr_string_representation_item_subtypes FOR STRING_REPRESENTATION_ITEM; *)

(* E2: SUBTYPE_CONSTRAINT physical_component_feature_subtypes FOR PHYSICAL_COMPONENT_FEATURE; *)

(* E2: SUBTYPE_CONSTRAINT alternate_extended_geometry_items FOR DETAILED_GEOMETRIC_MODEL_ELEMENT; *)

(* E2: SUBTYPE_CONSTRAINT axis_placement_subtypes FOR AXIS_PLACEMENT; *)

(* E2: SUBTYPE_CONSTRAINT value_with_unit_subtypes FOR VALUE_WITH_UNIT; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_security_classification_subtypes FOR SECURITY_CLASSIFICATION; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_organization_or_person_in_organization_assignment_subtypes FOR ORGANIZATION_OR_PERSON_IN_ORGANIZATION_ASSIGNMENT; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_work_request_subtypes FOR WORK_REQUEST; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_work_request_status_subtypes FOR WORK_REQUEST_STATUS; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_activity_relationship_subtypes FOR ACTIVITY_RELATIONSHIP; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_approval_subtypes FOR APPROVAL; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_approval_status_subtypes FOR APPROVAL_STATUS; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_address_assignment_subtypes FOR ADDRESS_ASSIGNMENT; *)

(* E2: SUBTYPE_CONSTRAINT pdpdms_date_or_date_time_assignment_subtypes FOR DATE_OR_DATE_TIME_ASSIGNMENT; *)

(* E2: SUBTYPE_CONSTRAINT puswp_geometric_model_subtypes FOR GEOMETRIC_MODEL; *)

(* E2: SUBTYPE_CONSTRAINT ft_shape_feature_subtypes FOR SHAPE_FEATURE; *)

(* E2: SUBTYPE_CONSTRAINT shape_element_subtypes FOR SHAPE_ELEMENT; *)


END_SCHEMA;

