(*
   $Id: mkmodule.js,v 1.41 2004/10/11 20:17:49 thendrix Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Ap210 electronic assembly interconnect and packaging design - EXPRESS ARM
*)

SCHEMA Ap210_electronic_assembly_interconnect_and_packaging_design_arm;

USE FROM Ap210_device_functional_and_physical_characterization_arm;
USE FROM Ap210_interconnect_technology_constraints_arm;
USE FROM Ap210_assembly_technology_constraints_arm;
USE FROM Ap210_assembly_functional_requirements_arm;
USE FROM Ap210_assembly_physical_requirements_arm;
USE FROM Ap210_interconnect_functional_requirements_arm;
USE FROM Ap210_interconnect_physical_requirements_arm;
USE FROM Ap210_assembly_physical_design_arm;
USE FROM Ap210_interconnect_design_arm;
USE FROM Ap210_interconnect_design_for_microwave_arm;
USE FROM Ap210_product_rule_arm;
USE FROM Ap210_functional_decomposition_arm;
USE FROM Ap210_package_functional_and_physical_characterization_arm;
USE FROM Ap210_laminate_assembly_design_arm;
USE FROM Ap210_connection_zone_based_model_extraction_arm;
USE FROM Ap210_functional_specification_arm;
USE FROM Ap210_physical_unit_physical_characterization_arm;
USE FROM Ap210_packaged_part_white_box_model_arm;
USE FROM Ap210_printed_part_functional_and_physical_characterization_arm;
USE FROM Ap210_assembly_functional_interface_requirements_arm;
USE FROM Ap210_assembly_physical_interface_requirements_arm;
USE FROM Ap210_assembly_requirement_allocation_arm;
USE FROM Ap210_interconnect_requirement_allocation_arm;
USE FROM Ap210_functional_requirement_allocation_arm;
USE FROM Plib_class_reference_arm;

(*=================== Temporary use froms ======================== *)
USE FROM Model_parameter_arm;    -- ISO/TS 10303-xxx

USE FROM Wireframe_2d_arm;    --  ISO/TS 10303-1347           --Geometrically_bounded_2d_wireframe_arm;

-- New modules, not existing as uof
 
USE FROM Chemical_substance_arm;

USE FROM Physical_unit_2d_design_view_arm;
USE FROM Physical_unit_3d_design_view_arm;
USE FROM Physical_unit_non_planar_design_view_arm;
USE FROM Assembly_module_with_macro_component_arm;
USE FROM Assembly_module_with_cable_component_arm;
USE FROM Interconnect_module_with_macros_arm;
USE FROM Assembly_module_with_interconnect_component_arm;
USE FROM Assembly_module_with_packaged_connector_component_arm;
USE FROM Assembly_module_with_subassembly_arm;
USE FROM Cable_arm;
USE FROM Basic_geometry_arm;
USE FROM Basic_curve_arm;
USE FROM Area_2d_arm;
USE FROM Fill_area_arm;
-- USE FROM Component_external_reference_arm; => Moved into AP210_PDM
USE FROM Component_feature_arm;
-- USE FROM Component_relationship_arm; -- Moved into Physical_unit_design_view_arm
USE FROM Assembly_module_macro_definition_arm;
USE FROM Feature_and_connection_zone_arm;
USE FROM Connectivity_allocation_to_physical_network_arm;
USE FROM Electrical_network_definition_arm;
-- USE FROM Fabrication_thickness_requirement_occurrence_arm; => moved into Fabrication_requirement_arm
USE FROM Functional_decomposition_to_design_arm;
USE FROM Functional_unit_requirement_allocation_arm;
USE FROM Design_specific_assignment_to_assembly_usage_view_arm;
USE FROM Design_specific_assignment_to_interconnect_usage_view_arm;
-- USE FROM Inter_stratum_feature_edge_template_arm; -- Moved into Layered_interconnect_module_arm;
USE FROM Interconnect_module_to_assembly_module_relationship_arm;
USE FROM Fabrication_requirement_arm;
USE FROM Layout_macro_definition_arm;
-- USE FROM Layout_template_terminal_arm; -- Moved into Manufacturing_technology
-- USE FROM Library_interconnect_module_arm;
USE FROM Manifold_subsurface_arm;
USE FROM Non_feature_shape_element_arm;
USE FROM Packaged_connector_model_arm;
USE FROM Part_external_reference_arm;
USE FROM Part_feature_function_arm;
USE FROM Part_feature_grouping_arm;
USE FROM Part_feature_location_arm;
-- USE FROM Part_feature_template_shape_arm; => moved into Physical_unit_usage_view_arm
USE FROM Layered_2d_shape_representation_relationship_arm;
USE FROM Layered_3d_shape_representation_relationship_arm;
USE FROM Part_template_extension_arm;
USE FROM Part_terminal_arm;
USE FROM Physical_component_feature_arm; 
-- USE FROM Physical_feature_or_physical_layout_template_arm;  This is made a select and moved into Physical_unit_usage_view_arm;
-- USE FROM Physical_laminate_component_arm; 
USE FROM Physical_node_requirement_to_implementing_component_allocation_arm;
USE FROM Physical_unit_interconnect_definition_arm;
-- USE FROM Physical_unit_or_physical_layout_template_arm;
USE FROM Pre_defined_datum_symbol_arm;
USE FROM Pre_defined_datum_2d_symbol_arm;
USE FROM Pre_defined_datum_3d_symbol_arm;
USE FROM Assembly_module_with_cable_component_2d_arm;
USE FROM Assembly_module_with_cable_component_3d_arm;
USE FROM Shape_composition_arm;
USE FROM Shape_parameters_arm;
USE FROM Shield_arm; 
-- USE FROM Seating_plane_arm; -- moved into Feature_and_connection_zone_arm;
USE FROM Software_arm; 
-- USE FROM Specification_allocation_arm; -- moved into Specification_document_arm
USE FROM Technology_arm;
USE FROM Test_requirement_allocation_arm;
USE FROM Thermal_network_definition_arm;
USE FROM Via_component_arm;

USE FROM Altered_package_arm;
USE FROM Altered_part_arm;
USE FROM Analytical_model_arm;
-- USE FROM Analytical_representation_arm; => merged into Analytical_model_arm
-- USE FROM Assembly_bill_of_material_arm; => moved into AP210_product_data_management
-- USE FROM Assembly_component_arm; => Moved to physical_unit_design_view_arm
USE FROM Component_grouping_arm;
USE FROM Assembly_component_placement_requirements_arm;
-- USE FROM Information_assignment_to_usage_view_arm;


USE FROM Assembly_functional_interface_requirement_arm;
-- USE FROM Assembly_functional_requirement_allocation_arm; => functional_requirement_allocation_arm;
USE FROM Interface_component_arm;
-- USE FROM Assembly_marking_arm; => Device_marking_arm;
USE FROM Assembly_module_design_arm;
USE FROM Assembly_module_usage_view_arm;
USE FROM Assembly_physical_interface_requirement_arm;
USE FROM Assembly_physical_requirement_allocation_arm;
USE FROM Assembly_shape_arm;
USE FROM Assembly_2d_shape_arm;
USE FROM Assembly_3d_shape_arm;
USE FROM Assembly_technology_arm;
-- USE FROM Authorization_arm;
USE FROM Bare_die_arm;
USE FROM Characteristic_arm;
-- USE FROM Connection_zone_to_analytical_model_port_mapping_arm;
-- USE FROM Constructive_solid_geometry_3d_arm;     --  ISO/TS 10303-10041068   --was Constructive_solid_geometry_arm;
-- GL need to have, because csg_solid is not available in ARM of modules !!!
-- USE FROM Constructive_solid_geometry_arm;

--USE FROM Datum_based_characteristic_arm; => GD&T
--USE FROM Datum_difference_based_characteristic_arm; => GD&T
USE FROM Datum_difference_based_model_arm;
-- USE FROM Design_activity_control_arm; => Moved into AP210_PDM
USE FROM Design_management_arm;
USE FROM Device_marking_arm;
USE FROM Specification_document_arm;
-- USE FROM End_item_identification_arm; -- Covered by modules (1056: Product_configuration, 1060: Product_concept, 1025: Alias_identification)
-- USE FROM External_definition_arm; -- Covered by 1128: External_item_identification
USE FROM Fabrication_joint_arm;
USE FROM Form_features_arm;
USE FROM Functional_decomposition_to_assembly_design_arm;
USE FROM Functional_decomposition_to_interconnect_design_arm;
USE FROM Network_functional_design_view_arm;
USE FROM Functional_decomposition_with_nodal_representation_to_packaged_mapping_arm;
-- Completely covered by other modules (from AP210)
-- USE FROM Functional_decomposition_with_nodal_representation_to_interconnect_mapping_arm;
-- USE FROM Functional_definition_to_physical_unit_usage_view_mapping_arm;
-- USE FROM Functional_definition_to_printed_part_mapping_arm;
USE FROM Functional_design_elaboration_arm;
-- USE FROM Functional_requirement_allocation_arm; -- splitted into many modules as prposed by Tom
USE FROM Functional_specification_arm;
-- Fully covered by Functional_usage_view_terminal_to_analytical_model_port_mapping_arm and Analytical_representation;
-- USE FROM Functional_unit_analytical_representation_arm;
USE FROM Network_functional_usage_view_arm;
-- Moved into Analytical_model_arm
-- USE FROM Functional_usage_view_terminal_to_analytical_model_port_mapping_arm;
USE FROM Extended_geometric_tolerance_arm;

-- USE FROM Inter_stratum_feature_template_arm; -- Moved into Layered_interconnect_module_design_arm
-- Fully covered by various AP210 modules
-- USE FROM Interconnect_bill_of_material_arm;
-- USE FROM Interconnect_component_grouping_arm; => component_grouping_arm
-- USE FROM Interconnect_design_information_assignment_to_usage_view_arm; => information_assignment_to_usage_view_arm
-- USE FROM Interconnect_functional_requirement_allocation_arm; => functional_requirement_allocation_arm
-- USE FROM Interconnect_interface_component_arm; => interface_component_arm
-- USE FROM Interconnect_marking_arm; => Device_marking_arm
USE FROM Interconnect_module_connection_routing_arm;
USE FROM Layered_interconnect_module_design_arm;
USE FROM Layered_interconnect_module_3d_shape_arm;
USE FROM Layered_interconnect_module_with_printed_component_design_arm;
-- USE FROM Interconnect_module_edge_arm; -- Moved to Layered_interconnect_module_design_arm
USE FROM Interconnect_module_usage_view_arm;
USE FROM Interconnect_physical_requirement_allocation_arm;
USE FROM Interconnect_placement_requirements_arm;
USE FROM Interconnect_non_planar_shape_arm;
USE FROM Interconnect_2d_shape_arm;
USE FROM Interconnect_3d_shape_arm;

-- USE FROM Laminate_assembly_design_arm; -- Fully covered by various models (mainly assembly_module_design)
USE FROM Land_arm;
-- USE FROM Library_item_arm; => Moved into AP210_PDM
USE FROM Manufacturing_technology_arm;
-- USE FROM Material_product_arm;
USE FROM Package_arm;
USE FROM Packaged_part_black_box_model_arm;
-- USE FROM Packaged_part_terminal_analytical_representation_arm; -- made via analystical_model_port_assignment
USE FROM Packaged_part_white_box_model_arm;
-- USE FROM Part_feature_arm; -- Moved into Physical_unit_usage_view_arm
-- USE FROM Part_feature_to_analytical_model_port_mapping_arm; -- made via analystical_model_port_assignment
USE FROM Physical_layout_template_arm;
USE FROM Part_template_shape_with_parameters_arm;
USE FROM Part_template_2d_shape_arm;
USE FROM Part_template_non_planar_shape_arm;
USE FROM Part_template_3d_shape_arm;
-- USE FROM Physical_network_arm; -- Moved into Layered_interconnect_module_design_arm
USE FROM Physical_unit_usage_view_arm;
USE FROM Physical_unit_design_view_arm;
-- Fully covered by other modules from AP210
-- USE FROM Physical_unit_analytical_representation_arm;
USE FROM Physical_unit_3d_shape_arm;
USE FROM Physical_unit_2d_shape_arm;
USE FROM Physical_unit_shape_with_parameters_arm;
USE FROM Planned_characteristic_arm;
-- USE FROM Planned_effectivity_arm; -- Substituted by module 1057
USE FROM Printed_physical_layout_template_arm;
USE FROM Product_identification_extension_arm; -- Made out of uof Product_identification_arm;
---- Substituted by requirement_assignment from 1233
-- USE FROM Product_requirement_allocation_arm;
USE FROM Product_rule_arm;
USE FROM Requirement_decomposition_arm;
USE FROM Sequential_laminate_assembly_design_arm;
USE FROM Layered_shape_arm;
USE FROM Layered_2d_shape_arm;
USE FROM Layered_3d_shape_arm;
USE FROM Signal_arm;
-- USE FROM Solid_of_linear_extrusion_arm; -- Substituted by Swept_area_solid {kind = .EXTRUDED_AREA_SOLID.}
-- USE FROM Source_control_arm; -- Substituted by various modules (PDM)
-- USE FROM Stratum_arm; -- moved into Layered_interconnect_module_design_arm;
USE FROM Layered_interconnect_module_with_design_intend_modifications_arm;
USE FROM Stratum_non_planar_shape_arm;
USE FROM Layered_interconnect_module_2d_design_arm;
USE FROM Layered_interconnect_module_3d_design_arm;
--USE FROM Stratum_position_arm;
USE FROM Styled_curve_arm;
USE FROM Styled_text_arm;

(*=================== END OF Temporary use froms ======================== *)

(** Need a CC having both Assembly_2d_shape and Interconnect_2d_shape_arm *)
SUBTYPE_CONSTRAINT component_2d_location_subtypes FOR component_2d_location;         
    ONEOF (component_2d_edge_location,
 component_2d_embedded_location,
 component_2d_stacked_location,
 component_2d_surface_location);    
END_SUBTYPE_CONSTRAINT;

(** Design_specific_assignment_to_assembly_usage_view_arm, 
Design_specific_assignment_to_interconnect_usage_view_arm  and
Assembly_module_macro_definition_arm needs to be brought together for this *)  
SUBTYPE_CONSTRAINT component_feature_to_physical_usage_view_assignment_subtypes FOR component_feature_to_physical_usage_view_assignment;     
ONEOF (component_terminal_to_assembly_module_join_terminal_assignment,
 component_terminal_to_assembly_module_interface_terminal_assignment,
 component_terminal_to_interconnect_module_join_terminal_assignment,
 component_terminal_to_interconnect_module_interface_terminal_assignment,
 component_terminal_to_pca_terminal_assignment);
END_SUBTYPE_CONSTRAINT;

(** Assembly_module_with_packaged_connector_component_arm and 
Assembly_module_with_interconnect_component_arm  - most likely in some Assembly CC *)
SUBTYPE_CONSTRAINT component_interface_terminal_subtypes FOR component_interface_terminal;     
(ONEOF (packaged_connector_component_interface_terminal,
 interconnect_component_interface_terminal));
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT connection_zone_subtypes FOR connection_zone;     
 ONEOF (connection_zone_in_usage_view,
 connection_zone_in_design_view,
 connection_zone_in_layout_template);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT default_land_physical_template_subtypes FOR default_land_physical_template;     
(ONEOF (default_passage_based_land_physical_template,
 default_attachment_size_based_land_physical_template));
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT Default_attachment_size_based_land_physical_template_subtypes FOR Default_attachment_size_based_land_physical_template;     
    (ONEOF (default_attachment_size_and_component_termination_passage_based_land_physical_template,
 default_attachment_size_and_via_based_land_physical_template));
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT functional_unit_definition_subtypes FOR functional_unit_definition;     
 (ONEOF (functional_unit_network_definition,
 functional_unit_usage_view));
END_SUBTYPE_CONSTRAINT; 
    
SUBTYPE_CONSTRAINT geometric_representation_relationship_subtypes FOR Geometric_model_relationship;     
(ONEOF (non_feature_shape_composition_relationship,
 reference_geometric_representation_relationship,
 component_part_2d_geometric_representation_relationship,
 component_part_2d_non_planar_geometric_representation_relationship,
 component_part_3d_geometric_representation_relationship,
 shape_definition_3d_intersection,
 shape_definition_3d_plane_projection));    
END_SUBTYPE_CONSTRAINT;
    
SUBTYPE_CONSTRAINT interconnect_module_terminal_subtypes FOR interconnect_module_terminal;     
(ONEOF (interconnect_module_interface_terminal,
 interconnect_module_join_terminal));
END_SUBTYPE_CONSTRAINT; 

SUBTYPE_CONSTRAINT interconnect_module_subtypes FOR interconnect_module;         
	(ONEOF (pcb,
 	reference_packaged_part_interconnect_implementation));
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT inter_stratum_feature_template_subtypes FOR inter_stratum_feature_template;         
    (ONEOF (component_termination_passage_template,
 via_template,
 unsupported_passage_template,
 inter_stratum_feature_edge_segment_template,
 inter_stratum_feature_edge_template));
END_SUBTYPE_CONSTRAINT;        

SUBTYPE_CONSTRAINT join_relationship_subtypes FOR join_relationship;         
 (ONEOF (inter_stratum_join_relationship,
 intra_stratum_join_relationship,
 stratum_embedded_component_join_relationship,
 unrouted_join_relationship));
END_SUBTYPE_CONSTRAINT;         
 
SUBTYPE_CONSTRAINT laminate_component_interface_terminal_subtypes FOR laminate_component_interface_terminal; 
 (ONEOF (non_functional_land_interface_terminal,
 printed_connector_component_interface_terminal,
 component_termination_passage_interface_terminal,
 land_interface_terminal));
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT laminate_component_join_terminal_subtypes FOR laminate_component_join_terminal; 
 (ONEOF (component_termination_passage_join_terminal,
 land_join_terminal,
 non_functional_land_join_terminal,
 embedded_component_terminal,
 printed_component_join_terminal));
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT layer_connection_point_subtypes FOR layer_connection_point; 
(ONEOF (explicitly_located_layer_connection_point,
 dependently_located_layer_connection_point));
END_SUBTYPE_CONSTRAINT; 

SUBTYPE_CONSTRAINT material_addition_feature_template_subtypes FOR material_addition_feature_template; 
(ONEOF (snowball_template,
 teardrop_by_angle_template,
 teardrop_by_length_template));
END_SUBTYPE_CONSTRAINT; 

SUBTYPE_CONSTRAINT material_removal_feature_template_subtypes FOR material_removal_feature_template; 
    (ONEOF (electrical_isolation_removal_template,
 thermal_isolation_removal_template));
END_SUBTYPE_CONSTRAINT;
    
SUBTYPE_CONSTRAINT model_parameter_subtypes FOR model_parameter; 
  ONEOF (datum_difference_based_model_parameter,
 schema_based_model_parameter) ANDOR
 ONEOF (analytical_model_parameter,
 category_model_parameter,
 rule_function_domain_parameter,
 rule_function_range_parameter);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT non_feature_shape_element_subtypes FOR non_feature_shape_element; 
    (ONEOF (
 derived_shape_element,
 directed_axis,
 positional_boundary,
 positional_boundary_member,
 tolerance_zone_boundary,
 tolerance_zone_boundary_member,
 viewing_plane,
 seating_plane,
 template_material_cross_section_boundary,
 interconnect_module_constraint_region,
 reference_graphic_registration_mark,
 mounting_restriction_area,
 mounting_restriction_volume) ANDOR
 datum);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT packaged_part_subtypes FOR packaged_part; 
    (ONEOF (minimally_defined_connector,
 packaged_connector) ANDOR
 altered_packaged_part);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT packaged_part_terminal_subtypes FOR packaged_part_terminal; 
     (ONEOF (packaged_part_interface_terminal,
 packaged_part_join_terminal));
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT part_terminal_subtypes FOR part_terminal; 
ONEOF (minimally_defined_bare_die_terminal,
 assembly_module_terminal,
 cable_terminal,
 interconnect_module_terminal,
 packaged_part_terminal);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT part_feature_subtypes FOR part_feature; 
((((((((((((part_group_feature ANDOR
 ONEOF (primary_orientation_feature,
 secondary_orientation_feature,
 tertiary_orientation_feature,
 package_body)) ANDOR
 part_tooling_feature) ANDOR
 thermal_feature) ANDOR
 part_interface_access_feature) ANDOR
 part_mating_feature) ANDOR
 part_mounting_feature) ANDOR
 part_terminal) ANDOR
 interconnect_module_surface_feature) ANDOR
 package_terminal) ANDOR
 package_body_surface) ANDOR
 polarity_indication_feature) ANDOR
 functional_orientation_feature);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT part_template_subtypes FOR Layout_template_definition; 
    (ONEOF (inter_stratum_feature_template,
 material_removal_feature_template,
 non_conductive_cross_section_template,
 printed_part_cross_section_template,
 printed_part_template,
 special_symbol_part_template,
 stratum_feature_template,
 trace_template) ANDOR
 part_text_template);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT passage_technology_subtypes FOR passage_technology; 
    (ONEOF (default_via_definition,
 default_component_termination_passage_definition,
 default_unsupported_passage_definition));
END_SUBTYPE_CONSTRAINT; 


SUBTYPE_CONSTRAINT physical_component_terminal_subtypes FOR physical_component_terminal; 
(ONEOF (assembly_module_component_terminal,
 bare_die_component_terminal,
 interconnect_component_join_terminal,
 interconnect_module_component_terminal,
 minimally_defined_component_terminal,
 packaged_component_join_terminal));
 END_SUBTYPE_CONSTRAINT;
 
SUBTYPE_CONSTRAINT physical_component_subtypes FOR physical_component;  
(ONEOF (cable_component,
 packaged_component,
 interconnect_module_component,
 assembly_module_component,
 bare_die_component,
 routed_physical_component,
 routed_interconnect_component) ANDOR
 interface_component);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT physical_component_feature_subtypes FOR physical_component_feature;
    (component_mounting_feature ANDOR
 interconnect_module_component_surface_feature ANDOR
 (ONEOF (physical_component_terminal,
 component_interface_terminal)));
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT physical_unit_usage_view_subtypes FOR part_usage_view;  
    ONEOF (package,
 bare_die,
 cable_usage_view,
 packaged_part,
 assembly_module_usage_view,
 interconnect_module_usage_view);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT part_design_view_subtypes FOR part_design_view;  
    ONEOF (assembly_module,
 interconnect_module);
END_SUBTYPE_CONSTRAINT;

SUBTYPE_CONSTRAINT planar_projected_shape_subtypes FOR planar_projected_shape;  
(ONEOF ((assembly_component_2d_shape ANDOR
 (ONEOF (part_template_planar_shape,
 footprint_definition_shape,
 padstack_definition_shape,
 physical_unit_planar_shape))),
 design_intent_modification_planar_shape,
 stratum_feature_planar_shape,
 stratum_planar_shape));
END_SUBTYPE_CONSTRAINT; 

SUBTYPE_CONSTRAINT planar_shape_subtypes FOR planar_shape;  
(* (ONEOF 
 (-- geometrically_bounded_2d_wireframe,
 --shell_based_2d_wireframe,
-- edge_based_2d_wireframe
-- ,csg_2d_shape
 ) ANDOR*)
 (ONEOF (planar_projected_shape,
 physical_unit_planar_keepout_shape));
 END_SUBTYPE_CONSTRAINT; 

SUBTYPE_CONSTRAINT plated_inter_stratum_feature_subtypes FOR plated_inter_stratum_feature;  
 (ONEOF (plated_cutout,
 plated_interconnect_module_edge,
 plated_cutout_edge_segment,
 plated_interconnect_module_edge_segment,
 plated_passage) ANDOR
 physical_network_supporting_inter_stratum_feature ANDOR
 indirect_stratum_component_join_implementation);
END_SUBTYPE_CONSTRAINT; 

SUBTYPE_CONSTRAINT printed_part_template_subtypes FOR printed_part_template;  
 (ONEOF (layout_macro_floor_plan_template,
 printed_connector_template));
 END_SUBTYPE_CONSTRAINT;
 
SUBTYPE_CONSTRAINT process_specification_subtypes FOR process_specification;   
     (ONEOF (assembly_technology_specification,
 fabrication_technology_specification));
END_SUBTYPE_CONSTRAINT; 
 
 	SUBTYPE_CONSTRAINT Requirement_definition_property_subtypes FOR Requirement_definition_property;     
	 (ONEOF (layout_spacing_requirement_occurrence,
	 item_restricted_requirement_occurrence));
	END_SUBTYPE_CONSTRAINT;
 
 SUBTYPE_CONSTRAINT shape_definition_3d_intersection_subtypes FOR shape_definition_3d_intersection;  
 (ONEOF (edge_segment_cross_section,
 pre_defined_perpendicular_datum_plane_symbol_3d_2d_relationship,
 pre_defined_perpendicular_datum_axis_symbol_3d_2d_relationship,
 pre_defined_parallel_datum_axis_symbol_3d_2d_relationship));
 END_SUBTYPE_CONSTRAINT;  
 
 SUBTYPE_CONSTRAINT stratum_feature_template_component_subtypes FOR stratum_feature_template_component;   
 (ONEOF (connected_area_component,
 non_functional_land,
 land));
 END_SUBTYPE_CONSTRAINT;
 
SUBTYPE_CONSTRAINT view_level_non_feature_shape_definition_subtypes FOR view_level_non_feature_shape_definition;  
    (ONEOF (physical_unit_3d_keepout_shape,
 physical_unit_planar_keepout_shape,
 part_template_3d_keepout_shape,
 part_template_planar_keepout_shape));
END_SUBTYPE_CONSTRAINT; 
 
TYPE ap210_managed_design_object = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON managed_design_object WITH 
(adjacent_stratum_surface_definition,
 adjacent_stratum_surface_embedded_component_surface_definition,
 alias_identification,
 alternate_product_relationship,
 analytical_model_definition,
 analytical_model_make_from_relationship,
 analytical_model_port,
 analytical_model_port_assignment,
 analytical_model_application,
 assembly_bond_definition,
 assembly_component,
 assembly_component_placement_link,
 assembly_component_relationship,
 assembly_item_number,
 assembly_joint,
 bond_assembly_position,
 boundary_size_characteristic,
 bus_element_link,
 bus_structural_definition,
 geometric_coordinate_space,
 certification,
 representation_item,
 component_2d_location,
 component_3d_location,
-- component_assembly_2d_position,
-- component_assembly_3d_position,
-- component_assembly_non_planar_position,
 component_external_reference,
 component_feature,
 component_feature_external_reference,
 component_feature_make_from_relationship,
 component_feature_relationship,
 component_feature_to_layout_feature_relationship,
 component_feature_to_physical_usage_view_assignment,
 component_group_assignment,
 component_make_from_relationship,
 component_mounting_clearance_relationship,
 component_non_planar_location,
 component_overlap_relationship,
 component_placement_restriction_assignment,
 component_to_physical_usage_view_assignment,
 composite_curve_segment,
 composite_signal_property_relationship,
 conductive_interconnect_element_terminal_link,
 configuration_controlled_message,
 conical_tolerance_zone_boundary_and_surface_relationship,
 conical_tolerance_zone_boundary_diametrical_size_characteristic,
 connection_zone,
 connectivity_allocation,
 connectivity_allocation_to_physical_network,
 connection_zone_bare_die_interface_plane_relationship,
 connection_zone_package_interface_plane_relationship,
 connection_zone_map_identification,
-- connection_zone_model_port_assignment,
 coordinated_characteristic,
-- csg_item_3d,
 curve_style,
 curve_style_font,
 curve_style_font_and_scaling,
 value_with_unit,
 calendar_date,
 date_time,
 datum_axis_and_tolerance_zone_orienting_relationship,
 datum_axis_related_orientation,
 datum_based_direction_vector,
 datum_based_length_measure,
 datum_based_vector_orientation,
-- datum_difference_analytical_model_port_assignment,
 datum_difference_functional_unit_usage_view_terminal_assignment,
-- datum_feature_material_condition_property,
single_datum, -- datum_feature_usage_in_datum_system_relationship,
datum, -- datum_precedence_assignment,
-- datum_system_defining_conditions,
 datum_target_usage_in_datum_target_set_relationship,
-- datum_usage_in_datum_system_relationship,
 design_composition_path,
 design_functional_unit_allocation_to_assembly_component,
 design_functional_unit_allocation_to_assembly_joint,
 design_functional_unit_allocation_to_fabrication_joint,
 design_functional_unit_allocation_to_reference_functional_unit,
 design_intent_modification,
 design_intent_modification_sequence,
 design_intent_modification_3d_position,
 design_intent_modification_planar_position,
 design_intent_modification_styled_area_representation,
 assembly_connection_zone_position_relationship,
 interconnect_connection_zone_position_relationship,
 design_view_terminal_component_shape_relationship,
 device_2d_position,
 device_3d_position,
 device_terminal_map,
 device_terminal_map_relationship,
 geometric_dimension, --dimensional_characteristic,
 dimensional_characteristic_representation,
 dimension_qualifier,
 dimension_set,
 direct_stratum_component_join_implementation,
 direction,
 direction_element,
 approval,
 document_definition,
-- ee_document_identifier,
 material_identification,
 product,
 product_category,
 product_category_hierarchy,
 product_configuration,
 product_view_definition,
 product_concept,
 product_specific_parameter_value_assignment,
 product_version,
 Requirement_definition_property,
 text_representation_item,
 view_definition_relationship,
 equivalent_functional_terminals_assignment,
 equivalent_functional_unit_definition_assignment,
 evaluated_characteristic,
 externally_defined_curve_font,
 externally_defined_hatch_style,
 externally_defined_tile,
 externally_defined_tile_style,
 external_item_identification,
 fabrication_joint,
 fill_area,
 fill_area_occurrence,
 fill_area_style,
 fill_area_style_hatching,
 fill_area_style_tile,
 fill_area_style_tile_curve_with_style,
 fill_area_style_tile_solid_region,
 fill_area_style_tile_symbol_with_style,
 font_definition,
 frozen_assignment,
 functional_specification,
 functional_terminal_group,
 functional_terminal_group_assignment,
 functional_unit,
 functional_unit_network_node_definition,
 functional_unit_network_terminal_definition_bus_assignment,
 functional_unit_network_terminal_definition_node_assignment,
 functional_unit_terminal,
 functional_unit_terminal_bus_assignment,
 functional_unit_terminal_node_assignment,
 functional_unit_usage_view_terminal_definition,
 functional_usage_view_to_part_terminal_assignment,
 functional_usage_view_to_printed_part_template_terminal_assignment,
 geometric_tolerance,
 geometric_tolerance_qualifier,
 interconnect_module_product_assembly_view_fabrication_joint,
 interconnect_module_stratum_assembly_relationship,
 interface_component_allocation,
 interface_mounted_join,
 internal_stratum_access,
 inter_stratum_extent,
 inter_stratum_join_implementation,
 join_relationship,
 junction_vertex_allocation,
 Laminate_layer,
 layer_connection_point,
 layout_junction,
 layout_spacing_requirement_non_conforming_design_object,
 line_width_class,
 linear_array_placement_group_component_link,
 located_interconnect_module_thickness_requirement,
 marking,
-- material_composition_relationship,
 mating_connector_component,
 mating_connector_placement_relationship,
 mating_connector_termination,
 model_parameter,
 independent_property_relationship, --model_parameter_relationship,
 next_higher_assembly_interface_requirement,
 operational_requirement_occurrence_relationship,
 organization,
 package_external_reference,
 package_terminal_external_reference,
 package_terminal_occurrence,
 packaged_connector_terminal_relationship,
 parameter_assignment,
 parameter_assignment_override,
-- participant_date_and_time_assignment,
 part_connected_terminals_definition,
 part_device,
 part_device_terminal,
 -- part_device_terminal_model_port_assignment,
 --part_feature_model_port_assignment,
 part_terminal_external_reference,
 part_template_or_physical_unit_2d_shape_representation_relationship,
 part_template_or_physical_unit_3d_shape_representation_relationship,
 passage_technology,
 person,
 person_in_organization,
 physical_connectivity_abstraction_map,
 physical_connectivity_definition,
 physical_connectivity_definition_relationship,
 physical_connectivity_element,
 physical_connectivity_make_from_relationship,
 connector_based_interconnect_definition,
 Generic_physical_network,
 physical_node_requirement_to_implementing_component_allocation,
 part_definition_relationship,
 pitch_class,
 placement_group,
 placement_group_area_assignment,
 planned_characteristic,
 effectivity,
 port_variable,
 positional_boundary_and_profile_boundary_member_relationship,
 positional_boundary_definition,
 positional_boundary_member_definition,
 positional_boundary_offset,
 printed_connector_template_terminal_relationship,
 printed_part_template_connected_terminals_definition,
 printed_part_template_material,
 printed_part_template_material_link,
 printed_part_template_terminal_relationship,
 product_version_relationship,
 projected_zone_and_base_relationship,
 projected_zone_height_characteristic,
 promissory_usage,
 reference_composition_path,
 reference_functional_unit_assignment_to_part,
 registered_font,
 requirement_assignment,
 requirement_collection_relationship,
 restraint_condition,
 rule_action,
 rule_complex_clause,
 rule_conclusion_definition,
 rule_function,
 rule_justification,
 rule_premise_definition,
 rule_priority,
 rule_simple_clause,
 runout_tolerance_zone_orienting_relationship,
 runout_zone_orientation,
 security_classification,
 scalar_terminal_definition_link,
 separate_geometric_tolerance_requirement,
 geometric_model,
 shape_dimension_representation,
 shape_element,
 shape_element_locating_relationship,
 shape_element_relationship,
 detailed_geometric_model_element,
 signal,
 signal_property,
 signal_specification,
 simultaneous_geometric_tolerance_requirement,
 solid_curve,
 solid_fill_style,
 specification_allocation,
 stratum_concept_relationship,
 stratum_concept_to_physical_usage_view_assignment,
 stratum_feature_in_stratum_3d_position,
 stratum_feature_in_stratum_planar_position,
 stratum_feature_shape_stratum_average_surface_shape_relationship,
 stratum_feature_shape_stratum_surface_shape_relationship,
 stratum_feature_styled_area_representation,
 stratum_interconnect_module_3d_position,
 stratum_interconnect_module_planar_position,
 --stratum_make_from_relationship,
 stratum_average_surface,
 stratum_surface,
 stratum_surface_in_stratum_3d_position,
 stratum_technology,
 stratum_technology_link,
 structured_text,
 structured_text_id_in_document,
 styled_curve_occurrence,
 assembly_relationship_substitution,
 component_upper_level_identification,
 sub_model_placement_2d,
 sub_model_placement_3d,
 supplied_part_relationship,
 technology,
 terminal_pair_port_equivalence_relationship,
 termination_constraint,
 thermal_isolation_requirement,
 tolerance_zone_and_viewing_plane_orienting_relationship,
 tolerance_zone_definition,
 tolerance_zone_boundary_member_offset,
 tolerance_zone_definition,
 tolerance_zone_form,
 tolerance_zone_per_unit_size_specification,
 topological_junction,
 transmission_line_functional_unit_terminal_allocation,
 true_profile,
 usage_concept_usage_relationship,
 usage_view_connection_zone_terminal_shape_relationship,
 vector,
 viewing_plane_based_orientation,
 viewing_plane_definition,
 work_order,
 work_request,
 organization_or_person_in_organization_assignment
);
  END_TYPE; -- ap210_managed_design_object



------------------------------


---------------------------------------------------

  FUNCTION bag_to_set(
    the_bag : BAG OF GENERIC : intype
  ) : SET OF GENERIC : intype;

    LOCAL
      the_set : SET OF GENERIC : intype := [];
      i       : INTEGER;
    END_LOCAL;

    IF SIZEOF(the_bag) > 0 THEN
      REPEAT i := 1 TO HIINDEX(the_bag);
        the_set := the_set + the_bag[i];
      END_REPEAT;
    END_IF;
    RETURN(the_set);
  END_FUNCTION; -- bag_to_set


END_SCHEMA;
