<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.60 2017/04/28 13:16:17 kevletu Exp $ --><!DOCTYPE module SYSTEM "../../../dtd/module.dtd">

<module name="approval" 
	name.french="Approbation" 
	part="1012" 
	wg.number="9572" 
	wg.number.arm="6022" 
	wg.number.mim="6023" 
	wg.number.supersedes="6021" 
	wg.number.arm.supersedes="5284" 
	wg.number.mim.supersedes="5285" 
	checklist.internal_review="6603" 
	checklist.project_leader="6604" 
	checklist.convener="6605" 
	version="4" 
	status="TS" 
	language="E" 
	publication.year="2017-12" 
	publication.date="2017-12-15" 
	published="y" 
	previous.revision.year="2010" 
	previous.revision.cancelled="NO" 
	revision.complete="YES" 
	rcs.date="$Date: 2017/04/28 13:16:17 $" 
	rcs.revision="$Revision: 1.60 $" 
	development.folder="dvlp" 
	sc4.working_group="12" 
	xmlns:xlink="http://www.w3.org/1999/xlink">
	
	<keywords>
   		 module, approval, approval status
 	</keywords>
	<contacts>
		<projlead ref="ap203ed2.projlead"/>
		<editor ref="ap203ed2.editor"/>
	</contacts>
	<changes>
		<change version="2">
			<arm.changes>
				<arm.additions>
    				<modified.object type="USE_FROM" name="Date_time_assignment_arm"/>
				</arm.additions>
				<arm.deletions>
					<modified.object type="USE_FROM" name="Date_time_arm"/>
				</arm.deletions>
			</arm.changes>
		</change>
		<change version="3">
			<arm.changes>
				<arm.modifications>
    				<modified.object type="ENTITY" name="Approval"/>
    				<modified.object type="ENTITY" name="Approving_person_organization"/>
				</arm.modifications>
			</arm.changes>
		</change>
		<change version="4">
			<arm.changes>
				<description>
					EXPRESS-G diagrams representing Date_time_arm schema has been updated.
				</description>
			</arm.changes>
		</change>
	</changes>

	<purpose>
		<p>
			This part of ISO 10303 specifies an application module for the representation of approval data.
		</p>
	</purpose>

	<inscope>
      <li>characterization of an approval;</li>
      <li>assignment of an approval to product or activity data;</li>
      <li>relationship between two approvals;</li>
      <li>identification of an approval status;</li>
      <li>items within the scope of application module <module_ref linkend="date_time_assignment:1_scope">Date time assignment</module_ref>, ISO/TS 10303-1014;</li>
      <li>items within the scope of application module <module_ref linkend="person_organization:1_scope">Person organization</module_ref>, ISO/TS 10303-1011.</li>
   </inscope>
	<outscope>
		<li>identification of the particular product or activity data that can be approved or disapproved.</li>
	</outscope>
	<normrefs>
		<normref.inc normref="ref10303-41"/>
	</normrefs>
	<arm>
		<uof name="Approval">
			<description>The Approval UoF specifies the data structure for the representation of
approval information assigned to activity or to product data.
			</description>
			<uof.ae entity="Approval"/>
			<uof.ae entity="Approval_assignment"/>
			<uof.ae entity="Approval_relationship"/>
			<uof.ae entity="Approval_status"/>
			<uof.ae entity="Approving_person_organization"/>
		</uof>
		<express-g>
			<imgfile file="armexpg1.xml"/>
			<imgfile file="armexpg2.xml"/>
		</express-g>
	</arm>
	<mapping_table>
		<ae entity="Approval" extensible="NO">
			<aimelt xml:space="preserve">approval</aimelt>
			<source xml:space="preserve">ISO 10303-41</source>
			<aa attribute="status" assertion_to="Approval_status">
				<aimelt xml:space="preserve">approval_status.name</aimelt>
				<source xml:space="preserve">PATH</source>
				<refpath xml:space="preserve">
				  approval.status -&gt;
					approval_status
					approval_status.name
				</refpath>
			</aa>
			<aa attribute="purpose">
				<aimelt xml:space="preserve">approval.level</aimelt>
				<source xml:space="preserve">ISO 10303-41</source>
			</aa>
			
			<aa attribute="planned_date" assertion_to="Calendar_date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='planned'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
					date =&gt;
					calendar_date
				</refpath>
			</aa>
			<aa attribute="planned_date" assertion_to="Date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='planned'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
				</refpath>
			</aa>
			<aa attribute="planned_date" assertion_to="Date_time">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='planned'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date_and_time
				</refpath>
			</aa>
			<aa attribute="planned_date" assertion_to="Ordinal_date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='planned'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
					date =&gt;
					ordinal_date
				</refpath>
			</aa>
			<aa attribute="planned_date" assertion_to="Week_of_year_and_day_date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='planned'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
					date =&gt;
					week_of_year_and_day_date
				</refpath>
			</aa>
			<aa attribute="planned_date" assertion_to="Year_month">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='planned'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
					date =&gt;
					year_month
				</refpath>
			</aa>
			
			
			<aa attribute="actual_date" assertion_to="Calendar_date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='actual'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
					date =&gt;
					calendar_date
				</refpath>
			</aa>
			<aa attribute="actual_date" assertion_to="Date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='actual'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
				</refpath>
			</aa>
			<aa attribute="actual_date" assertion_to="Date_time">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='actual'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date_and_time
				</refpath>
			</aa>
			<aa attribute="actual_date" assertion_to="Ordinal_date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='actual'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
					date =&gt;
					ordinal_date
				</refpath>
			</aa>
			<aa attribute="actual_date" assertion_to="Week_of_year_and_day_date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='actual'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
					date =&gt;
					week_of_year_and_day_date
				</refpath>
			</aa>
			<aa attribute="actual_date" assertion_to="Year_month">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='actual'}
					approval_date_time.date_time -&gt;
					date_time_select
					date_time_select = date
					date =&gt;
					year_month
				</refpath>
			</aa>


		</ae>


		<ae entity="Approval_assignment" extensible="NO">
			<aimelt xml:space="preserve">applied_approval_assignment</aimelt>
			<source xml:space="preserve">ISO 10303-1012</source>
			<refpath xml:space="preserve">
			applied_approval_assignment &lt;= approval_assignment
			</refpath>
			<aa attribute="assigned_approval" assertion_to="Approval">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
			approval_assignment.assigned_approval -&gt; approval
			</refpath>
			</aa>
			<aa attribute="items" assertion_to="approval_item">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
			applied_approval_assignment.items[i] -&gt; approval_item
			</refpath>
			</aa>
			<aa attribute="role">
			<aimelt xml:space="preserve">object_role.name</aimelt>
			<source xml:space="preserve">ISO 10303-41</source>
			<refpath xml:space="preserve">
			applied_approval_assignment &lt;= approval_assignment
			approval_assignment = role_select
			role_select &lt;- role_association.item_with_role
			role_association.role -&gt; object_role
			object_role.name
		  </refpath>
			</aa>
		</ae>
		
		<ae entity="Approval_relationship" extensible="NO">
			<aimelt xml:space="preserve">approval_relationship</aimelt>
			<source xml:space="preserve">ISO 10303-41</source>
			<aa attribute="relation_type">
				<aimelt xml:space="preserve">approval_relationship.name</aimelt>
				<source xml:space="preserve">ISO 10303-41</source>
			</aa>
			<aa attribute="description">
				<aimelt xml:space="preserve">approval_relationship.description</aimelt>
				<source xml:space="preserve">ISO 10303-41</source>
			</aa>
			<aa attribute="relating_approval" assertion_to="Approval">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">
				approval_relationship.relating_approval -&gt; approval
				</refpath>
			</aa>
			<aa attribute="related_approval" assertion_to="Approval">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">
				approval_relationship.related_approval -&gt; approval
				</refpath>
			</aa>
		</ae>
		<ae entity="Approval_status" extensible="NO">
			<aimelt xml:space="preserve">approval_status</aimelt>
			<source xml:space="preserve">ISO 10303-41</source>
			<aa attribute="status_name">
				<aimelt xml:space="preserve">approval_status.name</aimelt>
				<source xml:space="preserve">ISO 10303-41</source>
			</aa>
		</ae>

		<ae entity="Approving_person_organization" extensible="NO">
			<aimelt xml:space="preserve">approval_person_organization</aimelt>
			<source xml:space="preserve">ISO 10303-41</source>
			<aa attribute="person_organization" assertion_to="Organization">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">
			approval_person_organization 
			approval_person_organization.person_organization -&gt; person_organization_select
			person_organization_select = organization

			  </refpath>
      </aa>
      <aa attribute="person_organization" assertion_to="Person_in_organization">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">
			approval_person_organization 
			approval_person_organization.person_organization -&gt; person_organization_select
			person_organization_select = person_and_organization					
			  </refpath>
			</aa>
			<aa attribute="approval_date" assertion_to="Calendar_date">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
date_item = approval_person_organization
date_item &lt;- applied_date_assignment.items[i]
applied_date_assignment &lt;=
date_assignment
{date_assignment.role -&gt;
date_role
date_role.name = 'sign off'}
date_assignment.assigned_date -&gt;
date =&gt;
calendar_date
				</refpath>
      </aa>
			<aa attribute="approval_date" assertion_to="Date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">
date_item = approval_person_organization
date_item &lt;- 
applied_date_assignment.items[i]
applied_date_assignment &lt;=
date_assignment
{date_assignment.role -&gt;
date_role
date_role.name = 'sign off'}
date_assignment.assigned_date -&gt;
date
				</refpath>
			</aa>			
            <aa attribute="approval_date" assertion_to="Date_time">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">
			date_and_time_item = approval_person_organization
date_and_time_item &lt;-
applied_date_and_time_assignment.items[i]
applied_date_and_time_assignment &lt;=
date_and_time_assignment
{date_and_time_assignment.role -&gt;
date_time_role
date_time_role.name = 'sign off'}
date_and_time_assignment.assigned_date_and_time -&gt;
date_and_time
				</refpath>
			</aa>
			<aa attribute="approval_date" assertion_to="Ordinal_date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">
date_item = approval_person_organization
date_item &lt;- applied_date_assignment.items[i]
applied_date_assignment &lt;=
date_assignment
{date_assignment.role -&gt;
date_role
date_role.name = 'sign off'}
date_assignment.assigned_date -&gt;
date =&gt;
ordinal_date
				</refpath>
			</aa>
			<aa attribute="approval_date" assertion_to="Week_of_year_and_day_date">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">
date_item = approval_person_organization
date_item &lt;- applied_date_assignment.items[i]
applied_date_assignment &lt;=
date_assignment
{date_assignment.role -&gt;
date_role
date_role.name = 'sign off'}
date_assignment.assigned_date -&gt;
date =&gt;
week_of_year_and_day_date
				</refpath>
			</aa>
			<aa attribute="approval_date" assertion_to="Year_month">
				<aimelt xml:space="preserve">PATH</aimelt>
				<refpath xml:space="preserve">
date_item = approval_person_organization
date_item &lt;- applied_date_assignment.items[i]
applied_date_assignment &lt;= date_assignment
{date_assignment.role -&gt; date_role
date_role.name = 'sign off'}
date_assignment.assigned_date -&gt;
date =&gt;
year_month
				</refpath>
			</aa>
			
			
			
			<aa attribute="authorized_approval" assertion_to="Approval">
				<aimelt xml:space="preserve">PATH</aimelt>
				<source xml:space="preserve">ISO 10303-41</source>
				<refpath xml:space="preserve">
				approval_person_organization.authorized_approval -&gt; approval 
				</refpath>
			</aa>
			<aa attribute="role">
				<aimelt xml:space="preserve">approval_role.role</aimelt>
				<source xml:space="preserve">ISO 10303-41</source>
	<refpath xml:space="preserve">
	approval_person_organization.role -&gt; approval_role
	approval_role.role
	</refpath>			
			</aa>
		</ae>
		
	</mapping_table>
	<mim>
		<express-g>
			<imgfile file="mimexpg1.xml"/>
				<imgfile file="mimexpg2.xml"/>
		</express-g>
  	<shortnames>
      <shortname name="APAPAS" entity="applied_approval_assignment"/> 
 	  </shortnames>
	</mim>
	  <usage_guide>
   <p>
This module shall be used with other modules that identify the concepts onto which the approval applies.
</p>

<example>
Joe J. User from ISO approved an item for release by tool procurement on 1999-01-04. 
A representation of his approval is:
</example>
      <screen xml-space="preserve">
#1110=APPROVAL_STATUS('approved');
#1111=APPROVAL(#1110,'Release for tool procurement');
#1113=PERSON('joejuser','User','Joe',('J'),$,$);
#1114=ORGANIZATION('iso.org','ISO','International Standardization Organization');
#1115=PERSON_AND_ORGANIZATION(#1113,#1114);
#1118=APPROVAL_ROLE('Quality Insurance');
#1119=APPROVAL_PERSON_ORGANIZATION(#1115,#1111,#1118);
#1120=CALENDAR_DATE(1999,1,4);
#1125=APPROVAL_DATE_TIME(#1120,#1111);
</screen>


 </usage_guide>
</module>
