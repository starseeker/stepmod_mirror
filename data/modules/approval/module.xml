<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.30 2003/05/22 18:16:06 darla Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">

<module 
	name="approval" 
	part="1012" 
	wg.number="1517"
	wg.number.supersedes="1086"
  wg.number.arm="2106"
	wg.number.mim="2107"
	checklist.internal_review="2133"
	checklist.project_leader="2134"
	checklist.convener="2135"	  
	version="1" 
	status="TS" 
	language="E" 
	publication.year="2003" 
	published="y" 
	rcs.date="$Date: 2003/05/22 18:16:06 $" 
	rcs.revision="$Revision: 1.30 $"
  development.folder="dvlp"
>
	<keywords>
   		 module, approval, approval status
 	</keywords>
	<contacts>
		<projlead ref="pdmmodules.projlead"/>
		<editor ref="pdmmodules.editor"/>
	</contacts>
	<purpose>This part of ISO 10303 specifies an application module for the representation of approval data. 
	</purpose>
	<inscope>
		<li>characterization of an approval;</li>
		<li>assignment of an approval to product or activity data;</li>
		<li>relationship between two approvals;</li>
		<li>identification of an approval status.</li>
  </inscope>
	<outscope>
		<li>identification of the particular product or activity data that may be appproved or disapproved;</li>
	</outscope>
	<normrefs>
		<normref.inc normref="ref10303-41.2000"/>
	</normrefs>
	<arm>
		<uof name="Approval">
			<description>The Approval UoF specifies the data structure for the representation of
approval information assigned to activity or to product data.
			</description>
			<uof.ae entity="Approval"/>
			<uof.ae entity="Approval_assignment"/>
			<uof.ae entity="Approval_relationship"/>
			<uof.ae entity="Approval_status"/>
			<uof.ae entity="Approving_person_organization"/>
		</uof>
		<express-g>
			<imgfile file="armexpg1.xml"/>
			<imgfile file="armexpg2.xml"/>
		</express-g>
	</arm>
	<mapping_table>
		<ae entity="Approval">
			<aimelt>approval</aimelt>
			<source>ISO 10303-41</source>
			<aa attribute="status" assertion_to="Approval_status">
				<aimelt>approval_status.name</aimelt>
				<source>PATH</source>
				<refpath>
				  approval.status -&gt;
					approval_status
					approval_status.name
				</refpath>
			</aa>
			<aa attribute="purpose">
				<aimelt>approval.level</aimelt>
				<source>ISO 10303-41</source>
			</aa>
			<aa attribute="planned_date" assertion_to="Date_time">
				<aimelt>PATH</aimelt>
				<refpath>approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='planned'}
					approval_date_time.date_time -&gt;
					date_time_select
					{(date_time_select = date_and_time)
					(date_time_select = date
					date =&gt; date_and_time)}
				</refpath>
			</aa>
			<aa attribute="planned_date" assertion_to="Calendar_date">
				<aimelt>PATH</aimelt>
				<refpath>approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='planned'}
					approval_date_time.date_time -&gt;
					date_time_select
					{(date_time_select = date_and_time)
					(date_time_select = date
					date =&gt; calendar_date)}
				</refpath>
			</aa>

			<aa attribute="actual_date" assertion_to="Date_time">
				<aimelt>PATH</aimelt>
				<refpath>approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='actual'}
					approval_date_time.date_time -&gt;
					date_time_select
					{(date_time_select = date_and_time)
					(date_time_select = date
					date =&gt; date_and_time)}
				</refpath>
			</aa>
			<aa attribute="actual_date" assertion_to="Calendar_date">
				<aimelt>PATH</aimelt>
				<refpath>approval &lt;-
				  approval_date_time.dated_approval
					approval_date_time
					{approval_date_time.role -&gt;
					object_role
					object_role.name='actual'}
					approval_date_time.date_time -&gt;
					date_time_select
					{(date_time_select = date_and_time)
					(date_time_select = date
					date =&gt; calendar_date)}
				</refpath>
			</aa>



		</ae>


		<ae entity="Approval_assignment">
			<aimelt>applied_approval_assignment</aimelt>
			<source>ISO 10303-1012</source>
			<refpath>
			applied_approval_assignment &lt;= approval_assignment
			</refpath>
			<aa attribute="assigned_approval" assertion_to="Approval">
			<aimelt>PATH</aimelt>
			<refpath>
			approval_assignment.assigned_approval -&gt; approval
			</refpath>
			</aa>
			<aa attribute="items" assertion_to="approval_item">
			<aimelt>PATH</aimelt>
			<refpath>
			applied_approval_assignment.items[i] -&gt; approval_item
			</refpath>
			</aa>
			<aa attribute="role">
			<aimelt>object_role.name</aimelt>
			<source>ISO 10303-41</source>
			<refpath>
			applied_approval_assignment &lt;= approval_assignment
			approval_assignment = role_select
			role_select &lt;- role_association.item_with_role
			role_association.role -&gt; object_role
			object_role.name
		  </refpath>
			</aa>
		</ae>
		
		<ae entity="Approval_relationship">
			<aimelt>approval_relationship</aimelt>
			<source>ISO 10303-41</source>
			<aa attribute="relation_type">
				<aimelt>approval_relationship.name</aimelt>
				<source>ISO 10303-41</source>
			</aa>
			<aa attribute="description">
				<aimelt>approval_relationship.description</aimelt>
				<source>ISO 10303-41</source>
			</aa>
			<aa attribute="relating_approval" assertion_to="Approval">
				<aimelt>PATH</aimelt>
				<refpath>
				approval_relationship.relating_approval -&gt; approval
				</refpath>
			</aa>
			<aa attribute="related_approval" assertion_to="Approval">
				<aimelt>PATH</aimelt>
				<refpath>
				approval_relationship.related_approval -&gt; approval
				</refpath>
			</aa>
		</ae>
		<ae entity="Approval_status">
			<aimelt>approval_status</aimelt>
			<source>ISO 10303-41</source>
			<aa attribute="status_name">
				<aimelt>approval_status.name</aimelt>
				<source>ISO 10303-41</source>
			</aa>
		</ae>

		<ae entity="Approving_person_organization">
			<aimelt>approval_person_organization</aimelt>
			<source>ISO 10303-41</source>
			<aa attribute="person_organization" assertion_to="Organization" >
				<aimelt>PATH</aimelt>
				<refpath>
			approval_person_organization 
			approval_person_organization.person_organization -&gt; person_organization_select
			person_organization_select = organization

			  </refpath>
      </aa>
      <aa attribute="person_organization" assertion_to="Person_in_organization" >
				<aimelt>PATH</aimelt>
				<refpath>
			approval_person_organization 
			approval_person_organization.person_organization -&gt; person_organization_select
			person_organization_select = person_and_organization					
			  </refpath>
			</aa>
			<aa attribute="approval_date" assertion_to="Calendar_date">
			<aimelt>PATH</aimelt>
			<refpath>
(date_item = approval_person_organization
date_item &lt;- applied_date_assignment.items[i]
applied_date_assignment &lt;= date_assignment
{date_assignment.role -&gt; date_role
date_role.name = 'sign off'}
{date_assignment.assigned_date -&gt; date
date =&gt; calendar_date})
				</refpath>
      </aa>
<aa attribute="approval_date" assertion_to="Date_time">
				<aimelt>PATH</aimelt>
				<refpath>
			(date_and_time_item = approval_person_organization
date_and_time_item &lt;-
applied_date_and_time_assignment.items[i]
applied_date_and_time_assignment &lt;=
date_and_time_assignment
{date_and_time_assignment.role -&gt;
date_time_role
date_time_role.name = 'sign off'})
				</refpath>
			</aa>
			<aa attribute="authorized_approval" assertion_to="Approval">
				<aimelt>PATH</aimelt>
				<source>ISO 10303-41</source>
				<refpath>
				approval_person_organization.authorized_approval -&gt; approval 
				</refpath>
			</aa>
			<aa attribute="role">
				<aimelt>approval_role.role</aimelt>
				<source>ISO 10303-41</source>
	<refpath>
	approval_person_organization.role -&gt; approval_role
	approval_role.role
	</refpath>			
			</aa>
		</ae>
		
	</mapping_table>
	<mim>
		<express-g>
			<imgfile file="mimexpg1.xml"/>
				<imgfile file="mimexpg2.xml"/>
		</express-g>
  	<shortnames>
      <shortname name="APAPAS" entity="applied_approval_assignment"/> 
 	  </shortnames>
	</mim>
	  <usage_guide>
   <p>
This module shall be used with other modules that identify the concepts onto which the approval applies.
</p>

<example>
Joe J. User from ISO approved an item for release by tool procurement on 1999-01-04. 
A representation of his approval is:
</example><screen>
#1110=APPROVAL_STATUS('approved');
#1111=APPROVAL(#1110,'Release for tool procurement');
#1113=PERSON('joejuser','User','Joe',('J'),$,$);
#1114=ORGANIZATION('iso.org','ISO','International Standardization Organization');
#1115=PERSON_AND_ORGANIZATION(#1113,#1114);
#1118=APPROVAL_ROLE('Quality Insurance');
#1119=APPROVAL_PERSON_ORGANIZATION(#1115,#1111,#1118);
#1120=CALENDAR_DATE(1999,1,4);
#1125=APPROVAL_DATE_TIME(#1120,#1111);
</screen>


 </usage_guide>
</module>
