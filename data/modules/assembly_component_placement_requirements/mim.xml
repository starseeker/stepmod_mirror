<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-03-30T15:55:28" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="assembly_component_placement_requirements_mim schema_instance"/>
   <schema name="ASSEMBLY_COMPONENT_PLACEMENT_REQUIREMENTS_MIM">
      <interface kind="use" schema="PHYSICAL_UNIT_DESIGN_VIEW_MIM"/>
      <interface kind="use" schema="REQUIREMENT_DECOMPOSITION_MIM"/>
      <interface kind="use" schema="EXTENDED_GEOMETRIC_TOLERANCE_MIM"/>
      <interface kind="use" schema="NON_FEATURE_SHAPE_ELEMENT_MIM"/>
      <interface kind="use" schema="ASSEMBLY_MODULE_DESIGN_MIM"/>
      <interface kind="use" schema="ASSEMBLY_MODULE_WITH_INTERCONNECT_COMPONENT_MIM"/>
      <type name="acpr_groupable_item">
         <select extensible="YES" genericentity="YES" basedon="groupable_item" selectitems="shape_aspect requirements_property"/>
      </type>
      <type name="acpr_requirement_assigned_item">
         <select extensible="YES" genericentity="YES" basedon="requirement_assigned_item" selectitems="group_shape_aspect group_product_definition"/>
      </type>
      <entity name="group_product_definition" supertypes="component_definition">
         <where label="wr1" expression=" self . frame_of_reference . name = 'design requirement' "/>
         <where label="wr2" expression=" ( not ( self \ product_definition . description = 'placement group' ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'assembly_component_placement_requirements_mim.' + 'property_definition.definition' ) | 'assembly_component_placement_requirements_mim.' + 'requirements_property' in typeof ( pd ) ) ) &gt;= 1 ) "/>
      </entity>
      <entity name="mounting_restriction_area" supertypes="shape_aspect">
         <where label="wr1" expression=" exists ( self . of_shape . definition \ product_definition . name ) "/>
         <where label="wr2" expression=" ( 'assembly_component_placement_requirements_mim.' + 'physical_unit' in typeof ( self . of_shape . definition ) ) "/>
         <where label="wr3" expression=" self . of_shape . definition . frame_of_reference . name in [ 'physical design' ] "/>
         <where label="wr4" expression=" self . of_shape . definition \ product_definition . name = 'assembly module' "/>
         <where label="wr5" expression=" sizeof ( query ( pd &lt;* usedin ( self , 'assembly_component_placement_requirements_mim.' + 'property_definition.definition' ) | not ( sizeof ( query ( pdr &lt;* usedin ( pd , 'assembly_component_placement_requirements_mim.' + 'property_definition_representation.definition' ) | ( 'assembly_component_placement_requirements_mim.' + 'shape_representation' in typeof ( pdr . used_representation ) ) and ( 'assembly_component_placement_requirements_mim.' + 'csg_2d_shape_representation' in typeof ( pdr . used_representation ) ) ) ) = 1 ) ) ) = 0 "/>
         <where label="wr6" expression=" sizeof ( query ( sar &lt;* usedin ( self , 'assembly_component_placement_requirements_mim.' + 'shape_aspect_relationship.relating_shape_aspect' ) | ( ( sar \ shape_aspect_relationship . name = 'mounting surface' ) and ( sar . related_shape_aspect \ shape_aspect . description = 'interconnect module component surface feature' ) ) ) ) = 1 "/>
         <where label="wr7" expression=" sizeof ( typeof ( self ) - ( typeof ( self \ shape_aspect || self \ mounting_restriction_area ) ) ) = 0 "/>
      </entity>
      <entity name="mounting_restriction_volume" supertypes="shape_aspect">
         <where label="wr1" expression=" ( 'assembly_component_placement_requirements_mim.' + 'physical_unit' in typeof ( self . of_shape . definition ) ) "/>
         <where label="wr2" expression=" self . of_shape . definition . frame_of_reference . name in [ 'physical design' ] "/>
         <where label="wr3" expression=" self . of_shape . definition . name = 'assembly module' "/>
         <where label="wr4" expression=" sizeof ( query ( pd &lt;* usedin ( self , 'assembly_component_placement_requirements_mim.' + 'property_definition.definition' ) | not ( sizeof ( query ( pdr &lt;* usedin ( pd , 'assembly_component_placement_requirements_mim.' + 'property_definition_representation.definition' ) | ( 'assembly_component_placement_requirements_mim.' + 'shape_representation' in typeof ( pdr . used_representation ) ) and ( pdr . used_representation \ representation . context_of_items \ geometric_representation_context . coordinate_space_dimension = 3 ) ) ) = 1 ) ) ) = 0 "/>
         <where label="wr6" expression=" sizeof ( typeof ( self ) - ( typeof ( self \ shape_aspect || self \ mounting_restriction_volume ) ) ) = 0 "/>
      </entity>
      <rule name="component_placement_restriction_assignment_constraint" appliesto="representation">
         <algorithm> local cpra : set of representation := query ( cpra &lt;* representation | cpra . name = 'component placement restriction assignment' ) ; i : integer ; pass1 : boolean := true ; pass2 : boolean := true ; mra : boolean := false ; mrv : boolean := false ; end_local ; repeat i := 1 to sizeof ( cpra ) ; if not ( pass1 ) then escape ; end_if ; if not ( ( sizeof ( query ( rr &lt;* usedin ( cpra [ i ] , 'assembly_component_placement_requirements_mim.' + 'representation_relationship.rep_1' ) | ( rr . name = 'component placement restriction assignment area' ) and ( sizeof ( query ( pdr &lt;* usedin ( rr . rep_2 , 'assembly_component_placement_requirements_mim.' + 'property_definition_representation.used_representation' ) | ( 'assembly_component_placement_requirements_mim.' + 'mounting_restriction_area' in typeof ( pdr . definition . definition ) ) ) ) = 1 ) ) ) &lt;= 1 ) or ( sizeof ( query ( rr &lt;* usedin ( cpra [ i ] , 'assembly_component_placement_requirements_mim.' + 'representation_relationship.rep_1' ) | ( rr . name = 'component placement restriction assignment volume' ) and ( sizeof ( query ( pdr &lt;* usedin ( rr . rep_2 , 'assembly_component_placement_requirements_mim.' + 'property_definition_representation.used_representation' ) | ( 'assembly_component_placement_requirements_mim.' + 'mounting_restriction_volume' in typeof ( pdr . definition . definition ) ) ) ) = 1 ) ) ) &lt;= 1 ) ) then pass1 := false ; end_if ; mra := ( sizeof ( query ( rr &lt;* usedin ( cpra [ i ] , 'assembly_component_placement_requirements_mim.' + 'representation_relationship.rep_1' ) | ( rr . name = 'component placement restriction assignment area' ) and ( sizeof ( query ( pdr &lt;* usedin ( rr . rep_2 , 'assembly_component_placement_requirements_mim.' + 'property_definition_representation.used_representation' ) | ( 'assembly_component_placement_requirements_mim.' + 'mounting_restriction_area' in typeof ( pdr . definition . definition ) ) ) ) = 1 ) ) ) = 1 ) ; mrv := ( sizeof ( query ( rr &lt;* usedin ( cpra [ i ] , 'assembly_component_placement_requirements_mim.' + 'representation_relationship.rep_1' ) | ( rr . name = 'component placement restriction assignment volume' ) and ( sizeof ( query ( pdr &lt;* usedin ( rr . rep_2 , 'assembly_component_placement_requirements_mim.' + 'property_definition_representation.used_representation' ) | ( 'assembly_component_placement_requirements_mim.' + 'mounting_restriction_volume' in typeof ( pdr . definition . definition ) ) ) ) = 1 ) ) ) = 1 ) ; if not ( mra or mrv ) then pass1 := false ; end_if ; end_repeat ; repeat i := 1 to sizeof ( cpra ) ; if not ( pass1 ) then escape ; end_if ; if not ( pass2 ) then escape ; end_if ; if not ( sizeof ( query ( pdr &lt;* usedin ( cpra [ i ] , 'assembly_component_placement_requirements_mim.' + 'property_definition_representation.used_representation' ) | ( 'assembly_component_placement_requirements_mim.' + 'grouped_requirements_property' in typeof ( pdr . definition ) ) and ( pdr . definition \ group . name = 'item restricted requirements property' ) ) ) = 1 ) then pass2 := false ; end_if ; end_repeat ; </algorithm>
         <where label="wr1" expression=" pass1 "/>
         <where label="wr2" expression=" pass2 "/>
      </rule>
      <rule name="placement_group_area_assignment_constraint" appliesto="shape_aspect_relationship">
         <where label="wr1" expression=" sizeof ( query ( sar &lt;* shape_aspect_relationship | ( sar \ shape_aspect_relationship . name = 'area impacted group' ) and not ( 'assembly_component_placement_requirements_mim.' + 'mounting_restriction_area' in typeof ( sar . related_shape_aspect ) ) ) ) = 0 "/>
         <where label="wr2" expression=" sizeof ( query ( sar &lt;* shape_aspect_relationship | ( sar \ shape_aspect_relationship . name = 'area impacted group' ) and not ( ( 'assembly_component_placement_requirements_mim.' + 'group_shape_aspect' in typeof ( sar . relating_shape_aspect ) ) or ( ( 'assembly_component_placement_requirements_mim.' + 'shape_aspect' in typeof ( sar . relating_shape_aspect ) ) and ( 'assembly_component_placement_requirements_mim.' + 'group_product_definition' in typeof ( sar . relating_shape_aspect . of_shape . definition ) ) and ( 'assembly_component_placement_requirements_mim.' + 'product_definition_context' in typeof ( sar . relating_shape_aspect . of_shape . definition . frame_of_reference ) ) and ( sar . relating_shape_aspect . of_shape . definition . frame_of_reference . name = 'design requirement' ) ) ) ) ) = 0 "/>
      </rule>
      <rule name="placement_group_volume_assignment_constraint" appliesto="shape_aspect_relationship">
         <where label="wr1" expression=" sizeof ( query ( sar &lt;* shape_aspect_relationship | ( sar \ shape_aspect_relationship . name = 'volume impacted group' ) and not ( 'assembly_component_placement_requirements_mim.' + 'mounting_restriction_volume' in typeof ( sar . related_shape_aspect ) ) ) ) = 0 "/>
         <where label="wr2" expression=" sizeof ( query ( sar &lt;* shape_aspect_relationship | ( sar \ shape_aspect_relationship . name = 'volume impacted group' ) and not ( ( 'assembly_component_placement_requirements_mim.' + 'group_shape_aspect' in typeof ( sar . relating_shape_aspect ) ) or ( ( 'assembly_component_placement_requirements_mim.' + 'shape_aspect' in typeof ( sar . relating_shape_aspect ) ) and ( 'assembly_component_placement_requirements_mim.' + 'group_product_definition' in typeof ( sar . relating_shape_aspect . of_shape . definition ) ) and ( 'assembly_component_placement_requirements_mim.' + 'product_definition_context' in typeof ( sar . relating_shape_aspect . of_shape . definition . frame_of_reference ) ) and ( sar . relating_shape_aspect . of_shape . definition . frame_of_reference . name = 'design requirement' ) ) ) ) ) = 0 "/>
      </rule>
   </schema>
</express>
