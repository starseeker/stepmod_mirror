<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-02-11T13:32:39" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="assembly_module_usage_view_mim schema_instance"/>
   <schema name="Assembly_module_usage_view_mim">
      <interface kind="use" schema="Extended_geometric_tolerance_mim"/>
      <interface kind="use" schema="Functional_assignment_to_part_mim"/>
      <interface kind="use" schema="Network_functional_usage_view_mim"/>
      <interface kind="use" schema="Packaged_connector_model_mim"/>
      <entity name="assembly_definition" supertypes="physical_unit">
         <where label="WR1" expression="EXISTS(SELF\product_definition.name)"/>
         <where label="WR2" expression="NOT EXISTS(SELF\product_definition.name) OR &#10;        (SELF\product_definition.name = 'assembly module')"/>
         <where label="WR3" expression="(NOT (SELF.frame_of_reference.name = 'physical design')) OR&#10;       (SIZEOF (QUERY (du &lt;* QUERY (pdr &lt;* USEDIN (SELF,&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_DEFINITION_RELATIONSHIP.' +&#10;       'RELATED_PRODUCT_DEFINITION') |&#10;       pdr\product_definition_relationship.name = 'design usage') |&#10;       (SIZEOF (['ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'ASSEMBLY_DEFINITION', &#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'EXTERNALLY_DEFINED_ASSEMBLY_DEFINITION', &#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'LIBRARY_DEFINED_ASSEMBLY_DEFINITION'] *&#10;       TYPEOF (du.relating_product_definition)) = 1) AND&#10;       (du.relating_product_definition.frame_of_reference.name = &#10;       'physical design usage') AND&#10;       (du.relating_product_definition\product_definition.name = 'assembly module')&#10;        )) = 1)"/>
         <where label="WR4" expression="(NOT (SELF.frame_of_reference.name = 'physical design usage')) OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'ASSEMBLY_MODULE_TERMINAL' IN&#10;       TYPEOF (sa)) AND&#10;       (sa\shape_aspect.description = 'pca terminal'))) &gt;= 2))) = 0)"/>
      </entity>
      <entity name="assembly_module_interface_terminal" supertypes="assembly_module_terminal"/>
      <entity name="assembly_module_terminal" supertypes="shape_aspect" super.expression="assembly_module_interface_terminal">
         <where label="WR1" expression="EXISTS(SELF.of_shape.definition\product_definition.name)"/>
         <where label="WR2" expression="NOT EXISTS(SELF.of_shape.definition\product_definition.name) OR&#10;      (SELF.of_shape.definition\product_definition.name = 'assembly module')"/>
         <where label="WR3" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (pdr &lt;* USEDIN (SELF,&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'SHAPE_REPRESENTATION' IN&#10;       TYPEOF (pdr.used_representation))) &gt;= 1))) = 0"/>
         <where label="WR4" expression="SIZEOF (QUERY (mct &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'member connected terminal') |&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'PART_CONNECTED_TERMINALS_DEFINITION'&#10;       IN TYPEOF (mct.relating_shape_aspect))) &lt;= 1"/>
         <where label="WR5" expression="(NOT (SELF\shape_aspect.description = 'pca terminal')) OR&#10;       ((SIZEOF(TYPEOF (SELF.of_shape.definition) *&#10;       ['ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'ASSEMBLY_DEFINITION',&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'EXTERNALLY_DEFINED_ASSEMBLY_DEFINITION',&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'LIBRARY_DEFINED_ASSEMBLY_DEFINITION']) &gt;=1)&#10;       AND (SELF.of_shape.definition\product_definition.&#10;       frame_of_reference.name = 'physical design usage'))"/>
         <where label="WR6" expression="SIZEOF (QUERY (sar &lt;* USEDIN (SELF,&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;       sar.related_shape_aspect\shape_aspect.description = 'connection zone')) = 1"/>
         <where label="WR7" expression="SIZEOF (QUERY (sar &lt;* USEDIN (SELF,&#10;       'ASSEMBLY_MODULE_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;       sar.related_shape_aspect\shape_aspect.description = 'interface terminal')) &lt;= 1"/>
      </entity>
   </schema>
</express>
