(*
   $Id: mim.exp,v 1.3 2004/12/22 06:33:09 liutkus Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Assembly physical interface requirement - EXPRESS MIM
*)


SCHEMA Assembly_physical_interface_requirement_mim;
	USE FROM Layered_3d_shape_mim;
	USE FROM Product_view_definition_mim;
	USE FROM Product_structure_schema(specified_higher_usage_occurrence);

RULE mating_connector_placement_relationship_constraint FOR
( shape_representation );
WHERE
  WR1: SIZEOF(QUERY(sr <* shape_representation |
       (sr\representation.name = 'mating connector placement')
       AND (SIZEOF(QUERY(p <* sr.items |
       ('ASSEMBLY_PHYSICAL_INTERFACE_REQUIREMENT_MIM.'
        + 'PLACEMENT' IN TYPEOF(p))
       AND (p\representation_item.name = 'connector placement'))) = 0))) = 0;
END_RULE; -- mating_connector_placement_relationship_constraint

RULE next_higher_assembly_interface_requirement_constraint FOR 
( specified_higher_usage_occurrence );
WHERE
  WR1: SIZEOF(QUERY(shuo <* specified_higher_usage_occurrence |
       NOT(SIZEOF(QUERY(pd <* USEDIN(shuo,
       'ASSEMBLY_PHYSICAL_INTERFACE_REQUIREMENT_MIM.'
       + 'PROPERTY_DEFINITION.DEFINITION') |
       NOT(SIZEOF(QUERY(pdr <* USEDIN(pd,
       'ASSEMBLY_PHYSICAL_INTERFACE_REQUIREMENT_MIM.'
       + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |
        ('ASSEMBLY_PHYSICAL_INTERFACE_REQUIREMENT_MIM.'
       + 'SHAPE_REPRESENTATION' IN TYPEOF(pdr.used_representation))
       AND (pdr.used_representation\representation.name = '3d bound volume shape'))) = 0)
       )) = 0)
       )) = 0;
END_RULE; -- next_higher_assembly_interface_requirement_constraint
	
END_SCHEMA;


