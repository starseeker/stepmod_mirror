<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-04-26T19:01:06" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="assembly_technology_mim schema_instance"/>
   <schema name="Assembly_technology_mim">
      <interface kind="use" schema="Assembly_module_design_mim"/>
      <interface kind="use" schema="Component_grouping_mim"/>
      <interface kind="use" schema="Product_identification_extension_mim"/>
      <interface kind="reference" schema="Physical_unit_usage_view_mim">
         <interfaced.item name="is_assembly_module_design"/>
      </interface>
      <interface kind="reference" schema="product_property_definition_schema">
         <interfaced.item name="acyclic_shape_aspect_relationship"/>
      </interface>
      <type name="at_external_identification_item">
         <select extensible="YES" genericentity="YES" basedon="external_identification_item" selectitems="assembly_bond_definition"/>
      </type>
      <type name="at_requirement_assigned_item">
         <select extensible="YES" genericentity="YES" basedon="requirement_assigned_item" selectitems="assembly_joint"/>
      </type>
      <entity name="assembly_bond_definition" supertypes="shape_aspect">
         <unique label="UR1">
            <unique.attribute entity-ref="assembly_bond_definition" attribute="name"/>
         </unique>
         <where label="WR1" expression=" SIZEOF ( USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'MATERIAL_DESIGNATION.DEFINITIONS' ) ) = 1 "/>
         <where label="WR2" expression=" SIZEOF ( QUERY ( aga &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'APPLIED_GROUP_ASSIGNMENT.ITEMS' ) | 'ASSEMBLY_TECHNOLOGY_MIM.' + 'BOND_CATEGORY' IN TYPEOF ( aga . assigned_group ) ) ) = 1 "/>
         <where label="WR3" expression=" SIZEOF ( QUERY ( sar &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'bonded feature 1' ) ) = 1 "/>
         <where label="WR4" expression=" SIZEOF ( QUERY ( sar &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'bonded feature 2' ) ) = 1 "/>
         <where label="WR5" expression=" ( ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'EXTERNALLY_DEFINED_PRODUCT_DEFINITION' IN TYPEOF ( SELF . of_shape . definition ) ) AND ( SIZEOF ( QUERY ( prpc &lt;* USEDIN ( SELF . of_shape . definition . formation . of_product , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'PRODUCT_RELATED_PRODUCT_CATEGORY.' + 'PRODUCTS' ) | prpc \ product_category . name = 'technology specific model' ) ) &gt;= 1 ) ) "/>
         <where label="WR6" expression=" ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'EXTERNALLY_DEFINED_PRODUCT_DEFINITION' IN TYPEOF ( SELF . of_shape . definition ) ) AND ( SELF . of_shape . definition \ product_definition . name = 'assembly bond model' ) "/>
      </entity>
      <entity name="assembly_joint" supertypes="shape_aspect_relationship shape_aspect">
         <where label="WR1" expression=" ( ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'COMPONENT_TERMINAL' IN TYPEOF ( SELF . relating_shape_aspect ) ) AND ( SELF . relating_shape_aspect \ shape_aspect . description IN [ 'assembly module component terminal' , 'bare die component terminal' , 'interconnect component join terminal' , 'interconnect module component terminal' , 'package terminal occurrence' , 'packaged component join terminal' ] ) ) OR ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE' IN TYPEOF ( SELF . relating_shape_aspect ) ) OR ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'PHYSICAL_COMPONENT_INTERFACE_TERMINAL' IN TYPEOF ( SELF . relating_shape_aspect ) ) OR ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'COMPONENT_MOUNTING_FEATURE' IN TYPEOF ( SELF . relating_shape_aspect ) ) "/>
         <where label="WR2" expression=" ( ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'COMPONENT_TERMINAL' IN TYPEOF ( SELF . related_shape_aspect ) ) AND ( SELF . related_shape_aspect \ shape_aspect . description IN [ 'assembly module component terminal' , 'bare die component terminal' , 'interconnect component join terminal' , 'interconnect module component terminal' , 'package terminal occurrence' , 'packaged component join terminal' ] ) ) OR ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'INTERCONNECT_MODULE_COMPONENT_SURFACE_FEATURE' IN TYPEOF ( SELF . relating_shape_aspect ) ) OR ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'PHYSICAL_COMPONENT_INTERFACE_TERMINAL' IN TYPEOF ( SELF . related_shape_aspect ) ) OR ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'COMPONENT_MOUNTING_FEATURE' IN TYPEOF ( SELF . relating_shape_aspect ) ) "/>
         <where label="WR3" expression=" ( NOT ( SELF \ shape_aspect_relationship . name = 'assembled with bonding' ) ) OR ( SIZEOF ( QUERY ( ddu &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'default definition usage' ) | 'ASSEMBLY_TECHNOLOGY_MIM.' + 'ASSEMBLY_BOND_DEFINITION' IN TYPEOF ( ddu . relating_shape_aspect ) ) ) = 1 ) "/>
         <where label="WR4" expression=" ( NOT ( SELF \ shape_aspect_relationship . name = 'assembled with bonding' ) ) OR ( SIZEOF ( QUERY ( pd &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) | SIZEOF ( QUERY ( pdr &lt;* USEDIN ( pd , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) | ( pdr . used_representation \ representation . name = 'bond assembly position' ) AND ( SIZEOF ( QUERY ( it &lt;* pdr . used_representation . items | ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'MAPPED_ITEM' IN TYPEOF ( it ) ) AND ( it \ representation_item . name = 'assembly position' ) ) ) = 1 ) ) ) = 1 ) ) &lt;= 1 ) "/>
         <where label="WR5" expression=" ( NOT ( SELF \ shape_aspect_relationship . name = 'assembled with fasteners' ) ) OR ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'ASSEMBLY_GROUP_COMPONENT_DEFINITION' IN TYPEOF ( SELF . of_shape . definition ) ) "/>
         <where label="WR6" expression=" ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'ASSEMBLY_GROUP_COMPONENT_DEFINITION' IN TYPEOF ( SELF . of_shape . definition ) ) OR is_assembly_module_design ( SELF . of_shape . definition ) "/>
         <where label="WR7" expression=" ( NOT ( SELF \ shape_aspect_relationship . name = 'assembled with bonding' ) ) OR ( SIZEOF ( QUERY ( ddu &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'default definition usage' ) | ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'ASSEMBLY_BOND_DEFINITION' IN TYPEOF ( ddu . relating_shape_aspect ) ) AND ( SIZEOF ( QUERY ( sar &lt;* USEDIN ( ddu . relating_shape_aspect , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'bonded feature 1' ) ) = 1 ) AND ( SIZEOF ( QUERY ( sar &lt;* USEDIN ( ddu . relating_shape_aspect , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'bonded feature 1' ) ) = 1 ) ) ) = 1 ) "/>
         <where label="WR8" expression=" acyclic_shape_aspect_relationship ( SELF , [ SELF \ shape_aspect_relationship . related_shape_aspect ] , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'ASSEMBLY_JOINT' ) "/>
      </entity>
      <entity name="component_mating_constraint_condition" supertypes="shape_aspect">
         <unique label="UR1">
            <unique.attribute entity-ref="component_mating_constraint_condition" attribute="name"/>
            <unique.attribute entity-ref="component_mating_constraint_condition" attribute="of_shape"/>
         </unique>
      </entity>
      <entity name="connection_zone_based_assembly_joint" supertypes="assembly_joint">
         <where label="WR1" expression=" SIZEOF ( QUERY ( sar &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'zone 1' ) ) = 1 "/>
         <where label="WR2" expression=" SIZEOF ( QUERY ( sar &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'zone 2' ) ) = 1 "/>
         <where label="WR3" expression=" SIZEOF ( QUERY ( sar &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar . relating_shape_aspect \ shape_aspect . description = 'connection zone' ) ) = 2 "/>
      </entity>
      <entity name="reference_packaged_part_assembly_implementation" supertypes="physical_unit">
         <where label="WR1" expression=" ( SIZEOF ( QUERY ( prpc &lt;* USEDIN ( SELF . formation . of_product , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS' ) | prpc \ product_category . name = 'template model' ) ) &gt;= 1 ) AND ( SELF \ product_definition . name = 'assembly module' ) "/>
         <where label="WR2" expression=" ( NOT ( SELF . frame_of_reference . name = 'physical design' ) ) OR ( SIZEOF ( QUERY ( du &lt;* QUERY ( pdr &lt;* USEDIN ( SELF , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'PRODUCT_DEFINITION_RELATIONSHIP.' + 'RELATED_PRODUCT_DEFINITION' ) | pdr \ product_definition_relationship . name = 'design usage' ) | ( SIZEOF ( [ 'ASSEMBLY_TECHNOLOGY_MIM.' + 'ASSEMBLY_DEFINITION' , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'EXTERNALLY_DEFINED_ASSEMBLY_DEFINITION' , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'LIBRARY_DEFINED_ASSEMBLY_DEFINITION' ] * TYPEOF ( du . relating_product_definition ) ) = 1 ) AND ( du . relating_product_definition . frame_of_reference . name = 'physical design usage' ) AND ( du . relating_product_definition \ product_definition . name = 'assembly module' ) AND ( SIZEOF ( QUERY ( prpc &lt;* USEDIN ( du . relating_product_definition . formation . of_product , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS' ) | prpc \ product_category . name = 'template model' ) ) &gt;= 1 ) ) ) = 1 ) "/>
      </entity>
      <rule name="default_assembly_bond_shape_constraint" appliesto="shape_representation">
         <where label="WR1" expression=" SIZEOF ( QUERY ( sr &lt;* shape_representation | ( sr \ representation . name = 'default assembly bond shape' ) AND NOT ( SIZEOF ( QUERY ( pdr &lt;* USEDIN ( sr , 'ASSEMBLY_TECHNOLOGY_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) | ( 'ASSEMBLY_TECHNOLOGY_MIM.' + 'SHAPE_ASPECT' IN TYPEOF ( pdr . definition . definition ) ) ) ) = 1 ) ) ) = 0 "/>
      </rule>
   </schema>
</express>
