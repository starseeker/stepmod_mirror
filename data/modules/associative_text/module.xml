<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.57 2013/10/09 17:28:34 thomasrthurman Exp $ -->
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
<!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      --><!DOCTYPE module SYSTEM "../../../dtd/module.dtd">

<module name="associative_text" 
	name.french="Texte associÃ©" 
	part="1132" 
	version="4" 
	wg.number="7384" 
	wg.number.arm="7385" 
	wg.number.mim="7386" 
	wg.number.supersedes="6862" 
	wg.number.arm.supersedes="6863" 
	wg.number.mim.supersedes="6864"  
	status="TS" 
	language="E" 
   publication.year="2013"
   publication.date="2013-08"
	published="y" 
	previous.revision.year="2010-03" previous.revision.cancelled="NO" 
	rcs.date="$Date: 2013/10/09 17:28:34 $" rcs.revision="$Revision: 1.57 $" 
	development.folder="dvlp" sc4.working_group="12" xmlns:xlink="http://www.w3.org/1999/xlink">

 <keywords>
    module, text association, associative text, model annotation
 </keywords>

 <!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
 <contacts>
   <projlead ref="ap242.projlead"/>
   <editor ref="ap242.editor"/>
 </contacts>

 <!-- Change history -->
 <changes>
   <change version="2">
     <arm.changes>
       <arm.additions>
         <modified.object type="ENTITY" name="Annotation_text"/>
         <modified.object type="ENTITY" name="Defined_character_glyph"/>
         <modified.object type="ENTITY" name="Dimension_text"/>
         <modified.object type="ENTITY" name="Text_style"/>
         <modified.object type="ENTITY" name="Text_string_representation"/>
         <modified.object type="TYPE" name="text_string_representation_item_select"/>
       </arm.additions>
       <arm.modifications>
         <modified.object type="ENTITY" name="Annotation_curve"/>
         <modified.object type="ENTITY" name="Annotation_element"/>
         <modified.object type="ENTITY" name="Text"/>
         <modified.object type="TYPE" name="text_or_composite_text"/>
       </arm.modifications>
       <arm.deletions>
         <modified.object type="USE_FROM" name="Construction_geometry_arm"/>
         <modified.object type="USE_FROM" name="Elemental_geometric_shape_arm"/>
         <modified.object type="USE_FROM" name="Shape_property_assignment_arm"/>
         <modified.object type="ENTITY" name="Item_text_association"/>
         <modified.object type="ENTITY" name="Leader"/>
         <modified.object type="ENTITY" name="Text_with_leader"/>
       </arm.deletions>
     </arm.changes>
   </change>

   <change version="3">
     <arm.changes>
       <arm.modifications>
         <modified.object type="ENTITY" name="Annotation_element"/>
         <modified.object type="ENTITY" name="Dimension_text"/>
       </arm.modifications>
       <arm.deletions>
         <modified.object type="ENTITY" name="Text"/>
       </arm.deletions>
     </arm.changes>
   </change>
   
   <change version="4">
		<arm.changes>
			<arm.additions>
				<modified.object type="TYPE" name="at_composite_text_element_select"/>
			</arm.additions>
			<arm.modifications>
				<modified.object type="TYPE" name="text_string_representation_item_select"/>
			</arm.modifications>
			<arm.deletions>
				<modified.object type="ENTITY" name="Defined_character_glyph" moved-to-module="Text_appearance"/>
			</arm.deletions>
		</arm.changes>
		<mim.changes>
			<mim.modifications>
				<modified.object type="USE_FROM" name="presentation_definition_schema"/>
				<modified.object type="USE_FROM" name="presentation_appearance_schema"/>
			</mim.modifications>
		</mim.changes>
   </change>
 </changes>

 <!-- Introduction -->
 <purpose>
   <p>
     This part of ISO 10303 specifies an application module for the
     representation of annotation texts that are associated with shape elements.
   </p>
 </purpose>

 <!-- Items in scope -->
 <inscope>
      <li>definition of a leader curve;</li>
      <li>definition of annotation text;</li>
      <li>association of presented annotation text with a shape element it documents;</li>
      <li>items within the scope of application module <module_ref linkend="appearance_assignment:1_scope">Appearance assignment</module_ref>, ISO/TS 10303-1001;</li>
      <li>items within the scope of application module <module_ref linkend="colour:1_scope">Colour</module_ref>, ISO/TS 10303-1002;</li>
      <li>items within the scope of application module <module_ref linkend="text_appearance:1_scope">Text appearance</module_ref>, ISO/TS 10303-1136.</li>
   </inscope>

 <!-- Items out of scope -->
 <outscope>
 <li>definition of drawings or screen representations;</li>
 <li>definition of the context where the annotation texts and shape elements are presented;</li>
   <li>characterization of the text font.</li>
 </outscope>

 <normrefs>
  <normref.inc normref="ref10303-46"/>
	<normref.inc normref="ref10303-101"/>
  <normref.inc normref="ref10303-504"/>
  <normref.inc normref="ref10303-506"/>
  <normref.inc normref="ref10303-520"/>

 </normrefs>
 <!--


 <definition/>

 <abbreviations/>
-->

 <!-- Clause 4 ARM  -->
 <arm>
   <!-- Short form EXPRESS-G -->
   <express-g>
     <imgfile file="armexpg1.xml"/>
      <imgfile file="armexpg2.xml"/>
   </express-g>
 </arm>


 <!-- Clause 5.1 Mapping specification -->
<mapping_table> 
	<ae entity="Composite_presentable_text" original_module="text_appearance" extensible="NO"> 
		<aa attribute="collected_text" assertion_to="Annotation_text"> 
			<refpath_extend extended_select="composite_text_element_select" xml:space="preserve">
					text_or_character = (/MAPPING_OF(Annotation_text)/)
				</refpath_extend>
		</aa>  
	</ae>
	
	<ae entity="Annotation_text" extensible="NO">
   	<aimelt xml:space="preserve">[annotation_text][geometric_representation_item]</aimelt>
     		<source xml:space="preserve">ISO 10303-46 ISO 10303-42</source> 
			<aa attribute="replicated_model" assertion_to="Text_string_representation">
     			<aimelt xml:space="preserve">PATH</aimelt>
		 		<refpath xml:space="preserve">annotation_text &lt;=
		 			mapped_item
		 			mapped_item.mapping_source -&gt; representation_map
		 			representation_map.mapped_representation -&gt; representation
		 			representation =&gt;
		 			text_string_representation
     			</refpath>      
			</aa>	 
			<aa attribute="source" assertion_to="Axis_placement">
     			<aimelt xml:space="preserve">PATH</aimelt>
		 		<refpath xml:space="preserve">annotation_text &lt;=
		 			mapped_item
		 			mapped_item.mapping_source -&gt; representation_map
		 			representation_map.mapping_origin -&gt; representation_item
		 			representation_item =&gt;
					geometric_representation_item =&gt;
					placement
     			</refpath>      
			</aa>	 
			<aa attribute="target" assertion_to="Axis_placement">
     			<aimelt xml:space="preserve">PATH</aimelt>
		 		<refpath xml:space="preserve">annotation_text &lt;=
		 			mapped_item
		 			mapped_item.mapping_source -&gt; representation_map
		 			representation_map.mapping_origin -&gt; representation_item
		 			representation_item =&gt;
					geometric_representation_item =&gt;
					placement
     			</refpath>      
			</aa>	 
	</ae>
	
	<!--  ++  ANNOTATION_CURVE  ++ -->
	<ae entity="Annotation_curve" extensible="NO">
		<aimelt xml:space="preserve">annotation_curve_occurrence</aimelt>
		<source xml:space="preserve">10303-504</source>
		<aa attribute="annotation_curve_type">
			<aimelt xml:space="preserve">curve_style.name</aimelt>
			<refpath xml:space="preserve">annotation_curve_occurrence &lt;=
				annotation_occurrence &lt;=
				styled_item 
				styled_item.styles[i] -&gt;
				presentation_style_assignment
				presentation_style_assignment.styles[i] -&gt;
				presentation_style_select
				presentation_style_select = curve_style 
				curve_style
				curve_style.name
			</refpath>
		</aa>
 	<aa attribute="element" assertion_to="Curve">
     <aimelt xml:space="preserve">PATH</aimelt>   
		 <refpath xml:space="preserve">annotation_curve_occurrence &lt;=
				annotation_occurrence &lt;=
				styled_item
				styled_item.item -&gt; 
				representation_item =&gt; 
				geometric_representation_item =&gt;
				curve
		 </refpath>
	</aa>
		
</ae> <!--  ++  ANNOTATION_ELEMENT  ++ -->
	<ae entity="Annotation_element" extensible="NO">
		<aimelt xml:space="preserve">[annotation_occurrence][geometric_representation_item]</aimelt>
		<source xml:space="preserve">10303-46 10303-42</source>
      </ae>
      
<ae entity="Appearance_assignment" original_module= "appearance_assignment" > 

<aa attribute="appearance_components" assertion_to="Text_style"> 
<aimelt>PATH</aimelt> 
<refpath>presentation_style_assignment
presentation_style_assignment.styles[i] -> 
presentation_style_select = text_style
text_style
</refpath> 
</aa> 

</ae>      

 	<!--  ++  DIMENSION_TEXT  ++ -->
	<ae entity="Dimension_text" extensible="NO">
		<aimelt xml:space="preserve">annotation_text_occurrence</aimelt>
		<source xml:space="preserve">ISO 10303-504</source>
		<refpath xml:space="preserve">
			annotation_text_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item &lt;=
			representation_item
			(representation_item.name = 'dimension value')
			(representation_item.name = 'tolerance value')
			(representation_item.name = 'unit text')
			(representation_item.name = 'prefix text')
			(representation_item.name = 'suffix text')
		</refpath>
	</ae>		


	<ae entity="Annotation_text_occurrence" extensible="NO">
		<aimelt xml:space="preserve">(annotation_text_occurrence)
		(/SUBTYPE(Text_with_leader)/)</aimelt>
		<source xml:space="preserve">ISO 10303-504</source>
		<refpath xml:space="preserve">
			annotation_text_occurrence &lt;= annotation_occurrence
			annotation_occurrence &lt;= styled_item
		</refpath>
		<aa attribute="text" assertion_to="Annotation_text">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				annotation_text_occurrence &lt;= annotation_occurrence
				annotation_occurrence &lt;= styled_item
				styled_item.item -&gt; representation_item
				representation_item =&gt;
				mapped_item =&gt;
				annotation_text
			</refpath>
		</aa>
		<aa attribute="text" assertion_to="Composite_presentable_text">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				annotation_text_occurrence &lt;= annotation_occurrence
				annotation_occurrence &lt;= styled_item
				styled_item.item -&gt; representation_item
				representation_item =&gt; geometric_representation_item 
				geometric_representation_item =&gt; composite_text
			</refpath>
		</aa>
		<aa attribute="text" assertion_to="Defined_character_glyph">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				annotation_text_occurrence &lt;= annotation_occurrence
				annotation_occurrence &lt;= styled_item
				styled_item.item -&gt; representation_item
				representation_item =&gt; geometric_representation_item 
				geometric_representation_item =&gt; defined_character_glyph
			</refpath>
		</aa>
		<aa attribute="text" assertion_to="Text_literal">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				annotation_text_occurrence &lt;= annotation_occurrence
				annotation_occurrence &lt;= styled_item
				styled_item.item -&gt; representation_item
				representation_item =&gt; geometric_representation_item 
				geometric_representation_item =&gt; text_literal
			</refpath>
		</aa>
		<aa attribute="text" assertion_to="text_or_composite_text">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				annotation_text_occurrence &lt;= annotation_occurrence
				annotation_occurrence &lt;= styled_item
				styled_item.item -&gt; annotation_text_occurrence_item
			</refpath>
		</aa>
	</ae>

	<ae entity="Text_string_representation" extensible="NO">
		<aimelt xml:space="preserve">text_string_representation</aimelt>
		<source xml:space="preserve">ISO 10303-46</source>
		<refpath xml:space="preserve">
			text_string_representation &lt;= representation
		</refpath>
		<aa attribute="items" assertion_to="text_string_representation_item_select">
			<aimelt xml:space="preserve">PATH</aimelt>
			<source>ISO 10303-1132</source>
			<refpath xml:space="preserve">
				text_string_representation &lt;= 
				representation
				representation.items[i] -&gt; representation_item
			</refpath>
		</aa>
		<aa attribute="items" assertion_to="Text_literal">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				text_string_representation &lt;= 
				representation
				representation.items[i] -&gt; representation_item
				representation_item =&gt;
				geometric_representation_item =&gt;
				text_literal
			</refpath>
		</aa>
		<aa attribute="items" assertion_to="Composite_presentable_text">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				text_string_representation &lt;= 
				representation
				representation.items[i] -&gt; representation_item
				representation_item =&gt;
				geometric_representation_item =&gt;
				composite_text
			</refpath>
		</aa>
		<aa attribute="items" assertion_to="Annotation_text">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				text_string_representation &lt;= 
				representation
				representation.items[i] -&gt; representation_item
				representation_item =&gt;
				mapped_item =&gt;
				annotation_text
			</refpath>
		</aa>
		<aa attribute="items" assertion_to="Defined_character_glyph">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				text_string_representation &lt;= 
				representation
				representation.items[i] -&gt; representation_item
				representation_item =&gt;
				geometric_representation_item =&gt;
				defined_character_glyph
			</refpath>
		</aa>
	</ae>

	<ae entity="Text_style" extensible="NO">
		<aimelt xml:space="preserve">
			(text_style_with_box_characteristics)
			([text_style_with_mirror]
        	[text_style_with_box_characteristics])			
		</aimelt>
		<source xml:space="preserve">ISO 10303-46</source>
		<refpath xml:space="preserve">
			text_style_with_box_characteristics &lt;=
			text_style &lt;= 
			founded_item
		</refpath>
		<aa attribute="font_size_scale">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				text_style_with_box_characteristics
				text_style_with_box_characteristics.characteristics[i] -&gt; 
				box_characteristic_select = box_height
				box_height
			</refpath>
		</aa>
		<aa attribute="mirror_placement" assertion_to="Axis_placement">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				text_style_with_mirror
				text_style_with_mirror.mirror_placement -&gt; axis2_placement
				axis2_placement
				(axis2_placement = axis2_placement_2d)
          	(axis2_placement = axis2_placement_3d)
			</refpath>
		</aa>
		<aa attribute="text_colour" assertion_to="Colour">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				text_style_with_box_characteristics &lt;=
				text_style
				text_style.character_appearance -&gt; character_style_select
				character_style_select = text_style_for_defined_font
				text_style_for_defined_font
				text_style_for_defined_font.text_colour -&gt; 
				colour
			</refpath>
		</aa>
	</ae>

 </mapping_table>

 <!-- Clause 5.2 MIM -->
 <mim>
   <!--  Note MIM short form express is in mim.xml -->
   <express-g>
     <imgfile file="mimexpg1.xml"/>
   </express-g>
 </mim>

</module>
