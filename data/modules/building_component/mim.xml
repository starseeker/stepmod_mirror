<?xml version="1.0"?>
<!-- $Id: express2xml.js,v 1.24 2002/10/21 13:28:40 goset1 Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  description.file="mim_descriptions.xml"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.24"
    source="../data/modules/building_component/mim.exp"/>

  <schema name="Building_component_mim">
    <interface
      kind="use"
      schema="Classification_assignment_mim">
    </interface>

    <interface
      kind="use"
      schema="Shape_property_assignment_mim">
    </interface>

    <interface
      kind="use"
      schema="group_schema">
      <interfaced.item
        name="group"/>
    </interface>

    <interface
      kind="use"
      schema="product_property_definition_schema">
      <interfaced.item
        name="property_definition"/>
      <interfaced.item
        name="shape_aspect"/>
    </interface>

    <interface
      kind="use"
      schema="product_property_representation_schema">
      <interfaced.item
        name="property_definition_representation"/>
    </interface>

    <type name="element_component_classification_item">
      <select
        basedon="classification_item"
        selectitems="negative_component positive_component opening recess">
      </select>

    </type>
    <entity
      name="applied_element_component_classification_assignment"
      supertypes="applied_classification_assignment">
      <explicit
        name="items">
        <redeclaration
          entity-ref="applied_classification_assignment"/>
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="element_component_classification_item"/>
        </explicit>
      </entity>

      <entity
        name="element_component_classification_group"
        supertypes="group">
        <where
          label="WR1"
          expression="SIZEOF (QUERY (ga &lt;* USEDIN (SELF, 'BUILDING_COMPONENT_MIM.' +    'CLASSIFICATION_ASSIGNMENT.ASSIGNED_CLASS') |    'BUILDING_COMPONENT_MIM.' +    'APPLIED_ELEMENT_COMPONENT_CLASSIFICATION_ASSIGNMENT' IN TYPEOF (ga)))    &gt;= 1">
        </where>
      </entity>

      <entity
        name="negative_component"
        supertypes="shape_aspect">
        <where
          label="WR1"
          expression="(SIZEOF (USEDIN (SELF, 'BUILDING_COMPONENT_MIM.' +    'PROPERTY_DEFINITION.DEFINITION')) &gt;= 1)    AND    (SIZEOF (QUERY (pd &lt;* USEDIN (SELF, 'BUILDING_COMPONENT_MIM.' +    'PROPERTY_DEFINITION.DEFINITION') |    NOT (SIZEOF (USEDIN (pd, 'BUILDING_COMPONENT_MIM.' +     'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION')) &gt;= 1))) = 0)">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (TYPEOF (SELF.of_shape.definition) *    ['BUILDING_COMPONENT_MIM.BUILDING_ELEMENT',    'BUILDING_COMPONENT_MIM.FIXTURE_EQUIPMENT_ELEMENT',    'BUILDING_COMPONENT_MIM.SERVICE_ELEMENT',    'BUILDING_COMPONENT_MIM.STRUCTURE_ENCLOSURE_ELEMENT']) = 1">
        </where>
      </entity>

      <entity
        name="opening"
        supertypes="negative_component">
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'BUILDING_COMPONENT_MIM.'+    'APPLIED_ELEMENT_COMPONENT_CLASSIFICATION_ASSIGNMENT.ITEMS')) = 1">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (bcca &lt;* USEDIN (SELF, 'BUILDING_COMPONENT_MIM.'+    'APPLIED_ELEMENT_COMPONENT_CLASSIFICATION_ASSIGNMENT.ITEMS') |    NOT (bcca\classification_assignment.assigned_class.description = 'opening')    )) = 0">
        </where>
      </entity>

      <entity
        name="positive_component"
        supertypes="shape_aspect">
        <where
          label="WR1"
          expression="(SIZEOF (USEDIN (SELF, 'BUILDING_COMPONENT_MIM.' +    'PROPERTY_DEFINITION.DEFINITION')) &gt;= 1)    AND    (SIZEOF (QUERY (pd &lt;* USEDIN (SELF, 'BUILDING_COMPONENT_MIM.' +    'PROPERTY_DEFINITION.DEFINITION') |    NOT (SIZEOF (USEDIN (pd, 'BUILDING_COMPONENT_MIM.' +     'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION')) &gt;= 1))) = 0)">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (TYPEOF (SELF.of_shape.definition) *    ['BUILDING_COMPONENT_MIM.BUILDING_ELEMENT',    'BUILDING_COMPONENT_MIM.FIXTURE_EQUIPMENT_ELEMENT',    'BUILDING_COMPONENT_MIM.SERVICE_ELEMENT',    'BUILDING_COMPONENT_MIM.STRUCTURE_ENCLOSURE_ELEMENT']) = 1">
        </where>
      </entity>

      <entity
        name="recess"
        supertypes="negative_component">
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'BUILDING_COMPONENT_MIM.' +    'APPLIED_ELEMENT_COMPONENT_CLASSIFICATION_ASSIGNMENT.ITEMS')) = 1">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (bcca &lt;* USEDIN (SELF, 'BUILDING_COMPONENT_MIM.'+    'APPLIED_ELEMENT_COMPONENT_CLASSIFICATION_ASSIGNMENT.ITEMS') |    NOT (bcca\classification_assignment.assigned_class.description = 'recess')    )) = 0">
        </where>
      </entity>

    </schema>

  </express>
