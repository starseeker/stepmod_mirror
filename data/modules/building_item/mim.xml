<?xml version='1.0' encoding='UTF-8'?>
<!-- $Id: express2xml.js,v 1.33 2003/05/11 03:54:57 thendrix Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  description.file="mim_descriptions.xml"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.33"
    source="../data/modules/building_item/mim.exp"/>

  <schema name="Building_item_mim">

    <interface
      kind="use"
      schema="Building_component_mim">
      <interfaced.item
        name="* ISO 10303-1143 *"/>
    </interface>
    <interface
      kind="use"
      schema="Building_structure_mim">
      <interfaced.item
        name="* ISO 10303-1145 *"/>
    </interface>
    <interface
      kind="use"
      schema="Product_view_definition_mim">
      <interfaced.item
        name="* ISO 10303-1019 *"/>
    </interface>
    <entity
      name="building_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN(SELF, 'BUILDING_ITEM_MIM.' + 'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') | (('BUILDING_ITEM_MIM.BUILDING_SECTION' IN TYPEOF (pdr.relating_product_definition)) OR ('BUILDING_ITEM_MIM.SPACE_ELEMENT' IN TYPEOF (pdr.relating_product_definition))))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.'+ 'PROPERTY_DEFINITION.DEFINITION') | SIZEOF (QUERY (sa &lt;* USEDIN(pd, 'BUILDING_ITEM_MIM.'+ 'SHAPE_ASPECT.OF_SHAPE') | (('BUILDING_ITEM_MIM.POSITIVE_COMPONENT' IN TYPEOF (sa)) AND (sa.description = 'main')))) = 1)) = 1">
      </where>
    </entity>

    <entity
      name="fixture_equipment_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN(SELF, 'BUILDING_ITEM_MIM.' + 'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') | (('BUILDING_ITEM_MIM.BUILDING_SECTION' IN TYPEOF (pdr.relating_product_definition)) OR ('BUILDING_ITEM_MIM.SPACE_ELEMENT' IN TYPEOF (pdr.relating_product_definition))))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (pds &lt;* QUERY (pd &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.PROPERTY_DEFINITION.DEFINITION') | 'BUILDING_ITEM_MIM.PRODUCT_DEFINITION_SHAPE' IN TYPEOF (pd)) | SIZEOF (QUERY (sa &lt;* USEDIN (pds, 'BUILDING_ITEM_MIM.' + 'SHAPE_ASPECT.OF_SHAPE') | ('BUILDING_ITEM_MIM.POSITIVE_COMPONENT' IN TYPEOF (sa)) AND (sa.description = 'main'))) = 1)) = 1">
      </where>
    </entity>

    <entity
      name="service_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN(SELF, 'BUILDING_ITEM_MIM.' + 'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') | (('BUILDING_ITEM_MIM.BUILDING_SECTION' IN TYPEOF (pdr.relating_product_definition)) OR ('BUILDING_ITEM_MIM.SPACE_ELEMENT' IN TYPEOF (pdr.relating_product_definition))))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (pds &lt;* QUERY (pd &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.PROPERTY_DEFINITION.DEFINITION') | 'BUILDING_ITEM_MIM.PRODUCT_DEFINITION_SHAPE' IN TYPEOF (pd)) | SIZEOF (QUERY (sa &lt;* USEDIN(pds, 'BUILDING_ITEM_MIM.'+ 'SHAPE_ASPECT.OF_SHAPE') | ('BUILDING_ITEM_MIM.POSITIVE_COMPONENT' IN TYPEOF (sa)) AND (sa.description = 'main'))) = 1)) = 1">
      </where>
    </entity>

    <entity
      name="space_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.' + 'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') | 'BUILDING_ITEM_MIM.BUILDING_SECTION' IN TYPEOF (pdr.relating_product_definition))) = 1">
      </where>
    </entity>

    <entity
      name="structure_enclosure_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.' + 'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') | (('BUILDING_ITEM_MIM.BUILDING_SECTION' IN TYPEOF (pdr.relating_product_definition)) OR ('BUILDING_ITEM_MIM.SPACE_ELEMENT' IN TYPEOF (pdr.relating_product_definition))))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (pds &lt;* QUERY (pd &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.PROPERTY_DEFINITION.DEFINITION') | 'BUILDING_ITEM_MIM.PRODUCT_DEFINITION_SHAPE' IN TYPEOF (pd)) | SIZEOF (QUERY (sa &lt;* USEDIN (pds, 'BUILDING_ITEM_MIM.'+ 'SHAPE_ASPECT.OF_SHAPE') | ('BUILDING_ITEM_MIM.POSITIVE_COMPONENT' IN TYPEOF (sa)) AND (sa.description = 'main'))) = 1)) = 1">
      </where>
    </entity>

  </schema>
</express>
