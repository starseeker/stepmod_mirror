<?xml version="1.0"?>
<!-- $Id: express2xml.js,v 1.24 2002/10/21 13:28:40 goset1 Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  description.file="mim_descriptions.xml"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.24"
    source="../data/modules/building_item/mim.exp"/>

  <schema name="Building_item_mim">
    <interface
      kind="use"
      schema="Building_component_mim">
    </interface>

    <interface
      kind="use"
      schema="Building_structure_mim">
    </interface>

    <interface
      kind="use"
      schema="product_definition_schema">
      <interfaced.item
        name="product"/>
      <interfaced.item
        name="product_category"/>
      <interfaced.item
        name="product_definition"/>
      <interfaced.item
        name="product_definition_formation"/>
      <interfaced.item
        name="product_related_product_category"/>
    </interface>

    <interface
      kind="use"
      schema="product_property_definition_schema">
      <interfaced.item
        name="characterized_product_definition"/>
      <interfaced.item
        name="property_definition"/>
    </interface>

    <entity
      name="building_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN(SELF, 'BUILDING_ITEM_MIM.' +	'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') |	('BUILDING_STRUCTURE_MIM.BUILDING_SECTION'	IN TYPEOF (pdr.relating_product_definition))	)) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.'+	'PROPERTY_DEFINITION.DEFINITION') |	SIZEOF (QUERY (sa &lt;* USEDIN(pd, 'BUILDING_COMPONENT_MIM.'+	'SHAPE_ASPECT.OF_SHAPE') |	(('BUILDING_COMPONENT_MIM.POSITIVE_COMPONENT' IN TYPEOF (sa))	AND	(sa.description = 'main'))	)) = 1   )) = 1">
      </where>
    </entity>

    <entity
      name="fixture_equipment_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN(SELF, 'BUILDING_ITEM_MIM.' +	'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') |	'BUILDING_STRUCTURE_MIM.BUILDING_SECTION' IN	TYPEOF (pdr.relating_product_definition))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (pds &lt;* QUERY (pd &lt;* USEDIN (SELF,	'BUILDING_ITEM_MIM.PROPERTY_DEFINITION.DEFINITION') |	'BUILDING_COMPONENT_MIM.PRODUCT_DEFINITION_SHAPE' IN TYPEOF (pd)) |	SIZEOF (QUERY (sa &lt;* USEDIN (pds, 'BUILDING_COMPONENT_MIM.' +	'SHAPE_ASPECT.OF_SHAPE') |	('BUILDING_COMPONENT_MIM.POSITIVE_COMPONENT' IN TYPEOF (sa))	AND	(sa.description = 'main'))) = 1)) = 1">
      </where>
    </entity>

    <entity
      name="service_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN(SELF, 'BUILDING_ITEM_MIM.' +	'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') |	'BUILDING_STRUCTURE_MIM.BUILDING_SECTION'	IN TYPEOF (pdr.relating_product_definition))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (pds &lt;* QUERY (pd &lt;* USEDIN (SELF,	'BUILDING_DESIGN_SCHEMA.PROPERTY_DEFINITION.DEFINITION') |	'BUILDING_COMPONENT_MIM.PRODUCT_DEFINITION_SHAPE' IN	TYPEOF (pd)) |	SIZEOF (QUERY (sa &lt;* USEDIN(pds, 'BUILDING_COMPONENT_MIM.'+	'SHAPE_ASPECT.OF_SHAPE') |	('BUILDING_COMPONENT_MIM.POSITIVE_COMPONENT' IN TYPEOF (sa))	AND	(sa.description = 'main'))) = 1)) = 1">
      </where>
    </entity>

    <entity
      name="space_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.' +	'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') |	'BUILDING_STRUCTURE_MIM.BUILDING_SECTION' IN	TYPEOF (pdr.relating_product_definition))) = 1">
      </where>
      <where
        label="WR2"
        expression="(SIZEOF (QUERY (pd &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.' +	'PROPERTY_DEFINITION.DEFINITION') |	'BUILDING_COMPONENT_MIM.PRODUCT_DEFINITION_SHAPE' IN	TYPEOF (pd))) &gt;= 1)	AND	(SIZEOF (QUERY (pds &lt;* QUERY (pd &lt;* USEDIN (SELF,	'BUILDING_ITEM_MIM.PROPERTY_DEFINITION.DEFINITION') |	'BUILDING_COMPONENT_MIM.PRODUCT_DEFINITION_SHAPE' IN TYPEOF (pd)) |	NOT (SIZEOF (USEDIN (pds, 'BUILDING_COMPONENT_MIM.' +	'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION')) &gt;= 1))) = 0)">
      </where>
    </entity>

    <entity
      name="structure_enclosure_element"
      supertypes="product_definition">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdr &lt;* USEDIN (SELF, 'BUILDING_ITEM_MIM.' +	'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') |	'BUILDING_STRUCTURE_MIM.BUILDING_SECTION'	IN TYPEOF (pdr.relating_product_definition))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (pds &lt;* QUERY (pd &lt;* USEDIN (SELF,	'BUILDING_ITEM_MIM.PROPERTY_DEFINITION.DEFINITION') |	'BUILDING_COMPONENT_MIM.PRODUCT_DEFINITION_SHAPE' IN TYPEOF (pd)) |	SIZEOF (QUERY (sa &lt;* USEDIN (pds, 'BUILDING_COMPONENT_MIM.'+	'SHAPE_ASPECT.OF_SHAPE') |	('BUILDING_COMPONENT_MIM.POSITIVE_COMPONENT' IN TYPEOF (sa))	AND	(sa.description = 'main'))) = 1)) = 1">
      </where>
    </entity>

  </schema>

</express>
