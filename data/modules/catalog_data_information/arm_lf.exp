
(* ===================================================================================== *)
(* Long form schema generated by The EXPRESS Data Manager  compiler version 9.5B.2004.01.23*)
(* Tue Dec 14 18:30:49 2004                                                                *)
(* ===================================================================================== *)
SCHEMA _ARTIFACT;

  TYPE any_number_value = NUMBER;
  END_TYPE;

  TYPE any_string_value = STRING;
  END_TYPE;

  TYPE assigned_document_select = SELECT 
  (Document,
   Document_definition,
   Document_version,
   File);
  END_TYPE;


  TYPE assigned_name_select = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;

  TYPE breakdown_element_realization_property_assignment_select = SELECT BASED_ON property_assignment_select WITH
    (breakdown_element_realization);
  END_TYPE;

  TYPE breakdown_element_select = SELECT (
	Functional_element_definition,
	Physical_element_definition);
  END_TYPE;


  TYPE breakdown_item = EXTENSIBLE SELECT
    (breakdown_element_definition,
     breakdown_element_usage);
  END_TYPE;

  TYPE cartesian_transformation = SELECT
    (cartesian_transformation_2d,
     cartesian_transformation_3d);
  END_TYPE;

  TYPE classification_item = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;

  TYPE classification_item_extended = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON classification_item;
  END_TYPE;

  TYPE classified_element_select = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;

  TYPE complex_product_select = SELECT
    (alternative_solution);
  END_TYPE;

  TYPE configuration_inheritance_types = ENUMERATION OF
    (EXCEPTION_CASE,
     FULL_INHERITANCE,
     NO_INHERITANCE);
  END_TYPE;

  TYPE configuration_kind = ENUMERATION OF
    (USAGE,
     DESIGN);
  END_TYPE;

  TYPE configured_item_select = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;

  TYPE configured_specification_select = SELECT(Class_condition_association, Class_specification_association);
  END_TYPE;

  TYPE constraint_context_select = SELECT (Product_class);
  END_TYPE;


  TYPE date_or_date_time_item = EXTENSIBLE SELECT;
  END_TYPE;

  TYPE date_or_date_time_select = SELECT
    (calendar_date,
     date_time);
  END_TYPE;

  TYPE date_or_event = SELECT
    (event);
  END_TYPE;

  TYPE day_in_month_number = INTEGER;
    WHERE
      WR1 : {1 <= SELF <= 31};
  END_TYPE;

  TYPE definable_objects = SELECT (
	Part, 
	Part_version, 
	Part_view_definition);
  END_TYPE;


  TYPE document_location_select = SELECT BASED_ON external_identification_item WITH
    (document_definition);
  END_TYPE;

  TYPE documented_element_select = EXTENSIBLE SELECT;
  END_TYPE;

  TYPE effectivity_for_configuration = SELECT BASED_ON effectivity_item WITH
    (configuration);
  END_TYPE;

  TYPE effectivity_item = EXTENSIBLE SELECT;
  END_TYPE;

  TYPE effectivity_item_for_replacement = SELECT BASED_ON EFFECTIVITY_ITEM WITH
    (part_definition_relationship);
  END_TYPE;

  TYPE effectivity_specification_for_replacement = SELECT BASED_ON effectivity_item WITH
    (replaced_usage_relationship);
  END_TYPE;

  TYPE expression_operator = ENUMERATION OF
    (OR_OPERATOR,
     AND_OPERATOR,
     ONEOF_OPERATOR,
     NOT_OPERATOR);
  END_TYPE;

  TYPE Extended_Value_With_Unit = SELECT (
	Value_with_unit, 
	Value_limit, 
	Value_range);
  END_TYPE;

  TYPE external_class_assigned_name_select = SELECT BASED_ON ASSIGNED_NAME_SELECT WITH
    (external_class_library);
  END_TYPE;

  TYPE external_class_select = SELECT(Plib_class_reference, External_class);
  END_TYPE;


  TYPE external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;

  TYPE external_property_select = SELECT
    (plib_property_reference,
     external_library_property);
  END_TYPE;

  TYPE function_occurrence_select = SELECT
    (definition_based_function_occurrence,
     specification_based_function_occurrence);
  END_TYPE;

  TYPE geometric_mapping_target = SELECT
    (axis_placement,
     cartesian_transformation);
  END_TYPE;

  TYPE groupable_item = EXTENSIBLE GENERIC_ENTITY SELECT;
    WHERE
      WR1 : NOT ('GROUP_ARM.GROUP' IN TYPEOF(SELF));
  END_TYPE;

  TYPE hour_in_day = INTEGER;
    WHERE
      WR1 : { 0 <= SELF < 24 };
  END_TYPE;

  TYPE identification_item = EXTENSIBLE SELECT;
  END_TYPE;

  TYPE idrm_marked_item = EXTENSIBLE SELECT BASED_ON classification_item;
  END_TYPE;

  TYPE instance_usage_context_select = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;

  TYPE length_measure = REAL;
  END_TYPE;

  TYPE limit_qualifier_list = ENUMERATION OF
    (MINIMUM,
     MAXIMUM);
  END_TYPE;

  TYPE located_select = SELECT BASED_ON EXTERNAL_IDENTIFICATION_ITEM WITH
    (file);
  END_TYPE;

  TYPE measure_value = EXTENSIBLE SELECT
    (any_number_value,
     any_string_value,
     length_measure,
     plane_angle_measure);
  END_TYPE;

  TYPE minute_in_hour = INTEGER;
    WHERE
      WR1 : { 0 <= SELF <= 59 };
  END_TYPE;

  TYPE month_in_year_number = INTEGER;
    WHERE
      WR1 : { 1 <= SELF <= 12 };
  END_TYPE;

  TYPE offset_orientation = ENUMERATION OF
    (AHEAD,
     EXACT,
     BEHIND);
  END_TYPE;

  TYPE organization_or_person_in_organization_item = EXTENSIBLE SELECT;
  END_TYPE;

  TYPE organization_or_person_in_organization_select = SELECT
    (organization,
     person_in_organization);
  END_TYPE;

  TYPE part_occurrence_select = SELECT
    (definition_based_part_occurrence,
     specification_based_part_occurrence);
  END_TYPE;

  TYPE plane_angle_measure = REAL;
  END_TYPE;

  TYPE product_item = EXTENSIBLE SELECT;
  END_TYPE;

  TYPE product_property_assignment = EXTENSIBLE SELECT BASED_ON PROPERTY_ASSIGNMENT_SELECT;
  END_TYPE;

  TYPE property_assignment_select = EXTENSIBLE SELECT;
  END_TYPE;

  TYPE ps_product_property_assignment = SELECT BASED_ON property_assignment_select;
  END_TYPE;

  TYPE requirement_identification_and_version_identification_item = SELECT BASED_ON identification_item WITH
    (requirement,
     requirement_version);
  END_TYPE;

  TYPE sc_configured_element = EXTENSIBLE SELECT BASED_ON CONFIGURED_ITEM_SELECT;
  END_TYPE;

  TYPE second_in_minute = REAL;
    WHERE
      WR1 : { 0 <= SELF <= 60.0 };
  END_TYPE;

  TYPE shape_dependent_select = SELECT
    (item_shape,
     shape_element);
  END_TYPE;

  TYPE shape_model = SELECT
   (External_geometric_model, 
    Geometric_model);
  END_TYPE; 


  TYPE shape_select = SELECT
    (item_shape,
     shape_element,
     shape_element_relationship);
  END_TYPE;

  TYPE shapeable_item = SELECT
    (characterizable_object);
  END_TYPE;

  TYPE specification_operand_select = SELECT
    (specification_expression,
     specification);
  END_TYPE;

  TYPE spr_documented_element_select = SELECT BASED_ON documented_element_select;
  END_TYPE;

  TYPE spr_organization_or_person_in_organization_item = EXTENSIBLE SELECT BASED_ON organization_or_person_in_organization_item;
  END_TYPE;

  TYPE spr_product_property_assignment = SELECT BASED_ON property_assignment_select;
  END_TYPE;

  TYPE string_select = EXTENSIBLE GENERIC_ENTITY SELECT;
  END_TYPE;

  TYPE template_instance = SELECT
    (mapping_based_template_instance,
     transformation_based_template_instance);
  END_TYPE;

  TYPE version_or_definition = SELECT
   (Product_version, 
    Product_view_definition);
  END_TYPE; 

  TYPE year_number = INTEGER;
  END_TYPE;

  ENTITY address;
      name                    : OPTIONAL STRING;
      street_number           : OPTIONAL STRING;
      street                  : OPTIONAL STRING;
      postal_box              : OPTIONAL STRING;
      town                    : OPTIONAL STRING;
      region                  : OPTIONAL STRING;
      postal_code             : OPTIONAL STRING;
      country                 : OPTIONAL STRING;
      internal_location       : OPTIONAL STRING;
      facsimile_number        : OPTIONAL STRING;
      telephone_number        : OPTIONAL STRING;
      electronic_mail_address : OPTIONAL STRING;
      telex_number            : OPTIONAL STRING;
      url                     : OPTIONAL STRING;
    WHERE
      WR1 : (EXISTS (street_number) OR EXISTS (street) OR EXISTS (postal_box) OR EXISTS (town) OR EXISTS (region) OR EXISTS (postal_code) OR EXISTS (country) OR EXISTS (internal_location) OR EXISTS (facsimile_number) OR EXISTS (telephone_number) OR EXISTS (electronic_mail_address) OR EXISTS (telex_number));
  END_ENTITY;

  ENTITY address_assignment;
      address_type                 : OPTIONAL STRING;
      assigned_address             : address;
      located_person_organizations : SET [1:?] OF organization_or_person_in_organization_select;
  END_ENTITY;

  ENTITY alternate_part_relationship
    SUBTYPE OF(alternate_product_relationship);
      SELF\Alternate_product_relationship.alternate_product : part;
      SELF\Alternate_product_relationship.base_product      : part;
  END_ENTITY;

  ENTITY alternate_product_relationship;
      name              : OPTIONAL STRING;
      description       : OPTIONAL STRING;
      alternate_product : PRODUCT;
      base_product      : PRODUCT;
      criteria          : STRING;
    UNIQUE
      UR1 : alternate_product, base_product;
    WHERE
       WR1: alternate_product  :<>: base_product ;
  END_ENTITY;

  ENTITY alternative_solution;
      id           : STRING;
      version_id   : OPTIONAL STRING;
      base_element : complex_product_select;
  END_ENTITY;

  ENTITY amount_of_substance_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY applied_independent_property
    SUBTYPE OF(assigned_property);
      base_independent_property   : INDEPENDENT_PROPERTY;
    DERIVE
      SELF\assigned_property.name : STRING := base_independent_property.property_type;
  END_ENTITY;

  ENTITY assembled_part_association
    SUBTYPE OF(part_occurrence_definition_relationship, assembly_component_relationship);
      SELF\View_definition_relationship.relating_view : assembly_definition;
  END_ENTITY;

  ENTITY assembly_component_relationship
     ABSTRACT SUPERTYPE OF (ONEOF (
                        NEXT_ASSEMBLY_USAGE,
                        PROMISSORY_USAGE,
                        COMPONENT_UPPER_LEVEL_IDENTIFICATION))
  SUBTYPE OF(VIEW_DEFINITION_USAGE);
      quantity           : OPTIONAL VALUE_WITH_UNIT;
      location_indicator : OPTIONAL STRING;
    WHERE
       WR1: NOT(EXISTS(quantity)) OR ((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) XOR (quantity.value_component > 0));
  END_ENTITY;

  ENTITY assembly_definition
    SUBTYPE OF(PART_VIEW_DEFINITION);
    WHERE
       WR1: 'assembly' IN types_of_product(SELF\Product_view_definition.defined_version.of_product);
  END_ENTITY;

  ENTITY assembly_relationship_substitution;
      name                    : OPTIONAL STRING;
      description             : OPTIONAL STRING;
      base_relationship       : ASSEMBLY_COMPONENT_RELATIONSHIP;
      substitute_relationship : ASSEMBLY_COMPONENT_RELATIONSHIP;
    UNIQUE
      UR1 : base_relationship, substitute_relationship;
    WHERE
       WR1: base_relationship.relating_view :=: substitute_relationship.relating_view;
       WR2: base_relationship :<>: substitute_relationship;
  END_ENTITY;

  ENTITY assigned_property;
      id                : OPTIONAL STRING;
      name              : STRING;
      description       : OPTIONAL STRING;
      described_element : property_assignment_select;
  END_ENTITY;

  ENTITY attribute_translation_assignment;
      considered_instance  : string_select;
      considered_attribute : STRING;
      translation_text     : STRING;
      translation_language : language;
    UNIQUE
      UR1 : considered_instance, considered_attribute, translation_language;
  END_ENTITY;

  ENTITY axis_placement
    SUBTYPE OF(detailed_geometric_model_element);
      origin : cartesian_point;
      x_axis : direction;
      y_axis : direction;
    DERIVE
      dim    : INTEGER := SIZEOF(origin.coordinates);
    WHERE
      WR1 : dim >1;
      WR2 : dim = SIZEOF(x_axis.coordinates);
      WR3 : dim = SIZEOF(y_axis.coordinates);
  END_ENTITY;

  ENTITY axis_placement_mapping;
      source : axis_placement;
      target : axis_placement;
    WHERE
      WR1 : source\Axis_placement.dim = target\Axis_placement.dim;
  END_ENTITY;

  ENTITY axis_placement_transformation_mapping;
      source : axis_placement;
      target : cartesian_transformation;
    WHERE
      WR1 : source\Axis_placement.dim = SIZEOF(target.translation\Cartesian_point.coordinates);
  END_ENTITY;

  ENTITY breakdown
    SUBTYPE OF(product);
  END_ENTITY;

  ENTITY breakdown_context;
      id                : STRING;
      name              : STRING;
      description       : OPTIONAL STRING;
      breakdown         : breakdown_version;
      breakdown_element : breakdown_element_definition;
  END_ENTITY;

  ENTITY breakdown_element
    SUBTYPE OF(product);
  END_ENTITY;

  ENTITY breakdown_element_definition
    SUBTYPE OF(product_view_definition);
      SELF\Product_view_definition.defined_version : breakdown_element_version;
  END_ENTITY;

  ENTITY breakdown_element_realization
    SUBTYPE OF(product_definition_element_relationship);
  END_ENTITY;

  ENTITY breakdown_element_usage
    SUBTYPE OF(view_definition_usage);
      name                                                                   : STRING;
      SELF\View_definition_relationship.child_element                        : breakdown_element_definition;
      SELF\View_definition_relationship.parent_element RENAMED relating_view : breakdown_element_definition;
  END_ENTITY;

  ENTITY breakdown_element_version
    SUBTYPE OF(product_version);
      SELF\Product_version.of_product : breakdown_element;
  END_ENTITY;

  ENTITY breakdown_node_relationship;
      description   : OPTIONAL STRING;
      relating      : COMPLEX_PRODUCT_SELECT;
      related       : breakdown_element_select;
      relation_type : STRING;
    WHERE
      WR1 : (NOT (relation_type IN ['functionality', 'realization'])) OR
            (TYPEOF(related) <> TYPEOF(relating));
      WR2 : (NOT (relation_type IN ['decomposition', 'specialization', 'occurrence'])) OR
            (aggregate1_in_aggregate2(TYPEOF(related),TYPEOF(relating)) OR aggregate1_in_aggregate2(TYPEOF(relating),TYPEOF(related)) ) ;
      WR3 : (NOT (relation_type IN ['occurrence'])) OR 
            ('SPECIFICATION_CONTROL_ARM.PHYSICAL_ELEMENT_DEFINITION' IN TYPEOF(relating));
  END_ENTITY;

  ENTITY breakdown_of;
      id          : STRING;
      name        : STRING;
      description : OPTIONAL STRING;
      breakdown   : breakdown_version;
      of_view     : product_view_definition;
  END_ENTITY;

  ENTITY breakdown_version
    SUBTYPE OF(product_version);
      SELF\Product_version.of_product : breakdown;
    INVERSE
      breakdown_of                    : SET [1:1] OF breakdown_of FOR breakdown;
  END_ENTITY;

  ENTITY calendar_date;
      year_component  : year_number;
      month_component : month_in_year_number;
      day_component   : day_in_month_number;
  END_ENTITY;

  ENTITY cartesian_point
    SUBTYPE OF(detailed_geometric_model_element);
      coordinates : LIST [1:3] OF LENGTH_MEASURE;
  END_ENTITY;

  ENTITY cartesian_transformation_2d
    SUBTYPE OF(detailed_geometric_model_element);
      multiplication_matrix : ARRAY [1:2] OF direction;
      translation           : cartesian_point;
    WHERE
      WR1 : SIZEOF(multiplication_matrix[1]\Direction.coordinates)=2;
      WR2 : SIZEOF(multiplication_matrix[2]\Direction.coordinates)=2;
      WR3 : SIZEOF(translation.coordinates)=2;
  END_ENTITY;

  ENTITY cartesian_transformation_3d
    SUBTYPE OF(detailed_geometric_model_element);
      multiplication_matrix : ARRAY [1:3] OF direction;
      translation           : cartesian_point;
    WHERE
      WR1 : SIZEOF(multiplication_matrix[1]\Direction.coordinates)=3;
      WR2 : SIZEOF(multiplication_matrix[2]\Direction.coordinates)=3;
      WR3 : SIZEOF(multiplication_matrix[3]\Direction.coordinates)=3;
      WR4 : SIZEOF(translation.coordinates)=3;
  END_ENTITY;

  ENTITY centre_of_mass
    SUBTYPE OF(shape_dependent_property_representation);
    WHERE
          WR1: SIZEOF(SELF\Shape_dependent_property_representation.property_representation.items)=1;
      WR2 : SIZEOF(QUERY (it <* SELF\Shape_dependent_property_representation.property_representation.items |
            'INERTIA_CHARACTERISTICS_ARM' + '.CARTESIAN_POINT' IN TYPEOF(it) ))=1;
          WR3: 'INERTIA_CHARACTERISTICS_ARM' + '.GEOMETRIC_COORDINATE_SPACE' IN 
            TYPEOF(SELF\Shape_dependent_property_representation.property_representation.context_of_items);
  END_ENTITY;

  ENTITY characterizable_object;
      name        : STRING;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY class
    SUPERTYPE OF (ONEOF (
              CLASS_BY_EXTENSION,
              CLASS_BY_INTENSION));
      id          : STRING;
      name        : STRING;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY class_breakdown_association;
      description       : OPTIONAL STRING;
      considered_class  : PRODUCT_CLASS;
      breakdown_element : breakdown_element_select;
      relation_type     : STRING;
  END_ENTITY;

  ENTITY class_by_extension
    SUBTYPE OF(class);
  END_ENTITY;

  ENTITY class_by_intension
    SUBTYPE OF(class);
  END_ENTITY;

  ENTITY class_category_association;
      associated_product_class : product_class;
      mandatory                : BOOLEAN;
      associated_category      : specification_category;
  END_ENTITY;

  ENTITY class_condition_association;
      condition_type           : STRING;
      associated_product_class : product_class;
      description              : OPTIONAL STRING;
      associated_condition     : specification_expression;
  END_ENTITY;

  ENTITY class_hierarchy;
      super_class : class_with_attributes;
      sub_class   : class_with_attributes;
  END_ENTITY;

  ENTITY class_inclusion_association;
      associated_product_class : product_class;
      description              : OPTIONAL STRING;
      associated_inclusion     : specification_inclusion;
  END_ENTITY;

  ENTITY class_specification_association;
      associated_product_class : product_class;
      association_type         : STRING;
      associated_specification : specification;
  END_ENTITY;

  ENTITY class_with_attributes
    SUBTYPE OF(class);
      version_id                  : OPTIONAL STRING;
      used_classification_system  : OPTIONAL classification_system;
    INVERSE
      characterization_attributes : SET OF classification_attribute FOR characterized_class;
  END_ENTITY;

  ENTITY classification_assignment;
      assigned_class : CLASS;
      items          : SET [1:?] OF classification_item;
      role           : OPTIONAL STRING;
  END_ENTITY;

  ENTITY classification_association
    SUBTYPE OF(classification_assignment);
      SELF\Classification_assignment.assigned_class : class_with_attributes;
      definitional                                  : LOGICAL;
    WHERE
      WR1 : SIZEOF(QUERY(it<* SELF\Classification_assignment.items |
            NOT('CLASSIFICATION_WITH_ATTRIBUTES_ARM.DEFINABLE_OBJECTS' IN TYPEOF(it)) AND definitional ))=0;
      WR2 : SIZEOF(QUERY(it<* SELF\Classification_assignment.items |
            NOT('CLASSIFICATION_WITH_ATTRIBUTES_ARM.CLASSIFIED_ELEMENT_SELECT' IN TYPEOF(it)) )) =0;
  END_ENTITY;

  ENTITY classification_attribute;
      id                  : STRING;
      name                : OPTIONAL STRING;
      description         : OPTIONAL STRING;
      allowed_values      : OPTIONAL SET [1:?] OF measure_item;
      characterized_class : class_with_attributes;
  END_ENTITY;

  ENTITY classification_system;
      id          : STRING;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY collected_item_association
    SUBTYPE OF(part_occurrence_definition_relationship);
      SELF\View_definition_relationship.relating_view : collection_definition;
    WHERE
      WR1 : NOT ('PART_COLLECTION_ARM.ASSEMBLY_COMPONENT_RELATIONSHIP' IN TYPEOF(SELF));
  END_ENTITY;

  ENTITY collection_definition
    SUBTYPE OF(PART_VIEW_DEFINITION);
    WHERE
       WR1: 'collection' IN types_of_product(SELF\Product_view_definition.defined_version.of_product);
  END_ENTITY;

  ENTITY complex_node_relationship;
      description   : OPTIONAL STRING;
      relating      : COMPLEX_PRODUCT_SELECT;
      related       : COMPLEX_PRODUCT_SELECT;
      relation_type : STRING;
    WHERE
      WR1 : (aggregate1_in_aggregate2(TYPEOF(related),TYPEOF(relating)) OR aggregate1_in_aggregate2(TYPEOF(relating),TYPEOF(related)) ) ;
  END_ENTITY;

  ENTITY component_upper_level_identification
    SUBTYPE OF(assembly_component_relationship);
      upper_assembly_relationship : assembly_component_relationship;
      sub_assembly_relationship   : next_assembly_usage;
    UNIQUE
      UR1 : upper_assembly_relationship, sub_assembly_relationship;
    WHERE
      WR1 : SELF :<>: upper_assembly_relationship ;
          WR2: SELF\View_definition_relationship.relating_view :=: upper_assembly_relationship\View_definition_relationship.relating_view;
          WR3: SELF\View_definition_relationship.related_view :=: sub_assembly_relationship\View_definition_relationship.related_view;
          WR4: (upper_assembly_relationship\View_definition_relationship.related_view :=: sub_assembly_relationship\View_definition_relationship.relating_view) OR (SIZEOF (QUERY (pdr <* USEDIN (upper_assembly_relationship\View_definition_relationship.related_view , 'ASSEMBLY_STRUCTURE_ARM.VIEW_DEFINITION_RELATIONSHIP.RELATED_VIEW') | pdr.relating_view :=: sub_assembly_relationship\View_definition_relationship.relating_view)) = 1);
      WR5 : SIZEOF (['ASSEMBLY_STRUCTURE_ARM.NEXT_ASSEMBLY_USAGE', 'ASSEMBLY_STRUCTURE_ARM.COMPONENT_UPPER_LEVEL_IDENTIFICATION'] * TYPEOF(upper_assembly_relationship)) = 1;
  END_ENTITY;

  ENTITY configuration;
      configured_element : configured_item_select;
      is_solution_for    : configured_specification_select;
      configuration_type : configuration_kind;
      inheritance_type   : configuration_inheritance_types;
    WHERE
      WR1 : consistent_configuration_type(SELF);
  END_ENTITY;

  ENTITY context_dependent_unit
    SUBTYPE OF(unit);
    WHERE
      WR1 : EXISTS(SELF\Unit.name);
  END_ENTITY;

  ENTITY contextual_item_shape
    SUBTYPE OF(item_shape);
      SELF\item_shape.described_element : view_definition_usage;
    DERIVE
      shaped_product                    : product_view_definition := described_element\View_definition_relationship.related_view;
  END_ENTITY;

  ENTITY contextual_shape_representation_inclusion;
      contextual_shape          : contextual_item_shape;
      context_representation    : geometric_model;
      positioned_representation : template_instance;
  END_ENTITY;

  ENTITY conversion_based_unit
    SUBTYPE OF(unit);
      conversion_factor : value_with_unit;
    WHERE
      WR1 : EXISTS(SELF\Unit.name);
  END_ENTITY;

  ENTITY date_or_date_time_assignment;
      assigned_date : DATE_OR_DATE_TIME_SELECT;
      role          : STRING;
      items         : SET [1:?] OF date_or_date_time_item;
  END_ENTITY;

  ENTITY date_time;
      date_component : calendar_date;
      time_component : local_time;
  END_ENTITY;

  ENTITY dated_configuration
    SUBTYPE OF(manufacturing_configuration);
      SELF\Item_usage_effectivity.effectivity_domain : dated_effectivity;
  END_ENTITY;

  ENTITY dated_effectivity
    SUBTYPE OF(effectivity);
      start_bound : DATE_OR_EVENT;
      end_bound   : OPTIONAL DATE_OR_EVENT;
  END_ENTITY;

  ENTITY definition_based_function_occurrence
     ABSTRACT SUPERTYPE
  SUBTYPE OF(definition_based_product_occurrence);
      SELF\definition_based_product_occurrence.derived_from : functional_element_definition;
  END_ENTITY;

  ENTITY definition_based_part_occurrence
     ABSTRACT SUPERTYPE
  SUBTYPE OF(definition_based_product_occurrence);
      SELF\definition_based_product_occurrence.derived_from : part_view_definition;
  END_ENTITY;

  ENTITY definition_based_product_occurrence
     ABSTRACT SUPERTYPE OF (ONEOF (
                        DEFINITION_BASED_FUNCTION_OCCURRENCE,
                        DEFINITION_BASED_PART_OCCURRENCE))
  SUBTYPE OF(product_occurrence);
      derived_from : product_view_definition;
    WHERE
       WR1: SELF\Product_view_definition.defined_version = SELF\Product_view_definition.defined_version;
  END_ENTITY;

  ENTITY derived_unit
    SUBTYPE OF(unit);
      elements : SET [1:?] OF derived_unit_element;
  END_ENTITY;

  ENTITY derived_unit_element;
      base_unit : unit;
      exponent  : REAL;
  END_ENTITY;

  ENTITY design_constraint_association;
      name                  : OPTIONAL STRING;
      constrained_object    : COMPLEX_PRODUCT_SELECT;
      constraint_definition : design_constraint_definition;
  END_ENTITY;

  ENTITY design_constraint_context_association;
      constraint_definition : design_constraint_definition;
      constraint_context    : constraint_context_select;
  END_ENTITY;

  ENTITY design_constraint_definition
    SUBTYPE OF(PRODUCT_VIEW_DEFINITION);
      SELF\Product_view_definition.defined_version : requirement_version;
  END_ENTITY;

  ENTITY design_constraint_relationship
    SUBTYPE OF(view_definition_relationship);
      SELF\View_definition_relationship.relating_view : design_constraint_definition;
      SELF\View_definition_relationship.related_view  : design_constraint_definition;
  END_ENTITY;

  ENTITY detailed_geometric_model_element
     ABSTRACT SUPERTYPE OF (ONEOF (
                        CARTESIAN_POINT,
                        DIRECTION,
                        AXIS_PLACEMENT,
                        CARTESIAN_TRANSFORMATION_2D,
                        CARTESIAN_TRANSFORMATION_3D))
  SUBTYPE OF(REPRESENTATION_ITEM);
  END_ENTITY;

  ENTITY digital_document_definition
    SUBTYPE OF(document_definition);
      files : SET OF digital_file;
  END_ENTITY;

  ENTITY digital_file
    SUBTYPE OF(file);
  END_ENTITY;

  ENTITY direction
    SUBTYPE OF(detailed_geometric_model_element);
      coordinates : LIST [2:3] OF LENGTH_MEASURE;
  END_ENTITY;

  ENTITY document
    SUBTYPE OF(product);
  END_ENTITY;

  ENTITY document_assignment;
      assigned_document : assigned_document_select;
      is_assigned_to    : documented_element_select;
      role              : STRING;
  END_ENTITY;

  ENTITY document_definition
    SUPERTYPE OF (ONEOF (
              DIGITAL_DOCUMENT_DEFINITION,
              PHYSICAL_DOCUMENT_DEFINITION))
  SUBTYPE OF(product_view_definition);
      SELF\Product_view_definition.description                 : OPTIONAL STRING;
      SELF\Product_view_definition.associated_document_version : document_version;
  END_ENTITY;

  ENTITY document_location_identification
    SUBTYPE OF(external_source_identification);
    WHERE
       WR1: 'DOCUMENT_DEFINITION_ARM.DOCUMENT_DEFINITION' IN TYPEOF(SELF\External_source_identification.item);
  END_ENTITY;

  ENTITY document_version
    SUBTYPE OF(product_version);
      SELF\Product_version.of_product : document;
  END_ENTITY;

  ENTITY duration
    SUBTYPE OF(value_with_unit);
    WHERE
      WR1 : 'VALUE_WITH_UNIT_ARM.' + 'TIME_UNIT' IN TYPEOF(SELF\Value_with_unit.unit);
  END_ENTITY;

  ENTITY effectivity
    SUPERTYPE OF (ONEOF (
              SERIAL_EFFECTIVITY,
              DATED_EFFECTIVITY,
              LOT_EFFECTIVITY,
              TIME_INTERVAL_EFFECTIVITY));
      id          : STRING;
      name        : STRING;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY effectivity_assignment;
      assigned_effectivity : EFFECTIVITY;
      role                 : STRING;
      items                : SET [1:?] OF effectivity_item;
  END_ENTITY;

  ENTITY effectivity_relationship;
      relation_type        : STRING;
      description          : OPTIONAL STRING;
      relating_effectivity : effectivity;
      related_effectivity  : effectivity;
  END_ENTITY;

  ENTITY electric_current_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY event;
      id                 : STRING;
      name               : STRING;
      description        : OPTIONAL STRING;
      actual_start_date  : OPTIONAL DATE_OR_DATE_TIME_SELECT;
      planned_start_date : OPTIONAL DATE_OR_DATE_TIME_SELECT;
  END_ENTITY;

  ENTITY event_relationship;
      relation_type  : STRING;
      description    : OPTIONAL STRING;
      relating_event : event;
      related_event  : event;
  END_ENTITY;

  ENTITY external_class
    SUBTYPE OF(CLASS);
      external_source : external_class_library;
  END_ENTITY;

  ENTITY external_class_library;
      id          : STRING;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY external_class_with_attributes
    SUBTYPE OF(class_with_attributes);
      source : external_class_select;
  END_ENTITY;

  ENTITY external_geometric_model
    SUBTYPE OF(GEOMETRIC_MODEL);
      SELF\Representation.items : SET [1:1] OF AXIS_PLACEMENT;
      external_file             : DIGITAL_FILE;
    WHERE
       WR1: SELF\Representation.context_of_items.dimension_count = 3;
       WR2: SELF\Representation.context_of_items.kind = 'external';
  END_ENTITY;

  ENTITY external_item_identification
    SUBTYPE OF(external_source_identification);
      external_id : STRING;
  END_ENTITY;

  ENTITY external_library_property
    SUBTYPE OF(INDEPENDENT_PROPERTY);
      external_id  : STRING;
      library_type : STRING;
  END_ENTITY;

  ENTITY external_source_identification;
      source_id   : STRING;
      source_type : STRING;
      item        : external_identification_item;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY file
     ABSTRACT SUPERTYPE OF (ONEOF (
                        DIGITAL_FILE,
                        HARDCOPY));
      id                  : STRING;
      version             : OPTIONAL STRING;
      contained_data_type : OPTIONAL STRING;
  END_ENTITY;

  ENTITY file_location_identification
    SUBTYPE OF(EXTERNAL_ITEM_IDENTIFICATION);
    WHERE
       WR1: 'FILE_IDENTIFICATION_ARM.FILE' IN TYPEOF(SELF\External_source_identification.item);
  END_ENTITY;

  ENTITY functional_breakdown
    SUBTYPE OF(BREAKDOWN);
  END_ENTITY;

  ENTITY functional_breakdown_context
    SUBTYPE OF(BREAKDOWN_CONTEXT);
      SELF\Breakdown_context.breakdown         : functional_breakdown_version;
      SELF\Breakdown_context.breakdown_element : functional_element_definition;
  END_ENTITY;

  ENTITY functional_breakdown_version
    SUBTYPE OF(BREAKDOWN_VERSION);
      SELF\Breakdown_version.of_product : functional_breakdown;
  END_ENTITY;

  ENTITY functional_element
    SUBTYPE OF(BREAKDOWN_ELEMENT);
  END_ENTITY;

  ENTITY functional_element_definition
    SUBTYPE OF(BREAKDOWN_ELEMENT_DEFINITION);
      SELF\Breakdown_element_definition.defined_version : functional_element_version;
  END_ENTITY;

  ENTITY functional_element_usage
    SUBTYPE OF(BREAKDOWN_ELEMENT_USAGE);
      SELF\Breakdown_element_usage.parent_element : functional_element_definition;
      SELF\Breakdown_element_usage.child_element  : functional_element_definition;
  END_ENTITY;

  ENTITY functional_element_version
    SUBTYPE OF(BREAKDOWN_ELEMENT_VERSION);
      SELF\Breakdown_element_version.of_product : functional_element;
  END_ENTITY;

  ENTITY geometric_coordinate_space
    SUBTYPE OF(NUMERICAL_REPRESENTATION_CONTEXT);
      dimension_count : INTEGER;
    WHERE
      WR1 : dimension_count >0;
  END_ENTITY;

  ENTITY geometric_model
    SUBTYPE OF(REPRESENTATION);
      version_id                           : OPTIONAL STRING;
      model_extent                         : OPTIONAL LENGTH_MEASURE;
      SELF\Representation.context_of_items : geometric_coordinate_space;
      SELF\Representation.items            : SET [1:?] OF detailed_geometric_model_element;
  END_ENTITY;

  ENTITY geometrical_relationship
    SUBTYPE OF(part_definition_relationship);
      definition_placement                            : TEMPLATE_INSTANCE;
    DERIVE
      SELF\View_definition_relationship.relation_type : STRING := 'geometrical relationship';
  END_ENTITY;

  ENTITY group;
      id                 : OPTIONAL STRING;
      name               : STRING;
      description        : OPTIONAL STRING;
      elements           : SET OF groupable_item;
      membership_meaning : OPTIONAL STRING;
  END_ENTITY;

  ENTITY group_relationship;
      description    : OPTIONAL STRING;
      relation_type  : STRING;
      relating_group : group;
      related_group  : group;
  END_ENTITY;

  ENTITY hardcopy
    SUBTYPE OF(file);
  END_ENTITY;

  ENTITY identification_assignment;
      identifier  : STRING;
      role        : STRING;
      description : OPTIONAL STRING;
      items       : SET [1:?] OF identification_item;
  END_ENTITY;

  ENTITY incomplete_reference_marking
    SUBTYPE OF(classification_assignment);
    WHERE
      WR1 : SIZEOF (QUERY( item <* SELF\Classification_assignment.items | 
            NOT ('INCOMPLETE_DATA_REFERENCE_MECHANISM_ARM.IDRM_MARKED_ITEM' IN TYPEOF(item) ) )) = 0;
          WR2: SELF\Classification_assignment.assigned_class.id = 'reference';
  END_ENTITY;

  ENTITY independent_property;
      id            : STRING;
      property_type : STRING;
      description   : OPTIONAL STRING;
  END_ENTITY;

  ENTITY independent_property_relationship;
      relation_type : STRING;
      description   : OPTIONAL STRING;
      relating      : independent_property;
      related       : independent_property;
  END_ENTITY;

  ENTITY inertia_matrix_item
    SUBTYPE OF(REPRESENTATION_ITEM);
      inertia_values : ARRAY [1:6] OF REAL;
      common_unit    : unit;
  END_ENTITY;

  ENTITY item_design_association;
      configuration : product_configuration;
      design        : version_or_definition;
    UNIQUE
      UR1 : configuration, design;
  END_ENTITY;

  ENTITY item_shape;
      id                : OPTIONAL STRING;
      description       : OPTIONAL STRING;
      described_element : shapeable_item;
  END_ENTITY;

  ENTITY item_usage_effectivity;
      effectivity_domain      : EFFECTIVITY;
      item_usage_relationship : view_definition_usage;
      resolved_configuration  : item_design_association;
  END_ENTITY;

  ENTITY language;
      language_code : STRING;
      country_code  : OPTIONAL STRING;
    UNIQUE
      UR1 : language_code;
  END_ENTITY;

  ENTITY language_indication;
      considered_instance  : string_select;
      considered_attribute : STRING;
      used_language        : language;
  END_ENTITY;

  ENTITY length_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY local_time;
      hour_component   : hour_in_day;
      minute_component : OPTIONAL minute_in_hour;
      second_component : OPTIONAL second_in_minute;
      zone             : time_offset;
  END_ENTITY;

  ENTITY lot_configuration
    SUBTYPE OF(manufacturing_configuration);
      SELF\Item_usage_effectivity.effectivity_domain : LOT_EFFECTIVITY;
  END_ENTITY;

  ENTITY lot_effectivity
    SUBTYPE OF(effectivity);
      lot_id   : STRING;
      lot_size : VALUE_WITH_UNIT;
  END_ENTITY;

  ENTITY luminous_intensity_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY make_from_relationship
    SUBTYPE OF(VIEW_DEFINITION_USAGE);
      SELF\View_definition_relationship.relating_view : PART_VIEW_DEFINITION;
      SELF\View_definition_relationship.related_view  : PART_VIEW_DEFINITION;
      quantity                                        : OPTIONAL VALUE_WITH_UNIT;
      priority                                        : OPTIONAL INTEGER;
    WHERE
       WR1: SELF\View_definition_relationship.relating_view :<>: 
         SELF\View_definition_relationship.related_view ;
       WR2: NOT(EXISTS(quantity)) XOR 
         ((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) XOR (quantity.value_component > 0));
  END_ENTITY;

  ENTITY manufacturing_configuration
     ABSTRACT SUPERTYPE OF (ONEOF (
                        SERIAL_CONFIGURATION,
                        DATED_CONFIGURATION,
                        LOT_CONFIGURATION))
  SUBTYPE OF(ITEM_USAGE_EFFECTIVITY);
      concerned_organization : SET OF organization;
    WHERE
       WR1: ('MANUFACTURING_CONFIGURATION_EFFECTIVITY_ARM' + '.PRODUCT_SPECIFICATION') IN TYPEOF(resolved_configuration.watched_item);
       WR2: ('MANUFACTURING_CONFIGURATION_EFFECTIVITY_ARM' + '.PRODUCT_OCCURRENCE') IN
         TYPEOF(item_usage_relationship\View_definition_relationship.related_view);
  END_ENTITY;

  ENTITY mapping_based_template_instance
    SUBTYPE OF(detailed_geometric_model_element);
      replicated_model : shape_model;
      source           : axis_placement;
      target           : geometric_mapping_target;
  END_ENTITY;

  ENTITY market;
      name                : STRING;
      market_segment_type : OPTIONAL STRING;
  END_ENTITY;

  ENTITY mass_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY measure_item
     ABSTRACT SUPERTYPE
  SUBTYPE OF(REPRESENTATION_ITEM);
    WHERE
      WR1 : SIZEOF(USEDIN(SELF, 'FOUNDATION_REPRESENTATION_ARM.REPRESENTATION.ITEMS'))>0;
  END_ENTITY;

  ENTITY measure_item_with_precision
    SUBTYPE OF(MEASURE_ITEM);
      significant_digits : INTEGER;
  END_ENTITY;

  ENTITY moments_of_inertia
    SUBTYPE OF(shape_dependent_property_representation);
    WHERE
      WR1 : SIZEOF(QUERY (it <* SELF\Shape_dependent_property_representation.property_representation.items |
            'INERTIA_CHARACTERISTICS_ARM' + '.AXIS_PLACEMENT'IN TYPEOF(it) ))=1;
      WR2 : SIZEOF(QUERY (it <* SELF\Shape_dependent_property_representation.property_representation.items |
            'INERTIA_CHARACTERISTICS_ARM' + '.INERTIA_MATRIX_ITEM' IN TYPEOF(it) ))=1;
          WR3: 'INERTIA_CHARACTERISTICS_ARM' + '.GEOMETRIC_COORDINATE_SPACE' IN 
            TYPEOF(SELF\Shape_dependent_property_representation.property_representation.context_of_items);
  END_ENTITY;

  ENTITY name_assignment;
      name  : STRING;
      role  : STRING;
      items : assigned_name_select;
  END_ENTITY;

  ENTITY next_assembly_usage
    SUBTYPE OF(assembly_component_relationship);
  END_ENTITY;

  ENTITY numerical_item_with_global_unit
    SUBTYPE OF(measure_item);
      value_component : MEASURE_VALUE;
    WHERE
      WR1 : SIZEOF(QUERY(pvr <* QUERY ( r <* USEDIN(SELF, 'FOUNDATION_REPRESENTATION_ARM.REPRESENTATION.ITEMS')| 'MEASURE_REPRESENTATION_ARM.PROPERTY_VALUE_REPRESENTATION' IN TYPEOF(r)) | EXISTS(pvr.context_of_items.units) )) > 0;
  END_ENTITY;

  ENTITY numerical_item_with_unit
    SUBTYPE OF(measure_item, VALUE_WITH_UNIT);
  END_ENTITY;

  ENTITY numerical_representation_context
    SUBTYPE OF(representation_context);
      units      : OPTIONAL SET [1:?] OF UNIT;
      accuracies : OPTIONAL SET [1:?] OF UNCERTAINTY_WITH_UNIT;
  END_ENTITY;

  ENTITY occurrence_placement
     ABSTRACT SUPERTYPE OF (ONEOF (
                        PART_OCCURRENCE_PLACEMENT,
                        PHYSICAL_ELEMENT_PLACEMENT));
      reference_physical_element : physical_element_definition;
      reference_geometric_space  : geometric_model;
      positioned_representation  : template_instance;
  END_ENTITY;

  ENTITY organization;
      id   : OPTIONAL STRING;
      name : STRING;
  END_ENTITY;

  ENTITY organization_or_person_in_organization_assignment;
      assigned_entity : ORGANIZATION_OR_PERSON_IN_ORGANIZATION_SELECT;
      role            : STRING;
      items           : SET [1:?] OF organization_or_person_in_organization_item;
  END_ENTITY;

  ENTITY organization_relationship;
      relation_type         : STRING;
      description           : OPTIONAL STRING;
      relating_organization : organization;
      related_organization  : organization;
  END_ENTITY;

  ENTITY part
    SUBTYPE OF(product);
    WHERE
       WR1: SIZEOF(['part', 'raw material', 'tool']*types_of_product(SELF))=1;
  END_ENTITY;

  ENTITY part_definition_relationship
    SUBTYPE OF(VIEW_DEFINITION_RELATIONSHIP);
      SELF\View_definition_relationship.relating_view : PART_VIEW_DEFINITION;
      SELF\View_definition_relationship.related_view  : PART_VIEW_DEFINITION;
  END_ENTITY;

  ENTITY part_function_association
    SUBTYPE OF(view_definition_relationship);
      SELF\View_definition_relationship.relating_view : functional_element_definition;
      SELF\View_definition_relationship.related_view  : PART_VIEW_DEFINITION;
  END_ENTITY;

  ENTITY part_occurrence_definition_relationship
    SUBTYPE OF(view_definition_relationship);
      SELF\View_definition_relationship.relating_view : part_view_definition;
      SELF\View_definition_relationship.related_view  : part_occurrence_select;
    DERIVE
      SELF\View_definition_relationship.id            : STRING := SELF\View_definition_relationship.related_view\Product_view_definition.id;
    WHERE
       WR1: NOT (('ASSEMBLY_STRUCTURE_ARM.ASSEMBLY_COMPONENT_RELATIONSHIP' IN TYPEOF(SELF))AND (EXISTS(SELF\Assembly_component_relationship.quantity)));
  END_ENTITY;

  ENTITY part_occurrence_placement
    SUBTYPE OF(occurrence_placement);
      placed_part_occurrence : single_instance;
  END_ENTITY;

  ENTITY part_occurrence_relationship
    SUBTYPE OF(view_definition_relationship);
      SELF\View_definition_relationship.relating_view : part_occurrence_select;
      SELF\View_definition_relationship.related_view  : part_occurrence_select;
  END_ENTITY;

  ENTITY part_version
    SUBTYPE OF(PRODUCT_VERSION);
      SELF\Product_version.of_product : part;
  END_ENTITY;

  ENTITY part_view_definition
    SUBTYPE OF(product_view_definition);
      SELF\Product_view_definition.defined_version : part_version;
  END_ENTITY;

  ENTITY partial_document_assignment
    SUBTYPE OF(document_assignment);
      document_portion : STRING;
  END_ENTITY;

  ENTITY person;
      last_name     : STRING;
      first_name    : OPTIONAL STRING;
      middle_names  : OPTIONAL LIST [1:?] OF STRING;
      prefix_titles : OPTIONAL LIST [1:?] OF STRING;
      suffix_titles : OPTIONAL LIST [1:?] OF STRING;
  END_ENTITY;

  ENTITY person_in_organization;
      concerned_person        : person;
      containing_organization : organization;
      role                    : STRING;
  END_ENTITY;

  ENTITY physical_breakdown
    SUBTYPE OF(breakdown);
  END_ENTITY;

  ENTITY physical_breakdown_context
    SUBTYPE OF(breakdown_context);
      SELF\Breakdown_context.breakdown         : physical_breakdown_version;
      SELF\Breakdown_context.breakdown_element : physical_element_definition;
  END_ENTITY;

  ENTITY physical_breakdown_version
    SUBTYPE OF(BREAKDOWN_VERSION);
      SELF\Breakdown_version.of_product : physical_breakdown;
  END_ENTITY;

  ENTITY physical_document_definition
    SUBTYPE OF(document_definition);
      components : SET OF hardcopy;
  END_ENTITY;

  ENTITY physical_element
    SUBTYPE OF(breakdown_element);
  END_ENTITY;

  ENTITY physical_element_definition
    SUBTYPE OF(breakdown_element_definition);
      SELF\Breakdown_element_definition.defined_version : physical_element_version;
  END_ENTITY;

  ENTITY physical_element_placement
    SUBTYPE OF(occurrence_placement);
      placed_physical_element : physical_element_definition;
    WHERE
       WR1: placed_physical_element\Product_view_definition.defined_version :<>: 
         SELF\Occurrence_placement.reference_physical_element\Product_view_definition.defined_version;
  END_ENTITY;

  ENTITY physical_element_usage
    SUBTYPE OF(breakdown_element_usage);
      SELF\Breakdown_element_usage.parent_element : physical_element_definition;
      SELF\Breakdown_element_usage.child_element  : physical_element_definition;
  END_ENTITY;

  ENTITY physical_element_version
    SUBTYPE OF(BREAKDOWN_ELEMENT_VERSION);
      SELF\Breakdown_element_version.of_product : physical_element;
  END_ENTITY;

  ENTITY plane_angle_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY plib_class_reference;
      code         : STRING;
      supplier_bsu : STRING;
      version      : STRING;
  END_ENTITY;

  ENTITY plib_property_reference
    SUBTYPE OF(INDEPENDENT_PROPERTY);
      code       : STRING;
      version    : STRING;
      name_scope : PLIB_CLASS_REFERENCE;
  END_ENTITY;

  ENTITY product;
      id          : STRING;
      name        : OPTIONAL STRING;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY product_category;
      id          : OPTIONAL STRING;
      name        : STRING;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY product_category_assignment;
      category : PRODUCT_CATEGORY;
      products : SET [1:?] OF product;
  END_ENTITY;

  ENTITY product_category_hierarchy;
      super_category : product_category;
      sub_category   : product_category;
  END_ENTITY;

  ENTITY product_class
    SUBTYPE OF(PRODUCT_CONCEPT);
      version_id : OPTIONAL STRING;
      level_type : OPTIONAL STRING;
    WHERE
       WR1: NOT EXISTS(SELF\Product_concept.target_market);
  END_ENTITY;

  ENTITY product_class_relationship;
      description   : OPTIONAL STRING;
      relating      : product_class;
      related       : product_class;
      relation_type : STRING;
  END_ENTITY;

  ENTITY product_concept;
      id            : STRING;
      name          : STRING;
      description   : OPTIONAL STRING;
      target_market : OPTIONAL market;
    UNIQUE
      UR1 : id;
  END_ENTITY;

  ENTITY product_configuration;
      id                   : STRING;
      name                 : STRING;
      description          : OPTIONAL STRING;
      item_context         : product_concept;
    INVERSE
      corresponding_design : SET [0:1] OF item_design_association FOR configuration;
  END_ENTITY;

  ENTITY product_definition_element_relationship;
      id          : STRING;
      name        : STRING;
      description : OPTIONAL STRING;
      breakdown   : breakdown_item;
      product     : product_item;
  END_ENTITY;

  ENTITY product_occurrence
     ABSTRACT SUPERTYPE OF (ONEOF (
                        DEFINITION_BASED_PRODUCT_OCCURRENCE,
                        SPECIFICATION_BASED_PRODUCT_OCCURRENCE)
                        ANDOR 
                        QUANTIFIED_INSTANCE
                        ANDOR 
                        SELECTED_INSTANCE
                        ANDOR 
                        SINGLE_FUNCTION_UNIT
                        ANDOR 
                        SINGLE_INSTANCE)
  SUBTYPE OF(product_view_definition);
      occurrence_quantity : OPTIONAL extended_value_with_unit;
      quantity_criterion  : OPTIONAL STRING;
      occurrence_contexts : SET [1:?] OF view_definition_relationship;
  END_ENTITY;

  ENTITY product_specification
    SUBTYPE OF(PRODUCT_CONFIGURATION);
      version_id                              : OPTIONAL STRING;
      SELF\Product_configuration.item_context : PRODUCT_CLASS;
      defining_specifications                 : SET OF specification;
  END_ENTITY;

  ENTITY product_version;
      id          : STRING;
      description : OPTIONAL STRING;
      of_product  : PRODUCT;
  END_ENTITY;

  ENTITY product_version_relationship;
      relation_type    : STRING;
      description      : OPTIONAL STRING;
      relating_version : PRODUCT_VERSION;
      related_version  : PRODUCT_VERSION;
    WHERE
       WR1: relating_version :<>: related_version;
  END_ENTITY;

  ENTITY product_view_definition;
      id                          : STRING;
      name                        : OPTIONAL STRING;
      additional_characterization : OPTIONAL STRING;
      initial_context             : view_definition_context;
      additional_contexts         : SET OF view_definition_context;
      defined_version             : PRODUCT_VERSION;
    WHERE
      WR1 : NOT (initial_context IN additional_contexts);
  END_ENTITY;

  ENTITY promissory_usage
    SUBTYPE OF(assembly_component_relationship);
  END_ENTITY;

  ENTITY property_representation;
      description : OPTIONAL STRING;
      property    : assigned_property;
      rep         : REPRESENTATION;
      role        : OPTIONAL STRING;
  END_ENTITY;

  ENTITY property_value_representation
    SUBTYPE OF(REPRESENTATION);
      SELF\Representation.context_of_items : NUMERICAL_REPRESENTATION_CONTEXT;
  END_ENTITY;

  ENTITY qualified_property_value_representation
    SUBTYPE OF(PROPERTY_VALUE_REPRESENTATION);
      value_determination : OPTIONAL STRING;
      qualifier           : OPTIONAL STRING;
  END_ENTITY;

  ENTITY quantified_instance
    SUBTYPE OF(product_occurrence);
      SELF\product_occurrence.occurrence_quantity : VALUE_WITH_UNIT;
    WHERE
      WR1 : SIZEOF(['PRODUCT_OCCURRENCE_ARM.DEFINITION_BASED_PART_OCCURRENCE',
            'PRODUCT_OCCURRENCE_ARM.SPECIFICATION_BASED_PART_OCCURRENCE']*TYPEOF(SELF))=1;
      WR2 : NOT (EXISTS(SELF\Product_occurrence.quantity_criterion));
  END_ENTITY;

  ENTITY ratio_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY relative_event
    SUBTYPE OF(event);
      base_event : event;
      offset     : DURATION;
  END_ENTITY;

  ENTITY replaced_usage_relationship
    SUBTYPE OF(part_occurrence_relationship);
      usage_context                                   : instance_usage_context_select;
    DERIVE
      SELF\View_definition_relationship.relation_type : STRING := 'usage replacement';
  END_ENTITY;

  ENTITY representation;
      id               : OPTIONAL STRING;
      name             : STRING;
      description      : OPTIONAL STRING;
      context_of_items : representation_context;
      items            : SET [1:?] OF representation_item;
  END_ENTITY;

  ENTITY representation_context;
      id                         : STRING;
      kind                       : STRING;
    INVERSE
      representations_in_context : SET [1:?] OF representation FOR context_of_items;
  END_ENTITY;

  ENTITY representation_item
     ABSTRACT SUPERTYPE;
      name : STRING;
  END_ENTITY;

  ENTITY representation_relationship;
      relation_type : STRING;
      description   : STRING;
      rep_1         : representation;
      rep_2         : representation;
  END_ENTITY;

  ENTITY requirement
    SUBTYPE OF(product);
  END_ENTITY;

  ENTITY requirement_version
    SUBTYPE OF(product_version);
      SELF\Product_version.of_product : requirement;
  END_ENTITY;

  ENTITY requirement_version_relationship
    SUBTYPE OF(PRODUCT_VERSION_RELATIONSHIP);
      SELF\Product_version_relationship.predecessor : requirement_version;
      SELF\Product_version_relationship.successor   : requirement_version;
  END_ENTITY;

  ENTITY selected_instance
    SUBTYPE OF(product_occurrence);
    WHERE
      WR1 : SIZEOF(['PRODUCT_OCCURRENCE_ARM.DEFINITION_BASED_PART_OCCURRENCE',
            'PRODUCT_OCCURRENCE_ARM.SPECIFICATION_BASED_PART_OCCURRENCE']*TYPEOF(SELF))=1;
      WR2 : (EXISTS(SELF\Product_occurrence.quantity_criterion)) OR
            (NOT('PRODUCT_OCCURRENCE_ARM.VALUE_WITH_UNIT' IN TYPEOF(SELF\Product_occurrence.occurrence_quantity)));
  END_ENTITY;

  ENTITY serial_configuration
    SUBTYPE OF(manufacturing_configuration);
      SELF\Item_usage_effectivity.effectivity_domain : SERIAL_EFFECTIVITY;
  END_ENTITY;

  ENTITY serial_effectivity
    SUBTYPE OF(effectivity);
      start_id : STRING;
      end_id   : OPTIONAL STRING;
  END_ENTITY;

  ENTITY shape_dependent_property_representation;
      characteristic_type     : STRING;
      description             : OPTIONAL STRING;
      described_element       : shape_dependent_select;
      property_representation : representation;
  END_ENTITY;

  ENTITY shape_description_association;
      represented_characteristic : shape_select;
      representation             : shape_model;
      role                       : OPTIONAL STRING;
      description                : OPTIONAL STRING;
  END_ENTITY;

  ENTITY shape_element;
      id               : OPTIONAL STRING;
      element_name     : STRING;
      description      : OPTIONAL STRING;
      containing_shape : item_shape;
  END_ENTITY;

  ENTITY shape_element_relationship;
      relation_type : STRING;
      description   : OPTIONAL STRING;
      relating      : shape_element;
      related       : shape_element;
  END_ENTITY;

  ENTITY single_function_unit
    SUBTYPE OF(product_occurrence);
    WHERE
      WR1 : SIZEOF(['PRODUCT_OCCURRENCE_ARM.DEFINITION_BASED_FUNCTION_OCCURRENCE',
            'PRODUCT_OCCURRENCE_ARM.SPECIFICATION_BASED_FUNCTION_OCCURRENCE']*TYPEOF(SELF))=1;
      WR2 : NOT (EXISTS(SELF\Product_occurrence.occurrence_quantity) OR EXISTS(SELF\Product_occurrence.quantity_criterion));
  END_ENTITY;

  ENTITY single_instance
    SUBTYPE OF(product_occurrence);
    WHERE
      WR1 : SIZEOF(['PRODUCT_OCCURRENCE_ARM.DEFINITION_BASED_PART_OCCURRENCE',
            'PRODUCT_OCCURRENCE_ARM.SPECIFICATION_BASED_PART_OCCURRENCE']*TYPEOF(SELF))=1;
      WR2 : NOT (EXISTS(SELF\Product_occurrence.occurrence_quantity) OR EXISTS(SELF\Product_occurrence.quantity_criterion));
  END_ENTITY;

  ENTITY solid_angle_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY solution_element;
      resolved_requirement : complex_product_select;
      element              : part_occurrence_select;
      description          : OPTIONAL STRING;
  END_ENTITY;

  ENTITY specification;
      id          : STRING;
      version_id  : OPTIONAL STRING;
      name        : OPTIONAL STRING;
      description : OPTIONAL STRING;
      category    : specification_category;
      package     : BOOLEAN;
  END_ENTITY;

  ENTITY specification_based_function_occurrence
     ABSTRACT SUPERTYPE
  SUBTYPE OF(specification_based_product_occurrence);
    WHERE
       WR1: 'PRODUCT_OCCURRENCE_ARM.FUNCTIONAL_ELEMENT_VERSION' IN TYPEOF(SELF\Product_view_definition.defined_version);
  END_ENTITY;

  ENTITY specification_based_part_occurrence
     ABSTRACT SUPERTYPE
  SUBTYPE OF(specification_based_product_occurrence);
    WHERE
       WR1: 'PRODUCT_OCCURRENCE_ARM.PART_VERSION' IN TYPEOF(SELF\Product_view_definition.defined_version);
  END_ENTITY;

  ENTITY specification_based_product_occurrence
     ABSTRACT SUPERTYPE OF (ONEOF (
                        SPECIFICATION_BASED_FUNCTION_OCCURRENCE,
                        SPECIFICATION_BASED_PART_OCCURRENCE))
  SUBTYPE OF(product_occurrence);
      SELF\Product_view_definition.defined_version : specification_based_product_version;
  END_ENTITY;

  ENTITY specification_based_product_version
    SUBTYPE OF(PRODUCT_VERSION);
    INVERSE
      specification_source : item_design_association FOR design;
    WHERE
       WR1 : 'SPECIFIED_PRODUCT_ARM.PRODUCT_SPECIFICATION' IN TYPEOF(specification_source.configuration);
  END_ENTITY;

  ENTITY specification_category;
      id                           : STRING;
      description                  : STRING;
      implicit_exclusive_condition : BOOLEAN;
  END_ENTITY;

  ENTITY specification_category_breakdown_influence;
      influencing_category      : CLASS_CATEGORY_ASSOCIATION;
      influenced_breakdown_node : breakdown_element_select;
  END_ENTITY;

  ENTITY specification_category_hierarchy;
      sub_category   : specification_category;
      super_category : specification_category;
  END_ENTITY;

  ENTITY specification_expression;
      id          : OPTIONAL STRING;
      description : OPTIONAL STRING;
      operation   : expression_operator;
      operand     : SET [1:?] OF specification_operand_select;
    WHERE
      WR1 : (operation <> not_operator) OR (SIZEOF(operand)=1);
  END_ENTITY;

  ENTITY specification_inclusion;
      id                     : OPTIONAL STRING;
      description            : OPTIONAL STRING;
      if_condition           : specification_operand_select;
      included_specification : specification_operand_select;
  END_ENTITY;

  ENTITY string_representation_item
    SUBTYPE OF(representation_item);
      string_value : STRING;
  END_ENTITY;

  ENTITY supplied_part_relationship
    SUBTYPE OF(product_version_relationship);
    WHERE
      WR1 : SELF\Product_version_relationship.relation_type IN ['supplied item', 'supplied document'];
  END_ENTITY;

  ENTITY supplier_solution
    SUBTYPE OF(alternative_solution);
      supplier         : organization;
      probability_rate : OPTIONAL REAL;
    DERIVE
      actual_rate      : REAL := NVL(probability_rate, 1.);
    WHERE
      WR1 : { 0. <= actual_rate <= 1. };
  END_ENTITY;

  ENTITY technical_solution
    SUBTYPE OF(alternative_solution);
      description : STRING;
  END_ENTITY;

  ENTITY thermodynamic_temperature_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY time_interval;
      id          : STRING;
      name        : STRING;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY time_interval_effectivity
    SUBTYPE OF(effectivity);
      effectivity_period : TIME_INTERVAL;
  END_ENTITY;

  ENTITY time_interval_relationship;
      relation_type          : STRING;
      description            : STRING;
      relating_time_interval : time_interval;
      related_time_interval  : time_interval;
  END_ENTITY;

  ENTITY time_interval_with_bounds
    SUBTYPE OF(time_interval);
      primary_bound               : OPTIONAL DATE_OR_EVENT;
      secondary_bound             : OPTIONAL DATE_OR_EVENT;
      duration_from_primary_bound : OPTIONAL DURATION;
    WHERE
      WR1 : NOT (EXISTS (secondary_bound) AND EXISTS (duration_from_primary_bound));
      WR2 : EXISTS (primary_bound) OR EXISTS (secondary_bound);
  END_ENTITY;

  ENTITY time_offset;
      hour_offset          : INTEGER;
      minute_offset        : OPTIONAL INTEGER;
      sense                : offset_orientation;
    DERIVE
      actual_minute_offset : INTEGER := NVL(minute_offset,0);
    WHERE
      WR1 : { 0 <= hour_offset < 24 };
      WR2 : { 0 <= actual_minute_offset <= 59 };
      WR3 : NOT (((hour_offset <> 0) OR (actual_minute_offset <>0)) AND (sense = exact));
  END_ENTITY;

  ENTITY time_unit
    SUBTYPE OF(unit);
  END_ENTITY;

  ENTITY transformation_based_template_instance
    SUBTYPE OF(detailed_geometric_model_element);
      replicated_model           : shape_model;
      replication_transformation : cartesian_transformation;
  END_ENTITY;

  ENTITY uncertainty_with_unit
    SUBTYPE OF(value_with_unit);
      name        : STRING;
      description : OPTIONAL STRING;
  END_ENTITY;

  ENTITY unit
    SUPERTYPE OF (ONEOF (
              AMOUNT_OF_SUBSTANCE_UNIT,
              ELECTRIC_CURRENT_UNIT,
              LENGTH_UNIT,
              LUMINOUS_INTENSITY_UNIT,
              MASS_UNIT,
              PLANE_ANGLE_UNIT,
              RATIO_UNIT,
              SOLID_ANGLE_UNIT,
              THERMODYNAMIC_TEMPERATURE_UNIT,
              TIME_UNIT)
              ANDOR 
              CONTEXT_DEPENDENT_UNIT
              ANDOR 
              CONVERSION_BASED_UNIT
              ANDOR 
              DERIVED_UNIT);
      name    : STRING;
      si_unit : BOOLEAN;
  END_ENTITY;

  ENTITY value_limit
    SUBTYPE OF(MEASURE_ITEM);
      limit_qualifier : limit_qualifier_list;
      limit           : VALUE_WITH_UNIT;
  END_ENTITY;

  ENTITY value_limit_with_global_unit
    SUBTYPE OF(MEASURE_ITEM);
      limit           : NUMERICAL_ITEM_WITH_GLOBAL_UNIT;
      limit_qualifier : limit_qualifier_list;
  END_ENTITY;

  ENTITY value_list
    SUBTYPE OF(MEASURE_ITEM);
      values : LIST [1:?] OF MEASURE_ITEM;
  END_ENTITY;

  ENTITY value_range
    SUBTYPE OF(MEASURE_ITEM);
      lower_limit : NUMERICAL_ITEM_WITH_UNIT;
      upper_limit : NUMERICAL_ITEM_WITH_UNIT;
  END_ENTITY;

  ENTITY value_range_with_global_unit
    SUBTYPE OF(MEASURE_ITEM);
      lower_limit : NUMERICAL_ITEM_WITH_GLOBAL_UNIT;
      upper_limit : NUMERICAL_ITEM_WITH_GLOBAL_UNIT;
  END_ENTITY;

  ENTITY value_set
    SUBTYPE OF(MEASURE_ITEM);
      values : SET [1:?] OF MEASURE_ITEM;
  END_ENTITY;

  ENTITY value_with_tolerances
    SUBTYPE OF(MEASURE_ITEM);
      item_value  : NUMERICAL_ITEM_WITH_UNIT;
      lower_limit : REAL;
      upper_limit : REAL;
  END_ENTITY;

  ENTITY value_with_unit;
      unit            : unit;
      value_component : measure_value;
  END_ENTITY;

  ENTITY view_definition_context;
      application_domain : STRING;
      life_cycle_stage   : STRING;
      description        : OPTIONAL STRING;
  END_ENTITY;

  ENTITY view_definition_relationship;
      id            : OPTIONAL STRING;
      relation_type : OPTIONAL STRING;
      description   : OPTIONAL STRING;
      relating_view : PRODUCT_VIEW_DEFINITION;
      related_view  : PRODUCT_VIEW_DEFINITION;
  END_ENTITY;

  ENTITY view_definition_usage
    SUBTYPE OF(view_definition_relationship);
  END_ENTITY;

  FUNCTION aggregate1_in_aggregate2
  (agg1, agg2: AGGREGATE OF GENERIC): LOGICAL;
  RETURN(SIZEOF(QUERY (ele <* agg1 | VALUE_IN(agg2, ele)))= SIZEOF(agg1));

  END_FUNCTION;

  FUNCTION consistent_configuration_type
  (config: Configuration): BOOLEAN;
  IF ('SPECIFICATION_BASED_CONFIGURATION_ARM.CLASS_CONDITION_ASSOCIATION' IN TYPEOF(config.is_solution_for)) THEN
    IF config.configuration_type = configuration_kind.usage THEN
      RETURN(config.is_solution_for\Class_condition_association.condition_type ='part usage');
    ELSE
      RETURN(config.is_solution_for\Class_condition_association.condition_type ='design case');
    END_IF;
  END_IF;
  
  IF ('SPECIFICATION_BASED_CONFIGURATION_ARM.CLASS_SPECIFICATION_ASSOCIATION' IN TYPEOF(config.is_solution_for)) THEN
    IF config.configuration_type = configuration_kind.usage THEN
      RETURN(config.is_solution_for\Class_specification_association.association_type ='part usage');
    ELSE 
      RETURN(config.is_solution_for\Class_specification_association.association_type ='design case');
    END_IF;
  END_IF;
  
  RETURN(FALSE);

  END_FUNCTION;

  FUNCTION type_of_set
  (items: SET OF GENERIC_ENTITY): SET OF STRING;
  LOCAL
    result: SET OF STRING:= [];
  END_LOCAL;
  
  REPEAT i:=1 TO HIINDEX(items);
    result := result + TYPEOF(items[i]);
  END_REPEAT;
  RETURN(result);

  END_FUNCTION;

  FUNCTION types_of_product
  (obj : Product) : SET OF STRING; 
   LOCAL
   	category_assignments: BAG OF Product_category_assignment;
   	categories: SET OF STRING:=[];
   	i: INTEGER;
   END_LOCAL;
   
   category_assignments := USEDIN(obj,'PRODUCT_IDENTIFICATION_ARM.' + 'PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS');
      
   REPEAT i := LOINDEX(category_assignments) TO HIINDEX(category_assignments) BY 1;
         categories := categories + category_assignments[i].category.name;
   END_REPEAT;
   
   RETURN(categories);

  END_FUNCTION;

  RULE definition_replacement_requires_effectivity_assignment FOR
    (part_definition_relationship);
    WHERE
      WR1 : SIZEOF( QUERY( pdr <* Part_definition_relationship | 
            (pdr\View_definition_relationship.relation_type = 'definition replacement') AND 
            (SIZEOF( USEDIN(pdr,'ITEM_DEFINITION_STRUCTURE_ARM.EFFECTIVITY_ASSIGNMENT.ITEMS') ) = 0) ))
            = 0;
  END_RULE;

  SUBTYPE_CONSTRAINT alternate_measure_items FOR MEASURE_ITEM;
    ABSTRACT SUPERTYPE;
    ONEOF(measure_item_with_precision, NUMERICAL_ITEM_WITH_GLOBAL_UNIT, NUMERICAL_ITEM_WITH_UNIT, value_limit, value_limit_with_global_unit, value_list, value_range, value_range_with_global_unit, value_set, value_with_tolerances);
  END_SUBTYPE_CONSTRAINT;

  SUBTYPE_CONSTRAINT alternate_part_instance FOR product_occurrence;
    ONEOF(single_instance, quantified_instance, selected_instance);
  END_SUBTYPE_CONSTRAINT;

  SUBTYPE_CONSTRAINT plib_or_external FOR INDEPENDENT_PROPERTY;
    ONEOF(plib_property_reference, external_library_property);
  END_SUBTYPE_CONSTRAINT;


END_SCHEMA;

