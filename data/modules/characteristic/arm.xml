<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-08-31T12:01:57" rcs.revision="1.0" description.file="arm_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="characteristic_arm schema_instance"/>
   <schema name="Characteristic_arm">
      <interface kind="use" schema="Document_assignment_arm"/>
      <interface kind="use" schema="Extended_measure_representation_arm"/>
      <interface kind="use" schema="Value_with_unit_extension_arm"/>
      <type name="c_documented_element_select">
         <select extensible="YES" basedon="documented_element_select" selectitems="coordinated_characteristic"/>
      </type>
      <type name="characteristic">
         <select selectitems="String_representation_item Numerical_item_with_unit Value_list Value_set"/>
      </type>
      <type name="coordinated_characteristic">
         <select selectitems="Property_value_representation Characteristic_representation"/>
      </type>
      <type name="list_characteristic">
         <aggregate type="LIST" lower="1" upper="?"/>
         <typename name="characteristic"/>
      </type>
      <type name="range_class">
         <enumeration items="closed lower_open upper_open open"/>
      </type>
      <type name="scalar_or_coordinated_characteristics">
         <select selectitems="coordinated_characteristic characteristic"/>
      </type>
      <type name="value_qualifier">
         <select selectitems="Precision_qualifier Type_qualifier Uncertainty_qualifier"/>
      </type>
      <entity name="Characteristic_data_table" supertypes="Measure_item">
         <explicit name="property_value">
            <aggregate type="LIST" lower="1" upper="?"/>
            <typename name="list_characteristic"/>
         </explicit>
      </entity>
      <entity name="Characteristic_representation" supertypes="Representation"/>
      <entity name="Expanded_uncertainty" supertypes="Standard_uncertainty">
         <explicit name="coverage_factor">
            <builtintype type="REAL"/>
         </explicit>
      </entity>
      <entity name="Maximum_tolerance_characteristic" supertypes="Tolerance_characteristic">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="1"/>
            <typename name="Numerical_item_with_unit"/>
            <redeclaration entity-ref="Representation"/>
         </explicit>
      </entity>
      <entity name="Measure_qualification">
         <explicit name="name">
            <builtintype type="STRING"/>
         </explicit>
         <explicit name="description">
            <builtintype type="STRING"/>
         </explicit>
         <explicit name="qualified_measure">
            <typename name="Value_with_unit"/>
         </explicit>
         <explicit name="qualifiers">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="value_qualifier"/>
         </explicit>
      </entity>
      <entity name="Minimum_tolerance_characteristic" supertypes="Tolerance_characteristic">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="1"/>
            <typename name="Numerical_item_with_unit"/>
            <redeclaration entity-ref="Representation"/>
         </explicit>
      </entity>
      <entity name="Nominal_tolerance_characteristic" supertypes="Tolerance_characteristic">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="1"/>
            <typename name="Numerical_item_with_unit"/>
            <redeclaration entity-ref="Representation"/>
         </explicit>
      </entity>
      <entity name="Plus_minus_tolerance_characteristic" supertypes="Tolerance_characteristic">
         <explicit name="items">
            <aggregate type="SET" lower="3" upper="3"/>
            <typename name="Numerical_item_with_unit"/>
            <redeclaration entity-ref="Representation"/>
         </explicit>
         <derived name="minimum_value" expression="get_value('minimum',SELF\representation.items)">
            <typename name="Numerical_item_with_unit"/>
         </derived>
         <derived name="nominal_value" expression="get_value('nominal',SELF\representation.items)">
            <typename name="Numerical_item_with_unit"/>
         </derived>
         <derived name="maximum_value" expression="get_value('maximum',SELF\representation.items)">
            <typename name="Numerical_item_with_unit"/>
         </derived>
         <where label="WR1" expression="SIZEOF(QUERY( ri &lt;* &#10;         SELF\representation.items | ri.name = 'minimum')) = 1"/>
         <where label="WR2" expression="SIZEOF(QUERY( ri &lt;* &#10;         SELF\representation.items | ri.name = 'nominal')) = 1"/>
         <where label="WR3" expression="SIZEOF(QUERY( ri &lt;* &#10;         SELF\representation.items | ri.name = 'maximum')) = 1"/>
         <where label="WR4" expression="valid_relationship(minimum_value,nominal_value)"/>
         <where label="WR5" expression="valid_relationship(nominal_value,maximum_value)"/>
         <where label="WR6" expression="TYPEOF(minimum_value) = TYPEOF(nominal_value)"/>
         <where label="WR7" expression="TYPEOF(nominal_value) = TYPEOF(maximum_value)"/>
      </entity>
      <entity name="Precision_qualifier">
         <explicit name="precision_value">
            <builtintype type="INTEGER"/>
         </explicit>
      </entity>
      <entity name="Qualitative_uncertainty" supertypes="Uncertainty_qualifier">
         <explicit name="uncertainty_value">
            <builtintype type="STRING"/>
         </explicit>
      </entity>
      <entity name="Range_characteristic" supertypes="Characteristic_representation">
         <explicit name="items">
            <aggregate type="SET" lower="2" upper="2"/>
            <typename name="Numerical_item_with_unit"/>
            <redeclaration entity-ref="Representation"/>
         </explicit>
         <explicit name="range_type">
            <typename name="range_class"/>
         </explicit>
         <where label="WR1" expression="TYPEOF(SELF\Representation.items[1]) =&#10;          TYPEOF(SELF\Representation.items[2])"/>
         <where label="WR2" expression="TYPEOF(SELF\Representation.items[1]\Value_with_unit.unit) =&#10;          TYPEOF(SELF\Representation.items[2]\Value_with_unit.unit)"/>
         <where label="WR3" expression="valid_range(SELF\Representation.items[1],&#10;                      SELF\Representation.items[2])"/>
      </entity>
      <entity name="Standard_uncertainty" supertypes="Uncertainty_qualifier" super.expression="Expanded_uncertainty">
         <explicit name="uncertainty_value">
            <builtintype type="REAL"/>
         </explicit>
      </entity>
      <entity name="Statistical_tolerance_characteristic" supertypes="Tolerance_characteristic">
         <where label="IP1"/>
         <where label="IP2"/>
      </entity>
      <entity name="Symmetrical_tolerance_characteristic" supertypes="Tolerance_characteristic">
         <explicit name="items">
            <aggregate type="SET" lower="2" upper="2"/>
            <typename name="Numerical_item_with_unit"/>
            <redeclaration entity-ref="Representation"/>
         </explicit>
         <where label="WR1" expression="SIZEOF(QUERY( ri &lt;* &#10;         SELF\representation.items |&#10;        'VALUE_WITH_UNIT_EXTENSION.RATIO_DATA_ELEMENT' IN TYPEOF(ri))) = 1"/>
      </entity>
      <entity name="Text_representation_item" supertypes="String_representation_item">
         <derived name="name" expression="'text'">
            <builtintype type="STRING"/>
            <redeclaration entity-ref="Representation_item"/>
         </derived>
      </entity>
      <entity name="Tolerance_characteristic" supertypes="Characteristic_representation" super.expression="ONEOF (Minimum_tolerance_characteristic, Statistical_tolerance_characteristic, Symmetrical_tolerance_characteristic, Maximum_tolerance_characteristic, Plus_minus_tolerance_characteristic, Nominal_tolerance_characteristic)">
         <explicit name="items">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="Numerical_item_with_unit"/>
            <redeclaration entity-ref="Representation"/>
         </explicit>
         <where label="WR1" expression="SELF\Representation.context_of_items\Representation_context.id = 'tolerance values'"/>
      </entity>
      <entity name="Type_qualifier">
         <explicit name="name">
            <builtintype type="STRING"/>
         </explicit>
      </entity>
      <entity name="Uncertainty_qualifier" super.expression="ONEOF (Standard_uncertainty, Qualitative_uncertainty)">
         <explicit name="measure_name">
            <builtintype type="STRING"/>
         </explicit>
         <explicit name="description">
            <builtintype type="STRING"/>
         </explicit>
      </entity>
      <function name="get_value">
         <parameter name="input1">
            <builtintype type="STRING"/>
         </parameter>
         <parameter name="np">
            <aggregate type="SET" lower="0" upper="?"/>
            <typename name="Representation_item"/>
         </parameter>
         <typename name="Numerical_item_with_unit"/>
         <algorithm>REPEAT i := 1 to SIZEOF(np) by 1;
  IF input1 = np[i]\Representation_item.name THEN
       RETURN(np[i]);
  END_IF;
END_REPEAT;
  RETURN(?);</algorithm>
      </function>
      <function name="valid_range">
         <parameter name="input1">
            <typename name="Numerical_item_with_unit"/>
         </parameter>
         <parameter name="input2">
            <typename name="Numerical_item_with_unit"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>RETURN(TRUE);</algorithm>
      </function>
      <function name="valid_relationship">
         <parameter name="input1">
            <typename name="Numerical_item_with_unit"/>
         </parameter>
         <parameter name="input2">
            <typename name="Numerical_item_with_unit"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>RETURN(TRUE);</algorithm>
      </function>
   </schema>
</express>
