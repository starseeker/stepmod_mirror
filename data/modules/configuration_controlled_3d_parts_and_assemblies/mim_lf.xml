<?xml version='1.0' encoding='UTF-8'?>
<!-- $Id: express2xml.js,v 1.38 2004/08/24 16:58:55 thendrix Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml2.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.38"
    source="../data/modules/configuration_controlled_3d_parts_and_assemblies/mim_lf.exp"/>

  <schema name="Configuration_controlled_3d_parts_and_assemblies_mim_lf">

    <constant name="dummy_gri"
      expression="representation_item('')|| geometric_representation_item()">
      <typename
        name="geometric_representation_item"/>
    </constant>

    <constant name="dummy_tri"
      expression="representation_item('')|| topological_representation_item()">
      <typename
        name="topological_representation_item"/>
    </constant>

    <type name="action_items">
      <select
        selectitems="configuration_effectivity product_definition product_definition_formation product_definition_relationship">
      </select>
    </type>

    <type name="action_request_item">
      <select
        selectitems="product_definition product_definition_formation product_definition_relationship property_definition">
      </select>
    </type>

    <type name="ahead_or_behind">
      <enumeration
        items="ahead exact behind">
      </enumeration>
    </type>

    <type name="amount_of_substance_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="angle_relator">
      <enumeration
        items="equal large small">
      </enumeration>
    </type>

    <type name="approval_item">
      <select
        selectitems="action applied_action_assignment certification configuration_effectivity contract product_definition product_definition_formation product_definition_relationship versioned_action_request">
      </select>
    </type>

    <type name="area_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="area_or_view">
      <select
        selectitems="presentation_area presentation_view">
      </select>
    </type>

    <type name="attribute_language_item">
      <select
        selectitems="applied_document_reference applied_document_usage_constraint_assignment applied_external_identification_assignment applied_organizational_project_assignment approval approval_relationship approval_status attribute_value_assignment certification certification_type contract date_role date_time_role document_relationship document_usage_role external_source identification_role multi_language_attribute_assignment object_role organization_relationship organizational_project organizational_project_relationship organizational_project_role person_and_organization product product_category product_definition product_definition_formation product_definition_relationship">
      </select>
    </type>

    <type name="attribute_type">
      <select
        selectitems="label text">
      </select>
    </type>

    <type name="axis2_placement">
      <select
        selectitems="axis2_placement_2d axis2_placement_3d">
      </select>
    </type>

    <type name="b_spline_curve_form">
      <enumeration
        items="polyline_form circular_arc elliptic_arc parabolic_arc hyperbolic_arc unspecified">
      </enumeration>
    </type>

    <type name="b_spline_surface_form">
      <enumeration
        items="plane_surf cylindrical_surf conical_surf spherical_surf toroidal_surf surf_of_revolution ruled_surf generalised_cone quadric_surf surf_of_linear_extrusion unspecified">
      </enumeration>
    </type>

    <type name="boolean_operand">
      <select
        selectitems="solid_model half_space_solid csg_primitive boolean_result">
      </select>
    </type>

    <type name="boolean_operator">
      <enumeration
        items="union intersection difference">
      </enumeration>
    </type>

    <type name="box_characteristic_select">
      <select
        selectitems="box_height box_width box_slant_angle box_rotate_angle">
      </select>
    </type>

    <type name="box_height">
      <typename
        name="positive_ratio_measure"/>
    </type>

    <type name="box_rotate_angle">
      <typename
        name="plane_angle_measure"/>
    </type>

    <type name="box_slant_angle">
      <typename
        name="plane_angle_measure"/>
    </type>

    <type name="box_width">
      <typename
        name="positive_ratio_measure"/>
    </type>

    <type name="celsius_temperature_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="central_or_parallel">
      <enumeration
        items="central parallel">
      </enumeration>
    </type>

    <type name="certification_item">
      <select
        selectitems="product_definition_formation_relationship">
      </select>
    </type>

    <type name="character_spacing_select">
      <select
        selectitems="length_measure ratio_measure measure_with_unit descriptive_measure">
      </select>
    </type>

    <type name="character_style_select">
      <select
        selectitems="character_glyph_style_stroke character_glyph_style_outline text_style_for_defined_font">
      </select>
    </type>

    <type name="characterized_action_definition">
      <select
        selectitems="action action_method action_relationship">
      </select>
    </type>

    <type name="characterized_definition">
      <select
        selectitems="characterized_object characterized_product_definition shape_definition">
      </select>
    </type>

    <type name="characterized_product_definition">
      <select
        selectitems="product_definition product_definition_relationship">
      </select>
    </type>

    <type name="classification_item">
      <select
        selectitems="action action_directive action_method action_property action_relationship action_request_solution action_request_status address alternate_product_relationship applied_action_assignment applied_action_request_assignment applied_approval_assignment applied_certification_assignment applied_contract_assignment applied_date_and_time_assignment applied_date_assignment applied_document_reference applied_document_usage_constraint_assignment applied_effectivity_assignment applied_event_occurrence_assignment applied_external_identification_assignment applied_identification_assignment applied_organization_assignment applied_organizational_project_assignment applied_person_and_organization_assignment applied_security_classification_assignment approval approval_person_organization approval_relationship approval_status assembly_component_usage_substitute calendar_date certification class configuration_item context_dependent_unit contract conversion_based_unit date_and_time date_and_time_assignment date_assignment derived_unit descriptive_representation_item directed_action document_file document_relationship effectivity event_occurrence executed_action general_property general_property_relationship group identification_assignment language measure_representation_item measure_with_unit multi_language_attribute_assignment named_unit organization organization_relationship organizational_address organizational_project organizational_project_relationship person person_and_organization_address product product_category product_concept product_definition product_definition_context product_definition_formation product_definition_formation_relationship product_definition_relationship property_definition property_definition_representation representation representation_context representation_item security_classification uncertainty_measure_with_unit versioned_action_request">
      </select>
    </type>

    <type name="compound_item_definition">
      <select
        selectitems="list_representation_item set_representation_item">
      </select>
    </type>

    <type name="configuration_design_item">
      <select
        selectitems="product_definition product_definition_formation">
      </select>
    </type>

    <type name="context_dependent_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="contract_item">
      <select
        selectitems="product_definition_formation">
      </select>
    </type>

    <type name="count_measure">
      <builtintype
        type="NUMBER">
      </builtintype>
    </type>

    <type name="csg_primitive">
      <select
        selectitems="sphere block right_angular_wedge torus right_circular_cone right_circular_cylinder">
      </select>
    </type>

    <type name="csg_select">
      <select
        selectitems="boolean_result csg_primitive">
      </select>
    </type>

    <type name="curve_font_or_scaled_curve_font_select">
      <select
        selectitems="curve_style_font_select">
      </select>
    </type>

    <type name="curve_on_surface">
      <select
        selectitems="pcurve surface_curve composite_curve_on_surface">
      </select>
    </type>

    <type name="curve_or_annotation_curve_occurrence">
      <select
        selectitems="curve annotation_curve_occurrence">
      </select>
    </type>

    <type name="curve_or_render">
      <select
        selectitems="curve_style">
      </select>
    </type>

    <type name="curve_style_font_select">
      <select
        selectitems="curve_style_font pre_defined_curve_font externally_defined_curve_font">
      </select>
    </type>

    <type name="date_and_time_item">
      <select
        selectitems="action applied_action_assignment applied_organization_assignment applied_person_and_organization_assignment applied_security_classification_assignment approval_person_organization certification contract document_file event_occurrence executed_action organizational_project product_definition product_definition_formation product_definition_relationship security_classification versioned_action_request">
      </select>
    </type>

    <type name="date_item">
      <select
        selectitems="action applied_action_assignment applied_organization_assignment applied_person_and_organization_assignment applied_security_classification_assignment approval_person_organization certification contract document_file event_occurrence organizational_project product_definition product_definition_formation product_definition_relationship security_classification versioned_action_request">
      </select>
    </type>

    <type name="date_time_or_event_occurrence">
      <select
        selectitems="date_time_select event_occurrence">
      </select>
    </type>

    <type name="date_time_select">
      <select
        selectitems="date date_and_time local_time">
      </select>
    </type>

    <type name="day_in_month_number">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="WR1"
        expression="{1 &lt;= SELF &lt;= 31}">
      </where>
    </type>

    <type name="defined_glyph_select">
      <select
        selectitems="pre_defined_character_glyph externally_defined_character_glyph">
      </select>
    </type>

    <type name="defined_symbol_select">
      <select
        selectitems="pre_defined_symbol externally_defined_symbol">
      </select>
    </type>

    <type name="derived_property_select">
      <select
        selectitems="action_property property_definition">
      </select>
    </type>

    <type name="description_attribute_select">
      <select
        selectitems="action_request_solution application_context approval_role configuration_design context_dependent_shape_representation date_role date_time_role effectivity external_source organization_role person_and_organization person_and_organization_role property_definition_representation representation">
      </select>
    </type>

    <type name="descriptive_measure">
      <builtintype
        type="STRING">
      </builtintype>
    </type>

    <type name="dimension_count">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="WR1"
        expression="SELF &gt; 0">
      </where>
    </type>

    <type name="dimension_extent_usage">
      <enumeration
        items="origin target">
      </enumeration>
    </type>

    <type name="dimensional_characteristic">
      <select
        selectitems="dimensional_location dimensional_size">
      </select>
    </type>

    <type name="direction_count_select">
      <select
        selectitems="u_direction_count v_direction_count">
      </select>
    </type>

    <type name="document_reference_item">
      <select
        selectitems="action_method dimensional_size executed_action externally_defined_dimension_definition product product_definition product_definition_formation product_definition_formation_relationship shape_aspect shape_aspect_relationship versioned_action_request">
      </select>
    </type>

    <type name="draughting_callout_element">
      <select
        selectitems="annotation_text_occurrence annotation_symbol_occurrence annotation_curve_occurrence">
      </select>
    </type>

    <type name="effectivity_item">
      <select
        selectitems="product_definition product_definition_formation product_definition_relationship">
      </select>
    </type>

    <type name="electric_current_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="event_occurrence_item">
      <select
        selectitems="organizational_project">
      </select>
    </type>

    <type name="external_identification_item">
      <select
        selectitems="document_file product_definition">
      </select>
    </type>

    <type name="fill_area_style_tile_shape_select">
      <select
        selectitems="fill_area_style_tile_curve_with_style fill_area_style_tile_coloured_region fill_area_style_tile_symbol_with_style pre_defined_tile externally_defined_tile">
      </select>
    </type>

    <type name="fill_style_select">
      <select
        selectitems="fill_area_style_colour externally_defined_tile_style fill_area_style_tiles externally_defined_hatch_style fill_area_style_hatching">
      </select>
    </type>

    <type name="font_select">
      <select
        selectitems="pre_defined_text_font externally_defined_text_font">
      </select>
    </type>

    <type name="founded_item_select">
      <select
        selectitems="founded_item representation_item">
      </select>
    </type>

    <type name="geometric_set_select">
      <select
        selectitems="point curve surface">
      </select>
    </type>

    <type name="groupable_item">
      <select
        selectitems="geometric_representation_item mapped_item representation_relationship_with_transformation shape_aspect styled_item">
      </select>
      <where
        label="WR1"
        expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GROUP' IN TYPEOF(SELF))">
      </where>
    </type>

    <type name="hour_in_day">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="WR1"
        expression="{ 0 &lt;= SELF &lt; 24 }">
      </where>
    </type>

    <type name="id_attribute_select">
      <select
        selectitems="action address application_context group organizational_project product_category property_definition representation shape_aspect shape_aspect_relationship">
      </select>
    </type>

    <type name="identification_item">
      <select
        selectitems="approval_status contract dimensional_size document_file draughting_model mechanical_design_geometric_presentation_representation organization product product_definition product_definition_formation security_classification_level shape_aspect_relationship shape_representation">
      </select>
    </type>

    <type name="identifier">
      <builtintype
        type="STRING">
      </builtintype>
    </type>

    <type name="invisibility_context">
      <select
        selectitems="presentation_representation presentation_set">
      </select>
    </type>

    <type name="invisible_item">
      <select
        selectitems="styled_item presentation_layer_assignment representation">
      </select>
    </type>

    <type name="knot_type">
      <enumeration
        items="uniform_knots quasi_uniform_knots piecewise_bezier_knots unspecified">
      </enumeration>
    </type>

    <type name="label">
      <builtintype
        type="STRING">
      </builtintype>
    </type>

    <type name="layered_item">
      <select
        selectitems="presentation_representation representation_item">
      </select>
    </type>

    <type name="length_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="limit_condition">
      <enumeration
        items="maximum_material_condition least_material_condition regardless_of_feature_size">
      </enumeration>
    </type>

    <type name="list_of_reversible_topology_item">
      <aggregate
        type="LIST"
        lower="0"
        upper="?"/>
      <typename
        name="reversible_topology_item"/>
    </type>

    <type name="list_representation_item">
      <aggregate
        type="LIST"
        lower="1"
        upper="?"/>
      <typename
        name="representation_item"/>
    </type>

    <type name="luminous_intensity_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="marker_select">
      <select
        selectitems="marker_type pre_defined_marker">
      </select>
    </type>

    <type name="marker_type">
      <enumeration
        items="dot x plus asterisk ring square triangle">
      </enumeration>
    </type>

    <type name="mass_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="measure_value">
      <select
        selectitems="amount_of_substance_measure area_measure celsius_temperature_measure context_dependent_measure count_measure descriptive_measure electric_current_measure length_measure luminous_intensity_measure mass_measure numeric_measure parameter_value plane_angle_measure positive_length_measure positive_plane_angle_measure positive_ratio_measure ratio_measure solid_angle_measure thermodynamic_temperature_measure time_measure volume_measure">
      </select>
    </type>

    <type name="minute_in_hour">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="WR1"
        expression="{ 0 &lt;= SELF &lt;= 59 }">
      </where>
    </type>

    <type name="month_in_year_number">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="WR1"
        expression="{ 1 &lt;= SELF &lt;= 12 }">
      </where>
    </type>

    <type name="multi_language_attribute_item">
      <select
        selectitems="applied_document_reference applied_document_usage_constraint_assignment applied_external_identification_assignment applied_organizational_project_assignment approval approval_relationship approval_status certification certification_type contract date_role date_time_role document_relationship document_usage_role external_source identification_role object_role organization_relationship organizational_project organizational_project_relationship organizational_project_role person_and_organization product product_category product_definition product_definition_formation product_definition_relationship">
      </select>
    </type>

    <type name="name_attribute_select">
      <select
        selectitems="action_request_solution address configuration_design context_dependent_shape_representation derived_unit effectivity person_and_organization product_definition property_definition_representation">
      </select>
    </type>

    <type name="name_item">
      <select
        selectitems="assembly_component_usage external_class_library">
      </select>
    </type>

    <type name="null_style">
      <enumeration
        items="null">
      </enumeration>
    </type>

    <type name="numeric_measure">
      <builtintype
        type="NUMBER">
      </builtintype>
    </type>

    <type name="organization_item">
      <select
        selectitems="action applied_action_assignment applied_identification_assignment applied_security_classification_assignment approval configuration_item contract document_file executed_action product product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="parameter_value">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="pcurve_or_surface">
      <select
        selectitems="pcurve surface">
      </select>
    </type>

    <type name="person_and_organization_item">
      <select
        selectitems="action applied_action_assignment applied_identification_assignment applied_security_classification_assignment approval configuration_item contract document_file executed_action product product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="person_organization_select">
      <select
        selectitems="organization person person_and_organization">
      </select>
    </type>

    <type name="plane_angle_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="positive_length_measure">
      <typename
        name="length_measure"/>
      <where
        label="WR1"
        expression="SELF &gt; 0.0">
      </where>
    </type>

    <type name="positive_plane_angle_measure">
      <typename
        name="plane_angle_measure"/>
      <where
        label="WR1"
        expression="SELF &gt; 0.0">
      </where>
    </type>

    <type name="positive_ratio_measure">
      <typename
        name="ratio_measure"/>
      <where
        label="WR1"
        expression="SELF &gt; 0.0">
      </where>
    </type>

    <type name="preferred_surface_curve_representation">
      <enumeration
        items="curve_3d pcurve_s1 pcurve_s2">
      </enumeration>
    </type>

    <type name="presentable_text">
      <builtintype
        type="STRING">
      </builtintype>
    </type>

    <type name="presentation_size_assignment_select">
      <select
        selectitems="presentation_view presentation_area area_in_set">
      </select>
    </type>

    <type name="presentation_style_select">
      <select
        selectitems="point_style curve_style surface_style_usage symbol_style fill_area_style text_style null_style">
      </select>
    </type>

    <type name="product_or_formation_or_definition">
      <select
        selectitems="product product_definition_formation product_definition">
      </select>
    </type>

    <type name="project_item">
      <select
        selectitems="executed_action product_concept">
      </select>
    </type>

    <type name="ratio_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="represented_definition">
      <select
        selectitems="general_property property_definition shape_aspect shape_aspect_relationship">
      </select>
    </type>

    <type name="reversible_topology">
      <select
        selectitems="reversible_topology_item list_of_reversible_topology_item set_of_reversible_topology_item">
      </select>
    </type>

    <type name="reversible_topology_item">
      <select
        selectitems="edge path face face_bound closed_shell open_shell">
      </select>
    </type>

    <type name="role_select">
      <select
        selectitems="action_assignment action_request_assignment approval_assignment approval_date_time certification_assignment contract_assignment document_reference effectivity_assignment group_assignment name_assignment security_classification_assignment">
      </select>
    </type>

    <type name="second_in_minute">
      <builtintype
        type="REAL">
      </builtintype>
      <where
        label="WR1"
        expression="{ 0 &lt;= SELF &lt;= 60.0 }">
      </where>
    </type>

    <type name="security_classification_item">
      <select
        selectitems="assembly_component_usage document_file product product_definition product_definition_formation">
      </select>
    </type>

    <type name="set_of_reversible_topology_item">
      <aggregate
        type="SET"
        lower="0"
        upper="?"/>
      <typename
        name="reversible_topology_item"/>
    </type>

    <type name="set_representation_item">
      <aggregate
        type="SET"
        lower="1"
        upper="?"/>
      <typename
        name="representation_item"/>
    </type>

    <type name="shape_definition">
      <select
        selectitems="product_definition_shape shape_aspect shape_aspect_relationship">
      </select>
    </type>

    <type name="shell">
      <select
        selectitems="vertex_shell wire_shell open_shell closed_shell">
      </select>
    </type>

    <type name="si_prefix">
      <enumeration
        items="exa peta tera giga mega kilo hecto deca deci centi milli micro nano pico femto atto">
      </enumeration>
    </type>

    <type name="si_unit_name">
      <enumeration
        items="metre gram second ampere kelvin mole candela radian steradian hertz newton pascal joule watt coulomb volt farad ohm siemens weber tesla henry degree_Celsius lumen lux becquerel gray sievert">
      </enumeration>
    </type>

    <type name="size_select">
      <select
        selectitems="positive_length_measure measure_with_unit descriptive_measure">
      </select>
    </type>

    <type name="solid_angle_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="source">
      <enumeration
        items="made bought not_known">
      </enumeration>
    </type>

    <type name="source_item">
      <select
        selectitems="identifier">
      </select>
    </type>

    <type name="style_context_select">
      <select
        selectitems="group presentation_layer_assignment representation representation_item presentation_set">
      </select>
    </type>

    <type name="surface_side">
      <enumeration
        items="positive negative both">
      </enumeration>
    </type>

    <type name="surface_side_style_select">
      <select
        selectitems="surface_side_style">
      </select>
    </type>

    <type name="surface_style_element_select">
      <select
        selectitems="surface_style_fill_area surface_style_boundary surface_style_silhouette surface_style_segmentation_curve surface_style_control_grid surface_style_parameter_line">
      </select>
    </type>

    <type name="symbol_style_select">
      <select
        selectitems="symbol_colour">
      </select>
    </type>

    <type name="text">
      <builtintype
        type="STRING">
      </builtintype>
    </type>

    <type name="text_alignment">
      <typename
        name="label"/>
    </type>

    <type name="text_delineation">
      <typename
        name="label"/>
    </type>

    <type name="text_or_character">
      <select
        selectitems="annotation_text annotation_text_character defined_character_glyph composite_text text_literal">
      </select>
    </type>

    <type name="text_path">
      <enumeration
        items="left right up down">
      </enumeration>
    </type>

    <type name="thermodynamic_temperature_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="time_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="tolerance_method_definition">
      <select
        selectitems="tolerance_value limits_and_fits">
      </select>
    </type>

    <type name="transformation">
      <select
        selectitems="item_defined_transformation functionally_defined_transformation">
      </select>
    </type>

    <type name="transition_code">
      <enumeration
        items="discontinuous continuous cont_same_gradient cont_same_gradient_same_curvature">
      </enumeration>
    </type>

    <type name="trimming_preference">
      <enumeration
        items="cartesian parameter unspecified">
      </enumeration>
    </type>

    <type name="trimming_select">
      <select
        selectitems="cartesian_point parameter_value">
      </select>
    </type>

    <type name="u_direction_count">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="WR1"
        expression="SELF &gt; 1">
      </where>
    </type>

    <type name="unit">
      <select
        selectitems="derived_unit named_unit">
      </select>
    </type>

    <type name="v_direction_count">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="WR1"
        expression="SELF &gt; 1">
      </where>
    </type>

    <type name="value_qualifier">
      <select
        selectitems="precision_qualifier type_qualifier uncertainty_qualifier">
      </select>
    </type>

    <type name="vector_or_direction">
      <select
        selectitems="vector direction">
      </select>
    </type>

    <type name="volume_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="year_number">
      <builtintype
        type="INTEGER">
      </builtintype>
    </type>

    <entity
      name="action">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="chosen_method">
        <typename
          name="action_method"/>
      </explicit>
      <derived
        name="id"
        expression="get_id_value (SELF)">
        <typename
          name="identifier"/>
      </derived>
      <where
        label="WR1"
        expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="action_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_action">
        <typename
          name="action"/>
      </explicit>
      <derived
        name="role"
        expression="get_role (SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="WR1"
        expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="action_directive">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="analysis">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="comment">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="requests">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="versioned_action_request"/>
      </explicit>
    </entity>

    <entity
      name="action_method">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="consequence">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="purpose">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="action_property">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="definition">
        <typename
          name="characterized_action_definition"/>
      </explicit>
    </entity>

    <entity
      name="action_property_representation">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="property">
        <typename
          name="action_property"/>
      </explicit>
      <explicit
        name="representation">
        <typename
          name="representation"/>
      </explicit>
    </entity>

    <entity
      name="action_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_action">
        <typename
          name="action"/>
      </explicit>
      <explicit
        name="related_action">
        <typename
          name="action"/>
      </explicit>
    </entity>

    <entity
      name="action_request_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_action_request">
        <typename
          name="versioned_action_request"/>
      </explicit>
      <derived
        name="role"
        expression="get_role (SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="WR1"
        expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="action_request_solution">
      <explicit
        name="method">
        <typename
          name="action_method"/>
      </explicit>
      <explicit
        name="request">
        <typename
          name="versioned_action_request"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value (SELF)">
        <typename
          name="text"/>
      </derived>
      <derived
        name="name"
        expression="get_name_value (SELF)">
        <typename
          name="label"/>
      </derived>
      <where
        label="WR1"
        expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="action_request_status">
      <explicit
        name="status">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="assigned_request">
        <typename
          name="versioned_action_request"/>
      </explicit>
    </entity>

    <entity
      name="action_status">
      <explicit
        name="status">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="assigned_action">
        <typename
          name="executed_action"/>
      </explicit>
    </entity>

    <entity
      name="address">
      <explicit
        name="internal_location"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="street_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="street"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="postal_box"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="town"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="region"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="postal_code"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="country"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="facsimile_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="telephone_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="electronic_mail_address"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="telex_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <derived
        name="url"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <where
        label="WR1"
        expression="EXISTS(internal_location) OR EXISTS(street_number) OR EXISTS(street) OR EXISTS(postal_box) OR EXISTS(town) OR EXISTS(region) OR EXISTS(postal_code) OR EXISTS(country) OR EXISTS(facsimile_number) OR EXISTS(telephone_number) OR EXISTS(electronic_mail_address) OR EXISTS(telex_number)">
      </where>
    </entity>

    <entity
      name="advanced_brep_shape_representation"
      supertypes="shape_representation">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (it &lt;* SELF.items| NOT (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MANIFOLD_SOLID_BREP', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACETED_BREP', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D' ] * TYPEOF (it)) = 1))) = 0">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (it &lt;* SELF.items| (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MANIFOLD_SOLID_BREP', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' ] * TYPEOF (it)) = 1))) &gt; 0">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MANIFOLD_SOLID_BREP' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (csh &lt;* msb_shells(msb)| NOT (SIZEOF (QUERY (fcs &lt;* csh\connected_face_set.cfs_faces| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fcs)))) = 0))) = 0))) = 0">
      </where>
      <where
        label="WR4"
        expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MANIFOLD_SOLID_BREP' IN TYPEOF (it)))| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_CLOSED_SHELL' IN TYPEOF (msb\manifold_solid_brep.outer)))) = 0">
      </where>
      <where
        label="WR5"
        expression="SIZEOF (QUERY (brv &lt;* QUERY (it &lt;* items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BREP_WITH_VOIDS' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (csh &lt;* brv\brep_with_voids.voids| csh\oriented_closed_shell.orientation)) = 0))) = 0">
      </where>
      <where
        label="WR6"
        expression="SIZEOF (QUERY (mi &lt;* QUERY (it &lt;* items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF (it)))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_BREP_SHAPE_REPRESENTATION' IN TYPEOF (mi\mapped_item.mapping_source.mapped_representation)))) = 0">
      </where>
    </entity>

    <entity
      name="advanced_face"
      supertypes="face_surface">
      <where
        label="WR1"
        expression="SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ELEMENTARY_SURFACE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_SURFACE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SWEPT_SURFACE' ] * TYPEOF (face_geometry)) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* bounds| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)))| NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds.bound\path.edge_list| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_CURVE' IN TYPEOF (oe\oriented_edge.edge_element)))) = 0))) = 0">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* bounds| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)))| NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds.bound\path.edge_list| NOT (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONIC', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_CURVE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_CURVE' ] * TYPEOF (oe.edge_element\edge_curve.edge_geometry)) = 1))) = 0))) = 0">
      </where>
      <where
        label="WR4"
        expression="SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* bounds| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)))| NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds.bound\path.edge_list| NOT ((('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (oe\edge.edge_start)) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT' IN TYPEOF (oe\edge.edge_start\vertex_point.vertex_geometry))) AND (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (oe\edge.edge_end)) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT' IN TYPEOF (oe\edge.edge_end\vertex_point.vertex_geometry)))))) = 0))) = 0">
      </where>
      <where
        label="WR5"
        expression="SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* bounds| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)))| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_PATH' IN TYPEOF (elp_fbnds.bound)))) = 0">
      </where>
      <where
        label="WR6"
        expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SWEPT_SURFACE' IN TYPEOF (face_geometry)) OR (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONIC', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_CURVE' ] * TYPEOF (face_geometry\swept_surface.swept_curve)) = 1)">
      </where>
      <where
        label="WR7"
        expression="SIZEOF (QUERY (vlp_fbnds &lt;* QUERY (bnds &lt;* bounds| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_LOOP' IN TYPEOF (bnds.bound)))| NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (vlp_fbnds\face_bound.bound\vertex_loop.loop_vertex)) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT' IN TYPEOF (vlp_fbnds\face_bound.bound\vertex_loop.loop_vertex\vertex_point.vertex_geometry))))) = 0">
      </where>
      <where
        label="WR8"
        expression="SIZEOF (QUERY (bnd &lt;* bounds| NOT (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_LOOP' ] * TYPEOF (bnd.bound)) = 1))) = 0">
      </where>
      <where
        label="WR9"
        expression="SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* bounds| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)))| NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds.bound\path.edge_list| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_CURVE' IN TYPEOF (oe\oriented_edge.edge_element\edge_curve.edge_geometry)) AND NOT (SIZEOF (QUERY (sc_ag &lt;* oe.edge_element\edge_curve.edge_geometry\surface_curve.associated_geometry| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF (sc_ag)))) = 0))) = 0))) = 0">
      </where>
      <where
        label="WR10"
        expression="(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SWEPT_SURFACE' IN TYPEOF (face_geometry)) OR (NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' IN TYPEOF (face_geometry\swept_surface.swept_curve)) OR (SIZEOF (face_geometry\swept_surface.swept_curve\polyline.points) &gt;= 3))) AND (SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* bounds| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)))| NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds.bound\path.edge_list| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' IN TYPEOF (oe\oriented_edge.edge_element\edge_curve.edge_geometry)) AND NOT (SIZEOF (oe\oriented_edge.edge_element\edge_curve.edge_geometry\polyline.points) &gt;= 3))) = 0))) = 0)">
      </where>
    </entity>

    <entity
      name="alternate_product_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="definition"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="alternate">
        <typename
          name="product"/>
      </explicit>
      <explicit
        name="base">
        <typename
          name="product"/>
      </explicit>
      <explicit
        name="basis">
        <typename
          name="text"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="alternate"/>
        <unique.attribute
          attribute="base"/>
      </unique>
      <where
        label="WR1"
        expression="alternate :&lt;&gt;: base">
      </where>
    </entity>

    <entity
      name="amount_of_substance_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AMOUNT_OF_SUBSTANCE_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
      </where>
    </entity>

    <entity
      name="amount_of_substance_unit"
      supertypes="named_unit">
      <where
        label="WR1"
        expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 1.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
      </where>
    </entity>

    <entity
      name="angular_dimension"
      supertypes="dimension_curve_directed_callout">
    </entity>

    <entity
      name="angular_location"
      supertypes="dimensional_location">
      <explicit
        name="angle_selection">
        <typename
          name="angle_relator"/>
      </explicit>
    </entity>

    <entity
      name="angular_size"
      supertypes="dimensional_size">
      <explicit
        name="angle_selection">
        <typename
          name="angle_relator"/>
      </explicit>
    </entity>

    <entity
      name="angularity_tolerance"
      supertypes="geometric_tolerance_with_datum_reference">
      <where
        label="WR1"
        expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt; 3">
      </where>
    </entity>

    <entity
      name="annotation_curve_occurrence"
      supertypes="annotation_occurrence">
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE' IN TYPEOF (SELF\styled_item.item)">
      </where>
    </entity>

    <entity
      name="annotation_fill_area"
      supertypes="geometric_representation_item">
      <explicit
        name="boundaries">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="curve"/>
      </explicit>
    </entity>

    <entity
      name="annotation_fill_area_occurrence"
      supertypes="annotation_occurrence">
      <explicit
        name="fill_style_target">
        <typename
          name="point"/>
      </explicit>
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_FILL_AREA' IN TYPEOF (SELF.item)">
      </where>
    </entity>

    <entity
      name="annotation_occurrence"
      super.expression="(ONEOF ( ANNOTATION_POINT_OCCURRENCE, ANNOTATION_CURVE_OCCURRENCE, ANNOTATION_FILL_AREA_OCCURRENCE, ANNOTATION_TEXT_OCCURRENCE, ANNOTATION_SYMBOL_OCCURRENCE))"
      supertypes="styled_item">
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF (SELF)">
      </where>
    </entity>

    <entity
      name="annotation_occurrence_associativity"
      supertypes="annotation_occurrence_relationship">
      <where
        label="WR1"
        expression="SIZEOF (TYPEOF (SELF.related_annotation_occurrence) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_FILL_AREA_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PROJECTION_CURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_CURVE']) = 1">
      </where>
    </entity>

    <entity
      name="annotation_occurrence_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_annotation_occurrence">
        <typename
          name="annotation_occurrence"/>
      </explicit>
      <explicit
        name="related_annotation_occurrence">
        <typename
          name="annotation_occurrence"/>
      </explicit>
    </entity>

    <entity
      name="annotation_point_occurrence"
      supertypes="annotation_occurrence">
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT' IN TYPEOF (SELF\styled_item.item)">
      </where>
    </entity>

    <entity
      name="annotation_subfigure_occurrence"
      supertypes="annotation_symbol_occurrence">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (sty &lt;* SELF.styles | NOT (SIZEOF (sty.styles) = 1))) = 0">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (sty &lt;* SELF.styles | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.NULL_STYLE' IN TYPEOF (sty.styles[1]))))=0">
      </where>
      <where
        label="WR3"
        expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL' IN TYPEOF (SELF.item))">
      </where>
      <where
        label="WR4"
        expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_SUBFIGURE_REPRESENTATION' IN TYPEOF(SELF.item\mapped_item.mapping_source.mapped_representation))">
      </where>
    </entity>

    <entity
      name="annotation_symbol"
      supertypes="mapped_item">
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMBOL_REPRESENTATION_MAP' IN TYPEOF (SELF\mapped_item.mapping_source)">
      </where>
      <where
        label="WR2"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMBOL_TARGET' IN TYPEOF (SELF\mapped_item.mapping_target)">
      </where>
      <where
        label="WR3"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF (SELF)">
      </where>
    </entity>

    <entity
      name="annotation_symbol_occurrence"
      supertypes="annotation_occurrence">
      <where
        label="WR1"
        expression="SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEFINED_SYMBOL'] * TYPEOF(SELF\styled_item.item)) &gt; 0">
      </where>
    </entity>

    <entity
      name="annotation_table"
      supertypes="annotation_symbol">
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TABLE_REPRESENTATION' IN TYPEOF (SELF\mapped_item.mapping_source.mapped_representation)">
      </where>
    </entity>

    <entity
      name="annotation_table_occurrence"
      supertypes="annotation_symbol_occurrence">
      <where
        label="WR1"
        expression="SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TABLE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEFINED_TABLE'] * TYPEOF (SELF\styled_item.item)) &gt; 0">
      </where>
    </entity>

    <entity
      name="annotation_text"
      supertypes="mapped_item">
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT' IN TYPEOF(SELF\mapped_item.mapping_target)">
      </where>
      <where
        label="WR2"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_STRING_REPRESENTATION' IN TYPEOF(SELF\mapped_item.mapping_source.mapped_representation)">
      </where>
      <where
        label="WR3"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF(SELF)">
      </where>
    </entity>

    <entity
      name="annotation_text_character"
      supertypes="mapped_item">
      <explicit
        name="alignment">
        <typename
          name="text_alignment"/>
      </explicit>
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CHARACTER_GLYPH_SYMBOL' IN TYPEOF (SELF\mapped_item.mapping_source.mapped_representation)">
      </where>
      <where
        label="WR2"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT' IN TYPEOF (SELF\mapped_item.mapping_target)">
      </where>
      <where
        label="WR3"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF (SELF)">
      </where>
    </entity>

    <entity
      name="annotation_text_occurrence"
      supertypes="annotation_occurrence">
      <where
        label="WR1"
        expression="SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_CHARACTER','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEFINED_CHARACTER_GLYPH','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT'] * TYPEOF (SELF\styled_item.item)) &gt; 0">
      </where>
    </entity>

    <entity
      name="annotation_text_with_associated_curves"
      supertypes="annotation_text">
      <explicit
        name="associated_curves">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="curve"/>
      </explicit>
    </entity>

    <entity
      name="annotation_text_with_blanking_box"
      supertypes="annotation_text">
      <explicit
        name="blanking">
        <typename
          name="planar_box"/>
      </explicit>
    </entity>

    <entity
      name="annotation_text_with_delineation"
      supertypes="annotation_text">
      <explicit
        name="delineation">
        <typename
          name="text_delineation"/>
      </explicit>
    </entity>

    <entity
      name="annotation_text_with_extent"
      supertypes="annotation_text">
      <explicit
        name="extent">
        <typename
          name="planar_extent"/>
      </explicit>
    </entity>

    <entity
      name="apex"
      supertypes="derived_shape_aspect">
    </entity>

    <entity
      name="application_context">
      <explicit
        name="application">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value (SELF)">
        <typename
          name="text"/>
      </derived>
      <derived
        name="id"
        expression="get_id_value (SELF)">
        <typename
          name="identifier"/>
      </derived>
      <inverse
        name="context_elements"
        entity="application_context_element"
        attribute="frame_of_reference">
        <inverse.aggregate
          type="SET"
          lower="1"
          upper="?"/>
      </inverse>
      <where
        label="WR1"
        expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="application_context_element"
      super.expression="(ONEOF ( PRODUCT_CONCEPT_CONTEXT, PRODUCT_CONTEXT, PRODUCT_DEFINITION_CONTEXT))">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="frame_of_reference">
        <typename
          name="application_context"/>
      </explicit>
    </entity>

    <entity
      name="application_context_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_context">
        <typename
          name="application_context"/>
      </explicit>
      <explicit
        name="related_context">
        <typename
          name="application_context"/>
      </explicit>
    </entity>

    <entity
      name="application_protocol_definition">
      <explicit
        name="status">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="application_interpreted_model_schema_name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="application_protocol_year">
        <typename
          name="year_number"/>
      </explicit>
      <explicit
        name="application">
        <typename
          name="application_context"/>
      </explicit>
    </entity>

    <entity
      name="applied_action_assignment"
      supertypes="action_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="action_items"/>
      </explicit>
    </entity>

    <entity
      name="applied_action_request_assignment"
      supertypes="action_request_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="action_request_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_approval_assignment"
      supertypes="approval_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="approval_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_certification_assignment"
      supertypes="certification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="certification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_classification_assignment"
      supertypes="classification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="classification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_contract_assignment"
      supertypes="contract_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="contract_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_date_and_time_assignment"
      supertypes="date_and_time_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="date_and_time_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_date_assignment"
      supertypes="date_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="date_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_document_reference"
      supertypes="document_reference">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="document_reference_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_document_usage_constraint_assignment"
      supertypes="document_usage_constraint_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="document_reference_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_effectivity_assignment"
      supertypes="effectivity_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="effectivity_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_event_occurrence_assignment"
      supertypes="event_occurrence_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="event_occurrence_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_external_identification_assignment"
      supertypes="external_identification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="external_identification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_group_assignment"
      supertypes="group_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="groupable_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_identification_assignment"
      supertypes="identification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="identification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_name_assignment"
      supertypes="name_assignment">
      <explicit
        name="item">
        <typename
          name="name_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_organization_assignment"
      supertypes="organization_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organization_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_organizational_project_assignment"
      supertypes="organizational_project_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="project_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_person_and_organization_assignment"
      supertypes="person_and_organization_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="person_and_organization_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_security_classification_assignment"
      supertypes="security_classification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="security_classification_item"/>
      </explicit>
    </entity>

    <entity
      name="approval">
      <explicit
        name="status">
        <typename
          name="approval_status"/>
      </explicit>
      <explicit
        name="level">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="approval_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_approval">
        <typename
          name="approval"/>
      </explicit>
      <derived
        name="role"
        expression="get_role (SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="WR1"
        expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="approval_date_time">
      <explicit
        name="date_time">
        <typename
          name="date_time_select"/>
      </explicit>
      <explicit
        name="dated_approval">
        <typename
          name="approval"/>
      </explicit>
      <derived
        name="role"
        expression="get_role (SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="WR1"
        expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="approval_person_organization">
      <explicit
        name="person_organization">
        <typename
          name="person_organization_select"/>
      </explicit>
      <explicit
        name="authorized_approval">
        <typename
          name="approval"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="approval_role"/>
      </explicit>
    </entity>

    <entity
      name="approval_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_approval">
        <typename
          name="approval"/>
      </explicit>
      <explicit
        name="related_approval">
        <typename
          name="approval"/>
      </explicit>
    </entity>

    <entity
      name="approval_role">
      <explicit
        name="role">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value (SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="WR1"
        expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="approval_status">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="area_in_set">
      <explicit
        name="area">
        <typename
          name="presentation_area"/>
      </explicit>
      <explicit
        name="in_set">
        <typename
          name="presentation_set"/>
      </explicit>
    </entity>

    <entity
      name="area_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="WR1"
        expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AREA_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
      </where>
    </entity>

    <entity
      name="area_unit"
      supertypes="named_unit">
      <where
        label="WR1"
        expression="(SELF\named_unit.dimensions.length_exponent = 2.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
      </where>
    </entity>

    <entity
      name="assembly_component_usage"
      super.expression="(ONEOF ( NEXT_ASSEMBLY_USAGE_OCCURRENCE, SPECIFIED_HIGHER_USAGE_OCCURRENCE, PROMISSORY_USAGE_OCCURRENCE))"
      supertypes="product_definition_usage">
      <explicit
        name="reference_designator"
        optional="YES">
        <typename
          name="identifier"/>
      </explicit>
    </entity>

    <entity
      name="assembly_component_usage_substitute">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="definition"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="base">
        <typename
          name="assembly_component_usage"/>
      </explicit>
      <explicit
        name="substitute">
        <typename
          name="assembly_component_usage"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="base"/>
        <unique.attribute
          attribute="substitute"/>
      </unique>
      <where
        label="WR1"
        expression="base.relating_product_definition :=: substitute.relating_product_definition">
      </where>
      <where
        label="WR2"
        expression="base :&lt;&gt;: substitute">
      </where>
    </entity>

    <entity
      name="attribute_classification_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_class">
        <typename
          name="group"/>
      </explicit>
      <explicit
        name="attribute_name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="classification_role"/>
      </explicit>
    </entity>

    <entity
      name="attribute_language_assignment"
      supertypes="attribute_classification_assignment">
      <explicit
        name="assigned_class">
        <typename
          name="language"/>
        <redeclaration
          entity-ref="attribute_classification_assignment"/>
        </explicit>
        <explicit
          name="items">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="attribute_language_item"/>
        </explicit>
        <where
          label="WR1"
          expression="SELF\attribute_classification_assignment.role.name IN ['primary', 'translated']">
        </where>
        <where
          label="WR2"
          expression="SELF\attribute_classification_assignment.attribute_name&lt;&gt; ''">
        </where>
      </entity>

      <entity
        name="attribute_value_assignment"
        abstract.supertype="YES">
        <explicit
          name="attribute_name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="attribute_value">
          <typename
            name="attribute_type"/>
        </explicit>
        <explicit
          name="role">
          <typename
            name="attribute_value_role"/>
        </explicit>
      </entity>

      <entity
        name="attribute_value_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="axis1_placement"
        supertypes="placement">
        <explicit
          name="axis"
          optional="YES">
          <typename
            name="direction"/>
        </explicit>
        <derived
          name="z"
          expression="NVL(normalise(axis), dummy_gri || direction([0.0,0.0,1.0]))">
          <typename
            name="direction"/>
        </derived>
        <where
          label="WR1"
          expression="SELF\geometric_representation_item.dim = 3">
        </where>
      </entity>

      <entity
        name="axis2_placement_2d"
        supertypes="placement">
        <explicit
          name="ref_direction"
          optional="YES">
          <typename
            name="direction"/>
        </explicit>
        <derived
          name="p"
          expression="build_2axes(ref_direction)">
          <aggregate
            type="LIST"
            lower="2"
            upper="2"/>
          <typename
            name="direction"/>
        </derived>
        <where
          label="WR1"
          expression="SELF\geometric_representation_item.dim = 2">
        </where>
      </entity>

      <entity
        name="axis2_placement_3d"
        supertypes="placement">
        <explicit
          name="axis"
          optional="YES">
          <typename
            name="direction"/>
        </explicit>
        <explicit
          name="ref_direction"
          optional="YES">
          <typename
            name="direction"/>
        </explicit>
        <derived
          name="p"
          expression="build_axes(axis,ref_direction)">
          <aggregate
            type="LIST"
            lower="3"
            upper="3"/>
          <typename
            name="direction"/>
        </derived>
        <where
          label="WR1"
          expression="SELF\placement.location.dim = 3">
        </where>
        <where
          label="WR2"
          expression="(NOT (EXISTS (axis))) OR (axis.dim = 3)">
        </where>
        <where
          label="WR3"
          expression="(NOT (EXISTS (ref_direction))) OR (ref_direction.dim = 3)">
        </where>
        <where
          label="WR4"
          expression="(NOT (EXISTS (axis))) OR (NOT (EXISTS (ref_direction))) OR(cross_product(axis,ref_direction).magnitude &gt; 0.0)">
        </where>
      </entity>

      <entity
        name="b_spline_curve"
        super.expression="(ONEOF ( UNIFORM_CURVE, B_SPLINE_CURVE_WITH_KNOTS, QUASI_UNIFORM_CURVE, BEZIER_CURVE) ANDOR RATIONAL_B_SPLINE_CURVE)"
        supertypes="bounded_curve">
        <explicit
          name="degree">
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="control_points_list">
          <aggregate
            type="LIST"
            lower="2"
            upper="?"/>
          <typename
            name="cartesian_point"/>
        </explicit>
        <explicit
          name="curve_form">
          <typename
            name="b_spline_curve_form"/>
        </explicit>
        <explicit
          name="closed_curve">
          <builtintype
            type="LOGICAL"/>
        </explicit>
        <explicit
          name="self_intersect">
          <builtintype
            type="LOGICAL"/>
        </explicit>
        <derived
          name="upper_index_on_control_points"
          expression="(SIZEOF(control_points_list) - 1)">
          <builtintype
            type="INTEGER"/>
        </derived>
        <derived
          name="control_points"
          expression="list_to_array(control_points_list,0, upper_index_on_control_points)">
          <aggregate
            type="ARRAY"
            lower="0"
            upper="upper_index_on_control_points"/>
          <typename
            name="cartesian_point"/>
        </derived>
        <where
          label="WR1"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.UNIFORM_CURVE' IN TYPEOF(self)) OR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.QUASI_UNIFORM_CURVE' IN TYPEOF(self)) OR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BEZIER_CURVE' IN TYPEOF(self)) OR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_CURVE_WITH_KNOTS' IN TYPEOF(self))">
        </where>
      </entity>

      <entity
        name="b_spline_curve_with_knots"
        supertypes="b_spline_curve">
        <explicit
          name="knot_multiplicities">
          <aggregate
            type="LIST"
            lower="2"
            upper="?"/>
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="knots">
          <aggregate
            type="LIST"
            lower="2"
            upper="?"/>
          <typename
            name="parameter_value"/>
        </explicit>
        <explicit
          name="knot_spec">
          <typename
            name="knot_type"/>
        </explicit>
        <derived
          name="upper_index_on_knots"
          expression="SIZEOF(knots)">
          <builtintype
            type="INTEGER"/>
        </derived>
        <where
          label="WR1"
          expression="constraints_param_b_spline(degree, upper_index_on_knots, upper_index_on_control_points, knot_multiplicities, knots)">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(knot_multiplicities) = upper_index_on_knots">
        </where>
      </entity>

      <entity
        name="b_spline_surface"
        super.expression="(ONEOF ( B_SPLINE_SURFACE_WITH_KNOTS, UNIFORM_SURFACE, QUASI_UNIFORM_SURFACE, BEZIER_SURFACE) ANDOR RATIONAL_B_SPLINE_SURFACE)"
        supertypes="bounded_surface">
        <explicit
          name="u_degree">
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="v_degree">
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="control_points_list">
          <aggregate
            type="LIST"
            lower="2"
            upper="?"/>
          <typename
            name="LIST"/>
        </explicit>
        <explicit
          name="surface_form">
          <typename
            name="b_spline_surface_form"/>
        </explicit>
        <explicit
          name="u_closed">
          <builtintype
            type="LOGICAL"/>
        </explicit>
        <explicit
          name="v_closed">
          <builtintype
            type="LOGICAL"/>
        </explicit>
        <explicit
          name="self_intersect">
          <builtintype
            type="LOGICAL"/>
        </explicit>
        <derived
          name="u_upper"
          expression="SIZEOF(control_points_list) - 1">
          <builtintype
            type="INTEGER"/>
        </derived>
        <derived
          name="v_upper"
          expression="SIZEOF(control_points_list[1]) - 1">
          <builtintype
            type="INTEGER"/>
        </derived>
        <derived
          name="control_points"
          expression="make_array_of_array(control_points_list,0,u_upper,0,v_upper)">
          <aggregate
            type="ARRAY"
            lower="0"
            upper="u_upper"/>
          <typename
            name="ARRAY"/>
        </derived>
        <where
          label="WR1"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.UNIFORM_SURFACE' IN TYPEOF(SELF)) OR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.QUASI_UNIFORM_SURFACE' IN TYPEOF(SELF)) OR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BEZIER_SURFACE' IN TYPEOF(SELF)) OR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_SURFACE_WITH_KNOTS' IN TYPEOF(SELF))">
        </where>
      </entity>

      <entity
        name="b_spline_surface_with_knots"
        supertypes="b_spline_surface">
        <explicit
          name="u_multiplicities">
          <aggregate
            type="LIST"
            lower="2"
            upper="?"/>
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="v_multiplicities">
          <aggregate
            type="LIST"
            lower="2"
            upper="?"/>
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="u_knots">
          <aggregate
            type="LIST"
            lower="2"
            upper="?"/>
          <typename
            name="parameter_value"/>
        </explicit>
        <explicit
          name="v_knots">
          <aggregate
            type="LIST"
            lower="2"
            upper="?"/>
          <typename
            name="parameter_value"/>
        </explicit>
        <explicit
          name="knot_spec">
          <typename
            name="knot_type"/>
        </explicit>
        <derived
          name="knot_u_upper"
          expression="SIZEOF(u_knots)">
          <builtintype
            type="INTEGER"/>
        </derived>
        <derived
          name="knot_v_upper"
          expression="SIZEOF(v_knots)">
          <builtintype
            type="INTEGER"/>
        </derived>
        <where
          label="WR1"
          expression="constraints_param_b_spline(SELF\b_spline_surface.u_degree, knot_u_upper, SELF\b_spline_surface.u_upper, u_multiplicities, u_knots)">
        </where>
        <where
          label="WR2"
          expression="constraints_param_b_spline(SELF\b_spline_surface.v_degree, knot_v_upper, SELF\b_spline_surface.v_upper, v_multiplicities, v_knots)">
        </where>
        <where
          label="WR3"
          expression="SIZEOF(u_multiplicities) = knot_u_upper">
        </where>
        <where
          label="WR4"
          expression="SIZEOF(v_multiplicities) = knot_v_upper">
        </where>
      </entity>

      <entity
        name="background_colour"
        supertypes="colour">
        <explicit
          name="presentation">
          <typename
            name="area_or_view"/>
        </explicit>
        <unique
          label="UR1">
          <unique.attribute
            attribute="presentation"/>
        </unique>
      </entity>

      <entity
        name="bezier_curve"
        supertypes="b_spline_curve">
      </entity>

      <entity
        name="bezier_surface"
        supertypes="b_spline_surface">
      </entity>

      <entity
        name="block"
        supertypes="geometric_representation_item">
        <explicit
          name="position">
          <typename
            name="axis2_placement_3d"/>
        </explicit>
        <explicit
          name="x">
          <typename
            name="positive_length_measure"/>
        </explicit>
        <explicit
          name="y">
          <typename
            name="positive_length_measure"/>
        </explicit>
        <explicit
          name="z">
          <typename
            name="positive_length_measure"/>
        </explicit>
      </entity>

      <entity
        name="boolean_result"
        supertypes="geometric_representation_item">
        <explicit
          name="operator">
          <typename
            name="boolean_operator"/>
        </explicit>
        <explicit
          name="first_operand">
          <typename
            name="boolean_operand"/>
        </explicit>
        <explicit
          name="second_operand">
          <typename
            name="boolean_operand"/>
        </explicit>
      </entity>

      <entity
        name="boundary_curve"
        supertypes="composite_curve_on_surface">
        <where
          label="WR1"
          expression="SELF\composite_curve.closed_curve">
        </where>
      </entity>

      <entity
        name="bounded_curve"
        super.expression="(ONEOF ( POLYLINE, B_SPLINE_CURVE, TRIMMED_CURVE, BOUNDED_PCURVE, BOUNDED_SURFACE_CURVE, COMPOSITE_CURVE))"
        supertypes="curve">
      </entity>

      <entity
        name="bounded_pcurve"
        supertypes="pcurve bounded_curve">
        <where
          label="WR1"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BOUNDED_CURVE' IN TYPEOF(SELF\pcurve.reference_to_curve.items[1]))">
        </where>
      </entity>

      <entity
        name="bounded_surface"
        super.expression="(ONEOF ( B_SPLINE_SURFACE, RECTANGULAR_TRIMMED_SURFACE, CURVE_BOUNDED_SURFACE, RECTANGULAR_COMPOSITE_SURFACE))"
        supertypes="surface">
      </entity>

      <entity
        name="bounded_surface_curve"
        supertypes="surface_curve bounded_curve">
        <where
          label="WR1"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BOUNDED_CURVE' IN TYPEOF(SELF\surface_curve.curve_3d))">
        </where>
      </entity>

      <entity
        name="box_domain"
        supertypes="founded_item">
        <explicit
          name="corner">
          <typename
            name="cartesian_point"/>
        </explicit>
        <explicit
          name="xlength">
          <typename
            name="positive_length_measure"/>
        </explicit>
        <explicit
          name="ylength">
          <typename
            name="positive_length_measure"/>
        </explicit>
        <explicit
          name="zlength">
          <typename
            name="positive_length_measure"/>
        </explicit>
        <where
          label="WR1"
          expression="SIZEOF(QUERY(item &lt;* USEDIN(SELF,'')| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BOXED_HALF_SPACE' IN TYPEOF(item)))) = 0">
        </where>
      </entity>

      <entity
        name="boxed_half_space"
        supertypes="half_space_solid">
        <explicit
          name="enclosure">
          <typename
            name="box_domain"/>
        </explicit>
      </entity>

      <entity
        name="brep_with_voids"
        supertypes="manifold_solid_brep">
        <explicit
          name="voids">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="oriented_closed_shell"/>
        </explicit>
      </entity>

      <entity
        name="calendar_date"
        supertypes="date">
        <explicit
          name="day_component">
          <typename
            name="day_in_month_number"/>
        </explicit>
        <explicit
          name="month_component">
          <typename
            name="month_in_year_number"/>
        </explicit>
        <where
          label="WR1"
          expression="valid_calendar_date (SELF)">
        </where>
      </entity>

      <entity
        name="camera_image"
        supertypes="mapped_item">
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CAMERA_USAGE' IN TYPEOF (SELF\mapped_item.mapping_source)">
        </where>
        <where
          label="WR2"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PLANAR_BOX' IN TYPEOF (SELF\mapped_item.mapping_target)">
        </where>
        <where
          label="WR3"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF (SELF)">
        </where>
      </entity>

      <entity
        name="camera_image_3d_with_scale"
        supertypes="camera_image">
        <derived
          name="scale"
          expression="((SELF\mapped_item.mapping_target\ planar_extent.size_in_x) / (SELF\mapped_item.mapping_source. mapping_origin\camera_model_d3.perspective_of_volume.view_window. size_in_x))">
          <typename
            name="positive_ratio_measure"/>
        </derived>
        <where
          label="WR1"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CAMERA_MODEL_D3' IN TYPEOF (SELF\mapped_item.mapping_source.mapping_origin))">
        </where>
        <where
          label="WR2"
          expression="aspect_ratio(SELF\mapped_item.mapping_target) = aspect_ratio(SELF\mapped_item.mapping_source.mapping_origin\ camera_model_d3.perspective_of_volume.view_window)">
        </where>
        <where
          label="WR3"
          expression="SELF\mapped_item.mapping_source.mapping_origin\camera_model_d3. perspective_of_volume.front_plane_clipping AND SELF\mapped_item.mapping_source.mapping_origin\camera_model_d3. perspective_of_volume.view_volume_sides_clipping">
        </where>
        <where
          label="WR4"
          expression="(SELF\mapped_item.mapping_target\planar_extent.size_in_x &gt; 0) AND(SELF\mapped_item.mapping_target\planar_extent.size_in_y &gt; 0)">
        </where>
        <where
          label="WR5"
          expression="(SELF\mapped_item.mapping_source.mapping_origin\camera_model_d3. perspective_of_volume.view_window.size_in_x &gt; 0) AND(SELF\mapped_item.mapping_source.mapping_origin\camera_model_d3. perspective_of_volume.view_window.size_in_y &gt; 0)">
        </where>
        <where
          label="WR6"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AXIS2_PLACEMENT_2D' IN TYPEOF (SELF\mapped_item. mapping_target\planar_box.placement)) AND NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AXIS2_PLACEMENT_3D' IN TYPEOF (SELF\mapped_item. mapping_target\planar_box.placement))">
        </where>
      </entity>

      <entity
        name="camera_model"
        supertypes="geometric_representation_item">
        <where
          label="WR1"
          expression="(SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'ITEM_DEFINED_TRANSFORMATION.' +'TRANSFORM_ITEM_1')) + SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'REPRESENTATION_MAP.MAPPING_ORIGIN'))) &gt; 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(USEDIN(SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'STYLED_ITEM.ITEM')) = 0">
        </where>
      </entity>

      <entity
        name="camera_model_d3"
        supertypes="camera_model">
        <explicit
          name="view_reference_system">
          <typename
            name="axis2_placement_3d"/>
        </explicit>
        <explicit
          name="perspective_of_volume">
          <typename
            name="view_volume"/>
        </explicit>
        <where
          label="WR1"
          expression="(dot_product (SELF.view_reference_system.p[3], SELF.perspective_of_volume.view_window.placement.p[3]) = 1.0) AND(SELF.view_reference_system.location.coordinates[3] = SELF.perspective_of_volume.view_window. placement.location.coordinates[3])">
        </where>
        <where
          label="WR2"
          expression="SELF\geometric_representation_item.dim = 3">
        </where>
      </entity>

      <entity
        name="camera_usage"
        supertypes="representation_map">
        <where
          label="WR1"
          expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRESENTATION_REPRESENTATION' IN TYPEOF(SELF\representation_map.mapped_representation))">
        </where>
        <where
          label="WR2"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CAMERA_MODEL' IN TYPEOF (SELF\representation_map.mapping_origin)">
        </where>
      </entity>

      <entity
        name="cartesian_point"
        supertypes="point">
        <explicit
          name="coordinates">
          <aggregate
            type="LIST"
            lower="1"
            upper="3"/>
          <typename
            name="length_measure"/>
        </explicit>
      </entity>

      <entity
        name="cartesian_transformation_operator"
        super.expression="(ONEOF ( CARTESIAN_TRANSFORMATION_OPERATOR_2D, CARTESIAN_TRANSFORMATION_OPERATOR_3D))"
        supertypes="geometric_representation_item functionally_defined_transformation">
        <explicit
          name="axis1"
          optional="YES">
          <typename
            name="direction"/>
        </explicit>
        <explicit
          name="axis2"
          optional="YES">
          <typename
            name="direction"/>
        </explicit>
        <explicit
          name="local_origin">
          <typename
            name="cartesian_point"/>
        </explicit>
        <explicit
          name="scale"
          optional="YES">
          <builtintype
            type="REAL"/>
        </explicit>
        <derived
          name="scl"
          expression="NVL(scale, 1.0)">
          <builtintype
            type="REAL"/>
        </derived>
        <where
          label="WR1"
          expression="scl &gt; 0.0">
        </where>
      </entity>

      <entity
        name="cartesian_transformation_operator_2d"
        supertypes="cartesian_transformation_operator">
        <derived
          name="u"
          expression="base_axis(2,SELF\cartesian_transformation_operator.axis1, SELF\cartesian_transformation_operator.axis2,?)">
          <aggregate
            type="LIST"
            lower="2"
            upper="2"/>
          <typename
            name="direction"/>
        </derived>
        <where
          label="WR1"
          expression="SELF\geometric_representation_item.dim = 2">
        </where>
      </entity>

      <entity
        name="cartesian_transformation_operator_3d"
        supertypes="cartesian_transformation_operator">
        <explicit
          name="axis3"
          optional="YES">
          <typename
            name="direction"/>
        </explicit>
        <derived
          name="u"
          expression="base_axis(3,SELF\cartesian_transformation_operator.axis1, SELF\cartesian_transformation_operator.axis2,axis3)">
          <aggregate
            type="LIST"
            lower="3"
            upper="3"/>
          <typename
            name="direction"/>
        </derived>
        <where
          label="WR1"
          expression="SELF\geometric_representation_item.dim = 3">
        </where>
      </entity>

      <entity
        name="celsius_temperature_measure_with_unit"
        supertypes="measure_with_unit">
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.THERMODYNAMIC_TEMPERATURE_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
        </where>
      </entity>

      <entity
        name="centre_of_symmetry"
        supertypes="derived_shape_aspect">
        <where
          label="WR1"
          expression="SIZEOF(QUERY(sadr&lt;*SELF\derived_shape_aspect.deriving_relationships| NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMMETRIC_SHAPE_ASPECT' IN TYPEOF(sadr\shape_aspect_relationship.related_shape_aspect))))=0">
        </where>
      </entity>

      <entity
        name="certification">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="purpose">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="kind">
          <typename
            name="certification_type"/>
        </explicit>
      </entity>

      <entity
        name="certification_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_certification">
          <typename
            name="certification"/>
        </explicit>
        <derived
          name="role"
          expression="get_role (SELF)">
          <typename
            name="object_role"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="certification_type">
        <explicit
          name="description">
          <typename
            name="label"/>
        </explicit>
      </entity>

      <entity
        name="character_glyph_style_outline">
        <explicit
          name="outline_style">
          <typename
            name="curve_style"/>
        </explicit>
      </entity>

      <entity
        name="character_glyph_style_stroke">
        <explicit
          name="stroke_style">
          <typename
            name="curve_style"/>
        </explicit>
      </entity>

      <entity
        name="characterized_object">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="circle"
        supertypes="conic">
        <explicit
          name="radius">
          <typename
            name="positive_length_measure"/>
        </explicit>
      </entity>

      <entity
        name="circular_runout_tolerance"
        supertypes="geometric_tolerance_with_datum_reference">
        <where
          label="WR1"
          expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 2">
        </where>
      </entity>

      <entity
        name="class"
        supertypes="group">
      </entity>

      <entity
        name="class_by_extension"
        supertypes="class">
      </entity>

      <entity
        name="class_by_intension"
        supertypes="class">
      </entity>

      <entity
        name="classification_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_class">
          <typename
            name="group"/>
        </explicit>
        <explicit
          name="role">
          <typename
            name="classification_role"/>
        </explicit>
      </entity>

      <entity
        name="classification_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="closed_shell"
        supertypes="connected_face_set">
      </entity>

      <entity
        name="coaxiality_tolerance"
        supertypes="geometric_tolerance_with_datum_reference">
        <where
          label="WR1"
          expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 2">
        </where>
      </entity>

      <entity
        name="colour">
      </entity>

      <entity
        name="colour_rgb"
        supertypes="colour_specification">
        <explicit
          name="red">
          <builtintype
            type="REAL"/>
        </explicit>
        <explicit
          name="green">
          <builtintype
            type="REAL"/>
        </explicit>
        <explicit
          name="blue">
          <builtintype
            type="REAL"/>
        </explicit>
        <where
          label="WR1"
          expression="{0.0 &lt;= red &lt;= 1.0}">
        </where>
        <where
          label="WR2"
          expression="{0.0 &lt;= green &lt;= 1.0}">
        </where>
        <where
          label="WR3"
          expression="{0.0 &lt;= blue &lt;= 1.0}">
        </where>
      </entity>

      <entity
        name="colour_specification"
        supertypes="colour">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
      </entity>

      <entity
        name="common_datum"
        supertypes="composite_shape_aspect datum">
        <where
          label="WR1"
          expression="SIZEOF (SELF.component_relationships) = 2">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (sar &lt;* SELF.component_relationships| NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DATUM' IN TYPEOF (sar.related_shape_aspect)) AND NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMMON_DATUM' IN TYPEOF (sar.related_shape_aspect))))) = 0">
        </where>
      </entity>

      <entity
        name="composite_curve"
        supertypes="bounded_curve">
        <explicit
          name="segments">
          <aggregate
            type="LIST"
            lower="1"
            upper="?"/>
          <typename
            name="composite_curve_segment"/>
        </explicit>
        <explicit
          name="self_intersect">
          <builtintype
            type="LOGICAL"/>
        </explicit>
        <derived
          name="n_segments"
          expression="SIZEOF(segments)">
          <builtintype
            type="INTEGER"/>
        </derived>
        <derived
          name="closed_curve"
          expression="segments[n_segments].transition &lt;&gt; discontinuous">
          <builtintype
            type="LOGICAL"/>
        </derived>
        <where
          label="WR1"
          expression="((NOT closed_curve) AND (SIZEOF(QUERY(temp &lt;* segments | temp.transition = discontinuous)) = 1)) OR((closed_curve) AND (SIZEOF(QUERY(temp &lt;* segments | temp.transition = discontinuous)) = 0))">
        </where>
      </entity>

      <entity
        name="composite_curve_on_surface"
        super.expression="( BOUNDARY_CURVE)"
        supertypes="composite_curve">
        <derived
          name="basis_surface"
          expression="get_basis_surface(SELF)">
          <aggregate
            type="SET"
            lower="0"
            upper="2"/>
          <typename
            name="surface"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF(basis_surface) &gt; 0">
        </where>
        <where
          label="WR2"
          expression="constraints_composite_curve_on_surface(SELF)">
        </where>
      </entity>

      <entity
        name="composite_curve_segment"
        supertypes="founded_item">
        <explicit
          name="transition">
          <typename
            name="transition_code"/>
        </explicit>
        <explicit
          name="same_sense">
          <builtintype
            type="BOOLEAN"/>
        </explicit>
        <explicit
          name="parent_curve">
          <typename
            name="curve"/>
        </explicit>
        <inverse
          name="using_curves"
          entity="composite_curve"
          attribute="segments">
          <inverse.aggregate
            type="BAG"
            lower="1"
            upper="?"/>
        </inverse>
        <where
          label="WR1"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BOUNDED_CURVE' IN TYPEOF(parent_curve))">
        </where>
      </entity>

      <entity
        name="composite_shape_aspect"
        supertypes="shape_aspect">
        <inverse
          name="component_relationships"
          entity="shape_aspect_relationship"
          attribute="relating_shape_aspect">
          <inverse.aggregate
            type="SET"
            lower="2"
            upper="?"/>
        </inverse>
      </entity>

      <entity
        name="composite_text"
        supertypes="geometric_representation_item">
        <explicit
          name="collected_text">
          <aggregate
            type="SET"
            lower="2"
            upper="?"/>
          <typename
            name="text_or_character"/>
        </explicit>
        <where
          label="WR1"
          expression="acyclic_composite_text(SELF, SELF.collected_text)">
        </where>
      </entity>

      <entity
        name="composite_text_with_associated_curves"
        supertypes="composite_text">
        <explicit
          name="associated_curves">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="curve"/>
        </explicit>
      </entity>

      <entity
        name="composite_text_with_blanking_box"
        supertypes="composite_text">
        <explicit
          name="blanking">
          <typename
            name="planar_box"/>
        </explicit>
      </entity>

      <entity
        name="composite_text_with_delineation"
        supertypes="composite_text">
        <explicit
          name="delineation">
          <typename
            name="text_delineation"/>
        </explicit>
      </entity>

      <entity
        name="composite_text_with_extent"
        supertypes="composite_text">
        <explicit
          name="extent">
          <typename
            name="planar_extent"/>
        </explicit>
      </entity>

      <entity
        name="compound_representation_item"
        supertypes="representation_item">
        <explicit
          name="item_element">
          <typename
            name="compound_item_definition"/>
        </explicit>
      </entity>

      <entity
        name="concentricity_tolerance"
        supertypes="geometric_tolerance_with_datum_reference">
        <where
          label="WR1"
          expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) = 1">
        </where>
      </entity>

      <entity
        name="configuration_design">
        <explicit
          name="configuration">
          <typename
            name="configuration_item"/>
        </explicit>
        <explicit
          name="design">
          <typename
            name="configuration_design_item"/>
        </explicit>
        <derived
          name="name"
          expression="get_name_value (SELF)">
          <typename
            name="label"/>
        </derived>
        <derived
          name="description"
          expression="get_description_value (SELF)">
          <typename
            name="text"/>
        </derived>
        <unique
          label="UR1">
          <unique.attribute
            attribute="configuration"/>
          <unique.attribute
            attribute="design"/>
        </unique>
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="configuration_effectivity"
        supertypes="product_definition_effectivity">
        <explicit
          name="configuration">
          <typename
            name="configuration_design"/>
        </explicit>
        <unique
          label="UR1">
          <unique.attribute
            attribute="configuration"/>
          <unique.attribute
            attribute="usage"/>
          <unique.attribute
            attribute="id"/>
        </unique>
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT_DEFINITION_USAGE' IN TYPEOF (SELF\product_definition_effectivity.usage)">
        </where>
      </entity>

      <entity
        name="configuration_item">
        <explicit
          name="id">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="item_concept">
          <typename
            name="product_concept"/>
        </explicit>
        <explicit
          name="purpose"
          optional="YES">
          <typename
            name="label"/>
        </explicit>
      </entity>

      <entity
        name="conic"
        super.expression="(ONEOF ( CIRCLE, ELLIPSE, HYPERBOLA, PARABOLA))"
        supertypes="curve">
        <explicit
          name="position">
          <typename
            name="axis2_placement"/>
        </explicit>
      </entity>

      <entity
        name="conical_surface"
        supertypes="elementary_surface">
        <explicit
          name="radius">
          <typename
            name="length_measure"/>
        </explicit>
        <explicit
          name="semi_angle">
          <typename
            name="plane_angle_measure"/>
        </explicit>
        <where
          label="WR1"
          expression="radius &gt;= 0.0">
        </where>
      </entity>

      <entity
        name="connected_edge_set"
        supertypes="topological_representation_item">
        <explicit
          name="ces_edges">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="edge"/>
        </explicit>
      </entity>

      <entity
        name="connected_face_set"
        super.expression="(ONEOF ( CLOSED_SHELL, OPEN_SHELL))"
        supertypes="topological_representation_item">
        <explicit
          name="cfs_faces">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="face"/>
        </explicit>
      </entity>

      <entity
        name="constructive_geometry_representation"
        supertypes="representation">
        <where
          label="WR1"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_REPRESENTATION_CONTEXT' IN TYPEOF(SELF.context_of_items)) AND ({2 &lt;= SELF.context_of_items\geometric_representation_context. coordinate_space_dimension &lt;= 3})">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(QUERY(cgr_i &lt;* SELF.items | SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PLACEMENT', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACE_SURFACE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT'] * TYPEOF(cgr_i)) &lt;&gt; 1)) = 0">
        </where>
        <where
          label="WR3"
          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'REPRESENTATION_RELATIONSHIP.REP_2')) &gt; 0">
        </where>
        <where
          label="WR4"
          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'REPRESENTATION_MAP.MAPPED_REPRESENTATION')) = 0">
        </where>
      </entity>

      <entity
        name="constructive_geometry_representation_relationship"
        supertypes="representation_relationship">
        <where
          label="WR1"
          expression="(SELF.rep_1.context_of_items :=: SELF.rep_2.context_of_items) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_REPRESENTATION_CONTEXT' IN TYPEOF(SELF.rep_1.context_of_items))">
        </where>
        <where
          label="WR2"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONSTRUCTIVE_GEOMETRY_REPRESENTATION' IN TYPEOF(SELF.rep_2)">
        </where>
        <where
          label="WR3"
          expression="SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_REPRESENTATION', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONSTRUCTIVE_GEOMETRY_REPRESENTATION'] * TYPEOF(SELF.rep_1)) = 1">
        </where>
        <where
          label="WR4"
          expression="NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'REPRESENTATION_RELATIONSHIP_WITH_TRANSFORMATION' IN TYPEOF(SELF))">
        </where>
      </entity>

      <entity
        name="context_dependent_invisibility"
        supertypes="invisibility">
        <explicit
          name="presentation_context">
          <typename
            name="invisibility_context"/>
        </explicit>
      </entity>

      <entity
        name="context_dependent_shape_representation">
        <explicit
          name="representation_relation">
          <typename
            name="shape_representation_relationship"/>
        </explicit>
        <explicit
          name="represented_product_relation">
          <typename
            name="product_definition_shape"/>
        </explicit>
        <derived
          name="description"
          expression="get_description_value (SELF)">
          <typename
            name="text"/>
        </derived>
        <derived
          name="name"
          expression="get_name_value (SELF)">
          <typename
            name="label"/>
        </derived>
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT_DEFINITION_RELATIONSHIP' IN TYPEOF (SELF.represented_product_relation.definition)">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="context_dependent_unit"
        supertypes="named_unit">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
      </entity>

      <entity
        name="contract">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="purpose">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="kind">
          <typename
            name="contract_type"/>
        </explicit>
      </entity>

      <entity
        name="contract_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_contract">
          <typename
            name="contract"/>
        </explicit>
        <derived
          name="role"
          expression="get_role (SELF)">
          <typename
            name="object_role"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="contract_type">
        <explicit
          name="description">
          <typename
            name="label"/>
        </explicit>
      </entity>

      <entity
        name="conversion_based_unit"
        supertypes="named_unit">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="conversion_factor">
          <typename
            name="measure_with_unit"/>
        </explicit>
      </entity>

      <entity
        name="coordinated_universal_time_offset">
        <explicit
          name="hour_offset">
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="minute_offset"
          optional="YES">
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="sense">
          <typename
            name="ahead_or_behind"/>
        </explicit>
        <derived
          name="actual_minute_offset"
          expression="NVL(minute_offset,0)">
          <builtintype
            type="INTEGER"/>
        </derived>
        <where
          label="WR1"
          expression="{ 0 &lt;= hour_offset &lt; 24 }">
        </where>
        <where
          label="WR2"
          expression="{ 0 &lt;= actual_minute_offset &lt;= 59 }">
        </where>
        <where
          label="WR3"
          expression="NOT (((hour_offset &lt;&gt; 0) OR (actual_minute_offset &lt;&gt;0)) AND (sense = exact))">
        </where>
      </entity>

      <entity
        name="csg_shape_representation"
        supertypes="shape_representation">
        <where
          label="WR1"
          expression="SELF.context_of_items\geometric_representation_context.coordinate_space_dimension = 3">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (it &lt;* SELF.items| (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CSG_SOLID', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SOLID_REPLICA', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.REVOLVED_FACE_SOLID', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EXTRUDED_FACE_SOLID' ] * TYPEOF (it)) &lt;&gt; 1))) = 0">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (mi &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF (it)))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CSG_SHAPE_REPRESENTATION' IN TYPEOF (mi\mapped_item.mapping_source.mapped_representation)))) = 0">
        </where>
        <where
          label="WR4"
          expression="SIZEOF (QUERY (sr &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SOLID_REPLICA' IN TYPEOF (it)))| (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CSG_SOLID', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.REVOLVED_FACE_SOLID', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EXTRUDED_FACE_SOLID' ] * TYPEOF (sr\solid_replica.parent_solid)) = 0))) = 0">
        </where>
        <where
          label="WR5"
          expression="SIZEOF (QUERY (it &lt;* SELF.items| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D' IN TYPEOF (it)))) &gt; 0">
        </where>
      </entity>

      <entity
        name="csg_solid"
        supertypes="solid_model">
        <explicit
          name="tree_root_expression">
          <typename
            name="csg_select"/>
        </explicit>
      </entity>

      <entity
        name="curve"
        super.expression="(ONEOF ( LINE, CONIC, PCURVE, SURFACE_CURVE, OFFSET_CURVE_2D, OFFSET_CURVE_3D, CURVE_REPLICA))"
        supertypes="geometric_representation_item">
      </entity>

      <entity
        name="curve_bounded_surface"
        supertypes="bounded_surface">
        <explicit
          name="basis_surface">
          <typename
            name="surface"/>
        </explicit>
        <explicit
          name="boundaries">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="boundary_curve"/>
        </explicit>
        <explicit
          name="implicit_outer">
          <builtintype
            type="BOOLEAN"/>
        </explicit>
        <where
          label="WR1"
          expression="(NOT implicit_outer) OR(SIZEOF (QUERY (temp &lt;* boundaries |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OUTER_BOUNDARY_CURVE' IN TYPEOF(temp))) = 0)">
        </where>
        <where
          label="WR2"
          expression="(NOT(implicit_outer)) OR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BOUNDED_SURFACE' IN TYPEOF(basis_surface))">
        </where>
        <where
          label="WR3"
          expression="SIZEOF(QUERY(temp &lt;* boundaries |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OUTER_BOUNDARY_CURVE' IN TYPEOF(temp))) &lt;= 1">
        </where>
        <where
          label="WR4"
          expression="SIZEOF(QUERY(temp &lt;* boundaries |(temp\composite_curve_on_surface.basis_surface [1] &lt;&gt; SELF.basis_surface))) = 0">
        </where>
      </entity>

      <entity
        name="curve_dimension"
        supertypes="dimension_curve_directed_callout">
      </entity>

      <entity
        name="curve_replica"
        supertypes="curve">
        <explicit
          name="parent_curve">
          <typename
            name="curve"/>
        </explicit>
        <explicit
          name="transformation">
          <typename
            name="cartesian_transformation_operator"/>
        </explicit>
        <where
          label="WR1"
          expression="transformation.dim = parent_curve.dim">
        </where>
        <where
          label="WR2"
          expression="acyclic_curve_replica (SELF, parent_curve)">
        </where>
      </entity>

      <entity
        name="curve_style">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="curve_font">
          <typename
            name="curve_font_or_scaled_curve_font_select"/>
        </explicit>
        <explicit
          name="curve_width">
          <typename
            name="size_select"/>
        </explicit>
        <explicit
          name="curve_colour">
          <typename
            name="colour"/>
        </explicit>
      </entity>

      <entity
        name="curve_style_font">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="pattern_list">
          <aggregate
            type="LIST"
            lower="1"
            upper="?"/>
          <typename
            name="curve_style_font_pattern"/>
        </explicit>
      </entity>

      <entity
        name="curve_style_font_pattern">
        <explicit
          name="visible_segment_length">
          <typename
            name="positive_length_measure"/>
        </explicit>
        <explicit
          name="invisible_segment_length">
          <typename
            name="positive_length_measure"/>
        </explicit>
      </entity>

      <entity
        name="cylindrical_surface"
        supertypes="elementary_surface">
        <explicit
          name="radius">
          <typename
            name="positive_length_measure"/>
        </explicit>
      </entity>

      <entity
        name="cylindricity_tolerance"
        supertypes="geometric_tolerance">
        <where
          label="WR1"
          expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF))">
        </where>
      </entity>

      <entity
        name="date">
        <explicit
          name="year_component">
          <typename
            name="year_number"/>
        </explicit>
      </entity>

      <entity
        name="date_and_time">
        <explicit
          name="date_component">
          <typename
            name="date"/>
        </explicit>
        <explicit
          name="time_component">
          <typename
            name="local_time"/>
        </explicit>
      </entity>

      <entity
        name="date_and_time_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_date_and_time">
          <typename
            name="date_and_time"/>
        </explicit>
        <explicit
          name="role">
          <typename
            name="date_time_role"/>
        </explicit>
      </entity>

      <entity
        name="date_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_date">
          <typename
            name="date"/>
        </explicit>
        <explicit
          name="role">
          <typename
            name="date_role"/>
        </explicit>
      </entity>

      <entity
        name="date_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <derived
          name="description"
          expression="get_description_value (SELF)">
          <typename
            name="text"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="date_time_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <derived
          name="description"
          expression="get_description_value (SELF)">
          <typename
            name="text"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="dated_effectivity"
        supertypes="effectivity">
        <explicit
          name="effectivity_end_date"
          optional="YES">
          <typename
            name="date_time_or_event_occurrence"/>
        </explicit>
        <explicit
          name="effectivity_start_date">
          <typename
            name="date_time_or_event_occurrence"/>
        </explicit>
      </entity>

      <entity
        name="datum"
        supertypes="shape_aspect">
        <explicit
          name="identification">
          <typename
            name="identifier"/>
        </explicit>
        <inverse
          name="established_by_relationships"
          entity="shape_aspect_relationship"
          attribute="related_shape_aspect">
          <inverse.aggregate
            type="SET"
            lower="1"
            upper="?"/>
        </inverse>
        <where
          label="WR1"
          expression="SIZEOF (QUERY (x&lt;*SELF\datum.established_by_relationships | SIZEOF (TYPEOF(x\shape_aspect_relationship.relating_shape_aspect)*['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DATUM_FEATURE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DATUM_TARGET']) &lt;&gt; 1))=0">
        </where>
      </entity>

      <entity
        name="datum_feature"
        supertypes="shape_aspect">
        <inverse
          name="feature_basis_relationship"
          entity="shape_aspect_relationship"
          attribute="relating_shape_aspect">
        </inverse>
        <where
          label="WR1"
          expression="SIZEOF (QUERY (sar&lt;* bag_to_set (USEDIN (SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_ASPECT_RELATIONSHIP.'+'RELATING_SHAPE_ASPECT'))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DATUM' IN TYPEOF(sar\shape_aspect_relationship.related_shape_aspect))))=0">
        </where>
        <where
          label="WR2"
          expression="SELF\shape_aspect.product_definitional = TRUE">
        </where>
      </entity>

      <entity
        name="datum_feature_callout"
        supertypes="draughting_callout">
      </entity>

      <entity
        name="datum_reference">
        <explicit
          name="precedence">
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="referenced_datum">
          <typename
            name="datum"/>
        </explicit>
        <where
          label="WR1"
          expression="precedence &gt; 0">
        </where>
      </entity>

      <entity
        name="datum_target"
        supertypes="shape_aspect">
        <explicit
          name="target_id">
          <typename
            name="identifier"/>
        </explicit>
        <inverse
          name="target_basis_relationship"
          entity="shape_aspect_relationship"
          attribute="relating_shape_aspect">
        </inverse>
        <where
          label="WR1"
          expression="SIZEOF (QUERY (sar&lt;* bag_to_set (USEDIN (SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_ASPECT_RELATIONSHIP.' +'RELATING_SHAPE_ASPECT'))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DATUM' IN TYPEOF(sar\shape_aspect_relationship.related_shape_aspect))))=0">
        </where>
        <where
          label="WR2"
          expression="SELF\shape_aspect.product_definitional = TRUE">
        </where>
      </entity>

      <entity
        name="datum_target_callout"
        supertypes="draughting_callout">
      </entity>

      <entity
        name="default_tolerance_table"
        supertypes="representation">
        <where
          label="WR1"
          expression="SIZEOF(QUERY(i &lt;* SELF.items | NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEFAULT_TOLERANCE_TABLE_CELL' IN TYPEOF(i)))) = 0">
        </where>
        <where
          label="WR2"
          expression="(SIZEOF(QUERY(rr &lt;* USEDIN(SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'REPRESENTATION_RELATIONSHIP.REP_1') | rr.name &lt; 'general tolerance definition')) = 0) AND (SIZEOF(QUERY(rr &lt;* USEDIN(SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'REPRESENTATION_RELATIONSHIP.REP_1') | (rr.name = 'general tolerance definition') AND (rr.rep_2.name &lt; 'default tolerance'))) = 0) AND (SIZEOF(USEDIN(SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'REPRESENTATION_RELATIONSHIP.REP_2')) = 0)">
        </where>
      </entity>

      <entity
        name="default_tolerance_table_cell"
        supertypes="compound_representation_item">
        <where
          label="WR1"
          expression="SIZEOF(QUERY(x &lt;* USEDIN(SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'REPRESENTATION.ITEMS') | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DEFAULT_TOLERANCE_TABLE' IN TYPEOF(x)))=1">
        </where>
        <where
          label="WR2"
          expression="default_tolerance_table_cell_wr2(SELF\compound_representation_item.item_element)">
        </where>
        <where
          label="WR3"
          expression="default_tolerance_table_cell_wr3(SELF\compound_representation_item.item_element)">
        </where>
        <where
          label="WR4"
          expression="default_tolerance_table_cell_wr4(SELF\compound_representation_item.item_element)">
        </where>
        <where
          label="WR5"
          expression="default_tolerance_table_cell_wr5(SELF\compound_representation_item.item_element)">
        </where>
      </entity>

      <entity
        name="defined_character_glyph"
        supertypes="geometric_representation_item">
        <explicit
          name="definition">
          <typename
            name="defined_glyph_select"/>
        </explicit>
        <explicit
          name="placement">
          <typename
            name="axis2_placement"/>
        </explicit>
      </entity>

      <entity
        name="defined_symbol"
        supertypes="geometric_representation_item">
        <explicit
          name="definition">
          <typename
            name="defined_symbol_select"/>
        </explicit>
        <explicit
          name="target">
          <typename
            name="symbol_target"/>
        </explicit>
      </entity>

      <entity
        name="defined_table"
        supertypes="defined_symbol">
      </entity>

      <entity
        name="definitional_representation"
        supertypes="representation">
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PARAMETRIC_REPRESENTATION_CONTEXT' IN TYPEOF (SELF\representation.context_of_items)">
        </where>
      </entity>

      <entity
        name="degenerate_pcurve"
        supertypes="point">
        <explicit
          name="basis_surface">
          <typename
            name="surface"/>
        </explicit>
        <explicit
          name="reference_to_curve">
          <typename
            name="definitional_representation"/>
        </explicit>
        <where
          label="WR1"
          expression="SIZEOF(reference_to_curve\representation.items) = 1">
        </where>
        <where
          label="WR2"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE' IN TYPEOF(reference_to_curve\representation.items[1])">
        </where>
        <where
          label="WR3"
          expression="reference_to_curve\representation. items[1]\geometric_representation_item.dim =2">
        </where>
      </entity>

      <entity
        name="degenerate_toroidal_surface"
        supertypes="toroidal_surface">
        <explicit
          name="select_outer">
          <builtintype
            type="BOOLEAN"/>
        </explicit>
        <where
          label="WR1"
          expression="major_radius &lt; minor_radius">
        </where>
      </entity>

      <entity
        name="derived_shape_aspect"
        super.expression="(ONEOF ( APEX, CENTRE_OF_SYMMETRY, GEOMETRIC_ALIGNMENT, GEOMETRIC_INTERSECTION, PARALLEL_OFFSET, PERPENDICULAR_TO, EXTENSION, TANGENT))"
        supertypes="shape_aspect">
        <inverse
          name="deriving_relationships"
          entity="shape_aspect_relationship"
          attribute="relating_shape_aspect">
          <inverse.aggregate
            type="SET"
            lower="1"
            upper="?"/>
        </inverse>
        <where
          label="WR1"
          expression="SIZEOF (QUERY (dr &lt;* SELF\derived_shape_aspect.deriving_relationships | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SHAPE_ASPECT_DERIVING_RELATIONSHIP' IN TYPEOF (dr)))) = 0">
        </where>
      </entity>

      <entity
        name="derived_unit">
        <explicit
          name="elements">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="derived_unit_element"/>
        </explicit>
        <derived
          name="name"
          expression="get_name_value (SELF)">
          <typename
            name="label"/>
        </derived>
        <where
          label="WR1"
          expression="(SIZEOF (elements) &gt; 1) OR ((SIZEOF (elements) = 1) AND (elements[1].exponent &lt;&gt; 1.0))">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="derived_unit_element">
        <explicit
          name="unit">
          <typename
            name="named_unit"/>
        </explicit>
        <explicit
          name="exponent">
          <builtintype
            type="REAL"/>
        </explicit>
      </entity>

      <entity
        name="description_attribute">
        <explicit
          name="attribute_value">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="described_item">
          <typename
            name="description_attribute_select"/>
        </explicit>
      </entity>

      <entity
        name="descriptive_representation_item"
        supertypes="representation_item">
        <explicit
          name="description">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="diameter_dimension"
        supertypes="dimension_curve_directed_callout">
      </entity>

      <entity
        name="dimension_callout_component_relationship"
        supertypes="draughting_callout_relationship">
        <where
          label="WR1"
          expression="SELF.name IN ['prefix', 'suffix']">
        </where>
        <where
          label="WR2"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STRUCTURED_DIMENSION_CALLOUT' IN TYPEOF (SELF.relating_draughting_callout)">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (TYPEOF (SELF.related_draughting_callout) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_DIRECTED_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PROJECTION_DIRECTED_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIMENSION_CURVE_DIRECTED_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STRUCTURED_DIMENSION_CALLOUT']) = 0">
        </where>
        <where
          label="WR4"
          expression="SELF.related_draughting_callout.contents * SELF.relating_draughting_callout.contents = SELF.related_draughting_callout.contents">
        </where>
        <where
          label="WR5"
          expression="((SELF.name = 'prefix') AND(SIZEOF (QUERY (ato &lt;* QUERY (con &lt;* SELF.related_draughting_callout.contents |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF(con))) | NOT (ato.name = 'prefix text'))) = 0))">
        </where>
        <where
          label="WR6"
          expression="((SELF.name = 'suffix') AND(SIZEOF (QUERY (ato &lt;* QUERY (con &lt;* SELF.related_draughting_callout.contents |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF(con))) | NOT (ato.name = 'suffix text'))) = 0))">
        </where>
      </entity>

      <entity
        name="dimension_callout_relationship"
        supertypes="draughting_callout_relationship">
        <where
          label="WR1"
          expression="SELF.name IN ['primary', 'secondary']">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (TYPEOF (SELF.relating_draughting_callout) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANGULAR_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIAMETER_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_DIRECTED_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINEAR_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORDINATE_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.RADIUS_DIMENSION'])&gt;=1">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (TYPEOF (SELF.related_draughting_callout) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIMENSION_CURVE_DIRECTED_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PROJECTION_DIRECTED_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_DIRECTED_CALLOUT']) = 0">
        </where>
        <where
          label="WR4"
          expression="SELF.related_draughting_callout.contents * SELF.relating_draughting_callout.contents = SELF.related_draughting_callout.contents">
        </where>
      </entity>

      <entity
        name="dimension_curve"
        supertypes="annotation_curve_occurrence">
        <where
          label="wr1"
          expression="(SIZEOF(QUERY(dct &lt;* USEDIN(SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'TERMINATOR_SYMBOL.ANNOTATED_CURVE')| (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'DIMENSION_CURVE_TERMINATOR' IN TYPEOF(dct))))) &lt;= 2)">
        </where>
        <where
          label="wr2"
          expression="SIZEOF(QUERY(dcdc &lt;* USEDIN(SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_CALLOUT.CONTENTS') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'DIMENSION_CURVE_DIRECTED_CALLOUT' IN TYPEOF(dcdc))))&gt;= 1">
        </where>
        <where
          label="wr3"
          expression="(SIZEOF(QUERY(dct1 &lt;* USEDIN(SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'TERMINATOR_SYMBOL.ANNOTATED_CURVE')| (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'DIMENSION_CURVE_TERMINATOR' IN TYPEOF(dct1)) AND (dct1.role = origin)))) &lt;= 1) AND(SIZEOF(QUERY (dct2 &lt;* USEDIN(SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'TERMINATOR_SYMBOL.ANNOTATED_CURVE')| (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'DIMENSION_CURVE_TERMINATOR' IN TYPEOF(dct2)) AND (dct2.role = target)))) &lt;= 1)">
        </where>
      </entity>

      <entity
        name="dimension_curve_directed_callout"
        supertypes="draughting_callout">
        <where
          label="WR1"
          expression="SIZEOF(QUERY(d_c&lt;*SELF\draughting_callout.contents |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIMENSION_CURVE' IN (TYPEOF(d_c))))=1">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(SELF\draughting_callout.contents) &gt;= 2">
        </where>
      </entity>

      <entity
        name="dimension_curve_terminator"
        supertypes="terminator_symbol">
        <explicit
          name="role">
          <typename
            name="dimension_extent_usage"/>
        </explicit>
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIMENSION_CURVE' IN TYPEOF(SELF\terminator_symbol.annotated_curve)">
        </where>
      </entity>

      <entity
        name="dimension_pair"
        supertypes="draughting_callout_relationship">
        <where
          label="WR1"
          expression="SELF.name IN ['chained', 'parallel']">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (TYPEOF (SELF.relating_draughting_callout) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANGULAR_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIAMETER_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINEAR_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORDINATE_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.RADIUS_DIMENSION'])=1">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (TYPEOF (SELF.related_draughting_callout) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANGULAR_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIAMETER_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINEAR_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORDINATE_DIMENSION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.RADIUS_DIMENSION'])=1">
        </where>
      </entity>

      <entity
        name="dimension_related_tolerance_zone_element">
        <explicit
          name="related_dimension">
          <typename
            name="dimensional_location"/>
        </explicit>
        <explicit
          name="related_element">
          <typename
            name="tolerance_zone_definition"/>
        </explicit>
      </entity>

      <entity
        name="dimension_text_associativity"
        supertypes="text_literal mapped_item">
        <where
          label="WR1"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_DIMENSION_REPRESENTATION' IN TYPEOF (SELF\mapped_item. mapping_source.mapped_representation))">
        </where>
        <where
          label="WR2"
          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_CALLOUT' IN TYPEOF (SELF\mapped_item.mapping_target))">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (ato &lt;* QUERY (si &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM.ITEM') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF(si))) | NOT (SIZEOF(QUERY (dc &lt;* USEDIN (ato, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_CALLOUT.CONTENTS') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_CALLOUT' IN TYPEOF (dc)))* [SELF\mapped_item.mapping_target]) = 1))) = 0">
        </where>
      </entity>

      <entity
        name="dimensional_characteristic_representation">
        <explicit
          name="dimension">
          <typename
            name="dimensional_characteristic"/>
        </explicit>
        <explicit
          name="representation">
          <typename
            name="shape_dimension_representation"/>
        </explicit>
      </entity>

      <entity
        name="dimensional_exponents">
        <explicit
          name="length_exponent">
          <builtintype
            type="REAL"/>
        </explicit>
        <explicit
          name="mass_exponent">
          <builtintype
            type="REAL"/>
        </explicit>
        <explicit
          name="time_exponent">
          <builtintype
            type="REAL"/>
        </explicit>
        <explicit
          name="electric_current_exponent">
          <builtintype
            type="REAL"/>
        </explicit>
        <explicit
          name="thermodynamic_temperature_exponent">
          <builtintype
            type="REAL"/>
        </explicit>
        <explicit
          name="amount_of_substance_exponent">
          <builtintype
            type="REAL"/>
        </explicit>
        <explicit
          name="luminous_intensity_exponent">
          <builtintype
            type="REAL"/>
        </explicit>
      </entity>

      <entity
        name="dimensional_location"
        super.expression="(ONEOF ( ANGULAR_LOCATION, DIMENSIONAL_LOCATION_WITH_PATH))"
        supertypes="shape_aspect_relationship">
      </entity>

      <entity
        name="dimensional_location_with_path"
        supertypes="dimensional_location">
        <explicit
          name="path">
          <typename
            name="shape_aspect"/>
        </explicit>
      </entity>

      <entity
        name="dimensional_size"
        super.expression="(ONEOF ( ANGULAR_SIZE, DIMENSIONAL_SIZE_WITH_PATH))">
        <explicit
          name="applies_to">
          <typename
            name="shape_aspect"/>
        </explicit>
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <where
          label="WR1"
          expression="applies_to.product_definitional = TRUE">
        </where>
      </entity>

      <entity
        name="dimensional_size_with_path"
        supertypes="dimensional_size">
        <explicit
          name="path">
          <typename
            name="shape_aspect"/>
        </explicit>
      </entity>

      <entity
        name="directed_action"
        supertypes="executed_action">
        <explicit
          name="directive">
          <typename
            name="action_directive"/>
        </explicit>
      </entity>

      <entity
        name="directed_dimensional_location"
        supertypes="dimensional_location">
      </entity>

      <entity
        name="direction"
        supertypes="geometric_representation_item">
        <explicit
          name="direction_ratios">
          <aggregate
            type="LIST"
            lower="2"
            upper="3"/>
          <builtintype
            type="REAL"/>
        </explicit>
        <where
          label="WR1"
          expression="SIZEOF(QUERY(tmp &lt;* direction_ratios | tmp &lt;&gt; 0.0)) &gt; 0">
        </where>
      </entity>

      <entity
        name="document">
        <explicit
          name="id">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="kind">
          <typename
            name="document_type"/>
        </explicit>
        <inverse
          name="representation_types"
          entity="document_representation_type"
          attribute="represented_document">
          <inverse.aggregate
            type="SET"
            lower="0"
            upper="?"/>
        </inverse>
      </entity>

      <entity
        name="document_file"
        supertypes="document characterized_object">
        <where
          label="WR1"
          expression="SELF\characterized_object.name = ''">
        </where>
        <where
          label="WR2"
          expression="NOT EXISTS(SELF\characterized_object.description)">
        </where>
        <where
          label="WR3"
          expression="SIZEOF(QUERY(drt &lt;* SELF\document.representation_types | drt.name IN ['digital','physical'])) = 1">
        </where>
      </entity>

      <entity
        name="document_product_association">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="relating_document">
          <typename
            name="document"/>
        </explicit>
        <explicit
          name="related_product">
          <typename
            name="product_or_formation_or_definition"/>
        </explicit>
      </entity>

      <entity
        name="document_product_equivalence"
        supertypes="document_product_association">
        <where
          label="WR1"
          expression="SELF\document_product_association.name = 'equivalence'">
        </where>
        <where
          label="WR2"
          expression="NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT' IN TYPEOF(SELF\document_product_association.related_product)) OR ((SELF\document_product_association.relating_document.kind. product_data_type = 'configuration controlled document') AND (SIZEOF(QUERY(prpc &lt;* USEDIN(SELF\document_product_association.related_product,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS') | prpc.name = 'document')) = 1))">
        </where>
        <where
          label="WR3"
          expression="NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT_DEFINITION_FORMATION' IN TYPEOF(SELF.related_product)) OR ((SELF\document_product_association.relating_document.kind.product_data_type = 'configuration controlled document version') AND (SIZEOF(QUERY(prpc &lt;* USEDIN(SELF.related_product\product_definition_formation.of_product, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS') | prpc.name = 'document')) = 1))">
        </where>
        <where
          label="WR4"
          expression="NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT_DEFINITION' IN TYPEOF(SELF.related_product)) OR ((SELF\document_product_association.relating_document.kind.product_data_type = 'configuration controlled document definition') AND (SIZEOF(QUERY(prpc &lt;* USEDIN(SELF\document_product_association.related_product\product_definition.formation.of_product, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS') | prpc.name = 'document')) = 1))">
        </where>
      </entity>

      <entity
        name="document_reference"
        abstract.supertype="YES">
        <explicit
          name="assigned_document">
          <typename
            name="document"/>
        </explicit>
        <explicit
          name="source">
          <typename
            name="label"/>
        </explicit>
        <derived
          name="role"
          expression="get_role (SELF)">
          <typename
            name="object_role"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="document_relationship">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="relating_document">
          <typename
            name="document"/>
        </explicit>
        <explicit
          name="related_document">
          <typename
            name="document"/>
        </explicit>
      </entity>

      <entity
        name="document_representation_type">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="represented_document">
          <typename
            name="document"/>
        </explicit>
      </entity>

      <entity
        name="document_type">
        <explicit
          name="product_data_type">
          <typename
            name="label"/>
        </explicit>
      </entity>

      <entity
        name="document_usage_constraint">
        <explicit
          name="source">
          <typename
            name="document"/>
        </explicit>
        <explicit
          name="subject_element">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="subject_element_value">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="document_usage_constraint_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_document_usage">
          <typename
            name="document_usage_constraint"/>
        </explicit>
        <explicit
          name="role">
          <typename
            name="document_usage_role"/>
        </explicit>
      </entity>

      <entity
        name="document_usage_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="draughting_annotation_occurrence"
        supertypes="annotation_occurrence">
        <where
          label="WR1"
          expression="(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_CURVE_OCCURRENCE' IN TYPEOF (SELF))) OR(SIZEOF (QUERY (sty &lt;* SELF.styles | NOT ((SIZEOF (sty.styles) = 1) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF (sty.styles[1]))))) = 0)">
        </where>
        <where
          label="WR2"
          expression="(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_FILL_AREA_OCCURRENCE' IN TYPEOF (SELF))) OR (SIZEOF (QUERY (sty &lt;* SELF.styles | NOT ((SIZEOF (sty.styles) = 1) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FILL_AREA_STYLE' IN TYPEOF (sty.styles[1]))))) = 0)">
        </where>
        <where
          label="WR3"
          expression="(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_FILL_AREA_OCCURRENCE' IN TYPEOF (SELF))) OR (SIZEOF (QUERY (bound &lt;* SELF.item\annotation_fill_area.boundaries | NOT (SIZEOF (QUERY (si &lt;* USEDIN (bound, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'STYLED_ITEM.ITEM') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'ANNOTATION_CURVE_OCCURRENCE' IN TYPEOF (si)))) &gt; 0))) = 0)">
        </where>
        <where
          label="WR4"
          expression="(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL_OCCURRENCE' IN TYPEOF (SELF))) OR (SIZEOF (QUERY (sty &lt;* SELF.styles | NOT ((SIZEOF (sty.styles) = 1) AND(SIZEOF (TYPEOF (sty.styles[1]) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMBOL_STYLE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.NULL_STYLE']) = 1)))) = 0)">
        </where>
        <where
          label="WR5"
          expression="(NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL_OCCURRENCE' IN TYPEOF (SELF)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL' IN TYPEOF(SELF.item)))) OR(SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_SYMBOL_REPRESENTATION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_SUBFIGURE_REPRESENTATION'] * TYPEOF (SELF.item\mapped_item.mapping_source. mapped_representation)) = 1)">
        </where>
        <where
          label="WR6"
          expression="(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (SELF))) OR(SIZEOF (QUERY (sty &lt;* SELF.styles | NOT ((SIZEOF (sty.styles) = 1) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_STYLE' IN TYPEOF (sty.styles[1]))))) = 0)">
        </where>
        <where
          label="WR7"
          expression="(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (SELF))) OR(SIZEOF (TYPEOF(SELF.item) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL']) = 1)">
        </where>
        <where
          label="WR8"
          expression="(NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (SELF)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT' IN TYPEOF (SELF.item)))) OR (SIZEOF (QUERY (tl &lt;* SELF.item\composite_text.collected_text | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL' IN TYPEOF (tl)))) = 0)">
        </where>
        <where
          label="WR9"
          expression="(NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (SELF)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL' IN TYPEOF (SELF.item)))) OR (SELF.item\text_literal.alignment IN ['baseline left', 'baseline centre', 'baseline right'])">
        </where>
        <where
          label="WR10"
          expression="(NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (SELF)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT' IN TYPEOF (SELF.item)))) OR(SIZEOF (QUERY (tl &lt;* QUERY (text &lt;* SELF. item\composite_text.collected_text|('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL' IN TYPEOF(text))) | NOT (tl\text_literal.alignment IN['baseline left', 'baseline centre', 'baseline right']))) = 0)">
        </where>
        <where
          label="WR11"
          expression="NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF(SELF)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT' IN TYPEOF (SELF.item))) OR check_text_alignment(SELF.item)">
        </where>
        <where
          label="WR12"
          expression="NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF(SELF)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT' IN TYPEOF (SELF.item))) OR check_text_font(SELF.item)">
        </where>
        <where
          label="WR13"
          expression="(NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF(SELF)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT' IN TYPEOF (SELF.item)))) OR(SIZEOF (QUERY (tl &lt;* QUERY (text &lt;* SELF.item\composite_text.collected_text |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL' IN TYPEOF (text))) | NOT (SIZEOF (TYPEOF(tl) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'TEXT_LITERAL_WITH_BLANKING_BOX','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'TEXT_LITERAL_WITH_ASSOCIATED_CURVES']) = 0))) = 0)">
        </where>
        <where
          label="WR14"
          expression="(NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (SELF)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL_WITH_ASSOCIATED_CURVES' IN TYPEOF (SELF.item)))) OR(SIZEOF (QUERY (crv &lt;* SELF.item\text_literal_with_associated_curves. associated_curves | NOT (SIZEOF (QUERY (si &lt;* USEDIN (crv,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM.ITEM') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_CURVE_OCCURRENCE' IN TYPEOF (si)))) &gt; 0))) = 0)">
        </where>
        <where
          label="WR15"
          expression="(NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (SELF)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT_WITH_ASSOCIATED_CURVES' IN TYPEOF (SELF.item)))) OR(SIZEOF (QUERY (crv &lt;* SELF.item\composite_text_with_associated_curves. associated_curves | NOT (SIZEOF (QUERY (si &lt;* USEDIN (crv,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM.ITEM') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_CURVE_OCCURRENCE' IN TYPEOF (si)))) &gt; 0))) = 0)">
        </where>
        <where
          label="WR16"
          expression="SIZEOF (QUERY (cs &lt;* QUERY (sty &lt;* SELF.styles |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF (sty.styles[1])))| NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LENGTH_MEASURE_WITH_UNIT' IN TYPEOF (cs.styles[1]\curve_style.curve_width)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POSITIVE_LENGTH_MEASURE' IN TYPEOF (cs.styles[1]\curve_style. curve_width\measure_with_unit.value_component))))) = 0">
        </where>
        <where
          label="WR17"
          expression="SIZEOF (QUERY (fas &lt;* QUERY (sty &lt;* SELF.styles |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FILL_AREA_STYLE' IN TYPEOF (sty.styles[1]))) | NOT ((SIZEOF (QUERY (fs &lt;* fas.styles[1]\fill_area_style.fill_styles| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FILL_AREA_STYLE_TILES' IN TYPEOF (fs)))) &lt;= 1) AND (SIZEOF (QUERY (fst &lt;* QUERY (fs &lt;* fas.styles[1]\fill_area_style.fill_styles |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FILL_AREA_STYLE_TILES' IN TYPEOF (fs))) | NOT (SIZEOF (fst\fill_area_style_tiles.tiles) = 1))) = 0)))) = 0">
        </where>
        <where
          label="WR18"
          expression="SIZEOF (QUERY (fas &lt;* QUERY (sty &lt;* SELF.styles |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FILL_AREA_STYLE' IN TYPEOF (sty.styles[1]))) | NOT (SIZEOF (QUERY (fsh &lt;* QUERY (fs &lt;* fas.styles[1]\fill_area_style.fill_styles |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FILL_AREA_STYLE_HATCHING' IN TYPEOF (fs))) | NOT (fsh\fill_area_style_hatching.point_of_reference_hatch_line :=: fsh\fill_area_style_hatching.pattern_start))) = 0))) = 0">
        </where>
        <where
          label="WR19"
          expression="SIZEOF (QUERY (ts &lt;* QUERY (sty &lt;* SELF.styles |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_STYLE' IN TYPEOF(sty.styles[1]))) | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'TEXT_STYLE_WITH_BOX_CHARACTERISTICS' IN TYPEOF (ts.styles[1])))) = 0">
        </where>
        <where
          label="WR20"
          expression="SIZEOF (QUERY (ts &lt;* QUERY (sty &lt;* SELF.styles |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_STYLE_WITH_BOX_CHARACTERISTICS' IN TYPEOF (sty.styles[1]))) | NOT (SIZEOF (ts.styles[1]\text_style_with_box_characteristics. characteristics) = 4))) = 0">
        </where>
      </entity>

      <entity
        name="draughting_callout"
        supertypes="geometric_representation_item">
        <explicit
          name="contents">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="draughting_callout_element"/>
        </explicit>
      </entity>

      <entity
        name="draughting_callout_relationship">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="relating_draughting_callout">
          <typename
            name="draughting_callout"/>
        </explicit>
        <explicit
          name="related_draughting_callout">
          <typename
            name="draughting_callout"/>
        </explicit>
      </entity>

      <entity
        name="draughting_elements"
        supertypes="draughting_callout">
        <where
          label="WR1"
          expression="SIZEOF (QUERY (l_c &lt;* QUERY (con &lt;* SELF.contents |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_CURVE' IN TYPEOF(con))) | NOT (SIZEOF (QUERY (ldc &lt;* USEDIN (l_c,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DRAUGHTING_CALLOUT.CONTENTS') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_DIRECTED_CALLOUT' IN TYPEOF (ldc)))) &lt;= 1)))=0">
        </where>
        <where
          label="WR2"
          expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIMENSION_CURVE_DIRECTED_CALLOUT' IN TYPEOF(SELF)) OR(SIZEOF (QUERY (con &lt;* SELF.contents |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PROJECTION_CURVE' IN TYPEOF (con)))) &lt;= 2)">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (rc &lt;* USEDIN (SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_CALLOUT_' +'RELATIONSHIP.RELATING_DRAUGHTING_CALLOUT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DIMENSION_CALLOUT_RELATIONSHIP' IN TYPEOF (rc)) AND(rc.name = 'primary'))) &lt;= 1">
        </where>
        <where
          label="WR4"
          expression="SIZEOF (QUERY (rc &lt;* USEDIN (SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_CALLOUT_' +'RELATIONSHIP.RELATING_DRAUGHTING_CALLOUT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DIMENSION_CALLOUT_RELATIONSHIP' IN TYPEOF (rc)) AND(rc.name = 'secondary'))) &lt;= 1">
        </where>
        <where
          label="WR5"
          expression="SIZEOF (QUERY (sec &lt;* QUERY (rc &lt;* USEDIN (SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_CALLOUT_' +'RELATIONSHIP.RELATING_DRAUGHTING_CALLOUT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DIMENSION_CALLOUT_RELATIONSHIP' IN TYPEOF (rc)) AND(rc.name = 'secondary')) | NOT (SIZEOF (QUERY (prim &lt;* USEDIN (SELF,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_CALLOUT_' +'RELATIONSHIP.RELATING_DRAUGHTING_CALLOUT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DIMENSION_CALLOUT_RELATIONSHIP' IN TYPEOF (prim)) AND(prim.name = 'primary'))) = 1))) = 0">
        </where>
      </entity>

      <entity
        name="draughting_model"
        supertypes="representation">
        <unique
          label="UR1">
          <unique.attribute
            entity-ref="representation"
            attribute="name"/>
        </unique>
        <where
          label="WR1"
          expression="SIZEOF (QUERY (it &lt;* SELF.items | NOT (SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CAMERA_MODEL'] * TYPEOF (it)) = 1))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (mi &lt;* QUERY (it &lt;* SELF.items |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF(it))) | NOT (SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_REPRESENTATION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_MODEL'] * TYPEOF (mi\mapped_item.mapping_source. mapped_representation)) = 1))) = 0">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (smi &lt;* QUERY (si &lt;* QUERY (it &lt;* SELF.items |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it))) |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF(si\styled_item.item))) |(NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_REPRESENTATION' IN TYPEOF(smi\styled_item.item\mapped_item. mapping_source.mapped_representation)) AND(SIZEOF (QUERY (sty &lt;* smi\styled_item.styles |(NOT (SIZEOF (QUERY (psa &lt;* sty.styles |(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF(psa))))) = 1)))) = 1))))) = 0">
        </where>
      </entity>

      <entity
        name="draughting_pre_defined_colour"
        supertypes="pre_defined_colour">
        <where
          label="WR1"
          expression="SELF.name IN['red','green','blue','yellow','magenta','cyan','black','white']">
        </where>
      </entity>

      <entity
        name="draughting_pre_defined_curve_font"
        supertypes="pre_defined_curve_font">
        <where
          label="WR1"
          expression="SELF.name IN['continuous','chain','chain double dash','dashed','dotted']">
        </where>
      </entity>

      <entity
        name="draughting_subfigure_representation"
        supertypes="symbol_representation">
        <where
          label="WR1"
          expression="SIZEOF (QUERY (item &lt;* SELF\representation.items | NOT (SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT']* TYPEOF (item)) = 1))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (item &lt;* SELF\representation.items | SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_CALLOUT'] * TYPEOF (item)) = 1)) &gt;= 1">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (srm &lt;* QUERY (rm &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'REPRESENTATION_MAP.MAPPED_REPRESENTATION') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMBOL_REPRESENTATION_MAP' IN TYPEOF(rm))) | NOT (SIZEOF (QUERY (a_s &lt;* QUERY (mi &lt;* srm.map_usage |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL' IN TYPEOF(mi)))| NOT (SIZEOF (QUERY (aso &lt;* USEDIN (a_s, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'STYLED_ITEM.ITEM') | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SUBFIGURE_OCCURRENCE' IN TYPEOF(aso)))) = 0))) = 0))) &gt; 0">
        </where>
        <where
          label="WR4"
          expression="NOT (acyclic_mapped_item_usage (SELF))">
        </where>
        <where
          label="WR5"
          expression="SIZEOF (SELF.context_of_items.representations_in_context) = 1">
        </where>
      </entity>

      <entity
        name="draughting_symbol_representation"
        supertypes="symbol_representation">
        <unique
          label="UR1">
          <unique.attribute
            entity-ref="representation"
            attribute="name"/>
        </unique>
        <where
          label="WR1"
          expression="SIZEOF (QUERY (item &lt;* SELF\representation.items | NOT (SIZEOF (TYPEOF (item) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_CURVE_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_FILL_AREA_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT']) = 1))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (item &lt;* SELF\representation.items |(SIZEOF (TYPEOF (item) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_CURVE_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_FILL_AREA_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE']) = 1))) &gt;= 1">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (item &lt;* SELF\representation.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SUBFIGURE_OCCURRENCE' IN TYPEOF (item))) = 0">
        </where>
        <where
          label="WR4"
          expression="SIZEOF (QUERY (srm &lt;* QUERY (rm &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'REPRESENTATION_MAP.MAPPED_REPRESENTATION') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMBOL_REPRESENTATION_MAP' IN TYPEOF(rm))) | NOT (SIZEOF (QUERY (a_s &lt;* QUERY (mi &lt;* srm.map_usage |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL' IN TYPEOF(mi))) | NOT (SIZEOF (QUERY(aso &lt;* USEDIN(a_s, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'STYLED_ITEM.ITEM') | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_SYMBOL_OCCURRENCE' IN TYPEOF(aso)))) = 0))) = 0))) &gt; 0">
        </where>
        <where
          label="WR5"
          expression="NOT (acyclic_mapped_item_usage (SELF))">
        </where>
        <where
          label="WR6"
          expression="SIZEOF (SELF.context_of_items.representations_in_context) = 1">
        </where>
      </entity>

      <entity
        name="draughting_text_literal_with_delineation"
        supertypes="text_literal_with_delineation">
        <where
          label="WR1"
          expression="SELF.delineation IN ['underline', 'overline']">
        </where>
      </entity>

      <entity
        name="edge"
        super.expression="(ONEOF ( EDGE_CURVE, ORIENTED_EDGE))"
        supertypes="topological_representation_item">
        <explicit
          name="edge_start">
          <typename
            name="vertex"/>
        </explicit>
        <explicit
          name="edge_end">
          <typename
            name="vertex"/>
        </explicit>
      </entity>

      <entity
        name="edge_based_wireframe_model"
        supertypes="geometric_representation_item">
        <explicit
          name="ebwm_boundary">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="connected_edge_set"/>
        </explicit>
      </entity>

      <entity
        name="edge_based_wireframe_shape_representation"
        supertypes="shape_representation">
        <where
          label="WR1"
          expression="SIZEOF (QUERY (it &lt;* SELF.items| NOT (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_BASED_WIREFRAME_MODEL', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D' ] * TYPEOF (it)) = 1))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (it &lt;* SELF.items| (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_BASED_WIREFRAME_MODEL', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' ] * TYPEOF (it)) = 1))) &gt;= 1">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (ebwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (eb &lt;* ebwm\edge_based_wireframe_model.ebwm_boundary| NOT (SIZEOF (QUERY (edges &lt;* eb.ces_edges| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_CURVE' IN TYPEOF (edges)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR4"
          expression="SIZEOF (QUERY (ebwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (eb &lt;* ebwm\edge_based_wireframe_model.ebwm_boundary| NOT (SIZEOF (QUERY (pline_edges &lt;* QUERY (edges &lt;* eb.ces_edges| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' IN TYPEOF (edges\edge_curve.edge_geometry)))| NOT (SIZEOF (pline_edges\edge_curve.edge_geometry\polyline.points) &gt; 2))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR5"
          expression="SIZEOF (QUERY (ebwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (eb &lt;* ebwm\edge_based_wireframe_model.ebwm_boundary| NOT (SIZEOF (QUERY (edges &lt;* eb.ces_edges| NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (edges.edge_start)) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (edges.edge_end))))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR6"
          expression="SIZEOF (QUERY (ebwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (eb &lt;* ebwm\edge_based_wireframe_model.ebwm_boundary| NOT (SIZEOF (QUERY (edges &lt;* eb.ces_edges| NOT valid_wireframe_edge_curve(edges\edge_curve.edge_geometry))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR7"
          expression="SIZEOF (QUERY (ebwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (eb &lt;* ebwm\edge_based_wireframe_model.ebwm_boundary| NOT (SIZEOF (QUERY (edges &lt;* eb.ces_edges| NOT (valid_wireframe_vertex_point(edges.edge_start\vertex_point.vertex_geometry) AND valid_wireframe_vertex_point(edges.edge_end\vertex_point.vertex_geometry)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR8"
          expression="SIZEOF (QUERY (mi &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF (it)))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'EDGE_BASED_WIREFRAME_SHAPE_REPRESENTATION' IN TYPEOF (mi\mapped_item.mapping_source.mapped_representation)))) = 0">
        </where>
        <where
          label="WR9"
          expression="SELF.context_of_items\geometric_representation_context.coordinate_space_dimension = 3">
        </where>
      </entity>

      <entity
        name="edge_curve"
        supertypes="edge geometric_representation_item">
        <explicit
          name="edge_geometry">
          <typename
            name="curve"/>
        </explicit>
        <explicit
          name="same_sense">
          <builtintype
            type="BOOLEAN"/>
        </explicit>
      </entity>

      <entity
        name="edge_loop"
        supertypes="loop path">
        <derived
          name="ne"
          expression="SIZEOF(SELF\path.edge_list)">
          <builtintype
            type="INTEGER"/>
        </derived>
        <where
          label="WR1"
          expression="(SELF\path.edge_list[1].edge_start) :=:(SELF\path.edge_list[ne].edge_end)">
        </where>
      </entity>

      <entity
        name="effectivity"
        super.expression="(ONEOF ( SERIAL_NUMBERED_EFFECTIVITY, DATED_EFFECTIVITY, LOT_EFFECTIVITY, TIME_INTERVAL_BASED_EFFECTIVITY))">
        <explicit
          name="id">
          <typename
            name="identifier"/>
        </explicit>
        <derived
          name="name"
          expression="get_name_value(SELF)">
          <typename
            name="label"/>
        </derived>
        <derived
          name="description"
          expression="get_description_value(SELF)">
          <typename
            name="text"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="effectivity_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_effectivity">
          <typename
            name="effectivity"/>
        </explicit>
        <derived
          name="role"
          expression="get_role(SELF)">
          <typename
            name="object_role"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="effectivity_relationship">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="related_effectivity">
          <typename
            name="effectivity"/>
        </explicit>
        <explicit
          name="relating_effectivity">
          <typename
            name="effectivity"/>
        </explicit>
      </entity>

      <entity
        name="electric_current_measure_with_unit"
        supertypes="measure_with_unit">
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ELECTRIC_CURRENT_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
        </where>
      </entity>

      <entity
        name="electric_current_unit"
        supertypes="named_unit">
        <where
          label="WR1"
          expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 1.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
        </where>
      </entity>

      <entity
        name="elementary_surface"
        super.expression="(ONEOF ( PLANE, CYLINDRICAL_SURFACE, CONICAL_SURFACE, SPHERICAL_SURFACE, TOROIDAL_SURFACE))"
        supertypes="surface">
        <explicit
          name="position">
          <typename
            name="axis2_placement_3d"/>
        </explicit>
      </entity>

      <entity
        name="ellipse"
        supertypes="conic">
        <explicit
          name="semi_axis_1">
          <typename
            name="positive_length_measure"/>
        </explicit>
        <explicit
          name="semi_axis_2">
          <typename
            name="positive_length_measure"/>
        </explicit>
      </entity>

      <entity
        name="evaluated_degenerate_pcurve"
        supertypes="degenerate_pcurve">
        <explicit
          name="equivalent_point">
          <typename
            name="cartesian_point"/>
        </explicit>
      </entity>

      <entity
        name="event_occurrence">
        <explicit
          name="id">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="event_occurrence_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_event_occurrence">
          <typename
            name="event_occurrence"/>
        </explicit>
        <explicit
          name="role">
          <typename
            name="event_occurrence_role"/>
        </explicit>
      </entity>

      <entity
        name="event_occurrence_relationship">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="relating_event">
          <typename
            name="event_occurrence"/>
        </explicit>
        <explicit
          name="related_event">
          <typename
            name="event_occurrence"/>
        </explicit>
      </entity>

      <entity
        name="event_occurrence_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="executed_action"
        supertypes="action">
      </entity>

      <entity
        name="extension"
        supertypes="derived_shape_aspect">
        <where
          label="WR1"
          expression="SIZEOF (SELF\derived_shape_aspect.deriving_relationships)= 1">
        </where>
      </entity>

      <entity
        name="external_class_library"
        supertypes="external_source">
      </entity>

      <entity
        name="external_identification_assignment"
        abstract.supertype="YES"
        supertypes="identification_assignment">
        <explicit
          name="source">
          <typename
            name="external_source"/>
        </explicit>
      </entity>

      <entity
        name="external_source">
        <explicit
          name="source_id">
          <typename
            name="source_item"/>
        </explicit>
        <derived
          name="description"
          expression="get_description_value (SELF)">
          <typename
            name="text"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="externally_defined_character_glyph"
        supertypes="externally_defined_item">
      </entity>

      <entity
        name="externally_defined_class"
        supertypes="class externally_defined_item">
      </entity>

      <entity
        name="externally_defined_colour"
        supertypes="colour_specification externally_defined_item">
      </entity>

      <entity
        name="externally_defined_curve_font"
        supertypes="externally_defined_item">
      </entity>

      <entity
        name="externally_defined_dimension_definition"
        supertypes="dimensional_size externally_defined_item">
        <where
          label="WR1"
          expression="(SELF\externally_defined_item.item_id = 'external size dimension') AND (SELF\externally_defined_item.source.source_id = 'external size dimension specification')">
        </where>
        <where
          label="WR2"
          expression="1 &gt;= SIZEOF(QUERY (adr &lt;* USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.APPLIED_DOCUMENT_REFERENCE.ITEMS')| (adr.assigned_document.description = 'external size dimension specification')))">
        </where>
      </entity>

      <entity
        name="externally_defined_hatch_style"
        supertypes="externally_defined_item geometric_representation_item">
      </entity>

      <entity
        name="externally_defined_item">
        <explicit
          name="item_id">
          <typename
            name="source_item"/>
        </explicit>
        <explicit
          name="source">
          <typename
            name="external_source"/>
        </explicit>
      </entity>

      <entity
        name="externally_defined_marker"
        supertypes="externally_defined_symbol pre_defined_marker">
      </entity>

      <entity
        name="externally_defined_symbol"
        supertypes="externally_defined_item">
      </entity>

      <entity
        name="externally_defined_terminator_symbol"
        supertypes="externally_defined_symbol">
      </entity>

      <entity
        name="externally_defined_text_font"
        supertypes="externally_defined_item">
      </entity>

      <entity
        name="externally_defined_tile"
        supertypes="externally_defined_item">
      </entity>

      <entity
        name="externally_defined_tile_style"
        supertypes="externally_defined_item geometric_representation_item">
      </entity>

      <entity
        name="extruded_face_solid"
        supertypes="swept_face_solid">
        <explicit
          name="extruded_direction">
          <typename
            name="direction"/>
        </explicit>
        <explicit
          name="depth">
          <typename
            name="positive_length_measure"/>
        </explicit>
        <where
          label="WR1"
          expression="dot_product((SELF\swept_face_solid.swept_face.face_geometry\ elementary_surface.position.p[3]), extruded_direction) &lt;&gt; 0.0">
        </where>
      </entity>

      <entity
        name="face"
        super.expression="(ONEOF ( FACE_SURFACE, ORIENTED_FACE))"
        supertypes="topological_representation_item">
        <explicit
          name="bounds">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="face_bound"/>
        </explicit>
        <where
          label="WR1"
          expression="NOT (mixed_loop_type_set(list_to_set(list_face_loops(SELF))))">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(QUERY(temp &lt;* bounds | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACE_OUTER_BOUND' IN TYPEOF(temp))) &lt;= 1">
        </where>
      </entity>

      <entity
        name="face_bound"
        supertypes="topological_representation_item">
        <explicit
          name="bound">
          <typename
            name="loop"/>
        </explicit>
        <explicit
          name="orientation">
          <builtintype
            type="BOOLEAN"/>
        </explicit>
      </entity>

      <entity
        name="face_outer_bound"
        supertypes="face_bound">
      </entity>

      <entity
        name="face_surface"
        supertypes="face geometric_representation_item">
        <explicit
          name="face_geometry">
          <typename
            name="surface"/>
        </explicit>
        <explicit
          name="same_sense">
          <builtintype
            type="BOOLEAN"/>
        </explicit>
        <where
          label="WR1"
          expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_SURFACE' IN TYPEOF(face_geometry))">
        </where>
      </entity>

      <entity
        name="faceted_brep"
        supertypes="manifold_solid_brep">
      </entity>

      <entity
        name="faceted_brep_shape_representation"
        supertypes="shape_representation">
        <where
          label="WR1"
          expression="SIZEOF (QUERY (it &lt;* items| NOT (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACETED_BREP', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D' ] * TYPEOF (it)) = 1))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (it &lt;* items| (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACETED_BREP', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' ] * TYPEOF (it)) = 1))) &gt; 0">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (fbrep &lt;* QUERY (it &lt;* items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACETED_BREP' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (csh &lt;* msb_shells(fbrep)| NOT (SIZEOF (QUERY (fcs &lt;* csh\connected_face_set.cfs_faces| NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACE_SURFACE' IN TYPEOF (fcs)) AND (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PLANE' IN TYPEOF (fcs\face_surface.face_geometry)) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT' IN TYPEOF (fcs\face_surface.face_geometry\elementary_surface.position.location)))))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR4"
          expression="SIZEOF (QUERY (fbrep &lt;* QUERY (it &lt;* items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACETED_BREP' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (csh &lt;* msb_shells(fbrep)| NOT (SIZEOF (QUERY (fcs &lt;* csh\connected_face_set.cfs_faces| NOT (SIZEOF (QUERY (bnds &lt;* fcs.bounds| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACE_OUTER_BOUND' IN TYPEOF (bnds)))) = 1))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR5"
          expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MANIFOLD_SOLID_BREP' IN TYPEOF (it)))| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_CLOSED_SHELL' IN TYPEOF (msb\manifold_solid_brep.outer)))) = 0">
        </where>
        <where
          label="WR6"
          expression="SIZEOF (QUERY (brv &lt;* QUERY (it &lt;* items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BREP_WITH_VOIDS' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (csh &lt;* brv\brep_with_voids.voids| csh\oriented_closed_shell.orientation)) = 0))) = 0">
        </where>
        <where
          label="WR7"
          expression="SIZEOF (QUERY (mi &lt;* QUERY (it &lt;* items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF (it)))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACETED_BREP_SHAPE_REPRESENTATION' IN TYPEOF (mi\mapped_item.mapping_source.mapped_representation)))) = 0">
        </where>
      </entity>

      <entity
        name="fill_area_style">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="fill_styles">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="fill_style_select"/>
        </explicit>
        <where
          label="WR1"
          expression="SIZEOF(QUERY(fill_style &lt;* SELF.fill_styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'FILL_AREA_STYLE_COLOUR' IN TYPEOF(fill_style))) &lt;= 1">
        </where>
      </entity>

      <entity
        name="fill_area_style_colour">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="fill_colour">
          <typename
            name="colour"/>
        </explicit>
      </entity>

      <entity
        name="fill_area_style_hatching"
        supertypes="geometric_representation_item">
        <explicit
          name="hatch_line_appearance">
          <typename
            name="curve_style"/>
        </explicit>
        <explicit
          name="start_of_next_hatch_line">
          <typename
            name="one_direction_repeat_factor"/>
        </explicit>
        <explicit
          name="point_of_reference_hatch_line">
          <typename
            name="cartesian_point"/>
        </explicit>
        <explicit
          name="pattern_start">
          <typename
            name="cartesian_point"/>
        </explicit>
        <explicit
          name="hatch_line_angle">
          <typename
            name="plane_angle_measure"/>
        </explicit>
      </entity>

      <entity
        name="fill_area_style_tile_coloured_region"
        supertypes="geometric_representation_item">
        <explicit
          name="closed_curve">
          <typename
            name="curve_or_annotation_curve_occurrence"/>
        </explicit>
        <explicit
          name="region_colour">
          <typename
            name="colour"/>
        </explicit>
      </entity>

      <entity
        name="fill_area_style_tile_curve_with_style"
        supertypes="geometric_representation_item">
        <explicit
          name="styled_curve">
          <typename
            name="annotation_curve_occurrence"/>
        </explicit>
      </entity>

      <entity
        name="fill_area_style_tile_symbol_with_style"
        supertypes="geometric_representation_item">
        <explicit
          name="symbol">
          <typename
            name="annotation_symbol_occurrence"/>
        </explicit>
      </entity>

      <entity
        name="fill_area_style_tiles"
        supertypes="geometric_representation_item">
        <explicit
          name="tiling_pattern">
          <typename
            name="two_direction_repeat_factor"/>
        </explicit>
        <explicit
          name="tiles">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="fill_area_style_tile_shape_select"/>
        </explicit>
        <explicit
          name="tiling_scale">
          <typename
            name="positive_ratio_measure"/>
        </explicit>
      </entity>

      <entity
        name="flatness_tolerance"
        supertypes="geometric_tolerance">
        <where
          label="WR1"
          expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF))">
        </where>
      </entity>

      <entity
        name="founded_item">
      </entity>

      <entity
        name="functionally_defined_transformation">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="general_property">
        <explicit
          name="id">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="general_property_association">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="base_definition">
          <typename
            name="general_property"/>
        </explicit>
        <explicit
          name="derived_definition">
          <typename
            name="derived_property_select"/>
        </explicit>
        <where
          label="WR1"
          expression="SIZEOF(USEDIN(derived_definition, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GENERAL_PROPERTY_ASSOCIATION.' + 'DERIVED_DEFINITION')) = 1">
        </where>
        <where
          label="WR2"
          expression="derived_definition.name = base_definition.name">
        </where>
      </entity>

      <entity
        name="general_property_relationship">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="relating_property">
          <typename
            name="general_property"/>
        </explicit>
        <explicit
          name="related_property">
          <typename
            name="general_property"/>
        </explicit>
      </entity>

      <entity
        name="geometric_alignment"
        supertypes="derived_shape_aspect">
        <where
          label="WR1"
          expression="SIZEOF (SELF\derived_shape_aspect.deriving_relationships)&gt; 1">
        </where>
      </entity>

      <entity
        name="geometric_curve_set"
        supertypes="geometric_set">
        <where
          label="WR1"
          expression="SIZEOF(QUERY(temp &lt;* SELF\geometric_set.elements |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE' IN TYPEOF(temp))) = 0">
        </where>
      </entity>

      <entity
        name="geometric_intersection"
        supertypes="derived_shape_aspect">
        <where
          label="WR1"
          expression="SIZEOF (SELF\derived_shape_aspect.deriving_relationships)&gt; 1">
        </where>
      </entity>

      <entity
        name="geometric_representation_context"
        supertypes="representation_context">
        <explicit
          name="coordinate_space_dimension">
          <typename
            name="dimension_count"/>
        </explicit>
      </entity>

      <entity
        name="geometric_representation_item"
        super.expression="(ONEOF ( POINT, DIRECTION, VECTOR, PLACEMENT, CARTESIAN_TRANSFORMATION_OPERATOR, CURVE, SURFACE, EDGE_CURVE, FACE_SURFACE, POLY_LOOP, VERTEX_POINT, SOLID_MODEL, BOOLEAN_RESULT, SPHERE, RIGHT_CIRCULAR_CONE, RIGHT_CIRCULAR_CYLINDER, TORUS, BLOCK, RIGHT_ANGULAR_WEDGE, HALF_SPACE_SOLID, SHELL_BASED_SURFACE_MODEL, SHELL_BASED_WIREFRAME_MODEL, EDGE_BASED_WIREFRAME_MODEL, GEOMETRIC_SET))"
        supertypes="representation_item">
        <derived
          name="dim"
          expression="dimension_of(SELF)">
          <typename
            name="dimension_count"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF (QUERY (using_rep &lt;* using_representations (SELF) | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_REPRESENTATION_CONTEXT' IN TYPEOF (using_rep.context_of_items)))) = 0">
        </where>
      </entity>

      <entity
        name="geometric_set"
        supertypes="geometric_representation_item">
        <explicit
          name="elements">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="geometric_set_select"/>
        </explicit>
      </entity>

      <entity
        name="geometric_tolerance">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="magnitude">
          <typename
            name="measure_with_unit"/>
        </explicit>
        <explicit
          name="toleranced_shape_aspect">
          <typename
            name="shape_aspect"/>
        </explicit>
        <where
          label="WR1"
          expression="('NUMBER' IN TYPEOF(magnitude\measure_with_unit.value_component)) AND(magnitude\measure_with_unit.value_component &gt;= 0.0)">
        </where>
      </entity>

      <entity
        name="geometric_tolerance_relationship">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="relating_geometric_tolerance">
          <typename
            name="geometric_tolerance"/>
        </explicit>
        <explicit
          name="related_geometric_tolerance">
          <typename
            name="geometric_tolerance"/>
        </explicit>
      </entity>

      <entity
        name="geometric_tolerance_with_datum_reference"
        supertypes="geometric_tolerance">
        <explicit
          name="datum_system">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="datum_reference"/>
        </explicit>
      </entity>

      <entity
        name="geometric_tolerance_with_defined_unit"
        supertypes="geometric_tolerance">
        <explicit
          name="unit_size">
          <typename
            name="measure_with_unit"/>
        </explicit>
        <where
          label="WR1"
          expression="('NUMBER' IN TYPEOF(unit_size\measure_with_unit.value_component)) AND(unit_size\measure_with_unit.value_component &gt; 0.0)">
        </where>
      </entity>

      <entity
        name="geometrical_tolerance_callout"
        supertypes="draughting_callout">
      </entity>

      <entity
        name="geometrically_bounded_surface_shape_representation"
        supertypes="shape_representation">
        <where
          label="WR1"
          expression="SIZEOF(QUERY(it &lt;* SELF.items | NOT (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_SET', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D'] * TYPEOF(it)) = 1))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(QUERY(it &lt;* SELF.items | SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_SET', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM'] * TYPEOF(it)) = 1)) &gt; 0">
        </where>
        <where
          label="WR3"
          expression="SIZEOF(QUERY(mi &lt;* QUERY(it &lt;* SELF.items | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF(it)) | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GEOMETRICALLY_BOUNDED_SURFACE_SHAPE_REPRESENTATION' IN TYPEOF(mi\mapped_item.mapping_source.mapped_representation)) AND (SIZEOF(QUERY(mr_it &lt;* mi\mapped_item.mapping_source.mapped_representation.items | ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_SET' IN TYPEOF(mr_it)))) &gt; 0)))) = 0">
        </where>
        <where
          label="WR4"
          expression="SIZEOF(QUERY(gs &lt;* QUERY(it &lt;* SELF.items | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_SET' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(pnt &lt;* QUERY(gsel &lt;* gs\geometric_set.elements | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT' IN TYPEOF(gsel)) | NOT (gbsf_check_point(pnt)))) = 0))) = 0">
        </where>
        <where
          label="WR5"
          expression="SIZEOF(QUERY(gs &lt;* QUERY(it &lt;* SELF.items | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_SET' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(cv &lt;* QUERY(gsel &lt;* gs\geometric_set.elements | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE' IN TYPEOF(gsel)) | NOT (gbsf_check_curve(cv)))) = 0))) = 0">
        </where>
        <where
          label="WR6"
          expression="SIZEOF(QUERY(gs &lt;* QUERY(it &lt;* SELF.items | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_SET' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(sf &lt;* QUERY(gsel &lt;* gs\geometric_set.elements | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE' IN TYPEOF(gsel)) | NOT (gbsf_check_surface(sf)))) = 0))) = 0">
        </where>
        <where
          label="WR7"
          expression="SIZEOF(QUERY(gs &lt;* QUERY(it &lt;* SELF.items | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_SET' IN TYPEOF(it)) | SIZEOF(QUERY(gsel &lt;* gs\geometric_set.elements | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE' IN TYPEOF(gsel))) &gt; 0)) &gt; 0">
        </where>
      </entity>

      <entity
        name="geometrically_bounded_wireframe_shape_representation"
        supertypes="shape_representation">
        <where
          label="WR1"
          expression="SIZEOF (QUERY (it &lt;* SELF.items| NOT (SIZEOF (TYPEOF (it) * [ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_CURVE_SET', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' ]) = 1))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (it &lt;* SELF.items| (SIZEOF (TYPEOF (it) * [ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_CURVE_SET', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' ]) = 1))) &gt;= 1">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (gcs &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_CURVE_SET' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (crv &lt;* QUERY (elem &lt;* gcs\geometric_set.elements| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE' IN TYPEOF (elem)))| NOT valid_geometrically_bounded_wf_curve(crv))) = 0))) = 0">
        </where>
        <where
          label="WR4"
          expression="SIZEOF (QUERY (gcs &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_CURVE_SET' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (pnts &lt;* QUERY (elem &lt;* gcs\geometric_set.elements| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT' IN TYPEOF (elem)))| NOT valid_geometrically_bounded_wf_point(pnts))) = 0))) = 0">
        </where>
        <where
          label="WR5"
          expression="SIZEOF (QUERY (gcs &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_CURVE_SET' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (cnc &lt;* QUERY (elem &lt;* gcs\geometric_set.elements| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONIC' IN TYPEOF (elem)))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D' IN TYPEOF (cnc\conic.position)))) = 0))) = 0">
        </where>
        <where
          label="WR6"
          expression="SIZEOF (QUERY (gcs &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_CURVE_SET' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (pline &lt;* QUERY (elem &lt;* gcs\geometric_set.elements| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' IN TYPEOF (elem)))| NOT (SIZEOF (pline\polyline.points) &gt; 2))) = 0))) = 0">
        </where>
        <where
          label="WR7"
          expression="SIZEOF (QUERY (mi &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF (it)))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GEOMETRICALLY_BOUNDED_WIREFRAME_SHAPE_REPRESENTATION' IN TYPEOF (mi\mapped_item.mapping_source.mapped_representation)))) = 0">
        </where>
      </entity>

      <entity
        name="global_uncertainty_assigned_context"
        supertypes="representation_context">
        <explicit
          name="uncertainty">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="uncertainty_measure_with_unit"/>
        </explicit>
      </entity>

      <entity
        name="global_unit_assigned_context"
        supertypes="representation_context">
        <explicit
          name="units">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="unit"/>
        </explicit>
      </entity>

      <entity
        name="group">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <derived
          name="id"
          expression="get_id_value (SELF)">
          <typename
            name="identifier"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="group_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_group">
          <typename
            name="group"/>
        </explicit>
        <derived
          name="role"
          expression="get_role (SELF)">
          <typename
            name="object_role"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="group_relationship">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="relating_group">
          <typename
            name="group"/>
        </explicit>
        <explicit
          name="related_group">
          <typename
            name="group"/>
        </explicit>
      </entity>

      <entity
        name="half_space_solid"
        supertypes="geometric_representation_item">
        <explicit
          name="base_surface">
          <typename
            name="surface"/>
        </explicit>
        <explicit
          name="agreement_flag">
          <builtintype
            type="BOOLEAN"/>
        </explicit>
      </entity>

      <entity
        name="hyperbola"
        supertypes="conic">
        <explicit
          name="semi_axis">
          <typename
            name="positive_length_measure"/>
        </explicit>
        <explicit
          name="semi_imag_axis">
          <typename
            name="positive_length_measure"/>
        </explicit>
      </entity>

      <entity
        name="id_attribute">
        <explicit
          name="attribute_value">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="identified_item">
          <typename
            name="id_attribute_select"/>
        </explicit>
      </entity>

      <entity
        name="identification_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_id">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="role">
          <typename
            name="identification_role"/>
        </explicit>
      </entity>

      <entity
        name="identification_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="intersection_curve"
        supertypes="surface_curve">
        <where
          label="WR1"
          expression="SIZEOF(SELF\surface_curve.associated_geometry) = 2">
        </where>
        <where
          label="WR2"
          expression="associated_surface(SELF\surface_curve.associated_geometry[1]) &lt;&gt; associated_surface(SELF\surface_curve.associated_geometry[2])">
        </where>
      </entity>

      <entity
        name="invisibility">
        <explicit
          name="invisible_items">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="invisible_item"/>
        </explicit>
      </entity>

      <entity
        name="item_defined_transformation">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="transform_item_1">
          <typename
            name="representation_item"/>
        </explicit>
        <explicit
          name="transform_item_2">
          <typename
            name="representation_item"/>
        </explicit>
      </entity>

      <entity
        name="language"
        supertypes="group">
        <where
          label="WR1"
          expression="SELF\group.name &lt;&gt; ''">
        </where>
      </entity>

      <entity
        name="leader_curve"
        supertypes="annotation_curve_occurrence">
        <where
          label="WR1"
          expression="SIZEOF(QUERY(ldc &lt;* USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_CALLOUT.CONTENTS')| 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'LEADER_DIRECTED_CALLOUT' IN TYPEOF(ldc))) &gt;= 1">
        </where>
      </entity>

      <entity
        name="leader_directed_callout"
        supertypes="draughting_callout">
        <where
          label="WR1"
          expression="SIZEOF (QUERY (l_1 &lt;* SELF\draughting_callout.contents |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_CURVE' IN (TYPEOF(l_1)))) &gt;= 1">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(SELF\draughting_callout.contents) &gt;=2">
        </where>
      </entity>

      <entity
        name="leader_directed_dimension"
        supertypes="leader_directed_callout">
        <where
          label="WR1"
          expression="SIZEOF (QUERY (con &lt;* SELF.contents |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_CURVE' IN TYPEOF (con)))=1">
        </where>
      </entity>

      <entity
        name="leader_terminator"
        supertypes="terminator_symbol">
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_CURVE' IN TYPEOF(SELF\terminator_symbol.annotated_curve)">
        </where>
      </entity>

      <entity
        name="length_measure_with_unit"
        supertypes="measure_with_unit">
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LENGTH_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
        </where>
      </entity>

      <entity
        name="length_unit"
        supertypes="named_unit">
        <where
          label="WR1"
          expression="(SELF\named_unit.dimensions.length_exponent = 1.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
        </where>
      </entity>

      <entity
        name="limits_and_fits">
        <explicit
          name="form_variance">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="zone_variance">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="grade">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="source">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="line"
        supertypes="curve">
        <explicit
          name="pnt">
          <typename
            name="cartesian_point"/>
        </explicit>
        <explicit
          name="dir">
          <typename
            name="vector"/>
        </explicit>
        <where
          label="WR1"
          expression="dir.dim = pnt.dim">
        </where>
      </entity>

      <entity
        name="line_profile_tolerance"
        supertypes="geometric_tolerance">
        <where
          label="WR1"
          expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF)) OR (SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3)">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (sar &lt;* USEDIN (SELF\geometric_tolerance.toleranced_shape_aspect, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT')| (sar.name IN [ 'affected plane association', 'resulting intersection curve association' ]))) = 1">
        </where>
      </entity>

      <entity
        name="linear_dimension"
        supertypes="dimension_curve_directed_callout">
      </entity>

      <entity
        name="local_time">
        <explicit
          name="hour_component">
          <typename
            name="hour_in_day"/>
        </explicit>
        <explicit
          name="minute_component"
          optional="YES">
          <typename
            name="minute_in_hour"/>
        </explicit>
        <explicit
          name="second_component"
          optional="YES">
          <typename
            name="second_in_minute"/>
        </explicit>
        <explicit
          name="zone">
          <typename
            name="coordinated_universal_time_offset"/>
        </explicit>
        <where
          label="WR1"
          expression="valid_time (SELF)">
        </where>
      </entity>

      <entity
        name="loop"
        super.expression="(ONEOF ( VERTEX_LOOP, EDGE_LOOP, POLY_LOOP))"
        supertypes="topological_representation_item">
      </entity>

      <entity
        name="lot_effectivity"
        supertypes="effectivity">
        <explicit
          name="effectivity_lot_id">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="effectivity_lot_size">
          <typename
            name="measure_with_unit"/>
        </explicit>
      </entity>

      <entity
        name="luminous_intensity_measure_with_unit"
        supertypes="measure_with_unit">
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LUMINOUS_INTENSITY_UNIT' IN TYPEOF(SELF\measure_with_unit.unit_component)">
        </where>
      </entity>

      <entity
        name="luminous_intensity_unit"
        supertypes="named_unit">
        <where
          label="WR1"
          expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 1.0)">
        </where>
      </entity>

      <entity
        name="make_from_usage_option"
        supertypes="product_definition_usage">
        <explicit
          name="ranking">
          <builtintype
            type="INTEGER"/>
        </explicit>
        <explicit
          name="ranking_rationale">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="quantity">
          <typename
            name="measure_with_unit"/>
        </explicit>
        <where
          label="WR1"
          expression="(NOT ('NUMBER' IN TYPEOF(quantity.value_component))) OR (quantity.value_component &gt; 0)">
        </where>
      </entity>

      <entity
        name="manifold_solid_brep"
        supertypes="solid_model">
        <explicit
          name="outer">
          <typename
            name="closed_shell"/>
        </explicit>
      </entity>

      <entity
        name="manifold_surface_shape_representation"
        supertypes="shape_representation">
        <where
          label="WR1"
          expression="SIZEOF (QUERY (it &lt;* SELF.items | NOT (SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D'] * TYPEOF (it)) = 1))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF (QUERY (it &lt;* SELF.items | SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM'] * TYPEOF (it)) = 1)) &gt; 0">
        </where>
        <where
          label="WR3"
          expression="SIZEOF (QUERY (mi &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF (it)) | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MANIFOLD_SURFACE_SHAPE_REPRESENTATION' IN TYPEOF (mi\mapped_item.mapping_source.mapped_representation)) AND(SIZEOF(QUERY (mr_it &lt;* mi\mapped_item.mapping_source.mapped_representation.items |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (mr_it)))) &gt; 0)))) = 0">
        </where>
        <where
          label="WR4"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (sh &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OPEN_SHELL','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_CLOSED_SHELL','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CLOSED_SHELL']* TYPEOF (sh)) = 1))) = 0))) = 0">
        </where>
        <where
          label="WR5"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACE_SURFACE' IN TYPEOF (fa)))) = 0)))= 0))) = 0">
        </where>
        <where
          label="WR6"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fa)) OR(msf_surface_check(fa\face_surface.face_geometry))))) = 0)))= 0))) = 0">
        </where>
        <where
          label="WR7"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fa)) OR(SIZEOF (QUERY (bnds &lt;* fa.bounds | NOT (SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_LOOP']* TYPEOF (bnds.bound)) = 1))) = 0)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR8"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items|'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fa)) OR(SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* fa.bounds |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)) | NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds\path.edge_list | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_CURVE' IN TYPEOF(oe.edge_element)))) = 0))) = 0)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR9"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fa)) OR(SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* fa.bounds |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)) | NOT (SIZEOF (QUERY (oe_cv &lt;* QUERY (oe &lt;* elp_fbnds\path.edge_list |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_CURVE' IN TYPEOF (oe.edge_element)) | NOT (SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_CURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONIC','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_REPLICA','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OFFSET_CURVE_3D','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_CURVE'] * TYPEOF (oe_cv.edge_element\edge_curve.edge_geometry))= 1))) = 0))) = 0)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR10"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fa)) OR(SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* fa.bounds |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)) | NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds\path.edge_list | NOT (msf_curve_check (oe.edge_element\edge_curve.edge_geometry))))= 0))) = 0)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR11"
          expression="SIZEOF (QUERY(sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fa)) OR(SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* fa.bounds |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)) | NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds\path.edge_list| NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF(oe.edge_element.edge_start)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (oe.edge_element.edge_end)))))= 0))) = 0)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR12"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fa)) OR(SIZEOF (QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* fa.bounds |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (bnds.bound)) | NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds\path.edge_list | NOT ((SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEGENERATE_PCURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_ON_CURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_ON_SURFACE'] * TYPEOF(oe.edge_element.edge_start\vertex_point.vertex_geometry)) = 1) AND(SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEGENERATE_PCURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_ON_CURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_ON_SURFACE'] * TYPEOF(oe.edge_element.edge_end\vertex_point.vertex_geometry)) = 1)))) = 0))) = 0)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR13"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fa)) OR(SIZEOF (QUERY (vlp_fbnds &lt;* QUERY (bnds &lt;* fa.bounds |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_LOOP' IN TYPEOF (bnds.bound)) | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF(vlp_fbnds\vertex_loop.loop_vertex)))) = 0)))) = 0)))= 0))) = 0">
        </where>
        <where
          label="WR14"
          expression="SIZEOF (QUERY (sbsm &lt;* QUERY (it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_SURFACE_MODEL' IN TYPEOF (it)) | NOT (SIZEOF (QUERY (cfs &lt;* sbsm\shell_based_surface_model.sbsm_boundary | NOT (SIZEOF (QUERY (fa &lt;* cfs\connected_face_set.cfs_faces | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ADVANCED_FACE' IN TYPEOF (fa)) OR(SIZEOF (QUERY (vlp_fbnds &lt;* QUERY (bnds &lt;* fa.bounds |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_LOOP' IN TYPEOF (bnds.bound)) | NOT (SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEGENERATE_PCURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_ON_CURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_ON_SURFACE'] * TYPEOF(vlp_fbnds\vertex_loop.loop_vertex\vertex_point.vertex_geometry))= 1))) = 0)))) = 0))) = 0))) = 0">
        </where>
      </entity>

      <entity
        name="mapped_item"
        supertypes="representation_item">
        <explicit
          name="mapping_source">
          <typename
            name="representation_map"/>
        </explicit>
        <explicit
          name="mapping_target">
          <typename
            name="representation_item"/>
        </explicit>
        <where
          label="WR1"
          expression="acyclic_mapped_representation(using_representations(SELF), [SELF])">
        </where>
      </entity>

      <entity
        name="mass_measure_with_unit"
        supertypes="measure_with_unit">
        <where
          label="WR1"
          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MASS_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
        </where>
      </entity>

      <entity
        name="mass_unit"
        supertypes="named_unit">
        <where
          label="WR1"
          expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\named_unit.dimensions.mass_exponent = 1.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
        </where>
      </entity>

      <entity
        name="measure_qualification">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="qualified_measure">
          <typename
            name="measure_with_unit"/>
        </explicit>
        <explicit
          name="qualifiers">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="value_qualifier"/>
        </explicit>
        <where
          label="WR1"
          expression="SIZEOF(QUERY(temp &lt;* qualifiers |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRECISION_QUALIFIER' IN TYPEOF(temp))) &lt; 2">
        </where>
      </entity>

      <entity
        name="measure_representation_item"
        supertypes="representation_item measure_with_unit">
      </entity>

      <entity
        name="measure_with_unit"
        super.expression="(ONEOF ( LENGTH_MEASURE_WITH_UNIT, MASS_MEASURE_WITH_UNIT, TIME_MEASURE_WITH_UNIT, ELECTRIC_CURRENT_MEASURE_WITH_UNIT, THERMODYNAMIC_TEMPERATURE_MEASURE_WITH_UNIT, CELSIUS_TEMPERATURE_MEASURE_WITH_UNIT, AMOUNT_OF_SUBSTANCE_MEASURE_WITH_UNIT, LUMINOUS_INTENSITY_MEASURE_WITH_UNIT, PLANE_ANGLE_MEASURE_WITH_UNIT, SOLID_ANGLE_MEASURE_WITH_UNIT, AREA_MEASURE_WITH_UNIT, VOLUME_MEASURE_WITH_UNIT, RATIO_MEASURE_WITH_UNIT))">
        <explicit
          name="value_component">
          <typename
            name="measure_value"/>
        </explicit>
        <explicit
          name="unit_component">
          <typename
            name="unit"/>
        </explicit>
        <where
          label="WR1"
          expression="valid_units (SELF)">
        </where>
      </entity>

      <entity
        name="mechanical_design_geometric_presentation_area"
        supertypes="presentation_area">
        <where
          label="WR1"
          expression="SIZEOF(QUERY(it1 &lt;* SELF.items | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT' IN TYPEOF(it1)) OR(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF(it1)) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRESENTATION_VIEW' IN TYPEOF(it1\mapped_item.mapping_source.mapped_representation)))))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(QUERY(pv &lt;* QUERY(mi1 &lt;* QUERY(it1 &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF(it1)) |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRESENTATION_VIEW' IN TYPEOF(mi1\mapped_item.mapping_source.mapped_representation)) | NOT (SIZEOF(QUERY(it2 &lt;* pv\mapped_item.mapping_source. mapped_representation\representation.items | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT' IN TYPEOF(it2)) OR(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF(it2)) AND NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'CAMERA_IMAGE_3D_WITH_SCALE' IN TYPEOF(it2))) AND NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRESENTATION_VIEW' IN TYPEOF(it2\mapped_item.mapping_source.mapped_representation))) OR(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'CAMERA_IMAGE_3D_WITH_SCALE' IN TYPEOF(it2)) AND NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'MECHANICAL_DESIGN_GEOMETRIC_PRESENTATION_REPRESENTATION' IN TYPEOF (it2\mapped_item.mapping_source.mapped_representation)))))) = 0))) = 0">
        </where>
        <where
          label="WR3"
          expression="(SIZEOF(QUERY(ps &lt;* USEDIN (SELF\presentation_area,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_SIZE.UNIT') | ((ps.size\planar_extent.size_in_x &lt;= 0) OR(ps.size\planar_extent.size_in_y &lt;= 0)))) = 0) AND(SIZEOF(QUERY(ais &lt;* USEDIN (SELF\presentation_area,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AREA_IN_SET.AREA') |(SIZEOF(QUERY(ps &lt;* USEDIN (ais,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_SIZE.UNIT') |((ps.size\planar_extent.size_in_x &lt;= 0) OR(ps.size\planar_extent.size_in_y &lt;= 0)))) &gt; 0))) = 0)">
        </where>
        <where
          label="WR4"
          expression="(SIZEOF(QUERY(ps &lt;* USEDIN (SELF\presentation_area,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_SIZE.UNIT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AXIS2_PLACEMENT_2D' IN TYPEOF (ps.size.placement)))) = 1) AND(SIZEOF(QUERY(ps &lt;* USEDIN (SELF\presentation_area,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_SIZE.UNIT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AXIS2_PLACEMENT_3D' IN TYPEOF (ps.size.placement)))) = 0) OR((SIZEOF(QUERY(ais &lt;* USEDIN (SELF\presentation_area,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AREA_IN_SET.AREA') |(SIZEOF(QUERY(ps &lt;* USEDIN (ais,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_SIZE.UNIT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AXIS2_PLACEMENT_2D' IN TYPEOF (ps.size.placement)))) = 1))) = 1) AND(SIZEOF(QUERY(ais &lt;* USEDIN (SELF\presentation_area,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AREA_IN_SET.AREA') |(SIZEOF(QUERY(ps &lt;* USEDIN (ais,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_SIZE.UNIT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AXIS2_PLACEMENT_3D' IN TYPEOF (ps.size.placement)))) = 0))) = 1))">
        </where>
      </entity>

      <entity
        name="mechanical_design_geometric_presentation_representation"
        supertypes="representation">
        <where
          label="WR1"
          expression="SIZEOF(QUERY(it &lt;* SELF.items | NOT (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CAMERA_MODEL_D3']* TYPEOF(it)) = 1))) = 0">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(QUERY(mi &lt;* QUERY(it &lt;* SELF.items |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF(it))) | NOT (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SHAPE_REPRESENTATION','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'MECHANICAL_DESIGN_GEOMETRIC_PRESENTATION_REPRESENTATION']* TYPEOF(mi\mapped_item.mapping_source.mapped_representation))= 1))) = 0">
        </where>
        <where
          label="WR3"
          expression="SIZEOF(QUERY(smi &lt;* QUERY(si &lt;* QUERY(it &lt;* SELF.items |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it))) |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF(si\styled_item.item))) | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SHAPE_REPRESENTATION' IN TYPEOF (smi\styled_item. item\mapped_item.mapping_source.mapped_representation))))) = 0">
        </where>
        <where
          label="WR4"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(pss &lt;* psa.styles | NOT (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_STYLE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_STYLE_USAGE']* TYPEOF(pss)) = 1))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR5"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psbc &lt;* QUERY(psa &lt;* si\styled_item.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_STYLE_BY_CONTEXT' IN TYPEOF(psa)) | NOT (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'REPRESENTATION_ITEM','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.REPRESENTATION']* TYPEOF(psbc\presentation_style_by_context.style_context))= 1))) = 0))) = 0">
        </where>
        <where
          label="WR6"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(ps &lt;* QUERY(pss &lt;* psa.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_STYLE' IN TYPEOF(pss)) | NOT(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'POSITIVE_LENGTH_MEASURE' IN TYPEOF (ps\point_style.marker_size)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COLOUR_RGB','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_COLOUR']* TYPEOF(ps\point_style.marker_colour))= 1)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR7"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(cs &lt;* QUERY(pss &lt;* psa.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF(pss)) | NOT((SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COLOUR_RGB','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_COLOUR']* TYPEOF(cs\curve_style.curve_colour)) = 1) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'POSITIVE_LENGTH_MEASURE' IN TYPEOF (cs\curve_style.curve_width)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE_FONT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_CURVE_FONT']* TYPEOF(cs\curve_style.curve_font)) = 1)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR8"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(ssu &lt;* QUERY(pss &lt;* psa.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_STYLE_USAGE' IN TYPEOF(pss)) | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_SIDE_STYLE' IN TYPEOF(ssu\surface_style_usage.style)))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR9"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(ssu &lt;* QUERY(pss &lt;* psa.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_STYLE_USAGE' IN TYPEOF(pss)) | NOT (SIZEOF(QUERY(sses &lt;* ssu\surface_style_usage.style\surface_side_style.styles | NOT (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_PARAMETER_LINE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_CONTROL_GRID','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_SILHOUETTE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_SEGMENTATION_CURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_FILL_AREA','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_BOUNDARY']* TYPEOF(sses)) = 1))) = 0))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR10"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(ssu &lt;* QUERY(pss &lt;* psa.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_STYLE_USAGE' IN TYPEOF(pss)) | NOT (SIZEOF(QUERY(sspl &lt;* QUERY(sses &lt;* ssu\surface_style_usage.style\surface_side_style.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_PARAMETER_LINE' IN TYPEOF(sses)) | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF(sspl\surface_style_parameter_line.style_of_parameter_lines)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COLOUR_RGB','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_COLOUR']* TYPEOF(sspl\surface_style_parameter_line. style_of_parameter_lines\curve_style.curve_colour)) = 1) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'POSITIVE_LENGTH_MEASURE' IN TYPEOF(sspl\surface_style_parameter_line. style_of_parameter_lines\curve_style.curve_width)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE_FONT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'DRAUGHTING_PRE_DEFINED_CURVE_FONT']* TYPEOF(sspl\surface_style_parameter_line. style_of_parameter_lines\curve_style.curve_font)) = 1))))= 0))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR11"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(ssu &lt;* QUERY(pss &lt;* psa.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_STYLE_USAGE' IN TYPEOF(pss)) | NOT (SIZEOF(QUERY(sscg &lt;* QUERY(sses &lt;* ssu\surface_style_usage.style\surface_side_style.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_CONTROL_GRID' IN TYPEOF(sses)) | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF (sscg\surface_style_control_grid.style_of_control_grid)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COLOUR_RGB','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_COLOUR']* TYPEOF(sscg\surface_style_control_grid. style_of_control_grid\curve_style.curve_colour)) = 1) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'POSITIVE_LENGTH_MEASURE' IN TYPEOF(sscg\surface_style_control_grid. style_of_control_grid\curve_style.curve_width)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE_FONT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_CURVE_FONT']* TYPEOF(sscg\surface_style_control_grid. style_of_control_grid\curve_style.curve_font)) = 1))))= 0))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR12"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(ssu &lt;* QUERY(pss &lt;* psa.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_STYLE_USAGE' IN TYPEOF(pss)) | NOT (SIZEOF(QUERY(sssh &lt;* QUERY(sses &lt;* ssu\surface_style_usage.style\surface_side_style.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_SILHOUETTE' IN TYPEOF(sses)) | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF (sssh\surface_style_silhouette.style_of_silhouette)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COLOUR_RGB','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_COLOUR']* TYPEOF(sssh\surface_style_silhouette. style_of_silhouette\curve_style.curve_colour)) = 1) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'POSITIVE_LENGTH_MEASURE' IN TYPEOF(sssh\surface_style_silhouette.style_of_silhouette\curve_style. curve_width)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE_FONT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_CURVE_FONT']* TYPEOF(sssh\surface_style_silhouette. style_of_silhouette\curve_style.curve_font)) = 1))))= 0))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR13"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(ssu &lt;* QUERY(pss &lt;* psa.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_STYLE_USAGE' IN TYPEOF(pss)) | NOT (SIZEOF(QUERY(sssc &lt;* QUERY(sses &lt;* ssu\surface_style_usage.style\surface_side_style.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_SEGMENTATION_CURVE' IN TYPEOF(sses)) | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF(sssc\surface_style_segmentation_curve.style_of_segmentation_curve)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COLOUR_RGB','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_COLOUR']* TYPEOF(sssc\surface_style_segmentation_curve. style_of_segmentation_curve\curve_style.curve_colour)) = 1) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'POSITIVE_LENGTH_MEASURE' IN TYPEOF(sssc\surface_style_segmentation_curve. style_of_segmentation_curve\curve_style.curve_width)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE_FONT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_CURVE_FONT']* TYPEOF(sssc\surface_style_segmentation_curve. style_of_segmentation_curve\curve_style.curve_font)) = 1))))= 0))) = 0))) = 0))) = 0">
        </where>
        <where
          label="WR14"
          expression="SIZEOF(QUERY(si &lt;* QUERY(it &lt;* SELF.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM' IN TYPEOF(it)) | NOT (SIZEOF(QUERY(psa &lt;* si\styled_item.styles | NOT (SIZEOF(QUERY(ssu &lt;* QUERY(pss &lt;* psa.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_STYLE_USAGE' IN TYPEOF(pss)) | NOT (SIZEOF(QUERY(ssbd &lt;* QUERY(sses &lt;* ssu\surface_style_usage.style\surface_side_style.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_BOUNDARY' IN TYPEOF(sses)) | NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF (ssbd\surface_style_boundary.style_of_boundary)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COLOUR_RGB','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_COLOUR']* TYPEOF(ssbd\surface_style_boundary. style_of_boundary\curve_style.curve_colour)) = 1) AND('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'POSITIVE_LENGTH_MEASURE' IN TYPEOF (ssbd\surface_style_boundary. style_of_boundary\curve_style.curve_width)) AND (SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE_FONT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_PRE_DEFINED_CURVE_FONT']* TYPEOF(ssbd\surface_style_boundary. style_of_boundary\curve_style.curve_font)) = 1)))) = 0)))= 0))) = 0))) = 0">
        </where>
      </entity>

      <entity
        name="modified_geometric_tolerance"
        supertypes="geometric_tolerance">
        <explicit
          name="modifier">
          <typename
            name="limit_condition"/>
        </explicit>
      </entity>

      <entity
        name="multi_language_attribute_assignment"
        supertypes="attribute_value_assignment">
        <explicit
          name="items">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="multi_language_attribute_item"/>
        </explicit>
        <derived
          name="translation_language"
          expression="language_indication[1]\attribute_classification_assignment.assigned_class">
          <typename
            name="language"/>
        </derived>
        <inverse
          name="language_indication"
          entity="attribute_language_assignment"
          attribute="items">
          <inverse.aggregate
            type="SET"
            lower="1"
            upper="1"/>
        </inverse>
        <where
          label="WR1"
          expression="(SELF\attribute_value_assignment.role.name = 'alternate language')">
        </where>
        <where
          label="WR2"
          expression="SIZEOF(QUERY(ala &lt;* language_indication |(ala\attribute_classification_assignment.attribute_name = 'attribute_value') AND(ala\attribute_classification_assignment.role.name='translated'))) = 1">
        </where>
        <where
          label="WR3"
          expression="SELF\attribute_value_assignment.attribute_name &lt;&gt; ''">
        </where>
        <where
          label="WR4"
          expression="SIZEOF(QUERY(ci &lt;* items | SIZEOF(QUERY(ata &lt;* USEDIN(ci, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MULTI_LANGUAGE_ATTRIBUTE_ASSIGNMENT.ITEMS') |(ata\attribute_value_assignment.attribute_name = SELF\attribute_value_assignment.attribute_name) AND(ata.translation_language :=: translation_language)))&gt;1)) =0">
        </where>
        <where
          label="WR5"
          expression="SIZEOF(QUERY(ci &lt;* items | SIZEOF(QUERY(ata &lt;* USEDIN(ci, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ATTRIBUTE_LANGUAGE_ASSIGNMENT.ITEMS') |(ata\attribute_classification_assignment.role.name='primary') AND(ata\attribute_classification_assignment.attribute_name= SELF\attribute_value_assignment.attribute_name) AND(ata\attribute_classification_assignment.assigned_class :=: translation_language)))&gt;0)) =0">
        </where>
      </entity>

      <entity
        name="name_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_name">
          <typename
            name="label"/>
        </explicit>
        <derived
          name="role"
          expression="get_role (SELF)">
          <typename
            name="object_role"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="name_attribute">
        <explicit
          name="attribute_value">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="named_item">
          <typename
            name="name_attribute_select"/>
        </explicit>
      </entity>

      <entity
        name="named_unit"
        super.expression="(ONEOF ( SI_UNIT, CONVERSION_BASED_UNIT, CONTEXT_DEPENDENT_UNIT) ANDOR ONEOF ( LENGTH_UNIT, MASS_UNIT, TIME_UNIT, ELECTRIC_CURRENT_UNIT, THERMODYNAMIC_TEMPERATURE_UNIT, AMOUNT_OF_SUBSTANCE_UNIT, LUMINOUS_INTENSITY_UNIT, PLANE_ANGLE_UNIT, SOLID_ANGLE_UNIT, AREA_UNIT, VOLUME_UNIT, RATIO_UNIT))">
        <explicit
          name="dimensions">
          <typename
            name="dimensional_exponents"/>
        </explicit>
      </entity>

      <entity
        name="next_assembly_usage_occurrence"
        supertypes="assembly_component_usage">
      </entity>

      <entity
        name="object_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="offset_curve_2d"
        supertypes="curve">
        <explicit
          name="basis_curve">
          <typename
            name="curve"/>
        </explicit>
        <explicit
          name="distance">
          <typename
            name="length_measure"/>
        </explicit>
        <explicit
          name="self_intersect">
          <builtintype
            type="LOGICAL"/>
        </explicit>
        <where
          label="WR1"
          expression="basis_curve.dim = 2">
        </where>
      </entity>

      <entity
        name="offset_curve_3d"
        supertypes="curve">
        <explicit
          name="basis_curve">
          <typename
            name="curve"/>
        </explicit>
        <explicit
          name="distance">
          <typename
            name="length_measure"/>
        </explicit>
        <explicit
          name="self_intersect">
          <builtintype
            type="LOGICAL"/>
        </explicit>
        <explicit
          name="ref_direction">
          <typename
            name="direction"/>
        </explicit>
        <where
          label="WR1"
          expression="(basis_curve.dim = 3) AND (ref_direction.dim = 3)">
        </where>
      </entity>

      <entity
        name="offset_surface"
        supertypes="surface">
        <explicit
          name="basis_surface">
          <typename
            name="surface"/>
        </explicit>
        <explicit
          name="distance">
          <typename
            name="length_measure"/>
        </explicit>
        <explicit
          name="self_intersect">
          <builtintype
            type="LOGICAL"/>
        </explicit>
      </entity>

      <entity
        name="one_direction_repeat_factor"
        supertypes="geometric_representation_item">
        <explicit
          name="repeat_factor">
          <typename
            name="vector"/>
        </explicit>
      </entity>

      <entity
        name="open_shell"
        supertypes="connected_face_set">
      </entity>

      <entity
        name="ordinate_dimension"
        supertypes="projection_directed_callout">
      </entity>

      <entity
        name="organization">
        <explicit
          name="id"
          optional="YES">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="organization_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_organization">
          <typename
            name="organization"/>
        </explicit>
        <explicit
          name="role">
          <typename
            name="organization_role"/>
        </explicit>
      </entity>

      <entity
        name="organization_relationship">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="relating_organization">
          <typename
            name="organization"/>
        </explicit>
        <explicit
          name="related_organization">
          <typename
            name="organization"/>
        </explicit>
      </entity>

      <entity
        name="organization_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <derived
          name="description"
          expression="get_description_value(SELF)">
          <typename
            name="text"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="organizational_address"
        supertypes="address">
        <explicit
          name="organizations">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="organization"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="organizational_project">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="responsible_organizations">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="organization"/>
        </explicit>
        <derived
          name="id"
          expression="get_id_value (SELF)">
          <typename
            name="identifier"/>
        </derived>
        <where
          label="WR1"
          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1">
        </where>
      </entity>

      <entity
        name="organizational_project_assignment"
        abstract.supertype="YES">
        <explicit
          name="assigned_organizational_project">
          <typename
            name="organizational_project"/>
        </explicit>
        <explicit
          name="role">
          <typename
            name="organizational_project_role"/>
        </explicit>
      </entity>

      <entity
        name="organizational_project_relationship">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="relating_organizational_project">
          <typename
            name="organizational_project"/>
        </explicit>
        <explicit
          name="related_organizational_project">
          <typename
            name="organizational_project"/>
        </explicit>
      </entity>

      <entity
        name="organizational_project_role">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="oriented_closed_shell"
        supertypes="closed_shell">
        <explicit
          name="closed_shell_element">
          <typename
            name="closed_shell"/>
        </explicit>
        <explicit
          name="orientation">
          <builtintype
            type="BOOLEAN"/>
        </explicit>
        <derived
          name="cfs_faces"
          expression="conditional_reverse(SELF.orientation, SELF.closed_shell_element.cfs_faces)">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="face"/>
          <redeclaration
            entity-ref="connected_face_set"/>
          </derived>
          <where
            label="WR1"
            expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_CLOSED_SHELL' IN TYPEOF (SELF.closed_shell_element))">
          </where>
        </entity>

        <entity
          name="oriented_edge"
          supertypes="edge">
          <explicit
            name="edge_element">
            <typename
              name="edge"/>
          </explicit>
          <explicit
            name="orientation">
            <builtintype
              type="BOOLEAN"/>
          </explicit>
          <derived
            name="edge_start"
            expression="boolean_choose (SELF.orientation, SELF.edge_element.edge_start, SELF.edge_element.edge_end)">
            <typename
              name="vertex"/>
            <redeclaration
              entity-ref="edge"/>
            </derived>
            <derived
              name="edge_end"
              expression="boolean_choose (SELF.orientation, SELF.edge_element.edge_end, SELF.edge_element.edge_start)">
              <typename
                name="vertex"/>
              <redeclaration
                entity-ref="edge"/>
              </derived>
              <where
                label="WR1"
                expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_EDGE' IN TYPEOF (SELF.edge_element))">
              </where>
            </entity>

            <entity
              name="oriented_face"
              supertypes="face">
              <explicit
                name="face_element">
                <typename
                  name="face"/>
              </explicit>
              <explicit
                name="orientation">
                <builtintype
                  type="BOOLEAN"/>
              </explicit>
              <derived
                name="bounds"
                expression="conditional_reverse(SELF.orientation,SELF.face_element.bounds)">
                <aggregate
                  type="SET"
                  lower="1"
                  upper="?"/>
                <typename
                  name="face_bound"/>
                <redeclaration
                  entity-ref="face"/>
                </derived>
                <where
                  label="WR1"
                  expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_FACE' IN TYPEOF (SELF.face_element))">
                </where>
              </entity>

              <entity
                name="oriented_open_shell"
                supertypes="open_shell">
                <explicit
                  name="open_shell_element">
                  <typename
                    name="open_shell"/>
                </explicit>
                <explicit
                  name="orientation">
                  <builtintype
                    type="BOOLEAN"/>
                </explicit>
                <derived
                  name="cfs_faces"
                  expression="conditional_reverse(SELF.orientation, SELF.open_shell_element.cfs_faces)">
                  <aggregate
                    type="SET"
                    lower="1"
                    upper="?"/>
                  <typename
                    name="face"/>
                  <redeclaration
                    entity-ref="connected_face_set"/>
                  </derived>
                  <where
                    label="WR1"
                    expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_OPEN_SHELL' IN TYPEOF (SELF.open_shell_element))">
                  </where>
                </entity>

                <entity
                  name="oriented_path"
                  supertypes="path">
                  <explicit
                    name="path_element">
                    <typename
                      name="path"/>
                  </explicit>
                  <explicit
                    name="orientation">
                    <builtintype
                      type="BOOLEAN"/>
                  </explicit>
                  <derived
                    name="edge_list"
                    expression="conditional_reverse(SELF.orientation, SELF.path_element.edge_list)">
                    <aggregate
                      type="LIST"
                      lower="1"
                      upper="?"
                      unique="YES"/>
                    <typename
                      name="oriented_edge"/>
                    <redeclaration
                      entity-ref="path"/>
                    </derived>
                    <where
                      label="WR1"
                      expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_PATH' IN TYPEOF (SELF.path_element))">
                    </where>
                  </entity>

                  <entity
                    name="oriented_surface"
                    supertypes="surface">
                    <explicit
                      name="orientation">
                      <builtintype
                        type="BOOLEAN"/>
                    </explicit>
                  </entity>

                  <entity
                    name="outer_boundary_curve"
                    supertypes="boundary_curve">
                  </entity>

                  <entity
                    name="over_riding_styled_item"
                    supertypes="styled_item">
                    <explicit
                      name="over_ridden_style">
                      <typename
                        name="styled_item"/>
                    </explicit>
                  </entity>

                  <entity
                    name="parabola"
                    supertypes="conic">
                    <explicit
                      name="focal_dist">
                      <typename
                        name="length_measure"/>
                    </explicit>
                    <where
                      label="WR1"
                      expression="focal_dist &lt;&gt; 0.0">
                    </where>
                  </entity>

                  <entity
                    name="parallel_offset"
                    supertypes="derived_shape_aspect">
                    <explicit
                      name="offset">
                      <typename
                        name="measure_with_unit"/>
                    </explicit>
                    <where
                      label="WR1"
                      expression="SIZEOF (SELF\derived_shape_aspect.deriving_relationships)= 1">
                    </where>
                  </entity>

                  <entity
                    name="parallelism_tolerance"
                    supertypes="geometric_tolerance_with_datum_reference">
                    <where
                      label="WR1"
                      expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt; 3">
                    </where>
                  </entity>

                  <entity
                    name="parametric_representation_context"
                    supertypes="representation_context">
                  </entity>

                  <entity
                    name="path"
                    super.expression="(ONEOF ( EDGE_LOOP, ORIENTED_PATH))"
                    supertypes="topological_representation_item">
                    <explicit
                      name="edge_list">
                      <aggregate
                        type="LIST"
                        lower="1"
                        upper="?"
                        unique="YES"/>
                      <typename
                        name="oriented_edge"/>
                    </explicit>
                    <where
                      label="WR1"
                      expression="path_head_to_tail(SELF)">
                    </where>
                  </entity>

                  <entity
                    name="pcurve"
                    supertypes="curve">
                    <explicit
                      name="basis_surface">
                      <typename
                        name="surface"/>
                    </explicit>
                    <explicit
                      name="reference_to_curve">
                      <typename
                        name="definitional_representation"/>
                    </explicit>
                    <where
                      label="WR1"
                      expression="SIZEOF(reference_to_curve\representation.items) = 1">
                    </where>
                    <where
                      label="WR2"
                      expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE' IN TYPEOF(reference_to_curve\representation.items[1])">
                    </where>
                    <where
                      label="WR3"
                      expression="reference_to_curve\representation.items[1]\ geometric_representation_item.dim =2">
                    </where>
                  </entity>

                  <entity
                    name="perpendicular_to"
                    supertypes="derived_shape_aspect">
                    <where
                      label="WR1"
                      expression="SIZEOF (SELF\derived_shape_aspect.deriving_relationships)= 1">
                    </where>
                  </entity>

                  <entity
                    name="perpendicularity_tolerance"
                    supertypes="geometric_tolerance_with_datum_reference">
                    <where
                      label="WR1"
                      expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3">
                    </where>
                  </entity>

                  <entity
                    name="person">
                    <explicit
                      name="id">
                      <typename
                        name="identifier"/>
                    </explicit>
                    <explicit
                      name="last_name"
                      optional="YES">
                      <typename
                        name="label"/>
                    </explicit>
                    <explicit
                      name="first_name"
                      optional="YES">
                      <typename
                        name="label"/>
                    </explicit>
                    <explicit
                      name="middle_names"
                      optional="YES">
                      <aggregate
                        type="LIST"
                        lower="1"
                        upper="?"/>
                      <typename
                        name="label"/>
                    </explicit>
                    <explicit
                      name="prefix_titles"
                      optional="YES">
                      <aggregate
                        type="LIST"
                        lower="1"
                        upper="?"/>
                      <typename
                        name="label"/>
                    </explicit>
                    <explicit
                      name="suffix_titles"
                      optional="YES">
                      <aggregate
                        type="LIST"
                        lower="1"
                        upper="?"/>
                      <typename
                        name="label"/>
                    </explicit>
                    <where
                      label="WR1"
                      expression="EXISTS(last_name) OR EXISTS(first_name)">
                    </where>
                  </entity>

                  <entity
                    name="person_and_organization">
                    <explicit
                      name="the_person">
                      <typename
                        name="person"/>
                    </explicit>
                    <explicit
                      name="the_organization">
                      <typename
                        name="organization"/>
                    </explicit>
                    <derived
                      name="name"
                      expression="get_name_value (SELF)">
                      <typename
                        name="label"/>
                    </derived>
                    <derived
                      name="description"
                      expression="get_description_value(SELF)">
                      <typename
                        name="text"/>
                    </derived>
                    <where
                      label="WR1"
                      expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
                    </where>
                    <where
                      label="WR2"
                      expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
                    </where>
                  </entity>

                  <entity
                    name="person_and_organization_address"
                    supertypes="organizational_address personal_address">
                    <explicit
                      name="organizations">
                      <aggregate
                        type="SET"
                        lower="1"
                        upper="1"/>
                      <typename
                        name="organization"/>
                      <redeclaration
                        entity-ref="organizational_address"/>
                      </explicit>
                      <explicit
                        name="people">
                        <aggregate
                          type="SET"
                          lower="1"
                          upper="1"/>
                        <typename
                          name="person"/>
                        <redeclaration
                          entity-ref="personal_address"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="SIZEOF(QUERY(pao &lt;* USEDIN (SELF\personal_address.people[1], 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PERSON_AND_ORGANIZATION.THE_PERSON') | pao.the_organization :=: SELF\organizational_address.organizations[1])) = 1">
                        </where>
                      </entity>

                      <entity
                        name="person_and_organization_assignment"
                        abstract.supertype="YES">
                        <explicit
                          name="assigned_person_and_organization">
                          <typename
                            name="person_and_organization"/>
                        </explicit>
                        <explicit
                          name="role">
                          <typename
                            name="person_and_organization_role"/>
                        </explicit>
                      </entity>

                      <entity
                        name="person_and_organization_role">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <derived
                          name="description"
                          expression="get_description_value (SELF)">
                          <typename
                            name="text"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
                        </where>
                      </entity>

                      <entity
                        name="personal_address"
                        supertypes="address">
                        <explicit
                          name="people">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="person"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                      </entity>

                      <entity
                        name="placed_datum_target_feature"
                        supertypes="datum_target">
                        <derived
                          name="representation_associations"
                          expression="get_shape_aspect_property_definition_representations(SELF)">
                          <aggregate
                            type="SET"
                            lower="0"
                            upper="?"/>
                          <typename
                            name="property_definition_representation"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SELF.description IN ['point','line','rectangle','circle', 'circular line']">
                        </where>
                        <where
                          label="WR2"
                          expression="SIZEOF (QUERY (pdr &lt;* representation_associations | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_REPRESENTATION_WITH_PARAMETERS' IN TYPEOF (pdr.used_representation))) = 1">
                        </where>
                        <where
                          label="WR3"
                          expression="valid_datum_target_parameters(SELF)">
                        </where>
                      </entity>

                      <entity
                        name="placement"
                        super.expression="(ONEOF ( AXIS1_PLACEMENT, AXIS2_PLACEMENT_2D, AXIS2_PLACEMENT_3D))"
                        supertypes="geometric_representation_item">
                        <explicit
                          name="location">
                          <typename
                            name="cartesian_point"/>
                        </explicit>
                      </entity>

                      <entity
                        name="planar_box"
                        supertypes="planar_extent">
                        <explicit
                          name="placement">
                          <typename
                            name="axis2_placement"/>
                        </explicit>
                      </entity>

                      <entity
                        name="planar_extent"
                        supertypes="geometric_representation_item">
                        <explicit
                          name="size_in_x">
                          <typename
                            name="length_measure"/>
                        </explicit>
                        <explicit
                          name="size_in_y">
                          <typename
                            name="length_measure"/>
                        </explicit>
                      </entity>

                      <entity
                        name="plane"
                        supertypes="elementary_surface">
                      </entity>

                      <entity
                        name="plane_angle_measure_with_unit"
                        supertypes="measure_with_unit">
                        <where
                          label="WR1"
                          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PLANE_ANGLE_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
                        </where>
                      </entity>

                      <entity
                        name="plane_angle_unit"
                        supertypes="named_unit">
                        <where
                          label="WR1"
                          expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
                        </where>
                      </entity>

                      <entity
                        name="plus_minus_tolerance">
                        <explicit
                          name="range">
                          <typename
                            name="tolerance_method_definition"/>
                        </explicit>
                        <explicit
                          name="toleranced_dimension">
                          <typename
                            name="dimensional_characteristic"/>
                        </explicit>
                        <unique
                          label="UR1">
                          <unique.attribute
                            attribute="toleranced_dimension"/>
                        </unique>
                      </entity>

                      <entity
                        name="point"
                        super.expression="(ONEOF ( CARTESIAN_POINT, POINT_ON_CURVE, POINT_ON_SURFACE, POINT_REPLICA, DEGENERATE_PCURVE))"
                        supertypes="geometric_representation_item">
                      </entity>

                      <entity
                        name="point_on_curve"
                        supertypes="point">
                        <explicit
                          name="basis_curve">
                          <typename
                            name="curve"/>
                        </explicit>
                        <explicit
                          name="point_parameter">
                          <typename
                            name="parameter_value"/>
                        </explicit>
                      </entity>

                      <entity
                        name="point_on_surface"
                        supertypes="point">
                        <explicit
                          name="basis_surface">
                          <typename
                            name="surface"/>
                        </explicit>
                        <explicit
                          name="point_parameter_u">
                          <typename
                            name="parameter_value"/>
                        </explicit>
                        <explicit
                          name="point_parameter_v">
                          <typename
                            name="parameter_value"/>
                        </explicit>
                      </entity>

                      <entity
                        name="point_replica"
                        supertypes="point">
                        <explicit
                          name="parent_pt">
                          <typename
                            name="point"/>
                        </explicit>
                        <explicit
                          name="transformation">
                          <typename
                            name="cartesian_transformation_operator"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="transformation.dim = parent_pt.dim">
                        </where>
                        <where
                          label="WR2"
                          expression="acyclic_point_replica (SELF,parent_pt)">
                        </where>
                      </entity>

                      <entity
                        name="point_style">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="marker">
                          <typename
                            name="marker_select"/>
                        </explicit>
                        <explicit
                          name="marker_size">
                          <typename
                            name="size_select"/>
                        </explicit>
                        <explicit
                          name="marker_colour">
                          <typename
                            name="colour"/>
                        </explicit>
                      </entity>

                      <entity
                        name="poly_loop"
                        supertypes="loop geometric_representation_item">
                        <explicit
                          name="polygon">
                          <aggregate
                            type="LIST"
                            lower="3"
                            upper="?"
                            unique="YES"/>
                          <typename
                            name="cartesian_point"/>
                        </explicit>
                      </entity>

                      <entity
                        name="polyline"
                        supertypes="bounded_curve">
                        <explicit
                          name="points">
                          <aggregate
                            type="LIST"
                            lower="2"
                            upper="?"/>
                          <typename
                            name="cartesian_point"/>
                        </explicit>
                      </entity>

                      <entity
                        name="position_tolerance"
                        supertypes="geometric_tolerance">
                        <where
                          label="WR1"
                          expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF)) OR (SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3)">
                        </where>
                      </entity>

                      <entity
                        name="pre_defined_character_glyph"
                        supertypes="pre_defined_item">
                      </entity>

                      <entity
                        name="pre_defined_colour"
                        supertypes="pre_defined_item colour">
                      </entity>

                      <entity
                        name="pre_defined_curve_font"
                        supertypes="pre_defined_item">
                      </entity>

                      <entity
                        name="pre_defined_item">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                      </entity>

                      <entity
                        name="pre_defined_marker"
                        supertypes="pre_defined_item">
                      </entity>

                      <entity
                        name="pre_defined_symbol"
                        supertypes="pre_defined_item">
                      </entity>

                      <entity
                        name="pre_defined_terminator_symbol"
                        supertypes="pre_defined_symbol">
                        <where
                          label="WR1"
                          expression="SELF.name IN ['blanked arrow', 'blanked box', 'blanked dot', 'dimension origin', 'filled arrow', 'filled box', 'filled dot', 'integral symbol', 'open arrow', 'slash', 'unfilled arrow']">
                        </where>
                      </entity>

                      <entity
                        name="pre_defined_text_font"
                        supertypes="pre_defined_item">
                      </entity>

                      <entity
                        name="pre_defined_tile"
                        supertypes="pre_defined_item">
                      </entity>

                      <entity
                        name="precision_qualifier">
                        <explicit
                          name="precision_value">
                          <builtintype
                            type="INTEGER"/>
                        </explicit>
                      </entity>

                      <entity
                        name="presentation_area"
                        supertypes="presentation_representation">
                        <where
                          label="WR1"
                          expression="((SIZEOF (QUERY (ais &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'AREA_IN_SET.AREA') | SIZEOF (USEDIN (ais, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_SIZE.UNIT')) =1)) &gt; 0) OR(SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_SIZE.UNIT')) =1))">
                        </where>
                      </entity>

                      <entity
                        name="presentation_layer_assignment">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="assigned_items">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="layered_item"/>
                        </explicit>
                      </entity>

                      <entity
                        name="presentation_representation"
                        supertypes="representation">
                        <where
                          label="WR1"
                          expression="SELF\representation. context_of_items\geometric_representation_context. coordinate_space_dimension = 2">
                        </where>
                        <where
                          label="WR2"
                          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRIC_REPRESENTATION_CONTEXT' IN TYPEOF (SELF\representation.context_of_items)">
                        </where>
                      </entity>

                      <entity
                        name="presentation_set">
                        <inverse
                          name="areas"
                          entity="area_in_set"
                          attribute="in_set">
                          <inverse.aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                        </inverse>
                      </entity>

                      <entity
                        name="presentation_size">
                        <explicit
                          name="unit">
                          <typename
                            name="presentation_size_assignment_select"/>
                        </explicit>
                        <explicit
                          name="size">
                          <typename
                            name="planar_box"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRESENTATION_REPRESENTATION' IN TYPEOF (SELF.unit)) AND item_in_context (SELF.size, SELF.unit\representation.context_of_items)) OR(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AREA_IN_SET' IN TYPEOF (SELF.unit)) AND(SIZEOF (QUERY (ais &lt;* SELF.unit\area_in_set.in_set.areas | NOT item_in_context (SELF.size, ais.area\representation. context_of_items))) = 0))">
                        </where>
                      </entity>

                      <entity
                        name="presentation_style_assignment">
                        <explicit
                          name="styles">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="presentation_style_select"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="SIZEOF (QUERY (style1 &lt;* SELF.styles | NOT (SIZEOF (QUERY (style2 &lt;* (SELF.styles - style1) | NOT ((TYPEOF (style1) &lt;&gt; TYPEOF (style2)) OR(SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'SURFACE_STYLE_USAGE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'EXTERNALLY_DEFINED_STYLE'] * TYPEOF (style1)) = 1)))) = 0))) = 0">
                        </where>
                        <where
                          label="WR2"
                          expression="SIZEOF (QUERY (style1 &lt;* SELF.styles |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_STYLE_USAGE' IN TYPEOF(style1))) &lt;= 2">
                        </where>
                      </entity>

                      <entity
                        name="presentation_style_by_context"
                        supertypes="presentation_style_assignment">
                        <explicit
                          name="style_context">
                          <typename
                            name="style_context_select"/>
                        </explicit>
                      </entity>

                      <entity
                        name="presentation_view"
                        supertypes="presentation_representation">
                      </entity>

                      <entity
                        name="product">
                        <explicit
                          name="id">
                          <typename
                            name="identifier"/>
                        </explicit>
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="frame_of_reference">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="product_context"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_category">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <derived
                          name="id"
                          expression="get_id_value (SELF)">
                          <typename
                            name="identifier"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1">
                        </where>
                      </entity>

                      <entity
                        name="product_category_relationship">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="category">
                          <typename
                            name="product_category"/>
                        </explicit>
                        <explicit
                          name="sub_category">
                          <typename
                            name="product_category"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="acyclic_product_category_relationship (SELF, [SELF.sub_category])">
                        </where>
                      </entity>

                      <entity
                        name="product_concept">
                        <explicit
                          name="id">
                          <typename
                            name="identifier"/>
                        </explicit>
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="market_context">
                          <typename
                            name="product_concept_context"/>
                        </explicit>
                        <unique
                          label="UR1">
                          <unique.attribute
                            attribute="id"/>
                        </unique>
                      </entity>

                      <entity
                        name="product_concept_context"
                        supertypes="application_context_element">
                        <explicit
                          name="market_segment_type">
                          <typename
                            name="label"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_context"
                        supertypes="application_context_element">
                        <explicit
                          name="discipline_type">
                          <typename
                            name="label"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_definition">
                        <explicit
                          name="id">
                          <typename
                            name="identifier"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="formation">
                          <typename
                            name="product_definition_formation"/>
                        </explicit>
                        <explicit
                          name="frame_of_reference">
                          <typename
                            name="product_definition_context"/>
                        </explicit>
                        <derived
                          name="name"
                          expression="get_name_value (SELF)">
                          <typename
                            name="label"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
                        </where>
                      </entity>

                      <entity
                        name="product_definition_context"
                        supertypes="application_context_element">
                        <explicit
                          name="life_cycle_stage">
                          <typename
                            name="label"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_definition_context_association">
                        <explicit
                          name="definition">
                          <typename
                            name="product_definition"/>
                        </explicit>
                        <explicit
                          name="frame_of_reference">
                          <typename
                            name="product_definition_context"/>
                        </explicit>
                        <explicit
                          name="role">
                          <typename
                            name="product_definition_context_role"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_definition_context_role">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_definition_effectivity"
                        supertypes="effectivity">
                        <explicit
                          name="usage">
                          <typename
                            name="product_definition_relationship"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'EFFECTIVITY_ASSIGNMENT.ASSIGNED_EFFECTIVITY')) = 0">
                        </where>
                      </entity>

                      <entity
                        name="product_definition_formation">
                        <explicit
                          name="id">
                          <typename
                            name="identifier"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="of_product">
                          <typename
                            name="product"/>
                        </explicit>
                        <unique
                          label="UR1">
                          <unique.attribute
                            attribute="id"/>
                          <unique.attribute
                            attribute="of_product"/>
                        </unique>
                      </entity>

                      <entity
                        name="product_definition_formation_relationship">
                        <explicit
                          name="id">
                          <typename
                            name="identifier"/>
                        </explicit>
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="relating_product_definition_formation">
                          <typename
                            name="product_definition_formation"/>
                        </explicit>
                        <explicit
                          name="related_product_definition_formation">
                          <typename
                            name="product_definition_formation"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_definition_formation_with_specified_source"
                        supertypes="product_definition_formation">
                        <explicit
                          name="make_or_buy">
                          <typename
                            name="source"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_definition_relationship">
                        <explicit
                          name="id">
                          <typename
                            name="identifier"/>
                        </explicit>
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="relating_product_definition">
                          <typename
                            name="product_definition"/>
                        </explicit>
                        <explicit
                          name="related_product_definition">
                          <typename
                            name="product_definition"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_definition_shape"
                        supertypes="property_definition">
                        <unique
                          label="UR1">
                          <unique.attribute
                            entity-ref="property_definition"
                            attribute="definition"/>
                        </unique>
                        <where
                          label="WR1"
                          expression="SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CHARACTERIZED_PRODUCT_DEFINITION', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CHARACTERIZED_OBJECT'] * TYPEOF(SELF\property_definition.definition)) &gt; 0">
                        </where>
                      </entity>

                      <entity
                        name="product_definition_usage"
                        super.expression="(ONEOF ( MAKE_FROM_USAGE_OPTION, ASSEMBLY_COMPONENT_USAGE))"
                        supertypes="product_definition_relationship">
                        <unique
                          label="UR1">
                          <unique.attribute
                            entity-ref="product_definition_relationship"
                            attribute="id"/>
                          <unique.attribute
                            entity-ref="product_definition_relationship"
                            attribute="relating_product_definition"/>
                          <unique.attribute
                            entity-ref="product_definition_relationship"
                            attribute="related_product_definition"/>
                        </unique>
                        <where
                          label="WR1"
                          expression="acyclic_product_definition_relationship(SELF,[SELF\product_definition_relationship.related_product_definition],'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT_DEFINITION_USAGE')">
                        </where>
                      </entity>

                      <entity
                        name="product_definition_with_associated_documents"
                        supertypes="product_definition">
                        <explicit
                          name="documentation_ids">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="document"/>
                        </explicit>
                      </entity>

                      <entity
                        name="product_related_product_category"
                        supertypes="product_category">
                        <explicit
                          name="products">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="product"/>
                        </explicit>
                      </entity>

                      <entity
                        name="projected_zone_definition"
                        supertypes="tolerance_zone_definition">
                        <explicit
                          name="projection_end">
                          <typename
                            name="shape_aspect"/>
                        </explicit>
                        <explicit
                          name="projected_length">
                          <typename
                            name="measure_with_unit"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="('NUMBER' IN TYPEOF(projected_length\measure_with_unit.value_component)) AND(projected_length\measure_with_unit.value_component &gt; 0.0)">
                        </where>
                        <where
                          label="WR2"
                          expression="(derive_dimensional_exponents(projected_length\measure_with_unit.unit_component)= dimensional_exponents(1,0,0,0,0,0,0))">
                        </where>
                      </entity>

                      <entity
                        name="projection_curve"
                        supertypes="annotation_curve_occurrence">
                      </entity>

                      <entity
                        name="projection_directed_callout"
                        supertypes="draughting_callout">
                        <where
                          label="WR1"
                          expression="SIZEOF(QUERY(p_1&lt;*SELF\draughting_callout.contents |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PROJECTION_CURVE' IN (TYPEOF(p_1))))=1">
                        </where>
                        <where
                          label="WR2"
                          expression="SIZEOF(SELF\draughting_callout.contents) &gt;=2">
                        </where>
                      </entity>

                      <entity
                        name="promissory_usage_occurrence"
                        supertypes="assembly_component_usage">
                      </entity>

                      <entity
                        name="property_definition">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="definition">
                          <typename
                            name="characterized_definition"/>
                        </explicit>
                        <derived
                          name="id"
                          expression="get_id_value (SELF)">
                          <typename
                            name="identifier"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1">
                        </where>
                      </entity>

                      <entity
                        name="property_definition_representation">
                        <explicit
                          name="definition">
                          <typename
                            name="represented_definition"/>
                        </explicit>
                        <explicit
                          name="used_representation">
                          <typename
                            name="representation"/>
                        </explicit>
                        <derived
                          name="description"
                          expression="get_description_value (SELF)">
                          <typename
                            name="text"/>
                        </derived>
                        <derived
                          name="name"
                          expression="get_name_value (SELF)">
                          <typename
                            name="label"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
                        </where>
                        <where
                          label="WR2"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
                        </where>
                      </entity>

                      <entity
                        name="qualified_representation_item"
                        supertypes="representation_item">
                        <explicit
                          name="qualifiers">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="value_qualifier"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="SIZEOF(QUERY(temp &lt;* qualifiers |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRECISION_QUALIFIER' IN TYPEOF(temp))) &lt; 2">
                        </where>
                      </entity>

                      <entity
                        name="quantified_assembly_component_usage"
                        supertypes="assembly_component_usage">
                        <explicit
                          name="quantity">
                          <typename
                            name="measure_with_unit"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="(NOT ('NUMBER' IN TYPEOF(quantity.value_component))) OR (quantity.value_component &gt; 0)">
                        </where>
                      </entity>

                      <entity
                        name="quasi_uniform_curve"
                        supertypes="b_spline_curve">
                      </entity>

                      <entity
                        name="quasi_uniform_surface"
                        supertypes="b_spline_surface">
                      </entity>

                      <entity
                        name="radius_dimension"
                        supertypes="dimension_curve_directed_callout">
                        <where
                          label="WR1"
                          expression="SIZEOF (QUERY (con &lt;* SELF.contents |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PROJECTION_CURVE' IN TYPEOF (con)))&lt;=1">
                        </where>
                      </entity>

                      <entity
                        name="ratio_measure_with_unit"
                        supertypes="measure_with_unit">
                        <where
                          label="WR1"
                          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.RATIO_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
                        </where>
                      </entity>

                      <entity
                        name="ratio_unit"
                        supertypes="named_unit">
                        <where
                          label="WR1"
                          expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
                        </where>
                      </entity>

                      <entity
                        name="rational_b_spline_curve"
                        supertypes="b_spline_curve">
                        <explicit
                          name="weights_data">
                          <aggregate
                            type="LIST"
                            lower="2"
                            upper="?"/>
                          <aggregate
                            type="LIST"
                            lower="2"
                            upper="?"/>
                          <builtintype
                            type="REAL"/>
                        </explicit>
                        <derived
                          name="weights"
                          expression="list_to_array(weights_data,0, upper_index_on_control_points)">
                          <aggregate
                            type="ARRAY"
                            lower="0"
                            upper="upper_index_on_control_points"/>
                          <builtintype
                            type="REAL"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF(weights_data) = SIZEOF(SELF\b_spline_curve. control_points_list)">
                        </where>
                        <where
                          label="WR2"
                          expression="curve_weights_positive(SELF)">
                        </where>
                      </entity>

                      <entity
                        name="rational_b_spline_surface"
                        supertypes="b_spline_surface">
                        <explicit
                          name="weights_data">
                          <aggregate
                            type="LIST"
                            lower="2"
                            upper="?"/>
                          <aggregate
                            type="LIST"
                            lower="2"
                            upper="?"/>
                          <builtintype
                            type="REAL"/>
                        </explicit>
                        <derived
                          name="weights"
                          expression="make_array_of_array(weights_data,0,u_upper,0,v_upper)">
                          <aggregate
                            type="ARRAY"
                            lower="0"
                            upper="u_upper"/>
                          <aggregate
                            type="ARRAY"
                            lower="0"
                            upper="v_upper"/>
                          <builtintype
                            type="REAL"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="(SIZEOF(weights_data) = SIZEOF(SELF\b_spline_surface.control_points_list)) AND (SIZEOF(weights_data[1]) = SIZEOF(SELF\b_spline_surface.control_points_list[1]))">
                        </where>
                        <where
                          label="WR2"
                          expression="surface_weights_positive(SELF)">
                        </where>
                      </entity>

                      <entity
                        name="rectangular_composite_surface"
                        supertypes="bounded_surface">
                        <explicit
                          name="segments">
                          <aggregate
                            type="LIST"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="LIST"/>
                        </explicit>
                        <derived
                          name="n_u"
                          expression="SIZEOF(segments)">
                          <builtintype
                            type="INTEGER"/>
                        </derived>
                        <derived
                          name="n_v"
                          expression="SIZEOF(segments[1])">
                          <builtintype
                            type="INTEGER"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF(QUERY (s &lt;* segments | n_v &lt;&gt; SIZEOF (s))) = 0">
                        </where>
                        <where
                          label="WR2"
                          expression="constraints_rectangular_composite_surface(SELF)">
                        </where>
                      </entity>

                      <entity
                        name="rectangular_trimmed_surface"
                        supertypes="bounded_surface">
                        <explicit
                          name="basis_surface">
                          <typename
                            name="surface"/>
                        </explicit>
                        <explicit
                          name="u1">
                          <typename
                            name="parameter_value"/>
                        </explicit>
                        <explicit
                          name="u2">
                          <typename
                            name="parameter_value"/>
                        </explicit>
                        <explicit
                          name="v1">
                          <typename
                            name="parameter_value"/>
                        </explicit>
                        <explicit
                          name="v2">
                          <typename
                            name="parameter_value"/>
                        </explicit>
                        <explicit
                          name="usense">
                          <builtintype
                            type="BOOLEAN"/>
                        </explicit>
                        <explicit
                          name="vsense">
                          <builtintype
                            type="BOOLEAN"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="u1 &lt;&gt; u2">
                        </where>
                        <where
                          label="WR2"
                          expression="v1 &lt;&gt; v2">
                        </where>
                        <where
                          label="WR3"
                          expression="(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ELEMENTARY_SURFACE' IN TYPEOF(basis_surface)) AND (NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PLANE' IN TYPEOF(basis_surface)))) OR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_OF_REVOLUTION' IN TYPEOF(basis_surface)) OR (usense = (u2 &gt; u1))">
                        </where>
                        <where
                          label="WR4"
                          expression="(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SPHERICAL_SURFACE' IN TYPEOF(basis_surface)) OR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TOROIDAL_SURFACE' IN TYPEOF(basis_surface))) OR (vsense = (v2 &gt; v1))">
                        </where>
                      </entity>

                      <entity
                        name="referenced_modified_datum"
                        supertypes="datum_reference">
                        <explicit
                          name="modifier">
                          <typename
                            name="limit_condition"/>
                        </explicit>
                      </entity>

                      <entity
                        name="relative_event_occurrence"
                        supertypes="event_occurrence">
                        <explicit
                          name="base_event">
                          <typename
                            name="event_occurrence"/>
                        </explicit>
                        <explicit
                          name="offset">
                          <typename
                            name="time_measure_with_unit"/>
                        </explicit>
                      </entity>

                      <entity
                        name="reparametrised_composite_curve_segment"
                        supertypes="composite_curve_segment">
                        <explicit
                          name="param_length">
                          <typename
                            name="parameter_value"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="param_length &gt; 0.0">
                        </where>
                      </entity>

                      <entity
                        name="representation">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="items">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="representation_item"/>
                        </explicit>
                        <explicit
                          name="context_of_items">
                          <typename
                            name="representation_context"/>
                        </explicit>
                        <derived
                          name="id"
                          expression="get_id_value (SELF)">
                          <typename
                            name="identifier"/>
                        </derived>
                        <derived
                          name="description"
                          expression="get_description_value (SELF)">
                          <typename
                            name="text"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'ID_ATTRIBUTE.IDENTIFIED_ITEM'))&lt;= 1">
                        </where>
                        <where
                          label="WR2"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM'))&lt;= 1">
                        </where>
                      </entity>

                      <entity
                        name="representation_context">
                        <explicit
                          name="context_identifier">
                          <typename
                            name="identifier"/>
                        </explicit>
                        <explicit
                          name="context_type">
                          <typename
                            name="text"/>
                        </explicit>
                        <inverse
                          name="representations_in_context"
                          entity="representation"
                          attribute="context_of_items">
                          <inverse.aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                        </inverse>
                      </entity>

                      <entity
                        name="representation_item">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="SIZEOF(using_representations(SELF)) &gt; 0">
                        </where>
                      </entity>

                      <entity
                        name="representation_map">
                        <explicit
                          name="mapping_origin">
                          <typename
                            name="representation_item"/>
                        </explicit>
                        <explicit
                          name="mapped_representation">
                          <typename
                            name="representation"/>
                        </explicit>
                        <inverse
                          name="map_usage"
                          entity="mapped_item"
                          attribute="mapping_source">
                          <inverse.aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                        </inverse>
                        <where
                          label="WR1"
                          expression="item_in_context(SELF.mapping_origin, SELF.mapped_representation.context_of_items)">
                        </where>
                      </entity>

                      <entity
                        name="representation_relationship">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="rep_1">
                          <typename
                            name="representation"/>
                        </explicit>
                        <explicit
                          name="rep_2">
                          <typename
                            name="representation"/>
                        </explicit>
                      </entity>

                      <entity
                        name="representation_relationship_with_transformation"
                        supertypes="representation_relationship">
                        <explicit
                          name="transformation_operator">
                          <typename
                            name="transformation"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="SELF\representation_relationship.rep_1.context_of_items:&lt;&gt;: SELF\representation_relationship.rep_2.context_of_items">
                        </where>
                      </entity>

                      <entity
                        name="revolved_face_solid"
                        supertypes="swept_face_solid">
                        <explicit
                          name="axis">
                          <typename
                            name="axis1_placement"/>
                        </explicit>
                        <explicit
                          name="angle">
                          <typename
                            name="plane_angle_measure"/>
                        </explicit>
                        <derived
                          name="axis_line"
                          expression="representation_item('')|| geometric_representation_item()|| curve()|| line(axis.location, representation_item('')|| geometric_representation_item()|| vector(axis.z, 1.0))">
                          <typename
                            name="line"/>
                        </derived>
                      </entity>

                      <entity
                        name="right_angular_wedge"
                        supertypes="geometric_representation_item">
                        <explicit
                          name="position">
                          <typename
                            name="axis2_placement_3d"/>
                        </explicit>
                        <explicit
                          name="x">
                          <typename
                            name="positive_length_measure"/>
                        </explicit>
                        <explicit
                          name="y">
                          <typename
                            name="positive_length_measure"/>
                        </explicit>
                        <explicit
                          name="z">
                          <typename
                            name="positive_length_measure"/>
                        </explicit>
                        <explicit
                          name="ltx">
                          <typename
                            name="length_measure"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="((0.0 &lt;= ltx) AND (ltx &lt; x))">
                        </where>
                      </entity>

                      <entity
                        name="right_circular_cone"
                        supertypes="geometric_representation_item">
                        <explicit
                          name="position">
                          <typename
                            name="axis1_placement"/>
                        </explicit>
                        <explicit
                          name="height">
                          <typename
                            name="positive_length_measure"/>
                        </explicit>
                        <explicit
                          name="radius">
                          <typename
                            name="length_measure"/>
                        </explicit>
                        <explicit
                          name="semi_angle">
                          <typename
                            name="plane_angle_measure"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="radius &gt;= 0.0">
                        </where>
                      </entity>

                      <entity
                        name="right_circular_cylinder"
                        supertypes="geometric_representation_item">
                        <explicit
                          name="position">
                          <typename
                            name="axis1_placement"/>
                        </explicit>
                        <explicit
                          name="height">
                          <typename
                            name="positive_length_measure"/>
                        </explicit>
                        <explicit
                          name="radius">
                          <typename
                            name="positive_length_measure"/>
                        </explicit>
                      </entity>

                      <entity
                        name="role_association">
                        <explicit
                          name="role">
                          <typename
                            name="object_role"/>
                        </explicit>
                        <explicit
                          name="item_with_role">
                          <typename
                            name="role_select"/>
                        </explicit>
                      </entity>

                      <entity
                        name="roundness_tolerance"
                        supertypes="geometric_tolerance">
                        <where
                          label="WR1"
                          expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF))">
                        </where>
                      </entity>

                      <entity
                        name="runout_zone_definition"
                        supertypes="tolerance_zone_definition">
                        <explicit
                          name="orientation">
                          <typename
                            name="runout_zone_orientation"/>
                        </explicit>
                      </entity>

                      <entity
                        name="runout_zone_orientation">
                        <explicit
                          name="angle">
                          <typename
                            name="measure_with_unit"/>
                        </explicit>
                      </entity>

                      <entity
                        name="runout_zone_orientation_reference_direction"
                        supertypes="runout_zone_orientation">
                        <explicit
                          name="orientation_defining_relationship">
                          <typename
                            name="shape_aspect_relationship"/>
                        </explicit>
                      </entity>

                      <entity
                        name="seam_curve"
                        supertypes="surface_curve">
                        <where
                          label="WR1"
                          expression="SIZEOF(SELF\surface_curve.associated_geometry) = 2">
                        </where>
                        <where
                          label="WR2"
                          expression="associated_surface(SELF\surface_curve.associated_geometry[1]) = associated_surface(SELF\surface_curve.associated_geometry[2])">
                        </where>
                        <where
                          label="WR3"
                          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF(SELF\surface_curve.associated_geometry[1])">
                        </where>
                        <where
                          label="WR4"
                          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF(SELF\surface_curve.associated_geometry[2])">
                        </where>
                      </entity>

                      <entity
                        name="security_classification">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="purpose">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="security_level">
                          <typename
                            name="security_classification_level"/>
                        </explicit>
                      </entity>

                      <entity
                        name="security_classification_assignment"
                        abstract.supertype="YES">
                        <explicit
                          name="assigned_security_classification">
                          <typename
                            name="security_classification"/>
                        </explicit>
                        <derived
                          name="role"
                          expression="get_role (SELF)">
                          <typename
                            name="object_role"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1">
                        </where>
                      </entity>

                      <entity
                        name="security_classification_level">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                      </entity>

                      <entity
                        name="serial_numbered_effectivity"
                        supertypes="effectivity">
                        <explicit
                          name="effectivity_start_id">
                          <typename
                            name="identifier"/>
                        </explicit>
                        <explicit
                          name="effectivity_end_id"
                          optional="YES">
                          <typename
                            name="identifier"/>
                        </explicit>
                      </entity>

                      <entity
                        name="shape_aspect">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="of_shape">
                          <typename
                            name="product_definition_shape"/>
                        </explicit>
                        <explicit
                          name="product_definitional">
                          <builtintype
                            type="LOGICAL"/>
                        </explicit>
                        <derived
                          name="id"
                          expression="get_id_value (SELF)">
                          <typename
                            name="identifier"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1">
                        </where>
                      </entity>

                      <entity
                        name="shape_aspect_associativity"
                        supertypes="shape_aspect_relationship">
                        <where
                          label="WR1"
                          expression="SELF.relating_shape_aspect.product_definitional">
                        </where>
                        <where
                          label="WR2"
                          expression="NOT (SELF.related_shape_aspect.product_definitional)">
                        </where>
                        <where
                          label="WR3"
                          expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PROPERTY_DEFINITION.DEFINITION') | NOT (SIZEOF (QUERY (sdr &lt;* QUERY (pdr &lt;* USEDIN (pd,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_DEFINITION_REPRESENTATION' IN TYPEOF (pdr))) | NOT (SIZEOF (QUERY (it &lt;* sdr.used_representation.items | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE' IN TYPEOF(it)) AND(SIZEOF (QUERY (aco &lt;* USEDIN (it,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STYLED_ITEM.ITEM') | SIZEOF (TYPEOF (aco) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_CURVE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PROJECTION_CURVE']) = 1)) + SIZEOF (USEDIN (it, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'ANNOTATION_FILL_AREA.BOUNDARIES')) &gt;= 1))) = 1))) = 0))) = 0">
                        </where>
                        <where
                          label="WR4"
                          expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PROPERTY_DEFINITION.DEFINITION') | NOT (SIZEOF (QUERY (sdr &lt;* QUERY (pdr &lt;* USEDIN (pd,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_DEFINITION_REPRESENTATION' IN TYPEOF (pdr))) | NOT (check_associative_shape_aspects(sdr)))) = 0))) = 0">
                        </where>
                      </entity>

                      <entity
                        name="shape_aspect_deriving_relationship"
                        supertypes="shape_aspect_relationship">
                        <where
                          label="WR1"
                          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DERIVED_SHAPE_ASPECT' IN TYPEOF(SELF\SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT)">
                        </where>
                      </entity>

                      <entity
                        name="shape_aspect_relationship">
                        <explicit
                          name="name">
                          <typename
                            name="label"/>
                        </explicit>
                        <explicit
                          name="description"
                          optional="YES">
                          <typename
                            name="text"/>
                        </explicit>
                        <explicit
                          name="relating_shape_aspect">
                          <typename
                            name="shape_aspect"/>
                        </explicit>
                        <explicit
                          name="related_shape_aspect">
                          <typename
                            name="shape_aspect"/>
                        </explicit>
                        <derived
                          name="id"
                          expression="get_id_value (SELF)">
                          <typename
                            name="identifier"/>
                        </derived>
                        <where
                          label="WR1"
                          expression="SIZEOF (USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1">
                        </where>
                      </entity>

                      <entity
                        name="shape_definition_representation"
                        supertypes="property_definition_representation">
                        <where
                          label="WR1"
                          expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT_DEFINITION_SHAPE' IN TYPEOF (SELF.definition)) OR ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_DEFINITION' IN TYPEOF (SELF.definition.definition))">
                        </where>
                        <where
                          label="WR2"
                          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_REPRESENTATION' IN TYPEOF(SELF.used_representation)">
                        </where>
                      </entity>

                      <entity
                        name="shape_dimension_representation"
                        supertypes="shape_representation">
                        <where
                          label="WR1"
                          expression="SIZEOF (QUERY (temp &lt;* SELF\representation.items | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF (temp)))) = 0">
                        </where>
                        <where
                          label="WR2"
                          expression="SIZEOF (SELF\representation.items) &lt;= 3">
                        </where>
                        <where
                          label="WR3"
                          expression="SIZEOF (QUERY (pos_mri &lt;* QUERY (real_mri &lt;* SELF\representation.items | 'REAL' IN TYPEOF(real_mri\measure_with_unit.value_component)) | NOT (pos_mri\measure_with_unit.value_component &gt; 0.0))) = 0">
                        </where>
                      </entity>

                      <entity
                        name="shape_representation"
                        supertypes="representation">
                      </entity>

                      <entity
                        name="shape_representation_relationship"
                        supertypes="representation_relationship">
                        <where
                          label="WR1"
                          expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_REPRESENTATION' IN (TYPEOF(SELF\representation_relationship.rep_1) + TYPEOF(SELF\representation_relationship.rep_2))">
                        </where>
                      </entity>

                      <entity
                        name="shape_representation_with_parameters"
                        supertypes="shape_representation">
                        <where
                          label="WR1"
                          expression="SIZEOF(QUERY(i &lt;* SELF.items | SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PLACEMENT', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DESCRIPTIVE_REPRESENTATION_ITEM'] * TYPEOF(i)) = 1)) = SIZEOF(SELF.items)">
                        </where>
                      </entity>

                      <entity
                        name="shell_based_surface_model"
                        supertypes="geometric_representation_item">
                        <explicit
                          name="sbsm_boundary">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="shell"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="constraints_geometry_shell_based_surface_model(SELF)">
                        </where>
                      </entity>

                      <entity
                        name="shell_based_wireframe_model"
                        supertypes="geometric_representation_item">
                        <explicit
                          name="sbwm_boundary">
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="shell"/>
                        </explicit>
                        <where
                          label="WR1"
                          expression="constraints_geometry_shell_based_wireframe_model(SELF)">
                        </where>
                      </entity>

                      <entity
                        name="shell_based_wireframe_shape_representation"
                        supertypes="shape_representation">
                        <where
                          label="WR1"
                          expression="SIZEOF (QUERY (it &lt;* SELF.items| NOT (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT_3D' ] * TYPEOF (it)) = 1))) = 0">
                        </where>
                        <where
                          label="WR2"
                          expression="SIZEOF (QUERY (it &lt;* SELF.items| (SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' ] * TYPEOF (it)) = 1))) &gt;= 1">
                        </where>
                        <where
                          label="WR3"
                          expression="SIZEOF (QUERY (sbwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (ws &lt;* QUERY (sb &lt;* sbwm\shell_based_wireframe_model.sbwm_boundary| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.WIRE_SHELL' IN TYPEOF (sb)))| NOT (SIZEOF (QUERY (eloop &lt;* QUERY (wsb &lt;* ws\wire_shell.wire_shell_extent| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (wsb)))| NOT (SIZEOF (QUERY (el &lt;* eloop\path.edge_list| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_CURVE' IN TYPEOF (el.edge_element)))) = 0))) = 0))) = 0))) = 0">
                        </where>
                        <where
                          label="WR4"
                          expression="SIZEOF (QUERY (sbwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (ws &lt;* QUERY (sb &lt;* sbwm\shell_based_wireframe_model.sbwm_boundary| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.WIRE_SHELL' IN TYPEOF (sb)))| NOT (SIZEOF (QUERY (eloop &lt;* QUERY (wsb &lt;* ws\wire_shell.wire_shell_extent| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (wsb)))| NOT (SIZEOF (QUERY (pline_el &lt;* QUERY (el &lt;* eloop\path.edge_list| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' IN TYPEOF (el.edge_element\edge_curve.edge_geometry)))| NOT (SIZEOF (pline_el.edge_element\edge_curve.edge_geometry\polyline.points) &gt; 2))) = 0))) = 0))) = 0))) = 0">
                        </where>
                        <where
                          label="WR5"
                          expression="SIZEOF (QUERY (sbwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (ws &lt;* QUERY (sb &lt;* sbwm\shell_based_wireframe_model.sbwm_boundary| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.WIRE_SHELL' IN TYPEOF (sb)))| NOT (SIZEOF (QUERY (eloop &lt;* QUERY (wsb &lt;* ws\wire_shell.wire_shell_extent| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (wsb)))| NOT (SIZEOF (QUERY (el &lt;* eloop\path.edge_list| NOT valid_wireframe_edge_curve(el.edge_element\edge_curve.edge_geometry))) = 0))) = 0))) = 0))) = 0">
                        </where>
                        <where
                          label="WR6"
                          expression="SIZEOF (QUERY (sbwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (ws &lt;* QUERY (sb &lt;* sbwm\shell_based_wireframe_model.sbwm_boundary| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.WIRE_SHELL' IN TYPEOF (sb)))| NOT (SIZEOF (QUERY (eloop &lt;* QUERY (wsb &lt;* ws\wire_shell.wire_shell_extent| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (wsb)))| NOT (SIZEOF (QUERY (el &lt;* eloop\path.edge_list| NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (el.edge_element.edge_start)) AND ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (el.edge_element.edge_end))))) = 0))) = 0))) = 0))) = 0">
                        </where>
                        <where
                          label="WR7"
                          expression="SIZEOF (QUERY (sbwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (ws &lt;* QUERY (sb &lt;* sbwm\shell_based_wireframe_model.sbwm_boundary| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.WIRE_SHELL' IN TYPEOF (sb)))| NOT (SIZEOF (QUERY (eloop &lt;* QUERY (wsb &lt;* ws\wire_shell.wire_shell_extent| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE_LOOP' IN TYPEOF (wsb)))| NOT (SIZEOF (QUERY (el &lt;* eloop\path.edge_list| NOT (valid_wireframe_vertex_point(el.edge_element.edge_start\vertex_point.vertex_geometry) AND valid_wireframe_vertex_point(el.edge_element.edge_end\vertex_point.vertex_geometry)))) = 0))) = 0))) = 0))) = 0">
                        </where>
                        <where
                          label="WR8"
                          expression="SIZEOF (QUERY (sbwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (ws &lt;* QUERY (sb &lt;* sbwm\shell_based_wireframe_model.sbwm_boundary| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.WIRE_SHELL' IN TYPEOF (sb)))| NOT (SIZEOF (QUERY (vloop &lt;* QUERY (wsb &lt;* ws\wire_shell.wire_shell_extent| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_LOOP' IN TYPEOF (wsb)))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (vloop\vertex_loop.loop_vertex)))) = 0))) = 0))) = 0">
                        </where>
                        <where
                          label="WR9"
                          expression="SIZEOF (QUERY (sbwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (ws &lt;* QUERY (sb &lt;* sbwm\shell_based_wireframe_model.sbwm_boundary| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.WIRE_SHELL' IN TYPEOF (sb)))| NOT (SIZEOF (QUERY (vloop &lt;* QUERY (wsb &lt;* ws\wire_shell.wire_shell_extent| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_LOOP' IN TYPEOF (wsb)))| NOT valid_wireframe_vertex_point(vloop\vertex_loop.loop_vertex\vertex_point.vertex_geometry))) = 0))) = 0))) = 0">
                        </where>
                        <where
                          label="WR10"
                          expression="SIZEOF (QUERY (sbwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (vs &lt;* QUERY (sb &lt;* sbwm\shell_based_wireframe_model.sbwm_boundary| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_SHELL' IN TYPEOF (sb)))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_POINT' IN TYPEOF (vs\vertex_shell.vertex_shell_extent.loop_vertex)))) = 0))) = 0">
                        </where>
                        <where
                          label="WR11"
                          expression="SIZEOF (QUERY (sbwm &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL_BASED_WIREFRAME_MODEL' IN TYPEOF (it)))| NOT (SIZEOF (QUERY (vs &lt;* QUERY (sb &lt;* sbwm\shell_based_wireframe_model.sbwm_boundary| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_SHELL' IN TYPEOF (sb)))| NOT valid_wireframe_vertex_point(vs\vertex_shell.vertex_shell_extent.loop_vertex\vertex_point.vertex_geometry))) = 0))) = 0">
                        </where>
                        <where
                          label="WR12"
                          expression="SIZEOF (QUERY (mi &lt;* QUERY (it &lt;* SELF.items| ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF (it)))| NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'SHELL_BASED_WIREFRAME_SHAPE_REPRESENTATION' IN TYPEOF (mi\mapped_item.mapping_source.mapped_representation)))) = 0">
                        </where>
                        <where
                          label="WR13"
                          expression="SELF.context_of_items\geometric_representation_context.coordinate_space_dimension = 3">
                        </where>
                      </entity>

                      <entity
                        name="si_unit"
                        supertypes="named_unit">
                        <explicit
                          name="prefix"
                          optional="YES">
                          <typename
                            name="si_prefix"/>
                        </explicit>
                        <explicit
                          name="name">
                          <typename
                            name="si_unit_name"/>
                        </explicit>
                        <derived
                          name="dimensions"
                          expression="dimensions_for_si_unit (name)">
                          <typename
                            name="dimensional_exponents"/>
                          <redeclaration
                            entity-ref="named_unit"/>
                          </derived>
                        </entity>

                        <entity
                          name="solid_angle_measure_with_unit"
                          supertypes="measure_with_unit">
                          <where
                            label="WR1"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SOLID_ANGLE_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
                          </where>
                        </entity>

                        <entity
                          name="solid_angle_unit"
                          supertypes="named_unit">
                          <where
                            label="WR1"
                            expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
                          </where>
                        </entity>

                        <entity
                          name="solid_model"
                          super.expression="(ONEOF ( CSG_SOLID, MANIFOLD_SOLID_BREP, SWEPT_FACE_SOLID, SOLID_REPLICA))"
                          supertypes="geometric_representation_item">
                        </entity>

                        <entity
                          name="solid_replica"
                          supertypes="solid_model">
                          <explicit
                            name="parent_solid">
                            <typename
                              name="solid_model"/>
                          </explicit>
                          <explicit
                            name="transformation">
                            <typename
                              name="cartesian_transformation_operator_3d"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="acyclic_solid_replica(SELF, parent_solid)">
                          </where>
                          <where
                            label="WR2"
                            expression="parent_solid\geometric_representation_item.dim = 3">
                          </where>
                        </entity>

                        <entity
                          name="specified_higher_usage_occurrence"
                          supertypes="assembly_component_usage">
                          <explicit
                            name="upper_usage">
                            <typename
                              name="assembly_component_usage"/>
                          </explicit>
                          <explicit
                            name="next_usage">
                            <typename
                              name="next_assembly_usage_occurrence"/>
                          </explicit>
                          <unique
                            label="UR1">
                            <unique.attribute
                              attribute="upper_usage"/>
                            <unique.attribute
                              attribute="next_usage"/>
                          </unique>
                          <where
                            label="WR1"
                            expression="SELF :&lt;&gt;: upper_usage">
                          </where>
                          <where
                            label="WR2"
                            expression="SELF\product_definition_relationship.relating_product_definition:=: upper_usage.relating_product_definition">
                          </where>
                          <where
                            label="WR3"
                            expression="SELF\product_definition_relationship.related_product_definition:=: next_usage.related_product_definition">
                          </where>
                          <where
                            label="WR4"
                            expression="(upper_usage.related_product_definition :=: next_usage.relating_product_definition) OR(SIZEOF (QUERY (pdr &lt;* USEDIN (upper_usage.related_product_definition,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRODUCT_DEFINITION_RELATIONSHIP.' +'RELATED_PRODUCT_DEFINITION') | pdr.relating_product_definition :=: next_usage.relating_product_definition)) = 1)">
                          </where>
                          <where
                            label="WR5"
                            expression="SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.NEXT_ASSEMBLY_USAGE_OCCURRENCE','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SPECIFIED_HIGHER_USAGE_OCCURRENCE']* TYPEOF(upper_usage)) = 1">
                          </where>
                        </entity>

                        <entity
                          name="sphere"
                          supertypes="geometric_representation_item">
                          <explicit
                            name="radius">
                            <typename
                              name="positive_length_measure"/>
                          </explicit>
                          <explicit
                            name="centre">
                            <typename
                              name="point"/>
                          </explicit>
                        </entity>

                        <entity
                          name="spherical_surface"
                          supertypes="elementary_surface">
                          <explicit
                            name="radius">
                            <typename
                              name="positive_length_measure"/>
                          </explicit>
                        </entity>

                        <entity
                          name="standard_uncertainty"
                          supertypes="uncertainty_qualifier">
                          <explicit
                            name="uncertainty_value">
                            <builtintype
                              type="REAL"/>
                          </explicit>
                        </entity>

                        <entity
                          name="straightness_tolerance"
                          supertypes="geometric_tolerance">
                          <where
                            label="WR1"
                            expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF))">
                          </where>
                        </entity>

                        <entity
                          name="structured_dimension_callout"
                          supertypes="draughting_callout">
                          <where
                            label="WR1"
                            expression="SIZEOF (TYPEOF (SELF) *['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DATUM_FEATURE_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DATUM_TARGET_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GEOMETRICAL_TOLERANCE_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LEADER_DIRECTED_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PROJECTION_DIRECTED_CALLOUT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIMENSION_CURVE_DIRECTED_CALLOUT']) = 0">
                          </where>
                          <where
                            label="WR2"
                            expression="SIZEOF (QUERY (ato &lt;* QUERY (con &lt;* SELF.contents |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (con))) | NOT (ato.name IN['dimension value', 'tolerance value', 'unit text','prefix text', 'suffix text']))) = 0">
                          </where>
                          <where
                            label="WR3"
                            expression="SIZEOF (QUERY (ato &lt;* QUERY (con &lt;* SELF.contents |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (con))) |(ato.name = 'dimension value'))) &gt;= 1">
                          </where>
                          <where
                            label="WR4"
                            expression="SIZEOF (QUERY (dcr &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_CALLOUT_RELATIONSHIP.' +'RELATING_DRAUGHTING_CALLOUT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DIMENSION_CALLOUT_COMPONENT_RELATIONSHIP' IN TYPEOF (dcr)) AND(dcr.name = 'prefix'))) &lt;= 1">
                          </where>
                          <where
                            label="WR5"
                            expression="SIZEOF (QUERY (dcr &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_CALLOUT_RELATIONSHIP.' +'RELATING_DRAUGHTING_CALLOUT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DIMENSION_CALLOUT_COMPONENT_RELATIONSHIP' IN TYPEOF (dcr)) AND(dcr.name = 'suffix'))) &lt;= 1">
                          </where>
                          <where
                            label="WR6"
                            expression="NOT((SIZEOF (QUERY (ato &lt;* QUERY (con &lt;* SELF.contents |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF(con))) |(ato.name = 'prefix text'))) &gt; 0)) OR(SIZEOF (QUERY (dcr &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_CALLOUT_RELATIONSHIP.' +'RELATING_DRAUGHTING_CALLOUT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DIMENSION_CALLOUT_COMPONENT_RELATIONSHIP' IN TYPEOF (dcr)) AND(dcr.name = 'prefix'))) = 1)">
                          </where>
                          <where
                            label="WR7"
                            expression="NOT(SIZEOF (QUERY (ato &lt;* QUERY (con &lt;* SELF.contents |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF(con))) |(ato.name = 'suffix text'))) &gt; 0) OR(SIZEOF (QUERY (dcr &lt;* USEDIN (SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DRAUGHTING_CALLOUT_RELATIONSHIP.' +'RELATING_DRAUGHTING_CALLOUT') |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'DIMENSION_CALLOUT_COMPONENT_RELATIONSHIP' IN TYPEOF (dcr)) AND(dcr.name = 'suffix'))) = 1)">
                          </where>
                        </entity>

                        <entity
                          name="styled_item"
                          supertypes="representation_item">
                          <explicit
                            name="styles">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="?"/>
                            <typename
                              name="presentation_style_assignment"/>
                          </explicit>
                          <explicit
                            name="item">
                            <typename
                              name="representation_item"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="(SIZEOF(SELF.styles) = 1) XOR(SIZEOF(QUERY(pres_style &lt;* SELF.styles | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'PRESENTATION_STYLE_BY_CONTEXT' IN TYPEOF(pres_style)))) = 0)">
                          </where>
                        </entity>

                        <entity
                          name="surface"
                          super.expression="(ONEOF ( ELEMENTARY_SURFACE, SWEPT_SURFACE, BOUNDED_SURFACE, OFFSET_SURFACE, SURFACE_REPLICA))"
                          supertypes="geometric_representation_item">
                        </entity>

                        <entity
                          name="surface_curve"
                          super.expression="(ONEOF ( INTERSECTION_CURVE, SEAM_CURVE) ANDOR BOUNDED_SURFACE_CURVE)"
                          supertypes="curve">
                          <explicit
                            name="curve_3d">
                            <typename
                              name="curve"/>
                          </explicit>
                          <explicit
                            name="associated_geometry">
                            <aggregate
                              type="LIST"
                              lower="1"
                              upper="2"/>
                            <typename
                              name="pcurve_or_surface"/>
                          </explicit>
                          <explicit
                            name="master_representation">
                            <typename
                              name="preferred_surface_curve_representation"/>
                          </explicit>
                          <derived
                            name="basis_surface"
                            expression="get_basis_surface(SELF)">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="2"/>
                            <typename
                              name="surface"/>
                          </derived>
                          <where
                            label="WR1"
                            expression="curve_3d.dim = 3">
                          </where>
                          <where
                            label="WR2"
                            expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF(associated_geometry[1])) OR(master_representation &lt;&gt; pcurve_s1)">
                          </where>
                          <where
                            label="WR3"
                            expression="('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF(associated_geometry[2])) OR(master_representation &lt;&gt; pcurve_s2)">
                          </where>
                          <where
                            label="WR4"
                            expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF(curve_3d))">
                          </where>
                        </entity>

                        <entity
                          name="surface_of_linear_extrusion"
                          supertypes="swept_surface">
                          <explicit
                            name="extrusion_axis">
                            <typename
                              name="vector"/>
                          </explicit>
                        </entity>

                        <entity
                          name="surface_of_revolution"
                          supertypes="swept_surface">
                          <explicit
                            name="axis_position">
                            <typename
                              name="axis1_placement"/>
                          </explicit>
                          <derived
                            name="axis_line"
                            expression="representation_item('')|| geometric_representation_item()|| curve()|| line(axis_position.location, representation_item('')|| geometric_representation_item()|| vector(axis_position.z, 1.0))">
                            <typename
                              name="line"/>
                          </derived>
                        </entity>

                        <entity
                          name="surface_patch"
                          supertypes="founded_item">
                          <explicit
                            name="parent_surface">
                            <typename
                              name="bounded_surface"/>
                          </explicit>
                          <explicit
                            name="u_transition">
                            <typename
                              name="transition_code"/>
                          </explicit>
                          <explicit
                            name="v_transition">
                            <typename
                              name="transition_code"/>
                          </explicit>
                          <explicit
                            name="u_sense">
                            <builtintype
                              type="BOOLEAN"/>
                          </explicit>
                          <explicit
                            name="v_sense">
                            <builtintype
                              type="BOOLEAN"/>
                          </explicit>
                          <inverse
                            name="using_surfaces"
                            entity="rectangular_composite_surface"
                            attribute="segments">
                            <inverse.aggregate
                              type="BAG"
                              lower="1"
                              upper="?"/>
                          </inverse>
                          <where
                            label="WR1"
                            expression="(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_BOUNDED_SURFACE' IN TYPEOF(parent_surface)))">
                          </where>
                        </entity>

                        <entity
                          name="surface_profile_tolerance"
                          supertypes="geometric_tolerance">
                          <where
                            label="WR1"
                            expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF)) OR (SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3)">
                          </where>
                        </entity>

                        <entity
                          name="surface_replica"
                          supertypes="surface">
                          <explicit
                            name="parent_surface">
                            <typename
                              name="surface"/>
                          </explicit>
                          <explicit
                            name="transformation">
                            <typename
                              name="cartesian_transformation_operator_3d"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="acyclic_surface_replica(SELF, parent_surface)">
                          </where>
                        </entity>

                        <entity
                          name="surface_side_style">
                          <explicit
                            name="name">
                            <typename
                              name="label"/>
                          </explicit>
                          <explicit
                            name="styles">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="7"/>
                            <typename
                              name="surface_style_element_select"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="SIZEOF(QUERY(style1 &lt;* SELF.styles | SIZEOF(QUERY(style2 &lt;* SELF.styles - style1 | TYPEOF(style1) = TYPEOF(style2))) &gt; 0)) = 0">
                          </where>
                        </entity>

                        <entity
                          name="surface_style_boundary">
                          <explicit
                            name="style_of_boundary">
                            <typename
                              name="curve_or_render"/>
                          </explicit>
                        </entity>

                        <entity
                          name="surface_style_control_grid">
                          <explicit
                            name="style_of_control_grid">
                            <typename
                              name="curve_or_render"/>
                          </explicit>
                        </entity>

                        <entity
                          name="surface_style_fill_area">
                          <explicit
                            name="fill_area">
                            <typename
                              name="fill_area_style"/>
                          </explicit>
                        </entity>

                        <entity
                          name="surface_style_parameter_line">
                          <explicit
                            name="style_of_parameter_lines">
                            <typename
                              name="curve_or_render"/>
                          </explicit>
                          <explicit
                            name="direction_counts">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="2"/>
                            <typename
                              name="direction_count_select"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="(HIINDEX(SELF.direction_counts) = 1) XOR(TYPEOF(SELF.direction_counts[1]) &lt;&gt; TYPEOF(SELF.direction_counts[2]))">
                          </where>
                        </entity>

                        <entity
                          name="surface_style_segmentation_curve">
                          <explicit
                            name="style_of_segmentation_curve">
                            <typename
                              name="curve_or_render"/>
                          </explicit>
                        </entity>

                        <entity
                          name="surface_style_silhouette">
                          <explicit
                            name="style_of_silhouette">
                            <typename
                              name="curve_or_render"/>
                          </explicit>
                        </entity>

                        <entity
                          name="surface_style_usage">
                          <explicit
                            name="side">
                            <typename
                              name="surface_side"/>
                          </explicit>
                          <explicit
                            name="style">
                            <typename
                              name="surface_side_style_select"/>
                          </explicit>
                        </entity>

                        <entity
                          name="swept_face_solid"
                          super.expression="(ONEOF ( EXTRUDED_FACE_SOLID, REVOLVED_FACE_SOLID))"
                          supertypes="solid_model">
                          <explicit
                            name="swept_face">
                            <typename
                              name="face_surface"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PLANE' IN TYPEOF(swept_face.face_geometry)">
                          </where>
                        </entity>

                        <entity
                          name="swept_surface"
                          super.expression="(ONEOF ( SURFACE_OF_LINEAR_EXTRUSION, SURFACE_OF_REVOLUTION))"
                          supertypes="surface">
                          <explicit
                            name="swept_curve">
                            <typename
                              name="curve"/>
                          </explicit>
                        </entity>

                        <entity
                          name="symbol_colour">
                          <explicit
                            name="colour_of_symbol">
                            <typename
                              name="colour"/>
                          </explicit>
                        </entity>

                        <entity
                          name="symbol_representation"
                          supertypes="representation">
                        </entity>

                        <entity
                          name="symbol_representation_map"
                          supertypes="representation_map">
                          <where
                            label="WR1"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMBOL_REPRESENTATION' IN TYPEOF (SELF\representation_map.mapped_representation)">
                          </where>
                          <where
                            label="WR2"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT' IN TYPEOF (SELF\representation_map.mapping_origin)">
                          </where>
                        </entity>

                        <entity
                          name="symbol_representation_relationship"
                          supertypes="representation_relationship_with_transformation">
                          <where
                            label="WR1"
                            expression="acyclic_symbol_representation_relationship (SELF,[SELF\representation_relationship. rep_2])">
                          </where>
                          <where
                            label="WR2"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMBOL_REPRESENTATION' IN TYPEOF (SELF\representation_relationship.rep_1)">
                          </where>
                          <where
                            label="WR3"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMBOL_REPRESENTATION'IN TYPEOF (SELF\representation_relationship.rep_2)">
                          </where>
                        </entity>

                        <entity
                          name="symbol_representation_with_blanking_box"
                          supertypes="symbol_representation">
                          <explicit
                            name="blanking">
                            <typename
                              name="planar_box"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="item_in_context (SELF.blanking, SELF\representation.context_of_items)">
                          </where>
                        </entity>

                        <entity
                          name="symbol_style">
                          <explicit
                            name="name">
                            <typename
                              name="label"/>
                          </explicit>
                          <explicit
                            name="style_of_symbol">
                            <typename
                              name="symbol_style_select"/>
                          </explicit>
                        </entity>

                        <entity
                          name="symbol_target"
                          supertypes="geometric_representation_item">
                          <explicit
                            name="placement">
                            <typename
                              name="axis2_placement"/>
                          </explicit>
                          <explicit
                            name="x_scale">
                            <typename
                              name="positive_ratio_measure"/>
                          </explicit>
                          <explicit
                            name="y_scale">
                            <typename
                              name="positive_ratio_measure"/>
                          </explicit>
                        </entity>

                        <entity
                          name="symmetric_shape_aspect"
                          supertypes="shape_aspect">
                          <inverse
                            name="basis_relationships"
                            entity="shape_aspect_relationship"
                            attribute="relating_shape_aspect">
                            <inverse.aggregate
                              type="SET"
                              lower="1"
                              upper="?"/>
                          </inverse>
                          <where
                            label="WR1"
                            expression="SIZEOF (QUERY (x&lt;*SELF\symmetric_shape_aspect.basis_relationships |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CENTRE_OF_SYMMETRY' IN TYPEOF(x\shape_aspect_relationship.related_shape_aspect)))&gt;=1">
                          </where>
                        </entity>

                        <entity
                          name="symmetry_tolerance"
                          supertypes="geometric_tolerance_with_datum_reference">
                          <where
                            label="WR1"
                            expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3">
                          </where>
                        </entity>

                        <entity
                          name="table_record_field_representation"
                          supertypes="symbol_representation">
                          <where
                            label="WR1"
                            expression="(SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'REPRESENTATION_RELATIONSHIP.REP_2')) &gt; 0) OR(SIZEOF(QUERY(map_item &lt;* USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'REPRESENTATION_MAP.'+'MAPPED_REPRESENTATION') | SIZEOF(QUERY(mi &lt;* USEDIN(map_item, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'MAPPED_ITEM.'+'MAPPING_SOURCE') |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'TABLE_RECORD_REPRESENTATION' IN TYPEOF (using_representations (mi)))) &gt; 0))&gt; 0)">
                          </where>
                        </entity>

                        <entity
                          name="table_record_field_representation_with_clipping_box"
                          supertypes="table_record_field_representation">
                          <explicit
                            name="clipping_box">
                            <typename
                              name="planar_box"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="item_in_context (SELF.clipping_box, SELF\representation.context_of_items)">
                          </where>
                        </entity>

                        <entity
                          name="table_record_representation"
                          supertypes="symbol_representation">
                          <where
                            label="WR1"
                            expression="(SIZEOF(USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'REPRESENTATION_RELATIONSHIP.REP_2')) &gt; 0) OR(SIZEOF(QUERY(map_item &lt;* USEDIN(SELF, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'REPRESENTATION_MAP.'+'MAPPED_REPRESENTATION') | SIZEOF(QUERY(mi &lt;* USEDIN(map_item, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'MAPPED_ITEM.'+'MAPPING_SOURCE') |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+'TABLE_REPRESENTATION' IN TYPEOF (using_representations (mi)))) &gt; 0))&gt; 0)">
                          </where>
                        </entity>

                        <entity
                          name="table_representation"
                          supertypes="symbol_representation">
                        </entity>

                        <entity
                          name="table_representation_relationship"
                          supertypes="symbol_representation_relationship">
                          <where
                            label="WR1"
                            expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TABLE_RECORD_REPRESENTATION' IN TYPEOF (SELF\representation_relationship.rep_1)) XOR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TABLE_RECORD_FIELD_REPRESENTATION' IN TYPEOF (SELF\representation_relationship.rep_2))">
                          </where>
                          <where
                            label="WR2"
                            expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TABLE_REPRESENTATION' IN TYPEOF (SELF\representation_relationship.rep_1)) XOR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TABLE_RECORD_REPRESENTATION' IN TYPEOF (SELF\representation_relationship.rep_2))">
                          </where>
                          <where
                            label="WR3"
                            expression="NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TABLE_RECORD_FIELD_REPRESENTATION' IN TYPEOF (SELF\representation_relationship.rep_1)) XOR('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TABLE_RECORD_FIELD_REPRESENTATION' IN TYPEOF (SELF\representation_relationship.rep_2))">
                          </where>
                        </entity>

                        <entity
                          name="table_text_relationship"
                          supertypes="annotation_occurrence_relationship">
                          <explicit
                            name="field">
                            <typename
                              name="table_record_field_representation"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TABLE_OCCURRENCE' IN TYPEOF (SELF\annotation_occurrence_relationship. relating_annotation_occurrence)">
                          </where>
                          <where
                            label="WR2"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TABLE' IN TYPEOF (SELF\annotation_occurrence_relationship. relating_annotation_occurrence\styled_item.item)">
                          </where>
                          <where
                            label="WR3"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_OCCURRENCE' IN TYPEOF (SELF\annotation_occurrence_relationship. related_annotation_occurrence)">
                          </where>
                          <where
                            label="WR4"
                            expression="field_in_table (SELF.field, SELF\annotation_occurrence_relationship. relating_annotation_occurrence)">
                          </where>
                        </entity>

                        <entity
                          name="tangent"
                          supertypes="derived_shape_aspect">
                          <where
                            label="WR1"
                            expression="SIZEOF (SELF\derived_shape_aspect.deriving_relationships)= 1">
                          </where>
                        </entity>

                        <entity
                          name="terminator_symbol"
                          supertypes="annotation_symbol_occurrence">
                          <explicit
                            name="annotated_curve">
                            <typename
                              name="annotation_curve_occurrence"/>
                          </explicit>
                        </entity>

                        <entity
                          name="text_literal"
                          supertypes="geometric_representation_item">
                          <explicit
                            name="literal">
                            <typename
                              name="presentable_text"/>
                          </explicit>
                          <explicit
                            name="placement">
                            <typename
                              name="axis2_placement"/>
                          </explicit>
                          <explicit
                            name="alignment">
                            <typename
                              name="text_alignment"/>
                          </explicit>
                          <explicit
                            name="path">
                            <typename
                              name="text_path"/>
                          </explicit>
                          <explicit
                            name="font">
                            <typename
                              name="font_select"/>
                          </explicit>
                        </entity>

                        <entity
                          name="text_literal_with_associated_curves"
                          supertypes="text_literal">
                          <explicit
                            name="associated_curves">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="?"/>
                            <typename
                              name="curve"/>
                          </explicit>
                        </entity>

                        <entity
                          name="text_literal_with_blanking_box"
                          supertypes="text_literal">
                          <explicit
                            name="blanking">
                            <typename
                              name="planar_box"/>
                          </explicit>
                        </entity>

                        <entity
                          name="text_literal_with_delineation"
                          supertypes="text_literal">
                          <explicit
                            name="delineation">
                            <typename
                              name="text_delineation"/>
                          </explicit>
                        </entity>

                        <entity
                          name="text_literal_with_extent"
                          supertypes="text_literal">
                          <explicit
                            name="extent">
                            <typename
                              name="planar_extent"/>
                          </explicit>
                        </entity>

                        <entity
                          name="text_string_representation"
                          supertypes="representation">
                          <where
                            label="WR1"
                            expression="SIZEOF (QUERY (item &lt;* SELF\representation.items | SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_CHARACTER','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEFINED_CHARACTER_GLYPH','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT'] * TYPEOF (item)) = 0)) = 0">
                          </where>
                          <where
                            label="WR2"
                            expression="SIZEOF (QUERY (item &lt;* SELF\representation.items | NOT (SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT_CHARACTER','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEFINED_CHARACTER_GLYPH','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT'] * TYPEOF (item)) = 0))) &gt;= 1">
                          </where>
                          <where
                            label="WR3"
                            expression="SIZEOF (QUERY (a2p &lt;* QUERY (item &lt;* SELF\representation.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AXIS2_PLACEMENT' IN TYPEOF (item)) | NOT ((SIZEOF (QUERY (at &lt;* QUERY (item &lt;* SELF\representation.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'ANNOTATION_TEXT' IN TYPEOF (item)) |(at\mapped_item.mapping_target :=: a2p))) &gt;= 1) OR(SIZEOF (QUERY (atc &lt;* QUERY (item &lt;* SELF\representation.items |'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +'ANNOTATION_TEXT_CHARACTER' IN TYPEOF (item)) |(atc\mapped_item.mapping_target :=: a2p))) &gt;= 1)))) = 0">
                          </where>
                        </entity>

                        <entity
                          name="text_style">
                          <explicit
                            name="name">
                            <typename
                              name="label"/>
                          </explicit>
                          <explicit
                            name="character_appearance">
                            <typename
                              name="character_style_select"/>
                          </explicit>
                        </entity>

                        <entity
                          name="text_style_for_defined_font">
                          <explicit
                            name="text_colour">
                            <typename
                              name="colour"/>
                          </explicit>
                        </entity>

                        <entity
                          name="text_style_with_box_characteristics"
                          supertypes="text_style">
                          <explicit
                            name="characteristics">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="4"/>
                            <typename
                              name="box_characteristic_select"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="SIZEOF(QUERY(c1 &lt;* SELF.characteristics | SIZEOF(QUERY(c2 &lt;* SELF.characteristics - c1 | TYPEOF (c1) = TYPEOF (c2))) &gt; 0)) = 0">
                          </where>
                        </entity>

                        <entity
                          name="text_style_with_mirror"
                          supertypes="text_style">
                          <explicit
                            name="mirror_placement">
                            <typename
                              name="axis2_placement"/>
                          </explicit>
                        </entity>

                        <entity
                          name="text_style_with_spacing"
                          supertypes="text_style">
                          <explicit
                            name="character_spacing">
                            <typename
                              name="character_spacing_select"/>
                          </explicit>
                        </entity>

                        <entity
                          name="thermodynamic_temperature_measure_with_unit"
                          supertypes="measure_with_unit">
                          <where
                            label="WR1"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.THERMODYNAMIC_TEMPERATURE_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
                          </where>
                        </entity>

                        <entity
                          name="thermodynamic_temperature_unit"
                          supertypes="named_unit">
                          <where
                            label="WR1"
                            expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 1.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
                          </where>
                        </entity>

                        <entity
                          name="time_interval">
                          <explicit
                            name="id">
                            <typename
                              name="identifier"/>
                          </explicit>
                          <explicit
                            name="name">
                            <typename
                              name="label"/>
                          </explicit>
                          <explicit
                            name="description"
                            optional="YES">
                            <typename
                              name="text"/>
                          </explicit>
                        </entity>

                        <entity
                          name="time_interval_based_effectivity"
                          supertypes="effectivity">
                          <explicit
                            name="effectivity_period">
                            <typename
                              name="time_interval"/>
                          </explicit>
                        </entity>

                        <entity
                          name="time_interval_relationship">
                          <explicit
                            name="name">
                            <typename
                              name="label"/>
                          </explicit>
                          <explicit
                            name="description"
                            optional="YES">
                            <typename
                              name="text"/>
                          </explicit>
                          <explicit
                            name="relating_time_interval">
                            <typename
                              name="time_interval"/>
                          </explicit>
                          <explicit
                            name="related_time_interval">
                            <typename
                              name="time_interval"/>
                          </explicit>
                        </entity>

                        <entity
                          name="time_interval_with_bounds"
                          supertypes="time_interval">
                          <explicit
                            name="primary_bound"
                            optional="YES">
                            <typename
                              name="date_time_or_event_occurrence"/>
                          </explicit>
                          <explicit
                            name="secondary_bound"
                            optional="YES">
                            <typename
                              name="date_time_or_event_occurrence"/>
                          </explicit>
                          <explicit
                            name="duration"
                            optional="YES">
                            <typename
                              name="time_measure_with_unit"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="NOT (EXISTS(secondary_bound) AND EXISTS(duration))">
                          </where>
                          <where
                            label="WR2"
                            expression="EXISTS(primary_bound) OR EXISTS(secondary_bound)">
                          </where>
                        </entity>

                        <entity
                          name="time_measure_with_unit"
                          supertypes="measure_with_unit">
                          <where
                            label="WR1"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TIME_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
                          </where>
                        </entity>

                        <entity
                          name="time_unit"
                          supertypes="named_unit">
                          <where
                            label="WR1"
                            expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit.dimensions.time_exponent = 1.0) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.0)">
                          </where>
                        </entity>

                        <entity
                          name="tolerance_value">
                          <explicit
                            name="lower_bound">
                            <typename
                              name="measure_with_unit"/>
                          </explicit>
                          <explicit
                            name="upper_bound">
                            <typename
                              name="measure_with_unit"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="upper_bound\measure_with_unit.value_component &gt; lower_bound\measure_with_unit.value_component">
                          </where>
                          <where
                            label="WR2"
                            expression="upper_bound\measure_with_unit.unit_component = lower_bound\measure_with_unit.unit_component">
                          </where>
                        </entity>

                        <entity
                          name="tolerance_zone"
                          supertypes="shape_aspect">
                          <explicit
                            name="defining_tolerance">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="?"/>
                            <typename
                              name="geometric_tolerance"/>
                          </explicit>
                          <explicit
                            name="form">
                            <typename
                              name="tolerance_zone_form"/>
                          </explicit>
                        </entity>

                        <entity
                          name="tolerance_zone_definition"
                          super.expression="(ONEOF ( PROJECTED_ZONE_DEFINITION, RUNOUT_ZONE_DEFINITION))">
                          <explicit
                            name="zone">
                            <typename
                              name="tolerance_zone"/>
                          </explicit>
                          <explicit
                            name="boundaries">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="?"/>
                            <typename
                              name="shape_aspect"/>
                          </explicit>
                        </entity>

                        <entity
                          name="tolerance_zone_form">
                          <explicit
                            name="name">
                            <typename
                              name="label"/>
                          </explicit>
                        </entity>

                        <entity
                          name="topological_representation_item"
                          super.expression="(ONEOF ( VERTEX, EDGE, FACE_BOUND, FACE, VERTEX_SHELL, WIRE_SHELL, CONNECTED_EDGE_SET, CONNECTED_FACE_SET,( LOOP ANDOR PATH)))"
                          supertypes="representation_item">
                        </entity>

                        <entity
                          name="toroidal_surface"
                          supertypes="elementary_surface">
                          <explicit
                            name="major_radius">
                            <typename
                              name="positive_length_measure"/>
                          </explicit>
                          <explicit
                            name="minor_radius">
                            <typename
                              name="positive_length_measure"/>
                          </explicit>
                        </entity>

                        <entity
                          name="torus"
                          supertypes="geometric_representation_item">
                          <explicit
                            name="position">
                            <typename
                              name="axis1_placement"/>
                          </explicit>
                          <explicit
                            name="major_radius">
                            <typename
                              name="positive_length_measure"/>
                          </explicit>
                          <explicit
                            name="minor_radius">
                            <typename
                              name="positive_length_measure"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="major_radius &gt; minor_radius">
                          </where>
                        </entity>

                        <entity
                          name="total_runout_tolerance"
                          supertypes="geometric_tolerance_with_datum_reference">
                          <where
                            label="WR1"
                            expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 2">
                          </where>
                        </entity>

                        <entity
                          name="trimmed_curve"
                          supertypes="bounded_curve">
                          <explicit
                            name="basis_curve">
                            <typename
                              name="curve"/>
                          </explicit>
                          <explicit
                            name="trim_1">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="2"/>
                            <typename
                              name="trimming_select"/>
                          </explicit>
                          <explicit
                            name="trim_2">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="2"/>
                            <typename
                              name="trimming_select"/>
                          </explicit>
                          <explicit
                            name="sense_agreement">
                            <builtintype
                              type="BOOLEAN"/>
                          </explicit>
                          <explicit
                            name="master_representation">
                            <typename
                              name="trimming_preference"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="(HIINDEX(trim_1) = 1) OR (TYPEOF(trim_1[1]) &lt;&gt; TYPEOF(trim_1[2]))">
                          </where>
                          <where
                            label="WR2"
                            expression="(HIINDEX(trim_2) = 1) OR (TYPEOF(trim_2[1]) &lt;&gt; TYPEOF(trim_2[2]))">
                          </where>
                        </entity>

                        <entity
                          name="two_direction_repeat_factor"
                          supertypes="one_direction_repeat_factor">
                          <explicit
                            name="second_repeat_factor">
                            <typename
                              name="vector"/>
                          </explicit>
                        </entity>

                        <entity
                          name="type_qualifier">
                          <explicit
                            name="name">
                            <typename
                              name="label"/>
                          </explicit>
                        </entity>

                        <entity
                          name="uncertainty_assigned_representation"
                          supertypes="representation">
                          <explicit
                            name="uncertainty">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="?"/>
                            <typename
                              name="uncertainty_measure_with_unit"/>
                          </explicit>
                        </entity>

                        <entity
                          name="uncertainty_measure_with_unit"
                          supertypes="measure_with_unit">
                          <explicit
                            name="name">
                            <typename
                              name="label"/>
                          </explicit>
                          <explicit
                            name="description"
                            optional="YES">
                            <typename
                              name="text"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="valid_measure_value (SELF\measure_with_unit.value_component)">
                          </where>
                        </entity>

                        <entity
                          name="uncertainty_qualifier">
                          <explicit
                            name="measure_name">
                            <typename
                              name="label"/>
                          </explicit>
                          <explicit
                            name="description">
                            <typename
                              name="text"/>
                          </explicit>
                        </entity>

                        <entity
                          name="uniform_curve"
                          supertypes="b_spline_curve">
                        </entity>

                        <entity
                          name="uniform_surface"
                          supertypes="b_spline_surface">
                        </entity>

                        <entity
                          name="user_defined_curve_font"
                          supertypes="curve_style_font mapped_item">
                        </entity>

                        <entity
                          name="user_defined_marker"
                          supertypes="mapped_item pre_defined_marker">
                        </entity>

                        <entity
                          name="user_defined_terminator_symbol"
                          supertypes="mapped_item pre_defined_symbol">
                        </entity>

                        <entity
                          name="value_range"
                          supertypes="compound_representation_item">
                          <where
                            label="WR1"
                            expression="('value_with_unit_mim.'+ 'SET_REPRESENTATION_ITEM' IN TYPEOF (item_element)) AND value_range_wr1 (item_element)">
                          </where>
                          <where
                            label="WR2"
                            expression="value_range_wr2 (item_element)">
                          </where>
                          <where
                            label="WR3"
                            expression="value_range_wr3 (item_element)">
                          </where>
                        </entity>

                        <entity
                          name="value_representation_item"
                          supertypes="representation_item">
                          <explicit
                            name="value_component">
                            <typename
                              name="measure_value"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="SIZEOF (QUERY (rep &lt;* using_representations (SELF) | NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.GLOBAL_UNIT_ASSIGNED_CONTEXT' IN TYPEOF (rep.context_of_items)))) = 0">
                          </where>
                        </entity>

                        <entity
                          name="vector"
                          supertypes="geometric_representation_item">
                          <explicit
                            name="orientation">
                            <typename
                              name="direction"/>
                          </explicit>
                          <explicit
                            name="magnitude">
                            <typename
                              name="length_measure"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="magnitude &gt;= 0.0">
                          </where>
                        </entity>

                        <entity
                          name="vector_style"
                          supertypes="curve_style pre_defined_terminator_symbol">
                        </entity>

                        <entity
                          name="versioned_action_request">
                          <explicit
                            name="id">
                            <typename
                              name="identifier"/>
                          </explicit>
                          <explicit
                            name="version">
                            <typename
                              name="label"/>
                          </explicit>
                          <explicit
                            name="purpose">
                            <typename
                              name="text"/>
                          </explicit>
                          <explicit
                            name="description"
                            optional="YES">
                            <typename
                              name="text"/>
                          </explicit>
                        </entity>

                        <entity
                          name="vertex"
                          supertypes="topological_representation_item">
                        </entity>

                        <entity
                          name="vertex_loop"
                          supertypes="loop">
                          <explicit
                            name="loop_vertex">
                            <typename
                              name="vertex"/>
                          </explicit>
                        </entity>

                        <entity
                          name="vertex_point"
                          supertypes="vertex geometric_representation_item">
                          <explicit
                            name="vertex_geometry">
                            <typename
                              name="point"/>
                          </explicit>
                        </entity>

                        <entity
                          name="vertex_shell"
                          supertypes="topological_representation_item">
                          <explicit
                            name="vertex_shell_extent">
                            <typename
                              name="vertex_loop"/>
                          </explicit>
                        </entity>

                        <entity
                          name="view_volume"
                          supertypes="founded_item">
                          <explicit
                            name="projection_type">
                            <typename
                              name="central_or_parallel"/>
                          </explicit>
                          <explicit
                            name="projection_point">
                            <typename
                              name="cartesian_point"/>
                          </explicit>
                          <explicit
                            name="view_plane_distance">
                            <typename
                              name="length_measure"/>
                          </explicit>
                          <explicit
                            name="front_plane_distance">
                            <typename
                              name="length_measure"/>
                          </explicit>
                          <explicit
                            name="front_plane_clipping">
                            <builtintype
                              type="BOOLEAN"/>
                          </explicit>
                          <explicit
                            name="back_plane_distance">
                            <typename
                              name="length_measure"/>
                          </explicit>
                          <explicit
                            name="back_plane_clipping">
                            <builtintype
                              type="BOOLEAN"/>
                          </explicit>
                          <explicit
                            name="view_volume_sides_clipping">
                            <builtintype
                              type="BOOLEAN"/>
                          </explicit>
                          <explicit
                            name="view_window">
                            <typename
                              name="planar_box"/>
                          </explicit>
                        </entity>

                        <entity
                          name="volume_measure_with_unit"
                          supertypes="measure_with_unit">
                          <where
                            label="WR1"
                            expression="'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VOLUME_UNIT' IN TYPEOF (SELF\measure_with_unit.unit_component)">
                          </where>
                        </entity>

                        <entity
                          name="volume_unit"
                          supertypes="named_unit">
                          <where
                            label="WR1"
                            expression="(SELF\named_unit.dimensions.length_exponent = 3.000000) AND (SELF\named_unit.dimensions.mass_exponent = 0.000000) AND (SELF\named_unit.dimensions.time_exponent = 0.000000) AND (SELF\named_unit.dimensions.electric_current_exponent = 0.000000) AND (SELF\named_unit.dimensions.thermodynamic_temperature_exponent = 0.000000) AND (SELF\named_unit.dimensions.amount_of_substance_exponent = 0.000000) AND (SELF\named_unit.dimensions.luminous_intensity_exponent = 0.000000)">
                          </where>
                        </entity>

                        <entity
                          name="wire_shell"
                          supertypes="topological_representation_item">
                          <explicit
                            name="wire_shell_extent">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="?"/>
                            <typename
                              name="loop"/>
                          </explicit>
                          <where
                            label="WR1"
                            expression="NOT mixed_loop_type_set(wire_shell_extent)">
                          </where>
                        </entity>

                        <function
                          name="acyclic_composite_text">
                          <parameter
                            name="start_composite">
                            <typename
                              name="composite_text"/>
                          </parameter>
                          <parameter
                            name="child_text">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="?"/>
                            <typename
                              name="T"/>
                          </parameter>
                          <builtintype
                            type="LOGICAL"/>
                          <algorithm>
LOCAL
i : INTEGER;
local_composite_text : SET [0:?] OF composite_text;
local_annotation_text : SET [0:?] OF annotation_text;
local_children : SET [0:?] OF text_or_character;
END_LOCAL;
local_composite_text := QUERY (child &lt;* child_text |
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT'
IN TYPEOF (child)));
IF (SIZEOF (local_composite_text) &gt; 0) THEN
REPEAT i := 1 TO HIINDEX (local_composite_text);
IF (start_composite :=: local_composite_text[i]) THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
END_IF;
local_children := child_text;
IF (SIZEOF (local_composite_text)) &gt; 0 THEN
REPEAT i := 1 TO HIINDEX (local_composite_text);
local_children := local_children +
local_composite_text[i].collected_text;
END_REPEAT;
END_IF;
local_annotation_text := QUERY (child &lt;* child_text |
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT'
IN TYPEOF (child)));
IF (SIZEOF (local_annotation_text) &gt; 0) THEN
REPEAT i := 1 TO HIINDEX (local_annotation_text);
local_children := local_children +
QUERY (item &lt;* local_annotation_text[i]\mapped_item.
mapping_source.mapped_representation.items |
SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANNOTATION_TEXT',
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_TEXT'] *
TYPEOF(item)) &gt; 0);
END_REPEAT;
END_IF;
IF (local_children :&lt;&gt;: child_text) THEN
RETURN (acyclic_composite_text (start_composite, local_children));
ELSE
RETURN (TRUE);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="acyclic_curve_replica">
                          <parameter
                            name="rep">
                            <typename
                              name="curve_replica"/>
                          </parameter>
                          <parameter
                            name="parent">
                            <typename
                              name="curve"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_REPLICA') IN TYPEOF(parent)) THEN
RETURN (TRUE);
END_IF;
IF (parent :=: rep) THEN
RETURN (FALSE);
ELSE
RETURN(acyclic_curve_replica(rep,
parent\curve_replica.parent_curve));
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="acyclic_mapped_item_usage">
                          <parameter
                            name="rep">
                            <typename
                              name="representation"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
items : SET OF representation_item;
END_LOCAL;
items := QUERY (item &lt;* rep.items |
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN TYPEOF (item));
IF SIZEOF (items) = 0
THEN
RETURN (FALSE);
ELSE
REPEAT i := 1 TO HIINDEX (items);
IF items[i]\mapped_item.mapping_source.mapped_representation :=: rep
THEN
RETURN (TRUE);
ELSE
RETURN (acyclic_mapped_item_usage(items[i]\
mapped_item.mapping_source.mapped_representation));
END_IF;
END_REPEAT;
RETURN (FALSE);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="acyclic_mapped_representation">
                          <parameter
                            name="parent_set">
                            <aggregate
                              type="SET"/>
                            <typename
                              name="representation"/>
                          </parameter>
                          <parameter
                            name="children_set">
                            <aggregate
                              type="SET"/>
                            <typename
                              name="representation_item"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
x,y : SET OF representation_item;
END_LOCAL;
x := QUERY(z &lt;* children_set | 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM'
IN TYPEOF(z));
IF SIZEOF(x) &gt; 0 THEN
REPEAT i := 1 TO HIINDEX(x);
IF x[i]\mapped_item.mapping_source.mapped_representation
IN parent_set THEN
RETURN (FALSE);
END_IF;
IF NOT acyclic_mapped_representation
(parent_set +
x[i]\mapped_item.mapping_source.mapped_representation,
x[i]\mapped_item.mapping_source.mapped_representation.items) THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
END_IF;
x := children_set - x;
IF SIZEOF(x) &gt; 0 THEN
REPEAT i := 1 TO HIINDEX(x);
y := QUERY(z &lt;* bag_to_set(USEDIN(x[i], '')) |
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.REPRESENTATION_ITEM' IN TYPEOF(z));
IF NOT acyclic_mapped_representation(parent_set, y) THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
END_IF;
RETURN (TRUE);
                          </algorithm>
                        </function>

                        <function
                          name="acyclic_point_replica">
                          <parameter
                            name="rep">
                            <typename
                              name="point_replica"/>
                          </parameter>
                          <parameter
                            name="parent">
                            <typename
                              name="point"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_REPLICA') IN TYPEOF(parent)) THEN
RETURN (TRUE);
END_IF;
IF (parent :=: rep) THEN
RETURN (FALSE);
ELSE RETURN(acyclic_point_replica(rep, parent\point_replica.parent_pt));
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="acyclic_product_category_relationship">
                          <parameter
                            name="relation">
                            <typename
                              name="product_category_relationship"/>
                          </parameter>
                          <parameter
                            name="children">
                            <aggregate
                              type="SET"/>
                            <typename
                              name="product_category"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
x : SET OF product_category_relationship;
local_children : SET OF product_category;
END_LOCAL;
REPEAT i := 1 TO HIINDEX(children);
IF relation.category :=: children[i] THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
x := bag_to_set(USEDIN(relation.category, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'PRODUCT_CATEGORY_RELATIONSHIP.SUB_CATEGORY'));
local_children := children + relation.category;
IF SIZEOF(x) &gt; 0 THEN
REPEAT i := 1 TO HIINDEX(x);
IF NOT acyclic_product_category_relationship(x[i], local_children) THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
END_IF;
RETURN (TRUE);
                          </algorithm>
                        </function>

                        <function
                          name="acyclic_product_definition_relationship">
                          <parameter
                            name="relation">
                            <typename
                              name="product_definition_relationship"/>
                          </parameter>
                          <parameter
                            name="relatives">
                            <aggregate
                              type="SET"
                              lower="1"
                              upper="?"/>
                            <typename
                              name="product_definition"/>
                          </parameter>
                          <parameter
                            name="specific_relation">
                            <builtintype
                              type="STRING"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
x : SET OF product_definition_relationship;
END_LOCAL;
IF relation.relating_product_definition IN relatives THEN
RETURN (FALSE);
END_IF;
x := QUERY(pd &lt;* bag_to_set(USEDIN(relation.relating_product_definition, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'PRODUCT_DEFINITION_RELATIONSHIP.' + 'RELATED_PRODUCT_DEFINITION')) | specific_relation IN TYPEOF(pd));
REPEAT i := 1 TO HIINDEX(x);
IF NOT acyclic_product_definition_relationship(x[i], relatives + relation.relating_product_definition, specific_relation) THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
RETURN (TRUE);
                          </algorithm>
                        </function>

                        <function
                          name="acyclic_solid_replica">
                          <parameter
                            name="rep">
                            <typename
                              name="solid_replica"/>
                          </parameter>
                          <parameter
                            name="parent">
                            <typename
                              name="solid_model"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SOLID_REPLICA') IN TYPEOF(parent)) THEN
RETURN (TRUE);
END_IF;
IF (parent :=: rep) THEN
RETURN (FALSE);
ELSE RETURN(acyclic_solid_replica(rep,
parent\solid_replica.parent_solid));
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="acyclic_surface_replica">
                          <parameter
                            name="rep">
                            <typename
                              name="surface_replica"/>
                          </parameter>
                          <parameter
                            name="parent">
                            <typename
                              name="surface"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_REPLICA') IN TYPEOF(parent)) THEN
RETURN (TRUE);
END_IF;
IF (parent :=: rep) THEN
RETURN (FALSE);
ELSE RETURN(acyclic_surface_replica(rep,
parent\surface_replica.parent_surface));
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="acyclic_symbol_representation_relationship">
                          <parameter
                            name="relation">
                            <typename
                              name="symbol_representation_relationship"/>
                          </parameter>
                          <parameter
                            name="children">
                            <aggregate
                              type="SET"/>
                            <typename
                              name="symbol_representation"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
x : SET OF symbol_representation_relationship;
local_children : SET OF symbol_representation;
END_LOCAL;
REPEAT i:=1 TO HIINDEX(children);
IF relation\representation_relationship.rep_1 :=: children[i] THEN
RETURN(FALSE);
END_IF;
END_REPEAT;
x := bag_to_set (USEDIN (relation\representation_relationship.rep_1,
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+
'REPRESENTATION_RELATIONSHIP.'+ 'REP_2'));
local_children := children + relation\representation_relationship.rep_1;
IF SIZEOF (x) &gt; 0 THEN
REPEAT i:=1 TO HIINDEX (x);
IF NOT acyclic_symbol_representation_relationship(x[i] ,
local_children) THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
END_IF;
RETURN (TRUE);
                          </algorithm>
                        </function>

                        <function
                          name="aspect_ratio">
                          <parameter
                            name="p">
                            <typename
                              name="planar_box"/>
                          </parameter>
                          <typename
                            name="positive_ratio_measure"/>
                          <algorithm>
IF (p.size_in_x &gt; 0.) AND (p.size_in_y &gt; 0.) THEN
RETURN (p.size_in_x / p.size_in_y);
ELSE
RETURN (?);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="associated_surface">
                          <parameter
                            name="arg">
                            <typename
                              name="pcurve_or_surface"/>
                          </parameter>
                          <typename
                            name="surface"/>
                          <algorithm>
LOCAL
surf : surface;
END_LOCAL;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF(arg) THEN
surf := arg.basis_surface;
ELSE
surf := arg;
END_IF;
RETURN(surf);
                          </algorithm>
                        </function>

                        <function
                          name="bag_to_set">
                          <parameter
                            name="the_bag">
                            <aggregate
                              type="BAG"/>
                            <builtintype
                              type="GENERIC"
                              typelabel="intype"/>
                          </parameter>
                          <aggregate
                            type="SET"/>
                          <builtintype
                            type="GENERIC"
                            typelabel="intype"/>
                          <algorithm>
LOCAL
the_set : SET OF GENERIC:intype := [];
END_LOCAL;
IF SIZEOF(the_bag) &gt; 0 THEN
REPEAT i := 1 TO HIINDEX(the_bag);
the_set := the_set + the_bag[i];
END_REPEAT;
END_IF;
RETURN (the_set);
                          </algorithm>
                        </function>

                        <function
                          name="base_axis">
                          <parameter
                            name="dim">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <parameter
                            name="axis1">
                            <typename
                              name="direction"/>
                          </parameter>
                          <parameter
                            name="axis2">
                            <typename
                              name="direction"/>
                          </parameter>
                          <parameter
                            name="axis3">
                            <typename
                              name="direction"/>
                          </parameter>
                          <aggregate
                            type="LIST"
                            lower="2"
                            upper="3"/>
                          <typename
                            name="direction"/>
                          <algorithm>
LOCAL
u : LIST [2:3] OF direction;
factor : REAL;
d1, d2 : direction;
END_LOCAL;
IF (dim = 3) THEN
d1 := NVL(normalise(axis3), dummy_gri || direction([0.0,0.0,1.0]));
d2 := first_proj_axis(d1,axis1);
u := [d2, second_proj_axis(d1,d2,axis2), d1];
ELSE
IF EXISTS(axis1) THEN
d1 := normalise(axis1);
u := [d1, orthogonal_complement(d1)];
IF EXISTS(axis2) THEN
factor := dot_product(axis2,u[2]);
IF (factor &lt; 0.0) THEN
u[2].direction_ratios[1] := -u[2].direction_ratios[1];
u[2].direction_ratios[2] := -u[2].direction_ratios[2];
END_IF;
END_IF;
ELSE
IF EXISTS(axis2) THEN
d1 := normalise(axis2);
u := [orthogonal_complement(d1), d1];
u[1].direction_ratios[1] := -u[1].direction_ratios[1];
u[1].direction_ratios[2] := -u[1].direction_ratios[2];
ELSE
u := [dummy_gri || direction([1.0, 0.0]), dummy_gri ||
direction([0.0, 1.0])];
END_IF;
END_IF;
END_IF;
RETURN(u);
                          </algorithm>
                        </function>

                        <function
                          name="boolean_choose">
                          <parameter
                            name="b">
                            <builtintype
                              type="BOOLEAN"/>
                          </parameter>
                          <parameter
                            name="choice1">
                            <builtintype
                              type="GENERIC"/>
                          </parameter>
                          <parameter
                            name="choice2">
                            <builtintype
                              type="GENERIC"/>
                          </parameter>
                          <builtintype
                            type="GENERIC"/>
                          <algorithm>
IF b THEN
RETURN (choice1);
ELSE
RETURN (choice2);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="build_2axes">
                          <parameter
                            name="ref_direction">
                            <typename
                              name="direction"/>
                          </parameter>
                          <aggregate
                            type="LIST"
                            lower="2"
                            upper="2"/>
                          <typename
                            name="direction"/>
                          <algorithm>
LOCAL
d : direction := NVL(normalise(ref_direction),
dummy_gri || direction([1.0,0.0]));
END_LOCAL;
RETURN([d, orthogonal_complement(d)]);
                          </algorithm>
                        </function>

                        <function
                          name="build_axes">
                          <parameter
                            name="axis">
                            <typename
                              name="direction"/>
                          </parameter>
                          <parameter
                            name="ref_direction">
                            <typename
                              name="direction"/>
                          </parameter>
                          <aggregate
                            type="LIST"
                            lower="3"
                            upper="3"/>
                          <typename
                            name="direction"/>
                          <algorithm>
LOCAL
d1, d2 : direction;
END_LOCAL;
d1 := NVL(normalise(axis), dummy_gri || direction([0.0,0.0,1.0]));
d2 := first_proj_axis(d1, ref_direction);
RETURN([d2, normalise(cross_product(d1,d2)).orientation, d1]);
                          </algorithm>
                        </function>

                        <function
                          name="check_associative_shape_aspects">
                          <parameter
                            name="sdr">
                            <typename
                              name="shape_definition_representation"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
sr1, sr2 : SET OF representation;
dm, pv : SET OF representation;
END_LOCAL;
IF (SIZEOF (sdr.used_representation.items) &lt;&gt; 2) THEN
RETURN (FALSE);
END_IF;
sr1 := using_representations(sdr.used_representation.items[1]);
sr2 := using_representations(sdr.used_representation.items[2]);
REPEAT i := 1 TO HIINDEX(sr1);
dm := representations_mapped_into(sr1[i]);
REPEAT j := 1 TO HIINDEX(dm);
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_MODEL' IN TYPEOF(dm[j]))
THEN
IF (dm[j] IN sr2) THEN RETURN (TRUE);
END_IF;
pv := representations_mapped_into(dm[j]);
REPEAT k := 1 TO HIINDEX(pv);
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRESENTATION_VIEW' IN TYPEOF(pv[k]))
THEN
IF (pv[k] IN sr2) THEN RETURN (TRUE);
END_IF;
END_IF;
END_REPEAT;
END_IF;
END_REPEAT;
END_REPEAT;
REPEAT i := 1 TO HIINDEX(sr2);
dm := representations_mapped_into(sr2[i]);
REPEAT j := 1 TO HIINDEX(dm);
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DRAUGHTING_MODEL' IN TYPEOF(dm[j]))
THEN
IF (dm[j] IN sr1) THEN RETURN (TRUE);
END_IF;
pv := representations_mapped_into(dm[j]);
REPEAT k := 1 TO HIINDEX(pv);
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PRESENTATION_VIEW' IN TYPEOF(pv[k]))
THEN
IF (pv[k] IN sr1) THEN RETURN (TRUE);
END_IF;
END_IF;
END_REPEAT;
END_IF;
END_REPEAT;
END_REPEAT;
RETURN(FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="check_text_alignment">
                          <parameter
                            name="ct">
                            <typename
                              name="composite_text"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
a : SET OF text_alignment := [];
END_LOCAL;
REPEAT i := 1 TO HIINDEX (ct.collected_text);
a := a + [ct.collected_text[i]\text_literal.alignment];
END_REPEAT;
RETURN (SIZEOF(a) = 1);
                          </algorithm>
                        </function>

                        <function
                          name="check_text_font">
                          <parameter
                            name="ct">
                            <typename
                              name="composite_text"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
f : SET OF font_select := [];
END_LOCAL;
REPEAT i := 1 TO HIINDEX (ct.collected_text);
f := f + [ct.collected_text[i]\text_literal.font];
END_REPEAT;
RETURN (SIZEOF(f) &lt;= 1);
                          </algorithm>
                        </function>

                        <function
                          name="closed_shell_reversed">
                          <parameter
                            name="a_shell">
                            <typename
                              name="closed_shell"/>
                          </parameter>
                          <typename
                            name="oriented_closed_shell"/>
                          <algorithm>
LOCAL
the_reverse : oriented_closed_shell;
END_LOCAL;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_CLOSED_SHELL' IN TYPEOF (a_shell)) THEN
the_reverse := dummy_tri ||
connected_face_set (
a_shell\connected_face_set.cfs_faces) ||
closed_shell () || oriented_closed_shell(
a_shell\oriented_closed_shell.closed_shell_element,
NOT(a_shell\oriented_closed_shell.orientation));
ELSE
the_reverse := dummy_tri ||
connected_face_set (
a_shell\connected_face_set.cfs_faces) ||
closed_shell () || oriented_closed_shell (a_shell, FALSE);
END_IF;
RETURN (the_reverse);
                          </algorithm>
                        </function>

                        <function
                          name="conditional_reverse">
                          <parameter
                            name="p">
                            <builtintype
                              type="BOOLEAN"/>
                          </parameter>
                          <parameter
                            name="an_item">
                            <typename
                              name="reversible_topology"/>
                          </parameter>
                          <typename
                            name="reversible_topology"/>
                          <algorithm>
IF p THEN
RETURN (an_item);
ELSE
RETURN (topology_reversed (an_item));
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="constraints_composite_curve_on_surface">
                          <parameter
                            name="c">
                            <typename
                              name="composite_curve_on_surface"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
n_segments : INTEGER := SIZEOF(c.segments);
END_LOCAL;
REPEAT k := 1 TO n_segments;
IF (NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN
TYPEOF(c\composite_curve.segments[k].parent_curve))) AND
(NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_CURVE' IN
TYPEOF(c\composite_curve.segments[k].parent_curve))) AND
(NOT('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_CURVE_ON_SURFACE' IN
TYPEOF(c\composite_curve.segments[k].parent_curve))) THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
RETURN(TRUE);
                          </algorithm>
                        </function>

                        <function
                          name="constraints_geometry_shell_based_surface_model">
                          <parameter
                            name="m">
                            <typename
                              name="shell_based_surface_model"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
result : BOOLEAN := TRUE;
END_LOCAL;
REPEAT j := 1 TO SIZEOF(m.sbsm_boundary);
IF (NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OPEN_SHELL' IN
TYPEOF(m.sbsm_boundary[j])) AND
(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CLOSED_SHELL' IN
TYPEOF(m.sbsm_boundary[j]))))
THEN
result := FALSE;
RETURN(result);
END_IF;
END_REPEAT;
RETURN(result);
                          </algorithm>
                        </function>

                        <function
                          name="constraints_geometry_shell_based_wireframe_model">
                          <parameter
                            name="m">
                            <typename
                              name="shell_based_wireframe_model"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
result : BOOLEAN := TRUE;
END_LOCAL;
REPEAT j := 1 TO SIZEOF(m.sbwm_boundary);
IF (NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.WIRE_SHELL' IN
TYPEOF(m.sbwm_boundary[j])) AND
(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VERTEX_SHELL' IN
TYPEOF(m.sbwm_boundary[j]))))
THEN
result := FALSE;
RETURN(result);
END_IF;
END_REPEAT;
RETURN(result);
                          </algorithm>
                        </function>

                        <function
                          name="constraints_param_b_spline">
                          <parameter
                            name="degree">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <parameter
                            name="up_knots">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <parameter
                            name="up_cp">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <parameter
                            name="knot_mult">
                            <aggregate
                              type="LIST"/>
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <parameter
                            name="knots">
                            <aggregate
                              type="LIST"/>
                            <typename
                              name="parameter_value"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
result : BOOLEAN := TRUE;
k, sum : INTEGER;
END_LOCAL;
sum := knot_mult[1];
REPEAT i := 2 TO up_knots;
sum := sum + knot_mult[i];
END_REPEAT;
IF (degree &lt; 1) OR (up_knots &lt; 2) OR (up_cp &lt; degree) OR
(sum &lt;&gt; (degree + up_cp + 2)) THEN
result := FALSE;
RETURN(result);
END_IF;
k := knot_mult[1];
IF (k &lt; 1) OR (k &gt; degree + 1) THEN
result := FALSE;
RETURN(result);
END_IF;
REPEAT i := 2 TO up_knots;
IF (knot_mult[i] &lt; 1) OR (knots[i] &lt;= knots[i-1]) THEN
result := FALSE;
RETURN(result);
END_IF;
k := knot_mult[i];
IF (i &lt; up_knots) AND (k &gt; degree) THEN
result := FALSE;
RETURN(result);
END_IF;
IF (i = up_knots) AND (k &gt; degree + 1) THEN
result := FALSE;
RETURN(result);
END_IF;
END_REPEAT;
RETURN(result);
                          </algorithm>
                        </function>

                        <function
                          name="constraints_rectangular_composite_surface">
                          <parameter
                            name="s">
                            <typename
                              name="rectangular_composite_surface"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
REPEAT i := 1 TO s.n_u;
REPEAT j := 1 TO s.n_v;
IF NOT (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_SURFACE' IN TYPEOF
(s.segments[i][j].parent_surface)) OR
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.RECTANGULAR_TRIMMED_SURFACE' IN TYPEOF
(s.segments[i][j].parent_surface))) THEN
RETURN(FALSE);
END_IF;
END_REPEAT;
END_REPEAT;
REPEAT i := 1 TO s.n_u-1;
REPEAT j := 1 TO s.n_v;
IF s.segments[i][j].u_transition = discontinuous THEN
RETURN(FALSE);
END_IF;
END_REPEAT;
END_REPEAT;
REPEAT i := 1 TO s.n_u;
REPEAT j := 1 TO s.n_v-1;
IF s.segments[i][j].v_transition = discontinuous THEN
RETURN(FALSE);
END_IF;
END_REPEAT;
END_REPEAT;
RETURN(TRUE);
                          </algorithm>
                        </function>

                        <function
                          name="cross_product">
                          <parameter
                            name="arg1">
                            <typename
                              name="direction"/>
                          </parameter>
                          <parameter
                            name="arg2">
                            <typename
                              name="direction"/>
                          </parameter>
                          <typename
                            name="vector"/>
                          <algorithm>
LOCAL
mag : REAL;
res : direction;
v1,v2 : LIST[3:3] OF REAL;
result : vector;
END_LOCAL;
IF (NOT EXISTS (arg1) OR (arg1.dim = 2)) OR
(NOT EXISTS (arg2) OR (arg2.dim = 2)) THEN
RETURN(?);
ELSE
BEGIN
v1 := normalise(arg1).direction_ratios;
v2 := normalise(arg2).direction_ratios;
res := dummy_gri || direction([(v1[2]*v2[3] - v1[3]*v2[2]),
(v1[3]*v2[1] - v1[1]*v2[3]), (v1[1]*v2[2] - v1[2]*v2[1])]);
mag := 0.0;
REPEAT i := 1 TO 3;
mag := mag + res.direction_ratios[i]*res.direction_ratios[i];
END_REPEAT;
IF (mag &gt; 0.0) THEN
result := dummy_gri || vector(res, SQRT(mag));
ELSE
result := dummy_gri || vector(arg1, 0.0);
END_IF;
RETURN(result);
END;
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="curve_weights_positive">
                          <parameter
                            name="b">
                            <typename
                              name="rational_b_spline_curve"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
result : BOOLEAN := TRUE;
END_LOCAL;
REPEAT i := 0 TO b.upper_index_on_control_points;
IF b.weights[i] &lt;= 0.0 THEN
result := FALSE;
RETURN(result);
END_IF;
END_REPEAT;
RETURN(result);
                          </algorithm>
                        </function>

                        <function
                          name="default_tolerance_table_cell_wr2">
                          <parameter
                            name="agg">
                            <typename
                              name="compound_item_definition"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
BEGIN
IF SIZEOF(agg) &lt;= 5 THEN
RETURN(TRUE);
ELSE
RETURN(FALSE);
END_IF;
END;
                          </algorithm>
                        </function>

                        <function
                          name="default_tolerance_table_cell_wr3">
                          <parameter
                            name="agg">
                            <typename
                              name="compound_item_definition"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
BEGIN
IF (SIZEOF(QUERY (i &lt;* agg | (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF(i))
AND (i\representation_item.name = 'significant number of digits')))) = 1) OR
((SIZEOF(QUERY (i &lt;* agg | (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF(i)) AND
(i\representation_item.name = 'lower limit')))) = 1) AND
(SIZEOF(QUERY (i &lt;* agg | (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF(i)) AND
(i\representation_item.name = 'upper limit')))) = 1)) THEN
RETURN(TRUE);
ELSE
RETURN(FALSE);
END_IF;
END;
                          </algorithm>
                        </function>

                        <function
                          name="default_tolerance_table_cell_wr4">
                          <parameter
                            name="agg">
                            <typename
                              name="compound_item_definition"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
BEGIN
IF (SIZEOF(QUERY (i &lt;* agg | (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF(i)) AND
(i\representation_item.name = 'plus minus tolerance value')))) = 1) OR
((SIZEOF(QUERY (i &lt;* agg | (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF(i)) AND (
i\representation_item.name = 'lower tolerance value')))) = 1) AND
(SIZEOF(QUERY (i &lt;* agg | (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF(i)) AND (
i\representation_item.name = 'upper tolerance value')))) = 1)) THEN
RETURN(TRUE);
ELSE
RETURN(FALSE);
END_IF;
END;
                          </algorithm>
                        </function>

                        <function
                          name="default_tolerance_table_cell_wr5">
                          <parameter
                            name="agg">
                            <typename
                              name="compound_item_definition"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
BEGIN
IF (SIZEOF(QUERY (i &lt;* agg | ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF(i)))) &lt;= 1) AND
(SIZEOF(QUERY (i &lt;* agg | ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF(i)))) =
SIZEOF(QUERY (i &lt;* agg | (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF(i)) AND
(i\representation_item.name = 'cell description')))))
THEN
RETURN(TRUE);
ELSE
RETURN(FALSE);
END_IF;
END;
                          </algorithm>
                        </function>

                        <function
                          name="derive_dimensional_exponents">
                          <parameter
                            name="x">
                            <typename
                              name="unit"/>
                          </parameter>
                          <typename
                            name="dimensional_exponents"/>
                          <algorithm>
LOCAL
result : dimensional_exponents := dimensional_exponents(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0);
END_LOCAL;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DERIVED_UNIT' IN TYPEOF(x) THEN
REPEAT i := LOINDEX(x.elements) TO HIINDEX(x.elements);
result.length_exponent := result.length_exponent + (x.elements[i].exponent * x.elements[i].unit.dimensions.length_exponent);
result.mass_exponent := result.mass_exponent + (x.elements[i].exponent * x.elements[i].unit.dimensions.mass_exponent);
result.time_exponent := result.time_exponent + (x.elements[i].exponent * x.elements[i].unit.dimensions.time_exponent);
result.electric_current_exponent := result.electric_current_exponent + (x.elements[i].exponent * x.elements[i].unit.dimensions.electric_current_exponent);
result.thermodynamic_temperature_exponent := result.thermodynamic_temperature_exponent + (x.elements[i].exponent * x.elements[i].unit.dimensions.thermodynamic_temperature_exponent);
result.amount_of_substance_exponent := result.amount_of_substance_exponent + (x.elements[i].exponent * x.elements[i].unit.dimensions.amount_of_substance_exponent);
result.luminous_intensity_exponent := result.luminous_intensity_exponent + (x.elements[i].exponent * x.elements[i].unit.dimensions.luminous_intensity_exponent);
END_REPEAT;
ELSE
result := x.dimensions;
END_IF;
RETURN (result);
                          </algorithm>
                        </function>

                        <function
                          name="dimension_of">
                          <parameter
                            name="item">
                            <typename
                              name="geometric_representation_item"/>
                          </parameter>
                          <typename
                            name="dimension_count"/>
                          <algorithm>
LOCAL
x : SET OF representation;
y : representation_context;
dim : dimension_count;
END_LOCAL;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT' IN TYPEOF(item) THEN
dim := SIZEOF(item\cartesian_point.coordinates);
RETURN(dim);
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DIRECTION' IN TYPEOF(item) THEN
dim := SIZEOF(item\direction.direction_ratios);
RETURN(dim);
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VECTOR' IN TYPEOF(item) THEN
dim := SIZEOF(item\vector.orientation\direction.direction_ratios);
RETURN(dim);
END_IF;
x := using_representations(item);
y := x[1].context_of_items;
dim := y\geometric_representation_context.coordinate_space_dimension;
RETURN (dim);
                          </algorithm>
                        </function>

                        <function
                          name="dimensions_for_si_unit">
                          <parameter
                            name="n">
                            <typename
                              name="si_unit_name"/>
                          </parameter>
                          <typename
                            name="dimensional_exponents"/>
                          <algorithm>
CASE n OF
metre : RETURN (dimensional_exponents
(1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0));
gram : RETURN (dimensional_exponents
(0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0));
second : RETURN (dimensional_exponents
(0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0));
ampere : RETURN (dimensional_exponents
(0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0));
kelvin : RETURN (dimensional_exponents
(0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0));
mole : RETURN (dimensional_exponents
(0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0));
candela : RETURN (dimensional_exponents
(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0));
radian : RETURN (dimensional_exponents
(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0));
steradian : RETURN (dimensional_exponents
(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0));
hertz : RETURN (dimensional_exponents
(0.0, 0.0, -1.0, 0.0, 0.0, 0.0, 0.0));
newton : RETURN (dimensional_exponents
(1.0, 1.0, -2.0, 0.0, 0.0, 0.0, 0.0));
pascal : RETURN (dimensional_exponents
(-1.0, 1.0, -2.0, 0.0, 0.0, 0.0, 0.0));
joule : RETURN (dimensional_exponents
(2.0, 1.0, -2.0, 0.0, 0.0, 0.0, 0.0));
watt : RETURN (dimensional_exponents
(2.0, 1.0, -3.0, 0.0, 0.0, 0.0, 0.0));
coulomb : RETURN (dimensional_exponents
(0.0, 0.0, 1.0, 1.0, 0.0, 0.0, 0.0));
volt : RETURN (dimensional_exponents
(2.0, 1.0, -3.0, -1.0, 0.0, 0.0, 0.0));
farad : RETURN (dimensional_exponents
(-2.0, -1.0, 4.0, 1.0, 0.0, 0.0, 0.0));
ohm : RETURN (dimensional_exponents
(2.0, 1.0, -3.0, -2.0, 0.0, 0.0, 0.0));
siemens : RETURN (dimensional_exponents
(-2.0, -1.0, 3.0, 2.0, 0.0, 0.0, 0.0));
weber : RETURN (dimensional_exponents
(2.0, 1.0, -2.0, -1.0, 0.0, 0.0, 0.0));
tesla : RETURN (dimensional_exponents
(0.0, 1.0, -2.0, -1.0, 0.0, 0.0, 0.0));
henry : RETURN (dimensional_exponents
(2.0, 1.0, -2.0, -2.0, 0.0, 0.0, 0.0));
degree_Celsius : RETURN (dimensional_exponents
(0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0));
lumen : RETURN (dimensional_exponents
(0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0));
lux : RETURN (dimensional_exponents
(-2.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0));
becquerel : RETURN (dimensional_exponents
(0.0, 0.0, -1.0, 0.0, 0.0, 0.0, 0.0));
gray : RETURN (dimensional_exponents
(2.0, 0.0, -2.0, 0.0, 0.0, 0.0, 0.0));
sievert : RETURN (dimensional_exponents
(2.0, 0.0, -2.0, 0.0, 0.0, 0.0, 0.0));
OTHERWISE : RETURN (?);
END_CASE;
                          </algorithm>
                        </function>

                        <function
                          name="dot_product">
                          <parameter
                            name="arg1">
                            <typename
                              name="direction"/>
                          </parameter>
                          <parameter
                            name="arg2">
                            <typename
                              name="direction"/>
                          </parameter>
                          <builtintype
                            type="REAL"/>
                          <algorithm>
LOCAL
scalar : REAL;
vec1, vec2: direction;
ndim : INTEGER;
END_LOCAL;
IF NOT EXISTS (arg1) OR NOT EXISTS (arg2) THEN
scalar := ?;
ELSE
IF (arg1.dim &lt;&gt; arg2.dim) THEN
scalar := ?;
ELSE
BEGIN
vec1 := normalise(arg1);
vec2 := normalise(arg2);
ndim := arg1.dim;
scalar := 0.0;
REPEAT i := 1 TO ndim;
scalar := scalar +
vec1.direction_ratios[i]*vec2.direction_ratios[i];
END_REPEAT;
END;
END_IF;
END_IF;
RETURN (scalar);
                          </algorithm>
                        </function>

                        <function
                          name="edge_reversed">
                          <parameter
                            name="an_edge">
                            <typename
                              name="edge"/>
                          </parameter>
                          <typename
                            name="oriented_edge"/>
                          <algorithm>
LOCAL
the_reverse : oriented_edge;
END_LOCAL;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_EDGE' IN TYPEOF (an_edge)) THEN
the_reverse := dummy_tri ||
edge(an_edge.edge_end, an_edge.edge_start) ||
oriented_edge(an_edge\oriented_edge.edge_element,
NOT (an_edge\oriented_edge.orientation)) ;
ELSE
the_reverse := dummy_tri ||
edge(an_edge.edge_end, an_edge.edge_start) ||
oriented_edge(an_edge, FALSE);
END_IF;
RETURN (the_reverse);
                          </algorithm>
                        </function>

                        <function
                          name="face_bound_reversed">
                          <parameter
                            name="a_face_bound">
                            <typename
                              name="face_bound"/>
                          </parameter>
                          <typename
                            name="face_bound"/>
                          <algorithm>
LOCAL
the_reverse : face_bound ;
END_LOCAL;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACE_OUTER_BOUND' IN TYPEOF (a_face_bound)) THEN
the_reverse := dummy_tri ||
face_bound(a_face_bound\face_bound.bound,
NOT (a_face_bound\face_bound.orientation))
|| face_outer_bound() ;
ELSE
the_reverse := dummy_tri ||
face_bound(a_face_bound.bound, NOT(a_face_bound.orientation));
END_IF;
RETURN (the_reverse);
                          </algorithm>
                        </function>

                        <function
                          name="face_reversed">
                          <parameter
                            name="a_face">
                            <typename
                              name="face"/>
                          </parameter>
                          <typename
                            name="oriented_face"/>
                          <algorithm>
LOCAL
the_reverse : oriented_face ;
END_LOCAL;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_FACE' IN TYPEOF (a_face)) THEN
the_reverse := dummy_tri ||
face(set_of_topology_reversed(a_face.bounds)) ||
oriented_face(a_face\oriented_face.face_element,
NOT (a_face\oriented_face.orientation)) ;
ELSE
the_reverse := dummy_tri ||
face(set_of_topology_reversed(a_face.bounds)) ||
oriented_face(a_face, FALSE) ;
END_IF;
RETURN (the_reverse);
                          </algorithm>
                        </function>

                        <function
                          name="field_in_table">
                          <parameter
                            name="field">
                            <typename
                              name="table_record_field_representation"/>
                          </parameter>
                          <parameter
                            name="table">
                            <typename
                              name="annotation_table_occurrence"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
table_rep : table_representation;
symbol_rep_rel_set : SET OF symbol_representation_relationship;
mapped_item_set : SET OF mapped_item;
table_record_rep_set : SET OF table_record_representation := [];
END_LOCAL;
table_rep := table\styled_item.item\mapped_item.mapping_source.
mapped_representation;
mapped_item_set := QUERY(item &lt;* table_rep.items |
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN
TYPEOF(item))
AND
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+
'TABLE_RECORD_REPRESENTATION' IN
TYPEOF(item\mapped_item.mapping_source.
mapped_representation))
);
REPEAT i := 1 TO HIINDEX(mapped_item_set);
table_record_rep_set := table_record_rep_set +
mapped_item_set[i].mapping_source.mapped_representation;
END_REPEAT;
symbol_rep_rel_set := bag_to_set (USEDIN(table_rep,
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+
'REPRESENTATION_RELATIONSHIP.REP_1'));
REPEAT i := 1 TO HIINDEX(symbol_rep_rel_set);
table_record_rep_set := table_record_rep_set +
symbol_rep_rel_set[i]\representation_relationship.rep_2;
END_REPEAT;
IF SIZEOF(QUERY(table_record_rep &lt;* table_record_rep_set |
(SIZEOF(QUERY(rep_rel &lt;* USEDIN(table_record_rep,
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.'+
'REPRESENTATION_RELATIONSHIP.REP_1') |
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +
'SYMBOL_REPRESENTATION_RELATIONSHIP' IN TYPEOF(rep_rel)) AND
(rep_rel.rep_2 :=: field)
)) &gt; 0)
OR
(SIZEOF(QUERY(item &lt;* table_record_rep.items |
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MAPPED_ITEM' IN
TYPEOF(item))
AND
(field :=: item\mapped_item.mapping_source.
mapped_representation)
)) &gt; 0)
)) = 0 THEN
RETURN(FALSE);
END_IF;
RETURN(TRUE);
                          </algorithm>
                        </function>

                        <function
                          name="first_proj_axis">
                          <parameter
                            name="z_axis">
                            <typename
                              name="direction"/>
                          </parameter>
                          <parameter
                            name="arg">
                            <typename
                              name="direction"/>
                          </parameter>
                          <typename
                            name="direction"/>
                          <algorithm>
LOCAL
x_axis : direction;
v : direction;
z : direction;
x_vec : vector;
END_LOCAL;
IF (NOT EXISTS(z_axis)) THEN
RETURN (?) ;
ELSE
z := normalise(z_axis);
IF NOT EXISTS(arg) THEN
IF ((z.direction_ratios &lt;&gt; [1.0,0.0,0.0]) AND
(z.direction_ratios &lt;&gt; [-1.0,0.0,0.0])) THEN
v := dummy_gri || direction([1.0,0.0,0.0]);
ELSE
v := dummy_gri || direction([0.0,1.0,0.0]);
END_IF;
ELSE
IF (arg.dim &lt;&gt; 3) THEN
RETURN (?) ;
END_IF;
IF ((cross_product(arg,z).magnitude) = 0.0) THEN
RETURN (?);
ELSE
v := normalise(arg);
END_IF;
END_IF;
x_vec := scalar_times_vector(dot_product(v, z), z);
x_axis := vector_difference(v, x_vec).orientation;
x_axis := normalise(x_axis);
END_IF;
RETURN(x_axis);
                          </algorithm>
                        </function>

                        <function
                          name="gbsf_check_curve">
                          <parameter
                            name="cv">
                            <typename
                              name="representation_item"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BOUNDED_CURVE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONIC', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_REPLICA', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OFFSET_CURVE_3D'] * TYPEOF(cv)) &gt; 1 THEN
RETURN (FALSE);
END_IF;
IF SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CIRCLE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ELLIPSE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TRIMMED_CURVE'] * TYPEOF(cv)) = 1 THEN
RETURN (TRUE);
ELSE
IF (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_CURVE' IN TYPEOF(cv)) AND (cv\b_spline_curve.self_intersect = FALSE) OR (cv\b_spline_curve.self_intersect = UNKNOWN)) THEN
RETURN (TRUE);
ELSE
IF (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_CURVE' IN TYPEOF(cv)) AND (cv\composite_curve.self_intersect = FALSE) OR (cv\composite_curve.self_intersect = UNKNOWN)) THEN
RETURN (SIZEOF(QUERY(seg &lt;* cv\composite_curve.segments | NOT (gbsf_check_curve(seg.parent_curve)))) = 0);
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_REPLICA' IN TYPEOF(cv) THEN
RETURN (gbsf_check_curve(cv\curve_replica.parent_curve));
ELSE
IF (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OFFSET_CURVE_3D' IN TYPEOF(cv)) AND ((cv\offset_curve_3d.self_intersect = FALSE) OR (cv\offset_curve_3d.self_intersect = UNKNOWN)) AND (NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' IN TYPEOF(cv\offset_curve_3d.basis_curve)))) THEN
RETURN (gbsf_check_curve(cv\offset_curve_3d.basis_curve));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF(cv) THEN
RETURN ((gbsf_check_curve(cv\pcurve.reference_to_curve\representation.items[1])) AND (gbsf_check_surface(cv\pcurve.basis_surface)));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' IN TYPEOF(cv) THEN
IF (SIZEOF(cv\polyline.points) &gt;= 3) THEN
RETURN (TRUE);
END_IF;
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_CURVE' IN TYPEOF(cv) THEN
IF gbsf_check_curve(cv\surface_curve.curve_3d) THEN
REPEAT i := 1 TO SIZEOF(cv\surface_curve.associated_geometry);
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE' IN TYPEOF(cv\surface_curve.associated_geometry[i]) THEN
IF NOT gbsf_check_surface(cv\surface_curve.associated_geometry[i]) THEN
RETURN (FALSE);
END_IF;
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF(cv\surface_curve.associated_geometry[i]) THEN
IF NOT gbsf_check_curve(cv\surface_curve.associated_geometry[i]) THEN
RETURN (FALSE);
END_IF;
END_IF;
END_IF;
END_REPEAT;
RETURN (TRUE);
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="gbsf_check_point">
                          <parameter
                            name="pnt">
                            <typename
                              name="point"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT' IN TYPEOF(pnt) THEN
RETURN (TRUE);
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_ON_CURVE' IN TYPEOF(pnt) THEN
RETURN (gbsf_check_curve(pnt\point_on_curve.basis_curve));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_ON_SURFACE' IN TYPEOF(pnt) THEN
RETURN (gbsf_check_surface(pnt\point_on_surface.basis_surface));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.DEGENERATE_PCURVE' IN TYPEOF(pnt) THEN
RETURN ((gbsf_check_curve(pnt\degenerate_pcurve.reference_to_curve\representation.items[1])) AND (gbsf_check_surface(pnt\degenerate_pcurve.basis_surface)));
END_IF;
END_IF;
END_IF;
END_IF;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="gbsf_check_surface">
                          <parameter
                            name="sf">
                            <typename
                              name="surface"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_SURFACE' IN TYPEOF(sf)) AND (sf\b_spline_surface.self_intersect = FALSE) OR (sf\b_spline_surface.self_intersect = UNKNOWN)) THEN
RETURN (TRUE);
ELSE
IF SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SPHERICAL_SURFACE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TOROIDAL_SURFACE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_BOUNDED_SURFACE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.RECTANGULAR_TRIMMED_SURFACE'] * TYPEOF(sf)) = 1 THEN
RETURN (TRUE);
ELSE
IF (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OFFSET_SURFACE' IN TYPEOF(sf)) AND (sf\offset_surface.self_intersect = FALSE) OR (sf\offset_surface.self_intersect = UNKNOWN)) THEN
RETURN (gbsf_check_surface(sf\offset_surface.basis_surface));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.RECTANGULAR_COMPOSITE_SURFACE' IN TYPEOF(sf) THEN
REPEAT i := 1 TO SIZEOF(sf\rectangular_composite_surface.segments);
REPEAT j := 1 TO SIZEOF(sf\rectangular_composite_surface.segments[i]);
IF NOT (gbsf_check_surface(sf\rectangular_composite_surface.segments[i][j].parent_surface)) THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
END_REPEAT;
RETURN (TRUE);
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_REPLICA' IN TYPEOF(sf) THEN
RETURN (gbsf_check_surface(sf\surface_replica.parent_surface));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_OF_REVOLUTION' IN TYPEOF(sf) THEN
RETURN (gbsf_check_curve(sf\swept_surface.swept_curve));
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="get_basis_surface">
                          <parameter
                            name="c">
                            <typename
                              name="curve_on_surface"/>
                          </parameter>
                          <aggregate
                            type="SET"
                            lower="0"
                            upper="2"/>
                          <typename
                            name="surface"/>
                          <algorithm>
LOCAL
surfs : SET[0:2] OF surface;
n : INTEGER;
END_LOCAL;
surfs := [];
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF (c) THEN
surfs := [c\pcurve.basis_surface];
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_CURVE' IN TYPEOF (c) THEN
n := SIZEOF(c\surface_curve.associated_geometry);
REPEAT i := 1 TO n;
surfs := surfs +
associated_surface(c\surface_curve.associated_geometry[i]);
END_REPEAT;
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_CURVE_ON_SURFACE' IN TYPEOF (c) THEN
n := SIZEOF(c\composite_curve.segments);
surfs := get_basis_surface(
c\composite_curve.segments[1].parent_curve);
IF n &gt; 1 THEN
REPEAT i := 2 TO n;
surfs := surfs * get_basis_surface(
c\composite_curve.segments[i].parent_curve);
END_REPEAT;
END_IF;
END_IF;
RETURN(surfs);
                          </algorithm>
                        </function>

                        <function
                          name="get_description_value">
                          <parameter
                            name="obj">
                            <typename
                              name="description_attribute_select"/>
                          </parameter>
                          <typename
                            name="text"/>
                          <algorithm>
LOCAL
description_bag : BAG OF description_attribute := (USEDIN(obj, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'DESCRIPTION_ATTRIBUTE.' + 'DESCRIBED_ITEM'));
END_LOCAL;
IF SIZEOF(description_bag) = 1 THEN
RETURN (description_bag[1].attribute_value);
ELSE
RETURN (?);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="get_id_value">
                          <parameter
                            name="obj">
                            <typename
                              name="id_attribute_select"/>
                          </parameter>
                          <typename
                            name="identifier"/>
                          <algorithm>
LOCAL
id_bag : BAG OF id_attribute := (USEDIN(obj, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ID_ATTRIBUTE.' + 'IDENTIFIED_ITEM'));
END_LOCAL;
IF SIZEOF(id_bag) = 1 THEN
RETURN (id_bag[1].attribute_value);
ELSE
RETURN (?);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="get_name_value">
                          <parameter
                            name="obj">
                            <typename
                              name="name_attribute_select"/>
                          </parameter>
                          <typename
                            name="label"/>
                          <algorithm>
LOCAL
name_bag : BAG OF name_attribute := (USEDIN(obj, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'NAME_ATTRIBUTE.' + 'NAMED_ITEM'));
END_LOCAL;
IF SIZEOF(name_bag) = 1 THEN
RETURN (name_bag[1].attribute_value);
ELSE
RETURN (?);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="get_role">
                          <parameter
                            name="obj">
                            <typename
                              name="role_select"/>
                          </parameter>
                          <typename
                            name="object_role"/>
                          <algorithm>
LOCAL
role_bag : BAG OF role_association := (USEDIN(obj, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'ROLE_ASSOCIATION.' + 'ITEM_WITH_ROLE'));
END_LOCAL;
IF SIZEOF(role_bag) = 1 THEN
RETURN (role_bag[1].role);
ELSE
RETURN (?);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="get_shape_aspect_property_definition_representations">
                          <parameter
                            name="s_a_instance">
                            <typename
                              name="shape_aspect"/>
                          </parameter>
                          <aggregate
                            type="SET"/>
                          <typename
                            name="property_definition_representation"/>
                          <algorithm>
LOCAL
pd_set : SET OF property_definition := [];
pdr_set : SET OF property_definition_representation := [] ;
END_LOCAL;
pd_set := bag_to_set(USEDIN(s_a_instance, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PROPERTY_DEFINITION.DEFINITION'));
IF (SIZEOF(pd_set) &lt; 1) THEN
RETURN (pdr_set);
END_IF;
REPEAT i := 1 TO HIINDEX(pd_set);
pdr_set := pdr_set + (QUERY(pdr &lt;* USEDIN(pd_set[i], 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' + 'PROPERTY_DEFINITION_REPRESENTATION.' + 'DEFINITION') |
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_DEFINITION_REPRESENTATION' IN TYPEOF(pdr)));
END_REPEAT;
RETURN (pdr_set);
                          </algorithm>
                        </function>

                        <function
                          name="item_in_context">
                          <parameter
                            name="item">
                            <typename
                              name="representation_item"/>
                          </parameter>
                          <parameter
                            name="cntxt">
                            <typename
                              name="representation_context"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
y : BAG OF representation_item;
END_LOCAL;
IF SIZEOF(USEDIN(item,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.REPRESENTATION.ITEMS')
* cntxt.representations_in_context) &gt; 0 THEN
RETURN (TRUE);
ELSE y := QUERY(z &lt;* USEDIN (item , '') |
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.REPRESENTATION_ITEM' IN TYPEOF(z));
IF SIZEOF(y) &gt; 0 THEN
REPEAT i := 1 TO HIINDEX(y);
IF item_in_context(y[i], cntxt) THEN
RETURN (TRUE);
END_IF;
END_REPEAT;
END_IF;
END_IF;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="leap_year">
                          <parameter
                            name="year">
                            <typename
                              name="year_number"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF ((((year MOD 4) = 0) AND ((year MOD 100) &lt;&gt; 0)) OR ((year MOD 400) = 0)) THEN
RETURN (TRUE);
ELSE
RETURN (FALSE);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="list_face_loops">
                          <parameter
                            name="f">
                            <typename
                              name="face"/>
                          </parameter>
                          <aggregate
                            type="LIST"
                            lower="0"
                            upper="?"/>
                          <typename
                            name="loop"/>
                          <algorithm>
LOCAL
loops : LIST[0:?] OF loop := [];
END_LOCAL;
REPEAT i := 1 TO SIZEOF(f.bounds);
loops := loops +(f.bounds[i].bound);
END_REPEAT;
RETURN(loops);
                          </algorithm>
                        </function>

                        <function
                          name="list_of_topology_reversed">
                          <parameter
                            name="a_list">
                            <typename
                              name="list_of_reversible_topology_item"/>
                          </parameter>
                          <typename
                            name="list_of_reversible_topology_item"/>
                          <algorithm>
LOCAL
the_reverse : list_of_reversible_topology_item;
END_LOCAL;
the_reverse := [];
REPEAT i := 1 TO SIZEOF (a_list);
the_reverse := topology_reversed (a_list [i]) + the_reverse;
END_REPEAT;
RETURN (the_reverse);
                          </algorithm>
                        </function>

                        <function
                          name="list_to_array">
                          <parameter
                            name="lis">
                            <aggregate
                              type="LIST"
                              lower="0"
                              upper="?"/>
                            <builtintype
                              type="GENERIC"
                              typelabel="T"/>
                          </parameter>
                          <parameter
                            name="low">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <parameter
                            name="u">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <aggregate
                            type="ARRAY"
                            lower="low"
                            upper="u"/>
                          <builtintype
                            type="GENERIC"
                            typelabel="T"/>
                          <algorithm>
LOCAL
n : INTEGER;
res : ARRAY [low:u] OF GENERIC : T;
END_LOCAL;
n := SIZEOF(lis);
IF (n &lt;&gt; (u-low +1)) THEN
RETURN(?);
ELSE
res := [lis[1] : n];
REPEAT i := 2 TO n;
res[low+i-1] := lis[i];
END_REPEAT;
RETURN(res);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="list_to_set">
                          <parameter
                            name="l">
                            <aggregate
                              type="LIST"
                              lower="0"
                              upper="?"/>
                            <builtintype
                              type="GENERIC"
                              typelabel="T"/>
                          </parameter>
                          <aggregate
                            type="SET"/>
                          <builtintype
                            type="GENERIC"
                            typelabel="T"/>
                          <algorithm>
LOCAL
s : SET OF GENERIC:T := [];
END_LOCAL;
REPEAT i := 1 TO SIZEOF(l);
s := s + l[i];
END_REPEAT;
RETURN(s);
                          </algorithm>
                        </function>

                        <function
                          name="make_array_of_array">
                          <parameter
                            name="lis">
                            <aggregate
                              type="LIST"
                              lower="1"
                              upper="?"/>
                            <aggregate
                              type="LIST"
                              lower="1"
                              upper="?"/>
                            <builtintype
                              type="GENERIC"
                              typelabel="T"/>
                          </parameter>
                          <parameter
                            name="low1">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <parameter
                            name="u1">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <parameter
                            name="low2">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <parameter
                            name="u2">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <aggregate
                            type="ARRAY"
                            lower="low1"
                            upper="u1"/>
                          <aggregate
                            type="ARRAY"
                            lower="low2"
                            upper="u2"/>
                          <builtintype
                            type="GENERIC"
                            typelabel="T"/>
                          <algorithm>
LOCAL
res : ARRAY[low1:u1] OF ARRAY [low2:u2] OF GENERIC : T;
END_LOCAL;
IF (u1-low1+1) &lt;&gt; SIZEOF(lis) THEN
RETURN (?);
END_IF;
IF (u2 - low2 + 1) &lt;&gt; SIZEOF(lis[1]) THEN
RETURN (?) ;
END_IF;
res := [list_to_array(lis[1], low2, u2) : (u1-low1 + 1)];
REPEAT i := 2 TO HIINDEX(lis);
IF (u2-low2+1) &lt;&gt; SIZEOF(lis[i]) THEN
RETURN (?);
END_IF;
res[low1+i-1] := list_to_array(lis[i], low2, u2);
END_REPEAT;
RETURN (res);
                          </algorithm>
                        </function>

                        <function
                          name="mixed_loop_type_set">
                          <parameter
                            name="l">
                            <aggregate
                              type="SET"
                              lower="0"
                              upper="?"/>
                            <typename
                              name="loop"/>
                          </parameter>
                          <builtintype
                            type="LOGICAL"/>
                          <algorithm>
LOCAL
poly_loop_type: LOGICAL;
END_LOCAL;
IF(SIZEOF(l) &lt;= 1) THEN
RETURN(FALSE);
END_IF;
poly_loop_type := ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLY_LOOP' IN TYPEOF(l[1]));
REPEAT i := 2 TO SIZEOF(l);
IF(('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLY_LOOP' IN TYPEOF(l[i])) &lt;&gt; poly_loop_type)
THEN
RETURN(TRUE);
END_IF;
END_REPEAT;
RETURN(FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="msb_shells">
                          <parameter
                            name="brep">
                            <typename
                              name="manifold_solid_brep"/>
                          </parameter>
                          <aggregate
                            type="SET"
                            lower="1"
                            upper="?"/>
                          <typename
                            name="closed_shell"/>
                          <algorithm>
IF SIZEOF (QUERY (msbtype &lt;* TYPEOF (brep) |
msbtype LIKE '*BREP_WITH_VOIDS')) &gt;= 1 THEN
RETURN (brep\brep_with_voids.voids + brep.outer);
ELSE
RETURN([brep.outer]);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="msf_curve_check">
                          <parameter
                            name="cv">
                            <typename
                              name="representation_item"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.BOUNDED_CURVE',
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONIC',
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_REPLICA', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE',
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OFFSET_CURVE_3D'] * TYPEOF(cv)) &gt; 1 THEN
RETURN(FALSE);
END_IF;
IF (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_CURVE' IN TYPEOF (cv)) AND
(cv\b_spline_curve.self_intersect = FALSE)OR
(cv\b_spline_curve.self_intersect = UNKNOWN)) THEN
RETURN(TRUE);
ELSE
IF SIZEOF (['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONIC', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE']
* TYPEOF (cv)) = 1 THEN
RETURN(TRUE);
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_REPLICA' IN TYPEOF(cv) THEN
RETURN (msf_curve_check(cv\curve_replica.parent_curve));
ELSE
IF (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OFFSET_CURVE_3D' IN TYPEOF (cv))
AND
((cv\offset_curve_3d.self_intersect = FALSE) OR
(cv\offset_curve_3d.self_intersect = UNKNOWN))
AND
(NOT ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' IN TYPEOF
(cv\offset_curve_3d.basis_curve)))) THEN
RETURN (msf_curve_check(cv\offset_curve_3d.basis_curve));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF(cv) THEN
RETURN ((msf_curve_check
(cv\pcurve.reference_to_curve\representation.items[1])) AND
(msf_surface_check(cv\pcurve.basis_surface)));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_CURVE' IN TYPEOF(cv) THEN
IF msf_curve_check(cv\surface_curve.curve_3d) THEN
REPEAT i := 1 TO SIZEOF
(cv\surface_curve.associated_geometry);
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE' IN
TYPEOF (cv\surface_curve.associated_geometry[i]) THEN
IF NOT msf_surface_check
(cv\surface_curve.associated_geometry[i]) THEN
RETURN(FALSE);
END_IF;
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PCURVE' IN TYPEOF
(cv\surface_curve.associated_geometry[i]) THEN
IF NOT msf_curve_check
(cv\surface_curve.associated_geometry[i]) THEN
RETURN(FALSE);
END_IF;
END_IF;
END_IF;
END_REPEAT;
RETURN(TRUE);
END_IF;
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' IN TYPEOF(cv) THEN
IF (SIZEOF (cv\polyline.points) &gt;= 3) THEN RETURN (TRUE);
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="msf_surface_check">
                          <parameter
                            name="surf">
                            <typename
                              name="surface"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ELEMENTARY_SURFACE' IN TYPEOF(surf) THEN
RETURN(TRUE);
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SWEPT_SURFACE' IN TYPEOF (surf) THEN
RETURN (msf_curve_check(surf\swept_surface.swept_curve));
ELSE
IF (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OFFSET_SURFACE' IN TYPEOF (surf)) AND
(surf\offset_surface.self_intersect = FALSE) OR
(surf\offset_surface.self_intersect = UNKNOWN)) THEN
RETURN (msf_surface_check(surf\offset_surface.basis_surface));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_REPLICA' IN TYPEOF(surf) THEN
RETURN(msf_surface_check(surf\surface_replica.parent_surface));
ELSE
IF (('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_SURFACE' IN TYPEOF(surf)) AND
(surf\b_spline_surface.self_intersect = FALSE) OR
(surf\b_spline_surface.self_intersect = UNKNOWN)) THEN
RETURN(TRUE);
END_IF;
END_IF;
END_IF;
END_IF;
END_IF;
RETURN(FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="normalise">
                          <parameter
                            name="arg">
                            <typename
                              name="vector_or_direction"/>
                          </parameter>
                          <typename
                            name="vector_or_direction"/>
                          <algorithm>
LOCAL
ndim : INTEGER;
v : direction;
result : vector_or_direction;
vec : vector;
mag : REAL;
END_LOCAL;
IF NOT EXISTS (arg) THEN
result := ?;
ELSE
ndim := arg.dim;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VECTOR' IN TYPEOF(arg) THEN
BEGIN
v := dummy_gri || direction(arg.orientation.direction_ratios);
IF arg.magnitude = 0.0 THEN
RETURN(?);
ELSE
vec := dummy_gri || vector (v, 1.0);
END_IF;
END;
ELSE
v := dummy_gri || direction (arg.direction_ratios);
END_IF;
mag := 0.0;
REPEAT i := 1 TO ndim;
mag := mag + v.direction_ratios[i]*v.direction_ratios[i];
END_REPEAT;
IF mag &gt; 0.0 THEN
mag := SQRT(mag);
REPEAT i := 1 TO ndim;
v.direction_ratios[i] := v.direction_ratios[i]/mag;
END_REPEAT;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VECTOR' IN TYPEOF(arg) THEN
vec.orientation := v;
result := vec;
ELSE
result := v;
END_IF;
ELSE
RETURN(?);
END_IF;
END_IF;
RETURN (result);
                          </algorithm>
                        </function>

                        <function
                          name="open_shell_reversed">
                          <parameter
                            name="a_shell">
                            <typename
                              name="open_shell"/>
                          </parameter>
                          <typename
                            name="oriented_open_shell"/>
                          <algorithm>
LOCAL
the_reverse : oriented_open_shell;
END_LOCAL;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_OPEN_SHELL' IN TYPEOF (a_shell)) THEN
the_reverse := dummy_tri ||
connected_face_set (
a_shell\connected_face_set.cfs_faces) ||
open_shell () || oriented_open_shell(
a_shell\oriented_open_shell.open_shell_element,
(NOT (a_shell\oriented_open_shell.orientation)));
ELSE
the_reverse := dummy_tri ||
connected_face_set (
a_shell\connected_face_set.cfs_faces) ||
open_shell () || oriented_open_shell (a_shell, FALSE);
END_IF;
RETURN (the_reverse);
                          </algorithm>
                        </function>

                        <function
                          name="orthogonal_complement">
                          <parameter
                            name="vec">
                            <typename
                              name="direction"/>
                          </parameter>
                          <typename
                            name="direction"/>
                          <algorithm>
LOCAL
result : direction ;
END_LOCAL;
IF (vec.dim &lt;&gt; 2) OR NOT EXISTS (vec) THEN
RETURN(?);
ELSE
result := dummy_gri || direction([-vec.direction_ratios[2],
vec.direction_ratios[1]]);
RETURN(result);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="path_head_to_tail">
                          <parameter
                            name="a_path">
                            <typename
                              name="path"/>
                          </parameter>
                          <builtintype
                            type="LOGICAL"/>
                          <algorithm>
LOCAL
n : INTEGER;
p : LOGICAL := TRUE;
END_LOCAL;
n := SIZEOF (a_path.edge_list);
REPEAT i := 2 TO n;
p := p AND (a_path.edge_list[i-1].edge_end :=:
a_path.edge_list[i].edge_start);
END_REPEAT;
RETURN (p);
                          </algorithm>
                        </function>

                        <function
                          name="path_reversed">
                          <parameter
                            name="a_path">
                            <typename
                              name="path"/>
                          </parameter>
                          <typename
                            name="oriented_path"/>
                          <algorithm>
LOCAL
the_reverse : oriented_path ;
END_LOCAL;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ORIENTED_PATH' IN TYPEOF (a_path)) THEN
the_reverse := dummy_tri ||
path(list_of_topology_reversed (a_path.edge_list)) ||
oriented_path(a_path\oriented_path.path_element,
NOT(a_path\oriented_path.orientation)) ;
ELSE
the_reverse := dummy_tri ||
path(list_of_topology_reversed (a_path.edge_list)) ||
oriented_path(a_path, FALSE);
END_IF;
RETURN (the_reverse);
                          </algorithm>
                        </function>

                        <function
                          name="representations_mapped_into">
                          <parameter
                            name="rep">
                            <typename
                              name="representation"/>
                          </parameter>
                          <aggregate
                            type="SET"/>
                          <typename
                            name="representation"/>
                          <algorithm>
LOCAL
results : SET OF representation := [];
rm : SET OF representation_map;
mi : SET OF mapped_item := [];
END_LOCAL;
rm := bag_to_set(USEDIN(rep, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +
'REPRESENTATION_MAP.MAPPED_REPRESENTATION'));
REPEAT i := 1 TO HIINDEX(rm);
mi := mi + rm[i].map_usage;
END_REPEAT;
REPEAT j := 1 TO HIINDEX(mi);
results := results + USEDIN(mi[j],'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.' +
'REPRESENTATION.ITEMS');
END_REPEAT;
RETURN(results);
                          </algorithm>
                        </function>

                        <function
                          name="scalar_times_vector">
                          <parameter
                            name="scalar">
                            <builtintype
                              type="REAL"/>
                          </parameter>
                          <parameter
                            name="vec">
                            <typename
                              name="vector_or_direction"/>
                          </parameter>
                          <typename
                            name="vector"/>
                          <algorithm>
LOCAL
v : direction;
mag : REAL;
result : vector;
END_LOCAL;
IF NOT EXISTS (scalar) OR NOT EXISTS (vec) THEN
RETURN (?) ;
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VECTOR' IN TYPEOF (vec) THEN
v := dummy_gri || direction(vec.orientation.direction_ratios);
mag := scalar * vec.magnitude;
ELSE
v := dummy_gri || direction(vec.direction_ratios);
mag := scalar;
END_IF;
IF (mag &lt; 0.0) THEN
REPEAT i := 1 TO SIZEOF(v.direction_ratios);
v.direction_ratios[i] := -v.direction_ratios[i];
END_REPEAT;
mag := -mag;
END_IF;
result := dummy_gri || vector(normalise(v), mag);
END_IF;
RETURN (result);
                          </algorithm>
                        </function>

                        <function
                          name="second_proj_axis">
                          <parameter
                            name="z_axis">
                            <typename
                              name="direction"/>
                          </parameter>
                          <parameter
                            name="x_axis">
                            <typename
                              name="direction"/>
                          </parameter>
                          <parameter
                            name="arg">
                            <typename
                              name="direction"/>
                          </parameter>
                          <typename
                            name="direction"/>
                          <algorithm>
LOCAL
y_axis : vector;
v : direction;
temp : vector;
END_LOCAL;
IF NOT EXISTS(arg) THEN
v := dummy_gri || direction([0.0,1.0,0.0]);
ELSE
v := arg;
END_IF;
temp := scalar_times_vector(dot_product(v, z_axis), z_axis);
y_axis := vector_difference(v, temp);
temp := scalar_times_vector(dot_product(v, x_axis), x_axis);
y_axis := vector_difference(y_axis, temp);
y_axis := normalise(y_axis);
RETURN(y_axis.orientation);
                          </algorithm>
                        </function>

                        <function
                          name="set_of_topology_reversed">
                          <parameter
                            name="a_set">
                            <typename
                              name="set_of_reversible_topology_item"/>
                          </parameter>
                          <typename
                            name="set_of_reversible_topology_item"/>
                          <algorithm>
LOCAL
the_reverse : set_of_reversible_topology_item;
END_LOCAL;
the_reverse := [];
REPEAT i := 1 TO SIZEOF (a_set);
the_reverse := the_reverse + topology_reversed (a_set [i]);
END_REPEAT;
RETURN (the_reverse);
                          </algorithm>
                        </function>

                        <function
                          name="shell_reversed">
                          <parameter
                            name="a_shell">
                            <typename
                              name="shell"/>
                          </parameter>
                          <typename
                            name="shell"/>
                          <algorithm>
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OPEN_SHELL' IN TYPEOF (a_shell)) THEN
RETURN (open_shell_reversed (a_shell));
ELSE
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CLOSED_SHELL' IN TYPEOF (a_shell)) THEN
RETURN (closed_shell_reversed (a_shell));
ELSE
RETURN (?);
END_IF;
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="surface_weights_positive">
                          <parameter
                            name="b">
                            <typename
                              name="rational_b_spline_surface"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
result : BOOLEAN := TRUE;
END_LOCAL;
REPEAT i := 0 TO b.u_upper;
REPEAT j := 0 TO b.v_upper;
IF (b.weights[i][j] &lt;= 0.0) THEN
result := FALSE;
RETURN(result);
END_IF;
END_REPEAT;
END_REPEAT;
RETURN(result);
                          </algorithm>
                        </function>

                        <function
                          name="topology_reversed">
                          <parameter
                            name="an_item">
                            <typename
                              name="reversible_topology"/>
                          </parameter>
                          <typename
                            name="reversible_topology"/>
                          <algorithm>
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.EDGE' IN TYPEOF (an_item)) THEN
RETURN (edge_reversed (an_item));
END_IF;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PATH' IN TYPEOF (an_item)) THEN
RETURN (path_reversed (an_item));
END_IF;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACE_BOUND' IN TYPEOF (an_item)) THEN
RETURN (face_bound_reversed (an_item));
END_IF;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FACE' IN TYPEOF (an_item)) THEN
RETURN (face_reversed (an_item));
END_IF;
IF ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHELL' IN TYPEOF (an_item)) THEN
RETURN (shell_reversed (an_item));
END_IF;
IF ('SET' IN TYPEOF (an_item)) THEN
RETURN (set_of_topology_reversed (an_item));
END_IF;
IF ('LIST' IN TYPEOF (an_item)) THEN
RETURN (list_of_topology_reversed (an_item));
END_IF;
RETURN (?);
                          </algorithm>
                        </function>

                        <function
                          name="type_check_function">
                          <parameter
                            name="the_type">
                            <builtintype
                              type="GENERIC"/>
                          </parameter>
                          <parameter
                            name="sub_names">
                            <aggregate
                              type="SET"/>
                            <builtintype
                              type="STRING"/>
                          </parameter>
                          <parameter
                            name="criterion">
                            <builtintype
                              type="INTEGER"/>
                          </parameter>
                          <builtintype
                            type="LOGICAL"/>
                          <algorithm>
IF ((NOT EXISTS (the_type)) OR (NOT ({0&lt;= criterion &lt;=3})) OR
(SIZEOF (sub_names) = 0)) THEN RETURN (UNKNOWN);
ELSE
CASE criterion OF
0: RETURN (SIZEOF (sub_names * TYPEOF (the_type)) &gt; 0);
1: RETURN (SIZEOF (sub_names * TYPEOF (the_type)) = 0);
2: RETURN (SIZEOF (sub_names * TYPEOF (the_type)) = 1);
3: RETURN (SIZEOF (sub_names * TYPEOF (the_type)) &lt;= 1);
END_CASE;
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="using_items">
                          <parameter
                            name="item">
                            <typename
                              name="founded_item_select"/>
                          </parameter>
                          <parameter
                            name="checked_items">
                            <aggregate
                              type="SET"/>
                            <typename
                              name="founded_item_select"/>
                          </parameter>
                          <aggregate
                            type="SET"/>
                          <typename
                            name="founded_item_select"/>
                          <algorithm>
LOCAL
new_check_items : SET OF founded_item_select;
result_items : SET OF founded_item_select;
next_items : SET OF founded_item_select;
END_LOCAL;
result_items := [];
new_check_items := checked_items + item;
next_items := QUERY(z &lt;* bag_to_set(USEDIN(item , '')) |
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.REPRESENTATION_ITEM' IN TYPEOF(z)) OR
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FOUNDED_ITEM' IN TYPEOF(z)));
IF SIZEOF(next_items) &gt; 0 THEN
REPEAT i := 1 TO HIINDEX(next_items);
IF NOT(next_items[i] IN new_check_items) THEN
result_items := result_items + next_items[i] +
using_items(next_items[i],new_check_items);
END_IF;
END_REPEAT;
END_IF;
RETURN (result_items);
                          </algorithm>
                        </function>

                        <function
                          name="using_representations">
                          <parameter
                            name="item">
                            <typename
                              name="founded_item_select"/>
                          </parameter>
                          <aggregate
                            type="SET"/>
                          <typename
                            name="representation"/>
                          <algorithm>
LOCAL
results : SET OF representation;
result_bag : BAG OF representation;
intermediate_items : SET OF founded_item_select;
END_LOCAL;
results := [];
result_bag :=
USEDIN(item,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.REPRESENTATION.ITEMS');
IF SIZEOF(result_bag) &gt; 0 THEN
REPEAT i := 1 TO HIINDEX(result_bag);
results := results + result_bag[i];
END_REPEAT;
END_IF;
intermediate_items := using_items(item,[]);
IF SIZEOF(intermediate_items) &gt; 0 THEN
REPEAT i := 1 TO HIINDEX(intermediate_items);
result_bag := USEDIN(intermediate_items[i],
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.REPRESENTATION.ITEMS');
IF SIZEOF(result_bag) &gt; 0 THEN
REPEAT j := 1 TO HIINDEX(result_bag);
results := results + result_bag[j];
END_REPEAT;
END_IF;
END_REPEAT;
END_IF;
RETURN (results);
                          </algorithm>
                        </function>

                        <function
                          name="valid_calendar_date">
                          <parameter
                            name="date">
                            <typename
                              name="calendar_date"/>
                          </parameter>
                          <builtintype
                            type="LOGICAL"/>
                          <algorithm>
CASE date.month_component OF
1 : RETURN({ 1 &lt;= date.day_component &lt;= 31 });
2 : BEGIN
IF (leap_year(date.year_component)) THEN
RETURN({ 1 &lt;= date.day_component &lt;= 29 });
ELSE
RETURN({ 1 &lt;= date.day_component &lt;= 28 });
END_IF;
END;
3 : RETURN({ 1 &lt;= date.day_component &lt;= 31 });
4 : RETURN({ 1 &lt;= date.day_component &lt;= 30 });
5 : RETURN({ 1 &lt;= date.day_component &lt;= 31 });
6 : RETURN({ 1 &lt;= date.day_component &lt;= 30 });
7 : RETURN({ 1 &lt;= date.day_component &lt;= 31 });
8 : RETURN({ 1 &lt;= date.day_component &lt;= 31 });
9 : RETURN({ 1 &lt;= date.day_component &lt;= 30 });
10 : RETURN({ 1 &lt;= date.day_component &lt;= 31 });
11 : RETURN({ 1 &lt;= date.day_component &lt;= 30 });
12 : RETURN({ 1 &lt;= date.day_component &lt;= 31 });
END_CASE;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="valid_datum_target_parameters">
                          <parameter
                            name="pdf">
                            <typename
                              name="placed_datum_target_feature"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
rep_set : SET OF representation := [] ;
parameter_representations: SET OF representation;
END_LOCAL;
REPEAT i := 1 TO HIINDEX(pdf.representation_associations);
rep_set := rep_set + pdf.representation_associations[i].used_representation;
END_REPEAT;
parameter_representations := QUERY(rep &lt;* rep_set |
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SHAPE_REPRESENTATION_WITH_PARAMETERS' IN
TYPEOF(rep)));
IF (SIZEOF(QUERY(srwp &lt;* parameter_representations |
(SIZEOF(QUERY(i &lt;* srwp.items |
(i.name='orientation') AND
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PLACEMENT' IN TYPEOF(i)))) = 1))) &lt;&gt; 1) THEN
RETURN(FALSE);
END_IF;
CASE pdf\shape_aspect.description OF
'point': RETURN(SIZEOF(QUERY(srwp &lt;* parameter_representations |
(SIZEOF(srwp.items) = 1))) = 1);
'circle': RETURN((SIZEOF(QUERY(srwp &lt;* parameter_representations |
(SIZEOF(srwp.items) = 2))) = 1) AND
(SIZEOF(QUERY(srwp &lt;* parameter_representations |
(SIZEOF(QUERY(i &lt;* srwp.items |
(i.name='target diameter') AND
(SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM',
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LENGTH_MEASURE_WITH_UNIT']*TYPEOF(i)
) = 2))) = 1))) = 1));
'line': RETURN(SIZEOF(QUERY(srwp &lt;* parameter_representations |
(SIZEOF(QUERY(i &lt;* srwp.items |
(i.name='target length') AND
(SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM',
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LENGTH_MEASURE_WITH_UNIT']*TYPEOF(i)
) = 2))) = 1))) = 1);
'rectangle': RETURN((SIZEOF(QUERY(srwp &lt;* parameter_representations |
(SIZEOF(srwp.items)= 3))) = 1) AND
(SIZEOF(QUERY(srwp &lt;* parameter_representations |
(SIZEOF(QUERY(i &lt;* srwp.items |
(i.name='target length') AND
(SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM',
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LENGTH_MEASURE_WITH_UNIT']*TYPEOF(i)
) = 2))) = 1))) = 1) AND
(SIZEOF(QUERY(srwp &lt;* parameter_representations |
(SIZEOF(QUERY(i &lt;* srwp.items |
(i.name='target width') AND
(SIZEOF(['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM',
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LENGTH_MEASURE_WITH_UNIT']*TYPEOF(i)
) = 2))) = 1))) = 1));
OTHERWISE : RETURN(FALSE);
END_CASE;
                          </algorithm>
                        </function>

                        <function
                          name="valid_geometrically_bounded_wf_curve">
                          <parameter
                            name="crv">
                            <typename
                              name="curve"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_CURVE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ELLIPSE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CIRCLE' ] * TYPEOF (crv)) = 1 THEN
RETURN (TRUE);
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TRIMMED_CURVE' IN TYPEOF (crv) THEN
IF SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PARABOLA', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.HYPERBOLA' ] * TYPEOF (crv\trimmed_curve.basis_curve)) = 1 THEN
RETURN (TRUE);
ELSE
RETURN (valid_geometrically_bounded_wf_curve(crv\trimmed_curve.basis_curve));
END_IF ;
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OFFSET_CURVE_3D' IN TYPEOF (crv) THEN
RETURN (valid_geometrically_bounded_wf_curve(crv\offset_curve_3d.basis_curve));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_REPLICA' IN TYPEOF (crv) THEN
RETURN (valid_geometrically_bounded_wf_curve(crv\curve_replica.parent_curve));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOSITE_CURVE' IN TYPEOF (crv) THEN
RETURN (SIZEOF (
QUERY (ccs &lt;* crv\composite_curve.segments| NOT valid_geometrically_bounded_wf_curve(ccs.parent_curve))) = 0);
END_IF ;
END_IF ;
END_IF ;
END_IF ;
END_IF ;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="valid_geometrically_bounded_wf_point">
                          <parameter
                            name="pnt">
                            <typename
                              name="point"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT' IN TYPEOF (pnt) THEN
RETURN (TRUE);
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_ON_CURVE' IN TYPEOF (pnt) THEN
RETURN (valid_geometrically_bounded_wf_curve(pnt\point_on_curve.basis_curve));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_REPLICA' IN TYPEOF (pnt) THEN
RETURN (valid_geometrically_bounded_wf_point(pnt\point_replica.parent_pt));
END_IF ;
END_IF ;
END_IF ;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="valid_measure_value">
                          <parameter
                            name="m">
                            <typename
                              name="measure_value"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF ('REAL' IN TYPEOF (m)) THEN
RETURN (m &gt; 0.0);
ELSE
IF ('INTEGER' IN TYPEOF (m)) THEN
RETURN (m &gt; 0);
ELSE
RETURN (TRUE);
END_IF;
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="valid_time">
                          <parameter
                            name="time">
                            <typename
                              name="local_time"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF EXISTS(time.second_component) THEN
RETURN (EXISTS(time.minute_component));
ELSE
RETURN (TRUE);
END_IF;
                          </algorithm>
                        </function>

                        <function
                          name="valid_units">
                          <parameter
                            name="m">
                            <typename
                              name="measure_with_unit"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LENGTH_MEASURE' IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MASS_MEASURE' IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TIME_MEASURE' IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ELECTRIC_CURRENT_MEASURE'
IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.THERMODYNAMIC_TEMPERATURE_MEASURE'
IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CELSIUS_TEMPERATURE_MEASURE'
IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AMOUNT_OF_SUBSTANCE_MEASURE'
IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LUMINOUS_INTENSITY_MEASURE'
IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PLANE_ANGLE_MEASURE' IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SOLID_ANGLE_MEASURE' IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.AREA_MEASURE' IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (2.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VOLUME_MEASURE' IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (3.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.RATIO_MEASURE' IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POSITIVE_LENGTH_MEASURE'
IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POSITIVE_PLANE_ANGLE_MEASURE'
IN TYPEOF (m.value_component) THEN
IF derive_dimensional_exponents (m.unit_component) &lt;&gt;
dimensional_exponents (0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0) THEN
RETURN (FALSE);
END_IF;
END_IF;
RETURN (TRUE);
                          </algorithm>
                        </function>

                        <function
                          name="valid_wireframe_edge_curve">
                          <parameter
                            name="crv">
                            <typename
                              name="curve"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF SIZEOF ([ 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONIC', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.B_SPLINE_CURVE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POLYLINE' ] * TYPEOF (crv)) = 1 THEN
RETURN (TRUE);
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_REPLICA' IN TYPEOF (crv) THEN
RETURN (valid_wireframe_edge_curve(crv\curve_replica.parent_curve));
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.OFFSET_CURVE_3D' IN TYPEOF (crv) THEN
RETURN (valid_wireframe_edge_curve(crv\offset_curve_3d.basis_curve));
END_IF ;
END_IF ;
END_IF ;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="valid_wireframe_vertex_point">
                          <parameter
                            name="pnt">
                            <typename
                              name="point"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CARTESIAN_POINT' IN TYPEOF (pnt) THEN
RETURN (TRUE);
ELSE
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POINT_REPLICA' IN TYPEOF (pnt) THEN
RETURN (valid_wireframe_vertex_point(pnt\point_replica.parent_pt));
END_IF ;
END_IF ;
RETURN (FALSE);
                          </algorithm>
                        </function>

                        <function
                          name="value_range_wr1">
                          <parameter
                            name="agg">
                            <typename
                              name="compound_item_definition"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
BEGIN
IF (SIZEOF(agg) = 2) AND ((SIZEOF(QUERY (i1 &lt;* agg | (
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF
(i1)))) = 2) OR
(SIZEOF(QUERY (i2 &lt;* agg | (
'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VALUE_REPRESENTATION_ITEM' IN TYPEOF
(i2)))) = 2)) THEN
RETURN(TRUE);
ELSE
RETURN(FALSE);
END_IF;
END;
                          </algorithm>
                        </function>

                        <function
                          name="value_range_wr2">
                          <parameter
                            name="agg">
                            <typename
                              name="compound_item_definition"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
BEGIN
IF (SIZEOF(QUERY (i &lt;* agg | (i.name = 'upper limit'))) = 1)
AND (SIZEOF(QUERY (i &lt;* agg | (i.name = 'lower limit'))) = 1)
THEN
RETURN(TRUE);
ELSE
RETURN(FALSE);
END_IF;
END;
                          </algorithm>
                        </function>

                        <function
                          name="value_range_wr3">
                          <parameter
                            name="agg">
                            <typename
                              name="compound_item_definition"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
BEGIN
IF (SIZEOF(QUERY(i1 &lt;* agg |
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF (i1)) AND
(SIZEOF (QUERY (i2 &lt;* agg |
('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM' IN TYPEOF (i2)) AND
(i1 :&lt;&gt;: i2) AND (i1\measure_with_unit.unit_component :=: i2\measure_with_unit.unit_component))) = 1))) = 2)
THEN
RETURN (TRUE);
ELSE
RETURN (FALSE);
END_IF;
END;
                          </algorithm>
                        </function>

                        <function
                          name="vector_difference">
                          <parameter
                            name="arg1">
                            <typename
                              name="vector_or_direction"/>
                          </parameter>
                          <parameter
                            name="arg2">
                            <typename
                              name="vector_or_direction"/>
                          </parameter>
                          <typename
                            name="vector"/>
                          <algorithm>
LOCAL
result : vector;
res, vec1, vec2 : direction;
mag, mag1, mag2 : REAL;
ndim : INTEGER;
END_LOCAL;
IF ((NOT EXISTS (arg1)) OR (NOT EXISTS (arg2))) OR (arg1.dim &lt;&gt; arg2.dim)
THEN
RETURN (?) ;
ELSE
BEGIN
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VECTOR' IN TYPEOF(arg1) THEN
mag1 := arg1.magnitude;
vec1 := arg1.orientation;
ELSE
mag1 := 1.0;
vec1 := arg1;
END_IF;
IF 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VECTOR' IN TYPEOF(arg2) THEN
mag2 := arg2.magnitude;
vec2 := arg2.orientation;
ELSE
mag2 := 1.0;
vec2 := arg2;
END_IF;
vec1 := normalise (vec1);
vec2 := normalise (vec2);
ndim := SIZEOF(vec1.direction_ratios);
mag := 0.0;
res := dummy_gri || direction(vec1.direction_ratios);
REPEAT i := 1 TO ndim;
res.direction_ratios[i] := mag1*vec1.direction_ratios[i] +
mag2*vec2.direction_ratios[i];
mag := mag + (res.direction_ratios[i]*res.direction_ratios[i]);
END_REPEAT;
IF (mag &gt; 0.0) THEN
result := dummy_gri || vector(res, SQRT(mag));
ELSE
result := dummy_gri || vector(vec1, 0.0);
END_IF;
END;
END_IF;
RETURN (result);
                          </algorithm>
                        </function>

                        <rule
                          name="compatible_dimension"
                          appliesto="cartesian_point direction representation_context geometric_representation_context">
                          <where
                            label="WR1"
                            expression="SIZEOF(QUERY(x &lt;* cartesian_point| SIZEOF(QUERY(y &lt;* geometric_representation_context | item_in_context(x,y) AND(HIINDEX(x.coordinates) &lt;&gt; y.coordinate_space_dimension))) &gt; 0)) =0">
                          </where>
                          <where
                            label="WR2"
                            expression="SIZEOF(QUERY(x &lt;* direction | SIZEOF(QUERY(y &lt;* geometric_representation_context | item_in_context(x,y) AND(HIINDEX(x.direction_ratios) &lt;&gt; y.coordinate_space_dimension)))&gt; 0)) = 0">
                          </where>
                        </rule>

                        <rule
                          name="consistent_uncertainty"
                          appliesto="global_uncertainty_assigned_context qualified_representation_item uncertainty_assigned_representation">
                          <where
                            label="WR1"
                            expression="SIZEOF (QUERY (guac &lt;* global_uncertainty_assigned_context | SIZEOF (QUERY (u1 &lt;* guac.uncertainty | SIZEOF (QUERY (u2 &lt;* guac.uncertainty | u2.name = u1.name)) &gt;1)) &gt;0)) = 0">
                          </where>
                          <where
                            label="WR2"
                            expression="SIZEOF (QUERY (uar &lt;* uncertainty_assigned_representation | SIZEOF (QUERY (u1&lt;* uar.uncertainty | SIZEOF (QUERY (u2 &lt;* uar.uncertainty | u2.name = u1.name)) &gt;1)) &gt;0)) = 0">
                          </where>
                          <where
                            label="WR3"
                            expression="SIZEOF (QUERY (qri &lt;* qualified_representation_item | SIZEOF (QUERY (u1 &lt;* qri.qualifiers |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF' + '.UNCERTAINTY_QUALIFIER' IN TYPEOF (u1)) AND(SIZEOF (QUERY (u2 &lt;* qri.qualifiers |('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF' + '.UNCERTAINTY_QUALIFIER' IN TYPEOF (u2)) AND(u2\uncertainty_qualifier.measure_name = u1\uncertainty_qualifier.measure_name))) &gt;1))) &gt;0)) = 0">
                          </where>
                        </rule>

                        <rule
                          name="restrict_language_assignment_per_attribute"
                          appliesto="attribute_language_assignment">
                          <where
                            label="WR1"
                            expression="SIZEOF (QUERY (ala1 &lt;* attribute_language_assignment | SIZEOF(QUERY(it &lt;* ala1.items | SIZEOF (QUERY (ala2 &lt;* USEDIN (it ,'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ATTRIBUTE_LANGUAGE_ASSIGNMENT.ITEMS') |(ala1\attribute_classification_assignment.attribute_name = ala2\attribute_classification_assignment.attribute_name) AND(ala1\attribute_classification_assignment.assigned_class :=: ala2\attribute_classification_assignment.assigned_class))) &gt;1)) &gt;0)) =0">
                          </where>
                        </rule>

                        <rule
                          name="styled_curve"
                          appliesto="styled_item">
                          <where
                            label="WR1"
                            expression="SIZEOF(QUERY(si &lt;* styled_item | ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE' IN TYPEOF (si.item)) AND (SIZEOF (QUERY (psa &lt;* si.styles | (SIZEOF (QUERY (cs &lt;* psa.styles | ('CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CURVE_STYLE' IN TYPEOF (cs)))) &gt; 0))) &lt;&gt; 1))) = 0">
                          </where>
                        </rule>

                        <rule
                          name="subtype_exclusiveness_geometric_tolerance"
                          appliesto="geometric_tolerance">
                          <where
                            label="WR1"
                            expression="SIZEOF(QUERY (gt &lt;* geometric_tolerance | NOT (type_check_function(gt, ['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANGULARITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CIRCULAR_RUNOUT_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COAXIALITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONCENTRICITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CYLINDRICITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FLATNESS_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE_PROFILE_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PARALLELISM_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PERPENDICULARITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POSITION_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ROUNDNESS_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STRAIGHTNESS_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_PROFILE_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMMETRY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TOTAL_RUNOUT_TOLERANCE'] , 3)))) = 0">
                          </where>
                        </rule>

                        <rule
                          name="subtype_exclusiveness_representation_item"
                          appliesto="representation_item">
                          <where
                            label="WR1"
                            expression="SIZEOF(QUERY (cri &lt;* representation_item | NOT (type_check_function(cri,['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.MEASURE_REPRESENTATION_ITEM','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.VALUE_REPRESENTATION_ITEM','CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COMPOUND_REPRESENTATION_ITEM'] , 3)))) = 0">
                          </where>
                        </rule>

                        <rule
                          name="subtype_mandatory_geometric_tolerance"
                          appliesto="geometric_tolerance">
                          <where
                            label="WR1"
                            expression="SIZEOF(QUERY (gt &lt;* geometric_tolerance | NOT (type_check_function(gt, ['CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ANGULARITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CIRCULAR_RUNOUT_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.COAXIALITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CONCENTRICITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.CYLINDRICITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.FLATNESS_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.LINE_PROFILE_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PARALLELISM_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.PERPENDICULARITY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.POSITION_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.ROUNDNESS_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.STRAIGHTNESS_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SURFACE_PROFILE_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.SYMMETRY_TOLERANCE', 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TOTAL_RUNOUT_TOLERANCE'] , 0)))) = 0">
                          </where>
                        </rule>

                        <rule
                          name="text_font_usage"
                          appliesto="externally_defined_text_font pre_defined_text_font">
                          <where
                            label="WR1"
                            expression="SIZEOF (QUERY (pdtf &lt;* pre_defined_text_font | SIZEOF (USEDIN (pdtf, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL.FONT')) = 0)) = 0">
                          </where>
                          <where
                            label="WR2"
                            expression="SIZEOF (QUERY (edtf &lt;* externally_defined_text_font | SIZEOF (USEDIN (edtf, 'CONFIGURATION_CONTROLLED_3D_PARTS_AND_ASSEMBLIES_MIM_LF.TEXT_LITERAL.FONT')) = 0)) = 0">
                          </where>
                        </rule>

                        <rule
                          name="validate_dependently_instantiable_entity_data_types"
                          appliesto="application_context application_context_element area_in_set attribute_value_role bounded_curve bounded_surface camera_image camera_model_d3 cartesian_transformation_operator classification_role connected_edge_set contract_type document_type document_usage_constraint event_occurrence_role local_time loop one_direction_repeat_factor oriented_face oriented_open_shell oriented_path planar_box pre_defined_item presentation_set product_context product_definition_context_role product_definition_effectivity runout_zone_orientation solid_model swept_face_solid tolerance_zone_form two_direction_repeat_factor vertex view_volume">
                          <algorithm>
LOCAL
number_of_input_instances : INTEGER;
previous_in_chain : LIST OF GENERIC := [];
set_of_input_types : SET OF STRING := [];
all_instances : SET OF GENERIC := [];
END_LOCAL;
all_instances := application_context + application_context_element + area_in_set + attribute_value_role + bounded_curve + bounded_surface + camera_image + camera_model_d3 + cartesian_transformation_operator + classification_role + connected_edge_set + contract_type + document_type + document_usage_constraint + event_occurrence_role + local_time + loop + one_direction_repeat_factor + oriented_face + oriented_open_shell + oriented_path + planar_box + pre_defined_item + presentation_set + product_context + product_definition_context_role + product_definition_effectivity + runout_zone_orientation + solid_model + swept_face_solid + tolerance_zone_form + two_direction_repeat_factor + vertex + view_volume;
number_of_input_instances := SIZEOF(all_instances);
REPEAT i:=1 TO number_of_input_instances;
set_of_input_types := set_of_input_types + TYPEOF(all_instances[i]);
END_REPEAT;
                          </algorithm>
                          <where
                            label="WR1"
                            expression="dependently_instantiated(all_instances, set_of_input_types, previous_in_chain)">
                          </where>
                        </rule>

                        <function
                          name="dependently_instantiated">
                          <parameter
                            name="set_of_input_instances">
                            <aggregate
                              type="SET"/>
                            <builtintype
                              type="GENERIC"
                              typelabel="igen"/>
                          </parameter>
                          <parameter
                            name="set_of_input_types">
                            <aggregate
                              type="SET"/>
                            <builtintype
                              type="STRING"/>
                          </parameter>
                          <parameter
                            name="previous_in_chain">
                            <aggregate
                              type="LIST"/>
                            <builtintype
                              type="GENERIC"
                              typelabel="cgen"/>
                          </parameter>
                          <builtintype
                            type="BOOLEAN"/>
                          <algorithm>
LOCAL
number_of_input_instances : INTEGER;
number_of_referring_instances : INTEGER;
bag_of_referring_instances : BAG OF GENERIC:igen := [];
dependently_instantiated_flag : BOOLEAN;
previous_in_chain_plus : LIST OF GENERIC:cgen := [];
result : BOOLEAN := true;
set_of_types : SET OF STRING := [];
END_LOCAL;
IF EXISTS(set_of_input_instances) THEN
number_of_input_instances := SIZEOF(set_of_input_instances);
set_of_input_types := set_of_input_types + 'GENERIC';
REPEAT i:=1 TO number_of_input_instances;
bag_of_referring_instances := USEDIN (set_of_input_instances[i] , '');
IF EXISTS(bag_of_referring_instances) THEN
number_of_referring_instances := SIZEOF(bag_of_referring_instances);
dependently_instantiated_flag := false;
REPEAT j:=1 TO number_of_referring_instances;
set_of_types := TYPEOF(bag_of_referring_instances[j]);
IF set_of_types &lt;= set_of_input_types THEN
IF NOT (bag_of_referring_instances[j] IN previous_in_chain) THEN
previous_in_chain_plus := previous_in_chain +
set_of_input_instances[i];
IF dependently_instantiated([bag_of_referring_instances[j]],
set_of_input_types,
previous_in_chain_plus) THEN
dependently_instantiated_flag := true;
ESCAPE;
ELSE
SKIP;
END_IF;
END_IF;
ELSE
dependently_instantiated_flag := true;
ESCAPE;
END_IF;
END_REPEAT;
IF NOT dependently_instantiated_flag THEN
RETURN(false);
END_IF;
ELSE
RETURN(false);
END_IF;
END_REPEAT;
ELSE
RETURN(false);
END_IF;
RETURN(true);
                          </algorithm>
                        </function>

                      </schema>
                    </express>
