<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.28 2005/04/13 17:18:56 thendrix Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
<!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      -->
<module name="configuration_controlled_3d_parts_and_assemblies" 
	name.french="pi&#232;ces et assemblages pour la gestion de configuration 3D"
	part="1230" 
	version="1" 
	sc4.working_group="3" 
	wg.number="1863" wg.number.supersedes="1471" 
	wg.number.arm="1874" wg.number.arm.supersedes="1472" 
	wg.number.arm_lf="1875" wg.number.arm_lf.supersedes="1473"
	wg.number.mim="1876" wg.number.mim.supersedes="1474"
	wg.number.mim_lf="1877" wg.number.mim_lf.supersedes="1475"
	checklist.internal_review="1869" 
	checklist.project_leader="1865" 
	checklist.convener="1866" 
	status="TS" 
	language="E" 
	publication.year="2005" 
	publication.date="2005-05-01"
	published="y" 
	rcs.date="$Date: 2005/04/13 17:18:56 $" 
	rcs.revision="$Revision: 1.28 $" 
	development.folder="dvlp">
  <keywords>
    module, parts, assemblies, three-dimensional, configuration control, tolerances
 </keywords>
	<comments_to_reader>
	  <comment_to_reader>ISO 10303-1230 was split from ISO/CD-TS 10303-403:2004 (ISO TC184/SC4/WG3 N1196) as a response to ballot comments DE4, US1 and US6, which required the addition of implementation modules to the AP package. No new content was added to this module.
	  </comment_to_reader>
	</comments_to_reader>	
	<!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
	<contacts>
		<projlead ref="pdmmodules.projlead"/>
		<editor ref="pdmmodules.editor"/>
	</contacts>
	<!-- Introduction -->
	<!-- The introduction should start as shown: -->
	<purpose>
		<p>
     This part of ISO 10303 specifies an application module for the representation of the product definitions with three-dimensional  shape representations for parts and assemblies, and the data which defines and controls the configuration of these product definitions for the design life cycle.  
   </p>
	</purpose>
	<!-- Items in scope -->
	<inscope>
		<li>products that are three-dimensional parts and assemblies; </li>
		<li> configuration control data and product definition data; </li>
		<li>  shape representations that includes advanced boundary representation, faceted boundary representation, manifold manifold surfaces with topology, geometrically bounded surface and wireframe geometry,  wireframe with topology, and constructive solid geometry in three-dimensions;</li>
		<li>geometric presentation of geometric shape representations by the application of colours, layers and groups;</li>
		<li>geometric and dimensional tolerances applied to geometric shape representations;</li>
		<li>textual annotation and notes applied to geometric shape representations.</li>
	</inscope>
	<!-- Items out of scope -->
	<outscope>
		<li>business data for management of a design project;</li>
		<li>data that results in change to the design during the initial design evolution prior to release;</li>
		<li>product definition data and configuration control data pertaining to any life cycle phase other than design.</li>
	</outscope>
	<!--
 <normrefs/>

 <definition/>

 <abbreviations/>
-->
	<!-- Clause 4 ARM  -->
	<arm>
		<!-- Note ARM short form EXPRESS is in arm.xml -->
		<!-- Short form EXPRESS-G -->
		<express-g>
			<imgfile file="armexpg1.xml"/>
			<imgfile file="armexpg2.xml"/>
		</express-g>
	</arm>
	<!-- ARM long form (optional) -->
	<arm_lf>
		<!-- Note ARM long form EXPRESS is in arm_lf.xml -->
	</arm_lf>
	<!-- Clause 5.1 Mapping specification -->
	<mapping_table>
		<!--The mappings for this module are found in the mapping tables of the following modules:
	
		IISO/CD-TS 10303-1231  (Product_data_management)
		ISO/TS 10303-1514  (Advanced_boundary_representation)
		ISO/CD-TS 10303-1001 (Appearance_assignment)
		ISO/CD-TS 10303-1132  (Associative_text)
		ISO/CD-TS -1131  (Construction_geometry)
		ISO/TS 10303-1068  (Constructive_solid_geometry_3d)
		ISO/CD-TS-10303-1003  (Curve_appearance)
		ISO/CD-TS- 10303-1052  (Default_tolerance)
		ISO/CD-TS 10303-1130  (Derived_shape_property)
		ISO/CD-TS 10303- 1051 (Dimension_tolerance)
		ISO/TS 10303-1501 (Edge_based_wireframe)
		ISO/TS 10303-1512  (Faceted_boundary_representation)
		ISO/TS 10303- 1501 (Geometrically_bounded_surface)
		ISO/TS 10303-1510  (Geometrically_bounded_wireframe)
		ISO/TS 10303-1039  (Geometric_validation_property_representation)
		ISO/TS  10303-1509  (Manifold_surface)
		ISO/TS 10303-1502  (Shell_based_wireframe)
		ISO/TS 10303-1228  (Representation_with_uncertainty)
		ISO/TS 10303-1054  (Value_with_unit)-->


<ae entity="Appearance_assignment" original_module= "appearance_assignment" > 

<aa attribute="appearance_components" assertion_to="Curve_appearance"> 
<aimelt>PATH</aimelt> 
<refpath>presentation_style_assignment
presentation_style_assignment.styles[i] -> 
presentation_style_select = curve_style
curve_style
</refpath> 
</aa> 

<aa attribute="appearance_components" assertion_to="Point_appearance"> 
<aimelt>PATH</aimelt> 
<refpath>presentation_style_assignment
presentation_style_assignment.styles[i] -> 
presentation_style_select =  point_style
point_style
</refpath> 
</aa> 

<aa attribute="appearance_components" assertion_to="Vector_appearance"> 
<aimelt>PATH</aimelt> 
<refpath>presentation_style_assignment
presentation_style_assignment.styles[i] -> 
presentation_style_select =  vector_style
vector_style
</refpath> 
</aa> 
</ae>
<ae entity="Context_dependent_appearance_assignment" original_module= "appearance_assignment" > 

<aa attribute="context_definition" assertion_to="Group"> 
<aimelt>PATH</aimelt> 
<refpath>presentation_style_by_context
presentation_style_by_context.style_context -> 
style_context_select =  group
group
</refpath> 
</aa> 

<aa attribute="context_definition" assertion_to="Layer"> 
<aimelt>PATH</aimelt> 
<refpath>presentation_style_by_context
presentation_style_by_context.style_context -> 
style_context_select =  presentation_layer_assignment
presentation_layer_assignment
</refpath> 
</aa> 

<aa attribute="context_definition" assertion_to="Representation"> 
<aimelt>PATH</aimelt> 
<refpath>presentation_style_by_context
presentation_style_by_context.style_context -> 
style_context_select = representation
representation 
</refpath> 
</aa> 


</ae> 
<ae entity="Document_assignment" original_module= "document_assignment" > 

<aa attribute="is_assigned_to" assertion_to="Part_view_definition"> 
<aimelt>PATH</aimelt> 
<refpath>applied_document_reference
{applied_document_reference &lt;= 
document_reference
document_reference.role ->
object_role
object_role.name ='dimensioning standard'}
applied_document_reference.items[i] ->
document_reference_item *> dimensioning_standard_document_reference_item
dimensioning_standard_document_reference_item = product_definition
product
{product &lt;-
product_related_product_category.products[i]
product_related_product_category &lt;=
product_category
(product_category.name='part')
(product_category.name='raw material')}
</refpath> 
</aa> 
</ae> 

<ae entity="Dimensioning_standard">
<aimelt>/SUPERTYPE(Document_assignment)/</aimelt>
<aa attribute="is_assigned_to" assertion_to="dimensioning_standard_documented_element_select">
     <alt_map id="1">       
       <description>
         If the assignment is not a partial document assignment.
       </description>
       <aimelt>PATH</aimelt>
       <refpath>applied_document_reference
       applied_document_reference.items[i] -&gt;
       document_reference_item *>
       dimensioning_standard_document_reference_item
       </refpath>
     </alt_map>
     <alt_map id="2">
       <description>
         If the assignment is a partial document assignment.
       </description>
       <aimelt>PATH</aimelt>
       <refpath>applied_document_usage_constraint_assignment
       applied_document_usage_constraint_assignment.items[i] -&gt;
       document_reference_item *>
       dimensioning_standard_document_reference_item
</refpath>
     </alt_map>
</aa>
<aa attribute="is_assigned_to" assertion_to="Part_view_definition">
     <alt_map id="1">       
       <description>
         If the assignment is not a partial document assignment.
       </description>
       <aimelt>PATH</aimelt>
       <refpath>applied_document_reference
       applied_document_reference.items[i] -&gt;
       document_reference_item *>
       dimensioning_standard_document_reference_item = product_definition
       product_definition
       </refpath>
     </alt_map>
     <alt_map id="2">
       <description>
         If the assignment is a partial document assignment.
       </description>
       <aimelt>PATH</aimelt>
       <refpath>applied_document_usage_constraint_assignment
       applied_document_usage_constraint_assignment.items[i] -&gt;
       document_reference_item *>
       dimensioning_standard_document_reference_item = product_definition
       product_definition
</refpath>
     </alt_map>
</aa>
</ae>	


<ae entity="Group" original_module= "group" > 

<aa attribute="elements" assertion_to="Detailed_geometric_model_element"> 
<aimelt>PATH</aimelt> 
<refpath_extend extended_select="groupable_item" > 
groupable_item *> cc3dpa_groupable_item
cc3dpa_groupable_item = geometric_representation_item
geometric_representation_item
</refpath_extend>
</aa> 

<aa attribute="elements" assertion_to="Mapping_based_template_instance"> 
  <alt_map id="1"><description>use of the mapped_item approach.</description>
<aimelt>PATH</aimelt> 
<refpath_extend extended_select="groupable_item" > 
groupable_item *> cc3dpa_groupable_item
cc3dpa_groupable_item = mapped_item
mapped_item
</refpath_extend>
  </alt_map>
  <alt_map id="2"><description>use of the representation_relationship approach.</description>
<aimelt>PATH</aimelt> 
<refpath_extend extended_select="groupable_item" > 
groupable_item *> cc3dpa_groupable_item
cc3dpa_groupable_item = representation_relationship_with_transformation
representation_relationship_with_transformation
</refpath_extend>
  </alt_map>
</aa> 

<!-- this needs to be changed to topological rep item at DIS -->
<aa attribute="elements" assertion_to="Representation_item"> 
<alt_map id="1"><description>if the representation_item is a topological_representation_item.</description>
<aimelt>PATH</aimelt> 
<refpath_extend extended_select="groupable_item" > 
groupable_item *> cc3dpa_groupable_item
cc3dpa_groupable_item = topological_representation_item
topological_representation_item
</refpath_extend>
</alt_map>
</aa> 

<aa attribute="elements" assertion_to="Shape_element"> 
<aimelt>PATH</aimelt> 
<refpath_extend extended_select="groupable_item" > 
groupable_item *> cc3dpa_groupable_item
cc3dpa_groupable_item = shape_aspect
shape_aspect
</refpath_extend>
</aa> 

<aa attribute="elements" assertion_to="Styled_element"> 
<aimelt>PATH</aimelt> 
<refpath_extend extended_select="groupable_item" > 
groupable_item *> cc3dpa_groupable_item
cc3dpa_groupable_item = styled_item
styled_item
</refpath_extend>
</aa> 

<aa attribute="elements" assertion_to="Transformation_based_template_instance"> 
<aimelt>PATH</aimelt> 
  <alt_map id="1"><description>use of the mapped_item approach.</description>
<aimelt>PATH</aimelt> 
<refpath_extend extended_select="groupable_item" > 
groupable_item *> cc3dpa_groupable_item
cc3dpa_groupable_item = mapped_item
mapped_item
</refpath_extend>
  </alt_map>
  <alt_map id="2"><description>use of the representation_relationship approach.</description>
<aimelt>PATH</aimelt> 
<refpath_extend extended_select="groupable_item" > 
groupable_item *> cc3dpa_groupable_item
cc3dpa_groupable_item = representation_relationship_with_transformation
representation_relationship_with_transformation
</refpath_extend>
  </alt_map>
</aa> 
</ae> 
							
	</mapping_table>
	<!-- Clause 5.2 MIM -->
	<mim>
		<!--  Note MIM short form express is in mim.xml -->
		<express-g>
			<imgfile file="mimexpg1.xml"/>
			<imgfile file="mimexpg2.xml"/>
		</express-g>
	</mim>
	<!-- MIM long form (optional) -->
	<mim_lf>
	</mim_lf>
		<!-- 	<usage_guide>
	These rule are included to ensure the compatibility and consistency of the geometry representations
		<screen>
  RULE compatible_dimension FOR (cartesian_point, direction, 
             representation_context, geometric_representation_context);

  WHERE
    wr1: (SIZEOF(QUERY ( x &lt;* cartesian_point | (SIZEOF(QUERY ( y &lt;* 
             geometric_representation_context | (item_in_context(x,y) AND (
             HIINDEX(x.coordinates) &lt;&gt; y.coordinate_space_dimension)) ))&gt; 
             0) )) = 0);
    wr2: (SIZEOF(QUERY ( x &lt;* direction | (SIZEOF(QUERY ( y &lt;* 
             geometric_representation_context | (item_in_context(x,y) AND (
             HIINDEX(x.direction_ratios) &lt;&gt; y.coordinate_space_dimension)) )) 
            &gt; 0) )) = 0);

  END_RULE; 


  RULE dimensionality_is_two_or_three FOR (
             geometric_representation_context);

  WHERE
    wr1: (SIZEOF(QUERY ( g &lt;* geometric_representation_context | (NOT ((g.
             coordinate_space_dimension = 2) OR (g.
             coordinate_space_dimension = 3))) )) = 0);

  END_RULE; 


RULE geometric_representation_item_3d FOR (geometric_representation_item);

  WHERE
    wr1: (SIZEOF(QUERY ( gri &lt;* geometric_representation_item | (NOT ((
             dimension_of(gri) = 3) OR (SIZEOF(bag_to_set(USEDIN(gri,'')) -
              bag_to_set(USEDIN(gri,
             'CCD_CLA_GVP_AST_ASD.DEFINITIONAL_REPRESENTATION.ITEMS'))) = 0))) )) 
             = 0);

  END_RULE; 

RULE no_shape_for_make_from FOR (design_make_from_relationship);

  WHERE
    wr1: (SIZEOF(QUERY ( dmfr &lt;* design_make_from_relationship | (NOT (
             SIZEOF(QUERY ( pd &lt;* USEDIN(dmfr,'CCD_CLA_GVP_AST_ASD.' + 
             'PROPERTY_DEFINITION.DEFINITION') | (
             'CCD_CLA_GVP_AST_ASD.PRODUCT_DEFINITION_SHAPE' IN TYPEOF(pd)) )) 
             = 0)) )) = 0);

  END_RULE;  no_shape_for_make_from


RULE no_shape_for_supplied_part FOR (supplied_part_relationship);

  WHERE
    wr1: (SIZEOF(QUERY ( spr &lt;* supplied_part_relationship | (NOT (SIZEOF(
             QUERY ( pd &lt;* USEDIN(spr,'CCD_CLA_GVP_AST_ASD.' + 
             'PROPERTY_DEFINITION.DEFINITION') | (
             'CCD_CLA_GVP_AST_ASD.PRODUCT_DEFINITION_SHAPE' IN TYPEOF(pd)) )) 
             = 0)) )) = 0);

  END_RULE; 
</screen>
	</usage_guide> -->
</module>
