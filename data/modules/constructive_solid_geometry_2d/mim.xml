<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="constructive_solid_geometry_2d_mim schema_instance"/>
   <schema name="Constructive_solid_geometry_2d_mim">
      <interface kind="use" schema="Elemental_geometric_shape_mim"/>
      <interface kind="use" schema="representation_schema">
         <interfaced.item name="mapped_item"/>
      </interface>
      <interface kind="use" schema="geometric_model_schema">
         <interfaced.item name="csg_solid"/>
      </interface>
      <entity name="csg_2d_shape_representation" supertypes="shape_representation">
         <where label="WR1" expression="SELF.context_of_items\&#10;  geometric_representation_context.coordinate_space_dimension = 2"/>
         <where label="WR2" expression="SIZEOF (QUERY (it &lt;* SELF.items| NOT&#10;     (SIZEOF(['CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.CSG_SOLID', &#10;     'CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.MAPPED_ITEM', &#10;     'CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.AXIS2_PLACEMENT_2D'] &#10;     * TYPEOF(it)) = 1 ))) = 0"/>
         <where label="WR3" expression="SIZEOF(QUERY ( it &lt;* SELF.items | &#10;    (SIZEOF(['CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.CSG_SOLID']&#10;	* TYPEOF(it)) = 1) &#10;	OR &#10;	(('CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.MAPPED_ITEM' &#10;	IN TYPEOF(it)) AND&#10;	('CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.' +&#10;	'CSG_2D_SHAPE_REPRESENTATION' &#10;	  IN TYPEOF(it\mapped_item.mapping_source.mapped_representation))) &#10;       )) &gt;= 1"/>
         <where label="WR4" expression="SIZEOF(QUERY ( it &lt;* SELF.items | &#10;     (('CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.MAPPED_ITEM' &#10;     IN TYPEOF(it)) AND (NOT (( &#10;      'CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.' +&#10;      'CSG_2D_SHAPE_REPRESENTATION') &#10;      IN TYPEOF(it\mapped_item.mapping_source.mapped_representation)))) )) = 0"/>
         <where label="WR5" expression="SIZEOF(TYPEOF(SELF) - TYPEOF(SELF\shape_representation ||&#10;      SELF\csg_2d_shape_representation || SELF\representation)) = 0"/>
      </entity>
      <entity name="single_area_csg_2d_shape_representation" supertypes="csg_2d_shape_representation">
         <where label="WR1" expression="SIZEOF (QUERY (it &lt;* SELF.items| &#10;     ('CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.MAPPED_ITEM' &#10;     IN TYPEOF(it)) )) = 0"/>
         <where label="WR2" expression="SIZEOF (QUERY (it &lt;* SELF.items| &#10;     ('CONSTRUCTIVE_SOLID_GEOMETRY_2D_MIM.CSG_SOLID' &#10;     IN TYPEOF(it)) )) = 1"/>
      </entity>
      <entity name="single_boundary_shape_representation" supertypes="single_area_csg_2d_shape_representation"/>
   </schema>
</express>
