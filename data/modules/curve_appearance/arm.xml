<?xml version="1.0"?>
<!-- $Id: express2xml.js,v 1.18 2002/07/14 16:55:57 robbod Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  description.file="arm_descriptions.xml"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.18"
    source="../data/modules/curve_appearance/arm.exp"/>

  <schema name="Curve_appearance_arm">
    <interface
      kind="use"
      schema="Colour_arm">
    </interface>

    <interface
      kind="use"
      schema="Elemental_geometric_shape_arm">
    </interface>

    <type name="curve_appearance_select">
      <select
        selectitems="Curve_appearance Point_appearance Vector_appearance">
      </select>

    </type>
    <entity
      name="Curve_appearance">
      <explicit
        name="width">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="font">
        <typename
          name="Curve_font"/>
      </explicit>
      <explicit
        name="colour">
        <typename
          name="Colour"/>
      </explicit>
    </entity>

    <entity
      name="Curve_font"
      super.expression="(ONEOF (Externally_defined_curve_font,                       Predefined_curve_font,                       User_defined_curve_font))">
      <explicit
        name="curve_font_name">
        <builtintype
          type="STRING"/>
      </explicit>
    </entity>

    <entity
      name="Curve_font_pattern">
      <explicit
        name="on_segment">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="off_segment">
        <builtintype
          type="REAL"/>
      </explicit>
    </entity>

    <entity
      name="Externally_defined_curve_font"
      supertypes="curve_font">
      <explicit
        name="curve_font_reference">
        <builtintype
          type="STRING"/>
      </explicit>
    </entity>

    <entity
      name="Externally_defined_marker"
      supertypes="Marker">
      <explicit
        name="marker_reference">
        <builtintype
          type="STRING"/>
      </explicit>
    </entity>

    <entity
      name="Externally_defined_terminator"
      supertypes="Terminator">
      <explicit
        name="terminator_reference">
        <builtintype
          type="STRING"/>
      </explicit>
    </entity>

    <entity
      name="Marker"
      super.expression="(ONEOF (Externally_defined_marker,                       Predefined_marker,                       User_defined_marker))">
      <explicit
        name="marker_name">
        <builtintype
          type="STRING"/>
      </explicit>
    </entity>

    <entity
      name="Point_appearance">
      <explicit
        name="marker">
        <typename
          name="Marker"/>
      </explicit>
      <explicit
        name="colour">
        <typename
          name="Colour"/>
      </explicit>
      <explicit
        name="size">
        <builtintype
          type="REAL"/>
      </explicit>
    </entity>

    <entity
      name="Predefined_curve_font"
      supertypes="Curve_font">
      <where
        label="WR1"
        expression="SELF.curve_font_name IN ['continuous',                               'chain',                               'chain double dash',                               'dashed',                               'dotted']">
      </where>
    </entity>

    <entity
      name="Predefined_marker"
      supertypes="Marker">
      <where
        label="WR1"
        expression="SELF.marker_name IN ['asterisk',                            'circle',                            'dot',                            'plus',                            'square',                            'triangle',                            'x']">
      </where>
    </entity>

    <entity
      name="Predefined_terminator"
      supertypes="Terminator">
      <where
        label="WR1"
        expression="SELF.terminator_name IN ['blanked arrow',                                'blanked box',                                'dimension origin',                                'filled arrow',                                'filled box',                                'filled dot',                                'integral symbol',                                'open arrow',                                'slash',                                'unfilled arrow']">
      </where>
    </entity>

    <entity
      name="Terminator"
      super.expression="(ONEOF (Externally_defined_terminator,                       Predefined_terminator,                       User_defined_terminator))">
      <explicit
        name="terminator_name">
        <builtintype
          type="STRING"/>
      </explicit>
    </entity>

    <entity
      name="User_defined_curve_font"
      supertypes="Curve_font">
      <explicit
        name="pattern">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="Curve_font_pattern"/>
      </explicit>
      <explicit
        name="segment_symbol">
        <typename
          name="Geometric_model"/>
      </explicit>
    </entity>

    <entity
      name="User_defined_marker"
      supertypes="Marker">
      <explicit
        name="symbol">
        <typename
          name="Geometric_model"/>
      </explicit>
    </entity>

    <entity
      name="User_defined_terminator"
      supertypes="Terminator">
      <explicit
        name="symbol">
        <typename
          name="Geometric_model"/>
      </explicit>
    </entity>

    <entity
      name="Vector_appearance">
      <explicit
        name="terminator_type">
        <typename
          name="Terminator"/>
      </explicit>
      <explicit
        name="vector_font">
        <typename
          name="Curve_font"/>
      </explicit>
      <explicit
        name="colour">
        <typename
          name="Colour"/>
      </explicit>
      <explicit
        name="width">
        <builtintype
          type="REAL"/>
      </explicit>
    </entity>

  </schema>

</express>
