<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.17 2006/03/24 18:39:39 thendrix Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
 <!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      -->
<module
   name="curve_appearance"
   name.french="Apparence de courbe"
   part="1003"
   version="2"
   wg.number="4244"
   wg.number.arm="4245"
   wg.number.mim="4246"
   wg.number.supersedes="656"
   wg.number.arm.supersedes="672"
   wg.number.mim.supersedes="657"
   checklist.internal_review="3818"
   checklist.project_leader="3819"
   checklist.convener="3820"
   status="TS"
   language="E"
   publication.year="2006"
   publication.date="2006-09-15"
   previous.revision.year="2001"
   previous.revision.cancelled="YES"
   published="y"
   rcs.date="$Date: 2006/03/24 18:39:39 $"
   rcs.revision="$Revision: 1.17 $"
   development.folder="dvlp">

 <keywords>
    module, curve appearance
 </keywords>

 <!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
 <contacts>
   <projlead ref="salmodules.projlead"/>
   <editor ref="salmodules.editor"/>
 </contacts>

 <!-- Introduction -->
 <purpose>
 This part of ISO 10303 specifies an application module for curve appearance. It allows for the definition of visual attributes governing how curves shall be presented. These attributes include curve font, colour and curve thickness.  

A set of application modules can be combined to provide the capability to assign shape elements to layers and visual attributes, such as colours and curve fonts, to geometric and topological elements.  For additional information, see Annex F of ISO/TS 10303-1009. 
	
	<p>   
		This edition incorporates modifications to the previous edition listed below.
	</p>
	<p>
		The following ARM EXPRESS declarations have been split off into the new module <b>styled_curve</b>:
	</p>
	<ul>
		<li>Curve_appearance;</li>
		<li>Curve_font;</li>
		<li>Curve_font_pattern;</li>
		<li>Externally_defined_curve_font;</li>
		<li>Predefined_curve_font;</li>
		<li>User_defined_curve_font.</li>
	</ul>
	<p>
	For upward compatibility they are included into this module by a USE FROM declaration.
	In addition, modifications have been made to the mapping specification, 
	the MIM schema and the EXPRESS-G diagrams to reflect and be consistent with the modifications of the ARM.
	</p>
	
	<p>The following ARM EXPRESS declarations have been changed:</p>
	<ul>
		<li>Marker (marker_name removed);</li>
		<li>Terminator (terminator_name removed).</li>
	</ul>
	<p>The following ARM EXPRESS declarations have been removed:</p>
	<ul>
		<li>Predefined_marker;</li>
		<li>Predefined_terminator.</li>
	</ul>
	
	<!-- Mapping changes -->
	<p>Modifications made to the mapping specification of the following entity definitions (removed):</p>
	<ul>
		<li>Marker.marker_name;</li>
		<li>Terminator.terminator_name;</li>
		<li>Predefined_marker;</li>
		<li>Predefined_terminator.</li>
	</ul> 
		
 </purpose>

 <!-- Items in scope -->
 <inscope>
      <li>the definition of appearance information for curves.</li>
 </inscope>

 <!-- Items out of scope -->
 <outscope>
   <li>the specification of semantics associated with the appearance assigned to curves.</li>
 </outscope>

<!--
 <normrefs/>

 <definition/>

 <abbreviations/>
-->


 <!-- Clause 4 ARM  -->
 <arm>
   <express-g>
     <imgfile file="armexpg1.xml"/>
     <imgfile file="armexpg2.xml"/>
   </express-g>
 </arm>


 <!-- Clause 5.1 Mapping specification -->
 <mapping_table>
  
<ae entity="Externally_defined_marker"> 
<aimelt>externally_defined_marker</aimelt>
<source> ISO 10303-1003</source>
<refpath>externally_defined_marker &lt;= 
[pre_defined_marker]
[externally_defined_symbol]</refpath>


<aa attribute="marker_reference"> 
<aimelt>PATH</aimelt>
<refpath>externally_defined_marker &lt;=
externally_defined_symbol &lt;=
externally_defined_item
externally_defined_item.source -&gt;
external_source
external_source.source_id</refpath>
</aa>
</ae>

<ae entity="Externally_defined_terminator"> 
<aimelt>externally_defined_terminator_symbol</aimelt>
<source> ISO 10303-1003</source>
<refpath>externally_defined_terminator_symbol &lt;= 
externally_defined_symbol</refpath>


<aa attribute="terminator_reference"> 
<aimelt>PATH</aimelt>
<refpath>externally_defined_terminator_symbol &lt;=
externally_defined_symbol &lt;=
externally_defined_item
externally_defined_item.source -&gt;
external_source
external_source.source_id</refpath>
</aa>
</ae>

<ae entity="Marker"> 
<aimelt>marker_select</aimelt>
<source> ISO 10303-1003</source>
<refpath>point_style.marker -> 
        marker_select</refpath>
</ae>

<ae entity="Point_appearance"> 
<aimelt>point_style</aimelt>
<source> ISO 10303-46</source>

<aa attribute="size"> 
<aimelt>point_style.marker_size</aimelt>
</aa>

<aa attribute="colour" assertion_to="Colour"> 
<refpath>point_style
point_style.marker_colour -&gt;
colour</refpath>
</aa>

<aa attribute="marker" assertion_to="Marker"> 
<refpath>point_style
point_style.marker -&gt; 
marker_select</refpath>

<alt_map id="1">
<description>if predefined</description>
<refpath>(marker_select = marker_type)</refpath></alt_map> 


<alt_map id="2">
<description>if externally defined</description>
<refpath>(marker_select = pre_defined_marker
pre_defined_marker =&gt;
externally_defined_marker)</refpath></alt_map> 

<alt_map id="3">
<description>if user defined</description>
<refpath>(marker_select = pre_defined_marker
pre_defined_marker =&gt;
user_defined_marker)</refpath></alt_map> 
</aa>
</ae>

<ae entity="Terminator"> 
<aimelt>terminator</aimelt>
<source> ISO 10303-1003</source>
</ae>

<ae entity="User_defined_marker"> 
<aimelt>user_defined_marker</aimelt>
<source> ISO 10303-1003</source>
<refpath>user_defined_marker &lt;=
[pre_defined_marker][mapped_item]
</refpath>

<aa attribute="symbol" assertion_to="Geometric_model"> 
<aimelt>PATH</aimelt>
<refpath>user_defined_curve_font &lt;=
mapped_item
mapped_item.mapping_source -&gt;
representation_map.mapped_representation -&gt;
representation -&gt;
shape_representation</refpath>
</aa>
</ae>

<ae entity="User_defined_terminator"> 
<aimelt>user_defined_terminator_symbol</aimelt>
<source> ISO 10303-1003</source>
<refpath>user_defined_terminator_symbol &lt;=
[pre_defined_symbol]
[mapped_item]
</refpath>

<aa attribute="symbol" assertion_to="Geometric_model"> 
<aimelt>PATH</aimelt>
<refpath>user_defined_terminator_symbol &lt;=
mapped_item
mapped_item.mapping_source -&gt;
representation_map.mapped_representation -&gt;
representation -&gt;
shape_representation</refpath>
</aa>
</ae>

<ae entity="Vector_appearance"> 
<aimelt>vector_style</aimelt>
<source> ISO 10303-1003</source>
<refpath>vector_style &lt;=
[pre_defined_terminator_symbol &lt;= 
pre_defined_symbol]
[curve_style] 
</refpath>


<aa attribute="terminator_type"  assertion_to="Terminator"> 
<aimelt>PATH</aimelt>
<refpath>vector_style &lt;=
pre_defined_terminator_symbol &lt;=
pre_defined_symbol</refpath>
</aa>


</ae>
 </mapping_table>

 <!-- Clause 5.2 MIM -->
 <mim>
   <!--  Note MIM short form express is in mim.xml -->
   <express-g>
     <imgfile file="mimexpg1.xml"/>
     <imgfile file="mimexpg2.xml"/>
   </express-g>

		<shortnames>
      <shortname name="EXDFMR" entity="externally_defined_marker"/>
       <shortname name="EDT0" entity="externally_defined_terminator_symbol"/>
        <shortname name="PDT" entity="pre_defined_terminator_symbol"/>
          <shortname name="USDFMR" entity="user_defined_marker"/>
           <shortname name="UDTS" entity="user_defined_terminator_symbol"/>
            <shortname name="VCTSTY" entity="vector_style"/> 
 	  </shortnames>
 </mim>

</module>
