<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.6 2003/07/30 21:34:51 thendrix Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
 <!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      -->
<module
   name="curve_appearance"
   part="1003"
   version="1"
   wg.number="656"
   wg.number.arm="672"
   wg.number.mim="657"
   checklist.internal_review="649"
   checklist.project_leader="650"
   checklist.convener="651"
   status="TS"
   language="E"
   publication.year="2001"
   published="y"
   rcs.date="$Date: 2003/07/30 21:34:51 $"
   rcs.revision="$Revision: 1.6 $">

 <keywords>
    module, curve appearance
 </keywords>

 <!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
 <contacts>
   <projlead ref="salmodules.projlead"/>
   <editor ref="salmodules.editor"/>
 </contacts>

 <!-- Introduction -->
 <purpose>
 This part of ISO 10303 specifies an application module for curve appearance. It allows for the definition of visual attributes governing how curves shall be presented. These attributes include curve font, colour and curve thickness.  

A set of application modules can be combined to provide the capability to assign shape elements to layers and visual attributes, such as colours and curve fonts, to geometric and topological elements.  For additional information, see Annex F of ISO/TS 10303-1009. 

 </purpose>

 <!-- Items in scope -->
 <inscope>
   <li>the definition of appearance information for curves.</li>
 </inscope>

 <!-- Items out of scope -->
 <outscope>
   <li>the specification of semantics associated with the appearance assigned to curves.</li>
 </outscope>

<!--
 <normrefs/>

 <definition/>

 <abbreviations/>
-->

 <!-- Clause 4 ARM  -->
 <arm>
   <!-- Note ARM short form EXPRESS is in arm_sf.xml -->
   <!-- Units of functionality -->
   <uof name="Curve_appearance">
     <description>The curve_appearance UoF specifies the presentation of the point, vector, and curve geometry with attributes, such as colour, curve thickness or curve font.
     </description>
<uof.ae entity="Curve_appearance"/>
<uof.ae entity="Curve_font"/>
<uof.ae entity="Curve_font_pattern"/>
<uof.ae entity="Externally_defined_curve_font"/>
<uof.ae entity="Externally_defined_marker"/>
<uof.ae entity="Externally_defined_terminator"/>
<uof.ae entity="Marker"/>
<uof.ae entity="Point_appearance"/>
<uof.ae entity="Predefined_curve_font"/>
<uof.ae entity="Predefined_marker"/>
<uof.ae entity="Predefined_terminator"/>
<uof.ae entity="Terminator"/>
<uof.ae entity="User_defined_curve_font"/>
<uof.ae entity="User_defined_marker"/>
<uof.ae entity="User_defined_terminator"/>
<uof.ae entity="Vector_appearance"/>
   </uof>

<!-- <uof name="Colour">
     <description>The colour UoF specifies the definitional information for colour.  See ISO/TS 10303-1002.  
     </description>
     <uof.ae entity="Colour"/>
   </uof>

<uof name="Elemental_geometric_shape">
     <description>The elemental_geometric_shape UoF specifies the definitional information for the concept of shape and how it is composed. See ISO/TS 10303-10004.
     </description>
     <uof.ae entity="Geometric_model"/>
   </uof> -->

   <!-- Short form EXPRESS-G -->
   <express-g>
     <imgfile file="armexpg1.xml"/>
     <imgfile file="armexpg2.xml"/>
   </express-g>
 </arm>


 <!-- Clause 5.1 Mapping specification -->
 <mapping_table>
  
   <ae entity="Curve_appearance"> 
    <aimelt>curve_style</aimelt>
<source> ISO 10303-46</source>
<aa attribute="colour" assertion_to="Colour"> 
<aimelt>PATH</aimelt>
<source> ISO 10303-46</source>
<refpath>curve_style
curve_style.curve_colour -&gt;
colour</refpath>
</aa>

<aa attribute="width"> 
<aimelt>curve_style.curve_width</aimelt>
<source> ISO 10303-46</source>
</aa>
<aa attribute="font" assertion_to="Curve_font"> 
<alt_map id="1">
<description>if user defined</description>
<aimelt>PATH</aimelt>
<refpath>curve_style &lt;= curve_style.curve_font
curve_style.curve_font -&gt; curve_font_or_scaled_curve_font_select
curve_font_or_scaled_curve_font_select = curve_style_font_select
curve_style_font_select = curve_style_font
curve_style_font &lt;= user_defined_curve_font</refpath>
</alt_map>
<alt_map id="2">
<description>if predefined</description>
<aimelt>PATH</aimelt>
<refpath>curve_style &lt;= curve_style.curve_font
curve_style.curve_font -&gt; curve_font_or_scaled_curve_font_select
curve_font_or_scaled_curve_font_select = curve_style_font_select
curve_style_font_select = pre_defined_curve_font
pre_defined_curve_font =&gt; draughting_pre_defined_curve_font
</refpath></alt_map> 
<alt_map id="3">
<aimelt>PATH</aimelt>
<description>if externally defined</description>
<refpath>curve_style &lt;= curve_style.curve_font
curve_style.curve_font -&gt; curve_font_or_scaled_curve_font_select
curve_font_or_scaled_curve_font_select = curve_style_font_select
curve_style_font_select = externally_defined_curve_font</refpath>
</alt_map> 
</aa>

</ae>



<ae entity="Curve_font"> 
<aimelt>curve_style_font</aimelt>
<source> ISO 10303-46</source>

<aa attribute="curve_font_name"> 
<aimelt>curve_style_font.name</aimelt>
<source> ISO 10303-46</source>
</aa>
</ae>

<ae entity="Curve_font_pattern"> 
<aimelt>curve_style_font_pattern</aimelt>
<source> ISO 10303-46</source>

<aa attribute="on_segment"> 
<aimelt>curve_style_font_pattern.visible_segment_length</aimelt>
<source> ISO 10303-46</source>
</aa>
<aa attribute="off_segment"> 
<aimelt>curve_style_font_pattern.invisible_segment_length</aimelt>
<source> ISO 10303-46</source>
</aa>
</ae>


<ae entity="Externally_defined_curve_font"> 
<aimelt>externally_defined_curve_font</aimelt>
<source> ISO 10303-46</source>

<aa attribute="curve_font_reference"> 
<aimelt>externally_defined_curve_font.source</aimelt>
<source> ISO 10303-46</source>
<refpath>curve_style
curve_style.curve_font -&gt;
curve_font_or_scaled_curve_font_select
curve_font_or_scaled_curve_font_select =
curve_style_font_select
curve_style_font_select
curve_style_font_select = 
externally_defined_curve_font
externally_defined_curve_font.source</refpath>
</aa>
</ae>

<ae entity="Externally_defined_marker"> 
<aimelt>externally_defined_marker</aimelt>
<source> ISO 10303-1003</source>
<refpath>externally_defined_marker &lt;= 
[pre_defined_marker]
[externally_defined_symbol]</refpath>


<aa attribute="marker_reference"> 
<aimelt>PATH</aimelt>
<refpath>externally_defined_marker &lt;=
externally_defined_symbol &lt;=
externally_defined_item.source -&gt;
external_source.source_id</refpath>
</aa>
</ae>

<ae entity="Externally_defined_terminator"> 
<aimelt>externally_defined_terminator_symbol</aimelt>
<source> ISO 10303-1003</source>
<refpath>externally_defined_terminator_symbol &lt;= 
externally_defined_symbol</refpath>


<aa attribute="terminator_reference"> 
<aimelt>PATH</aimelt>
<refpath>externally_defined_terminator_symbol &lt;=
externally_defined_symbol &lt;=
externally_defined_item.source-&gt;
externally_source.source_id</refpath>
</aa>
</ae>
<ae entity="Marker"> 
<aimelt>marker_select</aimelt>
<source> ISO 10303-1003</source>
<refpath>pointer_style.marker &lt;= 
        marker_select</refpath>

<aa attribute="marker_name"> 
<aimelt>NO MAPPING</aimelt>
<source> ISO 10303-1003</source>
</aa>
</ae>

<ae entity="Point_appearance"> 
<aimelt>point_style</aimelt>
<source> ISO 10303-46</source>

<aa attribute="size"> 
<aimelt>point_style.marker_size</aimelt>
</aa>

<aa attribute="colour"> 
<aimelt>point_style.marker_colour</aimelt>
<source> ISO 10303-46</source>
<refpath>point_style
point_style.marker_colour -&gt;
colour</refpath>
</aa>

<aa attribute="marker"> 
<aimelt>point_style.marker</aimelt>
<source> ISO 10303-46</source>
<refpath>point_style.marker -&gt; 
marker_select</refpath>
<alt_map id="1">
<description>if predefined</description>
<refpath>(marker_select=marker_type)</refpath></alt_map> 


<alt_map id="2">
<description>if externally defined</description>
<refpath>(marker_select = pre_defined_marker
pre_defined_marker =&gt;
externally_defined_marker)</refpath></alt_map> 

<alt_map id="3">
<description>if user defined</description>
<refpath>(marker_select = pre_defined_marker
pre_defined_marker =&gt;
user_defined_marker)</refpath></alt_map> 
</aa>
</ae>

<ae entity="Predefined_curve_font"> 
<aimelt>draughting_pre_defined_curve_font</aimelt>
<source> ISO 10303-1003</source>


</ae>

<ae entity="Predefined_marker"> 
<aimelt>marker_type</aimelt>
<source> ISO 10303-1003</source>
<refpath>point_style.marker -&gt;
marker_selectmarker_select = 
marker_type</refpath>

</ae>

<ae entity="Predefined_terminator"> 
<aimelt>predefined_terminator_symbol</aimelt>
<source> ISO 10303-1003</source>
<refpath>pre_defined_terminator_symbol &lt;=
pre_defined_symbol
</refpath>


</ae>
<ae entity="Terminator"> 
<aimelt>terminator_select</aimelt>
<source> ISO 10303-1003</source>

<aa attribute="terminator_name"> 
<aimelt>NO MAPPING</aimelt>
<source> ISO 10303-1003</source>
</aa>
</ae>
<ae entity="User_defined_curve_font"> 
<aimelt>user_defined_curve_font</aimelt>
<source> ISO 10303-1003</source>
<refpath>user_defined_curve_font &gt;=
[curve_style_font]
[mapped_item]
</refpath>



<aa attribute="pattern"> 
<aimelt>PATH</aimelt>
<refpath>user_defined_curve_font &lt;=
curve_style_font.pattern_list -&gt;
curve_style_font_pattern</refpath>
</aa>
<aa attribute="segment_symbol"> 
<aimelt>PATH</aimelt>

<refpath>user_defined_curve_font&lt;=
mapped_item.mapping_source -&gt;
representation_map.mapped_representation -&gt;
representation -&gt;
shape_representation</refpath>
</aa>
</ae>
<ae entity="User_defined_marker"> 
<aimelt>user_defined_marker</aimelt>
<source> ISO 10303-1003</source>
<refpath>user_defined_marker &lt;=
[pre_defined_marker][mapped_item]
</refpath>

<aa attribute="symbol"> 
<aimelt>PATH</aimelt>
<refpath>user_defined_curve_font &lt;=
mapped_item.mapping_source -&gt;
representation_map.mapped_representation -&gt;
representation -&gt;
shape_representation</refpath>
</aa>
</ae>

<ae entity="User_defined_terminator"> 
<aimelt>user_defined_terminator_symbol</aimelt>
<source> ISO 10303-1003</source>
<refpath>user_defined_terminator_symbol &lt;=
[pre_defined_symbol]
[mapped_item]
</refpath>

<aa attribute="symbol"> 
<aimelt>PATH</aimelt>
<refpath>user_defined_curve_symbol &lt;=
mapped_item.mapping_source -&gt;
representation_map.mapped_representation -&gt;
representation -&gt;
shape_representation</refpath>
</aa>
</ae>

<ae entity="Vector_appearance"> 
<aimelt>vector_style</aimelt>
<source> ISO 10303-1003</source>
<refpath>vector_style &lt;=
[pre_defined_symbol]
[curve_style] 
</refpath>

<aa attribute="width"> 
<aimelt>vector_style.curve_width</aimelt>
<source> ISO 10303-46</source>
<refpath>vector_style &lt;=
curve_style.curve_width</refpath>
</aa>
<aa attribute="terminator_type"> 
<aimelt>PATH</aimelt>
<refpath>vector_style &lt;=
pre_defined_terminator_symbol &lt;=
pre_defined_symbol</refpath>
</aa>
<aa attribute="colour" assertion_to="Colour"> 
<aimelt>PATH</aimelt>
<refpath>vector_style &lt;=
curve_style
curve_style.curve_colour -&gt;
colour</refpath>
</aa>

<aa attribute="vector_font"> 
<aimelt>PATH</aimelt>

<refpath>vector_style &lt;=
curve_stylecurve_style.curve_font -&gt;
curve_font_or_scaled_curve_font_select
curve_font_or_scaled_curve_font_select =
curve_style_font_select</refpath>
<alt_map id="1">
<description>if user defined</description>
<refpath>(curve_style_font_select = 
curve_style_fontcurve_style_font &lt;=
user_defined_curve_font)</refpath></alt_map> 

<alt_map id="2">
<description>if predefined</description>
<refpath>(curve_style_font_select = 
pre_defined_curve_font
pre_defined_curve_font =&gt;
draughting_pre_defined_curve_font)
</refpath></alt_map> 
<alt_map id="3">
<description>if externally defined</description>
<refpath>(curve_style_font_select = 
externally_defined_curve_font)</refpath></alt_map> 

</aa>
</ae>
 </mapping_table>

 <!-- Clause 5.2 MIM -->
 <mim>
   <!--  Note MIM short form express is in mim.xml -->
   <express-g>
     <imgfile file="mimexpg1.xml"/>
   </express-g>

		<shortnames>
      <shortname name="EXDFMR" entity="externally_defined_marker"/>
       <shortname name="EDT0" entity="externally_defined_terminator_symbol"/>
        <shortname name="PDT" entity="pre_defined_terminator_symbol"/>
         <shortname name="UDCF" entity="user_defined_curve_font"/>
          <shortname name="USDFMR" entity="user_defined_marker"/>
           <shortname name="UDTS" entity="user_defined_terminator_symbol"/>
            <shortname name="VCTSTY" entity="vector_style"/> 
 	  </shortnames>
 </mim>

</module>
