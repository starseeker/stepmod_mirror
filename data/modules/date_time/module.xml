<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.30 2008/09/23 10:27:02 liutkuviene Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">

<module
   name="date_time"
   name.french="Heure Date"
   	part="1010"
   	wg.number="5340"
	wg.number.arm="5341" 
	wg.number.mim="5342" 
	wg.number.supersedes="2912"
	wg.number.arm.supersedes="2913" 
	wg.number.mim.supersedes="1082" 
	checklist.internal_review="5268"
	checklist.project_leader="5269"
	checklist.convener="5270"	  
    version="2"
    status="TS"
    language="E"
    publication.year="2008"
    publication.date="2008-12-19"
    published="y"
    previous.revision.year="2004" 
	previous.revision.cancelled="YES" 
   rcs.date="$Date: 2008/09/23 10:27:02 $"
   rcs.revision="$Revision: 1.30 $"
  development.folder="dvlp"
>

 <keywords>
    module, date, time, time shift
 </keywords>

 <contacts>
   <projlead ref="pdmmodules.projlead"/>
   <editor ref="pdmmodules.editor"/>
 </contacts>

 <purpose>
 	<p>
 		This part of ISO 10303 specifies an application module for the representation of dates and times based on the Coordinated Universal Time (UTC).
 	</p>
 	
 	<!-- 2nd edition -->
 	<p>
 		This second edition of this part of ISO 10303 includes the modifications to the first edition listed below.
 	</p> 
 	
 </purpose>

 <inscope>
<li>definition of a date according to the Gregorian calendar;</li>
<li>definition of a point in time in a day;</li>
<li>time offset from UTC.</li>
</inscope>
 <normrefs>
   <normref.inc normref="ref8601.2000">
    <term.ref linkend="calendardate" />
		<term.ref linkend="utc" />
    <term.ref linkend="day" />
    <term.ref linkend="gregoriancalendar" />
    <term.ref linkend="hour" />
    <term.ref linkend="month" />
    <term.ref linkend="minute" />
    <term.ref linkend="second" />
    <term.ref linkend="year" />

   </normref.inc>
   <normref.inc normref="ref10303-41.e3"/>
 </normrefs>

 <abbreviations>
   <abbreviation>
     <acronym>UTC</acronym><term>Coordinated Universal Time</term>
   </abbreviation>
 </abbreviations>

 <arm>
   <uof name="Date_time">
	<description><p>This UoF specifies the data structure needed to represent a calendar 
	date and a point in time in a day.</p>
	</description>
   
      <uof.ae entity="Calendar_date" />
      <uof.ae entity="Date_time" />
      <uof.ae entity="Local_time" />
      <uof.ae entity="Time_offset" />
   </uof>
 

   <express-g>
     <imgfile file="armexpg1.xml"/>
     <imgfile file="armexpg2.xml"/>
   </express-g>
 </arm>

 <mapping_table>

   <ae entity="Calendar_date">
     <aimelt>calendar_date</aimelt>
     <source>ISO 10303-41</source>
			 <refpath>
			 calendar_date &lt;= date
			 </refpath>
     <aa attribute="year_component">
       <aimelt>date.year_component</aimelt>
     <source>ISO 10303-41</source>
     </aa>
     <aa attribute="day_component" assertion_to="day_in_month_number">
       <aimelt>calendar_date.day_component</aimelt>
     <source>ISO 10303-41</source>
			</aa>
      <aa attribute="month_component" assertion_to="month_in_year_number">
       <aimelt>calendar_date.month_component</aimelt>
     <source>ISO 10303-41</source>
      </aa>
    </ae>

   <ae entity="Date_time">
     <aimelt>date_and_time
			</aimelt>
     <source>ISO 10303-41</source>
     <aa attribute="date_component" assertion_to="Calendar_date">
       <aimelt>PATH</aimelt>
		 <refpath>
		   date_and_time.date_component -&gt; date =&gt; calendar_date
		 </refpath>
     </aa>
     <aa attribute="time_component" assertion_to="Local_time">
       <aimelt>PATH</aimelt>
		 <refpath>
		   date_and_time.time_component -&gt; local_time
		 </refpath>
     </aa> 
   </ae>

   <ae entity="Local_time">
     <aimelt>local_time</aimelt>
     <source>ISO 10303-41</source>
     <aa attribute="hour_component" >
       <aimelt>local_time.hour_component</aimelt>
     <source>ISO 10303-41</source>
     </aa>
     <aa attribute="minute_component" assertion_to="minute_in_hour">
       <aimelt>local_time.minute_component</aimelt>
     <source>ISO 10303-41</source>
		 </aa>
     <aa attribute="second_component" assertion_to="second_in_minute">
       <aimelt>local_time.second_component</aimelt>
	     <source>ISO 10303-41</source>
     </aa> 
     <aa attribute="zone" assertion_to="Time_offset">
       <aimelt>PATH</aimelt>
		 <refpath>
		   local_time.zone -&gt; coordinated_universal_time_offset
		 </refpath>
     </aa> 
   </ae>

   <ae entity="Time_offset">
     <aimelt>coordinated_universal_time_offset</aimelt>
     <source>ISO 10303-41</source>
     <aa attribute="hour_offset">
       <aimelt>coordinated_universal_time_offset.hour_offset</aimelt>
       <source>ISO 10303-41</source>
     </aa>
     <aa attribute="minute_offset">
       <aimelt>coordinated_universal_time_offset.minute_offset</aimelt>
       <source>ISO 10303-41</source>
		 </aa>
		 <aa attribute="sense" >
       <aimelt>coordinated_universal_time_offset.sense</aimelt>
       <source>ISO 10303-41</source>
     </aa> 
   </ae>
 </mapping_table>
 <mim>
   <express-g>
     <imgfile file="mimexpg1.xml"/>
    </express-g>
 </mim>
 <usage_guide>
	 <p>This clause describes usages of this module. </p>
	<p>The MIM entity <b>calendar_date</b> provides the capability to represent a date in the Gregorian Calendar.</p>

   <example number="1">
<p>The date of February 10, 1999 can be represented as follows:</p>
   </example><screen>
#1=CALENDAR_DATE(1999,10,2);
</screen>

	<p>The MIM entity <b>date_and_time</b> provides the capability to represent a date in the Gregorian Calendar and a point in time in that day.</p>
	 <example number="2">
		 <p>The following instances represent the date of February 10, 1999 with 
			  a time of 11:10 PM in the Japanese time zone:</p>
	 </example><screen>
#1=DATE_AND_TIME(#2,#3);
#2=CALENDAR_DATE(1999,10,2);
#3=LOCAL_TIME(23,10,$,#4);
#4=COORDINATED_UNIVERSAL_TIME_OFFSET(9,$,.AHEAD.);
</screen>

	 <example number="3">
	 	 <p>The following instances represent the date of February 10, 1999 
	 			with a time of 11:10 PM in Newfoundland, Canada:</p>
	 </example><screen>
#1=DATE_AND_TIME(#2,#3);
#2=CALENDAR_DATE(1999,10,2);
#3=LOCAL_TIME(23,10,$,#4);
#4=COORDINATED_UNIVERSAL_TIME_OFFSET(3,30,.BEHIND.);
</screen>

	 	 <p><b>Pre-processor Recommendations</b>: All pre-processors should use noon 
		in the originating time zone as a default for <b>local_time</b> when time information is unavailable.</p>
 </usage_guide>
</module>
