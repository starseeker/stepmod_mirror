<?xml version="1.0"?>
<!-- $Id: mim.xml,v 1.10 2002/11/14 08:24:39 goset1 Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  description.file="mim_descriptions.xml"
  rcs.date="$Date: 2002/11/14 08:24:39 $"
  rcs.revision="$Revision: 1.10 $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.25"
    source="../data/modules/document_definition/mim.exp"/>

  <schema name="Document_definition_mim">
    <interface
      kind="use"
      schema="Document_and_version_identification_mim">
    </interface>

    <interface
      kind="use"
      schema="External_item_identification_assignment_mim">
    </interface>

    <interface
      kind="use"
      schema="File_identification_mim">
    </interface>

    <interface
      kind="use"
      schema="product_definition_schema">
      <interfaced.item
        name="product_definition"/>
      <interfaced.item
        name="product_definition_with_associated_documents"/>
    </interface>

    <type name="document_location_select">
      <select
        basedon="external_identification_item"
        selectitems="product_definition">
      </select>

    </type>
    <rule
      name="restrict_document_definition_category"
      appliesto="product_definition">
      <algorithm>
LOCAL
  document_definitions: SET OF product_definition := [];
END_LOCAL;
  document_definitions :=  QUERY( pd &lt;* product_definition | 
  (pd.frame_of_reference.name IN ['digital document definition', 'physical document definition']));
      </algorithm>

      <where
        label="WR1"
        expression="SIZEOF( QUERY( pd &lt;* document_definitions | (SIZEOF( QUERY( prpc &lt;* USEDIN(pd.formation.of_product, 'DOCUMENT_DEFINITION_MIM.PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS') |   prpc.name IN ['document'] )) = 0 ) )) = 0">
      </where>

    </rule>

  </schema>

</express>
