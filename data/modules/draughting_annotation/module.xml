<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.22 2013/07/12 20:22:31 darla Exp $ -->
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
<!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      --><!DOCTYPE module SYSTEM "../../../dtd/module.dtd">

<module name="draughting_annotation" name.french="Annotation de dessin" 
	part="1206" version="3" 
	wg.number="7800" 
	wg.number.arm="7801" 
	wg.number.mim="7802" 
	wg.number.supersedes="5352" 
	wg.number.arm.supersedes="5353" 
	wg.number.mim.supersedes="5354" 
	checklist.internal_review="5268" 
	checklist.project_leader="5269" 
	checklist.convener="5270" 
	status="TS" 
	language="E" 
   publication.year="2014"
   publication.date="2014-02"
	previous.revision.year="2008" previous.revision.cancelled="NO" published="y" rcs.date="$Date: 2013/07/12 20:22:31 $" rcs.revision="$Revision: 1.22 $" development.folder="dvlp" sc4.working_group="12" xmlns:xlink="http://www.w3.org/1999/xlink">

 <keywords>
    module, annotation, draughting
 </keywords>

 <!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
 <contacts>
   <projlead ref="ap203ed2.projlead"/>
   <editor ref="ap203ed2.editor"/>
 </contacts>
 
 <changes>
 	<change version="2">
 		<arm.changes>
 			<arm.additions>
 				<modified.object type="USE_FROM" name="Draughting_element_arm"/>
 				<modified.object type="ENTITY" name="Annotation_subfigure"/>
 				<modified.object type="ENTITY" name="Annotation_symbol"/>
 				<modified.object type="ENTITY" name="Dimension_curve_terminator"/>
 				<modified.object type="ENTITY" name="Dimension_symbol"/>
 				<modified.object type="ENTITY" name="General_symbol"/>
 				<modified.object type="ENTITY" name="Geometric_tolerance_symbol"/>
 				<modified.object type="ENTITY" name="Surface_condition_symbol"/>
 				<modified.object type="ENTITY" name="Terminator_symbol"/>
 				<modified.object type="TYPE" name="da_draughting_callout_content_select"/>
 				<modified.object type="TYPE" name="symbol_definition_select"/>
 				<modified.object type="TYPE" name="alternate_annotation_elements"/>
 			</arm.additions>
 			<arm.deletions>
 				<modified.object type="USE_FROM" name="Foundation_representation_arm"/>
 			</arm.deletions>
 		</arm.changes>
 	</change>
 	<change version="3">
 		<arm.changes>
 			<arm.deletions>
 				<modified.object type="ENTITY" name="Draughting_annotation_occurrence"/>
 			</arm.deletions>
 		</arm.changes>
 	</change>
 </changes>

 <!-- Introduction -->
 <!-- The introduction should start as shown: -->
 <purpose>
   <p>
     This part of ISO 10303 specifies an application module to define patches of colour, shading or texture on a 2D drawing. 
</p>
<note>These patches of colour, shading or texture can be
interpreted in accordance with draughting conventions to gain understanding
about the nature of a product.</note>
 </purpose>

 <!-- Items in scope -->
 <inscope>
      
      <li>
      <p>items within the scope of application interpreted construct "Draughting annotation", ISO 10303-504:</p>
      	<ul>
			<li>the presentation of non-shape product data depicted by two-dimensional or planar three-dimensional 
			annotation; </li>
			<li>the structures for representing the presentation characteristics of annotation;</li> 
			<li>the structures for representing subfigures and symbols; </li>
			<li>the structures for representing externally defined symbols and presentation characteristics;</li> 
			<li>pre-defined symbols and presentation characteristics.</li>	
      	</ul>
      </li>
      <li>
         <p>
         	the explicit definition of a patch, or assembly of patches, of colour,
			shading or texture by reference to:
		</p>
			<ul>
				<li>position and orientation, a text string, and a style for presenting a text string;</li>
				<li>a position and a style for presenting a point;</li>
				<li>a curve and a style for presenting a curve;</li>
				<li>boundary curves for a filled area, and a style for presenting a filled area;</li>
			</ul>
	</li>
   	<li>items within the scope of application module <module_ref linkend="draughting_element:1_scope">Draughting element</module_ref>, ISO/TS 10303-1310.</li>
   </inscope>

 <!-- Items out of scope -->
 <outscope>
<li>the definition of a position, orientation or curve.</li>
 </outscope>

 <normrefs>
   <normref.inc normref="ref7083.1983"/>
   <normref.inc normref="ref1302.2002"/>
   <normref.inc normref="ref10303-46"/>  
   <normref.inc normref="ref10303-101"/>
   <normref.inc normref="ref10303-504"/>
 </normrefs>
 
<!--
 <definition/>

 <abbreviations/>
-->

 <!-- Clause 4 ARM  -->

 <arm>
   <express-g>
     <imgfile file="armexpg1.xml"/>
     <imgfile file="armexpg2.xml"/>
    </express-g>
 </arm>

<mapping_table>
   <ae entity="Annotation_subfigure" extensible="NO">
      <aimelt xml:space="preserve">annotation_subfigure_occurrence</aimelt>
      <source xml:space="preserve">ISO 10303-504</source>
   </ae>

	<ae entity="Annotation_symbol" extensible="NO">
	  	<aimelt xml:space="preserve">annotation_symbol_occurrence</aimelt>
	  	<source xml:space="preserve">ISO 10303-46</source>
	  	<refpath xml:space="preserve">
			annotation_symbol_occurrence &lt;=
		  	annotation_occurrence
		  	{annotation_occurrence =&gt;
		  	draughting_annotation_occurrence}
		</refpath>
	  	<aa attribute="symbol_definition" assertion_to="symbol_definition_select">
		<alt_map id="1">
               <description>If the symbol is not user-defined.</description>
		<aimelt xml:space="preserve">PATH</aimelt>
		<refpath xml:space="preserve">
			(annotation_symbol_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item
			styled_item.item -&gt;
			representation_item
			representation_item =&gt;
			geometric_representation_item =&gt;
			defined_symbol
			defined_symbol.definition -&gt;
			defined_symbol_select)
		</refpath>
		</alt_map>
		<alt_map id="2">
               <description>If the symbol is user-defined.</description>
		<aimelt xml:space="preserve">PATH</aimelt>
		<refpath xml:space="preserve">
			(annotation_symbol_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item
			styled_item.item -&gt;
			representation_item
			representation_item =&gt;
			mapped_item
			{mapped_item =&gt;
			annotation_symbol}
			mapped_item.mapping_source -&gt;
			representation_map
			{representation_map =&gt;
			symbol_representation_map}
			representation_map.mapped_representation)
		</refpath>
		</alt_map>
	  </aa>
	  <aa attribute="symbol_definition" assertion_to="Dimension_symbol">
		<aimelt xml:space="preserve">PATH</aimelt>
		<refpath xml:space="preserve">
			annotation_symbol_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item
			styled_item.item -&gt;
			representation_item
			representation_item =&gt;
			geometric_representation_item =&gt;
			defined_symbol
			defined_symbol.definition -&gt;
			defined_symbol_select
			defined_symbol_select = pre_defined_symbol
			pre_defined_symbol =&gt;
			pre_defined_dimension_symbol
		</refpath>
	  </aa>
	  <aa attribute="symbol_definition" assertion_to="General_symbol">
		<alt_map id="1">
               <description> If the symbol is externally defined.</description>
		<aimelt xml:space="preserve">PATH</aimelt>
		<refpath xml:space="preserve">
			(annotation_symbol_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item
			styled_item.item -&gt;
			representation_item
			representation_item =&gt;
			geometric_representation_item =&gt;
			defined_symbol
			defined_symbol.definition -&gt;
			defined_symbol_select
			defined_symbol_select = externally_defined_symbol
			externally_defined_symbol)
		</refpath>
		</alt_map>       
		<alt_map id="2">
               <description> If the symbol is  user-defined.</description>
		<aimelt xml:space="preserve">PATH</aimelt>
		<refpath xml:space="preserve">
			(annotation_symbol_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item
			styled_item.item -&gt;
			representation_item
			representation_item =&gt;
			mapped_item
			{mapped_item =&gt;
			annotation_symbol}
			mapped_item.mapping_source -&gt;
			representation_map
			{representation_map =&gt;
			symbol_representation_map}
			representation_map.mapped_representation -&gt;
			representation =&gt;
			symbol_representation)
		</refpath>
		</alt_map>
	  </aa>
	  <aa attribute="symbol_definition" assertion_to="Geometric_tolerance_symbol">
		<aimelt xml:space="preserve">PATH</aimelt>
		<refpath xml:space="preserve">
			annotation_symbol_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item
			styled_item.item -&gt;
			representation_item
			representation_item =&gt;
			geometric_representation_item =&gt;
			defined_symbol
			defined_symbol.definition -&gt;
			defined_symbol_select
			defined_symbol_select = pre_defined_symbol
			pre_defined_symbol =&gt;
			pre_defined_dimension_symbol</refpath>
	  </aa>
	  <aa attribute="symbol_definition" assertion_to="Marker">
		<aimelt xml:space="preserve">PATH</aimelt>
		<refpath xml:space="preserve"> 	
			annotation_symbol_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item
			styled_item.item -&gt;
			representation_item
			representation_item =&gt;
			geometric_representation_item =&gt;
			defined_symbol
			defined_symbol.definition -&gt;
			defined_symbol_select
			defined_symbol_select = pre_defined_symbol
			pre_defined_symbol =&gt;
			pre_defined_point_marker_symbol
		</refpath>
	  </aa>
	  <aa attribute="symbol_definition" assertion_to="Surface_condition_symbol">
		<aimelt xml:space="preserve">PATH</aimelt>
		<refpath xml:space="preserve">
			annotation_symbol_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item
			styled_item.item -&gt;
			representation_item
			representation_item =&gt;
			geometric_representation_item =&gt;
			defined_symbol
			defined_symbol.definition -&gt;
			defined_symbol_select
			defined_symbol_select = pre_defined_symbol
			pre_defined_symbol =&gt;
			pre_defined_surface_condition_symbol
		</refpath>
	  </aa>
	  <aa attribute="symbol_definition" assertion_to="Terminator">
		<aimelt xml:space="preserve">PATH</aimelt>
		<refpath xml:space="preserve">
			annotation_symbol_occurrence &lt;=
			annotation_occurrence &lt;=
			styled_item
			styled_item.item -&gt;
			representation_item
			representation_item =&gt;
			geometric_representation_item =&gt;
			defined_symbol
			defined_symbol.definition -&gt;
			defined_symbol_select
			defined_symbol_select = pre_defined_symbol
			pre_defined_symbol =&gt;
			pre_defined_terminator_symbol
		</refpath>
	  </aa>
	</ae>  

	<ae entity="Dimension_curve_terminator" extensible="NO">
	  <aimelt xml:space="preserve">dimension_curve_terminator</aimelt>
	  <source xml:space="preserve">ISO 10303-101</source>
	  <refpath xml:space="preserve">dimension_curve_terminator &lt;=
	  terminator_symbol</refpath>
	</ae> 

	<ae entity="Dimension_symbol" extensible="NO">
	  <aimelt xml:space="preserve">pre_defined_dimension_symbol</aimelt>
	  <source xml:space="preserve">ISO 10303-1206</source>
	  <refpath xml:space="preserve">pre_defined_dimension_symbol &lt;=
	  pre_defined_symbol</refpath>
	</ae> 

 	<ae entity="Draughting_callout" original_module="draughting_element" extensible="NO">
	  	<aa attribute="contents" assertion_to="Annotation_subfigure">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath_extend extended_select="draughting_callout_content_select" xml:space="preserve">
			  	draughting_callout_element = annotation_symbol_occurrence
				annotation_symbol_occurrence =&gt;
				annotation_subfigure_occurrence
			</refpath_extend>
	  	</aa>
	  	<aa attribute="contents" assertion_to="Annotation_symbol">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath_extend extended_select="draughting_callout_content_select" xml:space="preserve">
			  	draughting_callout_element = annotation_symbol_occurrence
			  	annotation_symbol_occurrence
			</refpath_extend>
	  	</aa>
  	</ae>
		  
	<ae entity="General_symbol" extensible="NO">
	  <alt_map id="1">
            <description>
		If the symbol is externally defined.</description>
		<aimelt xml:space="preserve">(externally_defined_symbol)</aimelt>
		<source xml:space="preserve">ISO 10303-46</source>
	  </alt_map>
	  <alt_map id="2">
            <description>
		If the symbol is user-defined.</description>
		<aimelt xml:space="preserve">draughting_symbol_representation</aimelt>
		<source xml:space="preserve">46</source>
		<refpath xml:space="preserve">
			(draughting_symbol_representation &lt;=
			symbol_representation)
		</refpath>
	  </alt_map>
	</ae> 

	<ae entity="Geometric_tolerance_symbol" extensible="NO">
	  <aimelt xml:space="preserve">pre_defined_geometrical_tolerance_symbol</aimelt>
	  <source xml:space="preserve">ISO 10303-1206</source>
	  <refpath xml:space="preserve">
		  pre_defined_geometrical_tolerance_symbol &lt;=
		  pre_defined_symbol
		</refpath>
	</ae> 
	   
	<ae entity="Surface_condition_symbol" extensible="NO">
	  <aimelt xml:space="preserve">pre_defined_surface_condition_symbol</aimelt>
	  <source xml:space="preserve">ISO 10303-1206</source>
	  	<refpath xml:space="preserve">
		  pre_defined_surface_condition_symbol &lt;=
		  pre_defined_symbol
		</refpath>
	</ae> 
	<ae entity="Terminator_symbol" extensible="NO">
	  <aimelt xml:space="preserve">terminator_symbol</aimelt>
	  <source xml:space="preserve">ISO 10303-101</source>
	</ae> 	
	
	<sc constraint="alternate_annotation_elements" entity="Annotation_element">
		<description>
			maps to subtype constraint <express_ref linkend="draughting_element_schema:ir_express:draughting_element_schema.annotation_occurrence_subtypes"/>.
		</description>
		<constraint>
		annotation_occurrence_subtypes
		</constraint>
		<source xml:space="preserve">ISO 10303-101</source>		
	</sc>
	
</mapping_table>

 <mim>
   <express-g>
     <imgfile file="mimexpg1.xml"/>
     <imgfile file="mimexpg2.xml"/>
    </express-g>
    <shortnames>
	   	<shortname name="PDDS" entity="pre_defined_dimension_symbol"/>
		<shortname name="PDGTS" entity="pre_defined_geometrical_tolerance_symbol"/>
		<shortname name="PDSCS" entity="pre_defined_surface_condition_symbol"/>
	 </shortnames>
 </mim>

</module>
