(*
   $Id: arm.exp,v 1.8 2016/08/03 14:57:45 kevletu Exp $
    ISO TC184/SC4/WG12 N9198 - ISO/TS 10303-1830 edge_based_topological_representation_with_length - EXPRESS ARM*)

SCHEMA Edge_based_topological_representation_with_length_arm;

USE FROM Elemental_topology_arm; -- ISO/TS 10303-1005

TYPE connected_edge_with_length_set_items = SELECT (
  Connected_edge_set,
  Path,
  Vertex_on_edge);
END_TYPE;

ENTITY Subedge
  SUBTYPE OF (Edge);
  parent_edge : Edge;
END_ENTITY;

ENTITY Edge_with_length
  SUBTYPE OF (Edge);
  edge_length : positive_length_measure ;
END_ENTITY;

ENTITY Vertex_on_edge
  SUBTYPE OF (Vertex);
  parent_edge : Edge_with_length;
  distance_from_start: positive_length_measure ;
WHERE
    WR1: distance_from_start < parent_edge.edge_length;
END_ENTITY;

ENTITY Connected_edge_with_length_set_representation
  SUBTYPE OF (Representation);
  SELF\Representation.items : SET [1:?] OF connected_edge_with_length_set_items;
WHERE
  WR1: SIZEOF(QUERY ( it <* SELF.items | 'ELEMENTAL_TOPOLOGY_ARM.CONNECTED_EDGE_SET' IN  TYPEOF(it)) ) = 1; 
END_ENTITY;
  
ENTITY Connected_edge_sub_set
	SUBTYPE OF (Connected_edge_set);
	parent_edge_set : Connected_edge_set;
END_ENTITY;
 
END_SCHEMA;
