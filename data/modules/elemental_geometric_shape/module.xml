<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.10 2002/06/28 13:19:17 goset1 Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
<module
   name="elemental_geometric_shape"
   part="1004"
   version="2"
   status="CD-TS"
	 wg.number.supersedes="658"	
	 wg.number="1318"
   wg.number.arm="1319"
   wg.number.mim="1320"   
   checklist.internal_review=""
   checklist.project_leader=""
   checklist.convener=""
   language="E"
   publication.year="2002"
   published="n"

   rcs.date="$Date: 2002/06/28 13:19:17 $"
   rcs.revision="$Revision: 1.10 $">

 <keywords>
    module, geometry, mapping, template instance, point, transformation
 </keywords>

 <contacts>
   <projlead ref="pdmmodules.projlead"/>
   <editor ref="pdmmodules.editor"/>
 </contacts>

 <purpose>
The Elemental geometric shape application module provides the base constructs for the representation of geometric information.  
 </purpose>

 <inscope>
<li>definition of a geometric coordinate space; 
</li>
<li>definition of a geometric model;  
</li>
<li>definition of a point expressed using cartesian coordinates; 
</li>
<li>definition of an axis; 
</li>
<li>definition of a coordinate system or axis placement; 
</li>
<li>definition of a 2d or 3d affine transformation;  
</li>
<li>definition of a geometric transformation from the data of a source axis_placement and the axis_placement resulting from its transformation;  
</li>
<li>definition of a definition of a geometric transformation from the data of a source axis_placement and the 2*3 or 3*4 matrix from its transformation; 
</li>
<li>replication of a geometric model through the application of a geometric transformation.
</li>
 </inscope>

 <outscope>
 <li>
 the specification of various geometric modeling approaches for shape representation, such as wireframe or boundary representations.

   </li>
<note>These various representations are dealt with in specific modules, each dedicated to a kind of representation.
</note> </outscope>


	<normrefs>
	 <normref.inc normref="ref10303-42.2000">
	 		<term.ref linkend="term19"/>
	 		<term.ref linkend="dimensionality"/>
 		<term.ref linkend="extent"/>
 		<term.ref linkend="spc_dim"/>
			 </normref.inc>
	</normrefs>
<!-- <definition/>

 <abbreviations/>
-->

 <arm>
   <uof name="Elemental_Geometric_Shape">
     <description>
 The Elemental_Geometric_Shape UoF specifies the base constructs needed for the representation of geometric information.  
     </description>
		 <uof.ae entity="Geometric_coordinate_space"/>
     <uof.ae entity="Detailed_geometric_model_element"/>
     <uof.ae entity="Geometric_model"/>
     <uof.ae entity="Cartesian_point"/>
     <uof.ae entity="Direction"/>
     <uof.ae entity="Axis_placement"/>
     <uof.ae entity="Cartesian_transformation_2d"/>
     <uof.ae entity="Cartesian_transformation_3d"/>
     <uof.ae entity="Axis_placement_mapping"/>		 
	   <uof.ae entity="Axis_placement_transformation_mapping"/>	  
     <uof.ae entity="Mapping_based_template_instance"/>
		 <uof.ae entity="Transformation_based_template_instance"/>
		</uof>

   <express-g>
     <imgfile file="armexpg1.xml"/>
     <imgfile file="armexpg2.xml"/>
		</express-g>
 </arm>

 <mapping_table>

		<ae entity="Geometric_coordinate_space">
      <aimelt>geometric_representation_context</aimelt>
      <source>ISO 10303-42</source>
			<refpath>
			geometric_representation_context &lt;= representation_context
			</refpath>
      <aa attribute="dimension_count">
         <aimelt>geometric_representation_context.coordinate_space.dimension</aimelt>
         <source>ISO 10303-42</source>
      </aa>
   </ae>

   <ae entity="Geometric_model">
      <aimelt>shape_representation</aimelt>
      <source>ISO 10303-41</source>
      <aa attribute="SELF\Representation.context_of_items" assertion_to="Geometric_coordinate_space">
         <aimelt>PATH</aimelt>
         <refpath>shape_representation &lt;=
representation
representation.context_of_items -&gt;
representation_context =&gt;
geometric_representation_context
				</refpath>
      </aa>

      <aa attribute="version_id">
         <aimelt>applied_identification_assignment.assigned_id</aimelt>
         <source>ISO 10303-1021</source>
         <refpath>shape_representation
identification_item = shape_representation
identification_item &lt;-
applied_identification_assignment.items[i]
applied_identification_assignment &lt;=
identification_assignment
{identification_assignment.role -&gt;
identification_role
identification_role.name='version'}
identification_assignment.assigned_id</refpath>
      </aa>

      <aa attribute="SELF\Representation.items" assertion_to="Detailed_geometric_model_element">
         <aimelt>PATH</aimelt>
         <refpath>shape_representation &lt;=
representation
representation.items[i] -&gt;
representation_item =&gt; geometric_representation_item</refpath>
      </aa>
      <aa attribute="model_extent">
				 <alt_map id="1">
	 <description>
	 if units are specified for the context_of_items
		</description> 
        <aimelt>(value_representation_item)</aimelt>
         <source>ISO 10303-43</source>		
         <refpath>
shape_representation &lt;=
representation &lt;-
representation_relationship.rep_1
representation_relationship
{representation_relationship.name='model extent association'}
representation_relationship.rep_2 -&gt;
representation
{representation.name ='model extent representation'}
representation.items[i] -&gt;
representation_item =&gt;
{representation_item.name ='model extent value'}
value_representation_item
</refpath>
</alt_map>
				 <alt_map id="2">
	 <description>
	 if units are not specified globally
		</description> 
        <aimelt>(measure_representation_item)</aimelt>
         <source>ISO 10303-45</source>				
         <refpath>
shape_representation &lt;=
representation &lt;-
representation_relationship.rep_1
representation_relationship
{representation_relationship.name='model extent association'}
representation_relationship.rep_2 -&gt;
representation
{representation.name ='model extent representation'}
representation.items[i] -&gt;
representation_item =&gt;
{representation_item.name ='model extent value'}
measure_representation_item
</refpath>
</alt_map>
      </aa>
   </ae>
	 
   <ae entity="Detailed_geometric_model_element">
      <aimelt>geometric_representation_item</aimelt>
      <source>ISO 10303-42</source>
			<refpath>representation_item =&gt; geometric_representation_item
			</refpath>
   </ae>

   <ae entity="Cartesian_point">
      <aimelt>cartesian_point</aimelt>
      <source>ISO 10303-42</source>
			<refpath>geometric_representation_item =&gt; point
			point =&gt; cartesian_point
			</refpath>
			
			<aa attribute="coordinates">
      <aimelt>cartesian_point.coordinates</aimelt>
			<source>ISO 10303-42</source>
			</aa>
   </ae>

   <ae entity="Direction">
      <aimelt>direction</aimelt>
      <source>ISO 10303-42</source>
			<refpath>geometric_representation_item =&gt; direction
			</refpath>
			
			<aa attribute="coordinates">
      <aimelt>direction.direction_ratios</aimelt>
			<source>ISO 10303-42</source>
			</aa>
   </ae>
	 
   <ae entity="Axis_placement">
			<alt_map id="1">
	 <description>
	 if the geometric space is 2D
	 </description>
      <aimelt>(axis2_placement_2d)</aimelt>
		  <refpath>geometric_representation_item =&gt; placement
			placement &lt;= axis2_placement_2d
			</refpath>	 
	  	</alt_map>
			<alt_map id="2">
	 <description>
	 if the geometric space is 3D
	 </description>
      <aimelt>(axis2_placement_3d)</aimelt>
		  <refpath>geometric_representation_item =&gt; placement
			placement &lt;= axis2_placement_3d
			</refpath>	 
	  	</alt_map>

			<aa attribute="origin" assertion_to="Cartesian_point">
      <aimelt>PATH</aimelt>
			<refpath>placement.location -&gt; cartesian_point
			</refpath>
			</aa>
			
			<aa attribute="x_axis" assertion_to="Direction">
			<alt_map alt_map.inc="1">	
			<aimelt>PATH</aimelt>
			<refpath>axis2_placement_2d.ref_direction -&gt; direction
			</refpath>
			</alt_map>
			
			<alt_map alt_map.inc="2">	
			<aimelt>PATH</aimelt>
			<refpath>axis2_placement_3d.p[1] -&gt; direction
			</refpath>
			</alt_map>
			</aa>
						
			<aa attribute="y_axis" assertion_to="Direction">
			<alt_map alt_map.inc="1">	
			<aimelt>PATH</aimelt>
			<refpath>axis2_placement_2d.p[2] -&gt; direction
			</refpath>
			</alt_map>

			<alt_map alt_map.inc="2">	
			<aimelt>PATH</aimelt>
			<refpath>axis2_placement_3d.p[2] -&gt; direction
			</refpath>
			</alt_map>
			</aa>
	 </ae>

   <ae entity="Cartesian_transformation_2d">
      <aimelt>cartesian_transformation_operator_2d
</aimelt>
      <source>ISO 10303-42</source>
      <refpath>geometric_representation_item =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_2d
</refpath>
			<aa attribute="multiplication_matrix" assertion_to="Direction">
      <aimelt>PATH</aimelt>
			<refpath>
			cartesian_transformation_operator_2d &lt;= cartesian_transformation_operator
[cartesian_transformation_operator.axis1 -&gt; direction]
[cartesian_transformation_operator.axis2 -&gt; direction]
			</refpath>
			</aa>
			<aa attribute="translation" assertion_to="Cartesian_point">
      <aimelt>PATH</aimelt>
			<refpath>
cartesian_transformation_operator_2d &lt;= cartesian_transformation_operator
cartesian_transformation_operator.local_origin -&gt; cartesian_point
</refpath>
			</aa>
   </ae>

   <ae entity="Cartesian_transformation_3d">
      <aimelt>cartesian_transformation_operator_3d
</aimelt>
      <source>ISO 10303-42</source>
      <refpath>geometric_representation_item =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_3d
</refpath>
			<aa attribute="multiplication_matrix" assertion_to="Direction">
      <aimelt>PATH</aimelt>
			<refpath>
cartesian_transformation_operator_3d &lt;= cartesian_transformation_operator
[cartesian_transformation_operator.axis1 -&gt; direction]
[cartesian_transformation_operator.axis2 -&gt; direction]
[cartesian_transformation_operator.axis3 -&gt; direction]
			</refpath>
			</aa>
			<aa attribute="translation" assertion_to="Cartesian_point">
      <aimelt>PATH</aimelt>
			<refpath>
cartesian_transformation_operator_3d &lt;= cartesian_transformation_operator
cartesian_transformation_operator.local_origin -&gt; cartesian_point
</refpath>
			</aa>
   </ae>
	 
   <ae entity="Axis_placement_mapping">
      <aimelt>item_defined_transformation
			</aimelt>
      <source>ISO 10303-43</source>
      <refpath></refpath>
			<aa attribute="source" assertion_to="Axis_placement">
      <aimelt>PATH</aimelt>
			<refpath>
item_defined_transformation.transform_1 -&gt;
representation_item
representation_item =&gt; geometric_representation_item
(geometric_representation_item =&gt; axis2_placement_2d)
(geometric_representation_item =&gt; axis2_placement_3d)
			</refpath>
			</aa>
			<aa attribute="target" assertion_to="Axis_placement">
      <aimelt>PATH</aimelt>
			<refpath>
item_defined_transformation.transform_2 -&gt;
representation_item
representation_item =&gt; geometric_representation_item
(geometric_representation_item =&gt; axis2_placement_2d)
(geometric_representation_item =&gt; axis2_placement_3d)
			</refpath>
			</aa>
   </ae>
	 
   <ae entity="Axis_placement_transformation_mapping">
    <aimelt>item_defined_transformation
</aimelt>
      <source>ISO 10303-42</source>
      <refpath></refpath>
			<aa attribute="source" assertion_to="Axis_placement">
      <aimelt>PATH</aimelt>
			<refpath>
item_defined_transformation.transform_1 -&gt;
representation_item
representation_item =&gt; geometric_representation_item
(geometric_representation_item =&gt; axis2_placement_2d)
(geometric_representation_item =&gt; axis2_placement_3d)
			</refpath>
			</aa>
			<aa attribute="target" assertion_to="Cartesian_transformation_2d">
      <aimelt>PATH</aimelt>
			<refpath>
item_defined_transformation.transform_2 -&gt;
representation_item
representation_item =&gt; geometric_representation_item
geometric_representation_item =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_2d
			</refpath>
			</aa>

			<aa attribute="target" assertion_to="Cartesian_transformation_3d">
      <aimelt>PATH</aimelt>
			<refpath>
item_defined_transformation.transform_2 -&gt;
representation_item
representation_item =&gt; geometric_representation_item
geometric_representation_item =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_3d
			</refpath>
			</aa>
   </ae>
	 	  
<ae entity="Mapping_based_template_instance">
	 <alt_map id="1">
   <description>
	 use of the mapped_item approach
	 </description>
	      <aimelt>
			mapped_item
</aimelt>
      <source>ISO 10303-43</source>
			</alt_map>
	 <alt_map id="2">
   <description>
	 use of the representation_relationship approach
	 </description>
	      <aimelt>
[representation_relationship_with_transformation]
[shape_representation_relationship]
</aimelt>
      <source>
ISO 10303-43, ISO 10303-41
</source>
<refpath>
shape_representation_relationship &lt;=
representation_relationship =&gt;
representation_relationship_with_transformation
</refpath>
</alt_map>			

<aa attribute="replicated_model" assertion_to="Geometric_model">
			 <alt_map alt_map.inc="1">
         <aimelt>PATH</aimelt>
         <refpath>
mapped_item.mapping_source -&gt; 
representation_map
representation_map.mapped_representation -&gt;
representation
representation =&gt; shape_representation
</refpath>
</alt_map>
			 <alt_map alt_map.inc="2">
         <aimelt>PATH</aimelt>
         <refpath>
representation_relationship_with_transformation.rep_2 -&gt; representation)
representation =&gt; shape_representation
</refpath>
</alt_map>
</aa>

<aa attribute="source" assertion_to="Axis_placement">
			 <alt_map alt_map.inc="1">
<aimelt>PATH</aimelt>
<refpath>
mapped_item.mapping_source -&gt;
representation_map
representation_map.mapping_origin -&gt; representation_item
representation_item =&gt; geometric_representation_item
(geometric_representation_item =&gt; axis2_placement_2d)
(geometric_representation_item =&gt; axis2_placement_3d))
</refpath>
</alt_map>

			 <alt_map alt_map.inc="2">
<aimelt>PATH</aimelt>
<refpath>
representation_relationship_with_transformation.transformation_operator -&gt;
transformation
transformation = item_defined_transformation
item_defined_transformation.transform_1 -&gt; representation_item
representation_item =&gt; geometric_representation_item
(geometric_representation_item =&gt; axis2_placement_2d)
(geometric_representation_item =&gt; axis2_placement_3d)
</refpath>
</alt_map>
</aa>
<aa attribute="target" assertion_to="Axis_placement">
<alt_map alt_map.inc="1">
<aimelt>PATH</aimelt>
<refpath>
mapped_item.mapping_target -&gt; representation_item
representation_item =&gt; geometric_representation_item
(geometric_representation_item =&gt; axis2_placement_2d)
(geometric_representation_item =&gt; axis2_placement_3d)
</refpath>
</alt_map>

<alt_map alt_map.inc="2">
<aimelt>PATH</aimelt>
<refpath>
representation_relationship_with_transformation.transformation_operator -&gt;
transformation
transformation = item_defined_transformation
item_defined_transformation.transform_2 -&gt; representation_item)
representation_item =&gt; geometric_representation_item
(geometric_representation_item =&gt; axis2_placement_2d)
(geometric_representation_item =&gt; axis2_placement_3d)
</refpath>
</alt_map>
</aa>

<aa attribute="target" assertion_to="Cartesian_transformation_2d">
<alt_map alt_map.inc="1">
<aimelt>PATH</aimelt>
<refpath>
mapped_item.mapping_target -&gt; representation_item
representation_item =&gt; geometric_representation_item
geometric_representation_item =&gt; cartesian_transformation_operator_2d
</refpath>
</alt_map>
<alt_map alt_map.inc="2">
<aimelt>PATH</aimelt>
<refpath>
representation_relationship_with_transformation.transformation_operator -&gt;
transformation
transformation = item_defined_transformation
item_defined_transformation.transform_2 -&gt; representation_item)
representation_item =&gt; geometric_representation_item
geometric_representation_item =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_2d
</refpath>
</alt_map>
</aa>

<aa attribute="target" assertion_to="Cartesian_transformation_3d">
<alt_map alt_map.inc="1">
<aimelt>PATH</aimelt>
<refpath>
mapped_item.mapping_target -&gt; representation_item
representation_item =&gt; geometric_representation_item
geometric_representation_item =&gt; cartesian_transformation_operator_3d
</refpath>
</alt_map>
<alt_map alt_map.inc="2">
<aimelt>PATH</aimelt>
<refpath>
representation_relationship_with_transformation.transformation_operator -&gt;
transformation
transformation = item_defined_transformation
item_defined_transformation.transform_2 -&gt; representation_item)
representation_item =&gt; geometric_representation_item
geometric_representation_item =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_3d
</refpath>
</alt_map>
</aa>
</ae>

<ae entity="Transformation_based_template_instance">
	 <alt_map id="1">
   <description>
	 use of the mapped_item approach
	 </description>
      <aimelt>
			mapped_item
</aimelt>
      <source>
ISO 10303-43
</source>
</alt_map> 
	 <alt_map id="2">
   <description>
use of the representation_relationship approach
	 </description>
      <aimelt>
[representation_relationship_with_transformation]
[shape_representation_relationship]
</aimelt>
      <source>
ISO 10303-43, ISO 10303-41
</source>
<refpath>
shape_representation_relationship &lt;=
representation_relationship =&gt;
representation_relationship_with_transformation
</refpath>
</alt_map>

<aa attribute="replicated_model" assertion_to="Geometric_model">
<alt_map alt_map.inc="1">
<aimelt>PATH</aimelt>
<refpath>
mapped_item.mapping_source -&gt; 
representation_map
representation_map.mapped_representation -&gt;
representation 
representation =&gt; shape_representation
</refpath>
</alt_map>
<alt_map alt_map.inc="2">
<aimelt>PATH</aimelt>
<refpath>
representation_relationship_with_transformation.rep_2 -&gt; representation
representation =&gt; shape_representation
</refpath>
</alt_map>
</aa>

<aa attribute="replication_transformation" assertion_to="Cartesian_transformation_2d">
<alt_map alt_map.inc="1">
<aimelt>PATH</aimelt>
<refpath>
mapped_item.mapping_target -&gt; representation_item
representation_item &gt; geometric_representation_item
geometric_representation_item =&gt; cartesian_transformation_operator_2d
</refpath>
</alt_map>
<alt_map alt_map.inc="2">
<aimelt>PATH</aimelt>
<refpath>
representation_relationship_with_transformation.transformation_operator -&gt;
transformation
transformation = functionally_defined_transformation
functionally_defined_transformation =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_2d
</refpath>
</alt_map>
</aa>

<aa attribute="replication_transformation" assertion_to="Cartesian_transformation_3d">
<alt_map alt_map.inc="1">
<aimelt>PATH</aimelt>
<refpath>
mapped_item.mapping_target -&gt; representation_item
representation_item &gt; geometric_representation_item
geometric_representation_item =&gt; cartesian_transformation_operator_3d
</refpath>
</alt_map>
<alt_map alt_map.inc="2">
<aimelt>PATH</aimelt>
<refpath>
representation_relationship_with_transformation.transformation_operator -&gt;
transformation
transformation = functionally_defined_transformation
functionally_defined_transformation =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_3d
</refpath>
</alt_map>
</aa>    
</ae>
 </mapping_table>

 <mim>
   <express-g>
     <imgfile file="mimexpg1.xml"/>
     <imgfile file="mimexpg2.xml"/>
    </express-g>
 </mim>

</module>
