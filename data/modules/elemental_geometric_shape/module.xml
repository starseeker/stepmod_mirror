<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.43 2006/03/24 18:43:16 thendrix Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
<module
   name="elemental_geometric_shape"
   name.french="Forme g&#233;om&#233;trique &#233;l&#233;mentaire"
   part="1004"
   version="3"
   status="TS"
	wg.number="4247"
	wg.number.arm="4248"
    wg.number.mim="4249" 
    wg.number.supersedes="2903"
	wg.number.arm.supersedes="2102"
    wg.number.mim.supersedes="2103"    
    checklist.internal_review="3818"
    checklist.project_leader="3819"
    checklist.convener="3820"
    language="E"
    publication.year="2006"
    publication.date="2006-09-15"
    published="y"
    previous.revision.year="2004"
    previous.revision.cancelled="YES"
    revision.complete="YES"

   rcs.date="$Date: 2006/03/24 18:43:16 $"
   rcs.revision="$Revision: 1.43 $"
  development.folder="dvlp"
>

 <keywords>
    module, geometry, mapping, template instance, point, transformation
 </keywords>

 <contacts>
   <projlead ref="pdmmodules.projlead"/>
   <editor ref="pdmmodules.editor"/>
 </contacts>

 <purpose>
This part of ISO 10303 specifies an application module for the definition of base constructs of geometric representation.  
<p>   
The second edition of this part of ISO 10303 included the modifications to the first edition listed below.
</p><p>
The following ARM EXPRESS declarations have been modified:</p>
<ul><li>
Cartesian_coordinate_space;
</li><li>
Detailed_geometric_model_element;
</li><li>
Geometric_model.
</li></ul>
<p>The following ARM EXPRESS declarations have been added:</p>
<ul><li>
Axis_placement;
</li><li>
Axis_placement_mapping;
</li><li>
Cartesian_point;
</li><li>
cartesian_transformation;
</li><li>
Cartesian_transformation_2d;
</li><li>
Cartesian_transformation_3d;
</li><li>
Direction;
</li><li>
geometric_mapping_target.
</li></ul>
<p>The definitions of the following ARM EXPRESS data types have been modified:</p>
<ul><li>
Cartesian_coordinate_space;
</li><li>
Detailed_geometric_model_element;
</li><li>
Geometric_model.
</li></ul>
<p>In addition, modifications have been made to the mapping specification, the MIM schema and the EXPRESS-G diagrams to reflect and be consistent with the modifications of the ARM.</p>

	<p>   
This third edition of this part of ISO 10303 includes the modifications to the second edition listed below.
	</p>
	<p>The following ARM EXPRESS declarations have been removed:</p>
	<ul>
		<li>Axis_placement_transformation_mapping.</li>
	</ul>
	<!-- MIM changes -->
	<p>The following MIM EXPRESS declarations have been added:</p>
	<ul>
		<li>USE FROM qualified_measure_schema (measure_representation_item).</li>
	</ul>
	
	<!-- Mapping changes -->
	<p>Modifications made to the mapping specification of the following entity definitions:</p>
	<ul>
		<li>Axis_placement_transformation_mapping (removed);</li>
		<li>Cartesian_transformation_2d.multiplication_matrix (fixed syntax error).</li>	
	</ul>

 </purpose>

 <inscope>
      <li>definition of a geometric coordinate space; </li>
      <li>definition of a geometric model;  </li>
      <li>definition of a point expressed using cartesian coordinates; </li>
      <li>definition of an axis; </li>
      <li>definition of a coordinate system or axis placement; </li>
      <li>definition of a 2d or 3d geometric transformation by a 2*3 or 3*4 matrix;  </li>
      <li>definition of a geometric transformation from the data of a source axis_placement and of the axis_placement that results from its transformation;  </li>
      <li>definition of a geometric transformation from the data of a source axis_placement and of the 2*3 or 3*4 matrix that results from its transformation. </li>
  </inscope>

 <outscope>
 <li>
specification of various geometric modelling approaches for shape representation, such as wireframe or boundary representations.
<note>These various representations are dealt with in specific modules, each dedicated to a kind of representation.
</note></li> </outscope>


	<normrefs>
	 <normref.inc normref="ref10303-41.e3"/>
	 <normref.inc normref="ref10303-42.2003">
	 		<term.ref linkend="term19"/>
	 		<term.ref linkend="dimensionality"/>
 		<term.ref linkend="extent"/>
 		<term.ref linkend="spc_dim"/>
			 </normref.inc>
		<normref.inc normref="ref10303-43.2000"/>
		<normref.inc normref="ref10303-45.1998"/>
	</normrefs>
<!-- <definition/>

 <abbreviations/>
-->

 <arm>
   <uof name="Elemental_Geometric_Shape">
     <description>
 The Elemental_Geometric_Shape UoF specifies the base constructs needed for the representation of geometric information.  
     </description>
		 <uof.ae entity="Geometric_coordinate_space"/>
     <uof.ae entity="Detailed_geometric_model_element"/>
     <uof.ae entity="Geometric_model"/>
     <uof.ae entity="Cartesian_point"/>
     <uof.ae entity="Direction"/>
     <uof.ae entity="Axis_placement"/>
     <uof.ae entity="Cartesian_transformation_2d"/>
     <uof.ae entity="Cartesian_transformation_3d"/>
     <uof.ae entity="Axis_placement_mapping"/>		 
		</uof>

   <express-g>
     <imgfile file="armexpg1.xml"/>
     <imgfile file="armexpg2.xml"/>
		</express-g>
 </arm>

 <mapping_table>

		<ae entity="Geometric_coordinate_space">
      <aimelt>geometric_representation_context</aimelt>
      <source>ISO 10303-42</source>
			<refpath>
			geometric_representation_context &lt;= representation_context
			</refpath>
      <aa attribute="dimension_count">
         <aimelt>geometric_representation_context.coordinate_space_dimension</aimelt>
         <source>ISO 10303-42</source>
      </aa>
   </ae>

   <ae entity="Geometric_model">
      <aimelt>shape_representation</aimelt>
      <source>ISO 10303-41</source>
      <aa attribute="context_of_items" assertion_to="Geometric_coordinate_space" inherited_from_entity="Representation">
         <aimelt>PATH</aimelt>
         <refpath>shape_representation &lt;=
representation
representation.context_of_items -&gt;
representation_context =&gt;
geometric_representation_context
				</refpath>
      </aa>

      <aa attribute="version_id">
         <aimelt>identification_assignment.assigned_id</aimelt>
         <source>ISO 10303-1021</source>
         <refpath>shape_representation
identification_item = shape_representation
identification_item &lt;-
applied_identification_assignment.items[i]
applied_identification_assignment &lt;=
identification_assignment
{identification_assignment.role -&gt;
identification_role
identification_role.name='version'}
identification_assignment.assigned_id</refpath>
      </aa>

      <aa attribute="items" assertion_to="Detailed_geometric_model_element" inherited_from_entity="Representation">
         <aimelt>PATH</aimelt>
         <refpath>shape_representation &lt;=
representation
representation.items[i] -&gt;
representation_item =&gt; geometric_representation_item</refpath>
      </aa>
      <aa attribute="model_extent">
				 <alt_map id="1">
	 <description>
	 if units are specified for the context_of_items
		</description> 
        <aimelt>(value_representation_item)</aimelt>
         <source>ISO 10303-43</source>		
         <refpath>
shape_representation &lt;=
representation &lt;-
representation_relationship.rep_1
representation_relationship
{representation_relationship.name='model extent association'}
representation_relationship.rep_2 -&gt;
representation
{representation.name ='model extent representation'}
representation.items[i] -&gt; representation_item
{representation_item.name ='model extent value'}
representation_item =&gt;
value_representation_item
</refpath>
</alt_map>
				 <alt_map id="2">
	 <description>
	 if units are not specified globally
		</description> 
        <aimelt>(measure_representation_item)</aimelt>
         <source>ISO 10303-45</source>				
         <refpath>
shape_representation &lt;=
representation &lt;-
representation_relationship.rep_1
representation_relationship
{representation_relationship.name='model extent association'}
representation_relationship.rep_2 -&gt;
representation
{representation.name ='model extent representation'}
representation.items[i] -&gt; representation_item
{representation_item.name ='model extent value'}
representation_item =&gt;
measure_representation_item
</refpath>
</alt_map>
      </aa>
   </ae>
	 
   <ae entity="Detailed_geometric_model_element">
      <aimelt>geometric_representation_item</aimelt>
      <source>ISO 10303-42</source>
			<refpath>representation_item =&gt; geometric_representation_item
			</refpath>
   </ae>

   <ae entity="Cartesian_point">
      <aimelt>cartesian_point</aimelt>
      <source>ISO 10303-42</source>
			<refpath>geometric_representation_item =&gt; point
			point =&gt; cartesian_point
			</refpath>
			
			<aa attribute="coordinates">
      <aimelt>cartesian_point.coordinates</aimelt>
			<source>ISO 10303-42</source>
			</aa>
   </ae>

   <ae entity="Direction">
      <aimelt>direction</aimelt>
      <source>ISO 10303-42</source>
			<refpath>geometric_representation_item =&gt; direction
			</refpath>
			
			<aa attribute="coordinates">
      <aimelt>direction.direction_ratios</aimelt>
			<source>ISO 10303-42</source>
			</aa>
   </ae>
	 
   <ae entity="Axis_placement">
			<alt_map id="1">
	 <description>
	 if the geometric space is 2D
	 </description>
      <aimelt>(axis2_placement_2d)</aimelt>
	  	</alt_map>
			<alt_map id="2">
	 <description>
	 if the geometric space is 3D
	 </description>
      <aimelt>(axis2_placement_3d)</aimelt>
	  	</alt_map>

			<aa attribute="origin" assertion_to="Cartesian_point">
      <aimelt>PATH</aimelt>
			<refpath>placement.location -&gt; cartesian_point
			</refpath>
			</aa>
			
			<aa attribute="x_axis" assertion_to="Direction">
			<alt_map alt_map.inc="1">	
			<aimelt>PATH</aimelt>
			<refpath>axis2_placement_2d.ref_direction -&gt; direction
			</refpath>
			</alt_map>
			
			<alt_map alt_map.inc="2">	
			<aimelt>PATH</aimelt>
			<refpath>axis2_placement_3d.p[1] -&gt; direction
			</refpath>
			</alt_map>
			</aa>
						
			<aa attribute="y_axis" assertion_to="Direction">
			<alt_map alt_map.inc="1">	
			<aimelt>PATH</aimelt>
			<refpath>axis2_placement_2d.p[2] -&gt; direction
			</refpath>
			</alt_map>

			<alt_map alt_map.inc="2">	
			<aimelt>PATH</aimelt>
			<refpath>axis2_placement_3d.p[2] -&gt; direction
			</refpath>
			</alt_map>
			</aa>
	 </ae>

   <ae entity="Cartesian_transformation_2d">
      <aimelt>cartesian_transformation_operator_2d
</aimelt>
      <source>ISO 10303-42</source>
      <refpath>geometric_representation_item =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_2d
</refpath>
			<aa attribute="multiplication_matrix" assertion_to="Direction">
      <aimelt>PATH</aimelt>
			<refpath>
			cartesian_transformation_operator_2d &lt;= cartesian_transformation_operator
[cartesian_transformation_operator.axis1 -&gt; ]
[cartesian_transformation_operator.axis2 -&gt; ]
direction
			</refpath>
			</aa>
			<aa attribute="translation" assertion_to="Cartesian_point">
      <aimelt>PATH</aimelt>
			<refpath>
cartesian_transformation_operator_2d &lt;= cartesian_transformation_operator
cartesian_transformation_operator.local_origin -&gt; cartesian_point
</refpath>
			</aa>
   </ae>

   <ae entity="Cartesian_transformation_3d">
      <aimelt>cartesian_transformation_operator_3d
</aimelt>
      <source>ISO 10303-42</source>
      <refpath>geometric_representation_item =&gt; cartesian_transformation_operator
cartesian_transformation_operator =&gt; cartesian_transformation_operator_3d
</refpath>
			<aa attribute="multiplication_matrix" assertion_to="Direction">
      <aimelt>PATH</aimelt>
			<refpath>
[cartesian_transformation_operator_3d &lt;= cartesian_transformation_operator
[cartesian_transformation_operator.axis1 -&gt; ]
[cartesian_transformation_operator.axis2 -&gt; ]]
[[cartesian_transformation_operator_3d.axis3 -&gt; ]]
direction
			</refpath>
			</aa>
			<aa attribute="translation" assertion_to="Cartesian_point">
      <aimelt>PATH</aimelt>
			<refpath>
cartesian_transformation_operator_3d &lt;= cartesian_transformation_operator
cartesian_transformation_operator.local_origin -&gt; cartesian_point
</refpath>
			</aa>
   </ae>
	 
   <ae entity="Axis_placement_mapping">
      <aimelt>item_defined_transformation
			</aimelt>
      <source>ISO 10303-43</source>
      <refpath></refpath>
			<aa attribute="source" assertion_to="Axis_placement">
      <aimelt>PATH</aimelt>
			<refpath>
item_defined_transformation.transform_item_1 -&gt;
representation_item
representation_item =&gt; geometric_representation_item
(geometric_representation_item =&gt; placement 
placement =&gt; axis2_placement_2d)
(geometric_representation_item =&gt; placement 
placement =&gt; axis2_placement_3d)
			</refpath>
			</aa>
			<aa attribute="target" assertion_to="Axis_placement">
      <aimelt>PATH</aimelt>
			<refpath>
item_defined_transformation.transform_item_2 -&gt;
representation_item
representation_item =&gt; geometric_representation_item
(geometric_representation_item =&gt; placement 
placement =&gt; axis2_placement_2d)
(geometric_representation_item =&gt; placement 
placement =&gt; axis2_placement_3d)
			</refpath>
			</aa>
   </ae>
 </mapping_table>

 <mim>
   <express-g>
     <imgfile file="mimexpg1.xml"/>
     <imgfile file="mimexpg2.xml"/>
    </express-g>
 </mim>

</module>
