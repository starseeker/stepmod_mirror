<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.25 2003/02/08 10:57:31 seanbarker Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
 <!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      -->
<module
   name="envelope"
   part="1265"
   version="1"
   wg.number="1459"
   wg.number.arm="1460"
   wg.number.mim="1461"
   checklist.internal_review="1819"
   checklist.project_leader="1637"
   checklist.convener="1638"
   status="CD-TS"
   language="E"
   publication.year="2003"
   published="n"
   rcs.date="$Date: 2003/02/08 10:57:31 $"
   rcs.revision="$Revision: 1.25 $"
   development.folder="dvlp">


 <keywords>
    module, envelope, mail, receipt
 </keywords>

 <!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
 <contacts>
   <projlead ref="plcs.projlead"/>
   <editor ref="seanbarker"/>
 </contacts>

 <!-- Introduction -->
 <!-- The introduction should start as shown: -->
 <purpose>
   <p>
     This part of ISO 10303 specifies an application module for the
     representation of Envelope.
An envelope is a wrapper for a message. It is provided in order to maintain an audit trail of transmission. Previously, audit trail information has been held externally to the STEP environment. However increase volumes and frequency of transaction, particularly of small extracts from a database, require the association of transmission information with the database. For example, in an automated support environment, failure to notify significant faults, maintenance actions or procedural changes may be legally significant.
	Just as with a physical letter where the envelope is quite distinct from the content, in this module, the envelope is quite distinct from the message it contains. Provision is also made to use the envelope entity to send back receipts.

   </p>
 </purpose>

 <!-- Items in scope -->
 <inscope>

   <li>Identification of the sender of the envelope and date sent;</li>
   <li>Identification of the recipient of the envelope and date receivedo;</li>
   <li>Authorisation of the sending of the message;</li>
   <li>Solicitation of a receipt for the envelope and acknowledge it;</li>
   <li>Associatiation of envelopes to each other;</li>
   <li>Associatiation of properties to the envelope.</li>


 </inscope>

 <!-- Items out of scope -->

 <outscope>
   <li>Specification of envelope routing;</li>
   <li>Specification of information about the contents of the envelope;</li>
   <li>Specification of any encoding or encryption used on the envelope or its contents;</li>
   <li>Specification of information used by the transmission system for the envelope.</li>
 </outscope>

 <normrefs>
 <normref.inc normref="ref10303-41.2000"/>
 <normref.inc module.name="message">
     <term.ref linkend="message"/>
   </normref.inc>
 </normrefs>


 <definition>
   <term id="envelope">envelope</term>
   <def>a wrapper for a message, and providing addressee and acknowledgement information.
   </def>
 </definition>

<!--

 <abbreviations/>
-->

 <!-- Clause 4 ARM  -->
 <arm>
   <!-- Note ARM short form EXPRESS is in arm.xml -->
   <!-- Units of functionality -->
   <uof name="Envelope">
     <description>
	Envelope specifies the data structure needed to provide an audit trail for the transmission of messages and their acknowledgement.
     </description>
     <uof.ae entity="Envelope"/>
     <uof.ae entity="Envelope_association"/>
   </uof>

   <!-- Short form EXPRESS-G -->
   <express-g>
     <imgfile file="armexpg1.xml"/> 
     <imgfile file="armexpg2.xml"/>
   </express-g>
 </arm>


 <!-- Clause 5.1 Mapping specification -->
 <mapping_table>

 <!-- mappings due to the extension of the approval_item select -->
   <ae entity="Approval_assignment" original_module="approval">
     <aa attribute="items" assertion_to="Envelope">
       <refpath_extend extended_select="approval_item">
         approval_item *> envelope_approval
        envelope_approval=product
       </refpath_extend>
     </aa>
   </ae>


<!-- mappings due to the extension of the date_or_date_time_item select-->
<!-- format due to table being nicked from management_resource_information-->
   <ae entity="Date_or_date_time_assignment" original_module="date_time_assignment">
     <aa attribute="items" assertion_to="Envelope">
       <alt_map alt_map.inc="1">
         <refpath_extend extended_select="date_or_date_time_item">
           date_item *> envelope_date
           envelope_date = product
         </refpath_extend>
       </alt_map>
       <alt_map alt_map.inc="2">
         <refpath_extend extended_select="date_or_date_time_item">
         date_and_time_item *> envelope_date_and_time
           envelope_date_and_time = product 
         </refpath_extend>
       </alt_map>
     </aa>


   </ae>

   <!-- mappings due to the extension of the Organization_or_person_in_organization_select select-->
   <ae entity="Organization_or_person_in_organization_assignment"
     original_module="person_organization_assignment">
     <aa attribute="items" assertion_to="Envelope">
       <!-- referencing the alternative mapping (id="1") description provided in
            the person_organization_assignment module -->
       <alt_map alt_map.inc="1">
         <!-- extending the mapping from person_organization_assignment module -->
         <refpath_extend extended_select="Organization_or_person_in_organization_select">
           organization_item *&gt; envelope_organization_item 
           envelope_organization_item = product
         </refpath_extend>
       </alt_map>

       <!-- referencing the alternative mapping (id="1") description provided in
            the person_organization_assignment module -->
       <alt_map alt_map.inc="2">
         <!-- extending the mapping from person_organization_assignment module -->
         <refpath_extend extended_select="Organization_or_person_in_organization_select">
           person_and_organization_item *&gt; envelope_person_organization_item 
           envelope_person_organization_item = product
         </refpath_extend>
       </alt_map>
     </aa>
   </ae>

<!-- mappings due to the use of of the product_property_assignment_select -->
   <ae entity="Assigned_property" original_module="property_assignment">
     <aa attribute="described_element" assertion_to="Envelope">
        <aimelt>PATH</aimelt>
	<source>ISO 10303-41</source>
        <refpath>
         property_definition
         property_definition.definition -&gt;
         characterized_definition
         characterized_definition = characterized_product_definition
         characterized_product_definition = product_definition
	 product_definition.formation -&gt; product_definition_formation
	 product_definition_formation
	 product_definition_formation.of_product -&gt; product
	 product
	{product &lt;-
      	product_related_product_category.products[i]
      	product_related_product_category &lt;=
      	product_category
      	product_category.name='envelope'}
        </refpath>
     </aa>
   </ae>

   <ae entity="Envelope">
   <aimelt>envelope</aimelt>
   <source>ISO 10303-41</source>
   <refpath>
      envelope &lt;= 
      [product]
      {product &lt;-
      product_related_product_category.products[i]
      product_related_product_category &lt;=
      product_category
      product_category.name='envelope' }
      [characterized_object]
   </refpath>
        <aa attribute="acknowledge">
        <aimelt>product.name</aimelt>
	<source>ISO 10303-41</source>
	<refpath>
         envelope &lt;= 
         [product]
         product.name 
         {  (product.name = '') 
            (product.name = 'ask message arrival') 
            (product.name = 'ask message read')
            (product.name = 'acknowledge arrival')
            (product.name = 'delivery failure')
         } 
         [characterized_object]
        </refpath>
	</aa>

	<aa attribute="id">
        <aimelt>product.id</aimelt>
	<source>ISO 10303-41</source>
	<refpath>
         envelope &lt;= 
         [product]
         product.id  
         [characterized_object]
        </refpath>
        </aa>

	<aa attribute="wrapping" assertion_to="Message">
	<aimelt>product</aimelt>
        <source>ISO 10303-41</source>
	<refpath>
	product &lt;- product_relationship.relating_product
	product_relationship
	product_relationship.related_product -&gt; product
	{
	product.frame_of_reference[1] -&gt;
        product_context
        product_context.discipline_type='message'}
        </refpath>
        </aa>
   </ae>

   <ae entity="Envelope_association">
   <aimelt>envelope_relationship</aimelt>
   <source>ISO 10303-41</source>
   <refpath>envelope_relationship &lt;=
   product_relationship
   </refpath>

	<aa attribute="related" assertion_to="Envelope">
	<aimelt>PATH</aimelt>
	<source>ISO 10303-41</source>
	<refpath>
	envelope_relationship &lt;=
    	product_relationship
    	product_relationship.related_product -&gt;
	product
    	{product &lt;-
    	product_related_product_category.products[i]
    	product_related_product_category &lt;=
    	product_category
    	product_category.name='envelope'} 
	</refpath>
	</aa>

	<aa attribute="relating" assertion_to="Envelope">
	<aimelt>PATH</aimelt>
	<source>ISO 10303-41</source>
	<refpath>
	envelope_relationship &lt;=
    	product_relationship
    	product_relationship.relating_product -&gt;
	product
    	{product &lt;-
    	product_related_product_category.products[i]
    	product_related_product_category &lt;=
    	product_category
    	product_category.name='envelope'}
	</refpath>
        </aa>

	<aa attribute="role">
	<aimelt>product_relationship.name</aimelt>
	<source>ISO 10303-41</source>
        </aa>
   </ae>

  
 </mapping_table>

 <!-- Clause 5.2 MIM -->
 <mim>
   <!--  Note MIM short form express is in mim.xml -->
   <express-g>
     <imgfile file="mimexpg1.xml"/>
     <imgfile file="mimexpg2.xml"/>
   </express-g>

   <shortnames>
     <shortname name="ENVLP" entity="envelope"/>
     <shortname name="ENVRLT" entity="envelope_relationship"/>
   </shortnames>

 </mim>

</module>
