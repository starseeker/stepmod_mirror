<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.6 2002/11/06 13:43:01 seanbarker Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
 <!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      -->
<module
   name="envelope"
   part="1265"
   version="1"
   wg.number="1459"
   wg.number.arm="1460"
   wg.number.mim="1461"
   checklist.internal_review=""
   checklist.project_leader=""
   checklist.convener=""
   status="CD-TS"
   language="E"
   publication.year="2003"
   published="n"
   rcs.date="$Date: 2002/11/06 13:43:01 $"
   rcs.revision="$Revision: 1.6 $">
   description.file="arm_descriptions.xml"

 <keywords>
    module
 </keywords>

 <!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
 <contacts>
   <projlead ref="plcs.projlead"/>
   <editor ref="seanbarker"/>
 </contacts>

 <!-- Introduction -->
 <!-- The introduction should start as shown: -->
 <purpose>
   <p>
     This part of ISO 10303 specifies an application module for the
     representation of Envelope.
An envelope is a wrapper for a message. It is provided in order to maintain an audit trail of transmission. Previously, audit trail information has been held externally to the STEP environment. However increase volumes and frequency of transaction, particularly of small extracts from a database, require the association of transmission information with the database. For example, in an automated support environment, failure to notify significant defects, maintenance actions or procedural changes may be legally significant.
	Just as with a physical letter where the envelope is quite distinct from the content, in this module, the envelope is quite distinct from the message it contains. However, the analogy should not be pushed too far. For example, in the envelope module, provision is made to use the envelope to send back receipts.

   </p>
 </purpose>

 <!-- Items in scope -->
 <inscope>
The following are in scope:
   <li>Identify the sender and date sent</li>
   <li>Identify the recipient and date received</li>
   <li>Authorise the sending of the message</li>
   <li>Solicit a receipt and acknowledge it</li>
   <li>Associate envelopes to each other</li>
   <li>Associate properties to the envelope</li>


 </inscope>

 <!-- Items out of scope -->
The following are out of scope:
 <outscope>
   <li>Specification of routing</li>
   <li>Specification of information about the contents</li>
   <li>Specification of any encoding or encryption</li>
   <li>Specification of information used by the transmission system</li>
 </outscope>

<!--
<normrefs>
 <normref.inc normref="ref10303-41.2000"/>
 <normrefs/>

 <definition/>

 <abbreviations/>
-->

 <!-- Clause 4 ARM  -->
 <arm>
   <!-- Note ARM short form EXPRESS is in arm.xml -->
   <!-- Units of functionality -->
   <uof name="Envelope">
     <description>
	Envelope specifies the data structure needed to provide an audit trail for the transmission of messages and their acknowledgement.
     </description>
     <uof.ae entity="Envelope"/>
     <uof.ae entity="Envelope_association"/>
   </uof>

   <!-- Short form EXPRESS-G -->
   <express-g>
     <imgfile file="armexpg1.xml"/> 
     <imgfile file="armexpg2.xml"/>
   </express-g>
 </arm>


 <!-- Clause 5.1 Mapping specification -->
 <mapping_table>

 <!-- mappings due to the extension of the approval_item select -->
   <ae entity="Approval_assignment" original_module="approval">
     <aa attribute="items" assertion_to="Envelope">
       <refpath_extend extended_select="approval_item">
         approval_item *> envelope_approval
        envelope_approval=product
       </refpath_extend>
     </aa>
   </ae>


<!-- mappings due to the extension of the date_or_date_time_item select-->
<!-- format due to table being nicked from management_resource_information-->
   <ae entity="Date_or_date_time_assignment" original_module="date_time_assignment">
     <aa attribute="items" assertion_to="Certification">
       <alt_map alt_map.inc="1">
         <refpath_extend extended_select="date_or_date_time_item">
           date_assignment=>
           applied_date_assignment
           applied_date_assignment.items[i] -> date_item
           date_item *> envelope_date
           envelope_date = product
         </refpath_extend>
       </alt_map>
       <alt_map alt_map.inc="2">
         <refpath_extend extended_select="date_or_date_time_item">
           date_assignment=>
           applied_date_and_time_assignment
           applied_date_and_time_assignment.items[i] -> date_item
         date_and_time_item *> envelope_date_and_time
           envelope_date_and_time = envelope 
         </refpath_extend>
       </alt_map>
     </aa>


   </ae>

   <!-- mappings due to the extension of the Organization_or_person_in_organization_select select-->
   <ae entity="Organization_or_person_in_organization_assignment"
     original_module="person_organization_assignment">
     <aa attribute="items" assertion_to="Envelope">
       <!-- referencing the alternative mapping (id="1") description provided in
            the person_organization_assignment module -->
       <alt_map alt_map.inc="1">
         <!-- extending the mapping from person_organization_assignment module -->
         <refpath_extend extended_select="Organization_or_person_in_organization_select">
           organization_item *&gt; envelope_organization_item 
           envelope_organization_item = envelope
         </refpath_extend>
       </alt_map>

       <!-- referencing the alternative mapping (id="1") description provided in
            the person_organization_assignment module -->
       <alt_map alt_map.inc="2">
         <!-- extending the mapping from person_organization_assignment module -->
         <refpath_extend extended_select="Organization_or_person_in_organization_select">
           person_and_organization_item *&gt; envelope_person_and_organization_item 
           envelope_person_and_organization_item = product
         </refpath_extend>
       </alt_map>
     </aa>
   </ae>


   <ae entity="Envelope">
   <aimelt>product</aimelt>
   <source>ISO 10303-41</source>
   <refpath>
      {product.frame_of_reference[1]-&gt;
      product_context
      product_context.discipline_type='envelope'}
   </refpath>
        <aa attribute="acknowledge">
        <aimelt>product.name</aimelt>
	<source>ISO 10303-41</source>
	</aa>

	<aa attribute="acknowledging_envelope">
        <aimelt> xxx</aimelt>
	<rule> vvv</rule>
        </aa>
	
	<aa attribute="id">
        <aimelt>product.id</aimelt>
	<source>ISO 10303-41</source>
        </aa>

	<aa attribute="wrapping">
	<aimelt>product</aimelt>
        <source>ISO 10303-41</source>
	<refpath>
	product &lt;- product_relationship.relating
	product_relationship
	product_relationship.related-&gt;product
	{
	product.frame_of_reference[1]-&gt;
        product_context
        product_context.discipline_type='message'}
        </refpath>
        </aa>
   </ae>

   <ae entity="Envelope_association">
   <aimelt>product_relationship</aimelt>
   <source>ISO 10303-41</source>
	<aa attribute="related">
	<aimelt>product_relationship.related</aimelt>
	<source>ISO 10303-41</source>
	</aa>

	<aa attribute="relating">
	<aimelt>product_relationship.relating</aimelt>
	<source>ISO 10303-41</source>
        </aa>

	<aa attribute="role">
	<aimelt>product_relationship.name</aimelt>
	<source>ISO 10303-41</source>
        </aa>
   </ae>

  
 </mapping_table>

 <!-- Clause 5.2 MIM -->
 <mim>
   <!--  Note MIM short form express is in mim.xml -->
   <express-g>
     <imgfile file="mimexpg1.xml"/>
     <imgfile file="mimexpg2.xml"/>
   </express-g>
 </mim>

</module>
