<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.25 2005/09/26 15:09:23 liutkus Exp $ -->
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
<!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      --><!DOCTYPE module SYSTEM "../../../dtd/module.dtd">

<module name="extended_elemental_geometric_shape" part="1667" version="1" sc4.working_group="12" wg.number="3671" wg.number.arm="3672" wg.number.mim="3673" checklist.internal_review="3675" checklist.project_leader="3676" checklist.convener="3677" status="CD-TS" language="E" publication.year="" published="n" rcs.date="$Date: 2005/09/26 15:09:23 $" rcs.revision="$Revision: 1.25 $" development.folder="dvlp" xmlns:xlink="http://www.w3.org/1999/xlink">

 <keywords>
    module, vector, geometric model, shape item, relationship, feature, shape
 </keywords>

<!-- the abstract for the module. If not provided, the XSL will use the in scope -->

 <!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
 <contacts>
   <projlead ref="AP210.projlead"/>
   <editor ref="pdmmodules.editor"/>
 </contacts>

 <!-- Introduction -->
 <!-- The introduction should start as shown: -->
 <purpose>
   <p>
     This part of ISO 10303 specifies an application module for the
     representation of information needed to describe relationships between
     geometric models and detailed geometric model elements. The purpose
     of these relationships is not defined here.
     This application module also describes shape representation of real
     features in product model and geometric vector.
   </p>
 </purpose>

 <!-- Items in scope -->
 <inscope>
   <li>identification of a geometric vector;</li>
   <li>representation of real features in product model;</li>
   <li>identification of a association between two geometric models;</li>
   <li>identification of a association between two detailed geometric model elements;</li>        
    <li>items within the scope of application module <module_ref linkend="basic_geometry:1_scope">Basic geometry</module_ref>, ISO/CD-TS 10303-1652;</li>
        <li>items within the scope of application module <module_ref linkend="contextual_shape_positioning:1_scope">Contextual shape positioning</module_ref>, ISO/TS 10303-1027;</li>
        <li>items within the scope of application module <module_ref linkend="shape_property_assignment:1_scope">Shape property assignment</module_ref>, ISO/TS 10303-1032.</li>
    </inscope>

 <!-- Items out of scope -->
 <outscope>
   <li>identification of a purpose of a association between two geometric model;</li>
   <li>identification of a purpose of a association between two detailed geometric model elements.</li>
 </outscope>

	<normrefs>
	   <normref.inc normref="ref10303-42.2003"/>		
	   <normref.inc normref="ref10303-43.2001"/>	
    </normrefs>

<!--

 <definition/>

 <abbreviations/>
-->

 <!-- Clause 4 ARM  -->
 <arm>
   <!-- Note ARM short form EXPRESS is in arm.xml -->

   <!-- Short form EXPRESS-G -->
   <express-g>
     <imgfile file="armexpg1.xml"/>
     <imgfile file="armexpg2.xml"/>     
     <imgfile file="armexpg3.xml"/>          
   </express-g>
 </arm>


 <!-- Clause 5.1 Mapping specification -->
 <mapping_table>
  <ae entity="Axis_placement_2d" extensible="NO">
            <aimelt xml:space="preserve">axis2_placement_2d</aimelt>
            <source xml:space="preserve">ISO 10303-42</source>
            <refpath xml:space="preserve"/>
        </ae>

 <ae entity="Axis_placement_3d" extensible="NO">
            <aimelt xml:space="preserve">axis2_placement_3d</aimelt>
            <source xml:space="preserve">ISO 10303-42</source>
            <refpath xml:space="preserve"/>
        </ae>
		 <ae entity="Definitional_representation_relationship" extensible="NO">
            <aimelt xml:space="preserve">definitional_representation_relationship</aimelt>
            <source xml:space="preserve">ISO 10303-1667</source>
            <refpath xml:space="preserve"/>
        </ae>
		
 <ae entity="Detailed_geometric_model_element_relationship" extensible="NO">
            <aimelt xml:space="preserve">representation_item_relationship</aimelt>
            <source xml:space="preserve">ISO 10303-43</source>
            <refpath xml:space="preserve">representation_item_relationship
			</refpath>
            <aa attribute="item_1" assertion_to="Detailed_geometric_model_element">
                <aimelt xml:space="preserve">PATH</aimelt>
                <refpath xml:space="preserve">
					representation_item_relationship.relating_representation_item -&gt;
					representation_item
				</refpath>
            </aa>
            <aa attribute="item_2" assertion_to="Detailed_geometric_model_element">
                <aimelt xml:space="preserve">PATH</aimelt>
                <refpath xml:space="preserve">
					representation_item_relationship.related_representation_item -&gt;
					representation_item
				</refpath>
            </aa>
        </ae>
		
<ae entity="Geometric_model_relationship" extensible="NO">
            <aimelt xml:space="preserve">(shape_representation_relationship)(mapped_item)</aimelt>
            <source xml:space="preserve">ISO 10303-41 43</source>
            <refpath xml:space="preserve">	
				(shape_representation_relationship)
				(mapped_item)				
<!-- Those constraints below can't be declared in supertype mapping here -->				
<!--				({shape_representation_relationship &lt;=
				representation_relationship
				{(representation_relationship.name = 'component part planar shape')
				(representation_relationship.name = 'component part non planar shape')
				(representation_relationship.name = 'generic relationship')
				(representation_relationship.name = 'component part 3d shape')}
				{representation_relationship
				(representation_relationship.description = 'component to part')
				(representation_relationship.description = 'non feature shape annotation')
				(representation_relationship.description = 'reference feature shape relationship')}})
				(mapped_item
				{mapped_item &lt;=
				(representation_item.name = 'non feature shape annotation')
				(representation_item.name = 'reference feature shape relationship')})
				(representation_relationship_with_transformation &lt;=
				{representation_relationship
				(representation_relationship.description = 'non feature shape annotation')
				(representation_relationship.description = 'reference feature shape relationship')})
				(shape_definition_3d_intersection &lt;=
				[representation_relationship_with_transformation
				representation_relationship_with_transformation
				representation_relationship_with_transformation.transformation_operator -&gt;
				transformation
				transformation = item_defined_transformation]
				[shape_representation_relationship]
				[representation]
				[shape_representation_relationship &lt;=
				representation_relationship
				representation_relationship.name = 'shape definition 3d intersection'])
				(representation_relationship_with_transformation &lt;=
				{representation_relationship
				representation_relationship.name = 'shape definition 3d plane projection'}) -->
			</refpath>
            <aa attribute="rep_1" assertion_to="Geometric_model">
                <aimelt xml:space="preserve">PATH</aimelt>
                <refpath xml:space="preserve">	(shape_representation_relationship &lt;= 
					representation_relationship 
					representation_relationship.rep_1 -&gt; 
					representation 
					{representation =&gt; 
					shape_representation}) 
					(mapped_item 
					mapped_item.mapping_source -&gt; 
					representation_map 
					{representation_map 
					representation_map.mapping_origin -&gt; 
					representation_item 
					{representation_item 
					representation_item.name = 'origin'} 
					representation_item =&gt; 
					geometric_representation_item =&gt; 
					placement 
					(placement =&gt; 
					axis2_placement_2d) 
					(placement =&gt; 
					axis2_placement_3d)} 
					representation_map.mapped_representation -&gt; 
					representation)
				</refpath>
            </aa>
            <aa attribute="rep_2" assertion_to="Geometric_model">
                <aimelt xml:space="preserve">PATH</aimelt>
                <refpath xml:space="preserve">(shape_representation_relationship &lt;= 
					representation_relationship 
					representation_relationship.rep_2 -&gt; 
					{representation 
					representation =&gt; 
					shape_representation}) 
					(mapped_item &lt;= 
					representation_item &lt;- 
					representation.items[i] 
					representation =&gt; 
					shape_representation)
				</refpath>
            </aa>
        </ae>
		<ae entity="Shape_item_relationship" extensible="NO">
            <aimelt xml:space="preserve">shape_item_relationship</aimelt>
            <source xml:space="preserve">ISO 10303-1667</source>
            <refpath xml:space="preserve">{[shape_item_relationship &lt;=
				representation_item_relationship]
				[shape_item_relationship &lt;=
				representation_item]}
			</refpath>
        </ae>
		
    <ae entity="Vector" extensible="NO">
            <aimelt xml:space="preserve">vector</aimelt>
            <source xml:space="preserve">ISO 10303-42</source>
            <refpath xml:space="preserve"/>
            <aa attribute="orientation" assertion_to="Direction">
                <aimelt xml:space="preserve">vector.orientation</aimelt>
            </aa>
            <aa attribute="magnitude" assertion_to="Length_measure">
                <aimelt xml:space="preserve">vector.magnitude</aimelt>
            </aa>
        </ae>

 </mapping_table>

 <!-- Clause 5.2 MIM -->
 <mim>
   <!--  Note MIM short form express is in mim.xml -->
   <express-g>
     <imgfile file="mimexpg1.xml"/>
     <imgfile file="mimexpg2.xml"/>     
   </express-g>
	   <shortnames>
	   	<shortname name="DFRPRL" entity="definitional_representation_relationship"/>
	   	<shortname name="SHITRL" entity="shape_item_relationship"/>
	   </shortnames>                                 		          		      
 </mim>

</module>
