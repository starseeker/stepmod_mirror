<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-03-30T15:55:29" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="extended_elemental_geometric_shape_mim schema_instance"/>
   <schema name="EXTENDED_ELEMENTAL_GEOMETRIC_SHAPE_MIM">
      <interface kind="use" schema="BASIC_GEOMETRY_MIM"/>
      <interface kind="use" schema="SHAPE_PROPERTY_ASSIGNMENT_MIM"/>
      <interface kind="use" schema="REPRESENTATION_SCHEMA">
         <interfaced.item name="mapped_item"/>
         <interfaced.item name="representation_item_relationship"/>
         <interfaced.item name="representation_map"/>
         <interfaced.item name="representation_relationship_with_transformation"/>
         <interfaced.item name="transformation"/>
      </interface>
      <interface kind="use" schema="GEOMETRY_SCHEMA">
         <interfaced.item name="vector"/>
      </interface>
      <entity name="definitional_representation_relationship" supertypes="representation_relationship"/>
      <entity name="shape_item_relationship" supertypes="representation_item representation_item_relationship">
         <unique label="ur1">
            <unique.attribute entity-ref="shape_item_relationship" attribute="relating_representation_item"/>
            <unique.attribute entity-ref="shape_item_relationship" attribute="related_representation_item"/>
         </unique>
         <where label="wr1" expression=" self \ representation_item_relationship . relating_representation_item :&lt;&gt;: self \ representation_item_relationship . related_representation_item "/>
         <where label="wr2" expression=" sizeof ( typeof ( self ) - ( typeof ( self \ representation_item || self \ representation_item_relationship || self \ shape_item_relationship ) ) ) = 0 "/>
      </entity>
      <rule name="feature_shape_definition_constraint" appliesto="shape_representation">
         <where label="wr1" expression=" sizeof ( query ( sr &lt;* shape_representation | ( sr \ representation . name = 'zone shape' ) and ( sr . context_of_items . coordinate_space_dimension = 3 ) and not ( 'extended_elemental_geometric_shape_mim.' + 'manifold_subsurface_shape_representation' in typeof ( sr ) ) ) ) = 0 "/>
      </rule>
   </schema>
</express>
