(*
   $Id: mkmodule.js,v 1.41 2004/10/11 20:17:49 thendrix Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Extended geometric tolerance - EXPRESS ARM
*)

SCHEMA Extended_geometric_tolerance_arm;

USE FROM Geometric_tolerance_arm;

USE FROM Non_feature_shape_element_arm;

USE FROM Layered_3d_shape_arm;

USE FROM Shape_composition_arm;

USE FROM Shape_property_assignment_arm;

USE FROM Value_with_unit_extension_arm;

USE FROM Requirement_decomposition_arm;

USE FROM Dimension_tolerance_arm;

USE FROM Shape_parameters_arm;

	TYPE physical_feature_or_part_template = 
		EXTENSIBLE GENERIC_ENTITY SELECT
		(datum_feature);
	END_TYPE;

  TYPE centre_type = ENUMERATION OF
    (centred_on_arc,
     centred_on_radial);
  END_TYPE; -- centre_type

  TYPE constraining_element_definitions = SELECT
    (tolerance_zone_definition,
     profile_related_positional_boundary_definition,
     positional_boundary_member_definition,
     conical_tolerance_zone_boundary_diametrical_size_characteristic);
  END_TYPE; -- constraining_element_definitions

  TYPE descriptive_or_geometric_orientation = SELECT
    (measure_orientation,
     direction);
  END_TYPE; -- descriptive_or_geometric_orientation

  TYPE dimension_qualifiers = ENUMERATION OF
    (free_state,
     average);
  END_TYPE; -- dimension_qualifiers

  TYPE dimensional_location_or_dimensional_size = SELECT
    (size_dimension,
     location_dimension);
  END_TYPE; -- dimensional_location_or_dimensional_size

 	TYPE egt_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH  
		(Externally_defined_dimension_representation);
	END_TYPE;

	TYPE egt_requirement_assignment_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON requirement_assignment_item WITH 
	    (Restraint_condition,
	  	Statistical_dimensional_tolerance,
	  	Statistical_geometric_tolerance);
	END_TYPE; 

  TYPE geometric_or_dimension_select = SELECT
    (geometric_tolerance,
     geometric_dimension);
  END_TYPE; -- geometric_or_dimension_select

  TYPE geometric_tolerance_qualifiers = ENUMERATION OF
    (pitch_diameter,
     minor_diameter,
     each_element,
     major_diameter,
     each_radial_element,
     not_concave,
     not_convex,
     free_state);
  END_TYPE; -- geometric_tolerance_qualifiers

  TYPE locating_or_refinement_linear_profile_tolerance = SELECT
    (line_profile_tolerance,
     composite_linear_profile_refinement_tolerance);
  END_TYPE; -- locating_or_refinement_linear_profile_tolerance

  TYPE locating_or_refinement_surface_profile_tolerance = SELECT
    (surface_profile_tolerance,
     composite_surface_profile_refinement_tolerance);
  END_TYPE; -- locating_or_refinement_surface_profile_tolerance

  TYPE measure_orientation = ENUMERATION OF
    (reversed,
     normal);
  END_TYPE; -- measure_orientation

	SUBTYPE_CONSTRAINT non_feature_shape_element_subtypes FOR non_feature_shape_element; 
	    (ONEOF (
		 derived_shape_element,
		 directed_axis,
		 positional_boundary,
		 positional_boundary_member,
		 tolerance_zone_boundary,
		 tolerance_zone_boundary_member,
		 viewing_plane,
		 seating_plane,
		 reference_graphic_registration_mark));
	END_SUBTYPE_CONSTRAINT;

  TYPE offset_types = ENUMERATION OF
    (towards_material,
     away_from_material);
  END_TYPE; -- offset_types

  TYPE orientation_select = SELECT
    (datum_axis_related_orientation,
     viewing_plane_based_orientation,
     datum_based_vector_orientation);
  END_TYPE; -- orientation_select

  TYPE restrained_item_select = SELECT
    (single_datum,
     physical_feature_or_part_template);
  END_TYPE; -- restrained_item_select

	TYPE true_profile_representations = SELECT(
		dimension_set,
     	document_definition,
     	rule_function,
     	three_dimensional_shape);
	END_TYPE;

  ENTITY Apex
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- apex

  ENTITY Boundary_size_characteristic
    ABSTRACT SUPERTYPE OF (ONEOF (diametrical_boundary_size_characteristic,
 opposing_boundary_set_size_characteristic));
      tolerance_value         : length_data_element;
      maximum_tolerance_value : OPTIONAL length_data_element;
  END_ENTITY; -- boundary_size_characteristic

  ENTITY Centre_axis
    SUBTYPE OF (Centre_of_symmetry);
  END_ENTITY; -- centre_axis

  ENTITY Centre_of_symmetry
    ABSTRACT SUPERTYPE OF (ONEOF (centre_axis,
 centre_plane,
 centre_point))
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- centre_of_symmetry

  ENTITY Centre_plane
    SUBTYPE OF (Centre_of_symmetry);
  END_ENTITY; -- centre_plane

  ENTITY Centre_point
    SUBTYPE OF (Centre_of_symmetry);
  END_ENTITY; -- centre_point

  ENTITY Composite_linear_profile_refinement_tolerance
    SUBTYPE OF (Line_profile_tolerance);
      refined_control : locating_or_refinement_linear_profile_tolerance;
  END_ENTITY; -- composite_linear_profile_refinement_tolerance

  ENTITY Composite_surface_profile_refinement_tolerance
    SUBTYPE OF (surface_profile_tolerance);
      refined_control : locating_or_refinement_surface_profile_tolerance;
  END_ENTITY; -- composite_surface_profile_refinement_tolerance

  ENTITY Conical_tolerance_zone_boundary
    SUBTYPE OF (tolerance_zone_boundary);
    INVERSE
      boundary_and_surface_relationships : SET[2:2] OF conical_tolerance_zone_boundary_and_surface_relationship FOR sized_tolerance_zone_boundary;
  END_ENTITY; -- conical_tolerance_zone_boundary

  ENTITY Conical_tolerance_zone_boundary_and_surface_relationship;
      sized_tolerance_zone_boundary : conical_tolerance_zone_boundary;
      terminating_surface           : physical_feature_or_part_template;
    INVERSE
      size_characteristic : conical_tolerance_zone_boundary_diametrical_size_characteristic FOR sized_boundary_at_surface;
  END_ENTITY; -- conical_tolerance_zone_boundary_and_surface_relationship

  ENTITY Conical_tolerance_zone_boundary_diametrical_size_characteristic;
      sized_boundary_at_surface : conical_tolerance_zone_boundary_and_surface_relationship;
      tolerance_value           : length_data_element;
  END_ENTITY; -- conical_tolerance_zone_boundary_diametrical_size_characteristic

  ENTITY Conical_tolerance_zone_definition
    SUBTYPE OF (tolerance_zone_definition);
-- LK input needed      SELF\tolerance_zone_definition.boundary_definition : conical_tolerance_zone_boundary_definition;
  END_ENTITY; -- conical_tolerance_zone_definition

  ENTITY Curve_dimension
    SUBTYPE OF (size_dimension);
  END_ENTITY; -- curve_dimension

  ENTITY Datum_axis
    SUBTYPE OF (Datum_shape_element);
  END_ENTITY; -- datum_axis

  ENTITY Datum_axis_and_tolerance_zone_orienting_relationship;
      oriented_tolerance_zone : tolerance_zone;
      orienting_datum_axis    : datum_axis;
    INVERSE
      zone_orientation : datum_axis_related_orientation FOR orienting_relationship;
  END_ENTITY; -- datum_axis_and_tolerance_zone_orienting_relationship

  ENTITY Datum_axis_related_orientation;
      orienting_relationship : datum_axis_and_tolerance_zone_orienting_relationship;
      orientation_type       : centre_type;
  END_ENTITY; -- datum_axis_related_orientation

  ENTITY Datum_based_direction_vector;
      direction_vector_representation : axis_placement;
      vector_of                       : datum_plane;
      positive_direction_vector       : BOOLEAN;
  END_ENTITY; -- datum_based_direction_vector

  ENTITY Datum_based_length_measure;
      measure             : length_data_element;
      measure_orientation : descriptive_or_geometric_orientation;
      of_datum            : datum_plane;
  END_ENTITY; -- datum_based_length_measure

  ENTITY Datum_based_vector_orientation;
      direction_components : SET[2:2] OF direction_element;
  END_ENTITY; -- datum_based_vector_orientation

  ENTITY Datum_difference
    SUBTYPE OF (shape_element_relationship);
      SELF\shape_element_relationship.relation_type : STRING; --label;
      SELF\shape_element_relationship.relating RENAMED precedent_datum : datum_shape_element;
      SELF\shape_element_relationship.related RENAMED subsequent_datum : datum_shape_element;
  END_ENTITY; -- datum_difference

  ENTITY Datum_difference_based_characteristic
    SUBTYPE OF (Measure_item); --characteristic);
      of_datum_difference : datum_difference;
  END_ENTITY; -- datum_difference_based_characteristic

  ENTITY Datum_feature
    SUPERTYPE OF (datum_target_set)
    SUBTYPE OF (Shape_element);
      identification : STRING; --label;
  END_ENTITY; -- datum_feature

  ENTITY Datum_plane
    SUBTYPE OF (Datum_shape_element);
  END_ENTITY; -- datum_plane

  ENTITY Datum_point
    SUBTYPE OF (Datum_shape_element);
      location_in_2d                   : OPTIONAL cartesian_point;
      location_in_3d                   : OPTIONAL cartesian_point;
      associated_3d_shape_intersection : OPTIONAL shape_definition_3d_intersection;
    WHERE
      WR1 : NOT (EXISTS(location_in_2d) AND EXISTS(location_in_3d)) OR EXISTS(associated_3d_shape_intersection);
      WR2 : NOT (EXISTS(location_in_2d)) OR ((SIZEOF(location_in_2d\cartesian_point.coordinates)) = 2);
      WR3 : NOT (EXISTS(location_in_3d)) OR ((SIZEOF(location_in_3d\cartesian_point.coordinates)) = 3);
  END_ENTITY; -- datum_point

	ENTITY datum_shape_element
	  SUBTYPE OF (datum, Non_feature_shape_element);
	END_ENTITY;

  ENTITY Datum_target_set
    SUBTYPE OF (Datum_feature);
    INVERSE
      included_datum_targets : SET[1:?] OF datum_target_usage_in_datum_target_set_relationship FOR defined_datum_target_set;
  END_ENTITY; -- datum_target_set

  ENTITY Datum_target_usage_in_datum_target_set_relationship;
      defined_datum_target_set : datum_target_set;
      used_datum_target        : datum_target;
      datum_target_number      : INTEGER; -- positive_integer;
    UNIQUE
      UR1 : used_datum_target,
 defined_datum_target_set;
      UR2 : datum_target_number,
 defined_datum_target_set;
  END_ENTITY; -- datum_target_usage_in_datum_target_set_relationship

  ENTITY Derived_shape_element
    ABSTRACT SUPERTYPE OF (ONEOF (apex,
 centre_of_symmetry,
 linear_extension,
 geometric_intersection,
 geometric_alignment,
 tangent_shape_element))
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      deriving_relationships : SET[1:?] OF shape_element_deriving_relationship FOR relating;
  END_ENTITY; -- derived_shape_element

  ENTITY Diametrical_boundary_size_characteristic
    SUBTYPE OF (Boundary_size_characteristic);
      sized_boundary : tolerance_zone_circular_or_cylindrical_or_spherical_boundary;
  END_ENTITY; -- diametrical_boundary_size_characteristic

-- Wait for repsonse from LK
--  ENTITY Dimension_location_with_specified_datum_system
--    SUBTYPE OF (Location_dimension);
--      referenced_datum_system_defining_conditions : datum_system_defining_conditions_without_material_conditions;
--  END_ENTITY; -- dimension_location_with_specified_datum_system

  ENTITY Dimension_qualifier
    ABSTRACT SUPERTYPE OF (ONEOF (pre_defined_dimension_qualifier,
 user_defined_dimension_qualifier));
      qualified_dimensions : SET[1:?] OF geometric_dimension;
  END_ENTITY; -- dimension_qualifier

  ENTITY Dimension_related_positional_boundary
    SUBTYPE OF (positional_boundary);
      boundary_members             : SET[1:?] OF positional_boundary_member;
      constrained_physical_feature : physical_feature_or_part_template;
  END_ENTITY; -- dimension_related_positional_boundary

  ENTITY Dimension_related_positional_boundary_definition
    SUBTYPE OF (positional_boundary_definition);
      SELF\positional_boundary_definition.defined_positional_boundary : dimension_related_positional_boundary;
      characterized_boundary_member_definitions                       : SET[1:?] OF positional_boundary_member_definition;
  END_ENTITY; -- dimension_related_positional_boundary_definition

  ENTITY Dimension_set;
      associated_dimensions : SET[1:?] OF geometric_dimension;
  END_ENTITY; -- dimension_set

  ENTITY Dimensional_characteristic_representation;
      representation                     : shape_dimension_representation;
      dimension                          : dimensional_location_or_dimensional_size;
      auxiliary_dimension_representation : BOOLEAN;
  END_ENTITY; -- dimensional_characteristic_representation

  ENTITY Dimensional_size_based_on_opposing_boundaries
    SUBTYPE OF (size_dimension);
      boundary_separation           		: shape_element_locating_relationship;
      SELF\size_dimension.is_applied_to : composite_unit_shape_element;
  END_ENTITY; -- dimensional_size_based_on_opposing_boundaries

  ENTITY Directed_axis
    SUBTYPE OF (Non_feature_shape_element);
      axis_to_be_oriented : centre_axis;
      start_shape_element : shape_element;
      end_shape_element   : shape_element;
    UNIQUE
      UR1 : axis_to_be_oriented,
 start_shape_element;
  END_ENTITY; -- directed_axis

  ENTITY Direction_element;
      direction                     : datum_based_direction_vector;
      angle_value                   : angle_data_element;
      base_datum_plane              : datum_plane;
      direction_of_half_datum_plane : datum_based_direction_vector;
    INVERSE
      elements_of : SET[1:?] OF datum_based_vector_orientation FOR direction_components;
  END_ENTITY; -- direction_element

  ENTITY Edge_segment_vertex
    SUBTYPE OF (single_datum,
 datum_point);
    UNIQUE
      UR1 : SELF\single_datum.datum_name;
  END_ENTITY; -- edge_segment_vertex

  ENTITY Externally_defined_dimension_representation
    SUBTYPE OF (shape_dimension_representation);
      dimension_value : OPTIONAL value_with_unit;
    INVERSE
      definitions			: SET[1:?] OF External_source_identification FOR item;
  END_ENTITY; -- externally_defined_dimension_representation

  ENTITY Geometric_alignment
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- geometric_alignment

  ENTITY Geometric_intersection
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- geometric_intersection

  ENTITY Geometric_tolerance_qualifier
    ABSTRACT SUPERTYPE OF (ONEOF (pre_defined_geometric_tolerance_qualifier,
 user_defined_geometric_tolerance_qualifier));
      qualified_geometric_tolerances : SET[1:?] OF geometric_tolerance;
  END_ENTITY; -- geometric_tolerance_qualifier

  ENTITY Geometric_tolerance_with_applied_material_condition_property
    SUBTYPE OF (Geometric_tolerance);
      applied_material_condition_property_name : material_condition_property_names;
  END_ENTITY; -- geometric_tolerance_with_applied_material_condition_property

-- Need a confirmation from Tom to remove it
--  ENTITY Geometric_tolerance_with_referenced_datum_system
--    ABSTRACT SUPERTYPE OF (
--    ONEOF (angularity_tolerance,
-- parallelism_tolerance,
-- perpendicularity_tolerance,
-- circular_runout_tolerance,
-- symmetry_tolerance,
-- concentricity_and_coaxiality_tolerance,
-- profile_of_any_line_tolerance_with_referenced_datum_system,
-- profile_of_any_surface_tolerance_with_referenced_datum_system,
-- position_tolerance_with_referenced_datum_system
-- , total_runout_tolerance))
--    SUBTYPE OF (Geometric_tolerance);
--      datum_system_definition : datum_system_defining_conditions;
--  END_ENTITY; -- geometric_tolerance_with_referenced_datum_system

  ENTITY Limit_dimension_representation
    SUBTYPE OF (shape_dimension_representation);
      upper_dimension_value : value_with_unit;
      lower_dimension_value : value_with_unit;
  END_ENTITY; -- limit_dimension_representation

  ENTITY Linear_extension
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- linear_extension

  ENTITY Maximum_dimension_representation
    SUBTYPE OF (singular_dimension_representation);
  END_ENTITY; -- maximum_dimension_representation

  ENTITY Minimum_dimension_representation
    SUBTYPE OF (singular_dimension_representation);
  END_ENTITY; -- minimum_dimension_representation

  ENTITY Opposing_boundary_set_size_characteristic
    SUBTYPE OF (Boundary_size_characteristic);
      sized_boundary_set : tolerance_zone_opposing_boundary_set;
  END_ENTITY; -- opposing_boundary_set_size_characteristic

  ENTITY Parallel_shape_element_relationship
    SUBTYPE OF (shape_element_relationship);
  END_ENTITY; -- parallel_shape_element_relationship

  ENTITY Perpendicular_shape_element_relationship
    SUBTYPE OF (shape_element_relationship);
  END_ENTITY; -- perpendicular_shape_element_relationship

-- Need a confirmation from Tom to remove it
--  ENTITY Position_tolerance_with_referenced_datum_system
--    SUPERTYPE OF (ONEOF (composite_feature_locating_position_tolerance,
-- boundary_based_position_tolerance))
--    SUBTYPE OF (position_tolerance,
-- geometric_tolerance_with_referenced_datum_system);
--  END_ENTITY; -- position_tolerance_with_referenced_datum_system

-- Need a confirmation from Tom to remove it
--  ENTITY Position_tolerance_without_referenced_datum_system
--    SUBTYPE OF (position_tolerance,
-- geometric_tolerance);
--  END_ENTITY; -- position_tolerance_without_referenced_datum_system

  ENTITY Positional_boundary
    ABSTRACT SUPERTYPE OF (ONEOF (profile_related_positional_boundary,
 dimension_related_positional_boundary))
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      boundary_definition : positional_boundary_definition FOR defined_positional_boundary;
  END_ENTITY; -- positional_boundary

  ENTITY Positional_boundary_and_profile_boundary_member_relationship;
      offset_positional_boundary                  : profile_related_positional_boundary;
      base_profile_tolerance_zone_boundary_member : tolerance_zone_boundary_member;
    INVERSE
      offset : positional_boundary_offset FOR offset_boundary_relationship;
  END_ENTITY; -- positional_boundary_and_profile_boundary_member_relationship

  ENTITY Positional_boundary_definition
    ABSTRACT SUPERTYPE OF (ONEOF (profile_related_positional_boundary_definition,
 dimension_related_positional_boundary_definition));
      defined_positional_boundary : positional_boundary;
  END_ENTITY; -- positional_boundary_definition

  ENTITY Positional_boundary_member
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      composed_positional_boundary : dimension_related_positional_boundary FOR boundary_members;
      boundary_member_definition   : positional_boundary_member_definition FOR defined_positional_boundary_member;
  END_ENTITY; -- positional_boundary_member

  ENTITY Positional_boundary_member_definition;
      defined_positional_boundary_member : positional_boundary_member;
      tolerance_value                    : length_data_element;
      associated_dimension               : size_dimension;
    INVERSE
      boundary_definition : dimension_related_positional_boundary_definition FOR characterized_boundary_member_definitions;
  END_ENTITY; -- positional_boundary_member_definition

  ENTITY Positional_boundary_offset;
      offset_boundary_relationship : positional_boundary_and_profile_boundary_member_relationship;
      tolerance_value              : length_data_element;
    INVERSE
      boundary_definition : profile_related_positional_boundary_definition FOR boundary_offset;
  END_ENTITY; -- positional_boundary_offset

  ENTITY Pre_defined_dimension_qualifier
    SUBTYPE OF (Dimension_qualifier);
      description : dimension_qualifiers;
  END_ENTITY; -- pre_defined_dimension_qualifier

  ENTITY Pre_defined_geometric_tolerance_qualifier
    SUBTYPE OF (Geometric_tolerance_qualifier);
      description : geometric_tolerance_qualifiers;
  END_ENTITY; -- pre_defined_geometric_tolerance_qualifier

--  ENTITY Profile_boundary_definition_with_offsets
--    SUBTYPE OF (profile_boundary_definition);
--      SELF\tolerance_zone_boundary_definition.defined_zone_boundary : tolerance_zone_explicit_opposing_boundary_set;
--      boundary_offsets                                              : SET[2:2] OF tolerance_zone_boundary_member_offset;
--  END_ENTITY; -- profile_boundary_definition_with_offsets

  ENTITY Profile_related_positional_boundary
    SUBTYPE OF (positional_boundary);
    INVERSE
      associating_relationship : positional_boundary_and_profile_boundary_member_relationship FOR offset_positional_boundary;
  END_ENTITY; -- profile_related_positional_boundary

  ENTITY Profile_related_positional_boundary_definition
    SUBTYPE OF (positional_boundary_definition);
      SELF\positional_boundary_definition.defined_positional_boundary : profile_related_positional_boundary;
      boundary_offset                                                 : positional_boundary_offset;
  END_ENTITY; -- profile_related_positional_boundary_definition

  ENTITY Projected_zone_and_base_relationship;
      base_physical_feature : physical_feature_or_part_template;
      projected_zone        : tolerance_zone;
    INVERSE
      size_characteristic : projected_zone_height_characteristic FOR defined_height_of;
  END_ENTITY; -- projected_zone_and_base_relationship

  ENTITY Projected_zone_height_characteristic;
      defined_height_of      : projected_zone_and_base_relationship;
      projected_height_value : length_data_element;
-- LK input needed    INVERSE
-- LK input needed      zone_definition : projection FOR defining; --projected_zone_height;
  END_ENTITY; -- projected_zone_height_characteristic
 
  ENTITY Restraint_condition
    SUPERTYPE OF (tolerance_specific_restraint_condition);
(** Need a WR to capture cardinality    
      restraint_description : Requirement_definition_property;
*)      
      applied_to            : restrained_item_select;
  END_ENTITY; -- restraint_condition
  
  ENTITY Runout_tolerance_zone_definition_with_specified_angle
    SUBTYPE OF (tolerance_zone_definition);
      runout_orientation : runout_zone_orientation;
  END_ENTITY; -- runout_tolerance_zone_definition_with_specified_angle

  ENTITY Runout_tolerance_zone_orienting_relationship;
      oriented_zone  : tolerance_zone;
      orienting_axis : directed_axis;
    INVERSE
      angular_size_characteristic : runout_zone_orientation FOR oriented_relationship;
  END_ENTITY; -- runout_tolerance_zone_orienting_relationship

  ENTITY Runout_zone_orientation;
      oriented_relationship : runout_tolerance_zone_orienting_relationship;
      semi_angle_value      : angle_data_element;
    INVERSE
      zone_definition : runout_tolerance_zone_definition_with_specified_angle FOR runout_orientation;
  END_ENTITY; -- runout_zone_orientation

  ENTITY Separate_geometric_tolerance_requirement;
      separated_geometric_tolerances : SET[1:?] OF geometric_tolerance;
  END_ENTITY; -- separate_geometric_tolerance_requirement

  ENTITY Shape_dimension_representation
    ABSTRACT SUPERTYPE OF (ONEOF (limit_dimension_representation,
 singular_dimension_representation,
 externally_defined_dimension_representation
 -- ,plus_minus_tolerance_range_representation
 ));
  END_ENTITY; -- shape_dimension_representation

  ENTITY Shape_element_deriving_relationship
    SUBTYPE OF (shape_element_relationship);
      SELF\shape_element_relationship.relating : derived_shape_element;
    UNIQUE
      UR1 : SELF\shape_element_relationship.related, 
 SELF\shape_element_relationship.relating;
  END_ENTITY; -- shape_element_deriving_relationship

  ENTITY Simultaneous_geometric_tolerance_requirement;
      grouped_geometric_tolerances : SET[2:?] OF geometric_tolerance;
  END_ENTITY; -- simultaneous_geometric_tolerance_requirement

  ENTITY Singular_dimension_representation
    ABSTRACT SUPERTYPE OF (ONEOF (theoretically_exact_dimension_representation,
 maximum_dimension_representation,
 minimum_dimension_representation))
    SUBTYPE OF (shape_dimension_representation);
      dimension_value : value_with_unit;
  END_ENTITY; -- singular_dimension_representation

  ENTITY Statistical_dimensional_tolerance
    SUBTYPE OF (Geometric_dimension);
      alternate_dimension             : OPTIONAL geometric_dimension;
(** Need a WR to capture cardinality      
      statistical_control_requirement : Requirement_definition_property;
*)      
  END_ENTITY; -- statistical_dimensional_tolerance

  ENTITY Statistical_geometric_tolerance
    SUBTYPE OF (Geometric_tolerance);
      alternate_tolerance             : OPTIONAL geometric_tolerance;
(** Need a WR to capture cardinality      
      statistical_control_requirement : Requirement_definition_property;
*)      
  END_ENTITY; -- statistical_geometric_tolerance

  ENTITY Tangent_plane
    SUBTYPE OF (tangent_shape_element);
  END_ENTITY; -- tangent_plane

  ENTITY Tangent_shape_element
    SUPERTYPE OF (tangent_plane)
    SUBTYPE OF (Derived_shape_element);
  END_ENTITY; -- tangent_shape_element

  ENTITY Theoretically_exact_dimension_representation
    SUBTYPE OF (singular_dimension_representation);
  END_ENTITY; -- theoretically_exact_dimension_representation

  ENTITY Tolerance_specific_restraint_condition
    SUBTYPE OF (restraint_condition);
      affected_tolerances : SET[1:?] OF geometric_or_dimension_select;
  END_ENTITY; -- tolerance_specific_restraint_condition

  ENTITY Tolerance_zone_and_viewing_plane_orienting_relationship;
      orienting_viewing_plane : viewing_plane;
      oriented_tolerance_zone : tolerance_zone;
    INVERSE
      zone_orientation : viewing_plane_based_orientation FOR orienting_relationship;
  END_ENTITY; -- tolerance_zone_and_viewing_plane_orienting_relationship

  ENTITY Tolerance_zone_boundary
    ABSTRACT SUPERTYPE OF (ONEOF (tolerance_zone_circular_or_cylindrical_or_spherical_boundary,
 tolerance_zone_opposing_boundary_set,
 conical_tolerance_zone_boundary))
    SUBTYPE OF (Non_feature_shape_element);
--    INVERSE
-- LK input needed      bounded_zone             : tolerance_zone FOR zone_boundary;
--      boundary_zone_definition : tolerance_zone_boundary_definition FOR defined_zone_boundary;
  END_ENTITY; -- tolerance_zone_boundary

  ENTITY Tolerance_zone_boundary_member
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      explicit_opposing_boundary_set : tolerance_zone_explicit_opposing_boundary_set FOR boundary_members;
  END_ENTITY; -- tolerance_zone_boundary_member

  ENTITY Tolerance_zone_boundary_member_offset;
      offset_tolerance_zone_boundary_member : tolerance_zone_boundary_member;
      offset_value                          : length_data_element;
      type_of_offset                        : offset_types;
--    INVERSE
--      boundary_definition : profile_boundary_definition_with_offsets FOR boundary_offsets;
  END_ENTITY; -- tolerance_zone_boundary_member_offset

  ENTITY Tolerance_zone_circular_or_cylindrical_or_spherical_boundary
    SUBTYPE OF (tolerance_zone_boundary);
    INVERSE
      size_characteristic : diametrical_boundary_size_characteristic FOR sized_boundary;
  END_ENTITY; -- tolerance_zone_circular_or_cylindrical_or_spherical_boundary

  ENTITY Tolerance_zone_definition_with_per_unit_size_specification
    SUBTYPE OF (tolerance_zone_definition);
      per_unit_size_specification : tolerance_zone_per_unit_size_specification;
  END_ENTITY; -- tolerance_zone_definition_with_per_unit_size_specification

  ENTITY Tolerance_zone_definition_with_specified_orientation
    SUBTYPE OF (tolerance_zone_definition);
      zone_orientation : orientation_select;
  END_ENTITY; -- tolerance_zone_definition_with_specified_orientation

  ENTITY Tolerance_zone_explicit_opposing_boundary_set
    SUBTYPE OF (tolerance_zone_opposing_boundary_set);
      boundary_members : SET[2:2] OF tolerance_zone_boundary_member;
  END_ENTITY; -- tolerance_zone_explicit_opposing_boundary_set

  ENTITY Tolerance_zone_form;
      characterized_tolerance_zone : tolerance_zone;
      name                         : STRING; --label;
-- LK input needed    INVERSE
-- LK input needed      zone_definition : tolerance_zone_definition FOR form;
  END_ENTITY; -- tolerance_zone_form

  ENTITY Tolerance_zone_implicit_opposing_boundary_set
    SUBTYPE OF (tolerance_zone_opposing_boundary_set);
  END_ENTITY; -- tolerance_zone_implicit_opposing_boundary_set

  ENTITY Tolerance_zone_opposing_boundary_set
    ABSTRACT SUPERTYPE OF (ONEOF (tolerance_zone_explicit_opposing_boundary_set,
 tolerance_zone_implicit_opposing_boundary_set))
    SUBTYPE OF (tolerance_zone_boundary);
    INVERSE
      size_characteristic : opposing_boundary_set_size_characteristic FOR sized_boundary_set;
  END_ENTITY; -- tolerance_zone_opposing_boundary_set

  ENTITY Tolerance_zone_per_unit_size_specification;
      specified_tolerance_zone : tolerance_zone;
      per_unit_size            : SET[1:2] OF length_data_element;
    INVERSE
      zone_definition : tolerance_zone_definition_with_per_unit_size_specification FOR per_unit_size_specification;
  END_ENTITY; -- tolerance_zone_per_unit_size_specification

  ENTITY True_profile;
      profiled_surface       : physical_feature_or_part_template;
      profile_representation : true_profile_representations;
--    INVERSE
--      boundary_definition : SET[1:?] OF profile_boundary_definition FOR basic_profile;
  END_ENTITY; -- true_profile

  ENTITY User_defined_dimension_qualifier
    SUBTYPE OF (Dimension_qualifier);
      description : STRING; --text;
      name        : STRING; --text;
  END_ENTITY; -- user_defined_dimension_qualifier

  ENTITY User_defined_geometric_tolerance_qualifier
    SUBTYPE OF (Geometric_tolerance_qualifier);
      description : STRING; --text;
      name        : STRING; --text;
  END_ENTITY; -- user_defined_geometric_tolerance_qualifier

  ENTITY Viewing_plane
    SUBTYPE OF (Non_feature_shape_element);
    INVERSE
      viewing_plane_specification : viewing_plane_definition FOR defined_viewing_plane;
  END_ENTITY; -- viewing_plane

  ENTITY Viewing_plane_based_orientation;
      orienting_relationship      : tolerance_zone_and_viewing_plane_orienting_relationship;
      viewing_plane_specification : viewing_plane_definition;
  END_ENTITY; -- viewing_plane_based_orientation

  ENTITY Viewing_plane_definition;
      defined_viewing_plane        : viewing_plane;
      viewing_plane_representation : axis_placement;
    INVERSE
      zone_orientation : viewing_plane_based_orientation FOR viewing_plane_specification;
  END_ENTITY; -- viewing_plane_definition

END_SCHEMA; -- Extended_geometric_tolerance_arm
