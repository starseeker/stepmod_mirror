<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" description.file="arm_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="fabrication_technology_arm schema_instance"/>
   <schema name="Fabrication_technology_arm">
      <interface kind="use" schema="Constructive_solid_geometry_2d_arm"/>
      <interface kind="use" schema="Part_feature_location_arm"/>
      <interface kind="use" schema="Physical_layout_template_arm"/>
      <interface kind="use" schema="Requirement_decomposition_arm"/>
      <interface kind="use" schema="Extended_geometric_tolerance_arm"/>
      <interface kind="use" schema="Part_template_shape_with_parameters_arm"/>
      <interface kind="reference" schema="Specification_document_arm">
         <interfaced.item name="get_document_definition"/>
      </interface>
      <type name="ft_documented_element_select">
         <select extensible="YES" genericentity="YES" basedon="documented_element_select" selectitems="Passage_technology Stratum_technology"/>
      </type>
      <type name="ft_material_item_select">
         <select extensible="YES" genericentity="YES" basedon="material_item_select" selectitems="Filled_via_template Passage_technology Stratum_technology"/>
      </type>
      <type name="ft_requirement_assignment_item">
         <select extensible="YES" genericentity="YES" basedon="requirement_assignment_item" selectitems="Stratum_technology_occurrence"/>
      </type>
      <type name="land_template_terminal_class">
         <enumeration items="surface_point_class edge_curve_class edge_point_class surface_area_class"/>
      </type>
      <type name="layer_position_type">
         <enumeration items="secondary all external primary internal"/>
      </type>
      <type name="layer_purpose">
         <enumeration items="other_signal lands_only power_or_ground embedded_passive_capacitor_dielectric embedded_passive_resistor"/>
      </type>
      <type name="mt_external_identification_item">
         <select extensible="YES" genericentity="YES" basedon="external_identification_item" selectitems="Land_physical_template Documentation_layer_technology"/>
      </type>
      <type name="mt_usage_concept">
         <select extensible="YES" genericentity="YES" basedon="usage_concept" selectitems="Land_template_terminal"/>
      </type>
      <type name="predefined_documentation_layer_purpose">
         <enumeration items="soldermask solderpaste silkscreen generic_layer glue gluemask pastemask"/>
      </type>
      <type name="stiffness_class">
         <enumeration items="fluid_like conformal_coat stiff_laminate"/>
      </type>
      <entity name="Blind_passage_template" supertypes="Unsupported_passage_template">
         <explicit name="of_measure_orientation">
            <typename name="measure_orientation"/>
         </explicit>
         <explicit name="datum_reference_layer">
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <explicit name="datum_reference_side">
            <typename name="Stratum_technology_occurrence_link"/>
         </explicit>
         <explicit name="bottom_distance_from_datum_reference">
            <typename name="Shape_dimension_representation"/>
         </explicit>
      </entity>
      <entity name="Component_termination_passage_template" supertypes="Continuous_template Inter_stratum_feature_template">
         <explicit name="of_passage_technology">
            <typename name="Default_component_termination_passage_definition"/>
            <redeclaration entity-ref="Inter_stratum_feature_template"/>
         </explicit>
         <inverse name="access_mechanisms" entity="Component_termination_passage_template_terminal" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="2" upper="?"/>
         </inverse>
      </entity>
      <entity name="Component_termination_passage_template_interface_terminal" supertypes="Component_termination_passage_template_terminal"/>
      <entity name="Component_termination_passage_template_join_terminal" supertypes="Component_termination_passage_template_terminal">
         <explicit name="disallowed_inter_stratum_extent" optional="YES">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="Stratum_technology_occurrence_link"/>
         </explicit>
      </entity>
      <entity name="Component_termination_passage_template_terminal" abstract.supertype="YES" supertypes="Shape_feature" super.expression="ONEOF (Component_termination_passage_template_interface_terminal, Component_termination_passage_template_join_terminal)">
         <explicit name="associated_definition">
            <typename name="Component_termination_passage_template"/>
            <redeclaration entity-ref="Shape_element" old_name="containing_shape"/>
         </explicit>
         <explicit name="connection_area" optional="YES">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="Connection_zone_in_layout_template"/>
            <redeclaration entity-ref="Shape_feature"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute entity-ref="Shape_feature" attribute="element_name"/>
            <unique.attribute attribute="associated_definition"/>
         </unique>
         <where label="WR1" expression="NOT EXISTS(SELF\Shape_element.description)"/>
      </entity>
      <entity name="Continuous_template" supertypes="Geometric_template">
         <where label="WR1" expression="SIZEOF(QUERY(s &lt;* SELF\Geometric_template.shapes |&#10;          NOT ('CONSTRUCTIVE_SOLID_GEOMETRY_2D_ARM.SINGLE_AREA_CSG_2D_MODEL' IN TYPEOF(s)))) = 0"/>
      </entity>
      <entity name="Counterbore_passage_template" supertypes="Unsupported_passage_template">
         <explicit name="smaller_passage">
            <typename name="Unsupported_passage_template"/>
         </explicit>
         <explicit name="larger_passage">
            <typename name="Blind_passage_template"/>
         </explicit>
      </entity>
      <entity name="Countersunk_passage_template" supertypes="Unsupported_passage_template">
         <explicit name="constant_diameter_passage">
            <typename name="Unsupported_passage_template"/>
         </explicit>
         <explicit name="tapered_passage">
            <typename name="Blind_passage_template"/>
         </explicit>
      </entity>
      <entity name="Default_attachment_size_based_land_physical_template" supertypes="Land_physical_template Shape_feature">
         <explicit name="minimum_attachment_region_size" optional="YES">
            <aggregate type="SET" lower="1" upper="1"/>
            <typename name="Connection_zone_in_layout_template"/>
            <redeclaration entity-ref="Shape_feature" old_name="connection_area"/>
         </explicit>
         <explicit name="maximum_attachment_region_size" optional="YES">
            <typename name="Connection_zone_in_layout_template"/>
         </explicit>
         <derived name="containing_shape" expression="SELF">
            <typename name="Default_attachment_size_based_land_physical_template"/>
            <redeclaration entity-ref="Shape_element"/>
         </derived>
         <derived name="element_name" expression="''">
            <builtintype type="STRING"/>
            <redeclaration entity-ref="Shape_feature"/>
         </derived>
         <inverse name="interface_access_mechanisms" entity="Land_template_interface_terminal" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
         </inverse>
         <where label="WR1" expression="NOT (EXISTS(minimum_attachment_region_size) AND EXISTS(maximum_attachment_region_size)) OR (minimum_attachment_region_size[1] :&lt;&gt;: maximum_attachment_region_size)"/>
         <where label="WR2" expression="NOT (EXISTS(minimum_attachment_region_size)) OR (SIZEOF(QUERY(mars &lt;* minimum_attachment_region_size |&#10;                 NOT(mars\Shape_element.containing_shape :=: SELF)&#10;                 )) = 0)"/>
         <where label="WR3" expression="maximum_attachment_region_size\Shape_element.containing_shape :=: SELF"/>
      </entity>
      <entity name="Default_component_termination_passage_definition" supertypes="Passage_technology">
         <explicit name="allowed_component_terminal_extent">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="as_finished_deposition_thickness">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
         <explicit name="as_finished_passage_extent">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
         <inverse name="deposition_material" entity="Material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="1" upper="1"/>
            <redeclaration entity-ref="Passage_technology"/>
         </inverse>
         <where label="WR1" expression="'CONDUCTIVITY_MATERIAL_ASPECTS.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (deposition_material)"/>
      </entity>
      <entity name="Default_passage_based_land_physical_template" abstract.supertype="YES" supertypes="Land_physical_template" super.expression="ONEOF (Default_plated_passage_based_land_physical_template, Default_unsupported_passage_based_land_physical_template)">
         <explicit name="minimum_fabrication_allowance">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="of_passage_technology">
            <typename name="Passage_technology"/>
         </explicit>
         <explicit name="minimum_annular_ring">
            <typename name="Length_data_element"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="of_passage_technology"/>
            <unique.attribute entity-ref="Land_physical_template" attribute="of_stratum_technology"/>
         </unique>
      </entity>
      <entity name="Default_plated_passage_based_land_physical_template" supertypes="Default_passage_based_land_physical_template">
         <where label="WR1" expression="SELF\Default_passage_based_land_physical_template.of_passage_technology.plated_passage = TRUE"/>
      </entity>
      <entity name="Default_tapered_blind_via_definition" supertypes="Default_via_definition">
         <explicit name="as_finished_interior_passage_extent">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <where label="WR1" expression="less(as_finished_interior_passage_extent,as_finished_passage_extent)"/>
      </entity>
      <entity name="Default_unsupported_passage_based_land_physical_template" supertypes="Default_passage_based_land_physical_template">
         <explicit name="of_passage_technology">
            <typename name="Default_unsupported_passage_definition"/>
            <redeclaration entity-ref="Default_passage_based_land_physical_template"/>
         </explicit>
      </entity>
      <entity name="Default_unsupported_passage_definition" supertypes="Passage_technology">
         <explicit name="as_finished_passage_extent">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
      </entity>
      <entity name="Default_via_definition" supertypes="Passage_technology">
         <explicit name="as_finished_deposition_thickness">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
         <explicit name="as_finished_passage_extent">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
         <inverse name="deposition_material" entity="Material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="1" upper="1"/>
            <redeclaration entity-ref="Passage_technology"/>
         </inverse>
         <where label="WR1" expression="'CONDUCTIVITY_MATERIAL_ASPECTS.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (deposition_material)"/>
      </entity>
      <entity name="Design_layer_technology" supertypes="Stratum_technology">
         <explicit name="design_layer_purpose">
            <typename name="layer_purpose"/>
         </explicit>
         <explicit name="minimum_finished_feature_size">
            <typename name="Length_data_element"/>
            <redeclaration entity-ref="Stratum_technology"/>
         </explicit>
         <explicit name="minimum_finished_feature_spacing">
            <typename name="Length_data_element"/>
            <redeclaration entity-ref="Stratum_technology"/>
         </explicit>
         <where label="WR1" expression="(SIZEOF([SELF\Stratum_technology.stratum_material.electrical_conductivity_classification,&#10;           SELF\Stratum_technology.stratum_material.thermal_conductivity_classification] *&#10;           ['conductive']) &gt;= 1) OR&#10;       (SELF\Stratum_technology.stratum_material.magnetic_permeability_classification IN ['highly permeable']) OR&#10;       (SELF\Stratum_technology.stratum_material.optical_insertion_loss_classification IN ['vacuum', 'very low loss', 'low loss'])"/>
      </entity>
      <entity name="Documentation_layer_technology" supertypes="Stratum_technology">
         <explicit name="pre_defined_documentation_layer_purpose" optional="YES">
            <typename name="predefined_documentation_layer_purpose"/>
         </explicit>
         <inverse name="externally_defined_documentation_layer_purpose" entity="External_source_identification" attribute="item">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <where label="WR1" expression="(EXISTS (pre_defined_documentation_layer_purpose)) XOR ((SIZEOF(externally_defined_documentation_layer_purpose)) = 1)"/>
      </entity>
      <entity name="Filled_via_template" supertypes="Via_template">
         <inverse name="fill_material" entity="Material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="1" upper="1"/>
         </inverse>
         <where label="WR1" expression="'CONDUCTIVITY_MATERIAL_ASPECTS_ARM.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (fill_material[1])"/>
      </entity>
      <entity name="Inter_stratum_feature_template" supertypes="Geometric_template" super.expression="ONEOF (Component_termination_passage_template, Unsupported_passage_template, Via_template)">
         <explicit name="of_passage_technology">
            <typename name="Passage_technology"/>
         </explicit>
         <where label="WR1" expression="NOT EXISTS(SELF\Product_view_definition.name)"/>
      </entity>
      <entity name="Land_physical_template" supertypes="Stratum_feature_template" super.expression="ONEOF (Default_passage_based_land_physical_template, Default_attachment_size_based_land_physical_template)">
         <explicit name="of_stratum_technology" optional="YES">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="Design_layer_technology"/>
            <redeclaration entity-ref="Single_stratum_template"/>
         </explicit>
         <inverse name="access_mechanisms" entity="Land_template_terminal" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
         </inverse>
         <inverse name="pre_defined_classification_code" entity="External_source_identification" attribute="item">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <unique label="UR1">
            <unique.attribute attribute="pre_defined_classification_code"/>
         </unique>
         <where label="WR1" expression="SIZEOF(QUERY(ltjt &lt;* access_mechanisms | NOT ('FABRICATION_TECHNOLOGY_ARM.LAND_TEMPLATE_JOIN_TERMINAL' IN TYPEOF(ltjt)))) = 0"/>
         <where label="WR2" expression="SIZEOF(QUERY(s &lt;* SELF\Geometric_template.shapes |&#10;             NOT ('CONSTRUCTIVE_SOLID_GEOMETRY_2D_ARM.SINGLE_BOUNDARY_CSG_2D_MODEL' IN TYPEOF(s)))) = 0"/>
         <where label="WR3" expression="SIZEOF(SELF\Geometric_template.shapes) &gt; 0"/>
      </entity>
      <entity name="Land_template_interface_terminal" supertypes="Land_template_terminal">
         <explicit name="associated_definition">
            <typename name="Default_attachment_size_based_land_physical_template"/>
            <redeclaration entity-ref="Land_template_terminal"/>
         </explicit>
      </entity>
      <entity name="Land_template_join_terminal" supertypes="Land_template_terminal"/>
      <entity name="Land_template_terminal" abstract.supertype="YES" supertypes="Shape_feature" super.expression="ONEOF (Land_template_join_terminal, Land_template_interface_terminal)">
         <explicit name="associated_definition">
            <typename name="Land_physical_template"/>
            <redeclaration entity-ref="Shape_element" old_name="containing_shape"/>
         </explicit>
         <explicit name="connection_area" optional="YES">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="Connection_zone_in_layout_template"/>
            <redeclaration entity-ref="Shape_feature"/>
         </explicit>
         <explicit name="connection_zone_category" optional="YES">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="land_template_terminal_class"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute entity-ref="Shape_feature" attribute="element_name"/>
            <unique.attribute attribute="associated_definition"/>
         </unique>
         <where label="WR1" expression="NOT (EXISTS(SELF\Shape_feature.connection_area)) OR EXISTS(connection_zone_category)"/>
         <where label="WR2" expression="NOT (EXISTS(SELF\Shape_feature.connection_area)) OR (SIZEOF(SELF\Shape_feature.connection_area) = SIZEOF(connection_zone_category))"/>
         <where label="WR3" expression="NOT EXISTS(SELF\Shape_element.description)"/>
      </entity>
      <entity name="Material_addition_feature_template" supertypes="Stratum_feature_template">
         <where label="WR1" expression="SIZEOF(SELF\Geometric_template.shapes) &gt; 0"/>
      </entity>
      <entity name="Material_removal_feature_template" supertypes="Single_stratum_continuous_template">
         <where label="WR1" expression="NOT EXISTS(SELF\Product_view_definition.name)"/>
         <where label="WR2" expression="SIZEOF(SELF\Geometric_template.shapes) &gt; 0"/>
         <where label="WR3" expression="SIZEOF(QUERY(s &lt;* SELF\Geometric_template.shapes |&#10;            NOT ('CONSTRUCTIVE_SOLID_GEOMETRY_2D_ARM.SINGLE_BOUNDARY_CSG_2D_MODEL' IN TYPEOF(s)))) = 0"/>
      </entity>
      <entity name="Passage_technology" super.expression="ONEOF (Default_via_definition, Default_component_termination_passage_definition, Default_unsupported_passage_definition)">
         <explicit name="name">
            <builtintype type="STRING"/>
         </explicit>
         <explicit name="as_finished_deposition_thickness" optional="YES">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="as_finished_passage_extent" optional="YES">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="maximum_aspect_ratio" optional="YES">
            <builtintype type="REAL"/>
         </explicit>
         <explicit name="plated_passage">
            <builtintype type="BOOLEAN"/>
         </explicit>
         <derived name="specification" expression="get_document_definition(SELF, 'specification', &#10;  			'SPECIFICATION_DOCUMENT_ARM.PROCESS_SPECIFICATION')">
            <aggregate type="SET" lower="0" upper="1"/>
            <typename name="Document_definition"/>
         </derived>
         <inverse name="deposition_material" entity="Material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <unique label="UR1">
            <unique.attribute attribute="name"/>
         </unique>
         <where label="WR1" expression="NOT (SIZEOF(deposition_material) = 1) OR&#10;            ('CONDUCTIVITY_MATERIAL_ASPECTS.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (deposition_material[1]))"/>
         <where label="WR2" expression="NOT (plated_passage) OR (SIZEOF(deposition_material) = 1)"/>
         <where label="WR3" expression="NOT EXISTS(as_finished_deposition_thickness) OR (SIZEOF(deposition_material) = 1)"/>
         <where label="WR4" expression="NOT EXISTS(as_finished_deposition_thickness) OR (SIZEOF(deposition_material) = 1)"/>
         <where label="WR5" expression="NOT (plated_passage) OR&#10;           (SIZEOF([deposition_material[1].electrical_conductivity_classification,&#10;                    deposition_material[1].thermal_conductivity_classification] *&#10;                   ['conductive']) &gt;= 1)"/>
      </entity>
      <entity name="Single_stratum_continuous_template" abstract.supertype="YES" supertypes="Continuous_template Single_stratum_template" super.expression="ONEOF (Stratum_feature_template, Material_removal_feature_template)"/>
      <entity name="Single_stratum_template" abstract.supertype="YES" supertypes="Template_definition" super.expression="Single_stratum_continuous_template">
         <explicit name="of_stratum_technology" optional="YES">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="Stratum_technology"/>
         </explicit>
      </entity>
      <entity name="Stratum_feature_template" supertypes="Single_stratum_continuous_template" super.expression="ONEOF (Land_physical_template, Material_addition_feature_template)">
         <where label="WR1" expression="NOT EXISTS(SELF\Product_view_definition.name)"/>
      </entity>
      <entity name="Stratum_stack_model" abstract.supertype="YES" supertypes="Template_definition">
         <derived name="composing_occurrence" expression="get_stack(composing_link)">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="Stratum_technology_occurrence"/>
         </derived>
         <inverse name="composing_link" entity="Stratum_technology_occurrence_link" attribute="scope">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
         </inverse>
      </entity>
      <entity name="Stratum_technology" super.expression="ONEOF (Design_layer_technology, Documentation_layer_technology)">
         <explicit name="name">
            <builtintype type="STRING"/>
         </explicit>
         <explicit name="layer_position">
            <typename name="layer_position_type"/>
         </explicit>
         <explicit name="stratum_thickness">
            <typename name="Tolerance_characteristic"/>
         </explicit>
         <explicit name="minimum_finished_feature_size" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="laminate_stiffness_class" optional="YES">
            <typename name="stiffness_class"/>
         </explicit>
         <explicit name="minimum_finished_feature_spacing" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="maximum_feature_size_requirement" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <derived name="specification" expression="get_document_definition(SELF, 'specification', &#10;  			'SPECIFICATION_DOCUMENT_ARM.PROCESS_SPECIFICATION')">
            <aggregate type="SET" lower="0" upper="1"/>
            <typename name="Document_definition"/>
         </derived>
         <derived name="surface_specification" expression="get_document_definition(SELF, 'surface specification', &#10;  			'SPECIFICATION_DOCUMENT_ARM.SURFACE_FINISH_SPECIFICATION')">
            <aggregate type="SET" lower="0" upper="1"/>
            <typename name="Document_definition"/>
         </derived>
         <inverse name="stratum_material" entity="Material_identification" attribute="items"/>
         <unique label="UR1">
            <unique.attribute attribute="name"/>
         </unique>
         <where label="WR1" expression="NOT (layer_position = layer_position_type.primary) OR ('FABRICATION_TECHNOLOGY_ARM.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF))"/>
         <where label="WR2" expression="NOT (layer_position = layer_position_type.secondary) OR ('FABRICATION_TECHNOLOGY_ARM.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF))"/>
         <where label="WR3" expression="'CONDUCTIVITY_MATERIAL_ASPECTS.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (stratum_material)"/>
      </entity>
      <entity name="Stratum_technology_occurrence">
         <explicit name="name">
            <builtintype type="STRING"/>
         </explicit>
         <explicit name="definition">
            <typename name="Stratum_technology"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="name"/>
         </unique>
      </entity>
      <entity name="Stratum_technology_occurrence_link">
         <explicit name="precedent_sto">
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <explicit name="subsequent_sto">
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <explicit name="scope">
            <typename name="Stratum_stack_model"/>
         </explicit>
         <where label="WR1" expression="precedent_sto &lt;&gt; subsequent_sto"/>
      </entity>
      <entity name="Stratum_technology_occurrence_swap_relationship">
         <explicit name="primary_sto">
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <explicit name="secondary_sto">
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <explicit name="scope">
            <typename name="Stratum_stack_model"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="primary_sto"/>
            <unique.attribute attribute="scope"/>
         </unique>
         <unique label="UR2">
            <unique.attribute attribute="secondary_sto"/>
            <unique.attribute attribute="scope"/>
         </unique>
         <where label="WR1" expression="primary_sto &lt;&gt; secondary_sto"/>
         <where label="WR2" expression="(primary_sto IN scope\Stratum_stack_model.composing_occurrence) AND&#10;         (secondary_sto IN scope\Stratum_stack_model.composing_occurrence)"/>
      </entity>
      <entity name="Stratum_technology_swap_relationship">
         <explicit name="primary_stratum_technology">
            <typename name="Stratum_technology"/>
         </explicit>
         <explicit name="secondary_stratum_technology">
            <typename name="Stratum_technology"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="primary_stratum_technology"/>
         </unique>
         <unique label="UR2">
            <unique.attribute attribute="secondary_stratum_technology"/>
         </unique>
         <where label="WR1" expression="NOT (('FABRICATION_TECHNOLOGY_ARM.DOCUMENTATION_LAYER_TECHNOLOGY' IN TYPEOF(primary_stratum_technology)) AND&#10;              EXISTS(primary_stratum_technology\Documentation_layer_technology.pre_defined_documentation_layer_purpose))&#10;          OR&#10;          (primary_stratum_technology\Documentation_layer_technology.pre_defined_documentation_layer_purpose =&#10;           secondary_stratum_technology\Documentation_layer_technology.pre_defined_documentation_layer_purpose)"/>
         <where label="WR2" expression="TYPEOF(primary_stratum_technology) = TYPEOF(secondary_stratum_technology)"/>
         <where label="WR3" expression="primary_stratum_technology\Stratum_technology.layer_position = layer_position_type.primary"/>
         <where label="WR4" expression="secondary_stratum_technology\Stratum_technology.layer_position = layer_position_type.secondary"/>
         <where label="WR5" expression="primary_stratum_technology &lt;&gt; secondary_stratum_technology"/>
      </entity>
      <entity name="Unsupported_passage_template" supertypes="Continuous_template Inter_stratum_feature_template" super.expression="ONEOF (Counterbore_passage_template, Countersunk_passage_template, Blind_passage_template)">
         <explicit name="of_passage_technology">
            <typename name="Default_unsupported_passage_definition"/>
            <redeclaration entity-ref="Inter_stratum_feature_template"/>
         </explicit>
      </entity>
      <entity name="Via_template" supertypes="Continuous_template Inter_stratum_feature_template">
         <explicit name="of_passage_technology">
            <typename name="Default_via_definition"/>
            <redeclaration entity-ref="Inter_stratum_feature_template"/>
         </explicit>
         <inverse name="access_mechanisms" entity="Via_template_terminal" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="2" upper="?"/>
         </inverse>
      </entity>
      <entity name="Via_template_terminal" supertypes="Shape_feature">
         <explicit name="associated_definition">
            <typename name="Via_template"/>
            <redeclaration entity-ref="Shape_element" old_name="containing_shape"/>
         </explicit>
         <explicit name="disallowed_inter_stratum_extent" optional="YES">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="Stratum_technology_occurrence_link"/>
         </explicit>
         <explicit name="connection_area" optional="YES">
            <aggregate type="SET" lower="1" upper="?"/>
            <typename name="Connection_zone_in_layout_template"/>
            <redeclaration entity-ref="Shape_feature"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute entity-ref="Shape_feature" attribute="element_name"/>
            <unique.attribute attribute="associated_definition"/>
         </unique>
         <where label="WR1" expression="NOT EXISTS(SELF\Shape_element.description)"/>
      </entity>
      <subtype.constraint name="ft_shape_feature_subtypes" entity="Shape_feature" super.expression="ONEOF (Via_template_terminal, Component_termination_passage_template_terminal, Land_template_terminal)"/>
      <subtype.constraint name="ft_template_definition_subtypes" entity="Template_definition" super.expression="ONEOF (Geometric_template, Single_stratum_template, Stratum_stack_model)"/>
      <function name="get_electrical_conductivity">
         <parameter name="mi">
            <aggregate type="SET" lower="0" upper="?"/>
            <typename name="Material_identification"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>REPEAT i := 1 to SIZEOF(mi) by 1;
	  IF ('CONDUCTIVITY_MATERIAL_ASPECT.'+'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' 
	  	IN TYPEOF (mi[i])) THEN
		  IF((EXISTS(mi[i].electrical_conductivity_classification)) AND 
		  (mi[i].electrical_conductivity_classification IN ['conductive', 'semi conductive', 'super conductive'])) THEN
	  		RETURN (TRUE);
	  	END_IF;	
	  END_IF;
	END_REPEAT;
	RETURN (FALSE);</algorithm>
      </function>
      <function name="get_stack">
         <parameter name="input">
            <aggregate type="SET" lower="0" upper="?"/>
            <typename name="Stratum_technology_occurrence_link"/>
         </parameter>
         <aggregate type="SET" lower="0" upper="?"/>
         <typename name="Stratum_technology_occurrence"/>
         <algorithm>LOCAL
   sto : SET OF Stratum_technology_occurrence := [];
    i : INTEGER := 0;
  END_LOCAL;
  REPEAT  i := 1 TO SIZEOF(input) BY 1;
   sto := sto + input[i].precedent_sto + input[i].subsequent_sto;
  END_REPEAT;
  RETURN(sto);</algorithm>
      </function>
      <function name="less">
         <parameter name="input1">
            <typename name="Length_tolerance_characteristic"/>
         </parameter>
         <parameter name="input2">
            <typename name="Length_tolerance_characteristic"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>RETURN(TRUE);</algorithm>
      </function>
   </schema>
</express>
