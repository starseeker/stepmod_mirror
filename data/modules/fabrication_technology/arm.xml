<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="$Date: 2008/04/29 09:24:52 $" rcs.revision="$Revision: 1.88 $" description.file="arm_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="fabrication_technology_arm schema_instance"/>
   <schema name="Fabrication_technology_arm">
      <interface kind="use" schema="Constructive_solid_geometry_2d_arm"/>
      <interface kind="use" schema="Extended_geometric_tolerance_arm"/>
      <interface kind="use" schema="Part_template_shape_with_parameters_arm"/>
      <interface kind="reference" schema="Specification_document_arm">
         <interfaced.item name="get_document_definition"/>
      </interface>
      <interface kind="reference" schema="Characterizable_object_arm">
         <interfaced.item name="bag_to_set"/>
      </interface>
      <type name="ft_documented_element_select">
         <select extensible="YES" genericentity="YES" basedon="documented_element_select" selectitems="Passage_technology Stratum_technology"/>
      </type>
      <type name="ft_material_item_select">
         <select extensible="YES" genericentity="YES" basedon="material_item_select" selectitems="Passage_technology Stratum_technology"/>
      </type>
      <type name="ft_property_assignment_select">
         <select basedon="property_assignment_select" selectitems="Stratum_technology Passage_technology" genericentity="NO" extensible="NO"/>
      </type>
      <type name="ft_requirement_assignment_item">
         <select extensible="YES" genericentity="YES" basedon="requirement_assignment_item" selectitems="Passage_technology Stratum_technology Stratum_technology_occurrence"/>
      </type>
      <type name="ft_terminus_condition">
         <enumeration extensible="YES" items="bilateral_bond bilateral_complete_removal unilateral_bond"/>
      </type>
      <type name="land_template_terminal_class">
         <enumeration items="surface_point_class edge_curve_class edge_point_class surface_area_class" extensible="NO"/>
      </type>
      <type name="layer_position_type">
         <enumeration items="secondary all external primary internal" extensible="NO"/>
      </type>
      <type name="mt_external_identification_item">
         <select extensible="YES" genericentity="YES" basedon="external_identification_item" selectitems="Land_physical_template Design_layer_technology Documentation_layer_technology"/>
      </type>
      <type name="mt_usage_concept">
         <select extensible="YES" genericentity="YES" basedon="usage_concept" selectitems="Land_template_terminal"/>
      </type>
      <type name="predefined_design_layer_purpose">
         <enumeration items="other_signal lands_only power_or_ground embedded_passive_capacitor_dielectric embedded_passive_resistor" extensible="NO"/>
      </type>
      <type name="predefined_documentation_layer_purpose">
         <enumeration items="soldermask solderpaste silkscreen generic_layer glue gluemask pastemask finish_coating" extensible="NO"/>
      </type>
      <type name="stiffness_class">
         <enumeration items="fluid_like_with_constant_thickness fluid_like_with_varying_thickness stiff_laminate" extensible="NO"/>
      </type>
      <type name="up_or_down">
         <enumeration items="independent precedent subsequent" extensible="NO"/>
      </type>
      <entity name="Blind_passage_template" supertypes="Unsupported_passage_template" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="bottom_distance_from_datum_reference" optional="NO">
            <typename name="Shape_dimension_representation"/>
         </explicit>
         <explicit name="datum_reference_layer" optional="NO">
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <explicit name="datum_reference_side" optional="NO">
            <typename name="Stratum_technology_occurrence_link"/>
         </explicit>
         <explicit name="of_measure_orientation" optional="NO">
            <typename name="measure_orientation"/>
         </explicit>
      </entity>
      <entity name="Component_termination_passage_template" supertypes="Continuous_template Inter_stratum_feature_template" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="of_passage_technology" optional="NO">
            <typename name="Default_component_termination_passage_definition"/>
            <redeclaration entity-ref="Inter_stratum_feature_template"/>
         </explicit>
         <inverse name="access_mechanisms" entity="Component_termination_passage_template_terminal" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="2" upper="?"/>
         </inverse>
      </entity>
      <entity name="Component_termination_passage_template_interface_terminal" supertypes="Component_termination_passage_template_terminal" abstract.supertype="NO" abstract.entity="NO"/>
      <entity name="Component_termination_passage_template_join_terminal" supertypes="Component_termination_passage_template_terminal" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="disallowed_inter_stratum_extent" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Stratum_technology_occurrence_link"/>
         </explicit>
      </entity>
      <entity name="Component_termination_passage_template_terminal" abstract.supertype="YES" supertypes="Shape_feature" super.expression="ONEOF (Component_termination_passage_template_interface_terminal, Component_termination_passage_template_join_terminal)" abstract.entity="NO">
         <explicit name="associated_definition" optional="NO">
            <typename name="Component_termination_passage_template"/>
            <redeclaration entity-ref="Shape_element" old_name="containing_shape"/>
         </explicit>
         <explicit name="connection_area" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Connection_zone_in_layout_template"/>
            <redeclaration entity-ref="Shape_feature"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute entity-ref="Shape_feature" attribute="element_name"/>
            <unique.attribute attribute="associated_definition"/>
         </unique>
         <where label="WR1" expression="NOT EXISTS(SELF\Shape_element.description)"/>
      </entity>
      <entity name="Continuous_template" supertypes="Geometric_template" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SIZEOF(QUERY(s &lt;* SELF\Geometric_template.shapes |&#10;          NOT &#10;          (SIZEOF(['CONSTRUCTIVE_SOLID_GEOMETRY_2D_ARM.SINGLE_AREA_CSG_2D_MODEL',&#10;                   'PART_TEMPLATE_EXTENSION_ARM.PLANAR_PATH_SHAPE_MODEL_WITH_PARAMETERS'] * TYPEOF(s))&#10;           = 1)&#10;          )) = 0"/>
      </entity>
      <entity name="Copy_stratum_technology_occurrence_relationship" supertypes="Derived_stratum_technology_occurrence_relationship" abstract.supertype="NO" abstract.entity="NO"/>
      <entity name="Counterbore_passage_template" supertypes="Unsupported_passage_template" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="smaller_passage" optional="NO">
            <typename name="Unsupported_passage_template"/>
         </explicit>
         <explicit name="larger_passage" optional="NO">
            <typename name="Blind_passage_template"/>
         </explicit>
      </entity>
      <entity name="Countersunk_passage_template" supertypes="Unsupported_passage_template" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="constant_diameter_passage" optional="NO">
            <typename name="Unsupported_passage_template"/>
         </explicit>
         <explicit name="tapered_passage" optional="NO">
            <typename name="Blind_passage_template"/>
         </explicit>
      </entity>
      <entity name="Default_attachment_size_based_land_physical_template" supertypes="Land_physical_template Shape_feature" abstract.supertype="NO" abstract.entity="NO">
         <derived name="containing_shape" expression="SELF">
            <typename name="Default_attachment_size_based_land_physical_template"/>
            <redeclaration entity-ref="Shape_element"/>
         </derived>
         <derived name="element_name" expression="''">
            <builtintype type="STRING" fixed="NO"/>
            <redeclaration entity-ref="Shape_feature"/>
         </derived>
         <inverse name="interface_access_mechanisms" entity="Land_template_interface_terminal" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
         </inverse>
         <where label="WR1" expression="NOT (SIZEOF(interface_access_mechanisms[1].connection_area) &gt; 0) OR &#10;                 ('minimum attachment region size' IN &#10;                  ft_get_zone_name(interface_access_mechanisms[1].connection_area))"/>
         <where label="WR2" expression="NOT (SIZEOF(interface_access_mechanisms[1].connection_area) &gt; 1) OR &#10;                 (SIZEOF(['maximum attachment region size','heel area', 'toe area'] * &#10;                  ft_get_zone_name(interface_access_mechanisms[1].connection_area)) = 1)"/>
         <where label="WR3" expression="NOT (SIZEOF(interface_access_mechanisms[1].connection_area) &gt; 2) OR &#10;                 (SIZEOF(['maximum attachment region size','heel area', 'toe area'] * &#10;                  ft_get_zone_name(interface_access_mechanisms[1].connection_area)) = 2)"/>
         <where label="WR4" expression="NOT (SIZEOF(interface_access_mechanisms[1].connection_area) &gt; 3) OR &#10;                 (SIZEOF(['maximum attachment region size','heel area', 'toe area'] * &#10;                  ft_get_zone_name(interface_access_mechanisms[1].connection_area)) = 3)"/>
         <where label="WR5" expression="NOT EXISTS(SELF\Shape_feature.connection_area)"/>
         <where label="WR6" expression="SIZEOF(interface_access_mechanisms) = 1"/>
         <where label="WR7" expression="SELF\Shape_element.id = SELF\Item_shape.id"/>
      </entity>
      <entity name="Default_component_termination_passage_definition" supertypes="Passage_technology" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="allowed_component_terminal_extent" optional="NO">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="as_finished_deposition_thickness" optional="NO">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
         <explicit name="as_finished_passage_extent" optional="NO">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
         <inverse name="deposition_material" entity="Passage_deposition_material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="1" upper="1"/>
            <redeclaration entity-ref="Passage_technology"/>
         </inverse>
         <where label="WR1" expression="'CONDUCTIVITY_MATERIAL_ASPECTS_ARM.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (deposition_material[1])"/>
      </entity>
      <entity name="Default_passage_based_land_physical_template" abstract.supertype="YES" supertypes="Land_physical_template" super.expression="ONEOF (Default_plated_passage_based_land_physical_template, Default_unsupported_passage_based_land_physical_template)" abstract.entity="NO">
         <explicit name="of_passage_technology" optional="NO">
            <typename name="Passage_technology"/>
         </explicit>
      </entity>
      <entity name="Default_plated_passage_based_land_physical_template" supertypes="Default_passage_based_land_physical_template" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SELF\Default_passage_based_land_physical_template.of_passage_technology.plated_passage = TRUE"/>
      </entity>
      <entity name="Default_tapered_blind_via_definition" supertypes="Default_via_definition" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="as_finished_interior_passage_extent" optional="NO">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <where label="WR1" expression="less(as_finished_interior_passage_extent, SELF\default_via_definition.as_finished_passage_extent)"/>
      </entity>
      <entity name="Default_unsupported_passage_based_land_physical_template" supertypes="Default_passage_based_land_physical_template" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="of_passage_technology" optional="NO">
            <typename name="Default_unsupported_passage_definition"/>
            <redeclaration entity-ref="Default_passage_based_land_physical_template"/>
         </explicit>
      </entity>
      <entity name="Default_unsupported_passage_definition" supertypes="Passage_technology" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="as_finished_passage_extent" optional="NO">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
      </entity>
      <entity name="Default_via_definition" supertypes="Passage_technology" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="as_finished_deposition_thickness" optional="NO">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
         <explicit name="as_finished_passage_extent" optional="NO">
            <typename name="Length_tolerance_characteristic"/>
            <redeclaration entity-ref="Passage_technology"/>
         </explicit>
         <inverse name="deposition_material" entity="Passage_deposition_material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="1" upper="1"/>
            <redeclaration entity-ref="Passage_technology"/>
         </inverse>
         <where label="WR1" expression="'CONDUCTIVITY_MATERIAL_ASPECTS_ARM.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (deposition_material[1])"/>
      </entity>
      <entity name="Derived_stratum_technology_occurrence_relationship" abstract.supertype="YES" supertypes="Stratum_technology_occurrence_relationship" super.expression="ONEOF (Copy_stratum_technology_occurrence_relationship, Inverse_copy_stratum_technology_occurrence_relationship)" abstract.entity="NO"/>
      <entity name="Design_layer_technology" supertypes="Stratum_technology" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="design_layer_purpose" optional="YES">
            <typename name="predefined_design_layer_purpose"/>
         </explicit>
         <explicit name="minimum_finished_feature_size" optional="NO">
            <typename name="Length_data_element"/>
            <redeclaration entity-ref="Stratum_technology"/>
         </explicit>
         <explicit name="minimum_finished_feature_spacing" optional="NO">
            <typename name="Length_data_element"/>
            <redeclaration entity-ref="Stratum_technology"/>
         </explicit>
         <inverse name="externally_defined_design_layer_purpose" entity="External_source_identification" attribute="item">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <where label="WR1" expression="(SIZEOF([SELF\Stratum_technology.stratum_material[1]\Material_identification_with_conductivity_classification.electrical_conductivity_classification,&#10;           SELF\Stratum_technology.stratum_material[1]\Material_identification_with_conductivity_classification.thermal_conductivity_classification] *&#10;           ['conductive']) &gt;= 1) OR&#10;       (SELF\Stratum_technology.stratum_material[1]\Material_identification_with_conductivity_classification.magnetic_permeability_classification IN ['highly permeable']) OR&#10;       (SELF\Stratum_technology.stratum_material[1]\Material_identification_with_conductivity_classification.optical_insertion_loss_classification IN ['vacuum', 'very low loss', 'low loss'])"/>
         <where label="WR2" expression="(EXISTS (design_layer_purpose)) XOR ((SIZEOF(externally_defined_design_layer_purpose)) = 1)"/>
      </entity>
      <entity name="Documentation_layer_technology" supertypes="Stratum_technology" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="pre_defined_documentation_layer_purpose" optional="YES">
            <typename name="predefined_documentation_layer_purpose"/>
         </explicit>
         <inverse name="externally_defined_documentation_layer_purpose" entity="External_source_identification" attribute="item">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <where label="WR1" expression="(EXISTS (pre_defined_documentation_layer_purpose)) XOR ((SIZEOF(externally_defined_documentation_layer_purpose)) = 1)"/>
      </entity>
      <entity name="Filled_unsupported_passage_template" supertypes="Unsupported_passage_template" abstract.supertype="NO" abstract.entity="NO">
         <inverse name="fill_material" entity="Material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="1" upper="1"/>
         </inverse>
         <where label="WR1" expression="'CONDUCTIVITY_MATERIAL_ASPECTS_ARM.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF(fill_material[1])"/>
      </entity>
      <entity name="Inter_stratum_feature_template" supertypes="Geometric_template" super.expression="ONEOF (Component_termination_passage_template, Unsupported_passage_template, Via_template)" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="of_passage_technology" optional="NO">
            <typename name="Passage_technology"/>
         </explicit>
         <where label="WR1" expression="NOT EXISTS(SELF\Product_view_definition.name)"/>
      </entity>
      <entity name="Inverse_copy_stratum_technology_occurrence_relationship" supertypes="Derived_stratum_technology_occurrence_relationship" abstract.supertype="NO" abstract.entity="NO"/>
      <entity name="Land_physical_template" supertypes="Stratum_feature_template" super.expression="ONEOF (Default_passage_based_land_physical_template, Default_attachment_size_based_land_physical_template)" abstract.supertype="NO" abstract.entity="NO">
         <inverse name="access_mechanisms" entity="Land_template_terminal" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
         </inverse>
         <inverse name="pre_defined_classification_code" entity="External_source_identification" attribute="item">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <where label="WR1" expression="SIZEOF(QUERY(ltjt &lt;* access_mechanisms | NOT ('FABRICATION_TECHNOLOGY_ARM.LAND_TEMPLATE_JOIN_TERMINAL' IN TYPEOF(ltjt)))) = 0"/>
         <where label="WR2" expression="SIZEOF(QUERY(s &lt;* SELF\Geometric_template.shapes |&#10;             NOT ('CONSTRUCTIVE_SOLID_GEOMETRY_2D_ARM.SINGLE_AREA_CSG_2D_MODEL' IN TYPEOF(s)))) = 0"/>
         <where label="WR3" expression="SIZEOF(SELF\Geometric_template.shapes) &gt; 0"/>
      </entity>
      <entity name="Land_template_interface_terminal" supertypes="Land_template_terminal" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="associated_definition" optional="NO">
            <typename name="Default_attachment_size_based_land_physical_template"/>
            <redeclaration entity-ref="Land_template_terminal"/>
         </explicit>
      </entity>
      <entity name="Land_template_join_terminal" supertypes="Land_template_terminal" abstract.supertype="NO" abstract.entity="NO"/>
      <entity name="Land_template_terminal" abstract.supertype="YES" supertypes="Shape_feature" super.expression="ONEOF (Land_template_join_terminal, Land_template_interface_terminal)" abstract.entity="NO">
         <explicit name="associated_definition" optional="NO">
            <typename name="Land_physical_template"/>
            <redeclaration entity-ref="Shape_element" old_name="containing_shape"/>
         </explicit>
         <explicit name="connection_area" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Connection_zone_in_layout_template"/>
            <redeclaration entity-ref="Shape_feature"/>
         </explicit>
         <explicit name="terminal_category" optional="YES">
            <typename name="land_template_terminal_class"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute entity-ref="Shape_feature" attribute="element_name"/>
            <unique.attribute attribute="associated_definition"/>
         </unique>
         <where label="WR1" expression="NOT (EXISTS(SELF\Shape_feature.connection_area)) OR NOT EXISTS(terminal_category)"/>
         <where label="WR2" expression="NOT EXISTS(SELF\Shape_element.description)"/>
         <where label="WR3" expression="SIZEOF(QUERY(ca &lt;* connection_area |&#10; NOT(associated_definition = ca\Connection_zone_in_layout_template.containing_shape)&#10;            )) = 0"/>
         <where label="IP1"/>
         <where label="IP2"/>
      </entity>
      <entity name="Material_removal_feature_template" supertypes="Single_stratum_continuous_template" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="NOT EXISTS(SELF\Product_view_definition.name)"/>
         <where label="WR2" expression="SIZEOF(SELF\Geometric_template.shapes) &gt; 0"/>
      <where label="IP1"/>
      </entity>
      <entity name="Passage_deposition_material_identification" supertypes="Material_identification" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="items" optional="NO">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Passage_technology"/>
            <redeclaration entity-ref="Material_identification"/>
         </explicit>
      </entity>
      <entity name="Passage_filling_material_identification" supertypes="Material_identification" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="items" optional="NO">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Passage_technology"/>
            <redeclaration entity-ref="Material_identification"/>
         </explicit>
      </entity>
      <entity name="Passage_technology" supertypes="Characterizable_object Item_shape" super.expression="ONEOF (Default_via_definition, Default_component_termination_passage_definition, Default_unsupported_passage_definition)" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="as_finished_deposition_thickness" optional="YES">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="as_finished_passage_extent" optional="YES">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="maximum_aspect_ratio" optional="YES">
            <builtintype type="REAL" fixed="NO"/>
         </explicit>
         <explicit name="minimum_finished_size" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="plated_passage" optional="NO">
            <builtintype type="BOOLEAN" fixed="NO"/>
         </explicit>
         <explicit name="passage_terminus_condition" optional="YES">
            <typename name="ft_terminus_condition"/>
         </explicit>
         <explicit name="minimum_fabrication_allowance" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <derived name="described_element" expression="SELF">
            <typename name="Passage_technology"/>
            <redeclaration entity-ref="Item_shape"/>
         </derived>
         <derived name="specification" expression="get_document_definition(SELF, 'specification', &#10;     'SPECIFICATION_DOCUMENT_ARM.PROCESS_SPECIFICATION')">
            <aggregate type="SET" lower="0" upper="1" unique="NO" optional="NO"/>
            <typename name="Document_definition"/>
         </derived>
         <inverse name="deposition_material" entity="Passage_deposition_material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <inverse name="fill_material" entity="Passage_filling_material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <unique label="UR1">
            <unique.attribute entity-ref="Characterizable_object" attribute="name"/>
         </unique>
         <where label="WR1" expression="NOT (SIZEOF(deposition_material) = 1) OR&#10;            ('CONDUCTIVITY_MATERIAL_ASPECTS_ARM.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (deposition_material[1]))"/>
         <where label="WR2" expression="NOT plated_passage OR (SIZEOF(deposition_material) = 1)"/>
         <where label="WR3" expression="NOT EXISTS(as_finished_deposition_thickness) OR (SIZEOF(deposition_material) = 1)"/>
         <where label="WR4" expression="NOT plated_passage OR&#10;            (SIZEOF([deposition_material[1].electrical_conductivity_classification,&#10;                    deposition_material[1].thermal_conductivity_classification] *&#10;                   ['conductive']) &gt;= 1)"/>
         <where label="WR5" expression="NOT ((passage_terminus_condition = ft_terminus_condition.bilateral_bond) OR&#10;                 (passage_terminus_condition = ft_terminus_condition.unilateral_bond)) OR&#10;            plated_passage"/>
      </entity>
      <entity name="Single_stratum_continuous_template" abstract.supertype="YES" supertypes="Continuous_template Single_stratum_template" super.expression="ONEOF (Stratum_feature_template, Material_removal_feature_template)" abstract.entity="NO"/>
      <entity name="Single_stratum_template" abstract.supertype="YES" supertypes="Template_definition" super.expression="Single_stratum_continuous_template" abstract.entity="NO"/>
      <entity name="Stratum_feature_template" supertypes="Single_stratum_continuous_template" super.expression="Land_physical_template" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="NOT EXISTS(SELF\Product_view_definition.name)"/>
      </entity>
      <entity name="Stratum_stack_model" abstract.supertype="YES" supertypes="Template_definition" abstract.entity="NO">
         <derived name="composing_occurrence" expression="get_stack(composing_link)">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Stratum_technology_occurrence"/>
         </derived>
         <inverse name="composing_link" entity="Stratum_technology_occurrence_relationship" attribute="scope">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
         </inverse>
         <where label="WR1" expression="SIZEOF(QUERY( cl &lt;* composing_link |&#10;            NOT('FABRICATION_ARM.STRATUM_TECHNOLOGY_OCCURRENCE_LINK' IN TYPEOF(cl))&#10;                  )) = 0"/>
      </entity>
      <entity name="Stratum_surface_technology" supertypes="Shape_element" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="associated_technology" optional="NO">
            <typename name="Stratum_technology"/>
            <redeclaration entity-ref="Shape_element" old_name="containing_shape"/>
         </explicit>
         <derived name="surface_specification" expression="get_document_definition(SELF, 'surface specification',   &#10;                                      'SPECIFICATION_DOCUMENT_ARM.SURFACE_FINISH_SPECIFICATION')">
            <aggregate type="SET" lower="0" upper="1" unique="NO" optional="NO"/>
            <typename name="Document_definition"/>
         </derived>
         <where label="WR1" expression="(SIZEOF(USEDIN(SELF,'SURFACE_CONDITIONS_ARM.SURFACE_CONDITION_ASSOCIATION.DESCRIBED_ELEMENT')) &gt; 0) OR &#10;            (SIZEOF(get_document_definition(SELF, 'surface specification', 'SPECIFICATION_DOCUMENT_ARM.SURFACE_FINISH_SPECIFICATION')) = 1)"/>
      </entity>
      <entity name="Stratum_technology" supertypes="Characterizable_object Item_shape" super.expression="ONEOF (Design_layer_technology, Documentation_layer_technology)" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="layer_position" optional="NO">
            <typename name="layer_position_type"/>
         </explicit>
         <explicit name="stratum_thickness" optional="NO">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="minimum_finished_feature_size" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="laminate_stiffness_class" optional="YES">
            <typename name="stiffness_class"/>
         </explicit>
         <explicit name="minimum_finished_feature_spacing" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="maximum_feature_size_requirement" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="minimum_aspect_ratio" optional="YES">
            <builtintype type="REAL" fixed="NO"/>
         </explicit>
         <derived name="described_element" expression="SELF">
            <typename name="Stratum_technology"/>
            <redeclaration entity-ref="Item_shape"/>
         </derived>
         <derived name="specification" expression="get_document_definition(SELF, 'specification', &#10;     'SPECIFICATION_DOCUMENT_ARM.PROCESS_SPECIFICATION')">
            <aggregate type="SET" lower="0" upper="1" unique="NO" optional="NO"/>
            <typename name="Document_definition"/>
         </derived>
         <derived name="surface_specification" expression="get_document_definition(SELF, 'surface specification', &#10;     'SPECIFICATION_DOCUMENT_ARM.SURFACE_FINISH_SPECIFICATION')">
            <aggregate type="SET" lower="0" upper="1" unique="NO" optional="NO"/>
            <typename name="Document_definition"/>
         </derived>
         <inverse name="stratum_material" entity="Material_identification" attribute="items">
            <inverse.aggregate type="SET" lower="1" upper="1"/>
         </inverse>
         <inverse name="surface_technology" entity="Stratum_surface_technology" attribute="associated_technology">
            <inverse.aggregate type="SET" lower="0" upper="2"/>
         </inverse>
         <unique label="UR1">
            <unique.attribute entity-ref="Characterizable_object" attribute="name"/>
         </unique>
         <where label="WR1" expression="NOT (layer_position = layer_position_type.primary) OR ('FABRICATION_TECHNOLOGY_ARM.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF))"/>
         <where label="WR2" expression="NOT (layer_position = layer_position_type.secondary) OR ('FABRICATION_TECHNOLOGY_ARM.DESIGN_LAYER_TECHNOLOGY' IN TYPEOF(SELF))"/>
         <where label="WR3" expression="'CONDUCTIVITY_MATERIAL_ASPECTS_ARM.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (stratum_material)"/>
         <where label="WR4" expression="NOT((SIZEOF(surface_technology) &gt; 0 ) AND (SIZEOF(surface_specification) = 1))"/>
      </entity>
      <entity name="Stratum_technology_occurrence" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="name" optional="NO">
            <builtintype type="STRING" fixed="NO"/>
         </explicit>
         <explicit name="definition" optional="NO">
            <typename name="Stratum_technology"/>
         </explicit>
         <explicit name="primary" optional="YES">
            <typename name="Stratum_surface_technology"/>
         </explicit>
         <explicit name="rotation" optional="YES">
            <typename name="Angle_data_element"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="name"/>
         </unique>
      </entity>
      <entity name="Stratum_technology_occurrence_feature_constraint" supertypes="Stratum_technology_occurrence_relationship" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="difference_distance" optional="YES">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="intersection_distance" optional="YES">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="distance_unit" optional="YES">
            <typename name="Length_unit"/>
         </explicit>
         <where label="WR1" expression="NOT (EXISTS (difference_distance) OR EXISTS(intersection_distance)) XOR&#10;           EXISTS(distance_unit)"/>
      </entity>
      <entity name="Stratum_technology_occurrence_link" supertypes="Stratum_technology_occurrence_relationship" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="base_stratum_technology_occurrence" optional="YES">
            <typename name="up_or_down"/>
         </explicit>
         <where label="WR1" expression="NOT (SELF\Stratum_technology_occurrence_relationship.sto_1 :=: SELF\Stratum_technology_occurrence_relationship.sto_2) OR &#10;                (SIZEOF(SELF\Stratum_technology_occurrence_relationship.scope\Stratum_stack_model.composing_link) = 1)"/>
      </entity>
      <entity name="Stratum_technology_occurrence_relationship" abstract.supertype="YES" super.expression="ONEOF (Derived_stratum_technology_occurrence_relationship, Stratum_technology_occurrence_link, Stratum_technology_occurrence_swap_relationship, Stratum_technology_occurrence_feature_constraint)" abstract.entity="NO">
         <explicit name="sto_1" optional="NO">
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <explicit name="sto_2" optional="NO">
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <explicit name="scope" optional="NO">
            <typename name="Stratum_stack_model"/>
         </explicit>
         <where label="WR1" expression="acyclic_stratum_technology_occurrence_relationship(SELF, [sto_2], &#10;           'FABRICATION_TECHNOLOGY_ARM.STRATUM_TECHNOLOGY_OCCURRENCE_RELATIONSHIP')"/>
      </entity>
      <entity name="Stratum_technology_occurrence_swap_relationship" supertypes="Stratum_technology_occurrence_relationship" abstract.supertype="NO" abstract.entity="NO">
         <unique label="UR1">
            <unique.attribute entity-ref="Stratum_technology_occurrence_relationship" attribute="sto_1"/>
            <unique.attribute entity-ref="Stratum_technology_occurrence_relationship" attribute="scope"/>
         </unique>
         <unique label="UR2">
            <unique.attribute entity-ref="Stratum_technology_occurrence_relationship" attribute="sto_2"/>
            <unique.attribute entity-ref="Stratum_technology_occurrence_relationship" attribute="scope"/>
         </unique>
         <where label="WR1" expression="SELF\Stratum_technology_occurrence_relationship.sto_1 &lt;&gt; SELF\Stratum_technology_occurrence_relationship.sto_2"/>
         <where label="WR2" expression="(SELF\Stratum_technology_occurrence_relationship.sto_1 IN SELF\Stratum_technology_occurrence_relationship.scope\Stratum_stack_model.composing_occurrence) AND&#10;         (SELF\Stratum_technology_occurrence_relationship.sto_2 IN SELF\Stratum_technology_occurrence_relationship.scope\Stratum_stack_model.composing_occurrence)"/>
      </entity>
      <entity name="Stratum_technology_swap_relationship" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="primary_stratum_technology" optional="NO">
            <typename name="Stratum_technology"/>
         </explicit>
         <explicit name="secondary_stratum_technology" optional="NO">
            <typename name="Stratum_technology"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="primary_stratum_technology"/>
         </unique>
         <unique label="UR2">
            <unique.attribute attribute="secondary_stratum_technology"/>
         </unique>
         <where label="WR1" expression="NOT (('FABRICATION_TECHNOLOGY_ARM.DOCUMENTATION_LAYER_TECHNOLOGY' IN TYPEOF(primary_stratum_technology)) AND&#10;              EXISTS(primary_stratum_technology\Documentation_layer_technology.pre_defined_documentation_layer_purpose))&#10;          OR&#10;          (primary_stratum_technology\Documentation_layer_technology.pre_defined_documentation_layer_purpose =&#10;           secondary_stratum_technology\Documentation_layer_technology.pre_defined_documentation_layer_purpose)"/>
         <where label="WR2" expression="TYPEOF(primary_stratum_technology) = TYPEOF(secondary_stratum_technology)"/>
         <where label="WR3" expression="primary_stratum_technology\Stratum_technology.layer_position = layer_position_type.primary"/>
         <where label="WR4" expression="secondary_stratum_technology\Stratum_technology.layer_position = layer_position_type.secondary"/>
         <where label="WR5" expression="primary_stratum_technology &lt;&gt; secondary_stratum_technology"/>
         <where label="WR6" expression="acyclic_stratum_technology_swap_relationship(SELF,&#10;        [secondary_stratum_technology], &#10;       'FABRICATION_TECHNOLOGY_ARM.STRATUM_TECHNOLOGY_SWAP_RELATIONSHIP')"/>
      </entity>
      <entity name="Unsupported_passage_template" supertypes="Continuous_template Inter_stratum_feature_template" super.expression="ONEOF (Counterbore_passage_template, Countersunk_passage_template, Blind_passage_template)" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="of_passage_technology" optional="NO">
            <typename name="Default_unsupported_passage_definition"/>
            <redeclaration entity-ref="Inter_stratum_feature_template"/>
         </explicit>
      </entity>
      <entity name="Via_template" supertypes="Continuous_template Inter_stratum_feature_template" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="of_passage_technology" optional="NO">
            <typename name="Default_via_definition"/>
            <redeclaration entity-ref="Inter_stratum_feature_template"/>
         </explicit>
         <inverse name="access_mechanisms" entity="Via_template_terminal" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="0" upper="?"/>
         </inverse>
      </entity>
      <entity name="Via_template_terminal" supertypes="Shape_feature" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="associated_definition" optional="NO">
            <typename name="Via_template"/>
            <redeclaration entity-ref="Shape_element" old_name="containing_shape"/>
         </explicit>
         <explicit name="disallowed_inter_stratum_extent" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Stratum_technology_occurrence_link"/>
         </explicit>
         <explicit name="connection_area" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Connection_zone_in_layout_template"/>
            <redeclaration entity-ref="Shape_feature"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute entity-ref="Shape_feature" attribute="element_name"/>
            <unique.attribute attribute="associated_definition"/>
         </unique>
         <where label="WR1" expression="NOT EXISTS(SELF\Shape_element.description)"/>
      </entity>
      <subtype.constraint name="ft_shape_feature_subtypes" entity="Shape_feature" super.expression="ONEOF (Via_template_terminal, Component_termination_passage_template_terminal, Land_template_terminal)" abstract.supertype="NO"/>
      <subtype.constraint name="ft_template_definition_subtypes" entity="Template_definition" super.expression="ONEOF (Geometric_template, Single_stratum_template, Stratum_stack_model)" abstract.supertype="NO"/>
      <rule name="unique_land_physical_template" appliesto="Land_physical_template">
         <algorithm>LOCAL
      esi : BAG OF External_source_identification := [];
      iid : BAG OF String := [];
      itype : BAG OF String := [];
    END_LOCAL;
    REPEAT i := 1 to SIZEOF(Land_physical_template) by 1;
      esi  := esi + Land_physical_template[i].pre_defined_classification_code[1];
      iid := iid + Land_physical_template[i].pre_defined_classification_code[1]\External_source_identification.source_id;
      itype := itype + Land_physical_template[i].pre_defined_classification_code[1]\External_source_identification.source_type;
    END_REPEAT;</algorithm>
         <where label="WR1" expression="(SIZEOF(esi) = SIZEOF(bag_to_set(esi))) AND&#10;           (SIZEOF(iid) = SIZEOF(bag_to_set(iid))) AND&#10;           (1 = SIZEOF(bag_to_set(itype)))"/>
      </rule>
      <function name="acyclic_stratum_technology_occurrence_relationship">
         <parameter name="relation">
            <typename name="Stratum_technology_occurrence_relationship"/>
         </parameter>
         <parameter name="relatives">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Stratum_technology_occurrence"/>
         </parameter>
         <parameter name="specific_relation">
            <builtintype type="STRING" fixed="NO"/>
         </parameter>
         <builtintype type="BOOLEAN" fixed="NO"/>
         <algorithm>LOCAL
     x : SET OF Stratum_technology_occurrence_relationship := [];
  END_LOCAL;
    IF relation.sto_1 IN relatives THEN
      RETURN (FALSE);
    END_IF;
    x := QUERY(pd &lt;* bag_to_set(USEDIN(relation.sto_1,
      'FABRICATION_TECHNOLOGY_ARM.' +
      'STRATUM_TECHNOLOGY_OCCURRENCE_RELATIONSHIP.' +
      'STO_2')) | specific_relation IN TYPEOF(pd));
    REPEAT i := 1 TO HIINDEX(x);
      IF NOT acyclic_Stratum_technology_occurrence_relationship(x[i], relatives +
        relation.sto_1, specific_relation) THEN
        RETURN (FALSE);
      END_IF;
    END_REPEAT;
    RETURN (TRUE);</algorithm>
      </function>
      <function name="acyclic_stratum_technology_swap_relationship">
         <parameter name="relation">
            <typename name="Stratum_technology_swap_relationship"/>
         </parameter>
         <parameter name="relatives">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Stratum_technology"/>
         </parameter>
         <parameter name="specific_relation">
            <builtintype type="STRING" fixed="NO"/>
         </parameter>
         <builtintype type="BOOLEAN" fixed="NO"/>
         <algorithm>LOCAL
     x : SET OF Stratum_technology_swap_relationship := [];
  END_LOCAL;

    IF relation.primary_stratum_technology IN relatives THEN
      RETURN (FALSE);
    END_IF;
    x := QUERY(pd &lt;* bag_to_set(USEDIN(relation.primary_stratum_technology,
      'FABRICATION_TECHNOLOGY_ARM.' +
      'STRATUM_TECHNOLOGY_SWAP_RELATIONSHIP.' +
      'SECONDARY_STRATUM_TECHNOLOGY')) | specific_relation IN TYPEOF(pd));
    REPEAT i := 1 TO HIINDEX(x);
      IF NOT acyclic_stratum_technology_swap_relationship(x[i], relatives +
        relation.primary_stratum_technology, specific_relation) THEN
        RETURN (FALSE);
      END_IF;
    END_REPEAT;
    RETURN (TRUE);</algorithm>
      </function>
      <function name="ft_get_zone_name">
         <parameter name="input">
            <aggregate type="SET" lower="0" upper="?" unique="NO" optional="NO"/>
            <typename name="Connection_zone_in_layout_template"/>
         </parameter>
         <aggregate type="SET" lower="0" upper="?" unique="NO" optional="NO"/>
         <builtintype type="STRING" fixed="NO"/>
         <algorithm>LOCAL
      s : SET OF STRING := [];
    END_LOCAL;
    REPEAT  i := 1 TO SIZEOF(input) BY 1;
      s := s + input[i]\Characterizable_object.name;
    END_REPEAT;
    RETURN(s);</algorithm>
      </function>
      <function name="get_electrical_conductivity">
         <parameter name="mi">
            <aggregate type="SET" lower="0" upper="?" unique="NO" optional="NO"/>
            <typename name="Material_identification"/>
         </parameter>
         <builtintype type="BOOLEAN" fixed="NO"/>
         <algorithm>REPEAT i := 1 to SIZEOF(mi) by 1;
	  IF ('CONDUCTIVITY_MATERIAL_ASPECTS_ARM.'+'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' 
	  	IN TYPEOF (mi[i])) THEN
		  IF((EXISTS(mi[i].electrical_conductivity_classification)) AND 
		    (mi[i].electrical_conductivity_classification IN ['conductive', 'semi conductive', 'super conductive'])) THEN
	  		RETURN (TRUE);
	  	  END_IF;	
      END_IF;
	END_REPEAT;
	RETURN (FALSE);</algorithm>
      </function>
      <function name="get_stack">
         <parameter name="input">
            <aggregate type="SET" lower="0" upper="?" unique="NO" optional="NO"/>
            <typename name="Stratum_technology_occurrence_link"/>
         </parameter>
         <aggregate type="SET" lower="0" upper="?" unique="NO" optional="NO"/>
         <typename name="Stratum_technology_occurrence"/>
         <algorithm>LOCAL
      sto : SET OF Stratum_technology_occurrence := [];
      i : INTEGER := 0;
    END_LOCAL;
    REPEAT  i := 1 TO SIZEOF(input) BY 1;
      sto := sto + input[i]\Stratum_technology_occurrence_relationship.sto_1 + input[i]\Stratum_technology_occurrence_relationship.sto_2;
    END_REPEAT;
    RETURN(sto);</algorithm>
      </function>
      <function name="less">
         <parameter name="input1">
            <typename name="Length_tolerance_characteristic"/>
         </parameter>
         <parameter name="input2">
            <typename name="Length_tolerance_characteristic"/>
         </parameter>
         <builtintype type="BOOLEAN" fixed="NO"/>
         <algorithm>RETURN(TRUE);</algorithm>
      </function>
   </schema>
</express>
