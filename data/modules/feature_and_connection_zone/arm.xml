<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" description.file="arm_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="feature_and_connection_zone_arm schema_instance"/>
   <schema name="Feature_and_connection_zone_arm">
      <interface kind="use" schema="Shape_feature_arm"/>
      <interface kind="use" schema="Surface_conditions_arm"/>
      <interface kind="reference" schema="Characterizable_object_arm">
         <interfaced.item name="bag_to_set"/>
      </interface>
      <entity name="Connection_zone" abstract.supertype="YES" supertypes="Shape_feature_occurrence" abstract.entity="NO">
         <derived name="surface_conditions" expression="bag_to_set(USEDIN(SELF,'SURFACE_CONDITIONS_ARM.SURFACE_CONDITION_ASSOCIATION.DESCRIBED_ELEMENT'))">
            <aggregate type="SET" lower="0" upper="?" unique="NO" optional="NO"/>
            <typename name="Surface_condition"/>
         </derived>
         <where label="WR1" expression="(SIZEOF(USEDIN(SELF, 'FEATURE_AND_CONNECTION_ZONE_ARM.FEATURE_DEFINITION_WITH_CONNECTION_AREA.CONNECTION_AREA')) +&#10;             SIZEOF(USEDIN(SELF, 'FEATURE_AND_CONNECTION_ZONE_ARM.SHAPE_FEATURE.CONNECTION_AREA')))&#10;            = 1"/>
         <where label="WR2" expression="NOT EXISTS (SELF\Shape_element.description)"/>
         <where label="WR3" expression="NOT EXISTS (SELF\Shape_element.element_name)"/>
      <where label="IP1"/>
         <where label="IP2"/>
         <where label="IP3"/>
      </entity>
      <entity name="Feature_definition_with_connection_area" supertypes="Shape_feature_definition" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="connection_area" optional="NO">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Connection_zone"/>
         </explicit>
      </entity>
      <entity name="Location_shape_model" supertypes="Geometric_model" abstract.supertype="NO" abstract.entity="NO"/>
      <entity name="Shape_feature" abstract.supertype="YES" supertypes="Shape_element" abstract.entity="NO">
         <explicit name="connection_area" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Connection_zone"/>
         </explicit>
         <explicit name="element_name" optional="NO">
            <builtintype type="STRING" fixed="NO"/>
            <redeclaration entity-ref="Shape_element"/>
         </explicit>
         <derived name="surface_conditions" expression="bag_to_set(USEDIN(SELF,'SURFACE_CONDITIONS_ARM.SURFACE_CONDITION_ASSOCIATION.DESCRIBED_ELEMENT'))">
            <aggregate type="SET" lower="0" upper="?" unique="NO" optional="NO"/>
            <typename name="Surface_condition"/>
         </derived>
         <unique label="UR1">
            <unique.attribute attribute="element_name"/>
            <unique.attribute entity-ref="Shape_element" attribute="containing_shape"/>
         </unique>
      </entity>
   </schema>
</express>
