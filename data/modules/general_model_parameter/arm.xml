<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: arm.xml,v 1.9 2006/03/22 18:56:35 dmprice Exp $ -->
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<?xml-stylesheet type="text/xsl"
href="../../../xsl/express.xsl" ?>
<express
   language_version="2"
   rcs.date="$Date: 2006/03/22 18:56:35 $"
   rcs.revision="$Revision: 1.9 $"
	 description.file="arm_descriptions.xml">
   <schema name="General_model_parameter_arm">
    <interface
      kind="use"
      schema="Class_arm">
    </interface>
    <interface
      kind="use"
      schema="Classification_assignment_arm">
    </interface>
    <interface
      kind="use"
      schema="External_class_arm">
    </interface>
    <interface
      kind="use"
      schema="Foundation_representation_arm">
    </interface>
    <interface
      kind="use"
      schema="Independent_property_arm">
    </interface>
    <interface
      kind="use"
      schema="Independent_property_representation_arm">
    </interface>
    <interface
      kind="use"
      schema="Parameter_value_specification_arm">
    </interface>
    <interface
      kind="use"
      schema="Property_assignment_arm">
    </interface>
    <type name="gmp_classification_item"> 
      <select
         basedon="classification_item"
        selectitems="Constrained_general_parameter_relationship General_model_parameter Parameter_value_representation_item"/>
      <graphic.element
        page="3"
        xcoord="361"
        ycoord="481"/>
    </type>

    <entity
      name="Constrained_general_parameter_relationship"
      supertypes="Independent_property_relationship"      >

      <explicit
        name="relating">
        <typename name="General_model_parameter"/>
        <redeclaration
          entity-ref="Independent_property_relationship"/>
      </explicit>
      <explicit
        name="related">
        <typename name="General_model_parameter"/>
        <redeclaration
          entity-ref="Independent_property_relationship"/>
      </explicit>
      <explicit
        name="required_class">
        <typename name="Class"/>
      </explicit>
      <where
        label="WR1"
        expression="(required_class.id IN CLASSOF(related)) AND (required_class.id IN CLASSOF(relating))">
      </where>
      <graphic.element
        page="3"
        xcoord="459"
        ycoord="676"/>
    </entity>

    <entity
      name="General_model_parameter"
      supertypes="Independent_property"      >

      <graphic.element
        page="3"
        xcoord="99"
        ycoord="666"/>
    </entity>

    <entity
      name="Parameter_value_representation_item"
      supertypes="Representation_item"      >

      <explicit
        name="parameter_value">
        <typename name="parameter_value_select"/>
      </explicit>
      <graphic.element
        page="3"
        xcoord="116"
        ycoord="418"/>
    </entity>

			   <function name="CLASSOF">
      <parameter name="the_instance">
        <builtintype type="GENERIC_ENTITY" typelabel="ininst"  />
      </parameter>
      <aggregate type="SET"  />
      <builtintype type="STRING"  />
      <algorithm>
  LOCAL
    result : SET OF STRING;
    classifications : BAG OF Classification_assignment;
  END_LOCAL;

  result := TYPEOF(the_instance);
  classifications := USEDIN(the_instance,'GENERAL_MODEL_PARAMETER_ARM.CLASSIFICATION_ASSIGNMENT.ITEMS');

  REPEAT i := LOINDEX(classifications) TO HIINDEX(classifications);
    result := result + classifications[i].ASSIGNED_CLASS.ID;
  END_REPEAT;

  RETURN (result);
	</algorithm>
    </function>

		
    <graphic.element
      page="1"
      xcoord="205"
      ycoord="758"/>
			
			
  </schema>
</express>
