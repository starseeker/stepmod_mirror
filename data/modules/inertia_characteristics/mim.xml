<?xml version='1.0' encoding='UTF-8'?>
<!-- $Id: express2xml2.js,v 1.7 2003/07/21 19:20:47 thendrix Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  description.file="mim_descriptions.xml"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml2.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.7"
    source="../data/modules/inertia_characteristics/mim.exp"/>

  <schema name="Inertia_characteristics_mim">

    <interface
      kind="use"
      schema="Elemental_geometric_shape_mim">
    </interface>
    <interface
      kind="use"
      schema="Shape_property_assignment_mim">
    </interface>
    <interface
      kind="use"
      schema="Value_with_unit_mim">
    </interface>
    <interface
      kind="use"
      schema="representation_schema">
      <interfaced.item
        name="compound_representation_item"/>
      <interfaced.item
        name="list_representation_item"/>
    </interface>
    <entity
      name="moments_of_inertia_representation"
      supertypes="representation">
      <where
        label="WR1"
        expression="(SIZEOF(SELF.items) = 1) AND(SIZEOF(QUERY(i &lt;* SELF.items | ('INERTIA_CHARACTERISTICS_MIM' + '.COMPOUND_REPRESENTATION_ITEM' IN TYPEOF(i)) AND(i.name = 'moments of inertia matrix'))) = 1)">
      </where>
      <where
        label="WR2"
        expression="SIZEOF(QUERY(i &lt;* SELF.items | ('INERTIA_CHARACTERISTICS_MIM' + '.COMPOUND_REPRESENTATION_ITEM' IN TYPEOF(i)) AND('INERTIA_CHARACTERISTICS_MIM' + '.LIST_REPRESENTATION_ITEM' IN TYPEOF(i\compound_representation_item.item_element)) AND value_range_aggregate_rep_item (i\compound_representation_item.item_element))) = 1">
      </where>
    </entity>

    <rule
      name="restrict_centre_of_mass_representation"
      appliesto="representation">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (r &lt;* representation |(r.name ='centre of mass') AND((SIZEOF (r.items) &lt;&gt;1) OR(SIZEOF (QUERY (i &lt;* r.items |('INERTIA_CHARACTERISTICS_MIM' + '.POINT' IN TYPEOF (i)) AND(i.name = 'centre point'))) &lt;&gt;1))))=0">
      </where>
    </rule>

    <function
      name="value_range_aggregate_rep_item">
      <parameter
        name="agg">
        <aggregate
          type="AGGREGATE"/>
        <typename
          name="representation_item"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>
BEGIN
IF (SIZEOF(QUERY(i1 &lt;* agg | ('INERTIA_CHARACTERISTICS_MIM' + '.MEASURE_REPRESENTATION_ITEM' IN TYPEOF(i1)))) = 6) THEN
RETURN (TRUE);
ELSE
RETURN (FALSE);
END_IF;
END;
      </algorithm>
    </function>

  </schema>
</express>
