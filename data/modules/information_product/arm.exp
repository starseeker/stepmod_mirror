(*
   $Id: arm.exp,v 1.41 2004/10/11 20:17:49 thendrix Exp $
   N - ISO/CD-TS - 10303- Information product - EXPRESS ARM
*)

SCHEMA Information_product_arm;

USE FROM Product_view_definition_arm (Product_view_definition);    --  ISO/TS 10303-xxxx
USE FROM Product_identification_arm;    --  ISO/TS 10303-1017
USE FROM Product_version_arm;    --  ISO/TS 10303-1018
USE FROM File_identification_arm;	--  ISO/TS 10303-1127

ENTITY Digital_information_product_definition
    SUBTYPE OF (Information_product_definition);
    files : SET [0:?] OF Digital_file;
END_ENTITY;

(* Note: further specializations are needed *)
ENTITY Information_product
  ABSTRACT SUPERTYPE 
  	SUBTYPE OF (Product);
END_ENTITY;

ENTITY Information_product_version
  SUBTYPE OF (Product_version);
  SELF\Product_version.of_product : Information_product;
END_ENTITY;

ENTITY Information_product_definition
  SUBTYPE OF (Product_view_definition);
  SELF\Product_view_definition.defined_version : Information_product_version;
END_ENTITY;

(*
Every Product_version referencing an Information_product is a
Information_product_version. EXPRESS specification:
*)
RULE Information_product_version_constraint FOR
(Product_version);
WHERE
  WR1: SIZEOF ( QUERY ( pv <* Product_version | ( NOT (
  'INFORMATION_PRODUCT_ARM.' + 'INFORMATION_PRODUCT_VERSION' IN TYPEOF
  ( pv) ) ) AND ( 'INFORMATION_PRODUCT_ARM.' + 'INFORMATION_PRODUCT' IN TYPEOF (
pv.of_product) ) ) ) =0 ;
END_RULE; 

END_SCHEMA;
