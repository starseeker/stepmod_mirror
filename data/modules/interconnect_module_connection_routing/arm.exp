(*
   $Id: arm.exp,v 1.7 2004/12/16 10:25:43 liutkus Exp $
   ISO TC184/SC4/WG12 N - ISO/CD-TS 10303-xxxx Interconnect module connection routing - EXPRESS ARM
*)

SCHEMA Interconnect_module_connection_routing_arm;

USE FROM Layered_interconnect_module_with_design_intend_modifications_arm;

USE FROM Fabrication_joint_arm;

USE FROM Functional_design_elaboration_arm;

USE FROM Interconnect_module_with_macros_arm;

	TYPE imcr_termination_or_junction = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON termination_or_junction WITH 	
    	(Inter_stratum_join_relationship,
     	Explicitly_located_layer_connection_point,
    	Topological_junction);
  	END_TYPE;

	SUBTYPE_CONSTRAINT layer_connection_point_subtypes FOR layer_connection_point; 
		(ONEOF (explicitly_located_layer_connection_point,
		 dependently_located_layer_connection_point));
	END_SUBTYPE_CONSTRAINT; 
	
 	TYPE terminal_or_inter_stratum_feature = SELECT(
 		Embedded_component_terminal,
		Inter_stratum_feature,
		Interconnect_module_macro_component_join_terminal,
     	Interconnect_module_terminal,
     	Printed_component_join_terminal);
	END_TYPE;

 	TYPE trace_junction_or_via = EXTENSIBLE GENERIC_ENTITY SELECT;
	END_TYPE;
 
  ENTITY Dependently_located_layer_connection_point
    SUBTYPE OF (Layer_connection_point);
      associated_design_object : terminal_or_inter_stratum_feature;
      reference_zone           : OPTIONAL connection_zone_in_design_view;
  END_ENTITY; -- dependently_located_layer_connection_point

  ENTITY Dielectric_crossover_area
    SUBTYPE OF (stratum_concept_relationship);
      related_concept                : stratum_feature;
      relating_concept               : stratum_feature;
      resulting_dielectric_crossover : stratum_feature;
  END_ENTITY; -- dielectric_crossover_area

  ENTITY Direct_stratum_component_join_implementation;
      implementing_joint      : fabrication_joint;
      topological_requirement : stratum_embedded_component_join_relationship;
  END_ENTITY; -- direct_stratum_component_join_implementation

  ENTITY Explicitly_located_layer_connection_point
    SUBTYPE OF (Layer_connection_point);
  END_ENTITY; -- explicitly_located_layer_connection_point

  ENTITY Indirect_stratum_component_join_implementation
    SUBTYPE OF (plated_inter_stratum_feature);
      indirect_topological_requirement : stratum_embedded_component_join_relationship;
      implementing_joint               : fabrication_joint;
    UNIQUE
      UR1 : indirect_topological_requirement,
 implementing_joint;
  END_ENTITY; -- indirect_stratum_component_join_implementation

  ENTITY Inter_stratum_join_implementation
    ABSTRACT SUPERTYPE OF (ONEOF (physical_network_supporting_stratum_feature_conductive_join,
 physical_network_supporting_inter_stratum_feature));
      topological_requirement : inter_stratum_join_relationship;
  END_ENTITY; -- inter_stratum_join_implementation

  ENTITY Join_two_physical_connectivity_definition_supporting_inter_stratum_feature
    SUBTYPE OF (physical_network_supporting_inter_stratum_feature);
      joined_definitions : SET[2:2] OF physical_connectivity_definition;
  END_ENTITY; -- join_two_physical_connectivity_definition_supporting_inter_stratum_feature

  ENTITY Junction_vertex_allocation;
      implementation_point : trace_junction_or_via;
      required_vertex      : topological_junction;
    UNIQUE
      UR1 : required_vertex;
  END_ENTITY; -- junction_vertex_allocation

  ENTITY Physical_connectivity_abstraction_map;
      name_space_context_based_definition : physical_connectivity_element;
      geometric_context_based_definition  : conductive_interconnect_element;
    UNIQUE
      UR1 : name_space_context_based_definition,
 geometric_context_based_definition;
  END_ENTITY; -- physical_connectivity_abstraction_map

  ENTITY Physical_network_supporting_inter_stratum_feature
    SUPERTYPE OF (join_two_physical_connectivity_definition_supporting_inter_stratum_feature)
    SUBTYPE OF (plated_inter_stratum_feature,
 inter_stratum_join_implementation);
  END_ENTITY; -- physical_network_supporting_inter_stratum_feature

  ENTITY Physical_network_supporting_stratum_feature_conductive_join
    SUBTYPE OF (stratum_feature_conductive_join,
 inter_stratum_join_implementation);
  END_ENTITY; -- physical_network_supporting_stratum_feature_conductive_join

  ENTITY Stratum_feature_conductive_join
    SUPERTYPE OF (physical_network_supporting_stratum_feature_conductive_join)
    SUBTYPE OF (stratum_concept_relationship);
      related_concept  : stratum_feature_template_component;
      relating_concept : stratum_feature_template_component;
    WHERE
      WR1 : related_concept.stratum_feature_implementation.resident_stratum :<>: relating_concept.stratum_feature_implementation.resident_stratum;
  END_ENTITY; -- stratum_feature_conductive_join

  ENTITY Topological_junction;
      name  : STRING; --ee_name;  
      scope : physical_connectivity_structure_definition;
    UNIQUE
      UR1 : name,
 scope;
  END_ENTITY; -- topological_junction

	SUBTYPE_CONSTRAINT Stratum_concept_relationship_subtypes FOR Stratum_concept_relationship;     
 		(ONEOF (stratum_feature_conductive_join,
 		dielectric_crossover_area));
	END_SUBTYPE_CONSTRAINT;

END_SCHEMA; -- Interconnect_module_connection_routing_arm
