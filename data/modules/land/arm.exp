(*
	$Id: arm.exp,v 1.24 2005/10/17 17:06:09 thomasrthurman Exp $
   ISO TC184/SC4/WG12 N3465 - ISO/CD-TS 10303-1692 Land - EXPRESS ARM
*)

SCHEMA Land_arm;

	USE FROM Layered_interconnect_module_design_arm;	-- ISO/TS 10303-1698

	SUBTYPE_CONSTRAINT l_laminate_component_interface_terminal_subtypes FOR Laminate_component_interface_terminal; 
		 (ONEOF (Component_termination_passage_interface_terminal,
		 Land_interface_terminal));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT l_laminate_component_join_terminal_subtypes FOR Laminate_component_join_terminal; 
		 (ONEOF (Component_termination_passage_join_terminal,
		 Land_join_terminal,
		 Embedded_physical_component_terminal));
	END_SUBTYPE_CONSTRAINT;

	SUBTYPE_CONSTRAINT stratum_feature_template_component_subtypes FOR Stratum_feature_template_component;   
		(ONEOF (Connected_area_component,
		Land));
	END_SUBTYPE_CONSTRAINT;

  ENTITY Component_termination_passage_and_contact_size_dependent_land
    SUBTYPE OF (Land);
      SELF\Definition_based_product_occurrence.derived_from : Default_attachment_size_and_component_termination_passage_based_land_physical_template;
      reference_passage                        : Component_termination_passage;
    INVERSE
      interface_access_mechanism : land_interface_terminal FOR associated_component;
  END_ENTITY;

  ENTITY Component_termination_passage_dependent_land
    SUBTYPE OF (Land);
      reference_passage                        : Component_termination_passage;
      SELF\Definition_based_product_occurrence.derived_from : Default_component_termination_passage_based_land_physical_template;
  END_ENTITY;

  ENTITY Contact_size_dependent_land
    SUBTYPE OF (Land);
      SELF\Definition_based_product_occurrence.derived_from : Default_attachment_size_based_land_physical_template;
  END_ENTITY;

  ENTITY Land
    SUPERTYPE OF (ONEOF (Via_dependent_land,
 Component_termination_passage_dependent_land,
 Contact_size_dependent_land,
 Component_termination_passage_and_contact_size_dependent_land,
 Unsupported_passage_dependent_land,
 Via_and_contact_size_dependent_land))
    SUBTYPE OF (Stratum_feature_template_component);
      alternate_land_definition                : OPTIONAL Land_physical_template;
      SELF\Definition_based_product_occurrence.derived_from : Land_physical_template;
    DERIVE
      functional : BOOLEAN := is_functional_land(SELF);
    INVERSE
      access_mechanism : SET[1:?] OF land_join_terminal FOR associated_component;
  END_ENTITY;

  ENTITY Land_interface_terminal
    SUBTYPE OF (Laminate_component_interface_terminal);
      SELF\Component_feature.definition           : Land_template_interface_terminal;
      SELF\Component_feature.associated_component : Land;
    DERIVE
      SELF\Shape_element.description : STRING := '';
    WHERE
      WR1 : SIZEOF(['LAND_ARM.CONTACT_SIZE_DEPENDENT_LAND',
 'LAND_ARM.COMPONENT_TERMINATION_PASSAGE_AND_CONTACT_SIZE_DEPENDENT_LAND',
 'LAND_ARM.VIA_AND_CONTACT_SIZE_DEPENDENT_LAND'] * TYPEOF(SELF\Component_feature.associated_component)) = 1;
  END_ENTITY;

  ENTITY Land_join_terminal
    SUBTYPE OF (Laminate_component_join_terminal);
      SELF\Component_feature.definition           : Land_template_join_terminal;
      SELF\Component_feature.associated_component : Land;
    DERIVE
      SELF\Shape_element.description : STRING := '';
  END_ENTITY;

ENTITY Plated_passage_dependent_land
  SUBTYPE OF (Land);
    reference_plated_passage                 : Plated_passage;
    SELF\Assembly_component.derived_from : 
          Default_plated_passage_based_land_physical_template;
END_ENTITY;

  ENTITY Unsupported_passage_dependent_land
    SUBTYPE OF (Land);
      reference_passage                        : Unsupported_passage;
      SELF\Definition_based_product_occurrence.derived_from : Default_unsupported_passage_based_land_physical_template;
  END_ENTITY;

  ENTITY Via_and_contact_size_dependent_land
    SUBTYPE OF (Land);
      SELF\Definition_based_product_occurrence.derived_from : Default_attachment_size_and_via_based_land_physical_template;
      reference_via                            : Via;
    INVERSE
      interface_access_mechanism : land_interface_terminal FOR associated_component;
  END_ENTITY;

  ENTITY Via_dependent_land
    SUBTYPE OF (Land);
      reference_via                            : Via;
      SELF\Definition_based_product_occurrence.derived_from : Default_via_based_land_physical_template;
  END_ENTITY;

  FUNCTION is_functional_land(input : Land): BOOLEAN;
    RETURN (TRUE);
  END_FUNCTION;

END_SCHEMA;
