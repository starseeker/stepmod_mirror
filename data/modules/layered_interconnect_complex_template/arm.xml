<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express description.file="arm_descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="ISO/TS 10303-1716">
   <application name="JSDAI" owner="LKSoft" source="layered_interconnect_complex_template_arm schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="Layered_interconnect_complex_template_arm">
      <interface kind="use" schema="Layered_interconnect_simple_template_arm"/>
      <interface kind="use" schema="Physical_unit_2d_shape_arm"/>
      <interface kind="reference" schema="Requirement_decomposition_arm">
         <interfaced.item name="get_rvd"/>
      </interface>
      <interface kind="reference" schema="Fabrication_technology_arm">
         <interfaced.item name="get_stack"/>
      </interface>
      <interface kind="reference" schema="Support_resource_arm">
         <interfaced.item name="bag_to_set"/>
      </interface>
      <type name="land_physical_template_or_inter_stratum_feature_template">
         <select extensible="NO" genericentity="NO" selectitems="Land_physical_template Inter_stratum_feature_template"/>
      </type>
      <type name="lict_part_template_or_physical_unit_2d_shape_select">
         <select basedon="part_template_or_physical_unit_2d_shape_select" extensible="NO" genericentity="NO" selectitems="Part_template_planar_shape_model"/>
      </type>
      <type name="lict_physical_unit_shape_model_select">
         <select basedon="physical_unit_shape_model_select" extensible="NO" genericentity="NO" selectitems="Physical_unit_planar_shape_model"/>
      </type>
      <type name="lict_requirement_assignment_item">
         <select basedon="requirement_assignment_item" extensible="NO" genericentity="NO" selectitems="Structured_template Template_location_in_structured_template Part_template_planar_keepout_shape_model"/>
      </type>
      <type name="location_stratum_technology_occurrence_or_stratum_technology">
         <select extensible="NO" genericentity="NO" selectitems="stratum_technology_occurrence_or_stratum_technology Template_location_in_structured_template"/>
      </type>
      <type name="stratum_technology_occurrence_or_stratum_technology">
         <select extensible="NO" genericentity="NO" selectitems="Stratum_technology_occurrence Stratum_technology"/>
      </type>
      <type name="template_arrangement">
         <enumeration extensible="NO" items="top bottom symmetrical swappable"/>
      </type>
      <type name="template_location_placement_status">
         <enumeration extensible="NO" items="is_fixed must_be_moved_in_design may_be_moved_in_design is_unknown"/>
      </type>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Complex_passage_padstack_definition" supertypes="Stratum_stack_dependent_template Passage_padstack_definition"/>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Dependent_electrical_isolation_removal_template" supertypes="Electrical_isolation_removal_template">
         <explicit name="associated_item" optional="NO">
            <typename name="land_physical_template_or_inter_stratum_feature_template"/>
         </explicit>
         <where expression="SIZEOF(QUERY (dtlipd &lt;* USEDIN(SELF,'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.TEMPLATE_LOCATION_IN_STRUCTURED_TEMPLATE.TEMPLATE') | &#10;                  NOT(&#10;                     (SIZEOF(QUERY (tlist &lt;* USEDIN(associated_item,'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.TEMPLATE_LOCATION_IN_STRUCTURED_TEMPLATE.TEMPLATE') | &#10;                             NOT(&#10;                                 (tlist\Template_location_in_structured_template.assembly :=: &#10;                                  dtlipd\Template_location_in_structured_template.assembly) AND&#10;                                 ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.DEPENDENT_TEMPLATE_LOCATION_IN_PADSTACK_DEFINITION' IN TYPEOF(dtlipd)) AND                                 &#10;                                 (tlist :=: dtlipd\Dependent_template_location_in_padstack_definition.reference_location)&#10;                                 )&#10;                      )) = 0)&#10;                      )&#10;             )) = 0" label="WR1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Dependent_template_location_in_padstack_definition" supertypes="Stratum_specific_template_location">
         <explicit name="reference_location" optional="NO">
            <typename name="location_stratum_technology_occurrence_or_stratum_technology"/>
         </explicit>
         <explicit name="assembly" optional="NO">
            <typename name="Multi_stratum_structured_template"/>
            <redeclaration entity-ref="Template_location_in_structured_template"/>
         </explicit>
         <where expression="SELF\Stratum_specific_template_location.bound_stratum :&lt;&gt;: reference_location" label="WR1"/>
         <where expression="SELF &lt;&gt; reference_location" label="WR2"/>
         <where expression="NOT('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.TEMPLATE_LOCATION_IN_STRUCTURED_TEMPLATE' IN TYPEOF(reference_location)) OR&#10;           (assembly :=: reference_location\Template_location_in_structured_template.assembly)" label="WR3"/>
         <where expression="NOT('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.STRATUM_STACK_DEPENDENT_TEMPLATE' IN TYPEOF(assembly)) OR&#10;           (reference_location IN assembly\Stratum_stack_dependent_template.stack\Stratum_stack_model.composing_occurrence)" label="WR4"/>
         <where expression="NOT('FABRICATION_TECHNOLOGY_ARM.STRATUM_TECHNOLOGY_OCCURRENCE' IN &#10;           TYPEOF(reference_location)) OR&#10;           ('FABRICATION_TECHNOLOGY_ARM.STRATUM_TECHNOLOGY_OCCURRENCE' IN &#10;           TYPEOF(SELF\Stratum_specific_template_location.bound_stratum))" label="WR5"/>
         <where expression="NOT('FABRICATION_TECHNOLOGY_ARM.STRATUM_TECHNOLOGY_OCCURRENCE' IN &#10;           TYPEOF(reference_location)) OR (SIZEOF &#10;           (['FABRICATION_TECHNOLOGY_ARM.STRATUM_STACK_DEPENDENT_TEMPLATE',&#10;           'FABRICATION_TECHNOLOGY_ARM.PASSAGE_PADSTACK_DEFINITION'] * TYPEOF&#10;           (assembly)) = 2)" label="WR6"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Dependent_thermal_isolation_removal_template" supertypes="Thermal_isolation_removal_template">
         <explicit name="associated_item" optional="NO">
            <typename name="Land_physical_template"/>
         </explicit>
         <where expression="SIZEOF(QUERY (dtlipd &lt;* USEDIN(SELF,'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.TEMPLATE_LOCATION_IN_STRUCTURED_TEMPLATE.TEMPLATE') | &#10;                  NOT(&#10;                     (SIZEOF(QUERY (tlist &lt;* USEDIN(associated_item,'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.TEMPLATE_LOCATION_IN_STRUCTURED_TEMPLATE.TEMPLATE') | &#10;                             NOT(&#10;                                 (tlist\Template_location_in_structured_template.assembly :=: &#10;                                  dtlipd\Template_location_in_structured_template.assembly) AND&#10;                                 ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.DEPENDENT_TEMPLATE_LOCATION_IN_PADSTACK_DEFINITION' IN TYPEOF(dtlipd)) AND                                 &#10;                                 (tlist :=: dtlipd\Dependent_template_location_in_padstack_definition.reference_location)&#10;                                 )&#10;                      )) = 0)&#10;                      )&#10;             )) = 0" label="WR1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Design_specific_stratum_technology_mapping_relationship" supertypes="Stratum_technology_mapping_relationship">
         <explicit name="scope" optional="NO">
            <typename name="Library_to_design_stack_model_mapping"/>
         </explicit>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Inter_stratum_feature_template_location" supertypes="Template_location_in_structured_template">
         <explicit name="assembly" optional="NO">
            <typename name="Multi_stratum_structured_template"/>
            <redeclaration entity-ref="Template_location_in_structured_template"/>
         </explicit>
         <explicit name="template" optional="NO">
            <typename name="Inter_stratum_feature_template"/>
            <redeclaration entity-ref="Template_location_in_structured_template"/>
         </explicit>
         <where expression="SIZEOF(['LAYERED_INTERCONNECT_SIMPLE_TEMPLATE_ARM.INTER_STRATUM_FEATURE_EDGE_SEGMENT_TEMPLATE',&#10;                   'LAYERED_INTERCONNECT_SIMPLE_TEMPLATE_ARM.INTER_STRATUM_FEATURE_EDGE_TEMPLATE'] * TYPEOF(template)) = 0" label="WR1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Library_stack_model" supertypes="Stratum_stack_model">
         <derived expression="bag_to_set(QUERY(p &lt;* USEDIN(SELF,&#10;        'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.STRATUM_STACK_DEPENDENT_TEMPLATE.STACK') | ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.PADSTACK_DEFINITION' IN TYPEOF(p))))" name="padstacks">
            <aggregate lower="0" optional="NO" type="SET" unique="NO" upper="?"/>
            <typename name="Padstack_definition"/>
         </derived>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Library_to_design_stack_model_mapping" supertypes="View_definition_relationship">
         <explicit name="relating_view" optional="NO">
            <typename name="Library_stack_model"/>
            <redeclaration entity-ref="View_definition_relationship"/>
         </explicit>
         <explicit name="related_view" optional="NO">
            <typename name="Design_stack_model"/>
            <redeclaration entity-ref="View_definition_relationship"/>
         </explicit>
         <where expression="((related_view\Stratum_stack_model.composing_occurrence *&#10;            relating_view\Stratum_stack_model.composing_occurrence) = &#10;            related_view\Stratum_stack_model.composing_occurrence)" label="WR1"/>
         <where expression="acyclic_library_to_design_stack_model_mapping(SELF, [related_view], &#10;           'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.LIBRARY_TO_DESIGN_STACK_MODEL_MAPPING')" label="WR2"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Material_removal_structured_template" supertypes="Single_stratum_structured_template">
         <where expression="SIZEOF(QUERY(tlict &lt;* SELF\Structured_template.templates |&#10;        SIZEOF(['LAYERED_INTERCONNECT_SIMPLE_TEMPLATE_ARM.MATERIAL_REMOVAL_FEATURE_TEMPLATE',&#10;        'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.MATERIAL_REMOVAL_STRUCTURED_TEMPLATE'] * TYPEOF(tlict.template)) = 0)) = 0" label="WR1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Multi_stratum_special_symbol_template" supertypes="Multi_stratum_structured_template Special_symbol_template"/>
      <entity abstract.entity="NO" abstract.supertype="YES" name="Multi_stratum_structured_template" super.expression="ONEOF (Padstack_definition, Multi_stratum_special_symbol_template) ANDOR Stratum_stack_dependent_template" supertypes="Structured_template">
         <explicit name="location" optional="NO">
            <typename name="template_arrangement"/>
         </explicit>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Padstack_definition" super.expression="Passage_padstack_definition" supertypes="Multi_stratum_structured_template">
         <where expression="NOT('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.PASSAGE_PADSTACK_DEFINITION' IN TYPEOF(SELF)) XOR &#10;          (SIZEOF(QUERY(tlict &lt;* SELF\Structured_template.templates |&#10;         ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.INTER_STRATUM_FEATURE_TEMPLATE_LOCATION' IN TYPEOF(tlict)))) &gt; 0)" label="WR1"/>
         <where expression="SIZEOF(QUERY(tlict &lt;* SELF\Structured_template.templates |&#10;         (NOT ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.INTER_STRATUM_FEATURE_TEMPLATE_LOCATION' IN TYPEOF(tlict))) AND&#10;          (NOT ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.STRATUM_SPECIFIC_TEMPLATE_LOCATION' IN TYPEOF(tlict))))) = 0" label="WR2"/>
      <where label="IP1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Part_template_keepout_shape_allocation_to_stratum_stack">
         <explicit name="keepout_shape" optional="NO">
            <typename name="Part_template_keepout_shape_model"/>
         </explicit>
         <explicit name="kept_out_layers" optional="NO">
            <aggregate lower="1" optional="NO" type="SET" unique="NO" upper="?"/>
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <derived expression="(keepout_shape.shape_characterized_definition\Multi_stratum_structured_template.location&#10;        = template_arrangement.swappable)" name="swappable">
            <builtintype fixed="NO" type="LOGICAL"/>
         </derived>
         <derived expression="keepout_shape.shape_characterized_definition\Stratum_stack_dependent_template.stack" name="stack_model">
            <typename name="Library_stack_model"/>
         </derived>
         <unique label="UR1">
            <unique.attribute attribute="keepout_shape"/>
            <unique.attribute attribute="stack_model"/>
         </unique>
         <where expression="keepout_shape.constrained_design_object_category&#10;       IN [keepout_product_design_object_category.interconnect_module_via,&#10;       keepout_product_design_object_category.interconnect_module_inter_stratum_feature,&#10;       keepout_product_design_object_category.interconnect_module_cutout,&#10;       keepout_product_design_object_category.interconnect_module_fill_area,&#10;       keepout_product_design_object_category.interconnect_module_stratum_feature]" label="WR1"/>
         <where expression="'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.STRATUM_STACK_DEPENDENT_TEMPLATE' IN TYPEOF(keepout_shape.shape_characterized_definition)" label="WR2"/>
         <where expression="kept_out_layers = kept_out_layers * stack_model\Stratum_stack_model.composing_occurrence" label="WR3"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Part_template_planar_keepout_shape_model" supertypes="Planar_shape_model Non_feature_shape_model Part_template_keepout_shape_model">
         <explicit name="model_shape" optional="NO">
            <typename name="Part_template_planar_shape_model"/>
            <redeclaration entity-ref="Non_feature_shape_model"/>
         </explicit>
         <derived expression="get_rvd(SELF, 'application technology constraint')" name="application_technology_constraint">
            <aggregate lower="0" optional="NO" type="SET" unique="NO" upper="?"/>
            <typename name="Requirement_view_definition"/>
         </derived>
         <where expression="(SIZEOF(application_technology_constraint) &lt;= 1)" label="WR1"/>
         <where expression="NOT EXISTS(SELF\Representation.description)" label="WR2"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Part_template_planar_shape_model" supertypes="Planar_projected_shape_model Part_template_shape_model">
         <where expression="NOT EXISTS(SELF\Representation.description)" label="WR1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Passage_padstack_definition" supertypes="Padstack_definition">
         <inverse attribute="assembly" entity="Inter_stratum_feature_template_location" name="reference_isft"/>
         <where expression="NOT(('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.STRUCTURED_INTER_STRATUM_FEATURE_TEMPLATE' IN TYPEOF(reference_isft.template)) XOR&#10;               ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.COMPLEX_PASSAGE_PADSTACK_DEFINITION' IN TYPEOF(SELF)))" label="WR1"/>
      <where label="IP1"/>
         <where label="IP2"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Physical_unit_keepout_shape_allocation_to_stratum_stack">
         <explicit name="keepout_shape" optional="NO">
            <typename name="Physical_unit_keepout_shape_model"/>
         </explicit>
         <explicit name="stack_model" optional="NO">
            <typename name="Library_stack_model"/>
         </explicit>
         <explicit name="swappable" optional="NO">
            <builtintype fixed="NO" type="BOOLEAN"/>
         </explicit>
         <explicit name="kept_out_layers" optional="NO">
            <aggregate lower="1" optional="NO" type="SET" unique="NO" upper="?"/>
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="keepout_shape"/>
            <unique.attribute attribute="stack_model"/>
         </unique>
         <where expression="keepout_shape\Physical_unit_keepout_shape_model.constrained_design_object_category&#10;        IN [keepout_product_design_object_category.interconnect_module_via,&#10;        keepout_product_design_object_category.interconnect_module_inter_stratum_feature,&#10;        keepout_product_design_object_category.interconnect_module_cutout,&#10;        keepout_product_design_object_category.interconnect_module_fill_area,&#10;        keepout_product_design_object_category.interconnect_module_stratum_feature]" label="WR1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Physical_unit_keepout_shape_allocation_to_stratum_technology">
         <explicit name="keepout_shape" optional="NO">
            <typename name="Physical_unit_keepout_shape_model"/>
         </explicit>
         <explicit name="kept_out_technologies" optional="NO">
            <aggregate lower="1" optional="NO" type="SET" unique="NO" upper="?"/>
            <typename name="Stratum_technology"/>
         </explicit>
         <where expression="keepout_shape\Physical_unit_keepout_shape_model.constrained_design_object_category&#10;&#9;    IN [keepout_product_design_object_category.interconnect_module_via,&#10;&#9;        keepout_product_design_object_category.interconnect_module_inter_stratum_feature,&#10;&#9;        keepout_product_design_object_category.interconnect_module_cutout,&#10;&#9;        keepout_product_design_object_category.interconnect_module_fill_area,&#10;&#9;        keepout_product_design_object_category.interconnect_module_stratum_feature]" label="WR1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Single_stratum_special_symbol_template" supertypes="Single_stratum_structured_template Special_symbol_template"/>
      <entity abstract.entity="NO" abstract.supertype="YES" name="Single_stratum_structured_template" super.expression="ONEOF (Material_removal_structured_template, Single_stratum_special_symbol_template)" supertypes="Structured_template Single_stratum_template">
         <where expression="SIZEOF (QUERY(tp &lt;* SELF\Structured_template.templates |&#10;               NOT ('LAYERED_INTERCONNECT_SIMPLE_TEMPLATE_ARM.SINGLE_STRATUM_TEMPLATE' IN TYPEOF(tp.template))&#10;              )) = 0" label="WR1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="YES" name="Special_symbol_template" super.expression="ONEOF (Single_stratum_special_symbol_template, Multi_stratum_special_symbol_template)" supertypes="Template_definition"/>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Stratum_specific_template_location" supertypes="Template_location_in_structured_template">
         <explicit name="bound_stratum" optional="NO">
            <typename name="stratum_technology_occurrence_or_stratum_technology"/>
         </explicit>
         <explicit name="template" optional="NO">
            <typename name="Single_stratum_template"/>
            <redeclaration entity-ref="Template_location_in_structured_template"/>
         </explicit>
         <where expression="NOT('LAYERED_INTERCONNECT_MODULE_DESIGN_ARM.DOCUMENTATION_LAYER_TECHNOLOGY' IN TYPEOF(bound_stratum)) OR&#10;           (NOT EXISTS(bound_stratum\Documentation_layer_technology.pre_defined_documentation_layer_purpose) OR&#10;           (NOT (bound_stratum\Documentation_layer_technology.pre_defined_documentation_layer_purpose = predefined_documentation_layer_purpose.soldermask) OR&#10;          ('LAYERED_INTERCONNECT_SIMPLE_TEMPLATE_ARM.MATERIAL_REMOVAL_FEATURE_TEMPLATE' IN TYPEOF(template))))" label="WR1"/>
         <where expression="NOT(('LAYERED_INTERCONNECT_MODULE_DESIGN_ARM.STRATUM_TECHNOLOGY_OCCURRENCE' IN TYPEOF(bound_stratum)) AND&#10;             ('LAYERED_INTERCONNECT_MODULE_DESIGN_ARM.DOCUMENTATION_LAYER_TECHNOLOGY' IN TYPEOF(bound_stratum\Stratum_technology_occurrence.definition))) OR&#10;           (NOT EXISTS(bound_stratum\Stratum_technology_occurrence.definition\Documentation_layer_technology.pre_defined_documentation_layer_purpose) OR&#10;           (NOT (bound_stratum\Stratum_technology_occurrence.definition\Documentation_layer_technology.pre_defined_documentation_layer_purpose = predefined_documentation_layer_purpose.soldermask) OR&#10;          ('LAYERED_INTERCONNECT_SIMPLE_TEMPLATE_ARM.MATERIAL_REMOVAL_FEATURE_TEMPLATE' IN TYPEOF(template))))" label="WR2"/>
         <where expression="NOT ('FABRICATION_TECHNOLOGY_ARM.STRATUM_TECHNOLOGY_OCCURRENCE' IN TYPEOF(bound_stratum)) OR&#10;             ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.STRATUM_STACK_DEPENDENT_TEMPLATE' IN TYPEOF(SELF\Template_location_in_structured_template.assembly))" label="WR3"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Stratum_stack_dependent_template" super.expression="ONEOF (Complex_passage_padstack_definition, Structured_inter_stratum_feature_template)" supertypes="Multi_stratum_structured_template">
         <explicit name="stack" optional="NO">
            <typename name="Library_stack_model"/>
         </explicit>
         <where expression="SIZEOF(QUERY(temp &lt;* SELF\Structured_template.templates | &#10;            ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.STRATUM_SPECIFIC_TEMPLATE_LOCATION' IN TYPEOF(temp))&#10;            AND (NOT ('FABRICATION_TECHNOLOGY_ARM.STRATUM_TECHNOLOGY_OCCURRENCE' IN TYPEOF(temp\Stratum_specific_template_location.bound_stratum))&#10;                  OR&#10;               NOT (temp\Stratum_specific_template_location.bound_stratum IN stack\Stratum_stack_model.composing_occurrence)&#10;        ))) = 0" label="WR1"/>
         <where expression="TYPEOF(SELF) &lt;&gt; ['LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.STRATUM_STACK_DEPENDENT_TEMPLATE',&#10;                             'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.MULTI_STRATUM_STRUCTURED_TEMPLATE',&#10;                             'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.STRUCTURED_TEMPLATE',&#10;                             'PART_TEMPLATE_SHAPE_WITH_PARAMETERS_ARM.GEOMETRIC_TEMPLATE',&#10;                             'PART_TEMPLATE_ARM.TEMPLATE_DEFINITION',&#10;                             'PRODUCT_VIEW_DEFINITION_ARM.PRODUCT_VIEW_DEFINITION']" label="WR2"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Structured_inter_stratum_feature_template" supertypes="Inter_stratum_feature_template Stratum_stack_dependent_template"/>
      <entity abstract.entity="NO" abstract.supertype="YES" name="Structured_template" super.expression="ONEOF (Single_stratum_structured_template, Multi_stratum_structured_template)" supertypes="Geometric_template">
         <derived expression="(SIZEOF(templates) = 0)" name="empty">
            <builtintype fixed="NO" type="LOGICAL"/>
         </derived>
         <inverse attribute="shape_characterized_definition" entity="Structured_template_planar_shape_model" name="shapes">
            <inverse.aggregate lower="1" type="SET" upper="?"/>
            <redeclaration entity-ref="Geometric_template"/>
         </inverse>
         <inverse attribute="assembly" entity="Template_location_in_structured_template" name="templates">
            <inverse.aggregate lower="0" type="SET" upper="?"/>
         </inverse>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Structured_template_planar_shape_model" supertypes="Part_template_planar_shape_model">
         <explicit name="shape_characterized_definition" optional="NO">
            <aggregate lower="1" optional="NO" type="SET" unique="NO" upper="1"/>
            <typename name="Structured_template"/>
            <redeclaration entity-ref="Part_template_shape_model"/>
         </explicit>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Template_location_in_structured_template" super.expression="ONEOF (Inter_stratum_feature_template_location, Stratum_specific_template_location)">
         <explicit name="assembly" optional="NO">
            <typename name="Structured_template"/>
         </explicit>
         <explicit name="template" optional="NO">
            <typename name="Template_definition"/>
         </explicit>
         <explicit name="reference_designation" optional="NO">
            <builtintype fixed="NO" type="STRING"/>
         </explicit>
         <explicit name="placement_status" optional="NO">
            <typename name="template_location_placement_status"/>
         </explicit>
         <inverse attribute="reference_location" entity="Template_location_in_structured_template_transform" name="transform">
            <inverse.aggregate lower="0" type="SET" upper="?"/>
         </inverse>
         <unique label="UR1">
            <unique.attribute attribute="assembly"/>
            <unique.attribute attribute="reference_designation"/>
         </unique>
         <where expression="(SIZEOF(transform) &gt; 0) XOR ('LAYERED_INTERCONNECT_SIMPLE_TEMPLATE_ARM.TEARDROP_TEMPLATE' IN TYPEOF(template))" label="WR1"/>
         <where expression="NOT ('LAYERED_INTERCONNECT_SIMPLE_TEMPLATE_ARM.INTER_STRATUM_FEATURE_TEMPLATE' IN TYPEOF(template)) OR&#10;             ('LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.INTER_STRATUM_FEATURE_TEMPLATE_LOCATION' IN TYPEOF(SELF))" label="WR2"/>
         <where expression="SIZEOF(['LAYERED_INTERCONNECT_SIMPLE_TEMPLATE_ARM.TEARDROP_TEMPLATE',&#10;                    'PART_TEMPLATE_SHAPE_WITH_PARAMETERS_ARM.GEOMETRIC_TEMPLATE'] *&#10;                   TYPEOF(template)) &gt; 0" label="WR3"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Template_location_in_structured_template_transform" supertypes="Geometric_placement">
         <explicit name="template_shape" optional="NO">
            <typename name="Part_template_planar_shape_model"/>
            <redeclaration entity-ref="Geometric_placement_operation" old_name="template_definition"/>
         </explicit>
         <explicit name="reference_location" optional="NO">
            <typename name="Template_location_in_structured_template"/>
         </explicit>
         <explicit name="assembly_shape" optional="NO">
            <typename name="Structured_template_planar_shape_model"/>
         </explicit>
         <explicit name="transform" optional="NO">
            <typename name="Axis_placement_2d"/>
            <redeclaration entity-ref="Geometric_placement" old_name="target"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="reference_location"/>
            <unique.attribute attribute="assembly_shape"/>
         </unique>
         <where expression="assembly_shape.shape_characterized_definition[1] :=: reference_location.assembly" label="WR1"/>
      </entity>
      <entity abstract.entity="NO" abstract.supertype="NO" name="Thermal_isolation_removal_template" supertypes="Material_removal_structured_template">
         <derived expression="get_rvd(SELF, 'thermal requirement')" name="thermal_isolation_spacing_requirement">
            <aggregate lower="0" optional="NO" type="SET" unique="NO" upper="?"/>
            <typename name="Requirement_view_definition"/>
         </derived>
         <where expression="SIZEOF(QUERY(tisr &lt;* THERMAL_ISOLATION_SPACING_REQUIREMENT |&#10;       NOT('INTERCONNECT_PHYSICAL_REQUIREMENT_ALLOCATION_ARM.THERMAL_ISOLATION_REQUIREMENT' IN TYPEOF(tisr))&#10;       )) =0" label="WR1"/>
      </entity>
      <subtype.constraint abstract.supertype="NO" entity="Geometric_template" name="lict_geometric_template_subtypes" super.expression="ONEOF (Continuous_template, Structured_template)"/>
      <subtype.constraint abstract.supertype="NO" entity="Stratum_stack_model" name="stratum_stack_model_subtypes" super.expression="ONEOF (Design_stack_model, Library_stack_model)"/>
      <function name="acyclic_library_to_design_stack_model_mapping">
         <parameter name="relation">
            <typename name="Library_to_design_stack_model_mapping"/>
         </parameter>
         <parameter name="relatives">
            <aggregate lower="1" optional="NO" type="SET" unique="NO" upper="?"/>
            <typename name="Stratum_stack_model"/>
         </parameter>
         <parameter name="specific_relation">
            <builtintype fixed="NO" type="STRING"/>
         </parameter>
         <builtintype fixed="NO" type="BOOLEAN"/>
         <algorithm>LOCAL
      x : SET OF Library_to_design_stack_model_mapping := [];
  END_LOCAL;

      IF relation.relating_view IN relatives THEN
        RETURN (FALSE);
      END_IF;
        x := QUERY(pd &lt;* bag_to_set(USEDIN(relation.relating_view,
          'LAYERED_INTERCONNECT_COMPLEX_TEMPLATE_ARM.' +
          'LIBRARY_TO_DESIGN_STACK_MODEL_MAPPING.' +
          'RELATED_VIEW')) | specific_relation IN TYPEOF(pd));
      REPEAT i := 1 TO HIINDEX(x);
        IF NOT acyclic_library_to_design_stack_model_mapping(x[i], relatives +
          relation.relating_view, specific_relation) THEN
          RETURN (FALSE);
        END_IF;
      END_REPEAT;
    RETURN (TRUE);</algorithm>
      </function>
   </schema>
</express>
