<?xml version="1.0"?>
<!-- $Id: arm.xml,v 1.3 2002/01/16 14:24:56 robbod Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  rcs.date="$Date: 2002/01/16 14:24:56 $"
  rcs.revision="$Revision: 1.3 $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.6"
    source="../data/modules/manifold_surface/arm.exp"/>

  <schema name="Manifold_surface_arm">
    <interface
      kind="use"
      schema="Topologically_bounded_surface_arm">
    </interface>

    <entity
      name="Manifold_surface_shape_representation"
      supertypes="Geometric_model">
      <description>
A manifold_surface_shape_representation is a shape_representation that consists of one or many shell_based_surface models. Each shell_based_surface_model is built up of open_shells which are sets of faces. Connected_face_set, which is the supertype of open_shell and closed_shell, shall not be instantiated. Faces use edges and vertexs; all of these shall reference geometric entities such as points, curves, and surfaces. The link between topology and geometric entities such as points, curves, and surfaces. The link between topology and geometry may be established by either using face_surface or advanced_face as defined in ISO 10303-511. The two options differ both in the selection of valid point, curve, and surface subtypes and in constraints on references to underlying geometry. 

        <note> The representation of face surfaces as advanced faces is recommended for manifold surface models that are intended to be used together with boundary representation solid models; the integration of such a manifold surface model into, for example, an advanced boundary representation model, which is defined in ISO 10303-514, will be easier.
      </note>
      <p>
All geometric entities shall be of dimensionality three except for two-dimensional geometry that is used for the purpose of defining pcurves. The use of one-dimensional cartesian points is excluded.
      </p>
      <p>
All unbounded geometry shall be trimmed by using topological constructs.
      </p>
      <p>
The items of a manifold surface shape representation may also be of type mapped-item, or axis2 placement 3d. These are used to assemble one or several manifold surface shape representations into one other manifold surface - shape representation.
      </p>
      </description>


      <where label="IP1">
        <description>
The items in a manifold surface shape representation shall be shell based-surface models, mapped items, or axis2 placement 3ds.
        </description>
      </where>
      <where label="IP2">
        <description>
At least one of the items in a manifold surface shape representation shall be either a shell based surface model or a mapped item.
        </description>
      </where>

      <where label="IP3">
        <description>
If there is a mapped item in a manifold surface shape representation, the mapped representation of its mapping source shall also be a manifold surface shape-representation.
        </description>
      </where>

      <where label="IP4">
        <description>
The boundary of a shell based surface model, that is its attribute sbsm boundary, shall be defined by using only open shells, closed shells, or oriented closed shells; oriented open shells are not valid.
        </description>
      </where>

      <where label="IP5">
        <description>
A face shall be instantiated as either a face surface, its subtype advanced face, or an oriented face.
        </description>
      </where>

      <where label="IP6">
        <description>
The face geometry of a face surface shall be either a b-spline surface, an elementary surface, an offset surface, a surface replica, a swept surface, or a surface within the reference tree of an advanced face.
        </description>
      </where>

      <where label="IP7">
        <description>
All basis geometry that is referenced by surfaces shall be either within the reference tree of an advanced face or shall be valid curves and surfaces. The basis surface of an offset surface shall be either an elementary surface, b spline - surface, offset surface, swept surface, or surface replica. The parent surface of a surface replica shall be either an elementary surface, b spline - surface, offset surface, swept surface, or surface replica. The swept curve of a swept surface shall be either a line, conic, pcurve, surface curve, offset curve 3d, b spline curve, polyline, pcurve replica. The attribute self intersect shall be set to FALSE or UNKNOWN for b spline surfaces and offset surfaces.
        </description>
      </where>

      <where label="IP8">
        <description>
The bound of a face bound, which is referenced from a face, shall be either within the reference tree of an advanced face or shall be an edge loop or a vertex loop.
        </description>
      </where>

      <where label="IP9">
        <description>
The geometry of a bounding edge, that is the edge element of an oriented edge, shall be either within the reference tree of an advanced face or shall be an edge curve.
        </description>
      </where>

      <where label="IP10">
        <description>
The curve used to define the geometry of an edge, that is the edge geometry of an edge curve of an edge, shall be either a b spline curve, a conic, a curve replica, a line, an offset curve 3d, apcurve, apolyline, asurface curve, or acurve in the reference tree of an advanced face.
        </description>
      </where>

      <where label="IP11">
        <description>
All basis geometry that is referenced by curves shall be either within the reference tree of an advanced face or shall be valid curves and surfaces. The parent curve of a curve replica shall be either a line, conic, pcurve, surface curve, offset curve 3d, b spline curve, polyline, orcurve replica. The basis curve of an offset curve 3d shall be either a line, conic, pcurve, surface curve, offset curve 3d, b spline curve, polyline, or curve replica. The curve 3d of a surface curve shall be either a line, conic, offset curve 3d, b spline - curve, polyline, or curve replica. The basis surface of a surface curve shall be either a b spline surface, elementary - surface, offset surface, surface replica, or swept surface. Polylines shall contain at least three cartesian points. The attribute self intersect shall be set to FALSE or UNKNOWN for b spline curves and set curve 3ds.
        </description>
      </where>

      <where label="IP12">
        <description>
The edge start and edge end of an edge shall be either within the reference tree of an advanced face or shall be vertex points.
        </description>
      </where>

      <where label="IP13">
        <description>
The vertex geometry of a vertex that is part of an edge loop shall be either within the reference tree of an advanced face or shall be a cartesian point, point on curve, point on surface, or degenerate pcurve.
        </description>
      </where>

      <where label="IP14">
        <description>
The loop vertex of a vertex loop shall be either within the reference tree of an advanced face or shall be a vertex point.
        </description>
      </where>

      <where label="IP15">
        <description>
The vertex geometry of a vertex that is part of a vertex loop shall be either within the reference tree of an advanced face or shall be a cartesian point, point on curve, point on surface, or degenerate pcurve.
        </description>
      </where>

      <where label="IP16">
        <description>
The portion of a b spline curve that is within the topological domain of a manifold - surface shape representation shall not self-intersect.
        </description>
      </where>

      <where label="IP17">
        <description>
The portion of a b spline surface that is within the topological domain of a manifold - surface shape representation shall not self-intersect.
        </description>
      </where>

      <where label="IP18">
        <description>
The portion of an offset curve 3d that is within the topological domain of a manifold - surface shape representation shall not self-intersect.
        </description>
      </where>

      <where label="IP19">
        <description>
The portion of an offset surface that is within the topological domain of a manifold - surface shape representation shall not self-intersect.
        </description>
      </where>

      <where label="IP20">
        <description>
If a face has only one connected outer bound, the corresponding loop shall be represented as face outer bound. If the outer bound is not connected, face outer bound shall not be used.
        </description>
      </where>

    </entity>

  </schema>

</express>
