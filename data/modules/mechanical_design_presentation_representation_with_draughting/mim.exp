(*
   $Id$
   N - ISO/CD-TS - 10303- mechanical_design_presentation_representation_with_draughting - EXPRESS MIM*)
(* UNDER DEVELOPMENT *)
SCHEMA Mechanical_design_presentation_representation_with_draughting_mim;

USE FROM Mechanical_design_geometric_presentation_mim; -- ~AIC517

USE FROM Mechanical_design_shaded_presentation_mim; -- ~AIC518

USE FROM Associative_draughting_elements_mim; -- ~AIC520

USE FROM representation_schema(
  definitional_representation_relationship_with_same_context);

 TYPE mechanical_design_and_draughting_relationship_select = EXTENSIBLE GENERIC_ENTITY SELECT ( 
   draughting_model, -- AIC520 
   mechanical_design_geometric_presentation_representation, -- AIC517 
   mechanical_design_shaded_presentation_representation, -- AIC518 
   mechanical_design_presentation_representation_with_draughting, -- new 
   shape_representation); 
 END_TYPE; 

 ENTITY mechanical_design_presentation_representation_with_draughting -- mdprwd 
   SUBTYPE of (representation); 
     SELF\representation.items : SET[1:?] OF camera_model_d3;
 END_ENTITY;  
 
 ENTITY mechanical_design_and_draughting_relationship -- mdadr 
   SUBTYPE OF(definitional_representation_relationship_with_same_context); 
   SELF\representation_relationship.rep_1 : mechanical_design_and_draughting_relationship_select; 
   SELF\representation_relationship.rep_2 : mechanical_design_and_draughting_relationship_select; 
 WHERE    
   -- wr1: if rep_2 is a draughting_model then rep_1 must also be a draughting_model or a shape_representation(subtype) 
   WR1: NOT('AIC_ASSOCIATIVE_DRAUGHTING_ELEMENTS.'+'DRAUGHTING_MODEL' IN TYPEOF(rep_2)) OR 
     (['AIC_ASSOCIATIVE_DRAUGHTING_ELEMENTS.'+'DRAUGHTING_MODEL', 
     'PRODUCT_PROPERTY_REPRESENTATION_SCHEMA.'+'SHAPE_REPRESENTATION'] IN TYPEOF(rep_1));
   -- wr2: if rep_2 is a mdgpr then rep_1 must also be a mdgpr or a shape_representation(subtype) 
   WR2: NOT('AIC_MECHANICAL_DESIGN_GEOMETRIC_PRESENTATION.'+'MECHANICAL_DESIGN_GEOMETRIC_PRESENTATION_REPRESENTATION' IN TYPEOF(rep_2)) 
     OR (['AIC_MECHANICAL_DESIGN_GEOMETRIC_PRESENTATION.'+'MECHANICAL_DESIGN_GEOMETRIC_PRESENTATION_REPRESENTATION', 
     'PRODUCT_PROPERTY_REPRESENTATION_SCHEMA.'+'SHAPE_REPRESENTATION'] IN TYPEOF(rep_1));
   -- wr3: if rep_2 is a mdgspr then rep_1 must also be a mdgspr or a shape_representation(subtype) 
   WR3: NOT('AIC_MECHANICAL_DESIGN_SHADED_PRESENTATION.'+'MECHANICAL_DESIGN_SHADED_PRESENTATION_REPRESENTATION' IN TYPEOF(rep_2)) 
     OR (['AIC_MECHANICAL_DESIGN_SHADED_PRESENTATION.'+'MECHANICAL_DESIGN_SHADED_PRESENTATION_REPRESENTATION',
     'PRODUCT_PROPERTY_REPRESENTATION_SCHEMA.'+'SHAPE_REPRESENTATION'] IN TYPEOF(rep_1));
 END_ENTITY;  
-- only the mdprwd is allowed to combine all together into one 

END_SCHEMA;
