(*
   $Id: arm.exp,v 1.17 2005/02/04 17:48:44 budreckytej Exp $
   ISO TC184/SC4/WG12 N3492 - ISO/CD-TS 10303-1703 Model parameter - EXPRESS ARM
*)



SCHEMA Model_parameter_arm;

	USE FROM Characteristic_arm;	-- ISO/TS 10303-1654
	USE FROM Classification_with_attributes_arm;	-- ISO/TS 10303-1111
	USE FROM Document_assignment_arm;	-- ISO/TS 10303-1122
	USE FROM Document_definition_arm;	-- ISO/TS 10303-1123
	USE FROM Independent_property_arm;	-- ISO/TS 10303-1036
	USE FROM Independent_property_representation_arm;	-- ISO/TS 10303-1038
	USE FROM Product_identification_arm;	-- ISO/TS 10303-1017

REFERENCE FROM Specification_document_arm(get_document_definition);	-- ISO/TS 10303-1747

	TYPE mp_documented_element_select = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON documented_element_select WITH 
	   (Model_parameter);
	END_TYPE; 

  ENTITY Category_model_parameter
    SUBTYPE OF (Model_parameter, Classification_attribute);
  END_ENTITY;

  ENTITY Model_parameter
   SUBTYPE OF (Independent_property);
      unit_of_measure    : OPTIONAL Unit; -- STRING
      valid_range        : OPTIONAL SET[1:?] OF Value_range; --coordinated_characteristic; 
      default_value      : OPTIONAL scalar_or_coordinated_characteristics;
	DERIVE
		reference_document: SET[0:?] OF Document_definition :=
  			get_document_definition(SELF, 'reference document', 
  			'DOCUMENT_DEFINITION_ARM.DOCUMENT_DEFINITION');
	WHERE
   		WR1 : EXISTS (reference_document) AND SIZEOF(reference_document) = 1;
  END_ENTITY;


  ENTITY Parameter_assignment
    SUBTYPE OF (Independent_property_representation);
   (** We may need further specification here *)
--      SELF\Independent_property_relationship.relating    	
--	parameter_value: scalar_or_coordinated_characteristics;
      SELF\Independent_property_representation.property: Model_parameter;
--	assigned_parameter: Model_parameter;
  END_ENTITY;

  ENTITY Parameter_assignment_override;
      overridden_parameter_assignment : Parameter_assignment;
      overriding_parameter_assignment : Parameter_assignment;
  END_ENTITY;

  ENTITY Schema_based_model_parameter
    SUBTYPE OF (Model_parameter);
      entity_name    : STRING;
      attribute_name : OPTIONAL STRING;
      SELF\Independent_property.property_type RENAMED schema_identifier : STRING;
    UNIQUE
      UR1 : entity_name,
 attribute_name,
 schema_identifier;
  END_ENTITY;

  ENTITY Product_specific_parameter_value_assignment;
      of_product         : Product;
      assigned_parameter : Parameter_assignment;
    DERIVE
      the_model_parameter : model_parameter := assigned_parameter\Independent_property_representation.property;
    UNIQUE
      UR1 : the_model_parameter, of_product;
  END_ENTITY;

END_SCHEMA;

