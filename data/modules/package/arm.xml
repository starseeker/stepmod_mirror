<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express description.file="arm_descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="ISO/TS 10303-1707">
   <application name="JSDAI" owner="LKSoft" source="package_arm schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="Package_arm">
      <interface kind="use" schema="Characteristic_arm"/>
      <interface kind="use" schema="Geometric_tolerance_arm"/>
      <interface kind="use" schema="Non_feature_shape_element_arm"/>
      <interface kind="use" schema="Part_feature_function_arm"/>
      <interface kind="reference" schema="Support_resource_arm">
         <interfaced.item name="bag_to_set"/>
      </interface>
      <type name="interface_plane_or_seating_plane">
         <select selectitems="Seating_plane Interface_plane"/>
      </type>
      <type name="mounting_technology_type">
         <enumeration extensible="YES" items="surface_mount through_hole"/>
      </type>
      <type name="pa_external_identification_item">
         <select basedon="external_identification_item" selectitems="Package_terminal_template_definition Package"/>
      </type>
      <type name="pa_material_item_select">
         <select basedon="material_item_select" selectitems="Package_body Package_terminal_template_definition"/>
      </type>
      <type name="predefined_lead_form">
         <enumeration extensible="YES" items="gull_wing j_lead reversed_j_lead integral_terminal undefined ball straight"/>
      </type>
      <type name="seating_plane_intersection_type">
         <enumeration items="surface_intersection through_intersection does_not_intersect"/>
      </type>
      <entity name="Connection_zone_in_part_feature_template_definition" supertypes="Connection_zone">
         <explicit name="associated_definition">
            <typename name="Part_feature_template_definition"/>
            <redeclaration entity-ref="Shape_element"/>
         </explicit>
         <where expression="NOT EXISTS(SELF\Shape_element.element_name)" label="WR1"/>
      </entity>
      <entity name="Connection_zone_package_interface_plane_relationship">
         <explicit name="interface_plane">
            <typename name="interface_plane_or_seating_plane"/>
         </explicit>
         <explicit name="derived_zone">
            <typename name="Connection_zone_in_part_feature_template_definition"/>
         </explicit>
         <explicit name="derived_zone_shape_class">
            <builtintype type="STRING"/>
         </explicit>
         <inverse attribute="seating_plane_zone" entity="Package_terminal_template_definition" name="associated_package_terminal">
            <inverse.aggregate lower="0" type="SET" upper="1"/>
         </inverse>
         <where expression="derived_zone_shape_class IN ['area','edge']" label="WR1"/>
      </entity>
      <entity name="Guided_wave_terminal" supertypes="Package_terminal"/>
      <entity name="Package" supertypes="Part_usage_view">
         <explicit name="mounting_technology" optional="YES">
            <typename name="mounting_technology_type"/>
         </explicit>
         <explicit name="maximum_seating_plane_installation_offset" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="nominal_mounting_lead_pitch" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="nominal_mounting_lead_span" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="maximum_body_height_above_seating_plane" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="maximum_body_height_below_seating_plane" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="body_clearance_above_seating_plane" optional="YES">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="body_clearance_below_seating_plane" optional="YES">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="maximum_lead_length_below_seating_plane" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <explicit name="least_lead_length_below_seating_plane" optional="YES">
            <typename name="Length_data_element"/>
         </explicit>
         <derived expression="max_data_element(&#10;      &#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;add_data_element(maximum_body_height_above_seating_plane,maximum_body_height_below_seating_plane),&#10;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;&#9;    add_data_element(maximum_body_height_above_seating_plane,maximum_lead_length_below_seating_plane))" name="maximum_package_total_vertical_extent">
            <typename name="Length_data_element"/>
         </derived>
         <derived expression="(maximum_body_height_below_seating_plane\Value_with_unit.value_component &gt; 0.0)" name="cutout_required">
            <builtintype type="LOGICAL"/>
         </derived>
         <derived expression="add_data_element(maximum_body_height_above_seating_plane,maximum_seating_plane_installation_offset)" name="maximum_installed_height">
            <typename name="Length_data_element"/>
         </derived>
         <derived expression="(SIZEOF(orientation_feature) = 1)" name="one_orientation_feature">
            <builtintype type="LOGICAL"/>
         </derived>
         <derived expression="(SIZEOF(orientation_feature) = 2)" name="two_orientation_features">
            <builtintype type="LOGICAL"/>
         </derived>
         <derived expression="(SIZEOF(orientation_feature) = 3)" name="three_orientation_features">
            <builtintype type="LOGICAL"/>
         </derived>
         <derived expression="bag_to_set(QUERY(nfse &lt;* USEDIN(SELF, 'NON_FEATURE_SHAPE_ELEMENT_ARM.NON_FEATURE_SHAPE_ELEMENT.ASSOCIATED_DEFINITION')|&#10;                                                'NON_FEATURE_SHAPE_ELEMENT_ARM.SEATING_PLANE' IN TYPEOF(nfse)))" name="package_seating_plane">
            <aggregate lower="0" type="SET" upper="?"/>
            <typename name="Seating_plane"/>
         </derived>
         <derived expression="bag_to_set(QUERY(nfse &lt;* USEDIN(SELF, 'NON_FEATURE_SHAPE_ELEMENT_ARM.NON_FEATURE_SHAPE_ELEMENT.ASSOCIATED_DEFINITION')|&#10;                                                'NON_FEATURE_SHAPE_ELEMENT_ARM.INTERFACE_PLANE' IN TYPEOF(nfse)))" name="interface_plane">
            <aggregate lower="0" type="SET" upper="?"/>
            <typename name="Interface_plane"/>
         </derived>
         <inverse attribute="associated_definition" entity="Package_body" name="body">
            <inverse.aggregate lower="0" type="SET" upper="1"/>
         </inverse>
         <inverse attribute="associated_definition" entity="Package_terminal" name="package_accesses">
            <inverse.aggregate lower="0" type="SET" upper="?"/>
         </inverse>
         <inverse attribute="associated_definition" entity="Polarity_indication_feature" name="package_polarity_indication">
            <inverse.aggregate lower="0" type="SET" upper="1"/>
         </inverse>
         <inverse attribute="associated_definition" entity="Package_orientation_feature" name="orientation_feature">
            <inverse.aggregate lower="0" type="SET" upper="3"/>
         </inverse>
         <where expression="NOT (mounting_technology = surface_mount) OR (NOT (EXISTS(maximum_lead_length_below_seating_plane) OR EXISTS(least_lead_length_below_seating_plane)))" label="WR1"/>
         <where expression="NOT (EXISTS(maximum_lead_length_below_seating_plane)) OR (maximum_lead_length_below_seating_plane\Value_with_unit.value_component &gt; 0.0)" label="WR2"/>
         <where expression="NOT (EXISTS(least_lead_length_below_seating_plane)) OR (least_lead_length_below_seating_plane\Value_with_unit.value_component &gt; 0.0)" label="WR3"/>
         <where expression="NOT EXISTS(mounting_technology) OR (SIZEOF(package_seating_plane) = 1)" label="WR4"/>
         <where expression="SIZEOF(QUERY(pa &lt;* package_accesses | 'PACKAGE_ARM.PRIMARY_REFERENCE_TERMINAL' IN TYPEOF(pa))) = 1" label="WR5"/>
         <where expression="SIZEOF(QUERY(nt &lt;* package_accesses |&#10;&#9;                      EXISTS(nt\Part_feature.precedent_feature)&#10;&#9;               )) = (SIZEOF(package_accesses) - 1)" label="WR6"/>
         <where expression="SIZEOF(QUERY(nt &lt;* package_accesses |&#10;&#9;                     (SIZEOF(nt\Part_feature.subsequent_feature) = 1)&#10;&#9;               )) = (SIZEOF(package_accesses) - 1)" label="WR7"/>
         <where expression="NOT one_orientation_feature    OR ('PACKAGE_ARM.PRIMARY_ORIENTATION_FEATURE' IN TYPEOF(orientation_feature[1]))" label="WR8"/>
         <where expression="NOT two_orientation_features   OR ((SIZEOF(QUERY(orf &lt;* orientation_feature |&#10;                                                  ('PACKAGE_ARM.PRIMARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1) AND&#10;                                                (SIZEOF(QUERY(orf &lt;* orientation_feature |&#10;                                                  ('PACKAGE_ARM.SECONDARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1))" label="WR9"/>
         <where expression="NOT three_orientation_features OR ((SIZEOF(QUERY(orf &lt;* orientation_feature |&#10;                                                  ('PACKAGE_ARM.PRIMARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1) AND&#10;                                                (SIZEOF(QUERY(orf &lt;* orientation_feature |&#10;                                                  ('PACKAGE_ARM.SECONDARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1) AND&#10;                                                (SIZEOF(QUERY(orf &lt;* orientation_feature |&#10;                                                  ('PACKAGE_ARM.TERTIARY_ORIENTATION_FEATURE' IN TYPEOF(orf)))) = 1))" label="WR10"/>
      </entity>
      <entity name="Package_body" supertypes="Part_feature">
         <explicit name="associated_definition">
            <typename name="Package"/>
            <redeclaration entity-ref="Part_feature"/>
         </explicit>
         <inverse attribute="items" entity="Material_identification" name="body_material"/>
         <where expression="SIZEOF(QUERY(pf &lt;* USEDIN(SELF,&#10; 'PACKAGE_ARM.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('PACKAGE_ARM.' + 'PACKAGE_BODY_TOP_SURFACE' IN TYPEOF(pf)))) &lt;= 1" label="WR1"/>
         <where expression="SIZEOF(QUERY(pf &lt;* USEDIN(SELF,&#10; 'PACKAGE_ARM.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('PACKAGE_ARM.' + 'PACKAGE_BODY_BOTTOM_SURFACE' IN TYPEOF(pf)))) &lt;= 1" label="WR2"/>
         <where expression="SIZEOF(QUERY(pf &lt;* USEDIN(SELF,&#10; 'PACKAGE_ARM.PACKAGE_BODY_SURFACE.ASSOCIATED_PACKAGE_BODY') | ('PACKAGE_ARM.' + 'PACKAGE_BODY_EDGE_SURFACE' IN TYPEOF(pf)))) &lt;= 1" label="WR3"/>
         <where expression="'CONDUCTIVITY_MATERIAL_ASPECTS_ARM.'+ 'MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (body_material)" label="WR4"/>
      </entity>
      <entity name="Package_body_bottom_surface" supertypes="Package_body_surface"/>
      <entity name="Package_body_edge_segment_surface" supertypes="Package_body_surface">
         <explicit name="composed_surface">
            <typename name="Package_body_edge_surface"/>
         </explicit>
         <explicit name="start_vertex">
            <typename name="Edge_segment_vertex"/>
         </explicit>
         <explicit name="end_vertex">
            <typename name="Edge_segment_vertex"/>
         </explicit>
         <where expression="start_vertex :&lt;&gt;: end_vertex" label="WR1"/>
      </entity>
      <entity name="Package_body_edge_surface" supertypes="Package_body_surface"/>
      <entity abstract.supertype="YES" name="Package_body_surface" super.expression="ONEOF (Package_body_bottom_surface, Package_body_top_surface, Package_body_edge_segment_surface, Package_body_edge_surface)" supertypes="Part_feature">
         <explicit name="associated_package_body">
            <typename name="Package_body"/>
         </explicit>
      </entity>
      <entity name="Package_body_top_surface" supertypes="Package_body_surface"/>
      <entity abstract.supertype="YES" name="Package_orientation_feature" super.expression="ONEOF (Primary_orientation_feature, Secondary_orientation_feature, Tertiary_orientation_feature)" supertypes="Part_feature">
         <explicit name="associated_body_vertical_extent" optional="YES">
            <aggregate lower="1" type="SET" upper="2"/>
            <typename name="Package_body_surface"/>
         </explicit>
         <explicit name="associated_definition">
            <typename name="Package"/>
            <redeclaration entity-ref="Part_feature"/>
         </explicit>
         <where expression="'GEOMETRIC_TOLERANCE_ARM.DATUM_FEATURE' IN TYPEOF(SELF)" label="WR1"/>
      </entity>
      <entity name="Package_terminal" supertypes="Part_feature Placed_feature">
         <explicit name="definition">
            <typename name="Package_terminal_template_definition"/>
            <redeclaration entity-ref="Placed_feature"/>
         </explicit>
         <explicit name="associated_definition">
            <typename name="Package"/>
            <redeclaration entity-ref="Part_feature"/>
         </explicit>
         <inverse attribute="associated_usage" entity="Usage_concept_usage_relationship" name="feature_shape">
            <inverse.aggregate lower="1" type="SET" upper="?"/>
         </inverse>
      </entity>
      <entity name="Package_terminal_surface_constituent_relationship" supertypes="Shape_element_relationship">
         <explicit name="relating">
            <typename name="Package_body_surface"/>
            <redeclaration entity-ref="Shape_element_relationship"/>
         </explicit>
         <explicit name="related">
            <typename name="Package_terminal"/>
            <redeclaration entity-ref="Shape_element_relationship"/>
         </explicit>
      </entity>
      <entity name="Package_terminal_template_definition" supertypes="Part_feature_template_definition">
         <explicit name="external_connection_zone" optional="YES">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Connection_zone_in_part_feature_template_definition"/>
            <redeclaration entity-ref="Feature_definition_with_connection_area" old_name="connection_area"/>
         </explicit>
         <explicit name="internal_connection_zone" optional="YES">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Connection_zone_in_part_feature_template_definition"/>
         </explicit>
         <explicit name="lead_form" optional="YES">
            <typename name="predefined_lead_form"/>
         </explicit>
         <explicit name="seating_plane_intersection" optional="YES">
            <typename name="seating_plane_intersection_type"/>
         </explicit>
         <explicit name="terminal_characteristic" optional="YES">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="characteristic"/>
         </explicit>
         <explicit name="terminal_diametrical_extent" optional="YES">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
         <explicit name="seating_plane_zone" optional="YES">
            <typename name="Connection_zone_package_interface_plane_relationship"/>
         </explicit>
         <derived expression="(EXISTS(seating_plane_zone))" name="mates_with_substrate">
            <builtintype type="BOOLEAN"/>
         </derived>
         <derived expression="bag_to_set(QUERY( temp &lt;* USEDIN(SELF,&#10;     'GENERIC_MATERIAL_ASPECTS_ARM.MATERIAL_IDENTIFICATION.ITEMS') |&#10;     (SIZEOF( QUERY( cla &lt;* USEDIN(temp,'CLASSIFICATION_ASSIGNMENT_ARM.' +&#10; &#9;'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') | cla.role = 'terminal core material')) = 1)))" name="terminal_core_material">
            <aggregate lower="0" type="SET" upper="1"/>
            <typename name="Material_identification"/>
         </derived>
         <derived expression="bag_to_set(QUERY( temp &lt;* USEDIN(SELF,&#10;     'GENERIC_MATERIAL_ASPECTS_ARM.MATERIAL_IDENTIFICATION.ITEMS') |&#10;     (SIZEOF( QUERY( cla &lt;* USEDIN(temp,'CLASSIFICATION_ASSIGNMENT_ARM.' +&#10; &#9;'CLASSIFICATION_ASSIGNMENT.' + 'ITEMS') | cla.role = 'terminal surface material')) = 1)))" name="terminal_surface_material">
            <aggregate lower="0" type="SET" upper="1"/>
            <typename name="Material_identification"/>
         </derived>
         <inverse attribute="item" entity="External_source_identification" name="external_lead_form">
            <inverse.aggregate lower="0" type="SET" upper="1"/>
         </inverse>
         <where expression="NOT EXISTS(seating_plane_zone) OR (SIZEOF(QUERY(cz &lt;* external_connection_zone | (seating_plane_zone.derived_zone = cz))) = 1)" label="WR1"/>
         <where expression="NOT EXISTS(seating_plane_zone) OR ((seating_plane_intersection = surface_intersection) OR (seating_plane_intersection = through_intersection))" label="WR2"/>
         <where expression="NOT ((seating_plane_intersection = does_not_intersect) AND (EXISTS(seating_plane_zone)))" label="WR3"/>
         <where expression="NOT (SIZEOF(terminal_core_material) = 1) OR&#10;                ('CONDUCTIVITY_MATERIAL_ASPECTS_ARM.MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (terminal_core_material[1]))" label="WR4"/>
         <where expression="(SIZEOF(terminal_surface_material) = 1) AND&#10;                ('CONDUCTIVITY_MATERIAL_ASPECTS_ARM.MATERIAL_IDENTIFICATION_WITH_CONDUCTIVITY_CLASSIFICATION' IN TYPEOF (terminal_surface_material[1]))" label="WR5"/>
         <where expression="(EXISTS (lead_form)) XOR ((SIZEOF(external_lead_form)) = 1)" label="WR6"/>
      </entity>
      <entity name="Polarity_indication_feature" supertypes="Part_feature">
         <explicit name="associated_body_vertical_extent" optional="YES">
            <aggregate lower="1" type="SET" upper="2"/>
            <typename name="Package_body_surface"/>
         </explicit>
         <explicit name="associated_terminal">
            <typename name="Package_terminal"/>
         </explicit>
         <explicit name="associated_definition">
            <typename name="Package"/>
            <redeclaration entity-ref="Part_feature"/>
         </explicit>
      </entity>
      <entity name="Primary_orientation_feature" supertypes="Package_orientation_feature"/>
      <entity name="Primary_reference_terminal" supertypes="Package_terminal">
         <where expression="NOT (EXISTS(SELF\Part_feature.precedent_feature))" label="WR1"/>
      </entity>
      <entity name="Secondary_orientation_feature" supertypes="Package_orientation_feature"/>
      <entity name="Tertiary_orientation_feature" supertypes="Package_orientation_feature"/>
      <entity name="Visual_orientation_feature" supertypes="Part_feature">
         <explicit name="associated_body_vertical_extent" optional="YES">
            <aggregate lower="1" type="SET" upper="2"/>
            <typename name="Package_body_surface"/>
         </explicit>
         <explicit name="associated_terminal">
            <typename name="Package_terminal"/>
         </explicit>
      </entity>
      <entity name="Wire_terminal" supertypes="Package_terminal"/>
      <entity name="Wire_terminal_template_definition" supertypes="Package_terminal_template_definition">
         <explicit name="internal_connection_zone">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Connection_zone_in_part_feature_template_definition"/>
            <redeclaration entity-ref="Package_terminal_template_definition"/>
         </explicit>
         <explicit name="wire_terminal_length" optional="YES">
            <typename name="Length_tolerance_characteristic"/>
         </explicit>
      </entity>
      <subtype.constraint entity="Part_feature" name="part_feature_subtypes" super.expression="ONEOF (Package_body, Package_body_surface, Package_orientation_feature, Polarity_indication_feature, Visual_orientation_feature)"/>
      <function name="add_data_element">
         <parameter name="input1">
            <typename name="Length_data_element"/>
         </parameter>
         <parameter name="input2">
            <typename name="Length_data_element"/>
         </parameter>
         <typename name="Length_data_element"/>
         <algorithm>RETURN(input1);</algorithm>
      </function>
      <function name="max_data_element">
         <parameter name="input1">
            <typename name="Length_data_element"/>
         </parameter>
         <parameter name="input2">
            <typename name="Length_data_element"/>
         </parameter>
         <typename name="Length_data_element"/>
         <algorithm>RETURN(input1);</algorithm>
      </function>
   </schema>
</express>
