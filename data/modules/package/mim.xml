<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-08-24T17:15:17" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="package_mim schema_instance"/>
   <schema name="Package_mim">
      <interface kind="use" schema="Extended_geometric_tolerance_mim"/>
      <interface kind="use" schema="Part_feature_function_mim"/>
      <type name="pa_external_identification_item">
         <select extensible="YES" genericentity="YES" basedon="external_identification_item" selectitems="package"/>
      </type>
      <entity name="functional_orientation_feature" supertypes="shape_aspect"/>
      <entity name="guided_wave_terminal" supertypes="package_terminal"/>
      <entity name="package" supertypes="physical_unit">
         <where label="WR1" expression="SELF.frame_of_reference.name = 'physical design usage'"/>
         <where label="WR2" expression="SIZEOF (QUERY (prpc &lt;* USEDIN (SELF.formation.of_product,&#10;       'PACKAGE_MIM.' +&#10;       'PRODUCT_RELATED_PRODUCT_CATEGORY.' +&#10;       'PRODUCTS') |&#10;       prpc\product_category.name = 'package')) &gt; 0"/>
         <where label="WR3" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF, &#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       'PACKAGE_MIM.' +&#10;       'PACKAGE_BODY' IN &#10;       TYPEOF (sa))) = 1))) &lt;= 1"/>
         <where label="WR4" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF, &#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       'PACKAGE_MIM.' +&#10;       'PACKAGE_TERMINAL' IN &#10;       TYPEOF (sa))) &gt;= 1))) &gt;= 1"/>
         <where label="WR5" expression="(NOT (SELF\product_definition.description = 'altered package')) OR&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') |&#10;       (pdr\product_definition_relationship.name = 'package alteration') AND&#10;       (SIZEOF (['PACKAGE_MIM.' +&#10;       'PACKAGE',&#10;       'PACKAGE_MIM.' +&#10;       'EXTERNALLY_DEFINED_PACKAGE',&#10;       'PACKAGE_MIM.' +&#10;       'LIBRARY_DEFINED_PACKAGE'] * &#10;       TYPEOF (pdr.relating_product_definition)) = 1))) = 1)"/>
         <where label="WR6" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       pdr.used_representation\representation.name = 'package mounting data')) = 1))) = 1"/>
         <where label="WR7" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = 'package mounting data')&#10;       AND (SIZEOF (QUERY (item &lt;* USEDIN( pdr.used_representation,&#10;       'PACKAGE_MIM.' +&#10;       'REPRESENTATION.ITEMS') | item\representation_item.name =&#10;       'maximum body height above seating plane')) = 1)&#10;       )) = 1))) = 1"/>
         <where label="WR8" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = 'package mounting data')&#10;       AND (SIZEOF (QUERY (item &lt;* USEDIN( pdr.used_representation,&#10;       'PACKAGE_MIM.' +&#10;       'REPRESENTATION.ITEMS') | item\representation_item.name =&#10;       'maximum body height below seating plane')) = 1)&#10;       )) = 1))) &lt;= 1"/>
         <where label="WR9" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = 'package mounting data')&#10;       AND (SIZEOF (QUERY (item &lt;* USEDIN( pdr.used_representation,&#10;       'PACKAGE_MIM.' +&#10;       'REPRESENTATION.ITEMS') | item\representation_item.name =&#10;       'maximum body clearance above seating plane')) = 1)&#10;       )) = 1))) &lt;= 1"/>
         <where label="WR10" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = 'package mounting data')&#10;       AND (SIZEOF (QUERY (item &lt;* USEDIN( pdr.used_representation,&#10;       'PACKAGE_MIM.' +&#10;       'REPRESENTATION.ITEMS') | item\representation_item.name =&#10;       'maximum body clearance below seating plane')) = 1)&#10;       )) = 1))) &lt;= 1"/>
         <where label="WR11" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = 'package mounting data')&#10;       AND (SIZEOF (QUERY (item &lt;* USEDIN( pdr.used_representation,&#10;       'PACKAGE_MIM.' +&#10;       'REPRESENTATION.ITEMS') | item\representation_item.name =&#10;       'minimum body clearance above seating plane')) = 1)&#10;       )) = 1))) &lt;= 1"/>
         <where label="WR12" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = 'package mounting data')&#10;       AND (SIZEOF (QUERY (item &lt;* USEDIN( pdr.used_representation,&#10;       'PACKAGE_MIM.' +&#10;       'REPRESENTATION.ITEMS') | item\representation_item.name =&#10;       'minimum body clearance below seating plane')) = 1)&#10;       )) = 1))) &lt;= 1"/>
         <where label="WR13" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = 'package mounting data')&#10;       AND (SIZEOF (QUERY (item &lt;* USEDIN( pdr.used_representation,&#10;       'PACKAGE_MIM.' +&#10;       'REPRESENTATION.ITEMS') | item\representation_item.name =&#10;       'maximum lead length below seating plane')) = 1)&#10;       )) = 1))) &lt;= 1"/>
         <where label="WR14" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = 'package mounting data')&#10;       AND (SIZEOF (QUERY (item &lt;* USEDIN( pdr.used_representation,&#10;       'PACKAGE_MIM.' +&#10;       'REPRESENTATION.ITEMS') | item\representation_item.name =&#10;       'least lead length below seating plane')) = 1)&#10;       )) = 1))) &lt;= 1"/>
         <where label="WR15" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       (('PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT' IN TYPEOF(sa)) AND&#10;       (SIZEOF (QUERY ( sar &lt;* USEDIN(sa,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;        ((sar\shape_aspect_relationship.name = 'package seating plane') AND&#10;        ('PACKAGE_MIM.' +&#10;       'SEATING_PLANE' IN TYPEOF(sar.related_shape_aspect))) )) = 1))&#10;       )) = 1)&#10;       )&#10;       ) = 1"/>
         <where label="WR16" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('PACKAGE_MIM.' +&#10;       'SEATING_PLANE' IN&#10;       TYPEOF (sa)))) = 1))) = 1"/>
         <where label="WR17" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       (('PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT' IN TYPEOF(sa)) AND&#10;       (SIZEOF (QUERY ( sar &lt;* USEDIN(sa,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;        ((sar\shape_aspect_relationship.name = 'of datum reference plane') AND&#10;        ('PACKAGE_MIM.' +&#10;       'DATUM_REFERENCE_FRAME' IN TYPEOF(sar.related_shape_aspect))) )) = 1))&#10;       )) = 1)&#10;       )&#10;       ) &lt;= 1"/>
         <where label="WR18" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('PACKAGE_MIM.' +&#10;       'PRIMARY_REFERENCE_TERMINAL' IN TYPEOF(sa))&#10;       )) = 1)&#10;       )&#10;       ) &lt;= 1"/>
      </entity>
      <entity name="package_body" supertypes="shape_aspect">
         <where label="WR1" expression="SIZEOF (TYPEOF (SELF.of_shape.definition) *&#10;       ['PACKAGE_MIM.' +&#10;       'PACKAGE',&#10;       'PACKAGE_MIM.' +&#10;       'EXTERNALLY_DEFINED_PACKAGE',&#10;       'PACKAGE_MIM.' +&#10;       'LIBRARY_DEFINED_PACKAGE']) = 1"/>
         <where label="WR2" expression="SIZEOF (USEDIN (SELF, &#10;        'PACKAGE_MIM.' +&#10;       'MATERIAL_DESIGNATION.DEFINITIONS')) = 1"/>
      </entity>
      <entity name="package_body_bottom_surface" supertypes="package_body_surface"/>
      <entity name="package_body_edge_segment_surface" supertypes="shape_aspect shape_aspect_relationship">
         <where label="WR1" expression="'PACKAGE_MIM.' +&#10;       'EDGE_SEGMENT_VERTEX' IN&#10;       TYPEOF (SELF\shape_aspect_relationship.related_shape_aspect)"/>
         <where label="WR2" expression="'PACKAGE_MIM.' +&#10;       'EDGE_SEGMENT_VERTEX' IN&#10;       TYPEOF (SELF\shape_aspect_relationship.relating_shape_aspect)"/>
         <where label="WR3" expression="SELF\shape_aspect_relationship.relating_shape_aspect :&lt;&gt;:&#10;       SELF\shape_aspect_relationship.related_shape_aspect"/>
         <where label="WR4" expression="SIZEOF (QUERY (ce &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'composed surface') |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_BODY_EDGE_SURFACE' IN TYPEOF&#10;       (ce.relating_shape_aspect) ))) = 1"/>
         <where label="WR5" expression="SIZEOF(TYPEOF(SELF) - TYPEOF(SELF\shape_aspect ||&#10;       SELF\shape_aspect_relationship ||&#10;       SELF\package_body_edge_segment_surface)) = 0"/>
      </entity>
      <entity name="package_body_edge_surface" supertypes="package_body_surface">
         <where label="WR1" expression="SELF\shape_aspect.product_definitional"/>
         <where label="WR2" expression="SIZEOF(TYPEOF(SELF) - TYPEOF(SELF\shape_aspect ||&#10;       SELF\part_mounting_feature ||&#10;       SELF\package_body_edge_surface ||&#10;       SELF\package_body_surface)) = 0"/>
      </entity>
      <entity name="package_body_surface" abstract.supertype="YES" supertypes="shape_aspect" super.expression="ONEOF (package_body_top_surface, package_body_edge_surface, package_body_bottom_surface)">
         <where label="WR1" expression="SIZEOF (TYPEOF (SELF.of_shape.definition) *&#10;       ['PACKAGE_MIM.' +&#10;       'PACKAGE',&#10;       'PACKAGE_MIM.' +&#10;       'EXTERNALLY_DEFINED_PACKAGE',&#10;       'PACKAGE_MIM.' +&#10;       'LIBRARY_DEFINED_PACKAGE']) = 1"/>
         <where label="WR2" expression="SELF\shape_aspect.product_definitional"/>
         <where label="WR3" expression="SIZEOF (QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (TYPEOF(sar\shape_aspect_relationship.relating_shape_aspect) = &#10;       ['PACKAGE_MIM.' +&#10;       'PACKAGE_BODY']))) = 1"/>
      </entity>
      <entity name="package_body_top_surface" supertypes="package_body_surface"/>
      <entity name="package_terminal" supertypes="shape_aspect" super.expression="(guided_wave_terminal ANDOR wire_terminal) ANDOR primary_reference_terminal">
         <where label="WR1" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_REPRESENTATION' IN&#10;       TYPEOF (pdr.used_representation))) &gt;= 1))) = 0"/>
         <where label="WR2" expression="SIZEOF (TYPEOF (SELF.of_shape.definition) *&#10;       ['PACKAGE_MIM.' +&#10;       'PACKAGE',&#10;       'PACKAGE_MIM.' +&#10;       'EXTERNALLY_DEFINED_PACKAGE',&#10;       'PACKAGE_MIM.' +&#10;       'LIBRARY_DEFINED_PACKAGE']) = 1"/>
         <where label="WR3" expression="SIZEOF (QUERY (sar &lt;* USEDIN (SELF, &#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |(&#10;       'PACKAGE_MIM.' +&#10;       'PRODUCT_DEFINITION' IN TYPEOF (sar.relating_shape_aspect.of_shape.definition)) AND&#10;       (sar\shape_aspect_relationship.name = 'terminal core material') AND&#10;       (sar.relating_shape_aspect.of_shape.definition.&#10;        frame_of_reference\application_context_element.name = 'material definition') &#10;       )) &lt;= 1"/>
         <where label="WR4" expression="SIZEOF (QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |(&#10;       'PACKAGE_MIM.' +&#10;       'PRODUCT_DEFINITION' IN TYPEOF (sar.relating_shape_aspect.of_shape.definition)) AND&#10;       (sar\shape_aspect_relationship.name = 'terminal surface material') AND&#10;       (sar.relating_shape_aspect.of_shape.definition.&#10;        frame_of_reference\application_context_element.name = 'material definition') &#10;       )) = 1"/>
         <where label="WR5" expression="SIZEOF (QUERY (mct &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'member connected terminal') |&#10;       'PACKAGE_MIM.' +&#10;       'PART_CONNECTED_TERMINALS_DEFINITION'&#10;       IN TYPEOF (mct.relating_shape_aspect))) &lt;= 1"/>
         <where label="WR6" expression="SIZEOF (QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name  = 'external connection zone') AND&#10;       (sar.related_shape_aspect\shape_aspect.description = 'connection zone'))) &gt;= 0"/>
         <where label="WR7" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       SIZEOF (QUERY (lmwu &lt;* QUERY (it &lt;* pdr.used_representation.items |&#10;       SIZEOF (&#10;       ['PACKAGE_MIM.' +&#10;       'MEASURE_REPRESENTATION_ITEM',&#10;       'PACKAGE_MIM.' +&#10;       'LENGTH_MEASURE_WITH_UNIT'] *&#10;       TYPEOF (it)) = 2) |&#10;       lmwu\representation_item.name = 'maximum terminal diametrical extent')) &#10;        &lt;= 1)) &lt;= 1)) &lt;= 1"/>
         <where label="WR8" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       SIZEOF (QUERY (lmwu &lt;* QUERY (it &lt;* pdr.used_representation.items |&#10;       SIZEOF (&#10;       ['PACKAGE_MIM.' +&#10;       'MEASURE_REPRESENTATION_ITEM',&#10;       'PACKAGE_MIM.' +&#10;       'LENGTH_MEASURE_WITH_UNIT'] *&#10;       TYPEOF (it)) = 2) |&#10;       lmwu\representation_item.name = 'minimum terminal diametrical extent')) &#10;         &lt;= 1)) &lt;= 1)) &lt;= 1"/>
         <where label="WR9" expression="SIZEOF(QUERY ( sar &lt;* USEDIN (SELF,&#10;      'PACKAGE_MIM.' +&#10;      'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'precedent feaure' ))&#10;       &lt;= 1"/>
         <where label="WR10" expression="SIZEOF(QUERY ( sar &lt;* USEDIN (SELF,&#10;      'PACKAGE_MIM.' +&#10;      'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'precedent feaure' ))&#10;       &lt;= 1"/>
         <where label="WR11" expression="SIZEOF (QUERY (eca &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'seating plane zone') |&#10;       'PACKAGE_MIM.' +&#10;       'CONNECTION_ZONE_INTERFACE_PLANE_RELATIONSHIP' IN&#10;       TYPEOF (eca.related_shape_aspect))) &lt;= 1"/>
      </entity>
      <entity name="primary_orientation_feature" supertypes="physical_unit_datum_feature">
         <where label="WR1" expression="SELF\shape_aspect.product_definitional = TRUE"/>
         <where label="WR2" expression="SIZEOF (QUERY (it &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'associated body vertical extent') |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_BODY_BOTTOM_SURFACE' IN&#10;       TYPEOF (it.relating_shape_aspect)) &#10;       )) &lt;= 1"/>
         <where label="WR3" expression="SIZEOF (QUERY (it &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'associated body vertical extent') |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_BODY_TOP_SURFACE' IN&#10;       TYPEOF (it.relating_shape_aspect)) &#10;       )) &lt;= 1"/>
      </entity>
      <entity name="primary_reference_terminal" supertypes="package_terminal">
         <where label="WR1" expression="SIZEOF(QUERY ( sar &lt;* USEDIN (SELF,&#10;      'PACKAGE_MIM.' +&#10;      'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'precedent feaure' ))&#10;       = 0"/>
         <where label="WR2" expression="SIZEOF(QUERY ( sar &lt;* USEDIN (SELF,&#10;      'PACKAGE_MIM.' +&#10;      'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'precedent feaure' ))&#10;       &lt;= 1"/>
      </entity>
      <entity name="secondary_orientation_feature" supertypes="physical_unit_datum_feature">
         <where label="WR1" expression="SIZEOF ((TYPEOF (SELF)) * &#10;      ['PACKAGE_MIM.' +&#10;       'PRIMARY_ORIENTATION_FEATURE',&#10;       'PACKAGE_MIM.' +&#10;       'SEATING_PLANE',&#10;       'PACKAGE_MIM.' +&#10;       'VIEWING_PLANE',&#10;       'PACKAGE_MIM.' +&#10;       'PHYSICAL_UNIT_DATUM',&#10;       'PACKAGE_MIM.' +&#10;       'COMPONENT_DEFINITION']) = 0"/>
         <where label="WR2" expression="SELF.product_definitional = TRUE"/>
         <where label="WR3" expression="SIZEOF (QUERY (it &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'associated body vertical extent') |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_BODY_BOTTOM_SURFACE' IN&#10;       TYPEOF (it.relating_shape_aspect))&#10;       )) &lt;= 1"/>
         <where label="WR4" expression="SIZEOF (QUERY (it &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'associated body vertical extent') |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_BODY_TOP_SURFACE' IN&#10;       TYPEOF (it.relating_shape_aspect))&#10;       )) &lt;= 1"/>
      </entity>
      <entity name="tertiary_orientation_feature" supertypes="physical_unit_datum_feature">
         <where label="WR1" expression="SIZEOF ((TYPEOF (SELF)) * &#10;      ['PACKAGE_MIM.' +&#10;       'PRIMARY_ORIENTATION_FEATURE',&#10;       'PACKAGE_MIM.' +&#10;       'SECONDARY_ORIENTATION_FEATURE',&#10;       'PACKAGE_MIM.' +&#10;       'SEATING_PLANE',&#10;       'PACKAGE_MIM.' +&#10;       'VIEWING_PLANE',&#10;       'PACKAGE_MIM.' +&#10;       'PHYSICAL_UNIT_DATUM',&#10;       'PACKAGE_MIM.' +&#10;       'COMPONENT_DEFINITION']) = 0"/>
         <where label="WR2" expression="SELF.product_definitional = TRUE"/>
         <where label="WR3" expression="SIZEOF (QUERY (it &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'associated body vertical extent') |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_BODY_BOTTOM_SURFACE' IN&#10;       TYPEOF (it.relating_shape_aspect))&#10;       )) &lt;= 1"/>
         <where label="WR4" expression="SIZEOF (QUERY (it &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'associated body vertical extent') |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_BODY_TOP_SURFACE' IN&#10;       TYPEOF (it.relating_shape_aspect))&#10;       )) &lt;= 1"/>
      </entity>
      <entity name="wire_terminal" supertypes="package_terminal">
         <where label="WR1" expression="(SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (NOT (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (SIZEOF (QUERY (it &lt;* pdr.used_representation.items |&#10;       (('PACKAGE_MIM.' +&#10;       'MEASURE_REPRESENTATION_ITEM') IN TYPEOF (it))&#10;       AND&#10;       (('PACKAGE_MIM.' +&#10;       'LENGTH_UNIT') IN&#10;   TYPEOF (it\measure_with_unit.unit_component)))) = 2))) = 1)) )) = 0)"/>
         <where label="WR2" expression="(SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (NOT (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (SIZEOF (QUERY (it &lt;* pdr.used_representation.items | (&#10;       'PACKAGE_MIM.' +&#10;       'MEASURE_REPRESENTATION_ITEM' IN TYPEOF (it)) AND&#10;       (it\representation_item.name = 'maximum wire terminal length')&#10;       AND&#10;       (('PACKAGE_MIM.' +&#10;       'LENGTH_UNIT') IN&#10;        TYPEOF (it\measure_with_unit.unit_component)))) = 1&#10;                                               ))) = 1)) )) = 0)"/>
         <where label="WR3" expression="(SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (NOT (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PACKAGE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (SIZEOF (QUERY (it &lt;* pdr.used_representation.items | (&#10;       'PACKAGE_MIM.' +&#10;       'MEASURE_REPRESENTATION_ITEM' IN TYPEOF (it)) AND&#10;       (it\representation_item.name = 'minimum wire terminal length')&#10;       AND&#10;       (('PACKAGE_MIM.' +&#10;       'LENGTH_UNIT') IN&#10;       TYPEOF (it\measure_with_unit.unit_component)))) = 1)))&#10;                                                     = 1)) )) = 0)"/>
         <where label="WR4" expression="(SIZEOF (QUERY (sar &lt;* USEDIN (SELF,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name  = 'internal connection zone') AND&#10;       (sar.related_shape_aspect\shape_aspect.description = 'connection zone'))) = 1)"/>
      </entity>
      <subtype.constraint name="package_part_feature_subtypes" entity="shape_aspect" super.expression="ONEOF (physical_unit_datum_feature, package_body)"/>
      <rule name="package_unique_constraint" appliesto="package">
         <algorithm>LOCAL
  p : BAG OF physical_unit := QUERY( r &lt;* package |
(r.frame_of_reference.name = 'physical design usage') );
(**  edp : BAG OF physical_unit := QUERY( r &lt;* externally_defined_package |
(r.frame_of_reference.name = 'physical design usage') );
  ldp : BAG OF physical_unit := QUERY( r &lt;* library_defined_package |
(r.frame_of_reference.name = 'physical design usage') ); *)
  pu : BAG OF physical_unit;
  pd_bag : BAG OF property_definition;
  pdr_bag : BAG OF property_definition_representation;
  pass : BOOLEAN := TRUE;
  r_bag : BAG OF representation := [];
END_LOCAL;

pu := p; -- + edp + ldp;

REPEAT i := 1 to SIZEOF(pu) by 1;
  IF ( NOT pass ) THEN ESCAPE;
  END_IF;
  pd_bag := USEDIN( pu[i], 
'PACKAGE_MIM.' +
'PROPERTY_DEFINITION.DEFINITION' );
  REPEAT j := 1 to SIZEOF(pd_bag) by 1;
    IF ( NOT pass ) THEN ESCAPE;
    END_IF;
    pdr_bag := QUERY( pdr &lt;* USEDIN( pd_bag[j], 
'PACKAGE_MIM.' +
'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) | 
(pdr.used_representation\representation.name =
'registered case style') );
    REPEAT k := 1 to SIZEOF(pdr_bag) by 1;
      IF EXISTS( pdr_bag[k].used_representation ) THEN
        IF ( pdr_bag[k].used_representation IN r_bag ) THEN
          pass := FALSE;
          ESCAPE;
        ELSE
          r_bag := r_bag + pdr_bag[k].used_representation;
        END_IF;
      END_IF;
    END_REPEAT;
  END_REPEAT;
END_REPEAT;</algorithm>
         <where label="WR1" expression="pass"/>
      </rule>
      <rule name="polarity_indication_feature_constraint" appliesto="shape_aspect">
         <where label="WR1" expression="SIZEOF (QUERY ( sa &lt;* shape_aspect | NOT(&#10;       NOT (sa\shape_aspect.description = 'polarity indication feature') OR &#10;       (SIZEOF (QUERY (it &lt;* QUERY (sar &lt;* USEDIN (sa,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name = 'associated body vertical extent')&#10;       ) |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_BODY_BOTTOM_SURFACE' IN&#10;       TYPEOF (it.relating_shape_aspect))&#10;       )) &lt;= 1) &#10;       ))) = 0"/>
         <where label="WR2" expression="SIZEOF (QUERY ( sa &lt;* shape_aspect | NOT(&#10;       NOT (sa\shape_aspect.description = 'polarity indication feature') OR &#10;       (SIZEOF (QUERY (it &lt;* QUERY (sar &lt;* USEDIN (sa,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name = 'associated body vertical extent')&#10;       ) |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_BODY_TOP_SURFACE' IN&#10;       TYPEOF (it.relating_shape_aspect)) &#10;       )) &lt;= 1)&#10;       ))) = 0"/>
         <where label="WR3" expression="SIZEOF (QUERY ( sa &lt;* shape_aspect | NOT(&#10;       NOT (sa\shape_aspect.description = 'polarity indication feature') OR &#10;       (SIZEOF (QUERY (it &lt;* QUERY (sar &lt;* USEDIN (sa,&#10;       'PACKAGE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name = 'associated terminal')&#10;       ) |&#10;       ('PACKAGE_MIM.' +&#10;       'PACKAGE_TERMINAL' IN&#10;       TYPEOF (it.relating_shape_aspect))&#10;       )) = 1)&#10;       ))) = 0"/>
      </rule>
   </schema>
</express>
