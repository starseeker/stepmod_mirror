<?xml version="1.0"?>
<!-- $Id: arm.xml,v 1.10 2002/09/02 09:03:17 goset1 Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  description.file="arm_descriptions.xml"
  rcs.date="$Date: 2002/09/02 09:03:17 $"
  rcs.revision="$Revision: 1.10 $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.22"
    source="../data/modules/person_organization/arm.exp"/>

  <schema name="Person_organization_arm">
    <type name="organization_or_person_in_organization_select">
      <select
        selectitems="Organization Person_in_organization">
      </select>

    </type>
    <entity
      name="Address">
      <explicit
        name="name"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="street_number"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="street"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="postal_box"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="town"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="region"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="postal_code"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="country"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="internal_location"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="facsimile_number"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="telephone_number"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="electronic_mail_address"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="telex_number"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="url"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <where
        label="WR1"
        expression="(EXISTS (street_number) OR         EXISTS (street) OR         EXISTS (postal_box) OR         EXISTS (town) OR         EXISTS (region) OR         EXISTS (postal_code) OR         EXISTS (country) OR         EXISTS (internal_location) OR         EXISTS (facsimile_number) OR 	   EXISTS (telephone_number) OR         EXISTS (electronic_mail_address) OR         EXISTS (telex_number))">
      </where>
    </entity>

    <entity
      name="Address_assignment">
      <explicit
        name="address_type"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="assigned_address">
        <typename
          name="Address"/>
      </explicit>
      <explicit
        name="located_person_organizations">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organization_or_person_in_organization_select"/>
      </explicit>
    </entity>

    <entity
      name="Organization">
      <explicit
        name="id">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="name">
        <builtintype
          type="STRING"/>
      </explicit>
    </entity>

    <entity
      name="Organization_relationship">
      <explicit
        name="relation_type">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="relating_organization">
        <typename
          name="Organization"/>
      </explicit>
      <explicit
        name="related_organization">
        <typename
          name="Organization"/>
      </explicit>
    </entity>

    <entity
      name="Person">
      <explicit
        name="last_name">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="first_name"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="middle_names"
        optional="YES">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="STRING"/>
      </explicit>
      <explicit
        name="prefix_titles"
        optional="YES">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="STRING"/>
      </explicit>
      <explicit
        name="suffix_titles"
        optional="YES">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="STRING"/>
      </explicit>
    </entity>

    <entity
      name="Person_in_organization">
      <explicit
        name="concerned_person">
        <typename
          name="Person"/>
      </explicit>
      <explicit
        name="containing_organization">
        <typename
          name="Organization"/>
      </explicit>
      <explicit
        name="role">
        <builtintype
          type="STRING"/>
      </explicit>
      <unique
        label="person_is_unique_in_organization">
        <unique.attribute
          attribute="concerned_person"/>
        <unique.attribute
          attribute="containing_organization"/>
      </unique>
    </entity>

  </schema>

</express>
