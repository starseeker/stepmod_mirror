<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-04-19T13:26:57" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="physical_unit_2d_design_view_mim schema_instance"/>
   <schema name="Physical_unit_2d_design_view_mim">
      <interface kind="use" schema="Assembly_module_with_interconnect_component_mim"/>
      <interface kind="use" schema="Physical_unit_2d_shape_mim"/>
      <interface kind="reference" schema="Physical_unit_usage_view_mim">
         <interfaced.item name="is_laminate_component"/>
      </interface>
      <interface kind="reference" schema="Physical_unit_design_view_mim">
         <interfaced.item name="is_interconnect_module_occurrence"/>
      </interface>
      <interface kind="reference" schema="support_resource_schema">
         <interfaced.item name="bag_to_set"/>
      </interface>
      <entity name="component_2d_location" supertypes="context_dependent_shape_representation shape_representation_relationship representation_relationship_with_transformation definitional_representation_relationship"/>
      <rule name="component_part_2d_geometric_representation_relationship_constraint" appliesto="shape_representation_relationship">
         <algorithm> LOCAL rr : SET OF representation_relationship := QUERY ( srr &lt;* shape_representation_relationship | srr \ representation_relationship . name = 'component part planar shape' ) ; pass : BOOLEAN := TRUE ; grc1 : Geometric_representation_context := ? ; grc2 : Geometric_representation_context := ? ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( rr ) by 1 ; grc1 := rr [ i ] . rep_1 . context_of_items ; grc2 := rr [ i ] . rep_2 . context_of_items ; IF ( ( grc1 . coordinate_space_dimension ) &lt;&gt; ( grc2 . coordinate_space_dimension ) ) THEN pass := FALSE ; END_IF ; END_REPEAT ; </algorithm>
         <where label="WR1" expression=" pass "/>
      </rule>
      <function name="component_definition_located_by_component_location">
         <parameter name="cl">
            <typename name="component_2d_location"/>
         </parameter>
         <typename name="component_definition"/>
         <algorithm> LOCAL pdr : BAG OF property_definition_representation := USEDIN ( cl , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) ; pd : property_definition := ? ; END_LOCAL ; REPEAT i := 1 TO HIINDEX ( pdr ) BY 1 ; IF ( 'PRODUCT_PROPERTY_DEFINITION_SCHEMA.' + 'PROPERTY_DEFINITION' IN TYPEOF ( pdr [ i ] . definition ) ) THEN pd := pdr [ i ] . definition ; IF ( ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pd . definition ) ) AND ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'COMPONENT_DEFINITION' IN TYPEOF ( pd . definition \ product_definition_relationship . related_product_definition ) ) ) THEN RETURN ( pd . definition \ product_definition_relationship . related_product_definition ) ; END_IF ; END_IF ; END_REPEAT ; RETURN ( ? ) ; </algorithm>
      </function>
      <function name="cto2d_determinant_test">
         <parameter name="cto2d">
            <typename name="cartesian_transformation_operator_2d"/>
         </parameter>
         <parameter name="expected_value">
            <builtintype type="REAL"/>
         </parameter>
         <parameter name="delta">
            <builtintype type="REAL"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL det : REAL := 0.0 ; DRs : LIST [ 4 : 4 ] OF REAL := [ ] ; END_LOCAL ; DRs [ 1 ] := cto2d . u [ 1 ] . direction_ratios [ 1 ] ; DRs [ 2 ] := cto2d . u [ 1 ] . direction_ratios [ 2 ] ; DRs [ 3 ] := cto2d . u [ 2 ] . direction_ratios [ 1 ] ; DRs [ 4 ] := cto2d . u [ 2 ] . direction_ratios [ 2 ] ; det := ( DRs [ 1 ] * DRs [ 4 ] ) - ( DRs [ 2 ] * DRs [ 3 ] ) ; IF ( Abs ( expected_value - det ) &lt; Abs ( delta ) ) THEN RETURN ( TRUE ) ; ELSE RETURN ( FALSE ) ; END_IF ; </algorithm>
      </function>
      <function name="is_bottom_footprint_occurrence">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pds : SET OF property_definition := BAG_TO_SET ( USEDIN ( pd , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) ) ; fo : SET OF shape_aspect := [ ] ; sar : SET OF shape_aspect_relationship := [ ] ; dri : SET OF descriptive_representation_item := [ ] ; pdr : SET OF property_definition_representation := [ ] ; pass : BOOLEAN := FALSE ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( pds ) by 1 ; fo := fo + BAG_TO_SET ( QUERY ( sa &lt;* ( USEDIN ( pds [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) ) | 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'FOOTPRINT_OCCURRENCE' IN TYPEOF ( sa ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( fo ) by 1 ; sar := sar + BAG_TO_SET ( QUERY ( sar &lt;* ( USEDIN ( fo [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'FOOTPRINT_DEFINITION' IN TYPEOF ( sar . relating_shape_aspect . of_shape . definition ) ) AND ( 'usage definition' = sar \ shape_aspect_relationship . name ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( sar ) by 1 ; pdr := pdr + BAG_TO_SET ( QUERY ( pdr &lt;* ( USEDIN ( sar [ i ] . relating_shape_aspect . of_shape . definition , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'REPRESENTATION' IN TYPEOF ( pdr . used_representation ) ) AND ( pdr . used_representation \ representation . name = 'product definition context description' ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( pdr ) by 1 ; dri := dri + ( QUERY ( dri &lt;* pdr [ i ] . used_representation . items | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF ( dri ) ) AND ( dri \ representation_item . name = 'text' ) AND ( dri . description = 'bottom' ) ) ) ; END_REPEAT ; IF ( SIZEOF ( dri ) = 1 ) THEN RETURN ( TRUE ) ; END_IF ; RETURN ( pass ) ; </algorithm>
      </function>
      <function name="is_bottom_footprint_occurrence_location">
         <parameter name="cl">
            <typename name="component_2d_location"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pdrs : SET OF property_definition_representation := BAG_TO_SET ( USEDIN ( cl , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) ) ; END_LOCAL ; IF sizeof ( pdrs ) = 1 THEN IF ( ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pdrs [ 1 ] . definition . definition ) ) AND ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'ASSEMBLY_GROUP_COMPONENT_DEFINITION' IN TYPEOF ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) AND is_bottom_footprint_occurrence ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) THEN RETURN ( TRUE ) ; ELSE RETURN ( FALSE ) ; END_IF ; ELSE RETURN ( FALSE ) ; END_IF ; </algorithm>
      </function>
      <function name="is_bottom_padstack_occurrence">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pds : SET OF property_definition := BAG_TO_SET ( USEDIN ( pd , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) ) ; fo : SET OF shape_aspect := [ ] ; sar : SET OF shape_aspect_relationship := [ ] ; dri : SET OF descriptive_representation_item := [ ] ; pdr : SET OF property_definition_representation := [ ] ; pass : BOOLEAN := FALSE ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( pds ) by 1 ; fo := fo + BAG_TO_SET ( QUERY ( sa &lt;* ( USEDIN ( pds [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) ) | 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PADSTACK_OCCURRENCE' IN TYPEOF ( sa ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( fo ) by 1 ; sar := sar + BAG_TO_SET ( QUERY ( sar &lt;* ( USEDIN ( fo [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PADSTACK_DEFINITION' IN TYPEOF ( sar . relating_shape_aspect . of_shape . definition ) ) AND ( 'usage definition' = sar \ shape_aspect_relationship . name ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( sar ) by 1 ; pdr := pdr + BAG_TO_SET ( QUERY ( pdr &lt;* ( USEDIN ( sar [ i ] . relating_shape_aspect . of_shape . definition , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'REPRESENTATION' IN TYPEOF ( pdr . used_representation ) ) AND ( pdr . used_representation \ representation . name = 'product definition context description' ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( pdr ) by 1 ; dri := dri + ( QUERY ( dri &lt;* pdr [ i ] . used_representation . items | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF ( dri ) ) AND ( dri \ representation_item . name = 'text' ) AND ( dri . description = 'bottom' ) ) ) ; END_REPEAT ; IF ( SIZEOF ( dri ) = 1 ) THEN RETURN ( TRUE ) ; END_IF ; RETURN ( pass ) ; </algorithm>
      </function>
      <function name="is_bottom_padstack_occurrence_location">
         <parameter name="cl">
            <typename name="component_2d_location"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pdrs : SET OF property_definition_representation := BAG_TO_SET ( USEDIN ( cl , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) ) ; END_LOCAL ; IF sizeof ( pdrs ) = 1 THEN IF ( ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pdrs [ 1 ] . definition . definition ) ) AND ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'ASSEMBLY_GROUP_COMPONENT_DEFINITION' IN TYPEOF ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) AND is_bottom_padstack_occurrence ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) THEN RETURN ( TRUE ) ; ELSE RETURN ( FALSE ) ; END_IF ; ELSE RETURN ( FALSE ) ; END_IF ; </algorithm>
      </function>
      <function name="is_interconnect_module_component_location">
         <parameter name="cl">
            <typename name="component_2d_location"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pdrs : SET OF property_definition_representation := BAG_TO_SET ( USEDIN ( cl , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) ) ; END_LOCAL ; IF sizeof ( pdrs ) = 1 THEN IF ( ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pdrs [ 1 ] . definition . definition ) ) AND ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'COMPONENT_DEFINITION' IN TYPEOF ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) AND is_interconnect_module_occurrence ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) THEN RETURN ( TRUE ) ; ELSE RETURN ( FALSE ) ; END_IF ; ELSE RETURN ( FALSE ) ; END_IF ; </algorithm>
      </function>
      <function name="is_laminate_component_location">
         <parameter name="cl">
            <typename name="component_2d_location"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pdrs : SET OF property_definition_representation := BAG_TO_SET ( USEDIN ( cl , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) ) ; END_LOCAL ; IF sizeof ( pdrs ) = 1 THEN IF ( ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pdrs [ 1 ] . definition . definition ) ) AND ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'COMPONENT_DEFINITION' IN TYPEOF ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) AND is_laminate_component ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) THEN RETURN ( TRUE ) ; ELSE RETURN ( FALSE ) ; END_IF ; ELSE RETURN ( FALSE ) ; END_IF ; </algorithm>
      </function>
      <function name="is_symmetrical_footprint_occurrence">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pds : SET OF property_definition := BAG_TO_SET ( USEDIN ( pd , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) ) ; fo : SET OF shape_aspect := [ ] ; sar : SET OF shape_aspect_relationship := [ ] ; dri : SET OF descriptive_representation_item := [ ] ; pdr : SET OF property_definition_representation := [ ] ; pass : BOOLEAN := FALSE ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( pds ) by 1 ; fo := fo + BAG_TO_SET ( QUERY ( sa &lt;* ( USEDIN ( pds [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) ) | 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'FOOTPRINT_OCCURRENCE' IN TYPEOF ( sa ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( fo ) by 1 ; sar := sar + BAG_TO_SET ( QUERY ( sar &lt;* ( USEDIN ( fo [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'FOOTPRINT_DEFINITION' IN TYPEOF ( sar . relating_shape_aspect . of_shape . definition ) ) AND ( 'usage definition' = sar \ shape_aspect_relationship . name ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( sar ) by 1 ; pdr := pdr + BAG_TO_SET ( QUERY ( pdr &lt;* ( USEDIN ( sar [ i ] . relating_shape_aspect . of_shape . definition , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'REPRESENTATION' IN TYPEOF ( pdr . used_representation ) ) AND ( pdr . used_representation \ representation . name = 'product definition context description' ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( pdr ) by 1 ; dri := dri + ( QUERY ( dri &lt;* pdr [ i ] . used_representation . items | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF ( dri ) ) AND ( dri \ representation_item . name = 'text' ) AND ( dri . description = 'symmetrical' ) ) ) ; END_REPEAT ; IF ( SIZEOF ( dri ) = 1 ) THEN RETURN ( TRUE ) ; END_IF ; RETURN ( pass ) ; </algorithm>
      </function>
      <function name="is_symmetrical_footprint_occurrence_location">
         <parameter name="cl">
            <typename name="component_2d_location"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pdrs : SET OF property_definition_representation := BAG_TO_SET ( USEDIN ( cl , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) ) ; END_LOCAL ; IF sizeof ( pdrs ) = 1 THEN IF ( ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pdrs [ 1 ] . definition . definition ) ) AND ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'ASSEMBLY_GROUP_COMPONENT_DEFINITION' IN TYPEOF ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) AND is_symmetrical_footprint_occurrence ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) THEN RETURN ( TRUE ) ; ELSE RETURN ( FALSE ) ; END_IF ; ELSE RETURN ( FALSE ) ; END_IF ; </algorithm>
      </function>
      <function name="is_symmetrical_padstack_occurrence">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pds : SET OF property_definition := BAG_TO_SET ( USEDIN ( pd , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) ) ; fo : SET OF shape_aspect := [ ] ; sar : SET OF shape_aspect_relationship := [ ] ; dri : SET OF descriptive_representation_item := [ ] ; pdr : SET OF property_definition_representation := [ ] ; pass : BOOLEAN := FALSE ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( pds ) by 1 ; fo := fo + BAG_TO_SET ( QUERY ( sa &lt;* ( USEDIN ( pds [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) ) | 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PADSTACK_OCCURRENCE' IN TYPEOF ( sa ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( fo ) by 1 ; sar := sar + BAG_TO_SET ( QUERY ( sar &lt;* ( USEDIN ( fo [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PADSTACK_DEFINITION' IN TYPEOF ( sar . relating_shape_aspect . of_shape . definition ) ) AND ( 'usage definition' = sar \ shape_aspect_relationship . name ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( sar ) by 1 ; pdr := pdr + BAG_TO_SET ( QUERY ( pdr &lt;* ( USEDIN ( sar [ i ] . relating_shape_aspect . of_shape . definition , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'REPRESENTATION' IN TYPEOF ( pdr . used_representation ) ) AND ( pdr . used_representation \ representation . name = 'product definition context description' ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( pdr ) by 1 ; dri := dri + ( QUERY ( dri &lt;* pdr [ i ] . used_representation . items | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF ( dri ) ) AND ( dri \ representation_item . name = 'text' ) AND ( dri . description = 'symmetrical' ) ) ) ; END_REPEAT ; IF ( SIZEOF ( dri ) = 1 ) THEN RETURN ( TRUE ) ; END_IF ; RETURN ( pass ) ; </algorithm>
      </function>
      <function name="is_symmetrical_padstack_occurrence_location">
         <parameter name="cl">
            <typename name="component_2d_location"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pdrs : SET OF property_definition_representation := BAG_TO_SET ( USEDIN ( cl , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) ) ; END_LOCAL ; IF sizeof ( pdrs ) = 1 THEN IF ( ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pdrs [ 1 ] . definition . definition ) ) AND ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'ASSEMBLY_GROUP_COMPONENT_DEFINITION' IN TYPEOF ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) AND is_symmetrical_padstack_occurrence ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) THEN RETURN ( TRUE ) ; ELSE RETURN ( FALSE ) ; END_IF ; ELSE RETURN ( FALSE ) ; END_IF ; </algorithm>
      </function>
      <function name="is_top_footprint_occurrence">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pds : SET OF property_definition := BAG_TO_SET ( USEDIN ( pd , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) ) ; fo : SET OF shape_aspect := [ ] ; sar : SET OF shape_aspect_relationship := [ ] ; dri : SET OF descriptive_representation_item := [ ] ; pdr : SET OF property_definition_representation := [ ] ; pass : BOOLEAN := FALSE ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( pds ) by 1 ; fo := fo + BAG_TO_SET ( QUERY ( sa &lt;* ( USEDIN ( pds [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) ) | 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'FOOTPRINT_OCCURRENCE' IN TYPEOF ( sa ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( fo ) by 1 ; sar := sar + BAG_TO_SET ( QUERY ( sar &lt;* ( USEDIN ( fo [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'FOOTPRINT_DEFINITION' IN TYPEOF ( sar . relating_shape_aspect . of_shape . definition ) ) AND ( 'usage definition' = sar \ shape_aspect_relationship . name ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( sar ) by 1 ; pdr := pdr + BAG_TO_SET ( QUERY ( pdr &lt;* ( USEDIN ( sar [ i ] . relating_shape_aspect . of_shape . definition , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'REPRESENTATION' IN TYPEOF ( pdr . used_representation ) ) AND ( pdr . used_representation \ representation . name = 'product definition context description' ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( pdr ) by 1 ; dri := dri + ( QUERY ( dri &lt;* pdr [ i ] . used_representation . items | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF ( dri ) ) AND ( dri \ representation_item . name = 'text' ) AND ( dri . description = 'top' ) ) ) ; END_REPEAT ; IF ( SIZEOF ( dri ) = 1 ) THEN RETURN ( TRUE ) ; END_IF ; RETURN ( pass ) ; </algorithm>
      </function>
      <function name="is_top_footprint_occurrence_location">
         <parameter name="cl">
            <typename name="component_2d_location"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pdrs : SET OF property_definition_representation := BAG_TO_SET ( USEDIN ( cl , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) ) ; END_LOCAL ; IF sizeof ( pdrs ) = 1 THEN IF ( ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pdrs [ 1 ] . definition . definition ) ) AND ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'ASSEMBLY_GROUP_COMPONENT_DEFINITION' IN TYPEOF ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) AND is_top_footprint_occurrence ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) THEN RETURN ( TRUE ) ; ELSE RETURN ( FALSE ) ; END_IF ; ELSE RETURN ( FALSE ) ; END_IF ; </algorithm>
      </function>
      <function name="is_top_padstack_occurrence">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pds : SET OF property_definition := BAG_TO_SET ( USEDIN ( pd , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) ) ; fo : SET OF shape_aspect := [ ] ; sar : SET OF shape_aspect_relationship := [ ] ; dri : SET OF descriptive_representation_item := [ ] ; pdr : SET OF property_definition_representation := [ ] ; pass : BOOLEAN := FALSE ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( pds ) by 1 ; fo := fo + BAG_TO_SET ( QUERY ( sa &lt;* ( USEDIN ( pds [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) ) | 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PADSTACK_OCCURRENCE' IN TYPEOF ( sa ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( fo ) by 1 ; sar := sar + BAG_TO_SET ( QUERY ( sar &lt;* ( USEDIN ( fo [ i ] , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PADSTACK_DEFINITION' IN TYPEOF ( sar . relating_shape_aspect . of_shape . definition ) ) AND ( 'usage definition' = sar \ shape_aspect_relationship . name ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( sar ) by 1 ; pdr := pdr + BAG_TO_SET ( QUERY ( pdr &lt;* ( USEDIN ( sar [ i ] . relating_shape_aspect . of_shape . definition , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) ) | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'REPRESENTATION' IN TYPEOF ( pdr . used_representation ) ) AND ( pdr . used_representation \ representation . name = 'product definition context description' ) ) ) ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( pdr ) by 1 ; dri := dri + ( QUERY ( dri &lt;* pdr [ i ] . used_representation . items | ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF ( dri ) ) AND ( dri \ representation_item . name = 'text' ) AND ( dri . description = 'top' ) ) ) ; END_REPEAT ; IF ( SIZEOF ( dri ) = 1 ) THEN RETURN ( TRUE ) ; END_IF ; RETURN ( pass ) ; </algorithm>
      </function>
      <function name="is_top_padstack_occurrence_location">
         <parameter name="cl">
            <typename name="component_2d_location"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> LOCAL pdrs : SET OF property_definition_representation := BAG_TO_SET ( USEDIN ( cl , 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) ) ; END_LOCAL ; IF sizeof ( pdrs ) = 1 THEN IF ( ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pdrs [ 1 ] . definition . definition ) ) AND ( 'PHYSICAL_UNIT_2D_DESIGN_VIEW_MIM.' + 'ASSEMBLY_GROUP_COMPONENT_DEFINITION' IN TYPEOF ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) AND is_top_padstack_occurrence ( pdrs [ 1 ] . definition . definition . related_product_definition ) ) THEN RETURN ( TRUE ) ; ELSE RETURN ( FALSE ) ; END_IF ; ELSE RETURN ( FALSE ) ; END_IF ; </algorithm>
      </function>
   </schema>
</express>
