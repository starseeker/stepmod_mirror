<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-01-06T19:57:05" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="physical_unit_3d_design_view_mim schema_instance"/>
   <schema name="Physical_unit_3d_design_view_mim">
      <interface kind="use" schema="Layered_3d_shape_mim"/>
      <interface kind="use" schema="Physical_unit_design_view_mim"/>
      <entity name="component_3d_location" supertypes="representation">
         <where label="WR1" expression=" SIZEOF ( QUERY ( it &lt;* SELF . items | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF ( it ) ) AND ( it \ representation_item . name = 'placement fixed' ) AND ( ( it \ descriptive_representation_item . description = 'true' ) OR ( it \ descriptive_representation_item . description = 'false' ) ) ) ) = 1 "/>
         <where label="WR2" expression=" SIZEOF ( QUERY ( it &lt;* SELF . items | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'DESCRIPTIVE_REPRESENTATION_ITEM' IN TYPEOF ( it ) ) ) ) = 1 "/>
         <where label="WR3" expression=" ( NOT ( SELF . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) ) OR ( SIZEOF ( QUERY ( it &lt;* SELF . items | 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'CARTESIAN_TRANSFORMATION_OPERATOR_2D' IN TYPEOF ( it ) ) ) = 1 ) "/>
         <where label="WR4" expression=" ( NOT ( SELF . context_of_items \ geometric_representation_context . coordinate_space_dimension = 3 ) ) OR ( SIZEOF ( QUERY ( it &lt;* SELF . items | 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'AXIS2_PLACEMENT_3D' IN TYPEOF ( it ) ) ) = 1 ) "/>
         <where label="WR5" expression=" SIZEOF ( QUERY ( it &lt;* SELF . items | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'MAPPED_ITEM' IN TYPEOF ( it ) ) ) ) = 1 "/>
         <where label="WR6" expression=" NOT ( SIZEOF ( QUERY ( it &lt;* SELF . items | 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'CARTESIAN_TRANSFORMATION_OPERATOR_2D' IN TYPEOF ( it ) ) ) = 1 ) OR ( SIZEOF ( QUERY ( cto2d &lt;* SELF . items | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'CARTESIAN_TRANSFORMATION_OPERATOR_2D' IN TYPEOF ( cto2d ) ) AND ( SIZEOF ( QUERY ( mi &lt;* USEDIN ( cto2d , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'MAPPED_ITEM.MAPPING_TARGET' ) | ( ( SIZEOF ( QUERY ( cl &lt;* USEDIN ( mi , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'REPRESENTATION.ITEMS' ) | ( cl = SELF ) ) ) = 1 ) ) ) ) &gt;= 1 ) ) ) = 1 ) "/>
         <where label="WR7" expression=" NOT ( SIZEOF ( QUERY ( it &lt;* SELF . items | 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'AXIS2_PLACEMENT_3D' IN TYPEOF ( it ) ) ) = 1 ) OR ( SIZEOF ( QUERY ( cto2d &lt;* SELF . items | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'AXIS2_PLACEMENT_3D' IN TYPEOF ( cto2d ) ) AND ( SIZEOF ( QUERY ( mi &lt;* USEDIN ( cto2d , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'MAPPED_ITEM.MAPPING_TARGET' ) | ( ( SIZEOF ( QUERY ( cl &lt;* USEDIN ( mi , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'REPRESENTATION.ITEMS' ) | ( cl = SELF ) ) ) = 1 ) ) ) ) = 1 ) ) ) = 1 ) "/>
         <where label="WR12" expression=" SIZEOF ( QUERY ( pdr &lt;* USEDIN ( SELF , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'SHAPE_ASPECT' IN TYPEOF ( pdr . definition . definition ) ) AND ( pdr . definition . definition \ shape_aspect . description = 'interconnect module component surface feature' ) ) ) = 0 "/>
         <where label="WR13" expression=" ( NOT ( ( SELF . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) AND ( SELF . context_of_items . context_type = 'component stacked' ) ) ) OR ( SIZEOF ( QUERY ( pdr &lt;* USEDIN ( SELF , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'ASSEMBLY_JOINT' IN TYPEOF ( pdr . definition . definition ) ) AND ( pdr . definition . definition . relating_shape_aspect \ shape_aspect . description = 'interconnect module component surface feature' ) ) ) = 0 ) "/>
         <where label="WR18" expression=" SIZEOF ( QUERY ( it &lt;* SELF \ representation . items | NOT ( SIZEOF ( [ 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'CARTESIAN_TRANSFORMATION_OPERATOR_2D' , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'MAPPED_ITEM' , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'DESCRIPTIVE_REPRESENTATION_ITEM' , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'AXIS2_PLACEMENT_3D' ] * TYPEOF ( it ) ) = 1 ) ) ) = 0 "/>
         <where label="WR19" expression=" SIZEOF ( QUERY ( it &lt;* SELF . items | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'AXIS2_PLACEMENT_3D' IN TYPEOF ( it ) ) AND ( it \ representation_item . name = 'origin' ) ) ) = 0 "/>
         <where label="WR20" expression=" SIZEOF ( QUERY ( it &lt;* SELF . items | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'MAPPED_ITEM' IN TYPEOF ( it ) ) AND NOT ( ( ( it \ representation_item . name = 'component assembly 2d position' ) OR ( it \ representation_item . name = 'component assembly 3d position' ) ) AND ( it . mapping_source . mapping_origin \ representation_item . name = 'origin' ) AND ( ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'AXIS2_PLACEMENT_2D' IN TYPEOF ( it . mapping_source . mapping_origin ) ) OR ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'AXIS2_PLACEMENT_3D' IN TYPEOF ( it . mapping_source . mapping_origin ) ) ) ) ) ) = 0 "/>
         <where label="WR21" expression=" SIZEOF ( QUERY ( pdr &lt;* USEDIN ( SELF , 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.USED_REPRESENTATION' ) | ( 'PHYSICAL_UNIT_3D_DESIGN_VIEW_MIM.' + 'NEXT_ASSEMBLY_USAGE_OCCURRENCE' IN TYPEOF ( pdr . definition . definition ) ) ) ) = 1 "/>
      </entity>
      <rule name="component_part_3d_geometric_representation_relationship_constraint" appliesto="shape_representation_relationship">
         <algorithm> LOCAL rr : SET OF representation_relationship := QUERY ( srr &lt;* shape_representation_relationship | srr \ representation_relationship . name = 'component part 3d shape' ) ; pass : BOOLEAN := TRUE ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( rr ) by 1 ; IF ( ( rr [ i ] . rep_1 . context_of_items . coordinate_space_dimension ) &lt;&gt; ( rr [ i ] . rep_2 . context_of_items . coordinate_space_dimension ) ) THEN pass := FALSE ; END_IF ; END_REPEAT ; </algorithm>
         <where label="WR1" expression=" pass "/>
      </rule>
      <rule name="component_part_3d_geometric_representation_relationship_constraint" appliesto="shape_representation_relationship">
         <algorithm> LOCAL rr : SET OF representation_relationship := QUERY ( srr &lt;* shape_representation_relationship | srr \ representation_relationship . name = 'component part 3d shape' ) ; pass : BOOLEAN := TRUE ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( rr ) by 1 ; IF ( ( rr [ i ] . rep_1 . context_of_items . coordinate_space_dimension ) &lt;&gt; ( rr [ i ] . rep_2 . context_of_items . coordinate_space_dimension ) ) THEN pass := FALSE ; END_IF ; END_REPEAT ; </algorithm>
         <where label="WR1" expression=" pass "/>
      </rule>
   </schema>
</express>
