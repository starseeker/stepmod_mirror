<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2004-12-14T12:24:21" rcs.revision="1.0" description.file="arm_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="physical_unit_3d_design_view_mim schema_instance"/>
   <schema name="Physical_unit_3d_design_view_mim">
      <interface kind="use" schema="LAYERED_3D_SHAPE_REPRESENTATION_RELATIONSHIP_MIM"/>
      <interface kind="use" schema="PHYSICAL_UNIT_DESIGN_VIEW_MIM"/>
      <entity name="component_3d_location" supertypes="representation">
         <where label="wr1" expression=" sizeof ( query ( it &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'descriptive_representation_item' in typeof ( it ) ) and ( it \ representation_item . name = 'placement fixed' ) and ( ( it \ descriptive_representation_item . description = 'true' ) or ( it \ descriptive_representation_item . description = 'false' ) ) ) ) = 1 "/>
         <where label="wr2" expression=" sizeof ( query ( it &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'descriptive_representation_item' in typeof ( it ) ) ) ) = 1 "/>
         <where label="wr3" expression=" ( not ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) ) or ( sizeof ( query ( it &lt;* self . items | 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( it ) ) ) = 1 ) "/>
         <where label="wr4" expression=" ( not ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 3 ) ) or ( sizeof ( query ( it &lt;* self . items | 'electronic_assembly_interconnect_and_packaging_design.' + 'axis2_placement_3d' in typeof ( it ) ) ) = 1 ) "/>
         <where label="wr5" expression=" sizeof ( query ( it &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'mapped_item' in typeof ( it ) ) ) ) = 1 "/>
         <where label="wr6" expression=" not ( sizeof ( query ( it &lt;* self . items | 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( it ) ) ) = 1 ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( sizeof ( query ( mi &lt;* usedin ( cto2d , 'electronic_assembly_interconnect_and_packaging_design.' + 'mapped_item.mapping_target' ) | ( ( sizeof ( query ( cl &lt;* usedin ( mi , 'electronic_assembly_interconnect_and_packaging_design.' + 'representation.items' ) | ( cl = self ) ) ) = 1 ) ) ) ) &gt;= 1 ) ) ) = 1 ) "/>
         <where label="wr7" expression=" not ( sizeof ( query ( it &lt;* self . items | 'electronic_assembly_interconnect_and_packaging_design.' + 'axis2_placement_3d' in typeof ( it ) ) ) = 1 ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'axis2_placement_3d' in typeof ( cto2d ) ) and ( sizeof ( query ( mi &lt;* usedin ( cto2d , 'electronic_assembly_interconnect_and_packaging_design.' + 'mapped_item.mapping_target' ) | ( ( sizeof ( query ( cl &lt;* usedin ( mi , 'electronic_assembly_interconnect_and_packaging_design.' + 'representation.items' ) | ( cl = self ) ) ) = 1 ) ) ) ) = 1 ) ) ) = 1 ) "/>
         <where label="wr8" expression=" not ( ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) and ( self . context_of_items . context_type = 'component surface' ) and ( ( sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( ( 'electronic_assembly_interconnect_and_packaging_design.' + 'assembly_joint' in typeof ( pdr . definition . definition ) ) and ( pdr . name = 'mounting surface assembly joint' ) and ( pdr . definition . definition . relating_shape_aspect \ shape_aspect . description = 'interconnect module component surface feature' ) and ( sizeof ( query ( sar &lt;* usedin ( pdr . definition . definition . relating_shape_aspect , 'electronic_assembly_interconnect_and_packaging_design.' + 'shape_aspect_relationship.related_shape_aspect' ) | ( ( sar . relating_shape_aspect \ shape_aspect . description = 'interconnect module primary surface' ) or ( sar . relating_shape_aspect \ shape_aspect . description = 'interconnect module edge surface' ) or ( sar . relating_shape_aspect \ shape_aspect . description = 'interconnect module edge segment surface' ) ) ) ) = 1 ) ) ) ) = 1 ) ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( cto2d_determinant_test ( cto2d , 1.0 , 0.001 ) ) ) ) = 1 ) "/>
         <where label="wr9" expression=" not ( ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) and ( self . context_of_items . context_type = 'component surface' ) and ( ( sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( ( 'electronic_assembly_interconnect_and_packaging_design.' + 'assembly_joint' in typeof ( pdr . definition . definition ) ) and ( pdr . name = 'mounting surface assembly joint' ) and ( pdr . definition . definition . relating_shape_aspect \ shape_aspect . description = 'interconnect module component surface feature' ) and ( sizeof ( query ( sar &lt;* usedin ( pdr . definition . definition . relating_shape_aspect , 'electronic_assembly_interconnect_and_packaging_design.' + 'shape_aspect_relationship.related_shape_aspect' ) | sar . relating_shape_aspect \ shape_aspect . description = 'interconnect module secondary surface' ) ) = 1 ) ) ) ) = 1 ) ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( cto2d_determinant_test ( cto2d , - 1.0 , 0.001 ) ) ) ) = 1 ) "/>
         <where label="wr10" expression=" ( not ( is_laminate_component_location ( self ) ) ) or ( sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'assembly_joint' in typeof ( pdr . definition . definition ) ) and ( pdr . definition . definition . relating_shape_aspect \ shape_aspect . description = 'interconnect module component surface feature' ) ) ) = 0 ) "/>
         <where label="wr11" expression=" ( not ( is_laminate_component_location ( self ) and ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( cto2d_determinant_test ( cto2d , 1.0 , 0.001 ) ) ) ) = 1 ) "/>
         <where label="wr12" expression=" sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'shape_aspect' in typeof ( pdr . definition . definition ) ) and ( pdr . definition . definition \ shape_aspect . description = 'interconnect module component surface feature' ) ) ) = 0 "/>
         <where label="wr13" expression=" ( not ( ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) and ( self . context_of_items . context_type = 'component stacked' ) ) ) or ( sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'assembly_joint' in typeof ( pdr . definition . definition ) ) and ( pdr . definition . definition . relating_shape_aspect \ shape_aspect . description = 'interconnect module component surface feature' ) ) ) = 0 ) "/>
         <where label="wr14" expression=" not ( ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) and ( self . context_of_items . context_type = 'component edge' ) ) or ( ( not ( is_laminate_component_location ( self ) ) ) and ( ( sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( ( 'electronic_assembly_interconnect_and_packaging_design.' + 'assembly_joint' in typeof ( pdr . definition . definition ) ) and ( pdr . name = 'reference terminal assembly joint' ) and ( 'electronic_assembly_interconnect_and_packaging_design.' + 'component_terminal' in typeof ( pdr . definition . definition . related_shape_aspect ) ) and ( pdr . definition . definition . related_shape_aspect \ shape_aspect . description in [ 'packaged component join terminal' , 'package terminal occurrence' ] ) and ( sizeof ( query ( sar &lt;* usedin ( pdr . definition . definition . related_shape_aspect , 'electronic_assembly_interconnect_and_packaging_design.' + 'shape_aspect_relationship.related_shape_aspect' ) | ( sar \ shape_aspect_relationship . name = 'instantiated feature' ) and ( 'electronic_assembly_interconnect_and_packaging_design.' + 'primary_reference_terminal' in typeof ( sar . relating_shape_aspect ) ) ) ) = 1 ) and ( 'electronic_assembly_interconnect_and_packaging_design.' + 'component_definition' in typeof ( pdr . definition . definition . related_shape_aspect . of_shape . definition ) ) and ( component_definition_located_by_component_location ( self ) = pdr . definition . definition . related_shape_aspect . of_shape . definition ) ) ) ) = 1 ) ) and ( ( sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( ( 'electronic_assembly_interconnect_and_packaging_design.' + 'assembly_joint' in typeof ( pdr . definition . definition ) ) and ( pdr . name = 'mounting surface assembly joint' ) and ( pdr . definition . definition . relating_shape_aspect \ shape_aspect . description = 'interconnect module component surface feature' ) and ( sizeof ( query ( sar &lt;* usedin ( pdr . definition . definition . relating_shape_aspect , 'electronic_assembly_interconnect_and_packaging_design.' + 'shape_aspect_relationship.related_shape_aspect' ) | ( sar . relating_shape_aspect \ shape_aspect . description = 'interconnect module edge surface' ) or ( sar . relating_shape_aspect \ shape_aspect . description = 'interconnect module edge segment surface' ) ) ) = 1 ) and ( 'electronic_assembly_interconnect_and_packaging_design.' + 'component_mounting_feature' in typeof ( pdr . definition . definition . related_shape_aspect ) ) and ( 'electronic_assembly_interconnect_and_packaging_design.' + 'component_definition' in typeof ( pdr . definition . definition . related_shape_aspect . of_shape . definition ) ) and ( component_definition_located_by_component_location ( self ) = pdr . definition . definition . related_shape_aspect . of_shape . definition ) ) ) ) = 1 ) ) ) "/>
         <where label="wr15" expression=" not ( ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) and ( self . context_of_items . context_type = 'component stacked' ) ) or ( ( not ( is_laminate_component_location ( self ) ) ) and ( ( sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( ( 'electronic_assembly_interconnect_and_packaging_design.' + 'assembly_joint' in typeof ( pdr . definition . definition ) ) and ( 'mounting joint' = pdr . name ) and ( 'electronic_assembly_interconnect_and_packaging_design.' + 'component_mounting_feature' in typeof ( pdr . definition . definition . related_shape_aspect ) ) and ( 'electronic_assembly_interconnect_and_packaging_design.' + 'component_definition' in typeof ( pdr . definition . definition . related_shape_aspect . of_shape . definition ) ) and ( component_definition_located_by_component_location ( self ) :=: pdr . definition . definition . related_shape_aspect . of_shape . definition ) and ( component_definition_located_by_component_location ( self ) :&lt;&gt;: pdr . definition . definition . relating_shape_aspect . of_shape . definition ) ) ) ) = 1 ) ) ) "/>
         <where label="wr16" expression=" ( not ( is_interconnect_module_component_location ( self ) ) ) or ( sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'assembly_joint' in typeof ( pdr . definition . definition ) ) and ( pdr . definition . definition . relating_shape_aspect \ shape_aspect . description = 'interconnect module component surface feature' ) ) ) = 0 ) "/>
         <where label="wr17" expression=" not ( ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) and ( self . context_of_items . context_type = 'component stacked' ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( ( cto2d_determinant_test ( cto2d , 1.0 , 0.001 ) ) or ( cto2d_determinant_test ( cto2d , - 1.0 , 0.001 ) ) ) ) ) = 1 ) "/>
         <where label="wr18" expression=" sizeof ( query ( it &lt;* self \ representation . items | not ( sizeof ( [ 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' , 'electronic_assembly_interconnect_and_packaging_design.' + 'mapped_item' , 'electronic_assembly_interconnect_and_packaging_design.' + 'descriptive_representation_item' , 'electronic_assembly_interconnect_and_packaging_design.' + 'axis2_placement_3d' ] * typeof ( it ) ) = 1 ) ) ) = 0 "/>
         <where label="wr19" expression=" sizeof ( query ( it &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'axis2_placement_3d' in typeof ( it ) ) and ( it \ representation_item . name = 'origin' ) ) ) = 0 "/>
         <where label="wr20" expression=" sizeof ( query ( it &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'mapped_item' in typeof ( it ) ) and not ( ( ( it \ representation_item . name = 'component assembly 2d position' ) or ( it \ representation_item . name = 'component assembly 3d position' ) ) and ( it . mapping_source . mapping_origin \ representation_item . name = 'origin' ) and ( ( 'electronic_assembly_interconnect_and_packaging_design.' + 'axis2_placement_2d' in typeof ( it . mapping_source . mapping_origin ) ) or ( 'electronic_assembly_interconnect_and_packaging_design.' + 'axis2_placement_3d' in typeof ( it . mapping_source . mapping_origin ) ) ) ) ) ) = 0 "/>
         <where label="wr21" expression=" sizeof ( query ( pdr &lt;* usedin ( self , 'electronic_assembly_interconnect_and_packaging_design.' + 'property_definition_representation.used_representation' ) | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'next_assembly_usage_occurrence' in typeof ( pdr . definition . definition ) ) ) ) = 1 "/>
         <where label="wr22" expression=" ( not ( is_top_footprint_occurrence_location ( self ) and ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( cto2d_determinant_test ( cto2d , 1.0 , 0.001 ) ) ) ) = 1 ) "/>
         <where label="wr23" expression=" ( not ( is_bottom_footprint_occurrence_location ( self ) and ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( cto2d_determinant_test ( cto2d , - 1.0 , 0.001 ) ) ) ) = 1 ) "/>
         <where label="wr24" expression=" ( not ( is_symmetrical_footprint_occurrence_location ( self ) and ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( cto2d_determinant_test ( cto2d , 1.0 , 0.001 ) ) ) ) = 1 ) "/>
         <where label="wr25" expression=" ( not ( is_top_padstack_occurrence_location ( self ) and ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( cto2d_determinant_test ( cto2d , 1.0 , 0.001 ) ) ) ) = 1 ) "/>
         <where label="wr26" expression=" ( not ( is_bottom_padstack_occurrence_location ( self ) and ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( cto2d_determinant_test ( cto2d , - 1.0 , 0.001 ) ) ) ) = 1 ) "/>
         <where label="wr27" expression=" ( not ( is_symmetrical_padstack_occurrence_location ( self ) and ( self . context_of_items \ geometric_representation_context . coordinate_space_dimension = 2 ) ) ) or ( sizeof ( query ( cto2d &lt;* self . items | ( 'electronic_assembly_interconnect_and_packaging_design.' + 'cartesian_transformation_operator_2d' in typeof ( cto2d ) ) and ( cto2d_determinant_test ( cto2d , 1.0 , 0.001 ) ) ) ) = 1 ) "/>
      </entity>
      <rule name="component_part_3d_geometric_representation_relationship_constraint" appliesto="shape_representation_relationship">
         <algorithm> local rr : set of representation_relationship := query ( srr &lt;* shape_representation_relationship | srr \ representation_relationship . name = 'component part 3d shape' ) ; pass : boolean := true ; end_local ; repeat i := 1 to sizeof ( rr ) by 1 ; if ( ( rr [ i ] . rep_1 . context_of_items . coordinate_space_dimension ) &lt;&gt; ( rr [ i ] . rep_2 . context_of_items . coordinate_space_dimension ) ) then pass := false ; end_if ; end_repeat ; </algorithm>
         <where label="wr1" expression=" pass "/>
      </rule>
   </schema>
</express>
