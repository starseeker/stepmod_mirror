<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-03-30T15:55:31" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="physical_unit_usage_view_mim schema_instance"/>
   <schema name="PHYSICAL_UNIT_USAGE_VIEW_MIM">
      <interface kind="use" schema="ANALYTICAL_MODEL_MIM"/>
      <interface kind="use" schema="FEATURE_AND_CONNECTION_ZONE_MIM"/>
      <interface kind="use" schema="ITEM_DEFINITION_STRUCTURE_MIM"/>
      <interface kind="use" schema="PART_FEATURE_LOCATION_MIM"/>
      <interface kind="use" schema="PART_VIEW_DEFINITION_MIM"/>
      <interface kind="use" schema="REQUIREMENT_ASSIGNMENT_MIM"/>
      <interface kind="use" schema="SHAPE_COMPOSITION_MIM"/>
      <interface kind="use" schema="SHAPE_PROPERTY_ASSIGNMENT_MIM"/>
      <interface kind="use" schema="APPLICATION_CONTEXT_SCHEMA">
         <interfaced.item name="application_context_element"/>
      </interface>
      <interface kind="use" schema="MATERIAL_PROPERTY_DEFINITION_SCHEMA">
         <interfaced.item name="property_definition_relationship"/>
      </interface>
      <type name="puuv_document_reference_item">
         <select extensible="YES" genericentity="YES" basedon="document_reference_item" selectitems="shape_aspect"/>
      </type>
      <type name="puuv_requirement_assigned_item">
         <select extensible="YES" genericentity="YES" basedon="requirement_assigned_item" selectitems="shape_aspect"/>
      </type>
      <entity name="connection_zone_map_identification" supertypes="shape_aspect representation_relationship">
         <where label="wr1" expression=" self \ representation_relationship . rep_2 :&lt;&gt;: self \ representation_relationship . rep_1 "/>
         <where label="wr2" expression=" 'physical_unit_usage_view_mim.' + 'usage_view_connection_zone_terminal_shape_relationship' in typeof ( self \ representation_relationship . rep_1 ) "/>
         <where label="wr3" expression=" 'physical_unit_usage_view_mim.' + 'usage_view_connection_zone_terminal_shape_relationship' in typeof ( self \ representation_relationship . rep_2 ) "/>
         <where label="wr4" expression=" sizeof ( typeof ( self ) - typeof ( self \ shape_aspect || self \ representation_relationship || self \ connection_zone_map_identification ) ) = 0 "/>
         <where label="wr5" expression=" self \ shape_aspect . name = '' "/>
         <where label="wr6" expression=" self \ representation_relationship . name = '' "/>
         <where label="wr7" expression=" 'physical_unit_usage_view_mim.' + 'footprint_definition' in typeof ( self . of_shape . definition ) "/>
      </entity>
      <entity name="make_from_part_feature_relationship" supertypes="shape_aspect shape_aspect_relationship">
         <unique label="ur1">
            <unique.attribute entity-ref="make_from_part_feature_relationship" attribute="relating_shape_aspect"/>
            <unique.attribute entity-ref="make_from_part_feature_relationship" attribute="related_shape_aspect"/>
         </unique>
         <where label="wr1" expression=" sizeof ( [ 'physical_unit_usage_view_mim.' + 'component_terminal' , 'physical_unit_usage_view_mim.' + 'physical_component_interface_terminal' ] * typeof ( self . relating_shape_aspect ) ) = 0 "/>
         <where label="wr2" expression=" sizeof ( [ 'physical_unit_usage_view_mim.' + 'component_terminal' , 'physical_unit_usage_view_mim.' + 'physical_component_interface_terminal' ] * typeof ( self . related_shape_aspect ) ) = 0 "/>
         <where label="wr3" expression=" sizeof ( typeof ( self ) - typeof ( self \ shape_aspect || self \ shape_aspect_relationship || self \ make_from_part_feature_relationship ) ) = 0 "/>
         <where label="wr4" expression=" self . related_shape_aspect . product_definitional = true "/>
         <where label="wr5" expression=" self . relating_shape_aspect . product_definitional = true "/>
         <where label="wr6" expression=" self \ shape_aspect . name = '' "/>
         <where label="wr7" expression=" self \ shape_aspect . description = '' "/>
         <where label="wr8" expression=" self \ shape_aspect . product_definitional = false "/>
         <where label="wr9" expression=" sizeof ( usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) ) = 0 "/>
         <where label="wr10" expression=" sizeof ( query ( sar &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'shape_aspect_relationship.related_shape_aspect' ) | ( ( 'physical_unit_usage_view_mim.' + 'design_make_from_relationship' ) in typeof ( sar . of_shape \ property_definition . definition ) ) ) ) = 1 "/>
      </entity>
      <entity name="part_feature_template_definition" supertypes="product_definition">
         <where label="wr1" expression=" ( not ( 'physical_unit_usage_view_mim.' + 'product_definition_with_associated_documents' in typeof ( self ) ) ) or ( sizeof ( query ( docs &lt;* self \ product_definition_with_associated_documents . documentation_ids | docs . kind \ document_type . product_data_type = 'cad filename' ) ) &lt;= 1 ) "/>
         <where label="wr2" expression=" sizeof ( query ( adta &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_date_and_time_assignment.items' ) | adta . role \ date_time_role . name = 'creation date' ) ) + sizeof ( query ( ada &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_date_assignment.items' ) | ada . role \ date_role . name = 'creation date' ) ) = 1 "/>
         <where label="wr3" expression=" sizeof ( usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_approval_assignment.items' ) ) = 1 "/>
         <where label="wr4" expression=" sizeof ( query ( apoa &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_person_and_organization_assignment.items' ) | apoa . role \ person_and_organization_role . name = 'creator' ) ) + sizeof ( query ( apoa &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_organization_assignment.items' ) | apoa . role \ organization_role . name = 'creator' ) ) &gt;= 1 "/>
         <where label="wr5" expression=" sizeof ( usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_security_classification_assignment.items' ) ) = 1 "/>
         <where label="wr6" expression=" sizeof ( typeof ( self ) - ( typeof ( self \ product_definition || self \ part_feature_template_definition ) ) ) = 0 "/>
         <where label="wr7" expression=" sizeof ( query ( prpc &lt;* usedin ( self . formation . of_product , 'physical_unit_usage_view_mim.' + 'product_related_product_category.' + 'products' ) | prpc \ product_category . name = 'template model' ) ) &gt;= 1 "/>
      </entity>
      <entity name="physical_unit" supertypes="product_definition">
         <where label="wr1" expression=" ( not ( 'physical_unit_usage_view_mim.' + 'product_definition_with_associated_documents' in typeof ( self ) ) ) or ( sizeof ( query ( docs &lt;* self \ product_definition_with_associated_documents . documentation_ids | docs . kind \ document_type . product_data_type = 'cad filename' ) ) &lt;= 1 ) "/>
         <where label="wr2" expression=" sizeof ( query ( adta &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_date_and_time_assignment.items' ) | adta . role \ date_time_role . name = 'creation date' ) ) + sizeof ( query ( ada &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_date_assignment.items' ) | ada . role \ date_role . name = 'creation date' ) ) = 1 "/>
         <where label="wr3" expression=" sizeof ( usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_approval_assignment.items' ) ) = 1 "/>
         <where label="wr4" expression=" sizeof ( query ( apoa &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_person_and_organization_assignment.items' ) | apoa . role \ person_and_organization_role . name = 'creator' ) ) + sizeof ( query ( apoa &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_organization_assignment.items' ) | apoa . role \ organization_role . name = 'creator' ) ) &gt;= 1 "/>
         <where label="wr5" expression=" sizeof ( usedin ( self , 'physical_unit_usage_view_mim.' + 'applied_security_classification_assignment.items' ) ) = 1 "/>
         <where label="wr6" expression=" self . frame_of_reference . name in [ 'physical design' , 'physical design usage' ] "/>
         <where label="wr7" expression=" sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | sizeof ( query ( dut &lt;* query ( pdr &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'property_definition_relationship.related_property_definition' ) | pdr \ property_definition_relationship . name = 'physical unit technology' ) | dut . relating_property_definition \ property_definition . name = 'unit technology' ) ) = 1 ) ) &lt;= 1 "/>
         <where label="wr8" expression=" not ( is_assembly_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | not ( sizeof ( query ( sa &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | 'physical_unit_usage_view_mim.' + 'assembly_module_terminal' in typeof ( sa ) ) ) &gt;= 1 ) ) ) = 0 ) "/>
         <where label="wr9" expression=" not ( is_assembly_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | not ( sizeof ( query ( pdr &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'property_definition_representation.definition' ) | pdr . used_representation \ representation . name = 'maximum negative component height' ) ) &lt;= 1 ) ) ) = 0 ) "/>
         <where label="wr10" expression=" not ( is_assembly_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | not ( sizeof ( query ( pdr &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'property_definition_representation.definition' ) | pdr . used_representation \ representation . name = 'maximum positive component height' ) ) &lt;= 1 ) ) ) = 0 ) "/>
         <where label="wr11" expression=" not ( is_assembly_module_usage ( self ) ) or ( sizeof ( query ( pdr &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'product_definition_relationship.' + 'related_product_definition' ) | ( pdr \ product_definition_relationship . name = 'implemented function' ) and ( pdr . relating_product_definition . frame_of_reference . name = 'functional design usage' ) ) ) = 1 ) "/>
         <where label="wr12" expression=" not ( is_assembly_module_design ( self ) ) or ( sizeof ( query ( pdr &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'product_definition_relationship.' + 'relating_product_definition' ) | ( is_laminate_component ( pdr . related_product_definition ) ) ) ) = 0 ) "/>
         <where label="wr14" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pdr &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'product_definition_relationship.' + 'related_product_definition' ) | ( pdr \ product_definition_relationship . name = 'implemented function' ) and ( pdr . relating_product_definition . frame_of_reference . name = 'functional design usage' ) ) ) &lt;= 1 ) "/>
         <where label="wr15" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd1 &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( 'physical_unit_usage_view_mim.' + 'product_definition_shape' in typeof ( pd1 ) ) and ( sizeof ( query ( cd &lt;* usedin ( pd1 , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( 'physical_unit_usage_view_mim.' + 'characterized_definition' in typeof ( cd ) ) and ( sizeof ( query ( pd2 &lt;* usedin ( cd , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( pd2 \ property_definition . name = 'located interconnect module thickness' ) and ( sizeof ( usedin ( pd2 , 'physical_unit_usage_view_mim.' + 'property_definition_representation.definition' ) ) &gt; 1 ) ) ) = 1 ) ) ) = 1 ) ) ) &lt;= 1 ) "/>
         <where label="wr16" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( pd \ property_definition . name = 'interconnect module usage view physical characteristics' ) ) ) &lt;= 1 ) "/>
         <where label="wr17" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( pd \ property_definition . name = 'interconnect module usage view physical characteristics' ) and ( sizeof ( query ( pdr &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'property_definition_representation.definition' ) | ( pdr . used_representation \ representation . name = 'minimum thickness over metal requirement' ) and ( 'physical_unit_usage_view_mim.' + 'length_measure_with_unit' in typeof ( pdr . used_representation ) ) ) ) &lt;= 1 ) ) ) &lt;= 1 ) "/>
         <where label="wr18" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( pd \ property_definition . name = 'interconnect module usage view physical characteristics' ) and ( sizeof ( query ( pdr &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'property_definition_representation.definition' ) | ( pdr . used_representation \ representation . name = 'maximum thickness over metal requirement' ) and ( 'physical_unit_usage_view_mim.' + 'length_measure_with_unit' in typeof ( pdr . used_representation ) ) ) ) &lt;= 1 ) ) ) &lt;= 1 ) "/>
         <where label="wr19" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( pd \ property_definition . name = 'interconnect module usage view physical characteristics' ) and ( sizeof ( query ( pdr &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'property_definition_representation.definition' ) | ( pdr . used_representation \ representation . name = 'minimum thickness over dielectric requirement' ) and ( 'physical_unit_usage_view_mim.' + 'length_measure_with_unit' in typeof ( pdr . used_representation ) ) ) ) &lt;= 1 ) ) ) &lt;= 1 ) "/>
         <where label="wr20" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( pd \ property_definition . name = 'interconnect module usage view physical characteristics' ) and ( sizeof ( query ( pdr &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'property_definition_representation.definition' ) | ( pdr . used_representation \ representation . name = 'maximum thickness over dielectric requirement' ) and ( 'physical_unit_usage_view_mim.' + 'length_measure_with_unit' in typeof ( pdr . used_representation ) ) ) ) &lt;= 1 ) ) ) &lt;= 1 ) "/>
         <where label="wr21" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( ( pd \ property_definition . name = 'restraint' ) or ( pd \ property_definition . name = 'tolerance specific restraint' ) ) ) ) &lt;= 1 ) "/>
         <where label="wr22" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | not ( sizeof ( query ( sa &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( sa \ shape_aspect . description = 'interconnect module primary surface' ) ) ) &lt;= 1 ) ) ) = 0 ) "/>
         <where label="wr23" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | not ( sizeof ( query ( sa &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( sa \ shape_aspect . description = 'interconnect module secondary surface' ) ) ) &lt;= 1 ) ) ) = 0 ) "/>
         <where label="wr24" expression=" not ( is_interconnect_module_usage ( self ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | not ( sizeof ( query ( sa &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( sa \ shape_aspect . description = 'interconnect module edge surface' ) ) ) &lt;= 1 ) ) ) = 0 ) "/>
         <where label="wr25" expression=" not ( is_assembly_module_design ( self ) ) or ( ( not ( ( self . frame_of_reference . name = 'physical design' ) and ( self \ product_definition . name = 'assembly module' ) and ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( sizeof ( query ( sa &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( 'physical_unit_usage_view_mim.' + 'assembly_joint' in typeof ( sa ) ) ) ) &gt; 0 ) ) ) = 0 ) ) ) or ( sizeof ( query ( pd &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'property_definition.definition' ) | ( sizeof ( query ( sa &lt;* usedin ( pd , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( 'physical_unit_usage_view_mim.' + 'assembly_joint' in typeof ( sa ) ) and ( sizeof ( query ( acu &lt;* usedin ( sa \ shape_aspect_relationship . relating_shape_aspect . of_shape . definition , 'physical_unit_usage_view_mim.' + 'product_definition_relationship.related_product_definition' ) | ( 'physical_unit_usage_view_mim.' + 'assembly_component_usage' in typeof ( acu ) ) and ( acu \ product_definition_relationship . relating_product_definition = self ) ) ) &gt;= 1 ) ) ) &gt;= 1 ) ) ) &gt;= 1 ) ) "/>
         <where label="wr26" expression=" not ( is_assembly_module_design ( self ) ) or ( ( not ( ( self . frame_of_reference . name = 'physical design' ) and ( self \ product_definition . name = 'assembly module' ) ) ) and ( sizeof ( query ( aj &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( 'physical_unit_usage_view_mim.' + 'assembly_joint' in typeof ( aj ) ) ) ) = 0 ) or ( sizeof ( query ( aj &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( 'physical_unit_usage_view_mim.' + 'assembly_joint' in typeof ( aj ) ) and ( sizeof ( query ( acu &lt;* usedin ( aj \ shape_aspect_relationship . related_shape_aspect , 'physical_unit_usage_view_mim.' + 'product_definition_relationship.related_product_definition' ) | ( 'physical_unit_usage_view_mim.' + 'assembly_component_usage' in typeof ( acu ) ) and ( acu \ product_definition_relationship . relating_product_definition = self ) ) ) = 0 ) ) ) = 0 ) ) "/>
         <where label="wr27" expression=" not ( is_assembly_module_design ( self ) ) or ( ( not ( ( self . frame_of_reference . name = 'physical design' ) and ( self \ product_definition . name = 'assembly module' ) ) ) and ( sizeof ( query ( aj &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( 'physical_unit_usage_view_mim.' + 'assembly_joint' in typeof ( aj ) ) ) ) = 0 ) or ( sizeof ( query ( aj &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'shape_aspect.of_shape' ) | ( 'physical_unit_usage_view_mim.' + 'assembly_joint' in typeof ( aj ) ) and ( sizeof ( query ( cl &lt;* usedin ( aj \ shape_aspect_relationship . related_shape_aspect . of_shape . definition , 'physical_unit_usage_view_mim.' + 'representation.items' ) | ( 'physical_unit_usage_view_mim.' + 'component_location' in typeof ( cl ) ) and ( aj in cl \ representation . items ) ) ) = 0 ) ) ) = 0 ) ) "/>
         <where label="wr28" expression=" not ( is_interconnect_module_design ( self ) ) or ( ( not ( ( self . frame_of_reference . name = 'physical design' ) and ( self \ product_definition . name = 'interconnect module' ) ) ) or ( sizeof ( query ( pdr &lt;* usedin ( self , 'physical_unit_usage_view_mim.' + 'product_definition_relationship.' + 'relating_product_definition' ) | ( ( 'physical_unit_usage_view_mim.' + 'assembly_component_usage' in typeof ( pdr ) ) and ( pdr \ product_definition_relationship . name = 'interconnect module stratum assembly relationship' ) and ( pdr . related_product_definition \ product_definition . description = 'primary design layer stratum' ) and ( 'physical_unit_usage_view_mim.' + 'stratum' in typeof ( pdr . related_product_definition ) ) ) ) ) = 1 ) ) "/>
      </entity>
      <entity name="usage_view_connection_zone_terminal_shape_relationship" supertypes="representation representation_relationship_with_transformation">
         <unique label="ur1">
            <unique.attribute entity-ref="usage_view_connection_zone_terminal_shape_relationship" attribute="rep_1"/>
            <unique.attribute entity-ref="usage_view_connection_zone_terminal_shape_relationship" attribute="rep_2"/>
         </unique>
         <where label="wr1" expression=" sizeof ( [ 'physical_unit_usage_view_mim.' + 'shape_representation' ] * typeof ( self . rep_1 ) ) = 1 "/>
         <where label="wr2" expression=" sizeof ( [ 'physical_unit_usage_view_mim.' + 'shape_representation' ] * typeof ( self . rep_2 ) ) = 1 "/>
         <where label="wr3" expression=" sizeof ( typeof ( self ) - ( typeof ( self \ representation || self \ representation_relationship || self \ representation_relationship_with_transformation || self \ usage_view_connection_zone_terminal_shape_relationship ) ) ) = 0 "/>
         <where label="wr4" expression=" self \ representation_relationship . rep_1 &lt;&gt; self \ representation_relationship . rep_2 "/>
      </entity>
      <rule name="part_feature_constraint" appliesto="shape_aspect product_definition shape_aspect_relationship">
         <algorithm> local pass : boolean := true ; name_bag : bag of string := [ ] ; sa : bag of shape_aspect := [ ] ; pd : bag of product_definition := query ( pd &lt;* product_definition | pd . frame_of_reference \ application_context_element . name = 'physical design usage' ) ; end_local ; repeat i := 1 to sizeof ( pd ) by 1 ; name_bag := [ ] ; sa := query ( sa &lt;* shape_aspect | ( ( sa . of_shape \ property_definition . definition = pd [ i ] ) and ( sa . product_definitional ) and ( not ( sa \ shape_aspect . description = 'connection zone' ) ) ) ) ; repeat j := 1 to sizeof ( sa ) by 1 ; if ( not pass ) then escape ; end_if ; if sa [ j ] \ shape_aspect . name in name_bag then pass := false ; else name_bag := name_bag + sa [ j ] \ shape_aspect . name ; end_if ; end_repeat ; end_repeat ; </algorithm>
         <where label="wr1" expression=" pass "/>
         <where label="wr2" expression=" sizeof ( query ( sar &lt;* shape_aspect_relationship | ( sar \ shape_aspect_relationship . name = 'precedent feature' ) and ( sar . related_shape_aspect = sar . relating_shape_aspect ) ) ) = 0 "/>
         <where label="wr3" expression=" sizeof ( query ( sa &lt;* shape_aspect | ( ( sa \ shape_aspect . description = 'part group feature' ) or ( sa \ shape_aspect . description = 'part generic feature' ) or ( sa \ shape_aspect . description = 'polarity indication feature' ) ) and ( sizeof ( query ( sar &lt;* usedin ( sa , 'physical_unit_usage_view_mim.' + 'shape_aspect_relationship.related_shape_aspect' ) | sar \ shape_aspect_relationship . name = 'precedent feature' ) ) &gt; 1 ) ) ) = 0 "/>
         <where label="wr4" expression=" sizeof ( query ( sa &lt;* shape_aspect | ( ( sa \ shape_aspect . description = 'interconnect module edge segment surface' ) or ( sa \ shape_aspect . description = 'interconnect module cavity surface' ) or ( sa \ shape_aspect . description = 'interconnect module cutout surface' ) or ( sa \ shape_aspect . description = 'interconnect module edge surface' ) or ( sa \ shape_aspect . description = 'interconnect module primary surface' ) or ( sa \ shape_aspect . description = 'interconnect module secondary surface' ) or ( sa \ shape_aspect . description = 'interconnect module surface feature' ) ) and ( sizeof ( query ( sar &lt;* usedin ( sa , 'physical_unit_usage_view_mim.' + 'shape_aspect_relationship.related_shape_aspect' ) | sar \ shape_aspect_relationship . name = 'precedent feature' ) ) &gt; 0 ) ) ) = 0 "/>
      </rule>
      <rule name="product_definition_requires_date_or_date_and_time" appliesto="product_definition applied_date_and_time_assignment applied_date_assignment">
         <where label="wr1" expression=" sizeof ( query ( pd &lt;* product_definition | not ( not ( is_ee_product_definition ( pd ) ) or ( ( sizeof ( query ( adata &lt;* applied_date_and_time_assignment | pd in adata . items ) ) = 1 ) or ( sizeof ( query ( ada &lt;* applied_date_assignment | pd in ada . items ) ) = 1 ) ) ) ) ) = 0 "/>
      </rule>
      <rule name="product_definition_requires_person_organization" appliesto="product_definition applied_person_and_organization_assignment applied_organization_assignment">
         <where label="wr1" expression=" sizeof ( query ( pd &lt;* product_definition | not ( not ( is_ee_product_definition ( pd ) ) or ( ( sizeof ( query ( apaoa &lt;* applied_person_and_organization_assignment | pd in apaoa . items ) ) = 1 ) or ( sizeof ( query ( aoa &lt;* applied_organization_assignment | pd in aoa . items ) ) = 1 ) ) ) ) ) = 0 "/>
      </rule>
      <rule name="promissory_usage_relationship_constraint" appliesto="promissory_usage_occurrence">
         <where label="wr1" expression=" sizeof ( query ( puo &lt;* promissory_usage_occurrence | ( 'physical_unit_usage_view_mim.' + 'physical_unit' in typeof ( puo . relating_product_definition ) ) and ( puo . relating_product_definition . frame_of_reference . name = 'physical design' ) ) ) = 0 "/>
         <where label="wr2" expression=" sizeof ( query ( puo &lt;* promissory_usage_occurrence | sizeof ( usedin ( puo , 'physical_unit_usage_view_mim.' + 'applied_security_classification_assignment.items' ) ) = 0 ) ) = 0 "/>
      </rule>
      <rule name="promissory_usage_relationship_unique_constraint" appliesto="promissory_usage_occurrence">
         <algorithm> local pu_bag : bag of physical_unit := [ ] ; puo_bag : bag of promissory_usage_occurrence ; pass : boolean := true ; comp_bag : bag of physical_unit ; end_local ; repeat i := 1 to sizeof ( promissory_usage_occurrence ) by 1 ; if exists ( promissory_usage_occurrence [ i ] . relating_product_definition ) then if ( ( ( 'physical_unit_usage_view_mim.' + 'physical_unit' ) in typeof ( promissory_usage_occurrence [ i ] . relating_product_definition ) ) and ( promissory_usage_occurrence [ i ] . relating_product_definition . frame_of_reference . name = 'physical design' ) ) then if ( not ( promissory_usage_occurrence [ i ] . relating_product_definition in pu_bag ) ) then pu_bag := pu_bag + promissory_usage_occurrence [ i ] . relating_product_definition ; end_if ; end_if ; end_if ; end_repeat ; repeat i := 1 to sizeof ( pu_bag ) by 1 ; if ( not pass ) then escape ; end_if ; puo_bag := query ( puo &lt;* promissory_usage_occurrence | ( puo . relating_product_definition :=: pu_bag [ i ] ) ) ; comp_bag := [ ] ; repeat j := 1 to sizeof ( puo_bag ) by 1 ; if ( not pass ) then escape ; end_if ; if ( ( ( 'physical_unit_usage_view_mim.' + 'physical_unit' ) in typeof ( puo_bag [ j ] . related_product_definition ) ) and ( puo_bag [ j ] . related_product_definition . frame_of_reference . name in [ 'physical design' , 'physical design usage' ] ) ) then if exists ( puo_bag [ j ] . related_product_definition ) then if ( puo_bag [ j ] . related_product_definition in comp_bag ) then pass := false ; escape ; else comp_bag := comp_bag + puo_bag [ j ] . related_product_definition ; end_if ; end_if ; end_if ; end_repeat ; end_repeat ; </algorithm>
         <where label="wr1" expression=" pass "/>
      </rule>
      <function name="is_assembly_module_design">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> local pass : boolean := false ; end_local ; if not ( exists ( pd \ product_definition . name ) ) then return ( false ) ; end_if ; if ( ( pd \ product_definition . name = 'assembly module' ) and ( pd . frame_of_reference \ application_context_element . name = 'physical design' ) ) then return ( true ) ; end_if ; return ( pass ) ; </algorithm>
      </function>
      <function name="is_assembly_module_usage">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> local pass : boolean := false ; end_local ; if not ( exists ( pd \ product_definition . name ) ) then return ( false ) ; end_if ; if ( ( pd \ product_definition . name = 'assembly module' ) and ( pd . frame_of_reference \ application_context_element . name = 'physical design usage' ) ) then return ( true ) ; end_if ; return ( pass ) ; </algorithm>
      </function>
      <function name="is_ee_product_definition">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> local pass : boolean := false ; end_local ; if ( not ( is_laminate_component ( pd ) ) and ( not ( 'physical_unit_usage_view_mim.' + 'component_definition' in typeof ( pd ) ) ) and ( not ( 'physical_unit_usage_view_mim.' + 'stratum' in typeof ( pd ) ) ) and ( not ( 'physical_unit_usage_view_mim.' + 'assembly_group_component_definition_placement_link' in typeof ( pd ) ) ) and ( not ( 'physical_unit_usage_view_mim.' + 'bus_structural_definition' in typeof ( pd ) ) ) and ( not ( 'physical_unit_usage_view_mim.' + 'component_functional_unit' in typeof ( pd ) ) ) and ( not ( 'physical_unit_usage_view_mim.' + 'linear_array_component_definition_link' in typeof ( pd ) ) ) and ( not ( 'physical_unit_usage_view_mim.' + 'network_node_definition' in typeof ( pd ) ) ) and ( not ( 'physical_unit_usage_view_mim.' + 'printed_part_template_material' in typeof ( pd ) ) ) ) then return ( true ) ; else return ( false ) ; end_if ; </algorithm>
      </function>
      <function name="is_interconnect_module_design">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> local pass : boolean := false ; end_local ; if not ( exists ( pd \ product_definition . name ) ) then return ( false ) ; end_if ; if ( ( pd \ product_definition . name = 'interconnect module' ) and ( pd . frame_of_reference \ application_context_element . name = 'physical design' ) ) then return ( true ) ; end_if ; return ( pass ) ; </algorithm>
      </function>
      <function name="is_interconnect_module_usage">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> local pass : boolean := false ; end_local ; if not ( exists ( pd \ product_definition . name ) ) then return ( false ) ; end_if ; if ( ( pd \ product_definition . name = 'interconnect module' ) and ( pd . frame_of_reference \ application_context_element . name = 'physical design usage' ) ) then return ( true ) ; end_if ; return ( pass ) ; </algorithm>
      </function>
      <function name="is_laminate_component">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm> local pass : boolean := false ; end_local ; if ( pd \ product_definition . description = 'laminate component' ) then return ( true ) ; else if ( 'physical_unit_usage_view_mim.' + 'printed_component' in typeof ( pd ) ) then return ( true ) ; end_if ; end_if ; return ( pass ) ; </algorithm>
      </function>
   </schema>
</express>
