<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-02-28T09:42:00" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="physical_unit_usage_view_mim schema_instance"/>
   <schema name="Physical_unit_usage_view_mim">
      <interface kind="use" schema="Analytical_model_mim"/>
      <interface kind="use" schema="Feature_and_connection_zone_mim"/>
      <interface kind="use" schema="Item_definition_structure_mim"/>
      <interface kind="use" schema="Part_feature_location_mim"/>
      <interface kind="use" schema="Part_view_definition_mim"/>
      <interface kind="use" schema="Requirement_assignment_mim"/>
      <interface kind="use" schema="Shape_composition_mim"/>
      <interface kind="use" schema="Shape_property_assignment_mim"/>
      <interface kind="use" schema="application_context_schema">
         <interfaced.item name="application_context_element"/>
      </interface>
      <interface kind="use" schema="material_property_definition_schema">
         <interfaced.item name="property_definition_relationship"/>
      </interface>
      <type name="puuv_document_reference_item">
         <select extensible="YES" genericentity="YES" basedon="document_reference_item" selectitems="shape_aspect"/>
      </type>
      <entity name="connection_zone_map_identification" supertypes="shape_aspect representation_relationship">
         <where label="WR1" expression="SELF\representation_relationship.rep_2 :&lt;&gt;:&#10;       SELF\representation_relationship.rep_1"/>
         <where label="WR2" expression="'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'USAGE_VIEW_CONNECTION_ZONE_TERMINAL_SHAPE_RELATIONSHIP' IN &#10;	TYPEOF(SELF\representation_relationship.rep_1)"/>
         <where label="WR3" expression="'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'USAGE_VIEW_CONNECTION_ZONE_TERMINAL_SHAPE_RELATIONSHIP' IN &#10;	TYPEOF(SELF\representation_relationship.rep_2)"/>
         <where label="WR4" expression="SIZEOF(TYPEOF(SELF) - TYPEOF(SELF\shape_aspect ||&#10;       SELF\representation_relationship ||&#10;       SELF\connection_zone_map_identification)) = 0"/>
         <where label="WR5" expression="SELF\shape_aspect.name = ''"/>
         <where label="WR6" expression="SELF\representation_relationship.name = ''"/>
         <where label="WR7" expression="'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'FOOTPRINT_DEFINITION' IN TYPEOF(SELF.of_shape.definition)"/>
      </entity>
      <entity name="make_from_part_feature_relationship" supertypes="shape_aspect shape_aspect_relationship">
         <unique label="UR1">
            <unique.attribute entity-ref="make_from_part_feature_relationship" attribute="relating_shape_aspect"/>
            <unique.attribute entity-ref="make_from_part_feature_relationship" attribute="related_shape_aspect"/>
         </unique>
         <where label="WR1" expression="SIZEOF (['PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'COMPONENT_TERMINAL',&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PHYSICAL_COMPONENT_INTERFACE_TERMINAL'] *&#10;       TYPEOF (SELF.relating_shape_aspect)) = 0"/>
         <where label="WR2" expression="SIZEOF (['PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'COMPONENT_TERMINAL',&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PHYSICAL_COMPONENT_INTERFACE_TERMINAL'] *&#10;       TYPEOF (SELF.related_shape_aspect)) = 0"/>
         <where label="WR3" expression="SIZEOF(TYPEOF(SELF) - TYPEOF(SELF\shape_aspect ||&#10;       SELF\shape_aspect_relationship ||&#10;       SELF\make_from_part_feature_relationship)) = 0"/>
         <where label="WR4" expression="SELF.related_shape_aspect.product_definitional = TRUE"/>
         <where label="WR5" expression="SELF.relating_shape_aspect.product_definitional = TRUE"/>
         <where label="WR6" expression="SELF\shape_aspect.name = ''"/>
         <where label="WR7" expression="SELF\shape_aspect.description = ''"/>
         <where label="WR8" expression="SELF\shape_aspect.product_definitional = FALSE"/>
         <where label="WR9" expression="SIZEOF (USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION')) = 0"/>
         <where label="WR10" expression="SIZEOF (QUERY( sar &lt;* USEDIN(SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'DESIGN_MAKE_FROM_RELATIONSHIP') IN TYPEOF&#10;       (sar.of_shape\property_definition.definition))&#10;       )) = 1"/>
      </entity>
      <entity name="part_feature_template_definition" supertypes="product_definition">
         <where label="WR1" expression="(NOT ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_DEFINITION_WITH_ASSOCIATED_DOCUMENTS' IN &#10;       TYPEOF (SELF))) OR&#10;       (SIZEOF (QUERY (docs &lt;* &#10;       SELF\product_definition_with_associated_documents.&#10;        documentation_ids |&#10;       docs.kind\document_type.product_data_type = 'CAD filename')) &lt;= 1)"/>
         <where label="WR2" expression="SIZEOF (QUERY (adta &lt;* USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' + &#10;       'APPLIED_DATE_AND_TIME_ASSIGNMENT.ITEMS') |&#10;       adta.role\date_time_role.name = 'creation date')) + &#10;       SIZEOF (QUERY (ada &lt;* USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' + &#10;       'APPLIED_DATE_ASSIGNMENT.ITEMS') |&#10;       ada.role\date_role.name = 'creation date')) = 1"/>
         <where label="WR3" expression="SIZEOF (USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'APPLIED_APPROVAL_ASSIGNMENT.ITEMS')) = 1"/>
         <where label="WR4" expression="SIZEOF (QUERY (apoa &lt;* USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'APPLIED_PERSON_AND_ORGANIZATION_ASSIGNMENT.ITEMS') |&#10;       apoa.role\person_and_organization_role.name = 'creator')) +&#10;       SIZEOF (QUERY (apoa &lt;* USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'APPLIED_ORGANIZATION_ASSIGNMENT.ITEMS') |&#10;       apoa.role\organization_role.name = 'creator')) &gt;= 1"/>
         <where label="WR5" expression="SIZEOF (USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'APPLIED_SECURITY_CLASSIFICATION_ASSIGNMENT.ITEMS')) = 1"/>
         <where label="WR6" expression="SIZEOF(TYPEOF(SELF) - (TYPEOF(SELF\product_definition ||&#10;       SELF\part_feature_template_definition))) = 0"/>
         <where label="WR7" expression="SIZEOF (QUERY (prpc &lt;* USEDIN (SELF.formation.of_product,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_RELATED_PRODUCT_CATEGORY.' +&#10;       'PRODUCTS') |&#10;       prpc\product_category.name = 'template model')) &gt;= 1"/>
      </entity>
      <entity name="physical_unit" supertypes="product_definition">
         <where label="WR1" expression="(NOT ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_DEFINITION_WITH_ASSOCIATED_DOCUMENTS' IN &#10;       TYPEOF (SELF))) OR&#10;       (SIZEOF (QUERY (docs &lt;* &#10;       SELF\product_definition_with_associated_documents.&#10;        documentation_ids |&#10;       docs.kind\document_type.product_data_type = 'CAD filename')) &lt;= 1)"/>
         <where label="WR2" expression="SIZEOF (QUERY (adta &lt;* USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' + &#10;       'APPLIED_DATE_AND_TIME_ASSIGNMENT.ITEMS') |&#10;       adta.role\date_time_role.name = 'creation date')) + &#10;       SIZEOF (QUERY (ada &lt;* USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' + &#10;       'APPLIED_DATE_ASSIGNMENT.ITEMS') |&#10;       ada.role\date_role.name = 'creation date')) = 1"/>
         <where label="WR3" expression="SIZEOF (USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'APPLIED_APPROVAL_ASSIGNMENT.ITEMS')) = 1"/>
         <where label="WR4" expression="SIZEOF (QUERY (apoa &lt;* USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'APPLIED_PERSON_AND_ORGANIZATION_ASSIGNMENT.ITEMS') |&#10;       apoa.role\person_and_organization_role.name = 'creator')) +&#10;       SIZEOF (QUERY (apoa &lt;* USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'APPLIED_ORGANIZATION_ASSIGNMENT.ITEMS') |&#10;       apoa.role\organization_role.name = 'creator')) &gt;= 1"/>
         <where label="WR5" expression="SIZEOF (USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'APPLIED_SECURITY_CLASSIFICATION_ASSIGNMENT.ITEMS')) = 1"/>
         <where label="WR6" expression="SELF.frame_of_reference.name IN ['physical design', &#10;       'physical design usage']"/>
         <where label="WR7" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       SIZEOF (QUERY (dut &lt;* QUERY (pdr &lt;* USEDIN (pd,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION_RELATIONSHIP.RELATED_PROPERTY_DEFINITION') |&#10;       pdr\property_definition_relationship.name = 'physical unit technology') |&#10;       dut.relating_property_definition\property_definition.name =&#10;       'unit technology')) = 1)) &lt;= 1"/>
         <where label="WR8" expression="NOT(is_assembly_module_usage(SELF)) &#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'ASSEMBLY_MODULE_TERMINAL' IN&#10;       TYPEOF (sa))) &gt;= 1))) = 0)"/>
         <where label="WR9" expression="NOT(is_assembly_module_usage(SELF)) &#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (pdr &lt;* USEDIN (pd, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       pdr.used_representation\representation.name = &#10;               'maximum negative component height')) &lt;= 1))) = 0)"/>
         <where label="WR10" expression="NOT(is_assembly_module_usage(SELF)) &#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (pdr &lt;* USEDIN (pd, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       pdr.used_representation\representation.name = &#10;                 'maximum positive component height')) &lt;= 1))) = 0)"/>
         <where label="WR11" expression="NOT(is_assembly_module_usage(SELF)) &#10;       OR&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_DEFINITION_RELATIONSHIP.' +&#10;       'RELATED_PRODUCT_DEFINITION') |&#10;       (pdr\product_definition_relationship.name = 'implemented function') AND&#10;       (pdr.relating_product_definition.frame_of_reference.name = &#10;       'functional design usage'))) = 1)"/>
         <where label="WR12" expression="NOT(is_assembly_module_design(SELF)) &#10;       OR&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_DEFINITION_RELATIONSHIP.' +&#10;       'RELATING_PRODUCT_DEFINITION') |&#10;       (is_laminate_component(pdr.related_product_definition)&#10;       ))) = 0)"/>
         <where label="WR14" expression="NOT(is_interconnect_module_usage(SELF)) &#10;       OR&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_DEFINITION_RELATIONSHIP.' +&#10;       'RELATED_PRODUCT_DEFINITION') |&#10;       (pdr\product_definition_relationship.name = 'implemented function') AND&#10;       (pdr.relating_product_definition.frame_of_reference.name = &#10;       'functional design usage'))) &lt;= 1)"/>
         <where label="WR15" expression="NOT(is_interconnect_module_usage(SELF)) &#10;       OR&#10;       (SIZEOF (QUERY (pd1 &lt;* USEDIN (SELF, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_DEFINITION_SHAPE' IN TYPEOF (pd1)) &#10;       AND (SIZEOF(QUERY(cd &lt;* USEDIN(pd1,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'CHARACTERIZED_DEFINITION' IN TYPEOF (cd))&#10;       AND (SIZEOF(QUERY(pd2 &lt;* USEDIN(cd,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (pd2\property_definition.name = 'located interconnect module thickness')&#10;       AND (SIZEOF(USEDIN(pd2,        &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION')) &gt; 1)&#10;       )) = 1))) = 1))) &lt;=1 )"/>
         <where label="WR16" expression="NOT(is_interconnect_module_usage(SELF))&#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (pd\property_definition.name = &#10;       'interconnect module usage view physical characteristics'))) &lt;= 1)"/>
         <where label="WR17" expression="NOT(is_interconnect_module_usage(SELF))&#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (pd\property_definition.name = &#10;          'interconnect module usage view physical characteristics')&#10;       AND (SIZEOF (QUERY (pdr &lt;* USEDIN (pd, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = &#10;          'minimum thickness over metal requirement')&#10;       AND ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'LENGTH_MEASURE_WITH_UNIT' IN TYPEOF (pdr.used_representation))&#10;       )) &lt;= 1))) &lt;= 1)"/>
         <where label="WR18" expression="NOT(is_interconnect_module_usage(SELF))&#10;        OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (pd\property_definition.name = &#10;         'interconnect module usage view physical characteristics')&#10;       AND (SIZEOF (QUERY (pdr &lt;* USEDIN (pd, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = &#10;         'maximum thickness over metal requirement')&#10;       AND ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'LENGTH_MEASURE_WITH_UNIT' IN TYPEOF (pdr.used_representation))&#10;       )) &lt;= 1))) &lt;= 1)"/>
         <where label="WR19" expression="NOT(is_interconnect_module_usage(SELF))&#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (pd\property_definition.name = &#10;          'interconnect module usage view physical characteristics')&#10;       AND (SIZEOF (QUERY (pdr &lt;* USEDIN (pd, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = &#10;         'minimum thickness over dielectric requirement')&#10;       AND ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'LENGTH_MEASURE_WITH_UNIT' IN TYPEOF (pdr.used_representation))&#10;       )) &lt;= 1))) &lt;= 1)"/>
         <where label="WR20" expression="NOT(is_interconnect_module_usage(SELF))&#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (pd\property_definition.name = &#10;          'interconnect module usage view physical characteristics')&#10;       AND (SIZEOF (QUERY (pdr &lt;* USEDIN (pd, &#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       (pdr.used_representation\representation.name = &#10;           'maximum thickness over dielectric requirement')&#10;       AND ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'LENGTH_MEASURE_WITH_UNIT' IN TYPEOF (pdr.used_representation))&#10;       )) &lt;= 1))) &lt;= 1)"/>
         <where label="WR21" expression="NOT(is_interconnect_module_usage(SELF))&#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       ((pd\property_definition.name = 'restraint') OR&#10;       (pd\property_definition.name = 'tolerance specific restraint')))) &lt;= 1)"/>
         <where label="WR22" expression="NOT(is_interconnect_module_usage(SELF))&#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       (sa\shape_aspect.description = &#10;                                 'interconnect module primary surface')&#10;       )) &lt;= 1))) = 0)"/>
         <where label="WR23" expression="NOT(is_interconnect_module_usage(SELF))&#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       (sa\shape_aspect.description = &#10;                              'interconnect module secondary surface')&#10;       )) &lt;= 1))) = 0)"/>
         <where label="WR24" expression="NOT(is_interconnect_module_usage(SELF))&#10;       OR&#10;       (SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       (sa\shape_aspect.description =&#10;                                 'interconnect module edge surface')&#10;       )) &lt;= 1))) = 0)"/>
         <where label="WR25" expression="NOT(is_assembly_module_design(SELF)) OR&#10;((NOT ((SELF.frame_of_reference.name = 'physical design') AND&#10;       (SELF\product_definition.name = 'assembly module')      &#10;       AND (SIZEOF (QUERY(pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY(sa &lt;* USEDIN (pd,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;        'ASSEMBLY_JOINT' IN TYPEOF (sa)))) &gt; 0 ))) = 0)))&#10;       OR (SIZEOF (QUERY(pd &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       (SIZEOF (QUERY(sa &lt;* USEDIN (pd,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'ASSEMBLY_JOINT' IN TYPEOF (sa)) AND&#10;       (SIZEOF (QUERY( acu &lt;* USEDIN (&#10;       sa\shape_aspect_relationship.relating_shape_aspect.of_shape.definition,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'ASSEMBLY_COMPONENT_USAGE' IN TYPEOF (acu))&#10;       AND (acu\product_definition_relationship.relating_product_definition = SELF)&#10;       )) &gt;= 1))) &gt;=1 ))) &gt;= 1))"/>
         <where label="WR26" expression="NOT(is_assembly_module_design(SELF)) OR&#10;      ((NOT ((SELF.frame_of_reference.name = 'physical design') AND&#10;       (SELF\product_definition.name = 'assembly module')      &#10;       ))&#10;       AND (SIZEOF (QUERY(aj &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;        'ASSEMBLY_JOINT' IN TYPEOF (aj)))) = 0) OR&#10;       (SIZEOF (QUERY(aj &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;        'ASSEMBLY_JOINT' IN TYPEOF (aj))AND&#10;       (SIZEOF (QUERY( acu &lt;* USEDIN (aj\&#10;        shape_aspect_relationship.related_shape_aspect,&#10;        'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;        'PRODUCT_DEFINITION_RELATIONSHIP.RELATED_PRODUCT_DEFINITION') |&#10;        ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;        'ASSEMBLY_COMPONENT_USAGE' IN TYPEOF (acu))&#10;        AND (acu\product_definition_relationship.relating_product_definition = SELF)&#10;        )) = 0))) = 0))"/>
         <where label="WR27" expression="NOT(is_assembly_module_design(SELF)) OR&#10;      ((NOT ((SELF.frame_of_reference.name = 'physical design') AND&#10;       (SELF\product_definition.name = 'assembly module')      &#10;       ))&#10;       AND (SIZEOF (QUERY(aj &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;        'ASSEMBLY_JOINT' IN TYPEOF (aj)))) = 0) OR&#10;       (SIZEOF (QUERY(aj &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;        'ASSEMBLY_JOINT' IN TYPEOF (aj)) AND&#10;        (SIZEOF (QUERY( cl &lt;* USEDIN (aj\&#10;        shape_aspect_relationship.related_shape_aspect.of_shape.definition,&#10;        'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;        'REPRESENTATION.ITEMS') |&#10;        ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;        'COMPONENT_LOCATION' IN TYPEOF (cl))&#10;        AND (aj IN cl\representation.items))) = 0))) = 0))"/>
         <where label="WR28" expression="NOT(is_interconnect_module_design(SELF)) OR&#10;       ((NOT ((SELF.frame_of_reference.name = 'physical design') AND&#10;       (SELF\product_definition.name = 'interconnect module')&#10;       )) OR&#10;       (SIZEOF (QUERY (pdr &lt;* USEDIN (SELF,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'PRODUCT_DEFINITION_RELATIONSHIP.' +&#10;       'RELATING_PRODUCT_DEFINITION') |&#10;        (&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'ASSEMBLY_COMPONENT_USAGE' IN TYPEOF(pdr))&#10;       AND&#10;       (pdr\product_definition_relationship.name = 'interconnect module stratum assembly relationship')&#10;       AND&#10;       (pdr.related_product_definition\product_definition.description = 'primary design layer stratum')&#10;       AND&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'STRATUM' IN TYPEOF(pdr.related_product_definition))&#10;        )&#10;       )&#10;       ) = 1))"/>
      </entity>
      <entity name="usage_view_connection_zone_terminal_shape_relationship" supertypes="representation representation_relationship_with_transformation">
         <unique label="UR1">
            <unique.attribute entity-ref="usage_view_connection_zone_terminal_shape_relationship" attribute="rep_1"/>
            <unique.attribute entity-ref="usage_view_connection_zone_terminal_shape_relationship" attribute="rep_2"/>
         </unique>
         <where label="WR1" expression="SIZEOF (['PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_REPRESENTATION'] *&#10;       TYPEOF (SELF.rep_1)) = 1"/>
         <where label="WR2" expression="SIZEOF (['PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;       'SHAPE_REPRESENTATION'] *&#10;       TYPEOF (SELF.rep_2)) = 1"/>
         <where label="WR3" expression="SIZEOF(TYPEOF(SELF) - (TYPEOF(SELF\representation ||&#10;       SELF\representation_relationship || &#10;       SELF\representation_relationship_with_transformation || &#10;       SELF\usage_view_connection_zone_terminal_shape_relationship))) = 0"/>
         <where label="WR4" expression="SELF\representation_relationship.rep_1 &lt;&gt; &#10;       SELF\representation_relationship.rep_2"/>
      </entity>
      <rule name="part_feature_constraint" appliesto="shape_aspect product_definition shape_aspect_relationship">
         <algorithm>LOCAL
pass : BOOLEAN := TRUE;
name_bag : BAG OF STRING := [];
sa : BAG OF shape_aspect := [];
pd : BAG OF product_definition := QUERY ( pd &lt;* product_definition |
       pd.frame_of_reference\application_context_element.name
       = 'physical design usage');
END_LOCAL;
 REPEAT i := 1 to SIZEOF (pd) by 1;
name_bag := [];
sa := QUERY ( sa &lt;* shape_aspect | (
(sa.of_shape\property_definition.definition = pd[i]) AND
(sa.product_definitional) AND
(NOT (sa\shape_aspect.description = 'connection zone'))
));
  REPEAT j := 1 to SIZEOF (sa) by 1;
   IF (NOT pass) THEN ESCAPE; END_IF;
 IF sa[j]\shape_aspect.name in name_bag THEN pass := FALSE;
 ELSE
  name_bag := name_bag + sa[j]\shape_aspect.name;
 END_IF;
  END_REPEAT;
 END_REPEAT;</algorithm>
         <where label="WR1" expression="pass"/>
         <where label="WR2" expression="SIZEOF(QUERY(sar &lt;* shape_aspect_relationship |&#10;      (sar\shape_aspect_relationship.name = 'precedent feature') AND&#10;      (sar.related_shape_aspect = sar.relating_shape_aspect))) = 0"/>
         <where label="WR3" expression="SIZEOF(QUERY(sa &lt;* shape_aspect | &#10;      ((sa\shape_aspect.description = 'part group feature') OR&#10;      (sa\shape_aspect.description = 'part generic feature') OR&#10;      (sa\shape_aspect.description = 'polarity indication feature'))&#10;      AND (SIZEOF(QUERY(sar &lt;* USEDIN(sa,&#10;     'PHYSICAL_UNIT_USAGE_VIEW_MIM.' + &#10;     'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;      sar\shape_aspect_relationship.name = 'precedent feature')&#10;      ) &gt; 1))) = 0"/>
         <where label="WR4" expression="SIZEOF(QUERY(sa &lt;* shape_aspect |&#10;      ((sa\shape_aspect.description = 'interconnect module edge segment surface') OR&#10;      (sa\shape_aspect.description = 'interconnect module cavity surface') OR&#10;      (sa\shape_aspect.description = 'interconnect module cutout surface') OR&#10;      (sa\shape_aspect.description = 'interconnect module edge surface') OR&#10;      (sa\shape_aspect.description = 'interconnect module primary surface') OR&#10;      (sa\shape_aspect.description = 'interconnect module secondary surface') OR&#10;      (sa\shape_aspect.description = 'interconnect module surface feature'))&#10;      AND (SIZEOF(QUERY(sar &lt;* USEDIN(sa,&#10;     'PHYSICAL_UNIT_USAGE_VIEW_MIM.' +&#10;     'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;      sar\shape_aspect_relationship.name = 'precedent feature')&#10;      ) &gt; 0))) = 0"/>
      </rule>
      <rule name="product_definition_requires_date_or_date_and_time" appliesto="product_definition applied_date_and_time_assignment applied_date_assignment">
         <where label="WR1" expression="SIZEOF (QUERY (pd &lt;* product_definition | NOT &#10;       (NOT(is_ee_product_definition(pd)) OR &#10;       ((SIZEOF (QUERY (adata &lt;* applied_date_and_time_assignment |&#10;       pd IN adata.items )) = 1 ) OR&#10;       (SIZEOF (QUERY (ada &lt;* applied_date_assignment |&#10;       pd IN ada.items )) = 1 )))&#10;       )) = 0"/>
      </rule>
      <rule name="product_definition_requires_person_organization" appliesto="product_definition applied_person_and_organization_assignment applied_organization_assignment">
         <where label="WR1" expression="SIZEOF (QUERY (pd &lt;* product_definition | NOT&#10;       (NOT(is_ee_product_definition(pd)) OR&#10;       ((SIZEOF (QUERY (apaoa &lt;*&#10;       applied_person_and_organization_assignment |&#10;       pd IN apaoa.items )) = 1 ) OR&#10;       (SIZEOF (QUERY (aoa &lt;*&#10;       applied_organization_assignment |&#10;       pd IN aoa.items )) = 1 )))&#10;       )) = 0"/>
      </rule>
      <rule name="promissory_usage_relationship_constraint" appliesto="promissory_usage_occurrence">
         <where label="WR1" expression="SIZEOF(QUERY(puo &lt;* promissory_usage_occurrence |&#10;       ('PHYSICAL_UNIT_USAGE_VIEW_MIM.'&#10;       + 'PHYSICAL_UNIT' IN TYPEOF (puo.relating_product_definition))&#10;       AND (puo.relating_product_definition.frame_of_reference.name&#10;       = 'physical design'))) = 0"/>
         <where label="WR2" expression="SIZEOF(QUERY(puo &lt;* promissory_usage_occurrence |&#10;       SIZEOF(USEDIN(puo,&#10;       'PHYSICAL_UNIT_USAGE_VIEW_MIM.'&#10;       + 'APPLIED_SECURITY_CLASSIFICATION_ASSIGNMENT.ITEMS')&#10;       ) = 0)) = 0"/>
      </rule>
      <rule name="promissory_usage_relationship_unique_constraint" appliesto="promissory_usage_occurrence">
         <algorithm>LOCAL
  pu_bag : BAG OF physical_unit := [];
  puo_bag : BAG OF promissory_usage_occurrence;
  pass : BOOLEAN := TRUE;
  comp_bag : BAG OF physical_unit;
END_LOCAL;

REPEAT i := 1 to SIZEOF(promissory_usage_occurrence) by 1;
  IF EXISTS( promissory_usage_occurrence[i].relating_product_definition ) 
                                                      THEN
    IF( (('PHYSICAL_UNIT_USAGE_VIEW_MIM.' + 
'PHYSICAL_UNIT') IN
TYPEOF(promissory_usage_occurrence[i].relating_product_definition)) AND (
promissory_usage_occurrence[i].relating_product_definition.
frame_of_reference.name =
'physical design') ) THEN
      IF( NOT( promissory_usage_occurrence[i].
                                relating_product_definition IN pu_bag ) ) 
                                                                THEN
        pu_bag := pu_bag + promissory_usage_occurrence[i].
                                             relating_product_definition;
      END_IF;
    END_IF;
  END_IF;
END_REPEAT;

REPEAT i := 1 to SIZEOF(pu_bag) by 1;
  IF ( NOT pass ) THEN ESCAPE;
  END_IF;
  puo_bag := QUERY( puo &lt;* promissory_usage_occurrence | 
      (puo.relating_product_definition :=: pu_bag[i]) );
  comp_bag := [];
  REPEAT j := 1 to SIZEOF(puo_bag) by 1;
    IF ( NOT pass ) THEN ESCAPE;
    END_IF;
    IF ( ((
'PHYSICAL_UNIT_USAGE_VIEW_MIM.' + 
'PHYSICAL_UNIT') IN
TYPEOF(puo_bag[j].related_product_definition)) AND (
puo_bag[j].related_product_definition.frame_of_reference.name IN [
'physical design',
'physical design usage']) ) THEN
      IF EXISTS( puo_bag[j].related_product_definition ) THEN
        IF ( puo_bag[j].related_product_definition IN comp_bag ) THEN
          pass := FALSE;
          ESCAPE;
        ELSE
          comp_bag := comp_bag + puo_bag[j].related_product_definition;
        END_IF;
      END_IF;
    END_IF;
  END_REPEAT;
END_REPEAT;</algorithm>
         <where label="WR1" expression="pass"/>
      </rule>
      <function name="is_assembly_module_design">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>LOCAL
  pass : BOOLEAN := FALSE;
END_LOCAL;
IF NOT(EXISTS(pd\product_definition.name)) THEN RETURN(FALSE); END_IF;
IF ((pd\product_definition.name = 'assembly module') AND
   (pd.frame_of_reference\application_context_element.name = 'physical design'))
THEN
    RETURN (TRUE);
END_IF;
RETURN (pass);</algorithm>
      </function>
      <function name="is_assembly_module_usage">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>LOCAL
  pass : BOOLEAN := FALSE;
END_LOCAL;
IF NOT(EXISTS(pd\product_definition.name)) THEN RETURN(FALSE); END_IF;
IF ((pd\product_definition.name = 'assembly module') AND
   (pd.frame_of_reference\application_context_element.name = 'physical design usage'))
THEN
    RETURN (TRUE);
END_IF;
RETURN (pass);</algorithm>
      </function>
      <function name="is_ee_product_definition">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>LOCAL
  pass : BOOLEAN := FALSE;
END_LOCAL;
IF (NOT(is_laminate_component(pd)) AND 
   (NOT('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +
  'COMPONENT_DEFINITION' IN TYPEOF(pd))) AND 
   (NOT('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +
  'STRATUM' IN TYPEOF(pd))) AND 
   (NOT('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +
  'ASSEMBLY_GROUP_COMPONENT_DEFINITION_PLACEMENT_LINK' IN TYPEOF(pd))) AND
   (NOT('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +
  'BUS_STRUCTURAL_DEFINITION' IN TYPEOF(pd))) AND
   (NOT('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +
  'COMPONENT_FUNCTIONAL_UNIT' IN TYPEOF(pd))) AND
   (NOT('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +
  'LINEAR_ARRAY_COMPONENT_DEFINITION_LINK' IN TYPEOF(pd))) AND
   (NOT('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +
  'NETWORK_NODE_DEFINITION' IN TYPEOF(pd))) AND
   (NOT('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +
  'PRINTED_PART_TEMPLATE_MATERIAL' IN TYPEOF(pd)))
   ) 
THEN
    RETURN (TRUE);
ELSE
    RETURN (FALSE);
END_IF;</algorithm>
      </function>
      <function name="is_interconnect_module_design">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>LOCAL
  pass : BOOLEAN := FALSE;
END_LOCAL;
IF NOT(EXISTS(pd\product_definition.name)) THEN RETURN(FALSE); END_IF;
IF ((pd\product_definition.name = 'interconnect module') AND
   (pd.frame_of_reference\application_context_element.name = 'physical design'))
THEN
    RETURN (TRUE);
END_IF;
RETURN (pass);</algorithm>
      </function>
      <function name="is_interconnect_module_usage">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>LOCAL
  pass : BOOLEAN := FALSE;
END_LOCAL;
IF NOT(EXISTS(pd\product_definition.name)) THEN RETURN(FALSE); END_IF;
IF ((pd\product_definition.name = 'interconnect module') AND
   (pd.frame_of_reference\application_context_element.name = 'physical design usage'))
THEN
    RETURN (TRUE);
END_IF;
RETURN (pass);</algorithm>
      </function>
      <function name="is_laminate_component">
         <parameter name="pd">
            <typename name="product_definition"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>LOCAL
  pass : BOOLEAN := FALSE;
END_LOCAL;
IF (pd\product_definition.description = 'laminate component') THEN
    RETURN (TRUE);
ELSE
  IF ('PHYSICAL_UNIT_USAGE_VIEW_MIM.' +
  'PRINTED_COMPONENT' IN TYPEOF(pd)) THEN
    RETURN (TRUE);
  END_IF;
END_IF;
RETURN (pass);</algorithm>
      </function>
   </schema>
</express>
