<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" description.file="arm_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="printed_physical_layout_template_arm schema_instance"/>
   <schema name="Printed_physical_layout_template_arm">
      <interface kind="use" schema="Extended_geometric_tolerance_arm"/>
      <interface kind="use" schema="Fabrication_technology_arm"/>
      <interface kind="use" schema="Functional_usage_view_arm"/>
      <interface kind="reference" schema="Requirement_decomposition_arm">
         <interfaced.item name="get_requirement_definition_property"/>
      </interface>
      <type name="pplt_usage_concept">
         <select extensible="YES" genericentity="YES" basedon="usage_concept" selectitems="Printed_part_template_terminal"/>
      </type>
      <type name="printed_part_template_terminal_class">
         <enumeration items="curve_edge_segment surface_point area_edge_segment surface_area" extensible="NO"/>
      </type>
      <entity name="Basic_multi_stratum_printed_part_template" supertypes="Printed_part_template" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="material_stack" optional="NO">
            <typename name="Stratum_stack_model"/>
         </explicit>
      </entity>
      <entity name="Complex_multi_stratum_printed_part_template" supertypes="Printed_part_template" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="printed_part_template_stack" optional="NO">
            <typename name="Stratum_stack_model"/>
         </explicit>
         <derived name="access_mechanisms" expression="raw_access_mechanisms + complex_printed_part_template_access_mechanisms(decomposition)">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Printed_part_template_terminal"/>
         </derived>
         <inverse name="decomposition" entity="Single_complex_multi_stratum_part_template_composition_relationship" attribute="composition">
            <inverse.aggregate type="SET" lower="2" upper="?"/>
         </inverse>
      </entity>
      <entity name="Functional_usage_view_to_printed_part_template_terminal_assignment" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="physical_usage_view_terminal" optional="NO">
            <typename name="Printed_part_template_terminal"/>
         </explicit>
         <explicit name="functional_usage_view_terminal" optional="NO">
            <typename name="Scalar_terminal_definition"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="functional_usage_view_terminal"/>
            <unique.attribute attribute="physical_usage_view_terminal"/>
         </unique>
      </entity>
      <entity name="Non_conductive_cross_section_template" supertypes="Template_definition" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="template_technology" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Stratum_technology"/>
         </explicit>
         <explicit name="nominal_width" optional="NO">
            <typename name="Length_data_element"/>
         </explicit>
         <where label="WR1" expression="NOT EXISTS(SELF\Product_view_definition.name)"/>
      </entity>
      <entity name="Printed_connector_template" supertypes="Printed_part_template" abstract.supertype="NO" abstract.entity="NO">
         <inverse name="characterized_connector_terminal_relationship" entity="Printed_connector_template_terminal_relationship" attribute="connector">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
         </inverse>
      </entity>
      <entity name="Printed_connector_template_terminal_relationship" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="join_terminal" optional="NO">
            <typename name="Printed_part_template_join_terminal"/>
         </explicit>
         <explicit name="interface_terminal" optional="NO">
            <typename name="Printed_part_template_interface_terminal"/>
         </explicit>
         <explicit name="connector" optional="NO">
            <typename name="Printed_connector_template"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="join_terminal"/>
            <unique.attribute attribute="connector"/>
         </unique>
         <unique label="UR2">
            <unique.attribute attribute="interface_terminal"/>
            <unique.attribute attribute="connector"/>
         </unique>
      </entity>
      <entity name="Printed_part_cross_section_template" supertypes="Template_definition" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="horizontal_material_link" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Printed_part_template_material_link"/>
         </explicit>
         <explicit name="vertical_material_link" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Printed_part_template_material_link"/>
         </explicit>
         <explicit name="transmission_line_model" optional="NO">
            <typename name="Analytical_model_definition"/>
         </explicit>
         <explicit name="maximum_transmission_line_characteristic" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Analytical_model_application"/>
         </explicit>
         <explicit name="minimum_transmission_line_characteristic" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Analytical_model_application"/>
         </explicit>
         <explicit name="width" optional="NO">
            <typename name="Tolerance_characteristic"/>
         </explicit>
         <explicit name="start_vertex" optional="NO">
            <typename name="Edge_segment_vertex"/>
         </explicit>
         <explicit name="end_vertex" optional="NO">
            <typename name="Edge_segment_vertex"/>
         </explicit>
         <inverse name="using_terminal" entity="Printed_part_cross_section_template_terminal" attribute="cross_section_definition">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
         </inverse>
         <where label="WR1" expression="SIZEOF(QUERY(hml &lt;* horizontal_material_link | NOT (hml.precedent_material\Shape_element.element_name IN ['right']))) = 0"/>
         <where label="WR2" expression="SIZEOF(QUERY(hml &lt;* horizontal_material_link | NOT (hml.subsequent_material\Shape_element.element_name IN ['left']))) = 0"/>
         <where label="WR3" expression="SIZEOF(QUERY(hml &lt;* vertical_material_link | NOT (hml.precedent_material\Shape_element.element_name IN ['bottom']))) = 0"/>
         <where label="WR4" expression="SIZEOF(QUERY(hml &lt;* vertical_material_link | NOT (hml.precedent_material\Shape_element.element_name IN ['top']))) = 0"/>
         <where label="WR5" expression="horizontal_material_link :&lt;&gt;: vertical_material_link"/>
         <where label="WR6" expression="start_vertex :&lt;&gt;: end_vertex"/>
         <where label="WR7" expression="NOT EXISTS(SELF\Product_view_definition.name)"/>
         <where label="WR8" expression="('CHARACTERISTIC_ARM.STATISTICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(width)) OR&#10;        ('CHARACTERISTIC_ARM.SYMMETRICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(width)) OR&#10;        (SIZEOF(QUERY(it &lt;* width\Representation.items |&#10;          NOT('VALUE_WITH_UNIT_EXTENSION_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(width\Representation.items))&#10;         )) = 0)"/>
         <where label="WR9" expression="NOT('CHARACTERISTIC_ARM.SYMMETRICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(width)) OR&#10;        (SIZEOF(QUERY(it &lt;* width\Representation.items |&#10;        ('VALUE_WITH_UNIT_EXTENSION_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(width\Representation.items))&#10;           )) = 1)"/>
      </entity>
      <entity name="Printed_part_cross_section_template_terminal" supertypes="Printed_part_template_terminal" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="cross_section_definition" optional="NO">
            <typename name="Printed_part_cross_section_template"/>
         </explicit>
         <explicit name="material_to_left_of_terminal" optional="YES">
            <typename name="Printed_part_template_material_link"/>
         </explicit>
         <explicit name="material_to_right_of_terminal" optional="YES">
            <typename name="Printed_part_template_material_link"/>
         </explicit>
         <explicit name="material_to_top_of_terminal" optional="YES">
            <typename name="Printed_part_template_material_link"/>
         </explicit>
         <explicit name="material_to_bottom_of_terminal" optional="YES">
            <typename name="Printed_part_template_material_link"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="cross_section_definition"/>
            <unique.attribute attribute="material_to_left_of_terminal"/>
            <unique.attribute attribute="material_to_right_of_terminal"/>
            <unique.attribute attribute="material_to_top_of_terminal"/>
            <unique.attribute attribute="material_to_bottom_of_terminal"/>
         </unique>
         <where label="WR1" expression="(SELF\Printed_part_template_terminal.connection_zone_category = curve_edge_segment) OR (SELF\Printed_part_template_terminal.connection_zone_category = area_edge_segment)"/>
         <where label="WR2" expression="NOT (EXISTS(material_to_left_of_terminal) AND EXISTS(material_to_right_of_terminal)) OR (material_to_left_of_terminal :&lt;&gt;: material_to_right_of_terminal)"/>
         <where label="WR3" expression="NOT (EXISTS(material_to_left_of_terminal) AND EXISTS(material_to_top_of_terminal)) OR (material_to_left_of_terminal :&lt;&gt;: material_to_top_of_terminal)"/>
         <where label="WR4" expression="NOT (EXISTS(material_to_left_of_terminal) AND EXISTS(material_to_bottom_of_terminal)) OR (material_to_left_of_terminal :&lt;&gt;: material_to_bottom_of_terminal)"/>
         <where label="WR5" expression="NOT (EXISTS(material_to_right_of_terminal) AND EXISTS(material_to_top_of_terminal)) OR (material_to_right_of_terminal :&lt;&gt;: material_to_top_of_terminal)"/>
         <where label="WR6" expression="NOT (EXISTS(material_to_right_of_terminal) AND EXISTS(material_to_bottom_of_terminal)) OR (material_to_right_of_terminal :&lt;&gt;: material_to_bottom_of_terminal)"/>
         <where label="WR7" expression="NOT (EXISTS(material_to_top_of_terminal) AND EXISTS(material_to_bottom_of_terminal)) OR (material_to_top_of_terminal :&lt;&gt;: material_to_bottom_of_terminal)"/>
      </entity>
      <entity name="Printed_part_template" abstract.supertype="YES" supertypes="Template_definition" super.expression="ONEOF (Single_stratum_printed_part_template, Basic_multi_stratum_printed_part_template, Complex_multi_stratum_printed_part_template) ANDOR Printed_connector_template" abstract.entity="NO">
         <explicit name="implemented_function" optional="YES">
            <typename name="Functional_unit_usage_view"/>
         </explicit>
         <derived name="footprint_implementation" expression="(SIZEOF(USEDIN(SELF,&#10;        'PART_TEMPLATE_2D_SHAPE_ARM.' + 'FOOTPRINT_DEFINITION.REFERENCE_PACKAGE')) &gt; 0)">
            <builtintype type="BOOLEAN" fixed="NO"/>
         </derived>
         <inverse name="raw_access_mechanisms" entity="Printed_part_template_terminal" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="0" upper="?"/>
         </inverse>
         <where label="WR1" expression="(SIZEOF(QUERY(prpc &lt;* USEDIN(defined_version.of_product,&#10;            'PRODUCT_IDENTIFICATION_ARM.PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS')&#10;              | (prpc.category\Product_category.name = 'printed part'))) &gt;= 0) OR &#10;            ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_ARM.LAYOUT_MACRO_FLOOR_PLAN_TEMPLATE' IN TYPEOF(SELF))"/>
         <where label="WR2" expression="SIZEOF(USEDIN(SELF, 'PART_TEMPLATE_2D_SHAPE_ARM.' + 'FOOTPRINT_DEFINITION.REFERENCE_PACKAGE')) &lt; 2"/>
         <where label="WR3" expression="NOT EXISTS(SELF\Product_view_definition.name)"/>
      <where label="IP1"/>
         <where label="IP2"/>
      <where label="IP1"/>
         <where label="IP2"/>
      </entity>
      <entity name="Printed_part_template_connected_terminals_definition" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="name" optional="NO">
            <builtintype type="STRING" fixed="NO"/>
         </explicit>
         <explicit name="connected_terminals" optional="NO">
            <aggregate type="SET" lower="2" upper="?" unique="NO" optional="NO"/>
            <typename name="Printed_part_template_terminal"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="name"/>
         </unique>
      </entity>
      <entity name="Printed_part_template_interface_terminal" supertypes="Printed_part_template_terminal" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="associated_definition" optional="NO">
            <typename name="Printed_connector_template"/>
            <redeclaration entity-ref="Printed_part_template_terminal"/>
         </explicit>
         <inverse name="external_connector_function" entity="Printed_connector_template_terminal_relationship" attribute="interface_terminal">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
         </inverse>
      </entity>
      <entity name="Printed_part_template_join_terminal" supertypes="Printed_part_template_terminal" abstract.supertype="NO" abstract.entity="NO">
         <inverse name="internal_connector_function" entity="Printed_connector_template_terminal_relationship" attribute="join_terminal">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
      </entity>
      <entity name="Printed_part_template_material" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="width" optional="NO">
            <typename name="Tolerance_characteristic"/>
         </explicit>
         <explicit name="required_material" optional="NO">
            <typename name="Stratum_technology"/>
         </explicit>
         <inverse name="boundary" entity="Template_material_cross_section_boundary" attribute="associated_definition">
            <inverse.aggregate type="SET" lower="0" upper="4"/>
         </inverse>
         <where label="WR1" expression="SIZEOF(QUERY(temp &lt;* (USEDIN(SELF,&#10; 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\Shape_element.element_name = 'top')) &lt;= 1"/>
         <where label="WR2" expression="SIZEOF(QUERY(temp &lt;* (USEDIN(SELF,&#10; 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\Shape_element.element_name = 'bottom')) &lt;= 1"/>
         <where label="WR3" expression="SIZEOF(QUERY(temp &lt;* (USEDIN(SELF,&#10; 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\Shape_element.element_name = 'left')) &lt;= 1"/>
         <where label="WR4" expression="SIZEOF(QUERY(temp &lt;* (USEDIN(SELF,&#10; 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_ARM.TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY.' + 'ASSOCIATED_DEFINITION')) | temp\Shape_element.element_name = 'right')) &lt;= 1"/>
         <where label="WR5" expression="('CHARACTERISTIC_ARM.STATISTICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(width)) OR&#10;        ('CHARACTERISTIC_ARM.SYMMETRICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(width)) OR&#10;        (SIZEOF(QUERY(it &lt;* width\Representation.items |&#10;          NOT('VALUE_WITH_UNIT_EXTENSION_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(width\Representation.items))&#10;         )) = 0)"/>
         <where label="WR6" expression="NOT('CHARACTERISTIC_ARM.SYMMETRICAL_TOLERANCE_CHARACTERISTIC' IN TYPEOF(width)) OR&#10;        (SIZEOF(QUERY(it &lt;* width\Representation.items |&#10;        ('VALUE_WITH_UNIT_EXTENSION_ARM.LENGTH_DATA_ELEMENT' IN TYPEOF(width\Representation.items))&#10;           )) = 1)"/>
      </entity>
      <entity name="Printed_part_template_material_link" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="precedent_material" optional="NO">
            <typename name="Template_material_cross_section_boundary"/>
         </explicit>
         <explicit name="subsequent_material" optional="NO">
            <typename name="Template_material_cross_section_boundary"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="precedent_material"/>
            <unique.attribute attribute="subsequent_material"/>
         </unique>
         <where label="WR1" expression="precedent_material :&lt;&gt;: subsequent_material"/>
         <where label="WR2" expression="precedent_material\Shape_element.element_name IN ['bottom',&#10; 'right']"/>
         <where label="WR3" expression="subsequent_material\Shape_element.element_name IN ['top',&#10; 'left']"/>
      </entity>
      <entity name="Printed_part_template_terminal" abstract.supertype="YES" supertypes="Placed_feature" super.expression="Printed_part_cross_section_template_terminal ANDOR ONEOF (Printed_part_template_join_terminal, Printed_part_template_interface_terminal)" abstract.entity="NO">
         <explicit name="associated_definition" optional="NO">
            <typename name="Printed_part_template"/>
            <redeclaration entity-ref="Shape_element" old_name="containing_shape"/>
         </explicit>
         <explicit name="connection_zone_category" optional="NO">
            <typename name="printed_part_template_terminal_class"/>
         </explicit>
         <explicit name="terminal_connection_zone" optional="YES">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Connection_zone_in_layout_template"/>
         </explicit>
         <inverse name="connection_requirement" entity="Printed_part_template_connected_terminals_definition" attribute="connected_terminals">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <inverse name="functional_usage_view_terminal" entity="Functional_usage_view_to_printed_part_template_terminal_assignment" attribute="physical_usage_view_terminal">
            <inverse.aggregate type="SET" lower="0" upper="1"/>
         </inverse>
         <inverse name="feature_shape" entity="Geometric_model_constituent_relationship" attribute="constituent_element">
            <inverse.aggregate type="SET" lower="1" upper="?"/>
            <redeclaration entity-ref="Placed_feature"/>
         </inverse>
         <unique label="UR1">
            <unique.attribute entity-ref="Shape_element" attribute="element_name"/>
            <unique.attribute attribute="associated_definition"/>
         </unique>
         <where label="WR1" expression="NOT EXISTS(SELF\Shape_element.description)"/>
      </entity>
      <entity name="Printed_part_template_terminal_relationship" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="relating_printed_part_terminal" optional="NO">
            <typename name="Printed_part_template_terminal"/>
         </explicit>
         <explicit name="related_printed_part_terminal" optional="NO">
            <typename name="Printed_part_template_terminal"/>
         </explicit>
      </entity>
      <entity name="Single_complex_multi_stratum_part_template_composition_relationship" supertypes="View_definition_relationship" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="composition" optional="NO">
            <typename name="Complex_multi_stratum_printed_part_template"/>
            <redeclaration entity-ref="View_definition_relationship" old_name="relating_view"/>
         </explicit>
         <explicit name="element" optional="NO">
            <typename name="Single_stratum_printed_part_template"/>
            <redeclaration entity-ref="View_definition_relationship" old_name="related_view"/>
         </explicit>
         <explicit name="position" optional="NO">
            <typename name="Stratum_technology_occurrence"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="composition"/>
            <unique.attribute attribute="position"/>
         </unique>
         <where label="WR1" expression="NOT EXISTS(SELF\View_definition_relationship.relation_type)"/>
      </entity>
      <entity name="Single_stratum_printed_part_template" supertypes="Printed_part_template" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="of_stratum_technology" optional="NO">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Stratum_technology"/>
         </explicit>
         <derived name="access_mechanisms" expression="raw_access_mechanisms">
            <aggregate type="SET" lower="1" upper="?" unique="NO" optional="NO"/>
            <typename name="Printed_part_template_terminal"/>
         </derived>
      </entity>
      <entity name="Template_material_cross_section_boundary" supertypes="Non_feature_shape_element" abstract.supertype="NO" abstract.entity="NO">
         <explicit name="associated_definition" optional="NO">
            <typename name="Printed_part_template_material"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="associated_definition"/>
            <unique.attribute entity-ref="Non_feature_shape_element" attribute="element_name"/>
         </unique>
         <where label="WR1" expression="SELF\Shape_element.element_name IN ['top',&#10; 'bottom',&#10; 'left',&#10; 'right']"/>
      </entity>
      <function name="complex_printed_part_template_access_mechanisms">
         <parameter name="input">
            <aggregate type="SET" lower="0" upper="?" unique="NO" optional="NO"/>
            <typename name="Single_complex_multi_stratum_part_template_composition_relationship"/>
         </parameter>
         <aggregate type="SET" lower="0" upper="?" unique="NO" optional="NO"/>
         <typename name="Printed_part_template_terminal"/>
         <algorithm>LOCAL
      pptt : SET OF printed_part_template_terminal := [];
  END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
       pptt := input[i].element.raw_access_mechanisms + pptt;
    END_REPEAT;
    RETURN(pptt);</algorithm>
      </function>
   </schema>
</express>
