<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-01-25T15:51:20" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="printed_physical_layout_template_mim schema_instance"/>
   <schema name="Printed_physical_layout_template_mim">
      <interface kind="use" schema="Analytical_model_mim"/>
      <interface kind="use" schema="Extended_geometric_tolerance_mim"/>
      <interface kind="use" schema="Feature_and_connection_zone_mim"/>
      <interface kind="use" schema="Fabrication_technology_mim"/>
      <interface kind="use" schema="Network_functional_usage_view_mim"/>
      <interface kind="use" schema="Non_feature_shape_element_mim"/>
      <interface kind="use" schema="Physical_layout_template_mim"/>
      <interface kind="use" schema="Shape_property_assignment_mim"/>
      <interface kind="use" schema="Value_with_unit_extension_mim"/>
      <type name="pplt_groupable_item">
         <select extensible="YES" genericentity="YES" basedon="groupable_item" selectitems="printed_part_template_terminal"/>
      </type>
      <entity name="printed_connector_template_terminal_relationship" supertypes="shape_aspect shape_aspect_relationship">
         <unique label="UR1">
            <unique.attribute entity-ref="printed_connector_template_terminal_relationship" attribute="relating_shape_aspect"/>
            <unique.attribute entity-ref="printed_connector_template_terminal_relationship" attribute="related_shape_aspect"/>
         </unique>
         <where label="WR1" expression=" SIZEOF ( QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | ( ( sar \ shape_aspect_relationship . name = 'connector' ) AND ( sar . relating_shape_aspect \ shape_aspect . description = 'printed connector template' ) ) ) ) = 1 "/>
         <where label="WR2" expression=" ( ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF ( SELF \ shape_aspect_relationship . relating_shape_aspect ) ) AND ( SELF \ shape_aspect_relationship . relating_shape_aspect \ shape_aspect . description = 'interface terminal' ) ) "/>
         <where label="WR3" expression=" ( ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF ( SELF \ shape_aspect_relationship . related_shape_aspect ) ) AND ( SELF \ shape_aspect_relationship . related_shape_aspect \ shape_aspect . description = 'join terminal' ) ) "/>
         <where label="WR4" expression=" SELF \ shape_aspect_relationship . relating_shape_aspect :&lt;&gt;: SELF \ shape_aspect_relationship . related_shape_aspect "/>
      </entity>
      <entity name="printed_part_cross_section_template_terminal" supertypes="printed_part_template_terminal">
         <where label="WR1" expression=" SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'cross section definition' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PART_TEMPLATE_DEFINITION' IN TYPEOF ( am . relating_shape_aspect ) ) AND ( am . relating_shape_aspect \ shape_aspect . description = 'printed part cross section template' ) ) ) = 1 "/>
         <where label="WR2" expression=" SIZEOF ( QUERY ( ga &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'APPLIED_GROUP_ASSIGNMENT.ITEMS' ) | ( ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL_CONNECTION_ZONE_CATEGORY' IN TYPEOF ( ga . assigned_group ) ) AND ( ga . assigned_group . name IN [ 'area edge segment' , 'curve edge segment' ] ) ) ) ) = 1 "/>
         <where label="WR3" expression=" SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to left of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) &lt;= 1 "/>
         <where label="WR4" expression=" SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to right of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) &lt;= 1 "/>
         <where label="WR5" expression=" SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to top of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) &lt;= 1 "/>
         <where label="WR6" expression=" SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to bottom of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) &lt;= 1 "/>
         <where label="WR7" expression=" NOT ( ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to left of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) AND ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to right of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) ) OR ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | ( sar \ shape_aspect_relationship . name = 'material to right of terminal' ) OR ( sar \ shape_aspect_relationship . name = 'material to left of terminal' ) ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 2 ) "/>
         <where label="WR8" expression=" NOT ( ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to left of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) AND ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to top of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) ) OR ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | ( sar \ shape_aspect_relationship . name = 'material to top of terminal' ) OR ( sar \ shape_aspect_relationship . name = 'material to left of terminal' ) ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 2 ) "/>
         <where label="WR9" expression=" NOT ( ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to left of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) AND ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to bottom of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) ) OR ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | ( sar \ shape_aspect_relationship . name = 'material to bottom of terminal' ) OR ( sar \ shape_aspect_relationship . name = 'material to left of terminal' ) ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 2 ) "/>
         <where label="WR10" expression=" NOT ( ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to top of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) AND ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to right of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) ) OR ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | ( sar \ shape_aspect_relationship . name = 'material to right of terminal' ) OR ( sar \ shape_aspect_relationship . name = 'material to top of terminal' ) ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 2 ) "/>
         <where label="WR11" expression=" NOT ( ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to bottom of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) AND ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to right of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) ) OR ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | ( sar \ shape_aspect_relationship . name = 'material to right of terminal' ) OR ( sar \ shape_aspect_relationship . name = 'material to bottom of terminal' ) ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 2 ) "/>
         <where label="WR12" expression=" NOT ( ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to top of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) AND ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'material to bottom of terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 1 ) ) OR ( SIZEOF ( QUERY ( am &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | ( sar \ shape_aspect_relationship . name = 'material to top of terminal' ) OR ( sar \ shape_aspect_relationship . name = 'material to bottom of terminal' ) ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN TYPEOF ( am . relating_shape_aspect ) ) ) ) = 2 ) "/>
      </entity>
      <entity name="printed_part_template_connected_terminals_definition" supertypes="shape_aspect">
         <unique label="UR1">
            <unique.attribute entity-ref="printed_part_template_connected_terminals_definition" attribute="name"/>
         </unique>
         <where label="WR1" expression=" SIZEOF ( QUERY ( mct &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'member connected terminal' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF ( mct . related_shape_aspect ) ) AND ( mct . related_shape_aspect \ shape_aspect . description IN [ 'interface terminal' , 'join terminal' ] ) ) ) &gt;= 2 "/>
      </entity>
      <entity name="printed_part_template_link" supertypes="stratum_technology_link shape_aspect_relationship">
         <where label="WR1" expression=" SELF \ shape_aspect_relationship . related_shape_aspect :&lt;&gt;: SELF \ shape_aspect_relationship . relating_shape_aspect "/>
         <where label="WR2" expression=" SIZEOF ( TYPEOF ( SELF ) - TYPEOF ( SELF \ property_definition_relationship || SELF \ printed_part_template_link || SELF \ property_definition || SELF \ stratum_technology_link || SELF \ shape_aspect_relationship ) ) = 0 "/>
         <where label="WR3" expression=" 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PART_TEMPLATE_DEFINITION' IN TYPEOF ( SELF \ shape_aspect_relationship . related_shape_aspect ) "/>
         <where label="WR4" expression=" 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PART_TEMPLATE_DEFINITION' IN TYPEOF ( SELF \ shape_aspect_relationship . relating_shape_aspect ) "/>
         <where label="WR5" expression=" SELF \ shape_aspect_relationship . name = '' "/>
         <where label="WR6" expression=" SELF \ shape_aspect_relationship . description = '' "/>
         <where label="WR7" expression=" SELF \ shape_aspect_relationship . related_shape_aspect . description = 'printed part template' "/>
         <where label="WR8" expression=" SELF \ shape_aspect_relationship . relating_shape_aspect . description = 'printed part template' "/>
      </entity>
      <entity name="printed_part_template_material" supertypes="product_definition">
         <where label="WR1" expression=" SIZEOF ( QUERY ( pd &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) | SIZEOF ( QUERY ( tu &lt;* QUERY ( pdr &lt;* USEDIN ( pd , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION_RELATIONSHIP.RELATED_PROPERTY_DEFINITION' ) | pdr \ property_definition_relationship . name = 'technology usage' ) | 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'STRATUM_TECHNOLOGY' IN TYPEOF ( tu . relating_property_definition . definition ) ) ) = 1 ) ) = 1 "/>
         <where label="WR2" expression=" SIZEOF ( QUERY ( pd &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) | NOT ( SIZEOF ( QUERY ( sr_pdr &lt;* QUERY ( pdr &lt;* USEDIN ( pd , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) | 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'REPRESENTATION' IN TYPEOF ( pdr . used_representation ) ) | ( ( sr_pdr . used_representation \ representation . name = 'physical characteristics representation' ) AND ( SIZEOF ( sr_pdr . used_representation . items ) = 2 ) AND ( SIZEOF ( QUERY ( it &lt;* sr_pdr . used_representation . items | it \ representation_item . name IN [ 'maximum width' , 'minimum width' ] ) ) = 2 ) ) ) ) = 1 ) ) ) = 0 "/>
         <where label="WR3" expression=" SIZEOF ( TYPEOF ( SELF ) - TYPEOF ( SELF \ product_definition || SELF \ printed_part_template_material ) ) = 0 "/>
         <where label="WR4" expression=" SIZEOF ( QUERY ( pd &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) | NOT ( SIZEOF ( QUERY ( sa &lt;* USEDIN ( pd , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) | ( ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN TYPEOF ( sa ) ) AND ( sa . description = 'top' ) ) ) ) &lt;= 1 ) ) ) = 0 "/>
         <where label="WR5" expression=" SIZEOF ( QUERY ( pd &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) | NOT ( SIZEOF ( QUERY ( sa &lt;* USEDIN ( pd , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) | ( ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN TYPEOF ( sa ) ) AND ( sa . description = 'bottom' ) ) ) ) &lt;= 1 ) ) ) = 0 "/>
         <where label="WR6" expression=" SIZEOF ( QUERY ( pd &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) | NOT ( SIZEOF ( QUERY ( sa &lt;* USEDIN ( pd , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) | ( ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN TYPEOF ( sa ) ) AND ( sa . description = 'left' ) ) ) ) &lt;= 1 ) ) ) = 0 "/>
         <where label="WR7" expression=" SIZEOF ( QUERY ( pd &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) | NOT ( SIZEOF ( QUERY ( sa &lt;* USEDIN ( pd , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT.OF_SHAPE' ) | ( ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN TYPEOF ( sa ) ) AND ( sa . description = 'right' ) ) ) ) &lt;= 1 ) ) ) = 0 "/>
      </entity>
      <entity name="printed_part_template_material_link" supertypes="shape_aspect shape_aspect_relationship">
         <unique label="UR1">
            <unique.attribute entity-ref="printed_part_template_material_link" attribute="related_shape_aspect"/>
            <unique.attribute entity-ref="printed_part_template_material_link" attribute="relating_shape_aspect"/>
         </unique>
         <where label="WR1" expression=" SELF \ shape_aspect_relationship . related_shape_aspect :&lt;&gt;: SELF \ shape_aspect_relationship . relating_shape_aspect "/>
         <where label="WR2" expression=" 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN TYPEOF ( SELF \ shape_aspect_relationship . related_shape_aspect ) "/>
         <where label="WR3" expression=" 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN TYPEOF ( SELF \ shape_aspect_relationship . relating_shape_aspect ) "/>
         <where label="WR4" expression=" SIZEOF ( TYPEOF ( SELF ) - TYPEOF ( SELF \ shape_aspect || SELF \ shape_aspect_relationship || SELF \ printed_part_template_material_link ) ) = 0 "/>
         <where label="WR5" expression=" SELF \ shape_aspect . name = '' "/>
         <where label="WR6" expression=" SELF \ shape_aspect_relationship . name = '' "/>
         <where label="WR7" expression=" SELF \ shape_aspect_relationship . related_shape_aspect . of_shape :&lt;&gt;: SELF \ shape_aspect_relationship . relating_shape_aspect . of_shape "/>
         <where label="WR8" expression=" SELF \ shape_aspect_relationship . relating_shape_aspect . description IN [ 'bottom' , 'right' ] "/>
         <where label="WR9" expression=" SELF \ shape_aspect_relationship . related_shape_aspect . description IN [ 'top' , 'left' ] "/>
      </entity>
      <entity name="printed_part_template_terminal" supertypes="shape_aspect" super.expression="printed_part_cross_section_template_terminal">
         <where label="WR1" expression=" SELF \ shape_aspect . description IN [ 'interface terminal' , 'join terminal' ] "/>
         <where label="WR2" expression=" SIZEOF ( QUERY ( ga &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'APPLIED_GROUP_ASSIGNMENT.ITEMS' ) | 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL_CONNECTION_ZONE_CATEGORY' IN TYPEOF ( ga . assigned_group ) ) ) = 1 "/>
         <where label="WR3" expression=" SIZEOF ( QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT' ) | sar . related_shape_aspect \ shape_aspect . description = 'connection zone' ) ) &gt;= 1 "/>
         <where label="WR4" expression=" SIZEOF ( QUERY ( pd &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION.DEFINITION' ) | NOT ( SIZEOF ( QUERY ( pdr &lt;* USEDIN ( pd , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION' ) | 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_REPRESENTATION' IN TYPEOF ( pdr . used_representation ) ) ) &gt;= 1 ) ) ) = 0 "/>
         <where label="WR5" expression=" SIZEOF ( QUERY ( ad &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'associated definition' ) | ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PART_TEMPLATE_DEFINITION' IN TYPEOF ( ad . relating_shape_aspect ) ) AND ( ( ad . relating_shape_aspect \ shape_aspect . description = 'printed part template' ) OR ( ad . relating_shape_aspect \ shape_aspect . description = 'printed connector template' ) ) ) ) = 1 "/>
         <where label="WR6" expression=" SIZEOF ( QUERY ( mct &lt;* QUERY ( sar &lt;* USEDIN ( SELF , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | sar \ shape_aspect_relationship . name = 'member connected terminal' ) | 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_CONNECTED_TERMINALS_DEFINITION' IN TYPEOF ( mct . relating_shape_aspect ) ) ) &lt;= 1 "/>
      </entity>
      <entity name="printed_part_template_terminal_connection_zone_category" supertypes="group">
         <where label="WR1" expression=" SELF \ group . name IN [ 'area edge segment' , 'curve edge segment' , 'surface area' , 'surface point' ] "/>
      </entity>
      <entity name="template_material_cross_section_boundary" supertypes="shape_aspect">
         <where label="WR1" expression=" SIZEOF ( TYPEOF ( SELF ) - TYPEOF ( SELF \ shape_aspect || SELF \ template_material_cross_section_boundary ) ) = 0 "/>
         <where label="WR2" expression=" 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_MATERIAL' IN TYPEOF ( SELF . of_shape \ property_definition . definition ) "/>
         <where label="WR3" expression=" SELF \ shape_aspect . description IN [ 'top' , 'left' , 'right' , 'bottom' ] "/>
      </entity>
      <rule name="functional_usage_view_to_printed_part_template_terminal_assignment_constraint" appliesto="shape_aspect_relationship">
         <where label="WR1" expression=" SIZEOF ( QUERY ( sar &lt;* shape_aspect_relationship | ( sar \ shape_aspect_relationship . name = 'functional terminal allocation' ) AND NOT ( ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'FUNCTIONAL_UNIT_TERMINAL_DEFINITION' IN TYPEOF ( sar . relating_shape_aspect ) ) AND ( sar . relating_shape_aspect \ shape_aspect . description = 'scalar terminal' ) ) ) ) = 0 "/>
         <where label="WR2" expression=" SIZEOF ( QUERY ( sar &lt;* shape_aspect_relationship | ( sar \ shape_aspect_relationship . name = 'functional terminal allocation' ) AND NOT ( ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF ( sar . related_shape_aspect ) ) AND ( ( sar . related_shape_aspect \ shape_aspect . description = 'interface terminal' ) OR ( sar . related_shape_aspect \ shape_aspect . description = 'join terminal' ) ) ) ) ) = 0 "/>
      </rule>
      <rule name="functional_usage_view_to_printed_part_template_terminal_assignment_unique_constraint" appliesto="shape_aspect_relationship">
         <algorithm> LOCAL fuvtpptta : BAG OF shape_aspect_relationship := QUERY ( r &lt;* shape_aspect_relationship | ( r \ shape_aspect_relationship . name = 'functional terminal allocation' ) ) ; futd_bag : BAG OF functional_unit_terminal_definition := [ ] ; sar_bag : BAG OF shape_aspect_relationship ; pass : BOOLEAN := TRUE ; pptt_bag : BAG OF printed_part_template_terminal ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( fuvtpptta ) by 1 ; IF EXISTS ( fuvtpptta [ i ] . relating_shape_aspect ) THEN IF ( fuvtpptta [ i ] . relating_shape_aspect \ shape_aspect . description = 'scalar terminal' ) THEN IF ( NOT ( fuvtpptta [ i ] . relating_shape_aspect IN futd_bag ) ) THEN futd_bag := futd_bag + fuvtpptta [ i ] . relating_shape_aspect ; END_IF ; END_IF ; END_IF ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( futd_bag ) by 1 ; IF ( NOT pass ) THEN ESCAPE ; END_IF ; pptt_bag := [ ] ; sar_bag := QUERY ( sar &lt;* fuvtpptta | ( ( sar . relating_shape_aspect :=: futd_bag [ i ] ) AND ( sar . related_shape_aspect \ shape_aspect . description IN [ 'interface terminal' , 'join terminal' ] ) AND ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF ( sar . related_shape_aspect ) ) ) ) ; REPEAT j := 1 to SIZEOF ( sar_bag ) by 1 ; IF ( NOT pass ) THEN ESCAPE ; END_IF ; IF EXISTS ( sar_bag [ j ] . related_shape_aspect ) THEN IF ( sar_bag [ j ] . related_shape_aspect IN pptt_bag ) THEN pass := FALSE ; ESCAPE ; ELSE pptt_bag := pptt_bag + sar_bag [ j ] . related_shape_aspect ; END_IF ; END_IF ; END_REPEAT ; END_REPEAT ; </algorithm>
         <where label="WR1" expression=" pass "/>
      </rule>
      <rule name="printed_connector_template_terminal_relationship_unique_constraint" appliesto="printed_connector_template_terminal_relationship">
         <algorithm> LOCAL ptd_bag : BAG OF part_template_definition := [ ] ; pcttr_bag : BAG OF printed_connector_template_terminal_relationship ; sar_bag : BAG OF shape_aspect_relationship ; pass1 : BOOLEAN := TRUE ; jt_bag : BAG OF printed_part_template_terminal ; pass2 : BOOLEAN := TRUE ; it_bag : BAG OF printed_part_template_terminal ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( printed_connector_template_terminal_relationship ) by 1 ; sar_bag := QUERY ( sar &lt;* USEDIN ( printed_connector_template_terminal_relationship [ i ] , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | ( ( sar \ shape_aspect_relationship . name = 'connector' ) AND ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PART_TEMPLATE_DEFINITION' IN TYPEOF ( sar . relating_shape_aspect ) ) AND ( sar . relating_shape_aspect \ shape_aspect . description = 'printed connector template' ) ) ) ; REPEAT j := 1 to SIZEOF ( sar_bag ) by 1 ; IF EXISTS ( sar_bag [ j ] . relating_shape_aspect ) THEN IF ( NOT ( sar_bag [ j ] . relating_shape_aspect IN ptd_bag ) ) THEN ptd_bag := ptd_bag + sar_bag [ j ] . relating_shape_aspect ; END_IF ; END_IF ; END_REPEAT ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( ptd_bag ) by 1 ; IF ( NOT ( pass1 OR pass2 ) ) THEN ESCAPE ; END_IF ; it_bag := [ ] ; jt_bag := [ ] ; sar_bag := QUERY ( sar &lt;* USEDIN ( ptd_bag [ i ] , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT' ) | ( sar \ shape_aspect_relationship . name = 'connector' ) ) ; REPEAT j := 1 to SIZEOF ( sar_bag ) by 1 ; IF ( NOT ( pass1 OR pass2 ) ) THEN ESCAPE ; END_IF ; pcttr_bag := QUERY ( pcttr &lt;* printed_connector_template_terminal_relationship | ( pcttr :=: sar_bag [ j ] . related_shape_aspect ) ) ; REPEAT k := 1 to SIZEOF ( pcttr_bag ) by 1 ; IF ( NOT ( pass1 OR pass2 ) ) THEN ESCAPE ; END_IF ; IF ( pass1 AND ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF ( pcttr_bag [ k ] . relating_shape_aspect ) ) AND ( pcttr_bag [ k ] . relating_shape_aspect \ shape_aspect . description = 'join terminal' ) ) THEN IF EXISTS ( pcttr_bag [ k ] . relating_shape_aspect ) THEN IF ( pcttr_bag [ k ] . relating_shape_aspect IN jt_bag ) THEN pass1 := FALSE ; ESCAPE ; ELSE jt_bag := jt_bag + pcttr_bag [ k ] . relating_shape_aspect ; END_IF ; END_IF ; END_IF ; IF ( pass2 AND ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF ( pcttr_bag [ k ] . related_shape_aspect ) ) AND ( pcttr_bag [ k ] . related_shape_aspect \ shape_aspect . description = 'interface terminal' ) ) THEN IF EXISTS ( pcttr_bag [ k ] . related_shape_aspect ) THEN IF ( pcttr_bag [ k ] . related_shape_aspect IN it_bag ) THEN pass2 := FALSE ; ESCAPE ; ELSE it_bag := it_bag + pcttr_bag [ k ] . related_shape_aspect ; END_IF ; END_IF ; END_IF ; END_REPEAT ; END_REPEAT ; END_REPEAT ; </algorithm>
         <where label="WR1" expression=" pass1 "/>
         <where label="WR2" expression=" pass2 "/>
      </rule>
      <rule name="printed_part_template_terminal_relationship_constraint" appliesto="shape_aspect_relationship">
         <where label="WR1" expression=" SIZEOF ( QUERY ( sar &lt;* shape_aspect_relationship | ( sar \ shape_aspect_relationship . name = 'printed part template terminal relationship' ) AND NOT ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF ( sar . related_shape_aspect ) ) ) ) = 0 "/>
         <where label="WR2" expression=" SIZEOF ( QUERY ( sar &lt;* shape_aspect_relationship | ( sar \ shape_aspect_relationship . name = 'printed part template terminal relationship' ) AND NOT ( 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF ( sar . relating_shape_aspect ) ) ) ) = 0 "/>
      </rule>
      <rule name="printed_part_template_terminal_unique_constraint" appliesto="printed_part_template_terminal">
         <algorithm> LOCAL pptt : BAG OF printed_part_template_terminal := QUERY ( r &lt;* printed_part_template_terminal | ( r \ shape_aspect . description IN [ 'interface terminal' , 'join terminal' ] ) ) ; name_bag : BAG OF STRING := [ ] ; sar_bag : BAG OF shape_aspect_relationship ; sa_bag : BAG OF shape_aspect ; pass : BOOLEAN := TRUE ; ptd_bag : BAG OF part_template_definition ; END_LOCAL ; REPEAT i := 1 to SIZEOF ( pptt ) by 1 ; IF EXISTS ( pptt [ i ] \ shape_aspect . name ) THEN IF ( NOT ( pptt [ i ] \ shape_aspect . name IN name_bag ) ) THEN name_bag := name_bag + pptt [ i ] \ shape_aspect . name ; END_IF ; END_IF ; END_REPEAT ; REPEAT i := 1 to SIZEOF ( name_bag ) by 1 ; IF ( NOT pass ) THEN ESCAPE ; END_IF ; ptd_bag := [ ] ; sa_bag := QUERY ( sa &lt;* pptt | ( sa \ shape_aspect . name = name_bag [ i ] ) ) ; REPEAT j := 1 to SIZEOF ( sa_bag ) by 1 ; IF ( NOT pass ) THEN ESCAPE ; END_IF ; sar_bag := QUERY ( sar &lt;* USEDIN ( sa_bag [ j ] , 'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT' ) | ( ( sar \ shape_aspect_relationship . name = 'associated definition' ) AND ( sar . relating_shape_aspect \ shape_aspect . description = 'printed part template' ) ) ) ; REPEAT k := 1 to SIZEOF ( sar_bag ) by 1 ; IF EXISTS ( sar_bag [ k ] . relating_shape_aspect ) THEN IF ( sar_bag [ k ] . relating_shape_aspect IN ptd_bag ) THEN pass := FALSE ; ESCAPE ; ELSE ptd_bag := ptd_bag + sar_bag [ k ] . relating_shape_aspect ; END_IF ; END_IF ; END_REPEAT ; END_REPEAT ; END_REPEAT ; </algorithm>
         <where label="WR1" expression=" pass "/>
      </rule>
      <function name="printed_part_template_access_mechanisms">
         <parameter name="input">
            <aggregate type="SET" lower="0" upper="?"/>
            <typename name="printed_part_template_link"/>
         </parameter>
         <aggregate type="SET" lower="0" upper="?"/>
         <typename name="printed_part_template_terminal"/>
         <algorithm> LOCAL pptt : SET OF printed_part_template_terminal := [ ] ; END_LOCAL ; REPEAT i := 1 TO SIZEOF ( input ) BY 1 ; pptt := input [ i ] . precedent_printed_part_template . raw_access_mechanisms + pptt ; pptt := input [ i ] . subsequent_printed_part_template . raw_access_mechanisms + pptt ; END_REPEAT ; RETURN ( pptt ) ; </algorithm>
      </function>
   </schema>
</express>
