<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="2005-02-18T12:24:44" rcs.revision="1.0" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="printed_physical_layout_template_mim schema_instance"/>
   <schema name="Printed_physical_layout_template_mim">
      <interface kind="use" schema="Analytical_model_mim"/>
      <interface kind="use" schema="Extended_geometric_tolerance_mim"/>
      <interface kind="use" schema="Fabrication_technology_mim"/>
      <interface kind="use" schema="Feature_and_connection_zone_mim"/>
      <interface kind="use" schema="Network_functional_usage_view_mim"/>
      <interface kind="use" schema="Non_feature_shape_element_mim"/>
      <interface kind="use" schema="Physical_layout_template_mim"/>
      <interface kind="use" schema="Shape_property_assignment_mim"/>
      <interface kind="use" schema="Value_with_unit_extension_mim"/>
      <type name="pplt_groupable_item">
         <select extensible="YES" genericentity="YES" basedon="groupable_item" selectitems="printed_part_template_terminal"/>
      </type>
      <entity name="printed_connector_template_terminal_relationship" supertypes="shape_aspect shape_aspect_relationship">
         <unique label="UR1">
            <unique.attribute entity-ref="printed_connector_template_terminal_relationship" attribute="relating_shape_aspect"/>
            <unique.attribute entity-ref="printed_connector_template_terminal_relationship" attribute="related_shape_aspect"/>
         </unique>
         <where label="WR1" expression="SIZEOF ( QUERY( sar &lt;* USEDIN ( SELF, &#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;        (( sar\shape_aspect_relationship.name = 'connector') AND&#10;          (sar.relating_shape_aspect\shape_aspect.description = &#10;              'printed connector template'))&#10;        )) = 1"/>
         <where label="WR2" expression="(('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF &#10;       (SELF\shape_aspect_relationship.relating_shape_aspect)) AND&#10;       (SELF\shape_aspect_relationship.relating_shape_aspect\shape_aspect.description &#10;        = 'interface terminal'))"/>
         <where label="WR3" expression="(('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_TERMINAL' IN &#10;       TYPEOF (SELF\shape_aspect_relationship.related_shape_aspect)) AND&#10;       (SELF\shape_aspect_relationship.related_shape_aspect\shape_aspect.description &#10;        = 'join terminal'))"/>
         <where label="WR4" expression="SELF\shape_aspect_relationship.relating_shape_aspect :&lt;&gt;:&#10;       SELF\shape_aspect_relationship.related_shape_aspect"/>
      </entity>
      <entity name="printed_part_cross_section_template_terminal" supertypes="printed_part_template_terminal">
         <where label="WR2" expression="SIZEOF (QUERY (ga &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'APPLIED_GROUP_ASSIGNMENT.ITEMS') |&#10;       (('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_TERMINAL_CONNECTION_ZONE_CATEGORY' IN&#10;       TYPEOF (ga.assigned_group)) AND &#10;       (ga.assigned_group.name IN  &#10;                       ['area edge segment', 'curve edge segment']))&#10;        )) = 1"/>
         <where label="WR3" expression="SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to left of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) &lt;= 1"/>
         <where label="WR4" expression="SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to right of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) &lt;= 1"/>
         <where label="WR5" expression="SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to top of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) &lt;= 1"/>
         <where label="WR6" expression="SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to bottom of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) &lt;= 1"/>
         <where label="WR7" expression="NOT((SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to left of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1) AND&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to right of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1)) &#10;   OR&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name = 'material to right of terminal') OR&#10;       (sar\shape_aspect_relationship.name = 'material to left of terminal')&#10;       ) |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 2)"/>
         <where label="WR8" expression="NOT((SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to left of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1) AND&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to top of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1)) &#10;   OR&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name = 'material to top of terminal') OR&#10;       (sar\shape_aspect_relationship.name = 'material to left of terminal')&#10;       ) |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 2)"/>
         <where label="WR9" expression="NOT((SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to left of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1) AND&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to bottom of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1)) &#10;   OR&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name = 'material to bottom of terminal') OR&#10;       (sar\shape_aspect_relationship.name = 'material to left of terminal')&#10;       ) |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 2)"/>
         <where label="WR10" expression="NOT((SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to top of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1) AND&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to right of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1)) &#10;   OR&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name = 'material to right of terminal') OR&#10;       (sar\shape_aspect_relationship.name = 'material to top of terminal')&#10;       ) |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 2)"/>
         <where label="WR11" expression="NOT((SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to bottom of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1) AND&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to right of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1)) &#10;   OR&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name = 'material to right of terminal') OR&#10;       (sar\shape_aspect_relationship.name = 'material to bottom of terminal')&#10;       ) |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 2)"/>
         <where label="WR12" expression="NOT((SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to top of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1) AND&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'material to bottom of terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 1)) &#10;   OR&#10;       (SIZEOF (QUERY (am &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       (sar\shape_aspect_relationship.name = 'material to top of terminal') OR&#10;       (sar\shape_aspect_relationship.name = 'material to bottom of terminal')&#10;       ) |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL_LINK' IN&#10;       TYPEOF (am.relating_shape_aspect))&#10;       )) = 2)"/>
      </entity>
      <entity name="printed_part_template_connected_terminals_definition" supertypes="shape_aspect">
         <unique label="UR1">
            <unique.attribute entity-ref="printed_part_template_connected_terminals_definition" attribute="name"/>
         </unique>
         <where label="WR1" expression="SIZEOF (QUERY (mct &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'member connected terminal') |&#10;       ('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_TERMINAL' IN&#10;       TYPEOF (mct.related_shape_aspect)) AND&#10;       (mct.related_shape_aspect\shape_aspect.description IN &#10;       ['interface terminal', 'join terminal']))) &gt;= 2"/>
      </entity>
      <entity name="printed_part_template_link" supertypes="stratum_technology_link product_definition_relationship">
         <where label="WR1" expression="SELF\product_definition_relationship.related_product_definition :&lt;&gt;:&#10;       SELF\product_definition_relationship.relating_product_definition"/>
         <where label="WR2" expression="SIZEOF(TYPEOF(SELF) - TYPEOF(SELF\property_definition_relationship ||&#10;       SELF\printed_part_template_link || SELF\property_definition ||&#10;       SELF\stratum_technology_link || SELF\product_definition_relationship)) = 0"/>
         <where label="WR3" expression="'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PART_TEMPLATE_DEFINITION' IN &#10;    TYPEOF(SELF\product_definition_relationship.related_product_definition)"/>
         <where label="WR4" expression="'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PART_TEMPLATE_DEFINITION' IN &#10;    TYPEOF(SELF\product_definition_relationship.relating_product_definition)"/>
         <where label="WR5" expression="SELF\product_definition_relationship.name = ''"/>
         <where label="WR6" expression="SELF\product_definition_relationship.description = ''"/>
         <where label="WR7" expression="SELF\product_definition_relationship.related_product_definition.description =&#10;       'printed part template'"/>
         <where label="WR8" expression="SELF\product_definition_relationship.relating_product_definition.description =&#10;       'printed part template'"/>
      </entity>
      <entity name="printed_part_template_material" supertypes="product_definition">
         <where label="WR1" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       SIZEOF (QUERY (tu &lt;* QUERY (pdr &lt;* USEDIN (pd,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION_RELATIONSHIP.RELATED_PROPERTY_DEFINITION') |&#10;       pdr\property_definition_relationship.name = 'technology usage') |&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'STRATUM_TECHNOLOGY' IN &#10;       TYPEOF (tu.relating_property_definition.definition))) = 1)) = 1"/>
         <where label="WR2" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sr_pdr &lt;* QUERY (pdr &lt;* USEDIN (pd,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'REPRESENTATION' IN &#10;       TYPEOF (pdr.used_representation)) |&#10;       ((sr_pdr.used_representation\representation.name = &#10;                'physical characteristics representation')&#10;       AND&#10;       (SIZEOF (sr_pdr.used_representation.items) = 2 )&#10;       AND &#10;      ( SIZEOF(QUERY (it &lt;* sr_pdr.used_representation.items |&#10;       it\representation_item.name IN ['maximum width', &#10;                                        'minimum width'])) = 2 ))&#10;       )) = 1)))&#10;       = 0"/>
         <where label="WR3" expression="SIZEOF(TYPEOF(SELF) - TYPEOF(SELF\product_definition ||&#10;       SELF\printed_part_template_material)) = 0"/>
         <where label="WR4" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       (('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN&#10;       TYPEOF (sa)) AND (sa.description = 'top')))) &lt;= 1))) = 0"/>
         <where label="WR5" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       (('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN&#10;       TYPEOF (sa)) AND (sa.description = 'bottom')))) &lt;= 1))) = 0"/>
         <where label="WR6" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       (('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN&#10;       TYPEOF (sa)) AND (sa.description = 'left')))) &lt;= 1))) = 0"/>
         <where label="WR7" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (sa &lt;* USEDIN (pd,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT.OF_SHAPE') |&#10;       (('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN&#10;       TYPEOF (sa)) AND (sa.description = 'right')))) &lt;= 1))) = 0"/>
      </entity>
      <entity name="printed_part_template_material_link" supertypes="shape_aspect shape_aspect_relationship">
         <unique label="UR1">
            <unique.attribute entity-ref="printed_part_template_material_link" attribute="related_shape_aspect"/>
            <unique.attribute entity-ref="printed_part_template_material_link" attribute="relating_shape_aspect"/>
         </unique>
         <where label="WR1" expression="SELF\shape_aspect_relationship.related_shape_aspect :&lt;&gt;:&#10;       SELF\shape_aspect_relationship.relating_shape_aspect"/>
         <where label="WR2" expression="'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN&#10;       TYPEOF (SELF\shape_aspect_relationship.related_shape_aspect)"/>
         <where label="WR3" expression="'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'TEMPLATE_MATERIAL_CROSS_SECTION_BOUNDARY' IN&#10;       TYPEOF (SELF\shape_aspect_relationship.relating_shape_aspect)"/>
         <where label="WR4" expression="SIZEOF(TYPEOF(SELF) - TYPEOF(SELF\shape_aspect ||&#10;       SELF\shape_aspect_relationship ||&#10;       SELF\printed_part_template_material_link)) = 0"/>
         <where label="WR5" expression="SELF\shape_aspect.name = ''"/>
         <where label="WR6" expression="SELF\shape_aspect_relationship.name = ''"/>
         <where label="WR7" expression="SELF\shape_aspect_relationship.related_shape_aspect.of_shape :&lt;&gt;: &#10;       SELF\shape_aspect_relationship.relating_shape_aspect.of_shape"/>
         <where label="WR8" expression="SELF\shape_aspect_relationship.relating_shape_aspect.description IN&#10;       ['bottom', 'right']"/>
         <where label="WR9" expression="SELF\shape_aspect_relationship.related_shape_aspect.description IN&#10;       ['top', 'left']"/>
      </entity>
      <entity name="printed_part_template_terminal" supertypes="shape_aspect" super.expression="printed_part_cross_section_template_terminal">
         <where label="WR1" expression="SELF\shape_aspect.description IN ['interface terminal', 'join terminal']"/>
         <where label="WR2" expression="SIZEOF (QUERY (ga &lt;* USEDIN (SELF, &#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'APPLIED_GROUP_ASSIGNMENT.ITEMS') |&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_TERMINAL_CONNECTION_ZONE_CATEGORY' IN&#10;       TYPEOF (ga.assigned_group))) = 1"/>
         <where label="WR3" expression="SIZEOF (QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;       sar.related_shape_aspect\shape_aspect.description = &#10;       'connection zone')) &gt;= 1"/>
         <where label="WR4" expression="SIZEOF (QUERY (pd &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION.DEFINITION') |&#10;       NOT (SIZEOF (QUERY (pdr &lt;* USEDIN (pd,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PROPERTY_DEFINITION_REPRESENTATION.DEFINITION') |&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_REPRESENTATION' IN&#10;       TYPEOF (pdr.used_representation))) &gt;= 1))) = 0"/>
         <where label="WR5" expression="SIZEOF ((SELF\shape_aspect.of_shape.definition\product_definition.description = 'printed part template')&#10;       OR&#10;       (SELF\shape_aspect.of_shape.definition\product_definition.description = 'printed connector template'))&#10;        = 1"/>
         <where label="WR6" expression="SIZEOF (QUERY (mct &lt;* QUERY (sar &lt;* USEDIN (SELF,&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;       sar\shape_aspect_relationship.name = 'member connected terminal') |&#10;       'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_CONNECTED_TERMINALS_DEFINITION' IN&#10;       TYPEOF (mct.relating_shape_aspect))) &lt;= 1"/>
      </entity>
      <entity name="printed_part_template_terminal_connection_zone_category" supertypes="group">
         <where label="WR1" expression="SELF\group.name IN ['area edge segment','curve edge segment',&#10;        'surface area','surface point']"/>
      </entity>
      <entity name="template_material_cross_section_boundary" supertypes="shape_aspect">
         <where label="WR1" expression="SIZEOF(TYPEOF(SELF) - TYPEOF(SELF\shape_aspect ||&#10;       SELF\template_material_cross_section_boundary)) = 0"/>
         <where label="WR2" expression="'PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +&#10;       'PRINTED_PART_TEMPLATE_MATERIAL' IN TYPEOF &#10;       (SELF.of_shape\property_definition.definition)"/>
         <where label="WR3" expression="SELF\shape_aspect.description IN&#10;       ['top', 'left', 'right', 'bottom']"/>
      </entity>
      <rule name="functional_usage_view_to_printed_part_template_terminal_assignment_constraint" appliesto="shape_aspect_relationship">
         <where label="WR1" expression="SIZEOF(QUERY(sar &lt;* shape_aspect_relationship |&#10;       (sar\shape_aspect_relationship.name = 'functional terminal allocation')&#10;       AND NOT(('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.'&#10;       + 'FUNCTIONAL_UNIT_TERMINAL_DEFINITION' IN&#10;       TYPEOF(sar.relating_shape_aspect)) AND&#10;       (sar.relating_shape_aspect\shape_aspect.description = 'scalar terminal'))&#10;       )) = 0"/>
         <where label="WR2" expression="SIZEOF(QUERY(sar &lt;* shape_aspect_relationship |&#10;       (sar\shape_aspect_relationship.name = 'functional terminal allocation')&#10;       AND NOT(('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.'&#10;       + 'PRINTED_PART_TEMPLATE_TERMINAL' IN&#10;       TYPEOF(sar.related_shape_aspect)) AND&#10;       ((sar.related_shape_aspect\shape_aspect.description = 'interface terminal')&#10;       OR (sar.related_shape_aspect\shape_aspect.description = 'join terminal')))&#10;       )) = 0"/>
      </rule>
      <rule name="functional_usage_view_to_printed_part_template_terminal_assignment_unique_constraint" appliesto="shape_aspect_relationship">
         <algorithm>LOCAL
  fuvtpptta : BAG OF shape_aspect_relationship := 
             QUERY( r &lt;* shape_aspect_relationship |
(r\shape_aspect_relationship.name = 'functional terminal allocation'));
  futd_bag : BAG OF functional_unit_terminal_definition := [];
  sar_bag : BAG OF shape_aspect_relationship;
  pass : BOOLEAN := TRUE;
  pptt_bag : BAG OF printed_part_template_terminal;
END_LOCAL;

REPEAT i := 1 to SIZEOF(fuvtpptta) by 1;
  IF EXISTS( fuvtpptta[i].relating_shape_aspect ) THEN
    IF ( fuvtpptta[i].relating_shape_aspect\shape_aspect.description = 
                                   'scalar terminal' ) THEN
      IF ( NOT ( fuvtpptta[i].relating_shape_aspect IN futd_bag ) ) THEN
        futd_bag := futd_bag + fuvtpptta[i].relating_shape_aspect;
      END_IF;
    END_IF;
  END_IF;
END_REPEAT;

REPEAT i := 1 to SIZEOF(futd_bag) by 1;
  IF ( NOT pass ) THEN ESCAPE;
  END_IF;
  pptt_bag := [];
  sar_bag := QUERY( sar &lt;* fuvtpptta |
((sar.relating_shape_aspect :=: futd_bag[i]) AND
(sar.related_shape_aspect\shape_aspect.description IN ['interface terminal',
'join terminal']) AND
('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.' +
'PRINTED_PART_TEMPLATE_TERMINAL' IN TYPEOF(sar.related_shape_aspect))) );
  REPEAT j := 1 to SIZEOF(sar_bag) by 1;
    IF ( NOT pass ) THEN ESCAPE;
    END_IF;
    IF EXISTS( sar_bag[j].related_shape_aspect ) THEN
      IF ( sar_bag[j].related_shape_aspect IN pptt_bag ) THEN
        pass := FALSE;
        ESCAPE;
      ELSE
        pptt_bag := pptt_bag + sar_bag[j].related_shape_aspect;
      END_IF;
    END_IF;
  END_REPEAT;
END_REPEAT;</algorithm>
         <where label="WR1" expression="pass"/>
      </rule>
      <rule name="printed_part_template_terminal_relationship_constraint" appliesto="shape_aspect_relationship">
         <where label="WR1" expression="SIZEOF(QUERY(sar &lt;* shape_aspect_relationship |&#10;       (sar\shape_aspect_relationship.name = 'printed part template terminal relationship')&#10;       AND NOT('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.'&#10;       + 'PRINTED_PART_TEMPLATE_TERMINAL' IN &#10;        TYPEOF(sar.related_shape_aspect)&#10;       ))) = 0"/>
         <where label="WR2" expression="SIZEOF(QUERY(sar &lt;* shape_aspect_relationship |&#10;       (sar\shape_aspect_relationship.name = 'printed part template terminal relationship')&#10;       AND NOT('PRINTED_PHYSICAL_LAYOUT_TEMPLATE_MIM.'&#10;       + 'PRINTED_PART_TEMPLATE_TERMINAL' IN &#10;       TYPEOF(sar.relating_shape_aspect)&#10;       ))) = 0"/>
      </rule>
      <function name="printed_part_template_access_mechanisms">
         <parameter name="input">
            <aggregate type="SET" lower="0" upper="?"/>
            <typename name="printed_part_template_link"/>
         </parameter>
         <aggregate type="SET" lower="0" upper="?"/>
         <typename name="printed_part_template_terminal"/>
         <algorithm>LOCAL
      pptt : SET OF printed_part_template_terminal := [];
    END_LOCAL;

    REPEAT i := 1 TO SIZEOF(input) BY 1;
      pptt := input[i].precedent_printed_part_template.raw_access_mechanisms + pptt;
      pptt := input[i].subsequent_printed_part_template.raw_access_mechanisms + pptt;
    END_REPEAT;
    RETURN(pptt);</algorithm>
      </function>
   </schema>
</express>
