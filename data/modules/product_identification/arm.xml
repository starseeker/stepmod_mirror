<?xml version="1.0"?>
<?xml-stylesheet 
  type="text/xsl" 
  href="../../../xsl/express.xsl"
?> <!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express language_version="2" rcs.date="$Date: $" rcs.revision="$Revision: $"
  description.file="arm_descriptions.xml"
>
<application name="GraphicalEXPRESS" owner="Eurostep" url="www.eurostep.com" version="1.3.14" source="Product_identification_arm_v2.vsd" />
<schema name="Product_identification_arm">
<interface kind="use" schema="Product_categorization_arm">
</interface>
<entity name="Product">
<explicit name="id">
<builtintype type="STRING" />
</explicit>
<explicit name="name">
<builtintype type="STRING" />
</explicit>
<explicit name="description" optional="YES">
<builtintype type="STRING" />
</explicit>
<graphic.element page="2" xcoord="311" ycoord="70" />
</entity>
<entity name="Product_category_assignment">
<explicit name="category">
<typename name="Product_category" />
</explicit>
<explicit name="products">
<aggregate type="SET" lower="1" upper="?" />
<typename name="Product" />
</explicit>
<graphic.element page="2" xcoord="141" ycoord="70" />
</entity>
    <function
      name="types_of_product">
      <parameter
        name="obj">
        <typename
          name="Product"/>
      </parameter>
      <aggregate
        type="SET"/>
      <builtintype
          type="STRING"/>
      <algorithm>
LOCAL
	category_assignments: BAG OF Product_category_assignment;
	categories: SET OF STRING:=[];
	i: INTEGER;
END_LOCAL;

category_assignments := USEDIN(obj,'PRODUCT_IDENTIFICATION_ARM.' + 'PRODUCT_CATEGORY_ASSIGNMENT.PRODUCTS');
   
REPEAT i := LOINDEX(category_assignments) TO HIINDEX(category_assignments) BY 1;
      categories := categories + category_assignments[i].category.name;
END_REPEAT;

RETURN(categories);
      </algorithm>

    </function>
<graphic.element page="1" xcoord="73" ycoord="35" />
</schema>
</express>
