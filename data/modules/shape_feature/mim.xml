<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?><!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express description.file="mim_descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="ISO/TS 10303-1764">
   <application name="JSDAI" owner="LKSoft" source="shape_feature_mim schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="Shape_feature_mim">
      <interface kind="use" schema="Characterizable_object_mim"/>
      <interface kind="use" schema="Contextual_shape_positioning_mim"/>
      <interface kind="use" schema="Property_assignment_mim"/>
      <interface kind="use" schema="shape_aspect_definition_schema">
         <interfaced.item name="composite_shape_aspect"/>
         <interfaced.item name="feature_definition"/>
         <interfaced.item name="instanced_feature"/>
      </interface>
      <interface kind="use" schema="aic_machining_feature">
         <interfaced.item name="shape_defining_relationship"/>
         <interfaced.item name="feature_component_relationship"/>
      </interface>
      <interface kind="use" schema="product_property_definition_schema">
         <interfaced.item name="characterized_object_relationship"/>
      </interface>
      <interface kind="reference" schema="product_property_representation_schema">
         <interfaced.item name="get_property_definition_representations"/>
      </interface>
      <interface kind="reference" schema="product_property_definition_schema">
         <interfaced.item name="get_shape_aspects"/>
      </interface>
      <entity name="general_feature" supertypes="shape_feature_definition">
         <where expression="(SIZEOF(get_property_definition_representations(SELF)) &lt;= 1) AND&#10;             (SIZEOF( QUERY( pdr &lt;* get_property_definition_representations(SELF) |&#10;              'SHAPE_ASPECT_DEFINITION_SCHEMA.SHAPE_REPRESENTATION_WITH_PARAMETERS' IN &#10;              TYPEOF(pdr.used_representation)&#10;             )) &lt;= 1)" label="WR1"/>
         <where expression="SIZEOF( QUERY( sa &lt;* get_shape_aspects(SELF) |&#10;               sa.description = 'course of travel occurrence')) =&#10;             SIZEOF( QUERY( sa &lt;* get_shape_aspects(SELF) |&#10;               (sa.description = 'course of travel occurrence') AND&#10;               (SIZEOF( QUERY( sar &lt;* USEDIN( sa, 'PRODUCT_PROPERTY_DEFINITION_SCHEMA.SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;                 ('AIC_MACHINING_FEATURE.SHAPE_DEFINING_RELATIONSHIP' IN&#10;                  TYPEOF(sar)) AND&#10;                 (sar.name = 'course of travel')&#10;                )) = 1 )))" label="WR2"/>
         <where expression="SIZEOF( QUERY( sa &lt;* get_shape_aspects(SELF) |&#10;               sa.description = 'course of travel occurrence')) =&#10;             SIZEOF( QUERY( sa &lt;* get_shape_aspects(SELF) |&#10;               (sa.description = 'course of travel occurrence') AND&#10;               (SIZEOF( QUERY( sar &lt;* USEDIN( sa, 'PRODUCT_PROPERTY_DEFINITION_SCHEMA.SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;                 ('AIC_MACHINING_FEATURE.SHAPE_DEFINING_RELATIONSHIP' IN&#10;                  TYPEOF(sar)) AND&#10;                 ('SHAPE_FEATURE_MIM.PATH_FEATURE_COMPONENT' IN&#10;                  TYPEOF(sar.relating_shape_aspect))&#10;                )) = 1 )))" label="WR3"/>
         <where expression="SIZEOF( QUERY( sa &lt;* get_shape_aspects(SELF) |&#10;               sa.description = 'boundary occurrence')) =&#10;             SIZEOF( QUERY( sa &lt;* get_shape_aspects(SELF) |&#10;               (sa.description = 'boundary occurrence') AND&#10;               (SIZEOF( QUERY( sar &lt;* USEDIN( sa, 'PRODUCT_PROPERTY_DEFINITION_SCHEMA.SHAPE_ASPECT_RELATIONSHIP.RELATED_SHAPE_ASPECT') |&#10;                 ('AIC_MACHINING_FEATURE.SHAPE_DEFINING_RELATIONSHIP' IN&#10;                  TYPEOF(sar)) AND&#10;                 (sar.description = 'profile usage')&#10;                )) = 1 )))" label="WR4"/>
         <where expression="(SIZEOF( QUERY( sa &lt;* get_shape_aspects(SELF) |&#10;               ('SHAPE_ASPECT_DEFINITION_SCHEMA.COMPOSITE_SHAPE_ASPECT' IN&#10;                  TYPEOF(sa))&#10;              )) &lt;= 1 ) AND&#10;             (SIZEOF( QUERY( sa &lt;* get_shape_aspects(SELF) |&#10;               ('SHAPE_ASPECT_DEFINITION_SCHEMA.COMPOSITE_SHAPE_ASPECT' IN&#10;                  TYPEOF(sa)) AND&#10;               (sa.name = 'general compound feature') AND&#10;               (SIZEOF( QUERY( sar &lt;* USEDIN( sa, 'PRODUCT_PROPERTY_DEFINITION_SCHEMA.SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT') |&#10;                 ('AIC_MACHINING_FEATURE.FEATURE_COMPONENT_RELATIONSHIP' IN&#10;                  TYPEOF(sar)) AND&#10;                 ('SHAPE_ASPECT_DEFINITION_SCHEMA.INSTANCED_FEATURE' IN&#10;                  TYPEOF(sar.related_shape_aspect))&#10;                )) &gt;= 2 )&#10;              )) &lt;= 1 )" label="WR5"/>
      </entity>
      <entity name="placed_feature" supertypes="shape_aspect"/>
      <entity name="shape_feature_definition" supertypes="feature_definition"/>
      <entity name="shape_feature_definition_element_relationship" supertypes="shape_aspect_relationship characterized_object">
         <derived expression="shape_aspect_relationship.name" name="name">
            <typename name="label"/>
            <redeclaration entity-ref="characterized_object"/>
         </derived>
         <derived expression="shape_aspect_relationship.description" name="description">
            <typename name="text"/>
            <redeclaration entity-ref="characterized_object"/>
         </derived>
      </entity>
      <entity name="shape_feature_definition_relationship" supertypes="characterized_object_relationship characterized_object">
         <explicit name="relating_object">
            <typename name="shape_feature_definition"/>
            <redeclaration entity-ref="characterized_object_relationship"/>
         </explicit>
         <explicit name="related_object">
            <typename name="shape_feature_definition"/>
            <redeclaration entity-ref="characterized_object_relationship"/>
         </explicit>
         <derived expression="characterized_object_relationship.name" name="name">
            <typename name="label"/>
            <redeclaration entity-ref="characterized_object"/>
         </derived>
         <derived expression="characterized_object_relationship.description" name="description">
            <typename name="text"/>
            <redeclaration entity-ref="characterized_object"/>
         </derived>
      </entity>
   </schema>
</express>
