<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express description.file="arm_descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="ISO/TS 10303-1319">
   <application name="JSDAI" owner="LKSoft" source="solid_with_local_modification_arm schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="Solid_with_local_modification_arm">
      <interface kind="use" schema="Basic_geometric_topology_arm"/>
      <interface kind="use" schema="Procedural_solid_model_arm"/>
      <interface kind="use" schema="Topologically_bounded_surface_arm"/>
      <type name="blend_end_condition">
         <select selectitems="Edge_curve Point_on_curve Vertex"/>
      </type>
      <type name="blend_radius_variation">
         <enumeration items="linear cubic unspecified"/>
      </type>
      <type name="sculpting_surface">
         <select selectitems="Advanced_face Advanced_open_shell Surface"/>
      </type>
      <type name="solid_with_placed_feature">
         <select selectitems="Solid_with_depression Solid_with_protrusion Solid_with_circular_pattern Solid_with_rectangular_pattern"/>
      </type>
      <entity name="Advanced_open_shell" supertypes="Detailed_topological_model_element">
         <explicit name="shell_faces">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Advanced_face"/>
         </explicit>
      </entity>
      <entity name="Complex_deleted_face_solid" supertypes="Deleted_face_solid">
         <explicit name="thickened_face_list">
            <aggregate lower="1" type="LIST" upper="?"/>
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Advanced_face"/>
         </explicit>
         <explicit name="thickness_list">
            <aggregate lower="1" type="LIST" upper="?"/>
            <typename name="length_measure"/>
         </explicit>
         <where expression="SIZEOF(thickened_face_list) = SIZEOF(thickness_list)" label="WR1"/>
      </entity>
      <entity name="Conical_stepped_hole_transition" supertypes="Detailed_geometric_model_element">
         <explicit name="apex_angle">
            <typename name="plane_angle_measure"/>
         </explicit>
         <explicit name="cone_base_radius">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="transition_number">
            <builtintype type="INTEGER"/>
         </explicit>
         <where expression="transition_number &gt; 0" label="WR1"/>
         <where expression="cone_base_radius  &gt; 0.0" label="WR2"/>
      </entity>
      <entity name="Deleted_face_solid" super.expression="ONEOF (Deleted_face_solid_with_offsets, Complex_deleted_face_solid)" supertypes="Modified_solid">
         <explicit name="deleted_faces">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Advanced_face"/>
         </explicit>
         <explicit name="thickness">
            <typename name="length_measure"/>
         </explicit>
         <where expression="thickness &lt;&gt; 0.0" label="WR1"/>
      </entity>
      <entity name="Deleted_face_solid_with_offsets" supertypes="Deleted_face_solid">
         <explicit name="thickness2">
            <typename name="length_measure"/>
         </explicit>
         <where expression="thickness2 &lt;&gt; 0.0" label="WR1"/>
         <where expression="SELF\Deleted_face_solid.thickness &lt;&gt; thickness2" label="WR2"/>
      </entity>
      <entity name="Path_modified_solid" supertypes="Solid_with_edge_modification"/>
      <entity name="Path_modified_solid_with_end_conditions" supertypes="Path_modified_solid">
         <explicit name="end_conditions">
            <aggregate lower="2" type="LIST" upper="2"/>
            <typename name="blend_end_condition"/>
         </explicit>
      </entity>
      <entity name="Sculptured_solid" supertypes="Modified_solid">
         <explicit name="cutting_surface">
            <typename name="sculpting_surface"/>
         </explicit>
         <explicit name="positive_side">
            <builtintype type="BOOLEAN"/>
         </explicit>
      </entity>
      <entity name="Sculptured_solid_with_selection" supertypes="Sculptured_solid">
         <explicit name="retained_part">
            <typename name="Detailed_topological_model_element"/>
         </explicit>
      </entity>
      <entity name="Solid_with_angled_chamfer" supertypes="Solid_with_edge_modification">
         <explicit name="offset_distance">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="left_offset">
            <builtintype type="BOOLEAN"/>
         </explicit>
         <explicit name="offset_angle">
            <typename name="plane_angle_measure"/>
         </explicit>
         <where expression="offset_distance &gt; 0.0" label="WR1"/>
         <where expression="offset_angle &gt; 0.0" label="WR2"/>
      </entity>
      <entity name="Solid_with_circular_pattern" supertypes="Modified_solid">
         <explicit name="location">
            <typename name="Axis_placement"/>
         </explicit>
         <explicit name="replicated_element">
            <typename name="solid_with_placed_feature"/>
         </explicit>
         <explicit name="replicate_count">
            <builtintype type="INTEGER"/>
         </explicit>
         <explicit name="angular_spacing">
            <typename name="plane_angle_measure"/>
         </explicit>
         <explicit name="radial_alignment">
            <builtintype type="BOOLEAN"/>
         </explicit>
         <explicit name="reference_point">
            <typename name="Cartesian_point"/>
         </explicit>
         <where expression="replicate_count &gt; 0" label="WR1"/>
      </entity>
      <entity name="Solid_with_circular_pocket" supertypes="Solid_with_pocket">
         <explicit name="pocket_radius">
            <typename name="length_measure"/>
         </explicit>
         <where expression="SELF\Solid_with_pocket.floor_blend_radius &lt;= pocket_radius" label="WR1"/>
         <where expression="pocket_radius &gt; 0.0" label="WR2"/>
      </entity>
      <entity name="Solid_with_circular_protrusion" supertypes="Solid_with_protrusion">
         <explicit name="radius">
            <typename name="length_measure"/>
         </explicit>
         <where expression="radius &gt;= 0.0" label="WR1"/>
      </entity>
      <entity name="Solid_with_conical_bottom_hole" supertypes="Solid_with_stepped_round_hole">
         <explicit name="semi_apex_angle">
            <typename name="plane_angle_measure"/>
         </explicit>
         <explicit name="tip_radius">
            <typename name="length_measure"/>
         </explicit>
         <where expression="tip_radius &lt; &#10;          SELF\Solid_with_stepped_round_hole.segment_radii[segments]" label="WR1"/>
         <where expression="tip_radius &gt;= 0.0" label="WR2"/>
         <where expression="semi_apex_angle &gt; 0.0" label="WR3"/>
      </entity>
      <entity name="Solid_with_curved_slot" supertypes="Solid_with_slot">
         <explicit name="slot_centreline">
            <typename name="Detailed_geometric_model_element"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="Solid_with_depression" super.expression="Solid_with_through_depression ANDOR ONEOF (Solid_with_stepped_round_hole, Solid_with_pocket, Solid_with_slot, Solid_with_groove)" supertypes="Modified_solid">
         <explicit name="location">
            <typename name="Axis_placement"/>
         </explicit>
         <explicit name="depth">
            <typename name="length_measure"/>
         </explicit>
         <where expression="depth &gt; 0.0" label="WR1"/>
      </entity>
      <entity name="Solid_with_double_offset_chamfer" supertypes="Solid_with_edge_modification">
         <explicit name="left_offset_distance">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="right_offset_distance">
            <typename name="length_measure"/>
         </explicit>
         <where expression="left_offset_distance &gt; 0.0" label="WR1"/>
         <where expression="right_offset_distance &gt; 0.0" label="WR2"/>
      </entity>
      <entity name="Solid_with_edge_modification" super.expression="Path_modified_solid ANDOR ONEOF (Solid_with_fixed_radius_edge_blend, Solid_with_simple_chamfer, Solid_with_double_offset_chamfer, Solid_with_angled_chamfer)" supertypes="Modified_solid">
         <explicit name="blended_edges">
            <aggregate lower="1" type="LIST" upper="?"/>
            <typename name="Edge"/>
         </explicit>
      </entity>
      <entity name="Solid_with_fixed_radius_edge_blend" supertypes="Solid_with_edge_modification">
         <explicit name="radius">
            <typename name="length_measure"/>
         </explicit>
         <where expression="radius &gt; 0.0" label="WR1"/>
      </entity>
      <entity name="Solid_with_flat_bottom_hole" supertypes="Solid_with_stepped_round_hole">
         <explicit name="fillet_radius">
            <typename name="length_measure"/>
         </explicit>
         <where expression="fillet_radius &lt; &#10;          SELF\Solid_with_stepped_round_hole.segment_radii[segments]" label="WR1"/>
         <where expression="fillet_radius  &gt;= 0.0" label="WR2"/>
      </entity>
      <entity name="Solid_with_general_pocket" supertypes="Solid_with_pocket">
         <explicit name="profile">
            <typename name="Detailed_geometric_model_element"/>
         </explicit>
         <explicit name="reference_point">
            <typename name="Cartesian_point"/>
         </explicit>
      </entity>
      <entity name="Solid_with_general_protrusion" supertypes="Solid_with_protrusion">
         <explicit name="profile">
            <typename name="Detailed_geometric_model_element"/>
         </explicit>
         <explicit name="reference_point">
            <typename name="Cartesian_point"/>
         </explicit>
      </entity>
      <entity name="Solid_with_groove" supertypes="Solid_with_depression">
         <explicit name="groove_radius">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="groove_width">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="draft_angle">
            <typename name="plane_angle_measure"/>
         </explicit>
         <explicit name="floor_fillet_radius">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="external_groove">
            <builtintype type="BOOLEAN"/>
         </explicit>
         <where expression="NOT('SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_THROUGH_DEPRESSION' &#10;          IN TYPEOF(SELF))" label="WR1"/>
         <where expression="groove_radius &gt; 0.0" label="WR2"/>
         <where expression="groove_width &gt; 0.0" label="WR3"/>
         <where expression="floor_fillet_radius &gt;= 0.0" label="WR4"/>
      </entity>
      <entity name="Solid_with_incomplete_circular_pattern" supertypes="Solid_with_circular_pattern">
         <explicit name="omitted_instances">
            <aggregate lower="1" type="SET" upper="?"/>
            <builtintype type="INTEGER"/>
         </explicit>
         <where expression="SIZEOF(omitted_instances) &lt;&#10;           SELF\Solid_with_circular_pattern.replicate_count" label="WR1"/>
         <where expression="SIZEOF(QUERY(q &lt;* omitted_instances | q &gt; &#10;           SELF\Solid_with_circular_pattern.replicate_count)) = 0" label="WR2"/>
      </entity>
      <entity name="Solid_with_incomplete_rectangular_pattern" supertypes="Solid_with_rectangular_pattern">
         <explicit name="omitted_instances">
            <aggregate lower="1" type="SET" upper="?"/>
            <aggregate lower="1" type="LIST" upper="2"/>
            <builtintype type="INTEGER"/>
         </explicit>
         <where expression="NOT([1,1] IN omitted_instances)" label="WR1"/>
         <where expression="SIZEOF(omitted_instances) &lt;&#10;            ((SELF\Solid_with_rectangular_pattern.row_count *&#10;               SELF\Solid_with_rectangular_pattern.column_count) - 1)" label="WR2"/>
         <where expression="SIZEOF(QUERY(q &lt;* omitted_instances |   &#10;             ((q[1] &gt; SELF\Solid_with_rectangular_pattern.row_count) OR&#10;              (q[2] &gt; SELF\Solid_with_rectangular_pattern.column_count)))) = 0" label="WR3"/>
      </entity>
      <entity name="Solid_with_offset_faces" supertypes="Modified_solid">
         <explicit name="offset_faces">
            <aggregate lower="1" type="LIST" upper="?"/>
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Advanced_face"/>
         </explicit>
         <explicit name="offset_distances">
            <aggregate lower="1" type="LIST" upper="?"/>
            <typename name="length_measure"/>
         </explicit>
         <where expression="SIZEOF(offset_faces) = SIZEOF(offset_distances)" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="Solid_with_pocket" super.expression="ONEOF (Solid_with_rectangular_pocket, Solid_with_circular_pocket, Solid_with_general_pocket)" supertypes="Solid_with_depression">
         <explicit name="floor_blend_radius">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="draft_angle">
            <typename name="plane_angle_measure"/>
         </explicit>
         <where expression="floor_blend_radius &gt;= 0.0" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="Solid_with_protrusion" super.expression="ONEOF (Solid_with_circular_protrusion, Solid_with_rectangular_protrusion, Solid_with_general_protrusion)" supertypes="Modified_solid">
         <explicit name="location">
            <typename name="Axis_placement"/>
         </explicit>
         <explicit name="height">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="draft_angle">
            <typename name="plane_angle_measure"/>
         </explicit>
         <where expression="height &gt; 0.0" label="WR1"/>
      </entity>
      <entity name="Solid_with_rectangular_pattern" supertypes="Modified_solid">
         <explicit name="location">
            <typename name="Axis_placement"/>
         </explicit>
         <explicit name="replicated_element">
            <typename name="solid_with_placed_feature"/>
         </explicit>
         <explicit name="row_count">
            <builtintype type="INTEGER"/>
         </explicit>
         <explicit name="column_count">
            <builtintype type="INTEGER"/>
         </explicit>
         <explicit name="row_spacing">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="column_spacing">
            <typename name="length_measure"/>
         </explicit>
         <where expression="(row_count * column_count) &gt; 1" label="WR1"/>
         <where expression="row_spacing &gt; 0.0" label="WR2"/>
         <where expression="column_spacing &gt; 0.0" label="WR3"/>
      </entity>
      <entity name="Solid_with_rectangular_pocket" supertypes="Solid_with_pocket">
         <explicit name="pocket_length">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="pocket_width">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="corner_radius">
            <typename name="length_measure"/>
         </explicit>
         <where expression="(corner_radius &lt; pocket_width/2) &#10;        AND (corner_radius &lt; pocket_length/2)" label="WR1"/>
         <where expression="pocket_length &gt; 0.0" label="WR2"/>
         <where expression="pocket_width &gt; 0.0" label="WR3"/>
         <where expression="corner_radius &gt;= 0.0" label="WR4"/>
      </entity>
      <entity name="Solid_with_rectangular_protrusion" supertypes="Solid_with_protrusion">
         <explicit name="protrusion_length">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="width">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="corner_radius">
            <typename name="length_measure"/>
         </explicit>
         <where expression="(corner_radius &lt;= width/2) &#10;           AND (corner_radius &lt;= protrusion_length/2)" label="WR1"/>
         <where expression="protrusion_length &gt; 0.0" label="WR2"/>
         <where expression="width &gt; 0.0" label="WR3"/>
         <where expression="corner_radius &gt;= 0.0" label="WR4"/>
      </entity>
      <entity name="Solid_with_simple_chamfer" supertypes="Solid_with_edge_modification">
         <explicit name="offset_distance">
            <typename name="length_measure"/>
         </explicit>
         <where expression="offset_distance &gt; 0.0" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="Solid_with_slot" super.expression="ONEOF (Solid_with_straight_slot, Solid_with_curved_slot) AND ONEOF (Solid_with_trapezoidal_slot, Solid_with_tee_slot)" supertypes="Solid_with_depression">
         <explicit name="slot_width">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="closed_ends">
            <aggregate lower="2" type="LIST" upper="2"/>
            <builtintype type="LOGICAL"/>
         </explicit>
         <explicit name="end_exit_faces">
            <aggregate lower="2" type="LIST" upper="2"/>
            <aggregate lower="0" type="SET" upper="?"/>
            <typename name="Advanced_face"/>
         </explicit>
         <where expression="NOT(('SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_THROUGH_DEPRESSION' &#10;          IN TYPEOF(SELF)) AND (closed_ends = [FALSE,FALSE]))" label="WR1"/>
         <where expression="NOT(((closed_ends[1] = TRUE) AND (SIZEOF(end_exit_faces[1]) &lt;&gt; 0))&#10;        OR ((closed_ends[2] = TRUE) AND (SIZEOF(end_exit_faces[2]) &lt;&gt; 0)))" label="WR2"/>
         <where expression="slot_width &gt; 0.0" label="WR3"/>
      </entity>
      <entity name="Solid_with_spherical_bottom_hole" supertypes="Solid_with_stepped_round_hole">
         <explicit name="sphere_radius">
            <typename name="length_measure"/>
         </explicit>
         <where expression="sphere_radius &gt;= &#10;          SELF\Solid_with_stepped_round_hole.segment_radii[segments]" label="WR1"/>
      </entity>
      <entity name="Solid_with_stepped_round_hole" super.expression="Solid_with_stepped_round_hole_and_conical_transitions ANDOR ONEOF (Solid_with_flat_bottom_hole, Solid_with_conical_bottom_hole, Solid_with_spherical_bottom_hole)" supertypes="Solid_with_depression">
         <explicit name="segments">
            <builtintype type="INTEGER"/>
         </explicit>
         <explicit name="segment_radii">
            <aggregate lower="1" type="LIST" upper="segments"/>
            <typename name="length_measure"/>
         </explicit>
         <explicit name="segment_depths">
            <aggregate lower="1" type="LIST" upper="segments"/>
            <typename name="length_measure"/>
         </explicit>
         <derived expression="calculate_depth(SELF)" name="depth">
            <typename name="length_measure"/>
            <redeclaration entity-ref="Solid_with_depression"/>
         </derived>
         <where expression="NOT (('SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_THROUGH_DEPRESSION'&#10;        IN TYPEOF(SELF)) AND (SIZEOF(TYPEOF(SELF) *&#10;        ['SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_FLAT_BOTTOM_HOLE',&#10;        'SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_CONICAL_BOTTOM_HOLE',&#10;        'SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_SPHERICAL_BOTTOM_HOLE']) &#10;        &lt;&gt; 0))" label="WR1"/>
      </entity>
      <entity name="Solid_with_stepped_round_hole_and_conical_transitions" supertypes="Solid_with_stepped_round_hole">
         <explicit name="conical_transitions">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Conical_stepped_hole_transition"/>
         </explicit>
         <where expression="SIZEOF (conical_transitions) &lt;= &#10;         (SELF\Solid_with_stepped_round_hole.segments + 1)" label="WR1"/>
         <where expression="('SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_THROUGH_DEPRESSION'&#10;         IN TYPEOF(SELF)) XOR (SIZEOF(conical_transitions) &lt;= &#10;         SELF\Solid_with_stepped_round_hole.segments)" label="WR2"/>
      </entity>
      <entity name="Solid_with_straight_slot" supertypes="Solid_with_slot">
         <explicit name="slot_length">
            <typename name="length_measure"/>
         </explicit>
         <where expression="slot_length &gt; 0.0" label="WR1"/>
      </entity>
      <entity name="Solid_with_tee_slot" supertypes="Solid_with_slot">
         <explicit name="tee_section_width">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="collar_depth">
            <typename name="length_measure"/>
         </explicit>
         <where expression="collar_depth &lt; SELF\Solid_with_depression.depth" label="WR1"/>
         <where expression="tee_section_width &gt; SELF\solid_with_slot.slot_width" label="WR2"/>
         <where expression="tee_section_width &gt; 0.0" label="WR3"/>
         <where expression="collar_depth &gt; 0.0" label="WR4"/>
      </entity>
      <entity name="Solid_with_through_depression" supertypes="Solid_with_depression">
         <explicit name="exit_faces">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="Advanced_face"/>
         </explicit>
      </entity>
      <entity name="Solid_with_trapezoidal_slot" supertypes="Solid_with_slot">
         <explicit name="draft_angle">
            <typename name="plane_angle_measure"/>
         </explicit>
         <explicit name="floor_fillet_radius">
            <typename name="length_measure"/>
         </explicit>
         <where expression="floor_fillet_radius &gt;= 0.0" label="WR1"/>
      </entity>
      <entity name="Solid_with_variable_radius_edge_blend" supertypes="Path_modified_solid">
         <explicit name="interpolation_points">
            <aggregate lower="2" type="LIST" upper="?"/>
            <typename name="Cartesian_point"/>
         </explicit>
         <explicit name="radii">
            <aggregate lower="2" type="LIST" upper="?"/>
            <typename name="length_measure"/>
         </explicit>
         <explicit name="variations">
            <aggregate lower="2" type="LIST" upper="?"/>
            <typename name="blend_radius_variation"/>
         </explicit>
         <where expression="SIZEOF(blended_edges) = SIZEOF(radii)" label="WR1"/>
         <where expression="SIZEOF(variations) = SIZEOF(interpolation_points) - 1" label="WR2"/>
         <where expression="SIZEOF(['SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_FIXED_RADIUS_EDGE_BLEND',&#10;              'SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_SIMPLE_CHAMFER',&#10;              'SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_DOUBLE_OFFSET_CHAMFER',&#10;              'SOLID_WITH_LOCAL_MODIFICATION_ARM.SOLID_WITH_ANGLED_CHAMFER'] * TYPEOF(SELF)) = 0" label="WR3"/>
      </entity>
      <function name="calculate_depth">
         <parameter name="swsrh">
            <typename name="Solid_with_stepped_round_hole"/>
         </parameter>
         <typename name="length_measure"/>
         <algorithm>LOCAL
      i  : INTEGER;
      td : length_measure := 0;
    END_LOCAL;
    REPEAT i := 1 TO swsrh.segments;
      td := td + swsrh.segment_depths[i];
    END_REPEAT;
    RETURN(td);</algorithm>
      </function>
   </schema>
</express>
