<?xml version="1.0"?>
<!-- $Id: mim.xml,v 1.5 2003/04/10 12:10:14 rugarcia Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express language_version="2" description.file="mim_descriptions.xml" rcs.date="$Date: 2003/04/10 12:10:14 $" rcs.revision="$Revision: 1.5 $">
	<application name="express2xml.js" owner="Eurostep Limited" url="http://www.eurostep.com" version="1.25" source="../data/modules/specification_based_configuration/mim.exp"/>
	<schema name="Specification_based_configuration_mim">
		<interface kind="use" schema="Effectivity_application_mim"/>
		<interface kind="use" schema="Product_class_mim"/>
		<interface kind="use" schema="management_resources_schema">
			<interfaced.item name="effectivity_context_assignment"/>
		</interface>
		<type name="configured_effectivity_context_item">
			<select selectitems="product_concept_feature_association"/>
		</type>
		<type name="configured_effectivity_item">
			<select extensible="YES" genericentity="YES" selectitems="product_definition"/>
		</type>
		<entity name="configured_effectivity_context_assignment" supertypes="effectivity_context_assignment">
			<explicit name="assigned_effectivity_assignment">
				<typename name="configured_effectivity_assignment"/>
				<redeclaration entity-ref="effectivity_context_assignment"/>
			</explicit>
			<explicit name="items">
				<aggregate type="SET" lower="1" upper="?"/>
				<typename name="configured_effectivity_context_item"/>
			</explicit>
			<where label="WR1" expression="SIZEOF(SELF.items) = 1"/>
		</entity>
		<entity name="configured_effectivity_assignment" supertypes="effectivity_assignment">
			<explicit name="items">
				<aggregate type="SET" lower="1" upper="?"/>
				<typename name="configured_effectivity_item"/>
			</explicit>
			<where label="WR1" expression="(SIZEOF(['SPECIFICATION_BASED_CONFIGURATION_MIM.EFFECTIVITY'] * TYPEOF(SELF.assigned_effectivity) ) = 1)  AND (SELF.assigned_effectivity.id = 'configuration validity')"/>
			<where label="WR2" expression="SIZEOF(SELF.items) = 1"/>
			<where label="WR3" expression="SIZEOF( QUERY( i &lt;* SELF.items | NOT ('SPECIFICATION_BASED_CONFIGURATION_MIM.PRODUCT_DEFINITION' IN TYPEOF(i))  OR NOT (i\product_definition.frame_of_reference.name IN ['conceptual definition','part occurrence', 'functional definition','alternative definition']) )) = 0"/>
			<where label="WR4" expression="SELF.role.name IN ['design', 'usage']"/>
			<where label="WR5" expression="(SELF.role.name &lt;&gt; 'design')  OR (SIZEOF( QUERY( i &lt;* SELF.items | ('SPECIFICATION_BASED_CONFIGURATION_MIM.PRODUCT_DEFINITION' IN TYPEOF(i)) AND (i\product_definition.frame_of_reference.name = 'part occurrence') )) = 0)"/>
			<where label="WR6" expression="(SELF.role.name &lt;&gt; 'usage') OR (SIZEOF( QUERY( i &lt;* SELF.items | ('SPECIFICATION_BASED_CONFIGURATION_MIM.PRODUCT_DEFINITION' IN TYPEOF(i)) AND (i\product_definition.frame_of_reference.name = 'conceptual definition') )) = 0)"/>
			<where label="WR7" expression="SELF.role.description IN ['exception', 'inherited', 'local']"/>
			<where label="WR8" expression="SIZEOF( QUERY( x &lt;* USEDIN(SELF,'SPECIFICATION_BASED_CONFIGURATION_MIM.' + 'EFFECTIVITY_CONTEXT_ASSIGNMENT.ASSIGNED_EFFECTIVITY_ASSIGNMENT') | 'SPECIFICATION_BASED_CONFIGURATION_MIM.CONFIGURED_EFFECTIVITY_CONTEXT_ASSIGNMENT' IN TYPEOF(x) )) = 1"/>
		</entity>
	</schema>
</express>
