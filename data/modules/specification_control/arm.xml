<?xml version='1.0' encoding='UTF-8'?>
<!-- $Id: express2xml.js,v 1.33 2003/05/11 03:54:57 thendrix Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  description.file="arm_descriptions.xml"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.33"
    source="../data/modules/specification_control/arm.exp"/>

  <schema name="Specification_control_arm">

    <interface
      kind="use"
      schema="Alternative_solution_arm">
    </interface>
    <interface
      kind="use"
      schema="Effectivity_application_arm">
    </interface>
    <interface
      kind="use"
      schema="Functional_breakdown_arm">
    </interface>
    <interface
      kind="use"
      schema="Part_collection_arm">
    </interface>
    <interface
      kind="use"
      schema="Product_occurrence_arm">
    </interface>
    <interface
      kind="use"
      schema="Product_placement_arm">
    </interface>
    <interface
      kind="use"
      schema="Physical_breakdown_arm">
    </interface>
    <interface
      kind="use"
      schema="Requirement_identification_and_version_arm">
    </interface>
    <interface
      kind="use"
      schema="Specification_based_configuration_arm">
    </interface>
    <interface
      kind="use"
      schema="Specified_product_arm">
    </interface>
    <type name="sc_configured_element">
      <select
        extensible="YES"
        basedon="configured_item_select"
        selectitems="alternative_solution">
      </select>
    </type>

    <type name="breakdown_element_select">
      <select
        selectitems="functional_element_definition physical_element_definition">
      </select>
    </type>

    <type name="constraint_context_select">
      <select
        selectitems="product_class">
      </select>
    </type>

    <type name="effectivity_for_replacement">
      <select
        basedon="effectivity_item"
        selectitems="replaced_usage_relationship">
      </select>
    </type>

    <type name="instance_usage_context_select">
      <select
        extensible="YES"
        genericentity="YES"
        selectitems="collected_item_association solution_element">
      </select>
    </type>

    <entity
      name="Class_breakdown_association">
      <explicit
        name="considered_class">
        <typename
          name="Product_class"/>
      </explicit>
      <explicit
        name="breakdown_element">
        <typename
          name="breakdown_element_select"/>
      </explicit>
      <explicit
        name="relation_type">
        <builtintype
          type="STRING"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <builtintype
          type="STRING"/>
      </explicit>
    </entity>

    <entity
      name="Design_constraint_context_association">
      <explicit
        name="constraint_definition">
        <typename
          name="Design_constraint_definition"/>
      </explicit>
      <explicit
        name="constraint_context">
        <typename
          name="constraint_context_select"/>
      </explicit>
    </entity>

    <entity
      name="Design_constraint_definition"
      supertypes="Product_view_definition">
      <explicit
        name="defined_version">
        <typename
          name="Requirement_version"/>
        <redeclaration
          entity-ref="Product_view_definition"/>
        </explicit>
      </entity>

      <entity
        name="Design_constraint_association">
        <explicit
          name="constrained_object">
          <typename
            name="complex_product_select"/>
        </explicit>
        <explicit
          name="constraint_definition">
          <typename
            name="Design_constraint_definition"/>
        </explicit>
        <explicit
          name="name"
          optional="YES">
          <builtintype
            type="STRING"/>
        </explicit>
      </entity>

      <entity
        name="Design_constraint_relationship"
        supertypes="View_definition_relationship">
        <explicit
          name="relating_view">
          <typename
            name="Design_constraint_definition"/>
          <redeclaration
            entity-ref="View_definition_relationship"/>
          </explicit>
          <explicit
            name="related_view">
            <typename
              name="Design_constraint_definition"/>
            <redeclaration
              entity-ref="View_definition_relationship"/>
            </explicit>
          </entity>

          <entity
            name="Part_function_association"
            supertypes="View_definition_relationship">
            <explicit
              name="relating_view">
              <typename
                name="Functional_element_definition"/>
              <redeclaration
                entity-ref="Product_view_definition"/>
              </explicit>
              <explicit
                name="related_view">
                <typename
                  name="Part_view_definition"/>
                <redeclaration
                  entity-ref="Product_view_definition"/>
                </explicit>
              </entity>

              <entity
                name="Part_occurrence_relationship"
                supertypes="View_definition_relationship">
                <explicit
                  name="relating_view">
                  <typename
                    name="part_occurrence_select"/>
                  <redeclaration
                    entity-ref="View_definition_relationship"/>
                  </explicit>
                  <explicit
                    name="related_view">
                    <typename
                      name="part_occurrence_select"/>
                    <redeclaration
                      entity-ref="View_definition_relationship"/>
                    </explicit>
                  </entity>

                  <entity
                    name="Replaced_usage_relationship"
                    supertypes="Part_occurrence_relationship">
                    <explicit
                      name="usage_context">
                      <typename
                        name="instance_usage_context_select"/>
                    </explicit>
                    <derived
                      name="View_definition_relationship.relation_type"
                      expression="'usage replacement'">
                      <builtintype
                        type="STRING"/>
                    </derived>
                  </entity>

                  <entity
                    name="Breakdown_node_relationship">
                    <explicit
                      name="relating">
                      <typename
                        name="complex_product_select"/>
                    </explicit>
                    <explicit
                      name="related">
                      <typename
                        name="breakdown_element_select"/>
                    </explicit>
                    <explicit
                      name="relation_type">
                      <builtintype
                        type="STRING"/>
                    </explicit>
                    <explicit
                      name="description"
                      optional="YES">
                      <builtintype
                        type="STRING"/>
                    </explicit>
                    <where
                      label="WR1"
                      expression="(NOT (relation_type IN ['functionality', 'realization'])) OR (TYPEOF(related) &lt;&gt; TYPEOF(relating))">
                    </where>
                    <where
                      label="WR2"
                      expression="(NOT (relation_type IN ['decomposition', 'specialization', 'occurrence'])) OR (agg1_in_agg2(TYPEOF(related),TYPEOF(relating)) OR agg1_in_agg2(TYPEOF(relating),TYPEOF(related)))">
                    </where>
                    <where
                      label="WR3"
                      expression="(NOT (relation_type IN ['occurrence'])) OR ('SPECIFICATION_CONTROL_ARM.PHYSICAL_ELEMENT_DEFINITION' IN TYPEOF(relating))">
                    </where>
                  </entity>

                  <entity
                    name="Complex_node_relationship">
                    <explicit
                      name="relating">
                      <typename
                        name="complex_product_select"/>
                    </explicit>
                    <explicit
                      name="related">
                      <typename
                        name="complex_product_select"/>
                    </explicit>
                    <explicit
                      name="relation_type">
                      <builtintype
                        type="STRING"/>
                    </explicit>
                    <explicit
                      name="description"
                      optional="YES">
                      <builtintype
                        type="STRING"/>
                    </explicit>
                    <where
                      label="WR1"
                      expression="(agg1_in_agg2(TYPEOF(related),TYPEOF(relating)) OR agg1_in_agg2(TYPEOF(relating),TYPEOF(related)))">
                    </where>
                  </entity>

                  <entity
                    name="Specification_category_breakdown_influence">
                    <explicit
                      name="influencing_category">
                      <typename
                        name="Class_category_association"/>
                    </explicit>
                    <explicit
                      name="influenced_breakdown_node">
                      <typename
                        name="breakdown_element_select"/>
                    </explicit>
                  </entity>

                  <function
                    name="agg1_in_agg2">
                    <parameter
                      name="agg1">
                      <aggregate
                        type="AGGREGATE"/>
                      <builtintype
                        type="GENERIC"/>
                    </parameter>
                    <parameter
                      name="agg2">
                      <aggregate
                        type="AGGREGATE"/>
                      <builtintype
                        type="GENERIC"/>
                    </parameter>
                    <builtintype
                      type="LOGICAL"/>
                    <algorithm>
RETURN(SIZEOF(QUERY (ele &lt;* agg1 | VALUE_IN(agg2, ele)))= SIZEOF(agg1));                    </algorithm>
                  </function>

                </schema>
              </express>
