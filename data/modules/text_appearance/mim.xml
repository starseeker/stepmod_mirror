<?xml version="1.0"?>
<!-- $Id: express2xml.js,v 1.25 2002/11/06 00:59:57 thendrix Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  description.file="mim_descriptions.xml"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.25"
    source="../data/modules/text_appearance/mim.exp"/>

  <schema name="Text_appearance_mim">
    <interface
      kind="use"
      schema="Elemental_geometric_shape_mim">
    </interface>

    <interface
      kind="use"
      schema="presentation_appearance_schema">
      <interfaced.item
        name="character_glyph_style_stroke"/>
      <interfaced.item
        name="character_glyph_style_outline"/>
      <interfaced.item
        name="text_style"/>
      <interfaced.item
        name="text_style_for_defined_font"/>
      <interfaced.item
        name="text_style_with_box_characteristics"/>
      <interfaced.item
        name="text_style_with_mirror"/>
      <interfaced.item
        name="text_style_with_spacing"/>
    </interface>

    <interface
      kind="use"
      schema="presentation_definition_schema">
      <interfaced.item
        name="composite_text"/>
      <interfaced.item
        name="composite_text_with_extent"/>
      <interfaced.item
        name="composite_text_with_delineation"/>
      <interfaced.item
        name="composite_text_with_blanking_box"/>
      <interfaced.item
        name="text_literal"/>
      <interfaced.item
        name="text_literal_with_extent"/>
      <interfaced.item
        name="text_literal_with_delineation"/>
      <interfaced.item
        name="text_literal_with_blanking_box"/>
    </interface>

    <interface
      kind="use"
      schema="presentation_resource_schema">
      <interfaced.item
        name="colour_rgb"/>
      <interfaced.item
        name="externally_defined_text_font"/>
      <interfaced.item
        name="font_select"/>
      <interfaced.item
        name="pre_defined_colour"/>
      <interfaced.item
        name="pre_defined_text_font"/>
    </interface>

    <interface
      kind="use"
      schema="aic_draughting_annotation">
      <interfaced.item
        name="draughting_text_literal_with_delineation"/>
    </interface>

    <rule
      name="text_font_usage"
      appliesto="externally_defined_text_font pre_defined_text_font">
      <algorithm>
      </algorithm>

      <where
        label="WR1"
        expression="SIZEOF (QUERY (pdtf &lt;* pre_defined_text_font | 	SIZEOF (USEDIN (pdtf, 'TEXT_APPEARANCE_MIM.TEXT_LITERAL.FONT')) = 0 )) = 0">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY (edtf &lt;* externally_defined_text_font | 	SIZEOF (USEDIN (edtf, 'TEXT_APPEARANCE_MIM.TEXT_LITERAL.FONT')) = 0 )) = 0">
      </where>

    </rule>

  </schema>

</express>
