<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" description.file="mim_descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="text_appearance_mim schema_instance"/>
   <schema name="Text_appearance_mim">
      <interface kind="use" schema="Basic_geometry_mim"/>
      <interface kind="use" schema="presentation_appearance_schema">
         <interfaced.item name="box_height"/>
         <interfaced.item name="box_width"/>
         <interfaced.item name="box_slant_angle"/>
         <interfaced.item name="box_rotate_angle"/>
         <interfaced.item name="character_glyph_style_stroke"/>
         <interfaced.item name="character_glyph_style_outline"/>
         <interfaced.item name="text_style"/>
         <interfaced.item name="text_style_with_spacing"/>
      </interface>
      <interface kind="use" schema="presentation_definition_schema">
         <interfaced.item name="composite_text"/>
         <interfaced.item name="composite_text_with_extent"/>
         <interfaced.item name="composite_text_with_delineation"/>
         <interfaced.item name="composite_text_with_blanking_box"/>
         <interfaced.item name="text_literal"/>
         <interfaced.item name="text_literal_with_extent"/>
         <interfaced.item name="text_literal_with_delineation"/>
         <interfaced.item name="text_literal_with_blanking_box"/>
      </interface>
      <interface kind="use" schema="presentation_resource_schema">
         <interfaced.item name="colour_rgb"/>
         <interfaced.item name="draughting_pre_defined_text_font"/>
         <interfaced.item name="externally_defined_text_font"/>
         <interfaced.item name="font_select"/>
         <interfaced.item name="pre_defined_colour"/>
         <interfaced.item name="pre_defined_text_font"/>
      </interface>
      <rule name="text_font_usage" appliesto="externally_defined_text_font pre_defined_text_font">
         <where label="WR1" expression="SIZEOF (QUERY (pdtf &lt;* pre_defined_text_font | SIZEOF (USEDIN (pdtf, 'PRESENTATION_DEFINITION_SCHEMA.TEXT_LITERAL.FONT')) = 0 )) = 0"/>
         <where label="WR2" expression="SIZEOF (QUERY (edtf &lt;* externally_defined_text_font | SIZEOF (USEDIN (edtf, 'PRESENTATION_DEFINITION_SCHEMA.TEXT_LITERAL.FONT')) = 0 )) = 0"/>
      </rule>
   </schema>
</express>
