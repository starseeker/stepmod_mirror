<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.39 2013/12/18 22:27:25 thomasrthurman Exp $ -->
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
<!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      --><!DOCTYPE module SYSTEM "../../../dtd/module.dtd">

<module name="text_appearance" name.french="Apparence du texte" 
	part="1136" version="4" sc4.working_group="12" 
	wg.number="8064" 
	wg.number.arm="8065" 
	wg.number.mim="8066" 
	wg.number.supersedes="5523" 
	wg.number.arm.supersedes="5524" 
	wg.number.mim.supersedes="5525" 
	checklist.internal_review="5268" 
	checklist.project_leader="5269" 
	checklist.convener="5270" 
	status="TS" 
	language="E" 
   publication.year="2014-02"
   publication.date="2014-02-01"
	published="y" previous.revision.year="2008" previous.revision.cancelled="YES" rcs.date="$Date: 2013/12/18 22:27:25 $" rcs.revision="$Revision: 1.39 $" development.folder="dvlp" xmlns:xlink="http://www.w3.org/1999/xlink">

 <keywords>
    module, text appearance, text font
 </keywords>

 <!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
 <contacts>
   <projlead ref="ap203ed2.projlead"/>
   <editor ref="ap203ed2.editor"/>
 </contacts>
 
 <changes>
 	<change version="2">
 		<arm.changes>
 			<arm.additions>
 				<modified.object type="TYPE" name="font_select" />
 				<modified.object type="ENTITY" name="Draughting_pre_defined_text_font" />
 				<modified.object type="ENTITY" name="Externally_defined_text_font" />
 				<modified.object type="ENTITY" name="Text_literal_with_extent" />
 			</arm.additions>
 		</arm.changes>
 	</change>
 	
 	<change version="3">
 		<arm.changes>
 			<arm.additions>
 				<modified.object type="USE_FROM" name="Basic_geometry_arm" />
 				<modified.object type="TYPE" name="text_alignment" />
 				<modified.object type="TYPE" name="text_path" />
 				<modified.object type="TYPE" name="text_delineation" />
 				<modified.object type="ENTITY" name="Text_literal" />
 				<modified.object type="ENTITY" name="Text_literal_with_delineation" />
 				<modified.object type="ENTITY" name="Text_literal_with_associated_curves" />
 				<modified.object type="ENTITY" name="Text_literal_with_blanking_box" />
 				<modified.object type="SUBTYPE_CONSTRAINT" name="ta_detailed_geometric_model_element_subtypes" />
 			</arm.additions>
 			<arm.modifications>
 				<modified.object type="TYPE" name="composite_text_element_select" />
 				<modified.object type="TYPE" name="font_select" />
 				<modified.object type="ENTITY" name="Text_literal_with_extent" />
 			</arm.modifications>
 			<arm.deletions>
 				<modified.object type="USE_FROM" name="Elemental_geometric_shape_arm" />
 				<modified.object type="ENTITY" name="Presentable_text_item" />
 				<modified.object type="ENTITY" name="Text_style" />
 			</arm.deletions>
 		</arm.changes>
 	</change>
 	
 	<change version="4">
 		<arm.changes>
 			<arm.additions>
 				<modified.object type="ENTITY" name="Defined_character_glyph" />
 			</arm.additions>
 			<arm.modifications>
 				<modified.object type="TYPE" name="composite_text_element_select" />
 				<modified.object type="SUBTYPE_CONSTRAINT" name="ta_detailed_geometric_model_element_subtypes" />
 			</arm.modifications>
 		</arm.changes>
 		<mim.changes>
 			<mim.modifications>
 				<modified.object type="USE_FROM" name="presentation_definition_schema" />
 			</mim.modifications>
 		</mim.changes>
 	</change>
 </changes>

 <!-- Introduction -->
 <!-- The introduction should start as shown: -->
 <purpose>
   <p>
This part of ISO 10303 specifies an application module for the representation of the visual attributes that govern the presentation of text in two-dimensional views.
   </p>
 </purpose>

 <!-- Items in scope -->
 <inscope>
      <li>specification of the visual characteristics of a text to be displayed;</li>
      <li>items within the scope of application module <module_ref linkend="basic_geometry:1_scope">Basic geometry</module_ref>, ISO/TS 10303-1652.</li>
   </inscope>

 <!-- Items out of scope -->
 <outscope>
   <li>association of text with other draughting elements in order to represent dimensions, tolerances;</li>
	 <li>association of text with geometric elements.</li>
 </outscope>


 <normrefs>
   <normref.inc normref="ref10303-46">
   </normref.inc>
   <normref.inc normref="ref10303-504">
   </normref.inc>
 </normrefs>
<!--
 <definition/>

 <abbreviations/>
-->

 <!-- Clause 4 ARM  -->
 <arm>
   <express-g>
     <imgfile file="armexpg1.xml"/>
      <imgfile file="armexpg2.xml"/>
   </express-g>
 </arm>


 <!-- Clause 5.1 Mapping specification -->
  <mapping_table>
	<ae entity="Composite_presentable_text" extensible="NO">
		<aimelt xml:space="preserve">(composite_text) 
			(composite_text_with_extent)
			(composite_text_with_delineation)
			(composite_text_with_blanking_box)
		</aimelt>
		<source xml:space="preserve">ISO 10303-46</source>
		<aa attribute="collected_text" assertion_to="composite_text_element_select">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				(composite_text) 
				(composite_text_with_extent &lt;= composite_text)
				(composite_text_with_delineation &lt;= composite_text)
				(composite_text_with_blanking_box &lt;= composite_text)
				composite_text.collected_text -&gt; text_or_character
			</refpath>
		</aa>
		<aa attribute="collected_text" assertion_to="Defined_character_glyph">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				(composite_text) 
				(composite_text_with_extent &lt;= composite_text)
				(composite_text_with_delineation &lt;= composite_text)
				(composite_text_with_blanking_box &lt;= composite_text)
				composite_text.collected_text -&gt; text_or_character
				text_or_character = defined_character_glyph
			</refpath>
		</aa>
		<aa attribute="collected_text" assertion_to="Text_literal">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				(composite_text) 
				(composite_text_with_extent &lt;= composite_text)
				(composite_text_with_delineation &lt;= composite_text)
				(composite_text_with_blanking_box &lt;= composite_text)
				composite_text.collected_text -&gt; text_or_character
				text_or_character = text_literal
			</refpath>
		</aa>
		<aa attribute="collected_text" assertion_to="Composite_presentable_text">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				(composite_text) 
				(composite_text_with_extent &lt;= composite_text)
				(composite_text_with_delineation &lt;= composite_text)
				(composite_text_with_blanking_box &lt;= composite_text)
				composite_text.collected_text -&gt; text_or_character
				text_or_character = composite_text
				(composite_text) 
				(composite_text =&gt; composite_text_with_extent)
				(composite_text =&gt; composite_text_with_delineation)
				(composite_text =&gt; composite_text_with_blanking_box)
			</refpath>
		</aa>
	</ae>
  
    <ae entity="Draughting_pre_defined_text_font" extensible="NO">
    	<aimelt xml:space="preserve">draughting_pre_defined_text_font</aimelt>
      <source xml:space="preserve">ISO 10303-46</source>
      <refpath xml:space="preserve">
			{draughting_pre_defined_text_font &lt;=
			pre_defined_text_font &lt;=
			pre_defined_item}
		</refpath>
    </ae>
    
    <ae entity="Externally_defined_text_font" extensible="NO">
    	<aimelt xml:space="preserve">externally_defined_text_font</aimelt>
      <source xml:space="preserve">ISO 10303-46</source>
      <refpath xml:space="preserve"/>
      <aa attribute="name">
      	<aimelt xml:space="preserve">PATH</aimelt>
         <refpath xml:space="preserve">externally_defined_text_font &lt;=
				externally_defined_item
				externally_defined_item.item_id -&gt;
				source_item = identifier
				identifier
			</refpath>
      </aa>			
   </ae>

	<ae entity="Text_literal" extensible="NO">
		<aimelt xml:space="preserve">text_literal</aimelt>
		<source xml:space="preserve">ISO 10303-46</source>
		<aa attribute="alignment">
			<aimelt xml:space="preserve">text_literal.alignment</aimelt>
			<source xml:space="preserve">ISO 10303-46</source>
			<refpath xml:space="preserve">
				{(text_literal.alignment = 'top right')
				(text_literal.alignment = 'top centre')
				(text_literal.alignment = 'top left')
				(text_literal.alignment = 'centre right')
				(text_literal.alignment = 'centre centre')
				(text_literal.alignment = 'centre left')
				(text_literal.alignment = 'bottom right')
				(text_literal.alignment = 'bottom centre')
				(text_literal.alignment = 'bottom left')}
			</refpath>
		</aa>
		<aa attribute="font" assertion_to="font_select">
			<aimelt xml:space="preserve">text_literal.font</aimelt>
			<source xml:space="preserve">ISO 10303-46</source>
			<refpath xml:space="preserve">text_literal -&gt;
				text_literal.font -&gt;
				font_select
			</refpath>
		</aa>
		<aa attribute="font" assertion_to="Draughting_pre_defined_text_font">
			<aimelt xml:space="preserve">text_literal.font</aimelt>
			<source xml:space="preserve">ISO 10303-46</source>
			<refpath xml:space="preserve">text_literal -&gt;
				text_literal.font -&gt;
				font_select = pre_defined_text_font
				pre_defined_text_font =&gt;
				draughting_pre_defined_text_font
			</refpath>
		</aa>
		<aa attribute="font" assertion_to="Externally_defined_text_font">
			<aimelt xml:space="preserve">text_literal.font</aimelt>
			<source xml:space="preserve">ISO 10303-46</source>
			<refpath xml:space="preserve">text_literal -&gt;
				text_literal.font -&gt;
				font_select = externally_defined_text_font
				externally_defined_text_font
			</refpath>
		</aa>
		<aa attribute="literal">
			<aimelt xml:space="preserve">text_literal.literal</aimelt>
			<source xml:space="preserve">ISO 10303-46</source>
		</aa>
		<aa attribute="path">
			<aimelt xml:space="preserve">text_literal.path</aimelt>
			<source xml:space="preserve">ISO 10303-46</source>
		</aa>
		<aa attribute="placement" assertion_to="Axis_placement">
			<aimelt xml:space="preserve">PATH</aimelt>
			<refpath xml:space="preserve">
				text_literal
				text_literal.placement -&gt; axis2_placement
				(axis2_placement = axis2_placement_2d)
				(axis2_placement = axis2_placement_3d)
			</refpath>
		</aa>
	</ae>

    <ae entity="Text_literal_with_associated_curves" extensible="NO">
    	<aimelt xml:space="preserve">text_literal_with_associated_curves</aimelt>
      <source xml:space="preserve">ISO 10303-46</source>
      <refpath xml:space="preserve"/>
      <aa attribute="associated_curves" assertion_to="Curve">
      	<aimelt xml:space="preserve">text_literal_with_associated_curves.associated_curves</aimelt>
         <refpath xml:space="preserve">text_literal_with_associated_curves
         	text_literal_with_associated_curves.associated_curves[i] -&gt;
         	curve
			</refpath>
      </aa>
    </ae>

    <ae entity="Text_literal_with_blanking_box" extensible="NO">
    	<aimelt xml:space="preserve">text_literal_with_blanking_box</aimelt>
      <source xml:space="preserve">ISO 10303-46</source>
      <refpath xml:space="preserve"/>
    </ae>

    <ae entity="Text_literal_with_delineation" extensible="NO">
    	<aimelt xml:space="preserve">text_literal_with_delineation</aimelt>
      <source xml:space="preserve">ISO 10303-46</source>
      <refpath xml:space="preserve"/>
      <aa attribute="delineation">
      	<aimelt xml:space="preserve">text_literal_with_delineation.delineation</aimelt>
         <refpath xml:space="preserve">text_literal_with_delineation
         	text_literal_with_delineation.delineation
         	{(text_literal_with_delineation.delineation = 'underline')
				(text_literal_with_delineation.delineation = 'overline')}
			</refpath>
      </aa>
    </ae>

    <ae entity="Text_literal_with_extent" extensible="NO">
    	<aimelt xml:space="preserve">text_literal_with_extent</aimelt>
      <source xml:space="preserve">ISO 10303-46</source>
      <refpath xml:space="preserve"/>
      <aa attribute="width">
      	<aimelt xml:space="preserve">planar_extent.size_in_x</aimelt>
         <refpath xml:space="preserve">text_literal_with_extent
         	text_literal_with_extent.extent -&gt; planar_extent
         	planar_extent.size_in_x
			</refpath>
      </aa>
      <aa attribute="height">
      	<aimelt xml:space="preserve">planar_extent.size_in_x</aimelt>
         <refpath xml:space="preserve">text_literal_with_extent
         	text_literal_with_extent.extent -&gt; planar_extent
         	planar_extent.size_in_y
			</refpath>
      </aa>
    </ae>

 	<!--  ++  DEFINED_CHARACTER_GLYPH  ++ -->
	<ae entity="Defined_character_glyph" extensible="NO">
		<aimelt xml:space="preserve">defined_character_glyph</aimelt>
		<source xml:space="preserve">ISO 10303-46</source>
		<refpath xml:space="preserve">
			defined_character_glyph &lt;=
			geometric_representation_item &lt;=
			representation_item
		</refpath>
		<aa attribute="placement" assertion_to="Axis_placement">
  			<aimelt xml:space="preserve">PATH</aimelt>
	 		<refpath xml:space="preserve">defined_character_glyph
	 			defined_character_glyph.placement -&gt; 
	 			axis2_placement
	 			(axis2_placement = axis2_placement_2d)
          	(axis2_placement = axis2_placement_3d)
  			</refpath>      
		</aa>	 
	</ae>		
		
	<sc constraint="ta_detailed_geometric_model_element_subtypes" entity="Detailed_geometric_model_element">
		<description>
			maps to ONEOF constraint defined directly in the <express_ref linkend="presentation_definition_schema:ir_express:presentation_definition_schema.composite_text"/> entity
			and to subtype constraint <express_ref linkend="presentation_definition_schema:ir_express:presentation_definition_schema.pds_geometric_representation_item_subtypes"/>.
		</description>
		<constraint>
			composite_text
		</constraint>
		<source xml:space="preserve">
			ISO 10303-46
			</source>
	</sc>

 </mapping_table>

 <!-- Clause 5.2 MIM -->
 <mim>
   <!--  Note MIM short form express is in mim.xml -->
   <express-g>
     <imgfile file="mimexpg1.xml"/>
   </express-g>
 </mim>

</module>
