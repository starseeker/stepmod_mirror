<?xml version="1.0"?>
<!-- $Id: express2xml.js,v 1.8 2002/02/15 12:21:31 robbod Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.8"
    source="../data/modules/work_request/mim_lf.exp"/>

  <schema name="work_request_mim">
    <type name="ahead_or_behind">
      <enumeration
        items="ahead exact behind">
      </enumeration>


    </type>
    <type name="amount_of_substance_measure">
      <builtintype
        type="REAL">
      </builtintype>


    </type>
    <type name="approval_item">
      <select
        selectitems="approval">
      </select>

    </type>
    <type name="area_measure">
      <builtintype
        type="REAL">
      </builtintype>


    </type>
    <type name="attribute_type">
      <select
        selectitems="label text">
      </select>

    </type>
    <type name="context_dependent_measure">
      <builtintype
        type="REAL">
      </builtintype>


    </type>
    <type name="count_measure">
      <builtintype
        type="NUMBER">
      </builtintype>


    </type>
    <type name="date_and_time_item">
      <select
        selectitems="date_assignment">
      </select>

    </type>
    <type name="date_item">
      <select
        selectitems="date_assignment">
      </select>

    </type>
    <type name="date_time_or_event_occurrence">
      <select
        selectitems="date_time_select">
      </select>

    </type>
    <type name="date_time_select">
      <select
        selectitems="date local_time date_and_time">
      </select>

    </type>
    <type name="day_in_month_number">
      <builtintype
        type="INTEGER">
      </builtintype>


      <where
        label="WHERE"
        expression="((1 &lt;= SELF) AND (SELF &lt;= 31))">
      </where>
    </type>
    <type name="description_attribute_select">
      <select
        selectitems="application_context approval_role date_role date_time_role organization_role person_and_organization_role person_and_organization">
      </select>

    </type>
    <type name="descriptive_measure">
      <builtintype
        type="STRING">
      </builtintype>


    </type>
    <type name="hour_in_day">
      <builtintype
        type="INTEGER">
      </builtintype>


      <where
        label="WHERE"
        expression="((0 &lt;= SELF) AND (SELF &lt; 24))">
      </where>
    </type>
    <type name="id_attribute_select">
      <select
        selectitems="application_context">
      </select>

    </type>
    <type name="identifier">
      <builtintype
        type="STRING">
      </builtintype>


    </type>
    <type name="label">
      <builtintype
        type="STRING">
      </builtintype>


    </type>
    <type name="length_measure">
      <builtintype
        type="REAL">
      </builtintype>


    </type>
    <type name="mass_measure">
      <builtintype
        type="REAL">
      </builtintype>


    </type>
    <type name="measure_value">
      <select
        selectitems="length_measure mass_measure amount_of_substance_measure area_measure volume_measure numeric_measure context_dependent_measure descriptive_measure count_measure">
      </select>

    </type>
    <type name="minute_in_hour">
      <builtintype
        type="INTEGER">
      </builtintype>


      <where
        label="WHERE"
        expression="((0 &lt;= SELF) AND (SELF &lt;= 59))">
      </where>
    </type>
    <type name="month_in_year_number">
      <builtintype
        type="INTEGER">
      </builtintype>


      <where
        label="WHERE"
        expression="((1 &lt;= SELF) AND (SELF &lt;= 12))">
      </where>
    </type>
    <type name="name_attribute_select">
      <select
        selectitems="person_and_organization product_definition">
      </select>

    </type>
    <type name="numeric_measure">
      <builtintype
        type="NUMBER">
      </builtintype>


    </type>
    <type name="organization_item">
      <select
        selectitems="applied_organization_assignment">
      </select>

    </type>
    <type name="person_and_organization_item">
      <select
        selectitems="applied_person_and_organization_assignment">
      </select>

    </type>
    <type name="person_organization_select">
      <select
        selectitems="person organization person_and_organization">
      </select>

    </type>
    <type name="product_categorisation_organization_item">
      <select
        selectitems="organization_item">
      </select>

    </type>
    <type name="product_categorisation_person_and_organization_item">
      <select
        selectitems="person_and_organization_item">
      </select>

    </type>
    <type name="product_definition_approval_item">
      <select
        selectitems="product_definition">
      </select>

    </type>
    <type name="product_definition_date_and_time_item">
      <select
        selectitems="product_definition">
      </select>

    </type>
    <type name="product_definition_date_item">
      <select
        selectitems="product_definition">
      </select>

    </type>
    <type name="product_definition_organization_item">
      <select
        selectitems="product_definition">
      </select>

    </type>
    <type name="product_definition_person_and_organization_item">
      <select
        selectitems="product_definition">
      </select>

    </type>
    <type name="product_definition_usage_security_classification_item">
      <select
        selectitems="product_definition_usage">
      </select>

    </type>
    <type name="product_organization_item">
      <select
        selectitems="organization_item">
      </select>

    </type>
    <type name="product_person_and_organization_item">
      <select
        selectitems="person_and_organization_item">
      </select>

    </type>
    <type name="product_version_organization_item">
      <select
        selectitems="product_definition_formation">
      </select>

    </type>
    <type name="product_version_person_and_organization_item">
      <select
        selectitems="product_definition_formation">
      </select>

    </type>
    <type name="product_version_security_classification_item">
      <select
        selectitems="product_definition_formation">
      </select>

    </type>
    <type name="role_select">
      <select
        selectitems="approval_assignment approval_date_time security_classification_assignment">
      </select>

    </type>
    <type name="second_in_minute">
      <builtintype
        type="REAL">
      </builtintype>


      <where
        label="WHERE"
        expression="((0 &lt;= SELF) AND (SELF &lt;= 60))">
      </where>
    </type>
    <type name="security_classification_approval_item">
      <select
        selectitems="security_classification">
      </select>

    </type>
    <type name="security_classification_date_and_time_item">
      <select
        selectitems="security_classification">
      </select>

    </type>
    <type name="security_classification_date_item">
      <select
        selectitems="security_classification">
      </select>

    </type>
    <type name="security_classification_item">
      <select
        selectitems="security_classification">
      </select>

    </type>
    <type name="security_classification_organization_item">
      <select
        selectitems="security_classification">
      </select>

    </type>
    <type name="security_classification_person_and_organization_item">
      <select
        selectitems="security_classification">
      </select>

    </type>
    <type name="si_prefix">
      <enumeration
        items="exa peta tera giga mega kilo hecto deca deci centi milli micro nano pico femto atto">
      </enumeration>


    </type>
    <type name="si_unit_NAME=ENUMERATION">
      <enumeration
        items="metre gram second ampere kelvin mole candela radian steradian hertz newton pascal joule watt coulomb volt farad ohm siemens weber tesla henry degree_celsius lumen lux becquerel gray sievert">
      </enumeration>


    </type>
    <type name="supported_item">
      <select
        selectitems="action_method">
      </select>

    </type>
    <type name="text">
      <builtintype
        type="STRING">
      </builtintype>


    </type>
    <type name="unit">
      <select
        selectitems="named_unit">
      </select>

    </type>
    <type name="versioned_action_request_approval_item">
      <select
        selectitems="versioned_action_request">
      </select>

    </type>
    <type name="versioned_action_request_date_and_time_item">
      <select
        selectitems="versioned_action_request">
      </select>

    </type>
    <type name="versioned_action_request_date_item">
      <select
        selectitems="versioned_action_request">
      </select>

    </type>
    <type name="versioned_action_request_organization_item">
      <select
        selectitems="versioned_action_request">
      </select>

    </type>
    <type name="versioned_action_request_person_and_organization_item">
      <select
        selectitems="versioned_action_request">
      </select>

    </type>
    <type name="volume_measure">
      <builtintype
        type="REAL">
      </builtintype>


    </type>
    <type name="year_number">
      <builtintype
        type="INTEGER">
      </builtintype>


    </type>
    <entity
      name="action_method">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="consequence">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="purpose">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="action_request_status">
      <explicit
        name="status">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="assigned_request">
        <typename
          name="versioned_action_request"/>
      </explicit>
    </entity>

    <entity
      name="address">
      <explicit
        name="internal_location"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="street_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="street"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="postal_box"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="town"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="region"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="postal_code"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="country"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="facsimile_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="telephone_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="electronic_mail_address"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="telex_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <where
        label="wr1"
        expression="(EXISTS(internal_location) OR EXISTS(street_number) OR EXISTS(               street) OR EXISTS(postal_box) OR EXISTS(town) OR EXISTS(               region) OR EXISTS(postal_code) OR EXISTS(country) OR EXISTS(               facsimile_number) OR EXISTS(telephone_number) OR EXISTS(               electronic_mail_address) OR EXISTS(telex_number))">
      </where>
    </entity>

    <entity
      name="amount_of_substance_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="('WORK_REQUEST_MIM.AMOUNT_OF_SUBSTANCE_UNIT' IN TYPEOF(SELF\               measure_with_unit.unit_component))">
      </where>
    </entity>

    <entity
      name="amount_of_substance_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="((SELF\named_unit.dimensions.length_exponent = 0) AND (SELF\               named_unit.dimensions.mass_exponent = 0) AND (SELF\               named_unit.dimensions.time_exponent = 0) AND (SELF\               named_unit.dimensions.electric_current_exponent = 0) AND (               SELF\named_unit.dimensions.               thermodynamic_temperature_exponent = 0) AND (SELF\named_unit               .dimensions.amount_of_substance_exponent = 1) AND (SELF\               named_unit.dimensions.luminous_intensity_exponent = 0))">
      </where>
    </entity>

    <entity
      name="application_context">
      <explicit
        name="application">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <derived
        name="id"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <inverse
        name="context_elements"
        entity="application_context_element"
        attribute="frame_of_reference">
        <inverse.aggregate
          type="SET"
          lower="1"
          upper="?"/>
      </inverse>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1)">
      </where>
      <where
        label="wr2"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="application_context_element"
      super.expression="(ONEOF (product_context,product_definition_context))">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="frame_of_reference">
        <typename
          name="application_context"/>
      </explicit>
    </entity>

    <entity
      name="applied_approval_assignment"
      supertypes="approval_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="approval_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_date_and_time_assignment"
      supertypes="date_and_time_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="date_and_time_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_date_assignment"
      supertypes="date_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="date_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_organization_assignment"
      supertypes="organization_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organization_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_person_and_organization_assignment"
      supertypes="person_and_organization_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="person_and_organization_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_security_classification_assignment"
      supertypes="security_classification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="security_classification_item"/>
      </explicit>
    </entity>

    <entity
      name="approval">
      <explicit
        name="status">
        <typename
          name="approval_status"/>
      </explicit>
      <explicit
        name="level">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="approval_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_approval">
        <typename
          name="approval"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="approval_date_time">
      <explicit
        name="date_time">
        <typename
          name="date_time_select"/>
      </explicit>
      <explicit
        name="dated_approval">
        <typename
          name="approval"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="approval_person_organization">
      <explicit
        name="person_organization">
        <typename
          name="person_organization_select"/>
      </explicit>
      <explicit
        name="authorized_approval">
        <typename
          name="approval"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="approval_role"/>
      </explicit>
    </entity>

    <entity
      name="approval_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_approval">
        <typename
          name="approval"/>
      </explicit>
      <explicit
        name="related_approval">
        <typename
          name="approval"/>
      </explicit>
    </entity>

    <entity
      name="approval_role">
      <explicit
        name="role">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="approval_status">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="area_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="('WORK_REQUEST_MIM.AREA_UNIT' IN TYPEOF(SELF\measure_with_unit.               unit_component))">
      </where>
    </entity>

    <entity
      name="area_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="((SELF\named_unit.dimensions.length_exponent = 2) AND (SELF\               named_unit.dimensions.mass_exponent = 0) AND (SELF\               named_unit.dimensions.time_exponent = 0) AND (SELF\               named_unit.dimensions.electric_current_exponent = 0) AND (               SELF\named_unit.dimensions.               thermodynamic_temperature_exponent = 0) AND (SELF\named_unit               .dimensions.amount_of_substance_exponent = 0) AND (SELF\               named_unit.dimensions.luminous_intensity_exponent = 0))">
      </where>
    </entity>

    <entity
      name="assembly_component_usage"
      supertypes="product_definition_usage">
      <explicit
        name="reference_designator"
        optional="YES">
        <typename
          name="identifier"/>
      </explicit>
    </entity>

    <entity
      name="calendar_date"
      supertypes="date">
      <explicit
        name="day_component">
        <typename
          name="day_in_month_number"/>
      </explicit>
      <explicit
        name="month_component">
        <typename
          name="month_in_year_number"/>
      </explicit>
      <where
        label="wr1"
        expression="valid_calendar_date(SELF)">
      </where>
    </entity>

    <entity
      name="context_dependent_unit"
      supertypes="named_unit">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="conversion_based_unit"
      supertypes="named_unit">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="conversion_factor">
        <typename
          name="measure_with_unit"/>
      </explicit>
    </entity>

    <entity
      name="coordinated_universal_time_offset">
      <explicit
        name="hour_offset">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="minute_offset"
        optional="YES">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="sense">
        <typename
          name="ahead_or_behind"/>
      </explicit>
      <where
        label="wr1"
        expression="((0 &lt;= hour_offset) AND (hour_offset &lt;= 12))">
      </where>
      <where
        label="wr2"
        expression="((0 &lt;= minute_offset) AND (minute_offset &lt;= 59))">
      </where>
      <where
        label="wr3"
        expression="(NOT ((hour_offset &lt;&gt; 0) AND (sense = exact)))">
      </where>
    </entity>

    <entity
      name="date"
      super.expression="(calendar_date)">
      <explicit
        name="year_component">
        <typename
          name="year_number"/>
      </explicit>
    </entity>

    <entity
      name="date_and_time">
      <explicit
        name="date_component">
        <typename
          name="date"/>
      </explicit>
      <explicit
        name="time_component">
        <typename
          name="local_time"/>
      </explicit>
    </entity>

    <entity
      name="date_and_time_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_date_and_time">
        <typename
          name="date_and_time"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="date_time_role"/>
      </explicit>
    </entity>

    <entity
      name="date_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_date">
        <typename
          name="date"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="date_role"/>
      </explicit>
    </entity>

    <entity
      name="date_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="date_time_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="description_attribute">
      <explicit
        name="attribute_value">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="described_item">
        <typename
          name="description_attribute_select"/>
      </explicit>
    </entity>

    <entity
      name="dimensional_exponents">
      <explicit
        name="length_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="mass_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="time_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="electric_current_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="thermodynamic_temperature_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="amount_of_substance_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="luminous_intensity_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
    </entity>

    <entity
      name="id_attribute">
      <explicit
        name="attribute_value">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="identified_item">
        <typename
          name="id_attribute_select"/>
      </explicit>
    </entity>

    <entity
      name="length_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="('WORK_REQUEST_MIM.LENGTH_UNIT' IN TYPEOF(SELF\               measure_with_unit.unit_component))">
      </where>
    </entity>

    <entity
      name="length_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="((SELF\named_unit.dimensions.length_exponent = 1) AND (SELF\               named_unit.dimensions.mass_exponent = 0) AND (SELF\               named_unit.dimensions.time_exponent = 0) AND (SELF\               named_unit.dimensions.electric_current_exponent = 0) AND (               SELF\named_unit.dimensions.               thermodynamic_temperature_exponent = 0) AND (SELF\named_unit               .dimensions.amount_of_substance_exponent = 0) AND (SELF\               named_unit.dimensions.luminous_intensity_exponent = 0))">
      </where>
    </entity>

    <entity
      name="local_time">
      <explicit
        name="hour_component">
        <typename
          name="hour_in_day"/>
      </explicit>
      <explicit
        name="minute_component"
        optional="YES">
        <typename
          name="minute_in_hour"/>
      </explicit>
      <explicit
        name="second_component"
        optional="YES">
        <typename
          name="second_in_minute"/>
      </explicit>
      <explicit
        name="zone">
        <typename
          name="coordinated_universal_time_offset"/>
      </explicit>
      <where
        label="wr1"
        expression="valid_time(SELF)">
      </where>
    </entity>

    <entity
      name="make_from_usage_option"
      supertypes="product_definition_usage">
      <explicit
        name="ranking">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="ranking_rationale">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="quantity">
        <typename
          name="measure_with_unit"/>
      </explicit>
      <where
        label="wr1"
        expression="((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) OR (               quantity.value_component &gt; 0))">
      </where>
    </entity>

    <entity
      name="mass_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="('WORK_REQUEST_MIM.MASS_UNIT' IN TYPEOF(SELF\measure_with_unit.               unit_component))">
      </where>
    </entity>

    <entity
      name="mass_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="((SELF\named_unit.dimensions.length_exponent = 0) AND (SELF\               named_unit.dimensions.mass_exponent = 1) AND (SELF\               named_unit.dimensions.time_exponent = 0) AND (SELF\               named_unit.dimensions.electric_current_exponent = 0) AND (               SELF\named_unit.dimensions.               thermodynamic_temperature_exponent = 0) AND (SELF\named_unit               .dimensions.amount_of_substance_exponent = 0) AND (SELF\               named_unit.dimensions.luminous_intensity_exponent = 0))">
      </where>
    </entity>

    <entity
      name="measure_with_unit"
      super.expression="(ONEOF (length_measure_with_unit,mass_measure_with_unit,        amount_of_substance_measure_with_unit,area_measure_with_unit,        volume_measure_with_unit))">
      <explicit
        name="value_component">
        <typename
          name="measure_value"/>
      </explicit>
      <explicit
        name="unit_component">
        <typename
          name="unit"/>
      </explicit>
      <where
        label="wr1"
        expression="valid_units(SELF)">
      </where>
    </entity>

    <entity
      name="name_attribute">
      <explicit
        name="attribute_value">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="named_item">
        <typename
          name="name_attribute_select"/>
      </explicit>
    </entity>

    <entity
      name="named_unit"
      super.expression="(ONEOF (si_unit,conversion_based_unit,        context_dependent_unit) ANDOR ONEOF (length_unit,mass_unit,        amount_of_substance_unit,area_unit,volume_unit))">
      <explicit
        name="dimensions">
        <typename
          name="dimensional_exponents"/>
      </explicit>
    </entity>

    <entity
      name="object_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="organization">
      <explicit
        name="id"
        optional="YES">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="organization_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_organization">
        <typename
          name="organization"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="organization_role"/>
      </explicit>
    </entity>

    <entity
      name="organization_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="organizational_address"
      supertypes="address">
      <explicit
        name="organizations">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organization"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="person">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="last_name"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="first_name"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="middle_names"
        optional="YES">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="prefix_titles"
        optional="YES">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="suffix_titles"
        optional="YES">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="label"/>
      </explicit>
      <where
        label="wr1"
        expression="(EXISTS(last_name) OR EXISTS(first_name))">
      </where>
    </entity>

    <entity
      name="person_and_organization">
      <explicit
        name="the_person">
        <typename
          name="person"/>
      </explicit>
      <explicit
        name="the_organization">
        <typename
          name="organization"/>
      </explicit>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1)">
      </where>
      <where
        label="wr2"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="person_and_organization_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_person_and_organization">
        <typename
          name="person_and_organization"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="person_and_organization_role"/>
      </explicit>
    </entity>

    <entity
      name="person_and_organization_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="personal_address"
      supertypes="address">
      <explicit
        name="people">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="person"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="product">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="frame_of_reference">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="product_context"/>
      </explicit>
    </entity>

    <entity
      name="product_category">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="product_category_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="category">
        <typename
          name="product_category"/>
      </explicit>
      <explicit
        name="sub_category">
        <typename
          name="product_category"/>
      </explicit>
      <where
        label="wr1"
        expression="acyclic_product_category_relationship(SELF,[SELF.sub_category])">
      </where>
    </entity>

    <entity
      name="product_context"
      supertypes="application_context_element">
      <explicit
        name="discipline_type">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="product_definition">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="formation">
        <typename
          name="product_definition_formation"/>
      </explicit>
      <explicit
        name="frame_of_reference">
        <typename
          name="product_definition_context"/>
      </explicit>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="product_definition_context"
      supertypes="application_context_element">
      <explicit
        name="life_cycle_stage">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_context_association">
      <explicit
        name="definition">
        <typename
          name="product_definition"/>
      </explicit>
      <explicit
        name="frame_of_reference">
        <typename
          name="product_definition_context"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="product_definition_context_role"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_context_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_formation">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="of_product">
        <typename
          name="product"/>
      </explicit>
      <unique
        label="ur1">
        <unique.attribute
          attribute="id"/>
        <unique.attribute
          attribute="of_product"/>
      </unique>
    </entity>

    <entity
      name="product_definition_relationship">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_product_definition">
        <typename
          name="product_definition"/>
      </explicit>
      <explicit
        name="related_product_definition">
        <typename
          name="product_definition"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_usage"
      super.expression="(ONEOF (make_from_usage_option,assembly_component_usage))"
      supertypes="product_definition_relationship">
      <unique
        label="ur1">
        <unique.attribute
          attribute="id"/>
        <unique.attribute
          attribute="relating_product_definition"/>
        <unique.attribute
          attribute="related_product_definition"/>
      </unique>
      <where
        label="wr1"
        expression="acyclic_product_definition_relationship(SELF,[SELF\               product_definition_relationship.related_product_definition],               'WORK_REQUEST_MIM.PRODUCT_DEFINITION_USAGE')">
      </where>
    </entity>

    <entity
      name="product_related_product_category"
      supertypes="product_category">
      <explicit
        name="products">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="product"/>
      </explicit>
    </entity>

    <entity
      name="quantified_assembly_component_usage"
      supertypes="assembly_component_usage">
      <explicit
        name="quantity">
        <typename
          name="measure_with_unit"/>
      </explicit>
      <where
        label="wr1"
        expression="((NOT ('NUMBER' IN TYPEOF(quantity.value_component))) OR (               quantity.value_component &gt; 0))">
      </where>
    </entity>

    <entity
      name="role_association">
      <explicit
        name="role">
        <typename
          name="object_role"/>
      </explicit>
      <explicit
        name="item_with_role">
        <typename
          name="role_select"/>
      </explicit>
    </entity>

    <entity
      name="security_classification">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="purpose">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="security_level">
        <typename
          name="security_classification_level"/>
      </explicit>
    </entity>

    <entity
      name="security_classification_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_security_classification">
        <typename
          name="security_classification"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(USEDIN(SELF,'WORK_REQUEST_MIM.' +                'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1)">
      </where>
    </entity>

    <entity
      name="security_classification_level">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="si_unit"
      supertypes="named_unit">
      <explicit
        name="prefix"
        optional="YES">
        <typename
          name="si_prefix"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="si_unit_name"/>
      </explicit>
      <derived
        name="SELF\named_unit.dimensions"
        expression="dimensions_for_si_unit(name)">
        <typename
          name="dimensional_exponents"/>
      </derived>
    </entity>

    <entity
      name="versioned_action_request">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="version">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="purpose">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="volume_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="('WORK_REQUEST_MIM.VOLUME_UNIT' IN TYPEOF(SELF\               measure_with_unit.unit_component))">
      </where>
    </entity>

    <entity
      name="volume_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="((SELF\named_unit.dimensions.length_exponent = 3) AND (SELF\               named_unit.dimensions.mass_exponent = 0) AND (SELF\               named_unit.dimensions.time_exponent = 0) AND (SELF\               named_unit.dimensions.electric_current_exponent = 0) AND (               SELF\named_unit.dimensions.               thermodynamic_temperature_exponent = 0) AND (SELF\named_unit               .dimensions.amount_of_substance_exponent = 0) AND (SELF\               named_unit.dimensions.luminous_intensity_exponent = 0))">
      </where>
    </entity>

    <rule
      name="product_requires_product_category"
      appliesto="product product_related_product_category">
      <algorithm>

  WHERE
    wr1: (SIZEOF(QUERY ( prod &lt;* product | (NOT (SIZEOF(QUERY ( prpc &lt;* 
             product_related_product_category | ((prod IN prpc.products) 
             AND (prpc.name IN ['part','document'])) )) = 1)) )) = 0);

      </algorithm>

    </rule>

    <function
      name="acyclic_product_category_relationship">
      <parameter
        name="relation">
        <typename
          name="product_category_relationship"/>
      </parameter>
      <parameter
        name="children">
        <aggregate
          type="SET"/>
        <typename
          name="product_category"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>

    LOCAL
      x              : SET OF product_category_relationship;
      local_children : SET OF product_category;
    END_LOCAL;
    REPEAT i := 1 TO HIINDEX(children) BY 1;
      IF relation.category :=: children[i] THEN
        RETURN(FALSE);
      END_IF;
    END_REPEAT;
    x := bag_to_set(USEDIN(relation.category,'WORK_REQUEST_MIM.' + 
        'PRODUCT_CATEGORY_RELATIONSHIP.SUB_CATEGORY'));
    local_children := children + relation.category;
    IF SIZEOF(x) &gt; 0 THEN
      REPEAT i := 1 TO HIINDEX(x) BY 1;
        IF NOT acyclic_product_category_relationship(x[i],local_children)
             THEN
          RETURN(FALSE);
        END_IF;
      END_REPEAT;
    END_IF;
    RETURN(TRUE);

      </algorithm>

    </function>

    <function
      name="acyclic_product_definition_relationship">
      <parameter
        name="relation">
        <typename
          name="product_definition_relationship"/>
      </parameter>
      <parameter
        name="relatives">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="product_definition"/>
      </parameter>
      <parameter
        name="specific_relation">
        <builtintype
          type="STRING"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>

    LOCAL
      x : SET OF product_definition_relationship;
    END_LOCAL;
    IF relation.relating_product_definition IN relatives THEN
      RETURN(FALSE);
    END_IF;
    x := QUERY ( pd &lt;* bag_to_set(USEDIN(relation.
        relating_product_definition,'WORK_REQUEST_MIM.' + 
        'PRODUCT_DEFINITION_RELATIONSHIP.' + 'RELATED_PRODUCT_DEFINITION'))
         | (specific_relation IN TYPEOF(pd)) );
    REPEAT i := 1 TO HIINDEX(x) BY 1;
      IF NOT acyclic_product_definition_relationship(x[i],relatives + 
          relation.relating_product_definition,specific_relation) THEN
        RETURN(FALSE);
      END_IF;
    END_REPEAT;
    RETURN(TRUE);

      </algorithm>

    </function>

    <function
      name="bag_to_set">
      <parameter
        name="the_bag">
        <aggregate
          type="BAG"/>
        <typename
          name="GENERICintype"/>
      </parameter>
      <aggregate
        type="SET"/>
      <typename
        name="GENERICintype"/>
      <algorithm>

    LOCAL
      the_set : SET OF GENERIC:intype := [];
    END_LOCAL;
    IF SIZEOF(the_bag) &gt; 0 THEN
      REPEAT i := 1 TO HIINDEX(the_bag) BY 1;
        the_set := the_set + the_bag[i];
      END_REPEAT;
    END_IF;
    RETURN(the_set);

      </algorithm>

    </function>

    <function
      name="derive_dimensional_exponents">
      <parameter
        name="x">
        <typename
          name="unit"/>
      </parameter>
      <typename
        name="dimensional_exponents"/>
      <algorithm>

    LOCAL
      result : dimensional_exponents := dimensional_exponents(0,0,0,0,0,0,
                0);
    END_LOCAL;
    IF 'WORK_REQUEST_MIM.DERIVED_UNIT' IN TYPEOF(x) THEN
      REPEAT i := LOINDEX(x.elements) TO HIINDEX(x.elements) BY 1;
        result.length_exponent := result.length_exponent + (x.elements[i].
            exponent * x.elements[i].unit.dimensions.length_exponent);
        result.mass_exponent := result.mass_exponent + (x.elements[i].
            exponent * x.elements[i].unit.dimensions.mass_exponent);
        result.time_exponent := result.time_exponent + (x.elements[i].
            exponent * x.elements[i].unit.dimensions.time_exponent);
        result.electric_current_exponent := result.
            electric_current_exponent + (x.elements[i].exponent * x.
            elements[i].unit.dimensions.electric_current_exponent);
        result.thermodynamic_temperature_exponent := result.
            thermodynamic_temperature_exponent + (x.elements[i].exponent * 
            x.elements[i].unit.dimensions.
            thermodynamic_temperature_exponent);
        result.amount_of_substance_exponent := result.
            amount_of_substance_exponent + (x.elements[i].exponent * x.
            elements[i].unit.dimensions.amount_of_substance_exponent);
        result.luminous_intensity_exponent := result.
            luminous_intensity_exponent + (x.elements[i].exponent * x.
            elements[i].unit.dimensions.luminous_intensity_exponent);
      END_REPEAT;
    ELSE
      result := x.dimensions;
    END_IF;
    RETURN(result);

      </algorithm>

    </function>

    <function
      name="dimensions_for_si_unit">
      <parameter
        name="n">
        <typename
          name="si_unit_name"/>
      </parameter>
      <typename
        name="dimensional_exponents"/>
      <algorithm>
    CASE n OF
      metre         :         RETURN(dimensional_exponents(1,0,0,0,0,0,0));
      gram          :         RETURN(dimensional_exponents(0,1,0,0,0,0,0));
      second        :         RETURN(dimensional_exponents(0,0,1,0,0,0,0));
      ampere        :         RETURN(dimensional_exponents(0,0,0,1,0,0,0));
      kelvin        :         RETURN(dimensional_exponents(0,0,0,0,1,0,0));
      mole          :         RETURN(dimensional_exponents(0,0,0,0,0,1,0));
      candela       :         RETURN(dimensional_exponents(0,0,0,0,0,0,1));
      radian        :         RETURN(dimensional_exponents(0,0,0,0,0,0,0));
      steradian     :         RETURN(dimensional_exponents(0,0,0,0,0,0,0));
      hertz         :         RETURN(dimensional_exponents(0,0,-1,0,0,0,0));
      newton        :         RETURN(dimensional_exponents(1,1,-2,0,0,0,0));
      pascal        :         RETURN(dimensional_exponents(-1,1,-2,0,0,0,0));
      joule         :         RETURN(dimensional_exponents(2,1,-2,0,0,0,0));
      watt          :         RETURN(dimensional_exponents(2,1,-3,0,0,0,0));
      coulomb       :         RETURN(dimensional_exponents(0,0,1,1,0,0,0));
      volt          :         RETURN(dimensional_exponents(2,1,-3,-1,0,0,0));
      farad         :         RETURN(dimensional_exponents(-2,-1,4,1,0,0,0));
      ohm           :         RETURN(dimensional_exponents(2,1,-3,-2,0,0,0));
      siemens       :         RETURN(dimensional_exponents(-2,-1,3,2,0,0,0));
      weber         :         RETURN(dimensional_exponents(2,1,-2,-1,0,0,0));
      tesla         :         RETURN(dimensional_exponents(0,1,-2,-1,0,0,0));
      henry         :         RETURN(dimensional_exponents(2,1,-2,-2,0,0,0));
      degree_celsius  :         RETURN(dimensional_exponents(0,0,0,0,1,0,0));
      lumen         :         RETURN(dimensional_exponents(0,0,0,0,0,0,1));
      lux           :         RETURN(dimensional_exponents(-2,0,0,0,0,0,1));
      becquerel     :         RETURN(dimensional_exponents(0,0,-1,0,0,0,0));
      gray          :         RETURN(dimensional_exponents(2,0,-2,0,0,0,0));
      sievert       :         RETURN(dimensional_exponents(2,0,-2,0,0,0,0));
      OTHERWISE     :         RETURN(?);
      END_CASE;

      </algorithm>

    </function>

    <function
      name="get_description_value">
      <parameter
        name="obj">
        <typename
          name="description_attribute_select"/>
      </parameter>
      <typename
        name="text"/>
      <algorithm>

    LOCAL
      description_bag : BAG OF description_attribute := USEDIN(obj,
                         'WORK_REQUEST_MIM.' + 'DESCRIPTION_ATTRIBUTE.' + 
                         'DESCRIBED_ITEM');
    END_LOCAL;
    IF SIZEOF(description_bag) = 1 THEN
      RETURN(description_bag[1].attribute_value);
    ELSE
      RETURN(?);
    END_IF;

      </algorithm>

    </function>

    <function
      name="get_id_value">
      <parameter
        name="obj">
        <typename
          name="id_attribute_select"/>
      </parameter>
      <typename
        name="identifier"/>
      <algorithm>

    LOCAL
      id_bag : BAG OF id_attribute := USEDIN(obj,'WORK_REQUEST_MIM.' + 
                'ID_ATTRIBUTE.' + 'IDENTIFIED_ITEM');
    END_LOCAL;
    IF SIZEOF(id_bag) = 1 THEN
      RETURN(id_bag[1].attribute_value);
    ELSE
      RETURN(?);
    END_IF;

      </algorithm>

    </function>

    <function
      name="get_name_value">
      <parameter
        name="obj">
        <typename
          name="name_attribute_select"/>
      </parameter>
      <typename
        name="label"/>
      <algorithm>

    LOCAL
      name_bag : BAG OF name_attribute := USEDIN(obj,'WORK_REQUEST_MIM.' +
                   'NAME_ATTRIBUTE.' + 'NAMED_ITEM');
    END_LOCAL;
    IF SIZEOF(name_bag) = 1 THEN
      RETURN(name_bag[1].attribute_value);
    ELSE
      RETURN(?);
    END_IF;

      </algorithm>

    </function>

    <function
      name="get_role">
      <parameter
        name="obj">
        <typename
          name="role_select"/>
      </parameter>
      <typename
        name="object_role"/>
      <algorithm>

    LOCAL
      role_bag : BAG OF role_association := USEDIN(obj,'WORK_REQUEST_MIM.' 
                  + 'ROLE_ASSOCIATION.' + 'ITEM_WITH_ROLE');
    END_LOCAL;
    IF SIZEOF(role_bag) = 1 THEN
      RETURN(role_bag[1].role);
    ELSE
      RETURN(?);
    END_IF;

      </algorithm>

    </function>

    <function
      name="leap_year">
      <parameter
        name="year">
        <typename
          name="year_number"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>
    IF (((year MOD 4) = 0) AND ((year MOD 100) &lt;&gt; 0)) OR ((year MOD 400) =
         0) THEN
      RETURN(TRUE);
    ELSE
      RETURN(FALSE);
    END_IF;

      </algorithm>

    </function>

    <function
      name="valid_calendar_date">
      <parameter
        name="date">
        <typename
          name="calendar_date"/>
      </parameter>
      <builtintype
        type="LOGICAL"/>
      <algorithm>
    CASE date.month_component OF
      1 :         RETURN((1 &lt;= date.day_component) AND (date.day_component 
            &lt;= 31));
      2 :         BEGIN
          IF leap_year(date.year_component) THEN
            RETURN((1 &lt;= date.day_component) AND (date.day_component &lt;= 29));
          ELSE
            RETURN((1 &lt;= date.day_component) AND (date.day_component &lt;= 28));
          END_IF;
        END;
      3 :         RETURN((1 &lt;= date.day_component) AND (date.day_component 
            &lt;= 31));
      4 :         RETURN((1 &lt;= date.day_component) AND (date.day_component 
            &lt;= 30));
      5 :         RETURN((1 &lt;= date.day_component) AND (date.day_component 
            &lt;= 31));
      6 :         RETURN((1 &lt;= date.day_component) AND (date.day_component 
            &lt;= 30));
      7 :         RETURN((1 &lt;= date.day_component) AND (date.day_component 
            &lt;= 31));
      8 :         RETURN((1 &lt;= date.day_component) AND (date.day_component 
            &lt;= 31));
      9 :         RETURN((1 &lt;= date.day_component) AND (date.day_component 
            &lt;= 30));
      10  :         RETURN((1 &lt;= date.day_component) AND (date.
            day_component &lt;= 31));
      11  :         RETURN((1 &lt;= date.day_component) AND (date.
            day_component &lt;= 30));
      12  :         RETURN((1 &lt;= date.day_component) AND (date.
            day_component &lt;= 31));
      END_CASE;
    RETURN(FALSE);

      </algorithm>

    </function>

    <function
      name="valid_time">
      <parameter
        name="time">
        <typename
          name="local_time"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>
    IF EXISTS(time.second_component) THEN
      RETURN(EXISTS(time.minute_component));
    ELSE
      RETURN(TRUE);
    END_IF;

      </algorithm>

    </function>

    <function
      name="valid_units">
      <parameter
        name="m">
        <typename
          name="measure_with_unit"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>
    IF 'WORK_REQUEST_MIM.LENGTH_MEASURE' IN TYPEOF(m.value_component)
         THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(1,0,0,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.MASS_MEASURE' IN TYPEOF(m.value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,1,0,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.TIME_MEASURE' IN TYPEOF(m.value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,0,1,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.ELECTRIC_CURRENT_MEASURE' IN TYPEOF(m.
        value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,0,0,1,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.THERMODYNAMIC_TEMPERATURE_MEASURE' IN TYPEOF(m.
        value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,0,0,0,1,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.AMOUNT_OF_SUBSTANCE_MEASURE' IN TYPEOF(m.
        value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,0,0,0,0,1,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.LUMINOUS_INTENSITY_MEASURE' IN TYPEOF(m.
        value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,0,0,0,0,0,1) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.PLANE_ANGLE_MEASURE' IN TYPEOF(m.value_component)
         THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,0,0,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.SOLID_ANGLE_MEASURE' IN TYPEOF(m.value_component)
         THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,0,0,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.AREA_MEASURE' IN TYPEOF(m.value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(2,0,0,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.VOLUME_MEASURE' IN TYPEOF(m.value_component)
         THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(3,0,0,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.RATIO_MEASURE' IN TYPEOF(m.value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,0,0,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.POSITIVE_LENGTH_MEASURE' IN TYPEOF(m.
        value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(1,0,0,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    IF 'WORK_REQUEST_MIM.POSITIVE_PLANE_ANGLE_MEASURE' IN TYPEOF(m.
        value_component) THEN
      IF derive_dimensional_exponents(m.unit_component) &lt;&gt; 
          dimensional_exponents(0,0,0,0,0,0,0) THEN
        RETURN(FALSE);
      END_IF;
    END_IF;
    RETURN(TRUE);

      </algorithm>

    </function>

  </schema>

</express>
