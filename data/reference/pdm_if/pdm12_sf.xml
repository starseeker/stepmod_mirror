<?xml version='1.0' encoding='UTF-8'?>
<!-- $Id: express2xml.js,v 1.34 2004/05/06 21:27:27 thendrix Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml2.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.34"
    source="../data/reference/pdm_if/pdm12_sf.exp"/>

  <schema name="pdm_schema">

    <interface
      kind="use"
      schema="application_context_schema">
      <interfaced.item
        name="application_context"/>
      <interfaced.item
        name="application_context_relationship"/>
      <interfaced.item
        name="application_protocol_definition"/>
      <interfaced.item
        name="product_context"/>
      <interfaced.item
        name="product_concept_context"/>
      <interfaced.item
        name="product_definition_context"/>
    </interface>
    <interface
      kind="use"
      schema="product_definition_schema">
      <interfaced.item
        name="product"/>
      <interfaced.item
        name="product_category"/>
      <interfaced.item
        name="product_category_relationship"/>
      <interfaced.item
        name="product_definition"/>
      <interfaced.item
        name="product_definition_context_association"/>
      <interfaced.item
        name="product_definition_context_role"/>
      <interfaced.item
        name="product_definition_effectivity"/>
      <interfaced.item
        name="product_definition_formation"/>
      <interfaced.item
        name="product_definition_formation_relationship"/>
      <interfaced.item
        name="product_definition_formation_with_specified_source"/>
      <interfaced.item
        name="product_definition_relationship"/>
      <interfaced.item
        name="product_related_product_category"/>
      <interfaced.item
        name="product_definition_with_associated_documents"/>
    </interface>
    <interface
      kind="use"
      schema="product_property_definition_schema">
      <interfaced.item
        name="product_definition_shape"/>
      <interfaced.item
        name="characterized_object"/>
      <interfaced.item
        name="general_property"/>
      <interfaced.item
        name="general_property_association"/>
      <interfaced.item
        name="general_property_relationship"/>
      <interfaced.item
        name="property_definition"/>
      <interfaced.item
        name="shape_aspect"/>
      <interfaced.item
        name="shape_aspect_relationship"/>
    </interface>
    <interface
      kind="use"
      schema="product_property_representation_schema">
      <interfaced.item
        name="property_definition_representation"/>
      <interfaced.item
        name="context_dependent_shape_representation"/>
      <interfaced.item
        name="shape_definition_representation"/>
      <interfaced.item
        name="shape_representation"/>
      <interfaced.item
        name="shape_representation_relationship"/>
    </interface>
    <interface
      kind="use"
      schema="management_resources_schema">
      <interfaced.item
        name="action_assignment"/>
      <interfaced.item
        name="action_request_assignment"/>
      <interfaced.item
        name="approval_assignment"/>
      <interfaced.item
        name="certification_assignment"/>
      <interfaced.item
        name="contract_assignment"/>
      <interfaced.item
        name="date_and_time_assignment"/>
      <interfaced.item
        name="date_assignment"/>
      <interfaced.item
        name="document_reference"/>
      <interfaced.item
        name="document_usage_constraint_assignment"/>
      <interfaced.item
        name="document_usage_role"/>
      <interfaced.item
        name="effectivity_assignment"/>
      <interfaced.item
        name="event_occurrence_assignment"/>
      <interfaced.item
        name="external_identification_assignment"/>
      <interfaced.item
        name="identification_assignment"/>
      <interfaced.item
        name="organization_assignment"/>
      <interfaced.item
        name="organizational_project_assignment"/>
      <interfaced.item
        name="organizational_project_role"/>
      <interfaced.item
        name="person_and_organization_assignment"/>
      <interfaced.item
        name="security_classification_assignment"/>
    </interface>
    <interface
      kind="use"
      schema="document_schema">
      <interfaced.item
        name="document"/>
      <interfaced.item
        name="document_product_association"/>
      <interfaced.item
        name="document_usage_constraint"/>
      <interfaced.item
        name="document_representation_type"/>
      <interfaced.item
        name="document_type"/>
      <interfaced.item
        name="document_relationship"/>
    </interface>
    <interface
      kind="use"
      schema="action_schema">
      <interfaced.item
        name="action"/>
      <interfaced.item
        name="action_method"/>
      <interfaced.item
        name="action_relationship"/>
      <interfaced.item
        name="action_request_solution"/>
      <interfaced.item
        name="action_request_status"/>
      <interfaced.item
        name="action_status"/>
      <interfaced.item
        name="action_directive"/>
      <interfaced.item
        name="directed_action"/>
      <interfaced.item
        name="executed_action"/>
      <interfaced.item
        name="versioned_action_request"/>
    </interface>
    <interface
      kind="use"
      schema="certification_schema">
      <interfaced.item
        name="certification"/>
      <interfaced.item
        name="certification_type"/>
    </interface>
    <interface
      kind="use"
      schema="approval_schema">
      <interfaced.item
        name="approval_date_time"/>
      <interfaced.item
        name="approval_person_organization"/>
      <interfaced.item
        name="approval"/>
      <interfaced.item
        name="approval_status"/>
      <interfaced.item
        name="approval_relationship"/>
    </interface>
    <interface
      kind="use"
      schema="contract_schema">
      <interfaced.item
        name="contract"/>
      <interfaced.item
        name="contract_type"/>
    </interface>
    <interface
      kind="use"
      schema="security_classification_schema">
      <interfaced.item
        name="security_classification"/>
      <interfaced.item
        name="security_classification_level"/>
    </interface>
    <interface
      kind="use"
      schema="person_organization_schema">
      <interfaced.item
        name="person_and_organization"/>
      <interfaced.item
        name="person_and_organization_role"/>
      <interfaced.item
        name="organization"/>
      <interfaced.item
        name="organization_role"/>
      <interfaced.item
        name="organization_relationship"/>
      <interfaced.item
        name="personal_address"/>
      <interfaced.item
        name="organizational_address"/>
      <interfaced.item
        name="organizational_project"/>
      <interfaced.item
        name="organizational_project_relationship"/>
    </interface>
    <interface
      kind="use"
      schema="date_time_schema">
      <interfaced.item
        name="date_and_time"/>
      <interfaced.item
        name="date_time_role"/>
      <interfaced.item
        name="date"/>
      <interfaced.item
        name="date_role"/>
      <interfaced.item
        name="event_occurrence"/>
      <interfaced.item
        name="event_occurrence_role"/>
      <interfaced.item
        name="relative_event_occurrence"/>
      <interfaced.item
        name="time_interval"/>
      <interfaced.item
        name="time_interval_with_bounds"/>
      <interfaced.item
        name="calendar_date"/>
    </interface>
    <interface
      kind="use"
      schema="effectivity_schema">
      <interfaced.item
        name="effectivity"/>
      <interfaced.item
        name="serial_numbered_effectivity"/>
      <interfaced.item
        name="dated_effectivity"/>
      <interfaced.item
        name="lot_effectivity"/>
      <interfaced.item
        name="time_interval_based_effectivity"/>
      <interfaced.item
        name="effectivity_relationship"/>
    </interface>
    <interface
      kind="use"
      schema="support_resource_schema">
      <interfaced.item
        name="identifier"/>
      <interfaced.item
        name="label"/>
      <interfaced.item
        name="text"/>
    </interface>
    <interface
      kind="use"
      schema="measure_schema">
      <interfaced.item
        name="amount_of_substance_measure"/>
      <interfaced.item
        name="amount_of_substance_measure_with_unit"/>
      <interfaced.item
        name="amount_of_substance_unit"/>
      <interfaced.item
        name="area_measure_with_unit"/>
      <interfaced.item
        name="area_measure"/>
      <interfaced.item
        name="area_unit"/>
      <interfaced.item
        name="celsius_temperature_measure"/>
      <interfaced.item
        name="context_dependent_measure"/>
      <interfaced.item
        name="context_dependent_unit"/>
      <interfaced.item
        name="conversion_based_unit"/>
      <interfaced.item
        name="count_measure"/>
      <interfaced.item
        name="descriptive_measure"/>
      <interfaced.item
        name="derived_unit"/>
      <interfaced.item
        name="derived_unit_element"/>
      <interfaced.item
        name="electric_current_measure"/>
      <interfaced.item
        name="electric_current_measure_with_unit"/>
      <interfaced.item
        name="electric_current_unit"/>
      <interfaced.item
        name="global_unit_assigned_context"/>
      <interfaced.item
        name="length_unit"/>
      <interfaced.item
        name="length_measure"/>
      <interfaced.item
        name="length_measure_with_unit"/>
      <interfaced.item
        name="luminous_intensity_measure"/>
      <interfaced.item
        name="luminous_intensity_measure_with_unit"/>
      <interfaced.item
        name="luminous_intensity_unit"/>
      <interfaced.item
        name="mass_measure"/>
      <interfaced.item
        name="mass_unit"/>
      <interfaced.item
        name="mass_measure_with_unit"/>
      <interfaced.item
        name="measure_with_unit"/>
      <interfaced.item
        name="named_unit"/>
      <interfaced.item
        name="numeric_measure"/>
      <interfaced.item
        name="parameter_value"/>
      <interfaced.item
        name="plane_angle_measure"/>
      <interfaced.item
        name="plane_angle_measure_with_unit"/>
      <interfaced.item
        name="plane_angle_unit"/>
      <interfaced.item
        name="positive_length_measure"/>
      <interfaced.item
        name="positive_plane_angle_measure"/>
      <interfaced.item
        name="positive_ratio_measure"/>
      <interfaced.item
        name="ratio_measure"/>
      <interfaced.item
        name="ratio_measure_with_unit"/>
      <interfaced.item
        name="ratio_unit"/>
      <interfaced.item
        name="solid_angle_measure"/>
      <interfaced.item
        name="solid_angle_measure_with_unit"/>
      <interfaced.item
        name="solid_angle_unit"/>
      <interfaced.item
        name="si_unit"/>
      <interfaced.item
        name="thermodynamic_temperature_measure"/>
      <interfaced.item
        name="thermodynamic_temperature_measure_with_unit"/>
      <interfaced.item
        name="thermodynamic_temperature_unit"/>
      <interfaced.item
        name="time_measure"/>
      <interfaced.item
        name="time_measure_with_unit"/>
      <interfaced.item
        name="time_unit"/>
      <interfaced.item
        name="volume_unit"/>
      <interfaced.item
        name="volume_measure"/>
      <interfaced.item
        name="volume_measure_with_unit"/>
    </interface>
    <interface
      kind="use"
      schema="geometry_schema">
      <interfaced.item
        name="axis2_placement_2d"/>
      <interfaced.item
        name="axis2_placement_3d"/>
      <interfaced.item
        name="cartesian_transformation_operator_2d"/>
      <interfaced.item
        name="cartesian_transformation_operator_3d"/>
      <interfaced.item
        name="geometric_representation_context"/>
    </interface>
    <interface
      kind="use"
      schema="representation_schema">
      <interfaced.item
        name="transformation"/>
      <interfaced.item
        name="global_uncertainty_assigned_context"/>
      <interfaced.item
        name="founded_item"/>
      <interfaced.item
        name="functionally_defined_transformation"/>
      <interfaced.item
        name="item_defined_transformation"/>
      <interfaced.item
        name="mapped_item"/>
      <interfaced.item
        name="uncertainty_measure_with_unit"/>
      <interfaced.item
        name="representation_relationship_with_transformation"/>
      <interfaced.item
        name="value_representation_item"/>
    </interface>
    <interface
      kind="use"
      schema="product_structure_schema">
      <interfaced.item
        name="product_definition_usage"/>
      <interfaced.item
        name="assembly_component_usage"/>
      <interfaced.item
        name="next_assembly_usage_occurrence"/>
      <interfaced.item
        name="promissory_usage_occurrence"/>
      <interfaced.item
        name="quantified_assembly_component_usage"/>
      <interfaced.item
        name="specified_higher_usage_occurrence"/>
      <interfaced.item
        name="assembly_component_usage_substitute"/>
      <interfaced.item
        name="make_from_usage_option"/>
      <interfaced.item
        name="alternate_product_relationship"/>
    </interface>
    <interface
      kind="use"
      schema="configuration_management_schema">
      <interfaced.item
        name="configuration_item"/>
      <interfaced.item
        name="configuration_design"/>
      <interfaced.item
        name="configuration_effectivity"/>
    </interface>
    <interface
      kind="use"
      schema="product_concept_schema">
      <interfaced.item
        name="product_concept"/>
    </interface>
    <interface
      kind="use"
      schema="qualified_measure_schema">
      <interfaced.item
        name="measure_representation_item"/>
      <interfaced.item
        name="descriptive_representation_item"/>
    </interface>
    <interface
      kind="use"
      schema="process_property_representation_schema">
      <interfaced.item
        name="action_property_representation"/>
    </interface>
    <interface
      kind="use"
      schema="process_property_schema">
      <interfaced.item
        name="action_property"/>
    </interface>
    <type name="action_item">
      <select
        selectitems="configuration_effectivity product_definition product_definition_formation product_definition_relationship">
      </select>
    </type>

    <type name="action_request_item">
      <select
        selectitems="product_definition product_definition_formation product_definition_relationship property_definition">
      </select>
    </type>

    <type name="approval_item">
      <select
        selectitems="action applied_action_assignment certification configuration_effectivity contract product_definition product_definition_formation product_definition_relationship versioned_action_request">
      </select>
    </type>

    <type name="certification_item">
      <select
        selectitems="product_definition_formation_relationship">
      </select>
    </type>

    <type name="contract_item">
      <select
        selectitems="action product_definition_formation">
      </select>
    </type>

    <type name="date_and_time_item">
      <select
        selectitems="action applied_action_assignment applied_person_and_organization_assignment applied_organization_assignment approval_person_organization certification contract organizational_project product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="date_item">
      <select
        selectitems="action applied_action_assignment applied_person_and_organization_assignment applied_organization_assignment approval_person_organization certification contract organizational_project product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="document_reference_item">
      <select
        selectitems="action_method product_definition product_definition_formation_relationship product_definition_relationship shape_aspect shape_aspect_relationship versioned_action_request">
      </select>
    </type>

    <type name="effectivity_item">
      <select
        selectitems="product_definition product_definition_formation product_definition_relationship">
      </select>
    </type>

    <type name="event_occurrence_item">
      <select
        selectitems="organizational_project">
      </select>
    </type>

    <type name="external_identification_item">
      <select
        selectitems="document_file product_definition">
      </select>
    </type>

    <type name="identification_item">
      <select
        selectitems="approval_status document_file organization product product_definition product_definition_formation security_classification_level shape_aspect_relationship">
      </select>
    </type>

    <type name="organization_item">
      <select
        selectitems="action applied_action_assignment applied_identification_assignment approval configuration_item contract document_file product product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="organizational_project_item">
      <select
        selectitems="executed_action product_concept">
      </select>
    </type>

    <type name="person_and_organization_item">
      <select
        selectitems="action applied_action_assignment configuration_item contract document_file product product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="security_classification_item">
      <select
        selectitems="assembly_component_usage document_file product_definition product_definition_formation">
      </select>
    </type>

    <entity
      name="applied_action_assignment"
      supertypes="action_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="action_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_action_request_assignment"
      supertypes="action_request_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="action_request_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_approval_assignment"
      supertypes="approval_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="approval_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_certification_assignment"
      supertypes="certification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="certification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_contract_assignment"
      supertypes="contract_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="contract_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_date_and_time_assignment"
      supertypes="date_and_time_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="date_and_time_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_date_assignment"
      supertypes="date_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="date_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_document_reference"
      supertypes="document_reference">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="document_reference_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_document_usage_constraint_assignment"
      supertypes="document_usage_constraint_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="document_reference_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_event_occurrence_assignment"
      supertypes="event_occurrence_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="event_occurrence_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_effectivity_assignment"
      supertypes="effectivity_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="effectivity_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_external_identification_assignment"
      supertypes="external_identification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="external_identification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_identification_assignment"
      supertypes="identification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="identification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_organization_assignment"
      supertypes="organization_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organization_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_organizational_project_assignment"
      supertypes="organizational_project_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organizational_project_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_person_and_organization_assignment"
      supertypes="person_and_organization_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="person_and_organization_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_security_classification_assignment"
      supertypes="security_classification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="security_classification_item"/>
      </explicit>
    </entity>

    <entity
      name="document_file"
      supertypes="document characterized_object">
      <where
        label="WR1"
        expression="SELF\characterized_object. name =''">
      </where>
      <where
        label="WR2"
        expression="NOT EXISTS (SELF\characterized_object. description)">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (QUERY (drt &lt;* SELF\document. representation_types | drt. name IN ['digital' ,'physical'])) =1">
      </where>
    </entity>

    <entity
      name="document_product_equivalence"
      supertypes="document_product_association">
      <where
        label="WR1"
        expression="SELF.name ='equivalence'">
      </where>
      <where
        label="WR2"
        expression="NOT ('PDM_SCHEMA.'+ 'PRODUCT' IN TYPEOF (SELF.related_product)) OR ((SELF.relating_document. kind.product_data_type ='configuration controlled document') AND (SIZEOF (QUERY(prpc &lt;* USEDIN (SELF.related_product ,'PDM_SCHEMA.'+'PRODUCT_RELATED_PRODUCT_CATEGORY.'+'PRODUCTS') | prpc. name ='document')) =1))">
      </where>
      <where
        label="WR3"
        expression="NOT ('PDM_SCHEMA.'+ 'PRODUCT_DEFINITION_FORMATION' IN TYPEOF (SELF.related_product)) OR ((SELF.relating_document. kind.product_data_type ='configuration controlled document version') AND (SIZEOF(QUERY (prpc &lt;* USEDIN (SELF.related_product\product_definition_formation. of_product ,'PDM_SCHEMA.PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS') | prpc. name ='document')) =1))">
      </where>
      <where
        label="WR4"
        expression="NOT ('PDM_SCHEMA.'+ 'PRODUCT_DEFINITION' IN TYPEOF(SELF.related_product)) OR ((SELF.relating_document. kind.product_data_type ='configuration controlled document definition') AND (SIZEOF (QUERY (prpc &lt;* USEDIN (SELF.related_product\product_definition. formation.of_product ,'PDM_SCHEMA.PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS') | prpc. name ='document')) =1))">
      </where>
    </entity>

    <rule
      name="product_requires_category"
      appliesto="product product_related_product_category">
      <where
        label="wr1"
        expression="SIZEOF(QUERY (p &lt;* product | SIZEOF(USEDIN (p,'PDM_SCHEMA.' + 'PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS')) = 0)) = 0">
      </where>
    </rule>

    <rule
      name="product_requires_version"
      appliesto="product">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (prod &lt;* product | (SIZEOF (USEDIN (prod ,'PDM_SCHEMA.'+'PRODUCT_DEFINITION_FORMATION.'+'OF_PRODUCT')) =0))) =0">
      </where>
    </rule>

    <rule
      name="versioned_action_request_requires_status"
      appliesto="versioned_action_request action_request_status">
      <where
        label="wr1"
        expression="SIZEOF(QUERY (ar &lt;* versioned_action_request | (NOT (SIZEOF(QUERY (ars &lt;* action_request_status | (ar :=: ars. assigned_request))) = 1)))) = 0">
      </where>
    </rule>

  </schema>
</express>
