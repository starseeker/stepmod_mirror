<?xml version='1.0' encoding='UTF-8'?>
<!-- $Id: express2xml.js,v 1.34 2004/05/06 21:27:27 thendrix Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml2.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.34"
    source="../data/reference/pdm_if/pdm_schema_12.exp"/>

  <schema name="pdm_schema">

    <constant name="dummy_gri"
      expression="representation_item('') || geometric_representation_item()">
      <typename
        name="geometric_representation_item"/>
    </constant>

    <type name="action_item">
      <select
        selectitems="configuration_effectivity product_definition product_definition_formation product_definition_relationship">
      </select>
    </type>

    <type name="action_request_item">
      <select
        selectitems="product_definition product_definition_formation product_definition_relationship property_definition">
      </select>
    </type>

    <type name="ahead_or_behind">
      <enumeration
        items="ahead exact behind">
      </enumeration>
    </type>

    <type name="amount_of_substance_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="approval_item">
      <select
        selectitems="action applied_action_assignment certification configuration_effectivity contract product_definition product_definition_formation product_definition_relationship versioned_action_request">
      </select>
    </type>

    <type name="area_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="attribute_type">
      <select
        selectitems="label text">
      </select>
    </type>

    <type name="axis2_placement">
      <select
        selectitems="axis2_placement_2d axis2_placement_3d">
      </select>
    </type>

    <type name="celsius_temperature_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="certification_item">
      <select
        selectitems="product_definition_formation_relationship">
      </select>
    </type>

    <type name="characterized_action_definition">
      <select
        selectitems="action action_method action_relationship">
      </select>
    </type>

    <type name="characterized_definition">
      <select
        selectitems="characterized_object characterized_product_definition shape_definition">
      </select>
    </type>

    <type name="characterized_product_definition">
      <select
        selectitems="product_definition product_definition_relationship">
      </select>
    </type>

    <type name="configuration_design_item">
      <select
        selectitems="product_definition product_definition_formation">
      </select>
    </type>

    <type name="context_dependent_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="contract_item">
      <select
        selectitems="action product_definition_formation">
      </select>
    </type>

    <type name="count_measure">
      <builtintype
        type="NUMBER">
      </builtintype>
    </type>

    <type name="date_and_time_item">
      <select
        selectitems="action applied_action_assignment applied_person_and_organization_assignment applied_organization_assignment approval_person_organization certification contract organizational_project product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="date_item">
      <select
        selectitems="action applied_action_assignment applied_person_and_organization_assignment applied_organization_assignment approval_person_organization certification contract organizational_project product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="date_time_or_event_occurrence">
      <select
        selectitems="date_time_select event_occurrence">
      </select>
    </type>

    <type name="date_time_select">
      <select
        selectitems="date local_time date_and_time">
      </select>
    </type>

    <type name="day_in_month_number">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="wr1"
        expression="{1&lt;=SELF&lt;=31}">
      </where>
    </type>

    <type name="derived_property_select">
      <select
        selectitems="property_definition action_property">
      </select>
    </type>

    <type name="description_attribute_select">
      <select
        selectitems="action_request_solution application_context approval_role configuration_design date_role date_time_role context_dependent_shape_representation effectivity external_source organization_role person_and_organization_role person_and_organization property_definition_representation representation">
      </select>
    </type>

    <type name="descriptive_measure">
      <builtintype
        type="STRING">
      </builtintype>
    </type>

    <type name="dimension_count">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="wr1"
        expression="SELF &gt; 0">
      </where>
    </type>

    <type name="document_reference_item">
      <select
        selectitems="action_method executed_action product_definition product_definition_formation_relationship product_definition_relationship shape_aspect shape_aspect_relationship versioned_action_request">
      </select>
    </type>

    <type name="effectivity_item">
      <select
        selectitems="product_definition product_definition_formation product_definition_relationship">
      </select>
    </type>

    <type name="electric_current_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="event_occurrence_item">
      <select
        selectitems="organizational_project">
      </select>
    </type>

    <type name="external_identification_item">
      <select
        selectitems="document_file product_definition">
      </select>
    </type>

    <type name="founded_item_select">
      <select
        selectitems="founded_item representation_item">
      </select>
    </type>

    <type name="hour_in_day">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="wr1"
        expression="{0&lt;=SELF&lt;=24}">
      </where>
    </type>

    <type name="id_attribute_select">
      <select
        selectitems="action address product_category property_definition shape_aspect shape_aspect_relationship application_context organizational_project representation">
      </select>
    </type>

    <type name="identification_item">
      <select
        selectitems="approval_status document_file organization product product_definition product_definition_formation security_classification_level shape_aspect_relationship">
      </select>
    </type>

    <type name="identifier">
      <builtintype
        type="STRING">
      </builtintype>
    </type>

    <type name="label">
      <builtintype
        type="STRING">
      </builtintype>
    </type>

    <type name="length_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="luminous_intensity_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="mass_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="measure_value">
      <select
        selectitems="length_measure mass_measure time_measure electric_current_measure thermodynamic_temperature_measure celsius_temperature_measure amount_of_substance_measure luminous_intensity_measure plane_angle_measure solid_angle_measure area_measure volume_measure ratio_measure parameter_value numeric_measure context_dependent_measure descriptive_measure positive_length_measure positive_plane_angle_measure positive_ratio_measure count_measure">
      </select>
    </type>

    <type name="minute_in_hour">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="wr1"
        expression="{0&lt;=SELF&lt;=59}">
      </where>
    </type>

    <type name="month_in_year_number">
      <builtintype
        type="INTEGER">
      </builtintype>
      <where
        label="wr1"
        expression="{1&lt;=SELF&lt;=12}">
      </where>
    </type>

    <type name="name_attribute_select">
      <select
        selectitems="action_request_solution address configuration_design context_dependent_shape_representation derived_unit effectivity person_and_organization product_definition property_definition_representation">
      </select>
    </type>

    <type name="numeric_measure">
      <builtintype
        type="NUMBER">
      </builtintype>
    </type>

    <type name="organization_item">
      <select
        selectitems="action applied_action_assignment applied_identification_assignment approval configuration_item contract document_file product product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="organizational_project_item">
      <select
        selectitems="executed_action product_concept">
      </select>
    </type>

    <type name="parameter_value">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="person_and_organization_item">
      <select
        selectitems="action applied_action_assignment configuration_item contract document_file product product_definition product_definition_formation security_classification versioned_action_request">
      </select>
    </type>

    <type name="person_organization_select">
      <select
        selectitems="person organization person_and_organization">
      </select>
    </type>

    <type name="plane_angle_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="positive_length_measure">
      <typename
        name="length_measure"/>
      <where
        label="wr1"
        expression="SELF &gt; 0.0">
      </where>
    </type>

    <type name="positive_plane_angle_measure">
      <typename
        name="plane_angle_measure"/>
      <where
        label="wr1"
        expression="SELF &gt; 0.0">
      </where>
    </type>

    <type name="positive_ratio_measure">
      <typename
        name="ratio_measure"/>
      <where
        label="wr1"
        expression="SELF &gt; 0.0">
      </where>
    </type>

    <type name="product_or_formation_or_definition">
      <select
        selectitems="product product_definition_formation product_definition">
      </select>
    </type>

    <type name="ratio_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="represented_definition">
      <select
        selectitems="general_property property_definition shape_aspect shape_aspect_relationship">
      </select>
    </type>

    <type name="role_select">
      <select
        selectitems="action_assignment action_request_assignment approval_assignment approval_date_time certification_assignment contract_assignment document_reference effectivity_assignment security_classification_assignment">
      </select>
    </type>

    <type name="second_in_minute">
      <builtintype
        type="REAL">
      </builtintype>
      <where
        label="wr1"
        expression="{0&lt;=SELF&lt;=60.0}">
      </where>
    </type>

    <type name="security_classification_item">
      <select
        selectitems="assembly_component_usage document_file product_definition product_definition_formation">
      </select>
    </type>

    <type name="shape_definition">
      <select
        selectitems="product_definition_shape shape_aspect shape_aspect_relationship">
      </select>
    </type>

    <type name="si_prefix">
      <enumeration
        items="exa peta tera giga mega kilo hecto deca deci centi milli micro nano pico femto atto">
      </enumeration>
    </type>

    <type name="si_unit_name">
      <enumeration
        items="metre gram second ampere kelvin mole candela radian steradian hertz newton pascal joule watt coulomb volt farad ohm siemens weber tesla henry degree_celsius lumen lux becquerel gray sievert">
      </enumeration>
    </type>

    <type name="solid_angle_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="source">
      <enumeration
        items="made bought not_known">
      </enumeration>
    </type>

    <type name="source_item">
      <select
        selectitems="identifier">
      </select>
    </type>

    <type name="supported_item">
      <select
        selectitems="action_directive action action_method">
      </select>
    </type>

    <type name="text">
      <builtintype
        type="STRING">
      </builtintype>
    </type>

    <type name="thermodynamic_temperature_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="time_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="transformation">
      <select
        selectitems="item_defined_transformation functionally_defined_transformation">
      </select>
    </type>

    <type name="trimming_select">
      <select
        selectitems="cartesian_point parameter_value">
      </select>
    </type>

    <type name="unit">
      <select
        selectitems="named_unit derived_unit">
      </select>
    </type>

    <type name="vector_or_direction">
      <select
        selectitems="vector direction">
      </select>
    </type>

    <type name="volume_measure">
      <builtintype
        type="REAL">
      </builtintype>
    </type>

    <type name="year_number">
      <builtintype
        type="INTEGER">
      </builtintype>
    </type>

    <entity
      name="action">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="chosen_method">
        <typename
          name="action_method"/>
      </explicit>
      <derived
        name="id"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;=1">
      </where>
    </entity>

    <entity
      name="action_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_action">
        <typename
          name="action"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE'))&lt;= 1">
      </where>
    </entity>

    <entity
      name="action_directive">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="analysis">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="comment">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="requests">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="versioned_action_request"/>
      </explicit>
    </entity>

    <entity
      name="action_method">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="consequence">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="purpose">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="action_property">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="definition">
        <typename
          name="characterized_action_definition"/>
      </explicit>
    </entity>

    <entity
      name="action_property_representation">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="property">
        <typename
          name="action_property"/>
      </explicit>
      <explicit
        name="representation">
        <typename
          name="representation"/>
      </explicit>
    </entity>

    <entity
      name="action_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_action">
        <typename
          name="action"/>
      </explicit>
      <explicit
        name="related_action">
        <typename
          name="action"/>
      </explicit>
    </entity>

    <entity
      name="action_request_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_action_request">
        <typename
          name="versioned_action_request"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE'))&lt;= 1">
      </where>
    </entity>

    <entity
      name="action_request_solution">
      <explicit
        name="method">
        <typename
          name="action_method"/>
      </explicit>
      <explicit
        name="request">
        <typename
          name="versioned_action_request"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
      <where
        label="wr2"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="action_request_status">
      <explicit
        name="status">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="assigned_request">
        <typename
          name="versioned_action_request"/>
      </explicit>
    </entity>

    <entity
      name="action_status">
      <explicit
        name="status">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="assigned_action">
        <typename
          name="executed_action"/>
      </explicit>
    </entity>

    <entity
      name="address">
      <explicit
        name="internal_location"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="street_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="street"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="postal_box"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="town"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="region"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="postal_code"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="country"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="facsimile_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="telephone_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="electronic_mail_address"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="telex_number"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <derived
        name="url"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <where
        label="wr1"
        expression="EXISTS(internal_location) OR EXISTS(street_number) OR EXISTS(street) OR EXISTS(postal_box) OR EXISTS(town) OR EXISTS(region) OR EXISTS(postal_code) OR EXISTS(country) OR EXISTS(facsimile_number) OR EXISTS(telephone_number) OR EXISTS(electronic_mail_address) OR EXISTS(telex_number)">
      </where>
    </entity>

    <entity
      name="alternate_product_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="definition"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="alternate">
        <typename
          name="product"/>
      </explicit>
      <explicit
        name="base">
        <typename
          name="product"/>
      </explicit>
      <explicit
        name="basis">
        <typename
          name="text"/>
      </explicit>
      <unique
        label="ur1">
        <unique.attribute
          attribute="alternate"/>
        <unique.attribute
          attribute="base"/>
      </unique>
      <where
        label="wr1"
        expression="alternate :&lt;&gt;: base">
      </where>
    </entity>

    <entity
      name="amount_of_substance_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="'PDM_SCHEMA.AMOUNT_OF_SUBSTANCE_UNIT' IN TYPEOF(SELF\measure_with_unit.unit_component)">
      </where>
    </entity>

    <entity
      name="amount_of_substance_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 1.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
      </where>
    </entity>

    <entity
      name="application_context">
      <explicit
        name="application">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <derived
        name="id"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <inverse
        name="context_elements"
        entity="application_context_element"
        attribute="frame_of_reference">
        <inverse.aggregate
          type="SET"
          lower="1"
          upper="?"/>
      </inverse>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
      <where
        label="wr2"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;=1">
      </where>
    </entity>

    <entity
      name="application_context_element"
      super.expression="(ONEOF(product_concept_context,product_context, product_definition_context))">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="frame_of_reference">
        <typename
          name="application_context"/>
      </explicit>
    </entity>

    <entity
      name="application_context_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_context">
        <typename
          name="application_context"/>
      </explicit>
      <explicit
        name="related_context">
        <typename
          name="application_context"/>
      </explicit>
    </entity>

    <entity
      name="application_protocol_definition">
      <explicit
        name="status">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="application_interpreted_model_schema_name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="application_protocol_year">
        <typename
          name="year_number"/>
      </explicit>
      <explicit
        name="application">
        <typename
          name="application_context"/>
      </explicit>
    </entity>

    <entity
      name="applied_action_assignment"
      supertypes="action_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="action_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_action_request_assignment"
      supertypes="action_request_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="action_request_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_approval_assignment"
      supertypes="approval_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="approval_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_certification_assignment"
      supertypes="certification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="certification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_contract_assignment"
      supertypes="contract_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="contract_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_date_and_time_assignment"
      supertypes="date_and_time_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="date_and_time_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_date_assignment"
      supertypes="date_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="date_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_document_reference"
      supertypes="document_reference">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="document_reference_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_document_usage_constraint_assignment"
      supertypes="document_usage_constraint_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="document_reference_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_effectivity_assignment"
      supertypes="effectivity_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="effectivity_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_event_occurrence_assignment"
      supertypes="event_occurrence_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="event_occurrence_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_external_identification_assignment"
      supertypes="external_identification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="external_identification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_identification_assignment"
      supertypes="identification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="identification_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_organization_assignment"
      supertypes="organization_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organization_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_organizational_project_assignment"
      supertypes="organizational_project_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organizational_project_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_person_and_organization_assignment"
      supertypes="person_and_organization_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="person_and_organization_item"/>
      </explicit>
    </entity>

    <entity
      name="applied_security_classification_assignment"
      supertypes="security_classification_assignment">
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="security_classification_item"/>
      </explicit>
    </entity>

    <entity
      name="approval">
      <explicit
        name="status">
        <typename
          name="approval_status"/>
      </explicit>
      <explicit
        name="level">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="approval_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_approval">
        <typename
          name="approval"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE'))&lt;= 1">
      </where>
    </entity>

    <entity
      name="approval_date_time">
      <explicit
        name="date_time">
        <typename
          name="date_time_select"/>
      </explicit>
      <explicit
        name="dated_approval">
        <typename
          name="approval"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE'))&lt;= 1">
      </where>
    </entity>

    <entity
      name="approval_person_organization">
      <explicit
        name="person_organization">
        <typename
          name="person_organization_select"/>
      </explicit>
      <explicit
        name="authorized_approval">
        <typename
          name="approval"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="approval_role"/>
      </explicit>
    </entity>

    <entity
      name="approval_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_approval">
        <typename
          name="approval"/>
      </explicit>
      <explicit
        name="related_approval">
        <typename
          name="approval"/>
      </explicit>
    </entity>

    <entity
      name="approval_role">
      <explicit
        name="role">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="approval_status">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="area_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="'PDM_SCHEMA.AREA_UNIT' IN TYPEOF(SELF\measure_with_unit.unit_component)">
      </where>
    </entity>

    <entity
      name="area_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="(SELF\named_unit.dimensions.length_exponent = 2.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
      </where>
    </entity>

    <entity
      name="assembly_component_usage"
      super.expression="(ONEOF(next_assembly_usage_occurrence, specified_higher_usage_occurrence,promissory_usage_occurrence))"
      supertypes="product_definition_usage">
      <explicit
        name="reference_designator"
        optional="YES">
        <typename
          name="identifier"/>
      </explicit>
    </entity>

    <entity
      name="assembly_component_usage_substitute">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="definition"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="base">
        <typename
          name="assembly_component_usage"/>
      </explicit>
      <explicit
        name="substitute">
        <typename
          name="assembly_component_usage"/>
      </explicit>
      <unique
        label="ur1">
        <unique.attribute
          attribute="base"/>
        <unique.attribute
          attribute="substitute"/>
      </unique>
      <where
        label="wr1"
        expression="base.relating_product_definition :=: substitute. relating_product_definition">
      </where>
      <where
        label="wr2"
        expression="base :&lt;&gt;: substitute">
      </where>
    </entity>

    <entity
      name="axis2_placement_2d"
      supertypes="placement">
      <explicit
        name="ref_direction"
        optional="YES">
        <typename
          name="direction"/>
      </explicit>
      <derived
        name="p"
        expression="build_2axes(ref_direction)">
        <aggregate
          type="LIST"
          lower="2"
          upper="2"/>
        <typename
          name="direction"/>
      </derived>
      <where
        label="wr1"
        expression="SELF\geometric_representation_item.dim = 2">
      </where>
    </entity>

    <entity
      name="axis2_placement_3d"
      supertypes="placement">
      <explicit
        name="axis"
        optional="YES">
        <typename
          name="direction"/>
      </explicit>
      <explicit
        name="ref_direction"
        optional="YES">
        <typename
          name="direction"/>
      </explicit>
      <derived
        name="p"
        expression="build_axes(axis,ref_direction)">
        <aggregate
          type="LIST"
          lower="3"
          upper="3"/>
        <typename
          name="direction"/>
      </derived>
      <where
        label="wr1"
        expression="SELF\placement.location.dim = 3">
      </where>
      <where
        label="wr2"
        expression="(NOT (EXISTS(axis))) OR (axis.dim = 3)">
      </where>
      <where
        label="wr3"
        expression="(NOT (EXISTS(ref_direction))) OR (ref_direction.dim = 3)">
      </where>
      <where
        label="wr4"
        expression="(NOT (EXISTS(axis))) OR (NOT (EXISTS(ref_direction))) OR (cross_product(axis,ref_direction).magnitude &gt; 0.0)">
      </where>
    </entity>

    <entity
      name="calendar_date"
      supertypes="date">
      <explicit
        name="day_component">
        <typename
          name="day_in_month_number"/>
      </explicit>
      <explicit
        name="month_component">
        <typename
          name="month_in_year_number"/>
      </explicit>
      <where
        label="wr1"
        expression="valid_calendar_date(SELF)">
      </where>
    </entity>

    <entity
      name="cartesian_point"
      supertypes="point">
      <explicit
        name="coordinates">
        <aggregate
          type="LIST"
          lower="1"
          upper="3"/>
        <typename
          name="length_measure"/>
      </explicit>
    </entity>

    <entity
      name="cartesian_transformation_operator"
      super.expression="(ONEOF(cartesian_transformation_operator_2d, cartesian_transformation_operator_3d))"
      supertypes="geometric_representation_item functionally_defined_transformation">
      <explicit
        name="axis1"
        optional="YES">
        <typename
          name="direction"/>
      </explicit>
      <explicit
        name="axis2"
        optional="YES">
        <typename
          name="direction"/>
      </explicit>
      <explicit
        name="local_origin">
        <typename
          name="cartesian_point"/>
      </explicit>
      <explicit
        name="scale"
        optional="YES">
        <builtintype
          type="REAL"/>
      </explicit>
      <derived
        name="scl"
        expression="NVL(scale,1.0)">
        <builtintype
          type="REAL"/>
      </derived>
      <where
        label="wr1"
        expression="scl &gt; 0.0">
      </where>
    </entity>

    <entity
      name="cartesian_transformation_operator_2d"
      supertypes="cartesian_transformation_operator">
      <derived
        name="u"
        expression="base_axis(2,SELF\ cartesian_transformation_operator.axis1,SELF\ cartesian_transformation_operator.axis2,?)">
        <aggregate
          type="LIST"
          lower="2"
          upper="2"/>
        <typename
          name="direction"/>
      </derived>
      <where
        label="wr1"
        expression="SELF\geometric_representation_item.dim = 2">
      </where>
    </entity>

    <entity
      name="cartesian_transformation_operator_3d"
      supertypes="cartesian_transformation_operator">
      <explicit
        name="axis3"
        optional="YES">
        <typename
          name="direction"/>
      </explicit>
      <derived
        name="u"
        expression="base_axis(3,SELF\ cartesian_transformation_operator.axis1,SELF\ cartesian_transformation_operator.axis2,axis3)">
        <aggregate
          type="LIST"
          lower="3"
          upper="3"/>
        <typename
          name="direction"/>
      </derived>
      <where
        label="wr1"
        expression="SELF\geometric_representation_item.dim = 3">
      </where>
    </entity>

    <entity
      name="certification">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="purpose">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="kind">
        <typename
          name="certification_type"/>
      </explicit>
    </entity>

    <entity
      name="certification_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_certification">
        <typename
          name="certification"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE'))&lt;= 1">
      </where>
    </entity>

    <entity
      name="certification_type">
      <explicit
        name="description">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="characterized_object">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="configuration_design">
      <explicit
        name="configuration">
        <typename
          name="configuration_item"/>
      </explicit>
      <explicit
        name="design">
        <typename
          name="configuration_design_item"/>
      </explicit>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <unique
        label="ur1">
        <unique.attribute
          attribute="configuration"/>
        <unique.attribute
          attribute="design"/>
      </unique>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
      </where>
      <where
        label="wr2"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="configuration_effectivity"
      supertypes="product_definition_effectivity">
      <explicit
        name="configuration">
        <typename
          name="configuration_design"/>
      </explicit>
      <unique
        label="ur1">
        <unique.attribute
          attribute="configuration"/>
        <unique.attribute
          attribute="usage"/>
        <unique.attribute
          attribute="id"/>
      </unique>
      <where
        label="wr1"
        expression="'PDM_SCHEMA.PRODUCT_DEFINITION_USAGE' IN TYPEOF(SELF\ product_definition_effectivity.usage)">
      </where>
    </entity>

    <entity
      name="configuration_item">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="item_concept">
        <typename
          name="product_concept"/>
      </explicit>
      <explicit
        name="purpose"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="context_dependent_shape_representation">
      <explicit
        name="representation_relation">
        <typename
          name="shape_representation_relationship"/>
      </explicit>
      <explicit
        name="represented_product_relation">
        <typename
          name="product_definition_shape"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <where
        label="wr1"
        expression="'PDM_SCHEMA.PRODUCT_DEFINITION_RELATIONSHIP' IN TYPEOF(SELF. represented_product_relation.definition)">
      </where>
      <where
        label="wr2"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
      <where
        label="wr3"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="context_dependent_unit"
      supertypes="named_unit">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="contract">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="purpose">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="kind">
        <typename
          name="contract_type"/>
      </explicit>
    </entity>

    <entity
      name="contract_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_contract">
        <typename
          name="contract"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE'))&lt;= 1">
      </where>
    </entity>

    <entity
      name="contract_type">
      <explicit
        name="description">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="conversion_based_unit"
      supertypes="named_unit">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="conversion_factor">
        <typename
          name="measure_with_unit"/>
      </explicit>
    </entity>

    <entity
      name="coordinated_universal_time_offset">
      <explicit
        name="hour_offset">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="minute_offset"
        optional="YES">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="sense">
        <typename
          name="ahead_or_behind"/>
      </explicit>
      <derived
        name="actual_minute_offset"
        expression="NVL(minute_offset,0)">
        <builtintype
          type="INTEGER"/>
      </derived>
      <where
        label="wr1"
        expression="{0&lt;=hour_offset&lt;=24}">
      </where>
      <where
        label="wr2"
        expression="{0&lt;=actual_minute_offset&lt;=59}">
      </where>
      <where
        label="wr3"
        expression="NOT (((hour_offset &lt;&gt; 0) OR (actual_minute_offset &lt;&gt; 0)) AND (sense = exact))">
      </where>
    </entity>

    <entity
      name="date"
      super.expression="(calendar_date)">
      <explicit
        name="year_component">
        <typename
          name="year_number"/>
      </explicit>
    </entity>

    <entity
      name="date_and_time">
      <explicit
        name="date_component">
        <typename
          name="date"/>
      </explicit>
      <explicit
        name="time_component">
        <typename
          name="local_time"/>
      </explicit>
    </entity>

    <entity
      name="date_and_time_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_date_and_time">
        <typename
          name="date_and_time"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="date_time_role"/>
      </explicit>
    </entity>

    <entity
      name="date_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_date">
        <typename
          name="date"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="date_role"/>
      </explicit>
    </entity>

    <entity
      name="date_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="date_time_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="dated_effectivity"
      supertypes="effectivity">
      <explicit
        name="effectivity_end_date"
        optional="YES">
        <typename
          name="date_time_or_event_occurrence"/>
      </explicit>
      <explicit
        name="effectivity_start_date">
        <typename
          name="date_time_or_event_occurrence"/>
      </explicit>
    </entity>

    <entity
      name="derived_unit">
      <explicit
        name="elements">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="derived_unit_element"/>
      </explicit>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <where
        label="wr1"
        expression="(SIZEOF(elements) &gt; 1) OR ((SIZEOF(elements) = 1) AND (elements[1]. exponent &lt;&gt; 1.0))">
      </where>
      <where
        label="wr2"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="derived_unit_element">
      <explicit
        name="unit">
        <typename
          name="named_unit"/>
      </explicit>
      <explicit
        name="exponent">
        <builtintype
          type="REAL"/>
      </explicit>
    </entity>

    <entity
      name="description_attribute">
      <explicit
        name="attribute_value">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="described_item">
        <typename
          name="description_attribute_select"/>
      </explicit>
    </entity>

    <entity
      name="descriptive_representation_item"
      supertypes="representation_item">
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="dimensional_exponents">
      <explicit
        name="length_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="mass_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="time_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="electric_current_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="thermodynamic_temperature_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="amount_of_substance_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
      <explicit
        name="luminous_intensity_exponent">
        <builtintype
          type="REAL"/>
      </explicit>
    </entity>

    <entity
      name="directed_action"
      supertypes="executed_action">
      <explicit
        name="directive">
        <typename
          name="action_directive"/>
      </explicit>
    </entity>

    <entity
      name="direction"
      supertypes="geometric_representation_item">
      <explicit
        name="direction_ratios">
        <aggregate
          type="LIST"
          lower="2"
          upper="3"/>
        <builtintype
          type="REAL"/>
      </explicit>
      <where
        label="wr1"
        expression="SIZEOF(QUERY(tmp &lt;* direction_ratios | tmp &lt;&gt; 0.0)) &gt; 0">
      </where>
    </entity>

    <entity
      name="document">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="kind">
        <typename
          name="document_type"/>
      </explicit>
      <inverse
        name="representation_types"
        entity="document_representation_type"
        attribute="represented_document">
        <inverse.aggregate
          type="SET"
          lower="0"
          upper="?"/>
      </inverse>
    </entity>

    <entity
      name="document_file"
      supertypes="document characterized_object">
      <where
        label="wr1"
        expression="SELF\characterized_object.name = ''">
      </where>
      <where
        label="wr2"
        expression="NOT EXISTS(SELF\characterized_object.description)">
      </where>
      <where
        label="wr3"
        expression="SIZEOF(QUERY(drt &lt;* SELF\document.representation_types | drt.name IN ['digital','physical'])) = 1">
      </where>
    </entity>

    <entity
      name="document_product_association">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_document">
        <typename
          name="document"/>
      </explicit>
      <explicit
        name="related_product">
        <typename
          name="product_or_formation_or_definition"/>
      </explicit>
    </entity>

    <entity
      name="document_product_equivalence"
      supertypes="document_product_association">
      <where
        label="wr1"
        expression="SELF.name = 'equivalence'">
      </where>
      <where
        label="wr2"
        expression="NOT ('PDM_SCHEMA.' + 'PRODUCT' IN TYPEOF(SELF.related_product)) OR ((SELF.relating_document.kind.product_data_type ='configuration controlled document') AND (SIZEOF(QUERY(prpc &lt;* USEDIN(SELF.related_product,'PDM_SCHEMA.' +'PRODUCT_RELATED_PRODUCT_CATEGORY.' + 'PRODUCTS') | prpc.name ='document')) = 1))">
      </where>
      <where
        label="wr3"
        expression="NOT ('PDM_SCHEMA.' + 'PRODUCT_DEFINITION_FORMATION' IN TYPEOF(SELF. related_product)) OR ((SELF.relating_document.kind.product_data_type ='configuration controlled document version') AND (SIZEOF(QUERY(prpc &lt;* USEDIN(SELF.related_product\product_definition_formation.of_product,'PDM_SCHEMA.PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS') | prpc.name ='document')) = 1))">
      </where>
      <where
        label="wr4"
        expression="NOT ('PDM_SCHEMA.' + 'PRODUCT_DEFINITION' IN TYPEOF(SELF. related_product)) OR ((SELF.relating_document.kind.product_data_type ='configuration controlled document definition') AND (SIZEOF(QUERY(prpc &lt;* USEDIN(SELF.related_product\product_definition.formation. of_product,'PDM_SCHEMA.PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS') | prpc.name = 'document')) = 1))">
      </where>
    </entity>

    <entity
      name="document_reference"
      abstract.supertype="YES">
      <explicit
        name="assigned_document">
        <typename
          name="document"/>
      </explicit>
      <explicit
        name="source">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE'))&lt;= 1">
      </where>
    </entity>

    <entity
      name="document_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_document">
        <typename
          name="document"/>
      </explicit>
      <explicit
        name="related_document">
        <typename
          name="document"/>
      </explicit>
    </entity>

    <entity
      name="document_representation_type">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="represented_document">
        <typename
          name="document"/>
      </explicit>
    </entity>

    <entity
      name="document_type">
      <explicit
        name="product_data_type">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="document_usage_constraint">
      <explicit
        name="source">
        <typename
          name="document"/>
      </explicit>
      <explicit
        name="subject_element">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="subject_element_value">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="document_usage_constraint_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_document_usage">
        <typename
          name="document_usage_constraint"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="document_usage_role"/>
      </explicit>
    </entity>

    <entity
      name="document_usage_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="effectivity"
      super.expression="(ONEOF(serial_numbered_effectivity,dated_effectivity, lot_effectivity,time_interval_based_effectivity))">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
      </where>
      <where
        label="wr2"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="effectivity_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_effectivity">
        <typename
          name="effectivity"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE'))&lt;= 1">
      </where>
    </entity>

    <entity
      name="effectivity_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="related_effectivity">
        <typename
          name="effectivity"/>
      </explicit>
      <explicit
        name="relating_effectivity">
        <typename
          name="effectivity"/>
      </explicit>
    </entity>

    <entity
      name="electric_current_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="'PDM_SCHEMA.ELECTRIC_CURRENT_UNIT' IN TYPEOF(SELF\measure_with_unit. unit_component)">
      </where>
    </entity>

    <entity
      name="electric_current_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 1.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
      </where>
    </entity>

    <entity
      name="event_occurrence">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="event_occurrence_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_event_occurrence">
        <typename
          name="event_occurrence"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="event_occurrence_role"/>
      </explicit>
    </entity>

    <entity
      name="event_occurrence_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="executed_action"
      supertypes="action">
    </entity>

    <entity
      name="external_identification_assignment"
      abstract.supertype="YES"
      supertypes="identification_assignment">
      <explicit
        name="source">
        <typename
          name="external_source"/>
      </explicit>
    </entity>

    <entity
      name="external_source">
      <explicit
        name="source_id">
        <typename
          name="source_item"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="founded_item">
    </entity>

    <entity
      name="functionally_defined_transformation">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="general_property">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="general_property_association">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="base_definition">
        <typename
          name="general_property"/>
      </explicit>
      <explicit
        name="derived_definition">
        <typename
          name="derived_property_select"/>
      </explicit>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(derived_definition,'PDM_SCHEMA.' +'GENERAL_PROPERTY_ASSOCIATION.' + 'DERIVED_DEFINITION')) = 1">
      </where>
      <where
        label="wr2"
        expression="derived_definition.name = base_definition.name">
      </where>
    </entity>

    <entity
      name="general_property_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_property">
        <typename
          name="general_property"/>
      </explicit>
      <explicit
        name="related_property">
        <typename
          name="general_property"/>
      </explicit>
    </entity>

    <entity
      name="geometric_representation_context"
      supertypes="representation_context">
      <explicit
        name="coordinate_space_dimension">
        <typename
          name="dimension_count"/>
      </explicit>
    </entity>

    <entity
      name="geometric_representation_item"
      super.expression="(ONEOF(point,direction,vector,placement, cartesian_transformation_operator))"
      supertypes="representation_item">
      <derived
        name="dim"
        expression="dimension_of(SELF)">
        <typename
          name="dimension_count"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(QUERY(using_rep &lt;* using_representations(SELF) | NOT ('PDM_SCHEMA.GEOMETRIC_REPRESENTATION_CONTEXT' IN TYPEOF(using_rep. context_of_items)))) = 0">
      </where>
    </entity>

    <entity
      name="global_uncertainty_assigned_context"
      supertypes="representation_context">
      <explicit
        name="uncertainty">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="uncertainty_measure_with_unit"/>
      </explicit>
    </entity>

    <entity
      name="global_unit_assigned_context"
      supertypes="representation_context">
      <explicit
        name="units">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="unit"/>
      </explicit>
    </entity>

    <entity
      name="id_attribute">
      <explicit
        name="attribute_value">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="identified_item">
        <typename
          name="id_attribute_select"/>
      </explicit>
    </entity>

    <entity
      name="identification_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="identification_role"/>
      </explicit>
    </entity>

    <entity
      name="identification_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="item_defined_transformation">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="transform_item_1">
        <typename
          name="representation_item"/>
      </explicit>
      <explicit
        name="transform_item_2">
        <typename
          name="representation_item"/>
      </explicit>
    </entity>

    <entity
      name="length_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="'PDM_SCHEMA.LENGTH_UNIT' IN TYPEOF(SELF\measure_with_unit. unit_component)">
      </where>
    </entity>

    <entity
      name="length_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="(SELF\named_unit.dimensions.length_exponent = 1.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
      </where>
    </entity>

    <entity
      name="local_time">
      <explicit
        name="hour_component">
        <typename
          name="hour_in_day"/>
      </explicit>
      <explicit
        name="minute_component"
        optional="YES">
        <typename
          name="minute_in_hour"/>
      </explicit>
      <explicit
        name="second_component"
        optional="YES">
        <typename
          name="second_in_minute"/>
      </explicit>
      <explicit
        name="zone">
        <typename
          name="coordinated_universal_time_offset"/>
      </explicit>
      <where
        label="wr1"
        expression="valid_time(SELF)">
      </where>
    </entity>

    <entity
      name="lot_effectivity"
      supertypes="effectivity">
      <explicit
        name="effectivity_lot_id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="effectivity_lot_size">
        <typename
          name="measure_with_unit"/>
      </explicit>
    </entity>

    <entity
      name="luminous_intensity_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="'PDM_SCHEMA.LUMINOUS_INTENSITY_UNIT' IN TYPEOF(SELF\measure_with_unit. unit_component)">
      </where>
    </entity>

    <entity
      name="luminous_intensity_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 1.0)">
      </where>
    </entity>

    <entity
      name="make_from_usage_option"
      supertypes="product_definition_usage">
      <explicit
        name="ranking">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="ranking_rationale">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="quantity">
        <typename
          name="measure_with_unit"/>
      </explicit>
      <where
        label="wr1"
        expression="(NOT ('NUMBER' IN TYPEOF(quantity.value_component))) OR (quantity. value_component &gt; 0)">
      </where>
    </entity>

    <entity
      name="mapped_item"
      supertypes="representation_item">
      <explicit
        name="mapping_source">
        <typename
          name="representation_map"/>
      </explicit>
      <explicit
        name="mapping_target">
        <typename
          name="representation_item"/>
      </explicit>
      <where
        label="wr1"
        expression="acyclic_mapped_representation(using_representations(SELF),[SELF])">
      </where>
    </entity>

    <entity
      name="mass_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="'PDM_SCHEMA.MASS_UNIT' IN TYPEOF(SELF\measure_with_unit.unit_component)">
      </where>
    </entity>

    <entity
      name="mass_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\ named_unit.dimensions.mass_exponent = 1.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
      </where>
    </entity>

    <entity
      name="measure_representation_item"
      supertypes="representation_item measure_with_unit">
    </entity>

    <entity
      name="measure_with_unit"
      super.expression="(ONEOF(length_measure_with_unit,mass_measure_with_unit, time_measure_with_unit,electric_current_measure_with_unit, thermodynamic_temperature_measure_with_unit, amount_of_substance_measure_with_unit, luminous_intensity_measure_with_unit, plane_angle_measure_with_unit,solid_angle_measure_with_unit, area_measure_with_unit,volume_measure_with_unit, ratio_measure_with_unit))">
      <explicit
        name="value_component">
        <typename
          name="measure_value"/>
      </explicit>
      <explicit
        name="unit_component">
        <typename
          name="unit"/>
      </explicit>
      <where
        label="wr1"
        expression="valid_units(SELF)">
      </where>
    </entity>

    <entity
      name="name_attribute">
      <explicit
        name="attribute_value">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="named_item">
        <typename
          name="name_attribute_select"/>
      </explicit>
    </entity>

    <entity
      name="named_unit"
      super.expression="(ONEOF(si_unit,conversion_based_unit,context_dependent_unit) ANDOR ONEOF(length_unit,mass_unit,time_unit, electric_current_unit,thermodynamic_temperature_unit, amount_of_substance_unit,luminous_intensity_unit, plane_angle_unit,solid_angle_unit,area_unit,volume_unit, ratio_unit))">
      <explicit
        name="dimensions">
        <typename
          name="dimensional_exponents"/>
      </explicit>
    </entity>

    <entity
      name="next_assembly_usage_occurrence"
      supertypes="assembly_component_usage">
    </entity>

    <entity
      name="object_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="organization">
      <explicit
        name="id"
        optional="YES">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="organization_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_organization">
        <typename
          name="organization"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="organization_role"/>
      </explicit>
    </entity>

    <entity
      name="organization_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_organization">
        <typename
          name="organization"/>
      </explicit>
      <explicit
        name="related_organization">
        <typename
          name="organization"/>
      </explicit>
    </entity>

    <entity
      name="organization_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="organizational_address"
      supertypes="address">
      <explicit
        name="organizations">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organization"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="organizational_project">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="responsible_organizations">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="organization"/>
      </explicit>
      <derived
        name="id"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;=1">
      </where>
    </entity>

    <entity
      name="organizational_project_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_organizational_project">
        <typename
          name="organizational_project"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="organizational_project_role"/>
      </explicit>
    </entity>

    <entity
      name="organizational_project_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_organizational_project">
        <typename
          name="organizational_project"/>
      </explicit>
      <explicit
        name="related_organizational_project">
        <typename
          name="organizational_project"/>
      </explicit>
    </entity>

    <entity
      name="organizational_project_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="person">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="last_name"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="first_name"
        optional="YES">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="middle_names"
        optional="YES">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="prefix_titles"
        optional="YES">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="suffix_titles"
        optional="YES">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="label"/>
      </explicit>
      <where
        label="wr1"
        expression="EXISTS(last_name) OR EXISTS(first_name)">
      </where>
    </entity>

    <entity
      name="person_and_organization">
      <explicit
        name="the_person">
        <typename
          name="person"/>
      </explicit>
      <explicit
        name="the_organization">
        <typename
          name="organization"/>
      </explicit>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
      </where>
      <where
        label="wr2"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="person_and_organization_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_person_and_organization">
        <typename
          name="person_and_organization"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="person_and_organization_role"/>
      </explicit>
    </entity>

    <entity
      name="person_and_organization_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="personal_address"
      supertypes="address">
      <explicit
        name="people">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="person"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="placement"
      super.expression="(ONEOF(axis2_placement_2d,axis2_placement_3d))"
      supertypes="geometric_representation_item">
      <explicit
        name="location">
        <typename
          name="cartesian_point"/>
      </explicit>
    </entity>

    <entity
      name="plane_angle_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="'PDM_SCHEMA.PLANE_ANGLE_UNIT' IN TYPEOF(SELF\measure_with_unit. unit_component)">
      </where>
    </entity>

    <entity
      name="plane_angle_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
      </where>
    </entity>

    <entity
      name="point"
      super.expression="(cartesian_point)"
      supertypes="geometric_representation_item">
    </entity>

    <entity
      name="product">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="frame_of_reference">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="product_context"/>
      </explicit>
    </entity>

    <entity
      name="product_category">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <derived
        name="id"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;=1">
      </where>
    </entity>

    <entity
      name="product_category_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="category">
        <typename
          name="product_category"/>
      </explicit>
      <explicit
        name="sub_category">
        <typename
          name="product_category"/>
      </explicit>
      <where
        label="wr1"
        expression="acyclic_product_category_relationship(SELF,[SELF.sub_category])">
      </where>
    </entity>

    <entity
      name="product_concept">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="market_context">
        <typename
          name="product_concept_context"/>
      </explicit>
      <unique
        label="ur1">
        <unique.attribute
          attribute="id"/>
      </unique>
    </entity>

    <entity
      name="product_concept_context"
      supertypes="application_context_element">
      <explicit
        name="market_segment_type">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="product_context"
      supertypes="application_context_element">
      <explicit
        name="discipline_type">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="product_definition">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="formation">
        <typename
          name="product_definition_formation"/>
      </explicit>
      <explicit
        name="frame_of_reference">
        <typename
          name="product_definition_context"/>
      </explicit>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="product_definition_context"
      supertypes="application_context_element">
      <explicit
        name="life_cycle_stage">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_context_association">
      <explicit
        name="definition">
        <typename
          name="product_definition"/>
      </explicit>
      <explicit
        name="frame_of_reference">
        <typename
          name="product_definition_context"/>
      </explicit>
      <explicit
        name="role">
        <typename
          name="product_definition_context_role"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_context_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_effectivity"
      supertypes="effectivity">
      <explicit
        name="usage">
        <typename
          name="product_definition_relationship"/>
      </explicit>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'EFFECTIVITY_ASSIGNMENT.ASSIGNED_EFFECTIVITY')) = 0">
      </where>
    </entity>

    <entity
      name="product_definition_formation">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="of_product">
        <typename
          name="product"/>
      </explicit>
      <unique
        label="ur1">
        <unique.attribute
          attribute="id"/>
        <unique.attribute
          attribute="of_product"/>
      </unique>
    </entity>

    <entity
      name="product_definition_formation_relationship">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_product_definition_formation">
        <typename
          name="product_definition_formation"/>
      </explicit>
      <explicit
        name="related_product_definition_formation">
        <typename
          name="product_definition_formation"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_formation_with_specified_source"
      supertypes="product_definition_formation">
      <explicit
        name="make_or_buy">
        <typename
          name="source"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_relationship">
      <explicit
        name="id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_product_definition">
        <typename
          name="product_definition"/>
      </explicit>
      <explicit
        name="related_product_definition">
        <typename
          name="product_definition"/>
      </explicit>
    </entity>

    <entity
      name="product_definition_shape"
      supertypes="property_definition">
      <unique
        label="ur1">
        <unique.attribute
          entity-ref="property_definition"
          attribute="definition"/>
      </unique>
      <where
        label="wr1"
        expression="SIZEOF(['PDM_SCHEMA.CHARACTERIZED_PRODUCT_DEFINITION','PDM_SCHEMA.CHARACTERIZED_OBJECT'] * TYPEOF(SELF\property_definition. definition)) &gt; 0">
      </where>
    </entity>

    <entity
      name="product_definition_usage"
      super.expression="(ONEOF(make_from_usage_option,assembly_component_usage))"
      supertypes="product_definition_relationship">
      <unique
        label="ur1">
        <unique.attribute
          entity-ref="product_definition_relationship"
          attribute="id"/>
        <unique.attribute
          entity-ref="product_definition_relationship"
          attribute="relating_product_definition"/>
        <unique.attribute
          entity-ref="product_definition_relationship"
          attribute="related_product_definition"/>
      </unique>
      <where
        label="wr1"
        expression="acyclic_product_definition_relationship(SELF,[SELF\ product_definition_relationship.related_product_definition],'PDM_SCHEMA.PRODUCT_DEFINITION_USAGE')">
      </where>
    </entity>

    <entity
      name="product_definition_with_associated_documents"
      supertypes="product_definition">
      <explicit
        name="documentation_ids">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="document"/>
      </explicit>
    </entity>

    <entity
      name="product_related_product_category"
      supertypes="product_category">
      <explicit
        name="products">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="product"/>
      </explicit>
    </entity>

    <entity
      name="promissory_usage_occurrence"
      supertypes="assembly_component_usage">
    </entity>

    <entity
      name="property_definition">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="definition">
        <typename
          name="characterized_definition"/>
      </explicit>
      <derived
        name="id"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;=1">
      </where>
    </entity>

    <entity
      name="property_definition_representation">
      <explicit
        name="definition">
        <typename
          name="represented_definition"/>
      </explicit>
      <explicit
        name="used_representation">
        <typename
          name="representation"/>
      </explicit>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <derived
        name="name"
        expression="get_name_value(SELF)">
        <typename
          name="label"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
      <where
        label="wr2"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'NAME_ATTRIBUTE.NAMED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="quantified_assembly_component_usage"
      supertypes="assembly_component_usage">
      <explicit
        name="quantity">
        <typename
          name="measure_with_unit"/>
      </explicit>
      <where
        label="wr1"
        expression="(NOT ('NUMBER' IN TYPEOF(quantity.value_component))) OR (quantity. value_component &gt; 0)">
      </where>
    </entity>

    <entity
      name="ratio_measure_with_unit"
      supertypes="measure_with_unit">
      <where
        label="wr1"
        expression="'PDM_SCHEMA.RATIO_UNIT' IN TYPEOF(SELF\measure_with_unit. unit_component)">
      </where>
    </entity>

    <entity
      name="ratio_unit"
      supertypes="named_unit">
      <where
        label="wr1"
        expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
      </where>
    </entity>

    <entity
      name="relative_event_occurrence"
      supertypes="event_occurrence">
      <explicit
        name="base_event">
        <typename
          name="event_occurrence"/>
      </explicit>
      <explicit
        name="offset">
        <typename
          name="time_measure_with_unit"/>
      </explicit>
    </entity>

    <entity
      name="representation">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="items">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="representation_item"/>
      </explicit>
      <explicit
        name="context_of_items">
        <typename
          name="representation_context"/>
      </explicit>
      <derived
        name="id"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <derived
        name="description"
        expression="get_description_value(SELF)">
        <typename
          name="text"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;=1">
      </where>
      <where
        label="wr2"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' +'DESCRIPTION_ATTRIBUTE.DESCRIBED_ITEM')) &lt;= 1">
      </where>
    </entity>

    <entity
      name="representation_context">
      <explicit
        name="context_identifier">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="context_type">
        <typename
          name="text"/>
      </explicit>
      <inverse
        name="representations_in_context"
        entity="representation"
        attribute="context_of_items">
        <inverse.aggregate
          type="SET"
          lower="1"
          upper="?"/>
      </inverse>
    </entity>

    <entity
      name="representation_item">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <where
        label="wr1"
        expression="SIZEOF(using_representations(SELF)) &gt; 0">
      </where>
    </entity>

    <entity
      name="representation_map">
      <explicit
        name="mapping_origin">
        <typename
          name="representation_item"/>
      </explicit>
      <explicit
        name="mapped_representation">
        <typename
          name="representation"/>
      </explicit>
      <inverse
        name="map_usage"
        entity="mapped_item"
        attribute="mapping_source">
        <inverse.aggregate
          type="SET"
          lower="1"
          upper="?"/>
      </inverse>
      <where
        label="wr1"
        expression="item_in_context(SELF.mapping_origin,SELF.mapped_representation. context_of_items)">
      </where>
    </entity>

    <entity
      name="representation_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="rep_1">
        <typename
          name="representation"/>
      </explicit>
      <explicit
        name="rep_2">
        <typename
          name="representation"/>
      </explicit>
    </entity>

    <entity
      name="representation_relationship_with_transformation"
      supertypes="representation_relationship">
      <explicit
        name="transformation_operator">
        <typename
          name="transformation"/>
      </explicit>
      <where
        label="wr1"
        expression="SELF\representation_relationship.rep_1.context_of_items :&lt;&gt;: SELF\ representation_relationship.rep_2.context_of_items">
      </where>
    </entity>

    <entity
      name="role_association">
      <explicit
        name="role">
        <typename
          name="object_role"/>
      </explicit>
      <explicit
        name="item_with_role">
        <typename
          name="role_select"/>
      </explicit>
    </entity>

    <entity
      name="security_classification">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="purpose">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="security_level">
        <typename
          name="security_classification_level"/>
      </explicit>
    </entity>

    <entity
      name="security_classification_assignment"
      abstract.supertype="YES">
      <explicit
        name="assigned_security_classification">
        <typename
          name="security_classification"/>
      </explicit>
      <derived
        name="role"
        expression="get_role(SELF)">
        <typename
          name="object_role"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE'))&lt;= 1">
      </where>
    </entity>

    <entity
      name="security_classification_level">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
    </entity>

    <entity
      name="serial_numbered_effectivity"
      supertypes="effectivity">
      <explicit
        name="effectivity_start_id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="effectivity_end_id"
        optional="YES">
        <typename
          name="identifier"/>
      </explicit>
    </entity>

    <entity
      name="shape_aspect">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="of_shape">
        <typename
          name="product_definition_shape"/>
      </explicit>
      <explicit
        name="product_definitional">
        <builtintype
          type="LOGICAL"/>
      </explicit>
      <derived
        name="id"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;=1">
      </where>
    </entity>

    <entity
      name="shape_aspect_relationship">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="relating_shape_aspect">
        <typename
          name="shape_aspect"/>
      </explicit>
      <explicit
        name="related_shape_aspect">
        <typename
          name="shape_aspect"/>
      </explicit>
      <derived
        name="id"
        expression="get_id_value(SELF)">
        <typename
          name="identifier"/>
      </derived>
      <where
        label="wr1"
        expression="SIZEOF(USEDIN(SELF,'PDM_SCHEMA.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;=1">
      </where>
    </entity>

    <entity
      name="shape_definition_representation"
      supertypes="property_definition_representation">
      <where
        label="wr1"
        expression="('PDM_SCHEMA.PRODUCT_DEFINITION_SHAPE' IN TYPEOF(SELF.definition)) OR('PDM_SCHEMA.SHAPE_DEFINITION' IN TYPEOF(SELF.definition.definition))">
      </where>
      <where
        label="wr2"
        expression="'PDM_SCHEMA.SHAPE_REPRESENTATION' IN TYPEOF(SELF.used_representation)">
      </where>
    </entity>

    <entity
      name="shape_representation"
      supertypes="representation">
    </entity>

    <entity
      name="shape_representation_relationship"
      supertypes="representation_relationship">
      <where
        label="wr1"
        expression="'PDM_SCHEMA.SHAPE_REPRESENTATION' IN (TYPEOF(SELF\ representation_relationship.rep_1) + TYPEOF(SELF\ representation_relationship.rep_2))">
      </where>
    </entity>

    <entity
      name="si_unit"
      supertypes="named_unit">
      <explicit
        name="prefix"
        optional="YES">
        <typename
          name="si_prefix"/>
      </explicit>
      <explicit
        name="name">
        <typename
          name="si_unit_name"/>
      </explicit>
      <derived
        name="dimensions"
        expression="dimensions_for_si_unit(name)">
        <typename
          name="dimensional_exponents"/>
        <redeclaration
          entity-ref="named_unit"/>
        </derived>
      </entity>

      <entity
        name="solid_angle_measure_with_unit"
        supertypes="measure_with_unit">
        <where
          label="wr1"
          expression="'PDM_SCHEMA.SOLID_ANGLE_UNIT' IN TYPEOF(SELF\measure_with_unit. unit_component)">
        </where>
      </entity>

      <entity
        name="solid_angle_unit"
        supertypes="named_unit">
        <where
          label="wr1"
          expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
        </where>
      </entity>

      <entity
        name="specified_higher_usage_occurrence"
        supertypes="assembly_component_usage">
        <explicit
          name="upper_usage">
          <typename
            name="assembly_component_usage"/>
        </explicit>
        <explicit
          name="next_usage">
          <typename
            name="next_assembly_usage_occurrence"/>
        </explicit>
        <unique
          label="ur1">
          <unique.attribute
            attribute="upper_usage"/>
          <unique.attribute
            attribute="next_usage"/>
        </unique>
        <where
          label="wr1"
          expression="SELF :&lt;&gt;: upper_usage">
        </where>
        <where
          label="wr2"
          expression="SELF\product_definition_relationship.relating_product_definition :=: upper_usage.relating_product_definition">
        </where>
        <where
          label="wr3"
          expression="SELF\product_definition_relationship.related_product_definition :=: next_usage.related_product_definition">
        </where>
        <where
          label="wr4"
          expression="(upper_usage.related_product_definition :=: next_usage. relating_product_definition) OR (SIZEOF(QUERY(pdr &lt;* USEDIN(upper_usage.related_product_definition,'PDM_SCHEMA.PRODUCT_DEFINITION_RELATIONSHIP.' +'RELATED_PRODUCT_DEFINITION') | pdr.relating_product_definition :=: next_usage.relating_product_definition)) = 1)">
        </where>
        <where
          label="wr5"
          expression="SIZEOF(['PDM_SCHEMA.NEXT_ASSEMBLY_USAGE_OCCURRENCE','PDM_SCHEMA.SPECIFIED_HIGHER_USAGE_OCCURRENCE'] * TYPEOF(upper_usage))= 1">
        </where>
      </entity>

      <entity
        name="thermodynamic_temperature_measure_with_unit"
        supertypes="measure_with_unit">
        <where
          label="wr1"
          expression="'PDM_SCHEMA.THERMODYNAMIC_TEMPERATURE_UNIT' IN TYPEOF(SELF\ measure_with_unit.unit_component)">
        </where>
      </entity>

      <entity
        name="thermodynamic_temperature_unit"
        supertypes="named_unit">
        <where
          label="wr1"
          expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 1.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
        </where>
      </entity>

      <entity
        name="time_interval">
        <explicit
          name="id">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="time_interval_based_effectivity"
        supertypes="effectivity">
        <explicit
          name="effectivity_period">
          <typename
            name="time_interval"/>
        </explicit>
      </entity>

      <entity
        name="time_interval_with_bounds"
        supertypes="time_interval">
        <explicit
          name="primary_bound"
          optional="YES">
          <typename
            name="date_time_or_event_occurrence"/>
        </explicit>
        <explicit
          name="secondary_bound"
          optional="YES">
          <typename
            name="date_time_or_event_occurrence"/>
        </explicit>
        <explicit
          name="duration"
          optional="YES">
          <typename
            name="time_measure_with_unit"/>
        </explicit>
        <where
          label="wr1"
          expression="NOT (EXISTS(secondary_bound) AND EXISTS(duration))">
        </where>
        <where
          label="wr2"
          expression="EXISTS(primary_bound) OR EXISTS(secondary_bound)">
        </where>
      </entity>

      <entity
        name="time_measure_with_unit"
        supertypes="measure_with_unit">
        <where
          label="wr1"
          expression="'PDM_SCHEMA.TIME_UNIT' IN TYPEOF(SELF\measure_with_unit.unit_component)">
        </where>
      </entity>

      <entity
        name="time_unit"
        supertypes="named_unit">
        <where
          label="wr1"
          expression="(SELF\named_unit.dimensions.length_exponent = 0.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 1.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
        </where>
      </entity>

      <entity
        name="uncertainty_measure_with_unit"
        supertypes="measure_with_unit">
        <explicit
          name="name">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
        <where
          label="wr1"
          expression="valid_measure_value(SELF\measure_with_unit.value_component)">
        </where>
      </entity>

      <entity
        name="value_representation_item"
        supertypes="representation_item">
        <explicit
          name="value_component">
          <typename
            name="measure_value"/>
        </explicit>
        <where
          label="wr1"
          expression="SIZEOF(QUERY(rep &lt;* using_representations(SELF) | NOT ('PDM_SCHEMA.GLOBAL_UNIT_ASSIGNED_CONTEXT' IN TYPEOF(rep. context_of_items)))) = 0">
        </where>
      </entity>

      <entity
        name="vector"
        supertypes="geometric_representation_item">
        <explicit
          name="orientation">
          <typename
            name="direction"/>
        </explicit>
        <explicit
          name="magnitude">
          <typename
            name="length_measure"/>
        </explicit>
        <where
          label="wr1"
          expression="magnitude &gt;= 0.0">
        </where>
      </entity>

      <entity
        name="versioned_action_request">
        <explicit
          name="id">
          <typename
            name="identifier"/>
        </explicit>
        <explicit
          name="version">
          <typename
            name="label"/>
        </explicit>
        <explicit
          name="purpose">
          <typename
            name="text"/>
        </explicit>
        <explicit
          name="description"
          optional="YES">
          <typename
            name="text"/>
        </explicit>
      </entity>

      <entity
        name="volume_measure_with_unit"
        supertypes="measure_with_unit">
        <where
          label="wr1"
          expression="'PDM_SCHEMA.VOLUME_UNIT' IN TYPEOF(SELF\measure_with_unit. unit_component)">
        </where>
      </entity>

      <entity
        name="volume_unit"
        supertypes="named_unit">
        <where
          label="wr1"
          expression="(SELF\named_unit.dimensions.length_exponent = 3.0) AND (SELF\ named_unit.dimensions.mass_exponent = 0.0) AND (SELF\named_unit. dimensions.time_exponent = 0.0) AND (SELF\named_unit.dimensions. electric_current_exponent = 0.0) AND (SELF\named_unit.dimensions. thermodynamic_temperature_exponent = 0.0) AND (SELF\named_unit. dimensions.amount_of_substance_exponent = 0.0) AND (SELF\named_unit. dimensions.luminous_intensity_exponent = 0.0)">
        </where>
      </entity>

      <function
        name="acyclic_mapped_representation">
        <parameter
          name="parent_set">
          <aggregate
            type="SET"/>
          <typename
            name="representation"/>
        </parameter>
        <parameter
          name="children_set">
          <aggregate
            type="SET"/>
          <typename
            name="T"/>
        </parameter>
        <builtintype
          type="BOOLEAN"/>
        <algorithm>
LOCAL
x,y : SET OF representation_item;
END_LOCAL;
x := QUERY(z &lt;* children_set | 'PDM_SCHEMA.MAPPED_ITEM' IN TYPEOF(z));
IF SIZEOF(x) &gt; 0
THEN
REPEAT i := 1 TO HIINDEX(x);
IF x[i]\mapped_item.mapping_source.mapped_representation IN parent_set
THEN
RETURN (FALSE);
END_IF;
IF NOT acyclic_mapped_representation(parent_set + x[i]\mapped_item.
mapping_source.mapped_representation,x[i]\mapped_item.mapping_source.
mapped_representation.items)
THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
END_IF;
x := children_set - x;
IF SIZEOF(x) &gt; 0
THEN
REPEAT i := 1 TO HIINDEX(x);
y := QUERY(z &lt;* bag_to_set(USEDIN(x[i],'')) |
'PDM_SCHEMA.REPRESENTATION_ITEM' IN TYPEOF(z));
IF NOT acyclic_mapped_representation(parent_set,y)
THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
END_IF;
RETURN (TRUE);
        </algorithm>
      </function>

      <function
        name="acyclic_product_category_relationship">
        <parameter
          name="relation">
          <typename
            name="product_category_relationship"/>
        </parameter>
        <parameter
          name="children">
          <aggregate
            type="SET"/>
          <typename
            name="T"/>
        </parameter>
        <builtintype
          type="BOOLEAN"/>
        <algorithm>
LOCAL
x : SET OF product_category_relationship;
local_children : SET OF product_category;
END_LOCAL;
REPEAT i := 1 TO HIINDEX(children);
IF relation.category :=: children[i]
THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
x := bag_to_set(USEDIN(relation.category,'PDM_SCHEMA.' +
'PRODUCT_CATEGORY_RELATIONSHIP.SUB_CATEGORY'));
local_children := children + relation.category;
IF SIZEOF(x) &gt; 0
THEN
REPEAT i := 1 TO HIINDEX(x);
IF NOT acyclic_product_category_relationship(x[i],local_children)
THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
END_IF;
RETURN (TRUE);
        </algorithm>
      </function>

      <function
        name="acyclic_product_definition_relationship">
        <parameter
          name="relation">
          <typename
            name="product_definition_relationship"/>
        </parameter>
        <parameter
          name="relatives">
          <aggregate
            type="SET"
            lower="1"
            upper="?"/>
          <typename
            name="T"/>
        </parameter>
        <parameter
          name="specific_relation">
          <builtintype
            type="STRING"/>
        </parameter>
        <builtintype
          type="BOOLEAN"/>
        <algorithm>
LOCAL
x : SET OF product_definition_relationship;
END_LOCAL;
IF relation.relating_product_definition IN relatives
THEN
RETURN (FALSE);
END_IF;
x := QUERY(pd &lt;* bag_to_set(USEDIN(relation.relating_product_definition,
'PDM_SCHEMA.' + 'PRODUCT_DEFINITION_RELATIONSHIP.' +
'RELATED_PRODUCT_DEFINITION')) | specific_relation IN TYPEOF(pd));
REPEAT i := 1 TO HIINDEX(x);
IF NOT acyclic_product_definition_relationship(x[i],relatives + relation.
relating_product_definition,specific_relation)
THEN
RETURN (FALSE);
END_IF;
END_REPEAT;
RETURN (TRUE);
        </algorithm>
      </function>

      <function
        name="bag_to_set">
        <parameter
          name="the_bag">
          <aggregate
            type="BAG"/>
          <builtintype
            type="GENERIC"/>
        </parameter>
        <aggregate
          type="SET"/>
        <builtintype
          type="GENERIC"/>
        <algorithm>
LOCAL
the_set : SET OF GENERIC : intype := [];
END_LOCAL;
IF SIZEOF(the_bag) &gt; 0
THEN
REPEAT i := 1 TO HIINDEX(the_bag);
the_set := the_set + the_bag[i];
END_REPEAT;
END_IF;
RETURN (the_set);
        </algorithm>
      </function>

      <function
        name="base_axis">
        <parameter
          name="dim">
          <builtintype
            type="INTEGER"/>
        </parameter>
        <parameter
          name="axis1">
          <typename
            name="direction"/>
        </parameter>
        <parameter
          name="axis2">
          <typename
            name="direction"/>
        </parameter>
        <parameter
          name="axis3">
          <typename
            name="direction"/>
        </parameter>
        <aggregate
          type="LIST"
          lower="2"
          upper="3"/>
        <typename
          name="direction"/>
        <algorithm>
LOCAL
u : LIST[2:3] OF direction;
factor : REAL;
d1,d2 : direction;
END_LOCAL;
IF (dim = 3)
THEN
d1 := NVL(normalise(axis3), dummy_gri || direction([0.0,0.0,1.0]));
d2 := first_proj_axis(d1,axis1);
u := [d2,second_proj_axis(d1,d2,axis2),d1];
ELSE
IF EXISTS(axis1)
THEN
d1 := normalise(axis1);
u := [d1,orthogonal_complement(d1)];
IF EXISTS(axis2)
THEN
factor := dot_product(axis2,u[2]);
IF (factor &lt; 0.0)
THEN
u[2].direction_ratios[1] := - u[2].direction_ratios[1];
u[2].direction_ratios[2] := - u[2].direction_ratios[2];
END_IF;
END_IF;
ELSE
IF EXISTS(axis2)
THEN
d1 := normalise(axis2);
u := [orthogonal_complement(d1),d1];
u[1].direction_ratios[1] := - u[1].direction_ratios[1];
u[1].direction_ratios[2] := - u[1].direction_ratios[2];
ELSE
u := [ dummy_gri || direction([1.0,0.0]), dummy_gri || direction([0.0,
1.0])];
END_IF;
END_IF;
END_IF;
RETURN (u);
        </algorithm>
      </function>

      <function
        name="build_2axes">
        <parameter
          name="ref_direction">
          <typename
            name="direction"/>
        </parameter>
        <aggregate
          type="LIST"
          lower="2"
          upper="2"/>
        <typename
          name="direction"/>
        <algorithm>
LOCAL
d : direction := NVL(normalise(ref_direction), dummy_gri || direction([1.0,
0.0]));
END_LOCAL;
RETURN ([d,orthogonal_complement(d)]);
        </algorithm>
      </function>

      <function
        name="build_axes">
        <parameter
          name="axis">
          <typename
            name="direction"/>
        </parameter>
        <parameter
          name="ref_direction">
          <typename
            name="direction"/>
        </parameter>
        <aggregate
          type="LIST"
          lower="3"
          upper="3"/>
        <typename
          name="direction"/>
        <algorithm>
LOCAL
d1,d2 : direction;
END_LOCAL;
d1 := NVL(normalise(axis), dummy_gri || direction([0.0,0.0,1.0]));
d2 := first_proj_axis(d1,ref_direction);
RETURN ([d2,normalise(cross_product(d1,d2)).orientation,d1]);
        </algorithm>
      </function>

      <function
        name="cross_product">
        <parameter
          name="arg1">
          <typename
            name="direction"/>
        </parameter>
        <parameter
          name="arg2">
          <typename
            name="direction"/>
        </parameter>
        <typename
          name="vector"/>
        <algorithm>
LOCAL
mag : REAL;
res : direction;
v1,v2 : LIST[3:3] OF REAL;
result : vector;
END_LOCAL;
IF (NOT EXISTS(arg1) OR (arg1.dim = 2)) OR (NOT EXISTS(arg2) OR (arg2.dim = 2
))
THEN
RETURN (?);
ELSE
BEGIN
v1 := normalise(arg1).direction_ratios;
v2 := normalise(arg2).direction_ratios;
res := dummy_gri || direction([(v1[2] * v2[3] - v1[3] * v2[2]),(v1[3] * v2
[1] - v1[1] * v2[3]),(v1[1] * v2[2] - v1[2] * v2[1])]);
mag := 0.0;
REPEAT i := 1 TO 3;
mag := mag + res.direction_ratios[i] * res.direction_ratios[i];
END_REPEAT;
IF (mag &gt; 0.0)
THEN
result := dummy_gri || vector(res,SQRT(mag));
ELSE
result := dummy_gri || vector(arg1,0.0);
END_IF;
RETURN (result);
END;
END_IF;
        </algorithm>
      </function>

      <function
        name="derive_dimensional_exponents">
        <parameter
          name="x">
          <typename
            name="unit"/>
        </parameter>
        <typename
          name="dimensional_exponents"/>
        <algorithm>
LOCAL
result : dimensional_exponents := dimensional_exponents(0.0,0.0,0.0,0.0,0.0,
0.0,0.0);
END_LOCAL;
IF 'PDM_SCHEMA.DERIVED_UNIT' IN TYPEOF(x)
THEN
REPEAT i := LOINDEX(x.elements) TO HIINDEX(x.elements);
result.length_exponent := result.length_exponent + (x.elements[i].exponent
* x.elements[i].unit.dimensions.length_exponent
);
result.mass_exponent := result.mass_exponent + (x.elements[i].exponent * x
.elements[i].unit.dimensions.mass_exponent);
result.time_exponent := result.time_exponent + (x.elements[i].exponent * x
.elements[i].unit.dimensions.time_exponent);
result.electric_current_exponent := result.electric_current_exponent + (x.
elements[i].exponent * x.elements[i].
unit.dimensions.
electric_current_exponent);
result.thermodynamic_temperature_exponent := result.
thermodynamic_temperature_exponent + (x.elements[i].exponent * x.elements[
i].unit.dimensions.
thermodynamic_temperature_exponent);
result.amount_of_substance_exponent := result.amount_of_substance_exponent
+ (x.elements[i].exponent * x.
elements[i].unit.dimensions.
amount_of_substance_exponent);
result.luminous_intensity_exponent := result.luminous_intensity_exponent +
(x.elements[i].exponent * x.
elements[i].unit.dimensions.
luminous_intensity_exponent);
END_REPEAT;
ELSE
result := x.dimensions;
END_IF;
RETURN (result);
        </algorithm>
      </function>

      <function
        name="dimension_of">
        <parameter
          name="item">
          <typename
            name="geometric_representation_item"/>
        </parameter>
        <typename
          name="dimension_count"/>
        <algorithm>
LOCAL
x : SET OF representation;
y : representation_context;
dim : dimension_count;
END_LOCAL;
IF 'PDM_SCHEMA.CARTESIAN_POINT' IN TYPEOF(item)
THEN
dim := SIZEOF(item\cartesian_point.coordinates);
RETURN (dim);
END_IF;
IF 'PDM_SCHEMA.DIRECTION' IN TYPEOF(item)
THEN
dim := SIZEOF(item\direction.direction_ratios);
RETURN (dim);
END_IF;
IF 'PDM_SCHEMA.VECTOR' IN TYPEOF(item)
THEN
dim := SIZEOF(item\vector.orientation\direction.direction_ratios);
RETURN (dim);
END_IF;
x := using_representations(item);
y := x[1].context_of_items;
dim := y\geometric_representation_context.coordinate_space_dimension;
RETURN (dim);
        </algorithm>
      </function>

      <function
        name="dimensions_for_si_unit">
        <parameter
          name="n">
          <typename
            name="si_unit_name"/>
        </parameter>
        <typename
          name="dimensional_exponents"/>
        <algorithm>
CASE n OF
metre : RETURN (dimensional_exponents(1.0,0.0,0.0,0.0,0.0,0.0,0.0));
gram : RETURN (dimensional_exponents(0.0,1.0,0.0,0.0,0.0,0.0,0.0));
second : RETURN (dimensional_exponents(0.0,0.0,1.0,0.0,0.0,0.0,0.0));
ampere : RETURN (dimensional_exponents(0.0,0.0,0.0,1.0,0.0,0.0,0.0));
kelvin : RETURN (dimensional_exponents(0.0,0.0,0.0,0.0,1.0,0.0,0.0));
mole : RETURN (dimensional_exponents(0.0,0.0,0.0,0.0,0.0,1.0,0.0));
candela : RETURN (dimensional_exponents(0.0,0.0,0.0,0.0,0.0,0.0,1.0));
radian : RETURN (dimensional_exponents(0.0,0.0,0.0,0.0,0.0,0.0,0.0));
steradian : RETURN (dimensional_exponents(0.0,0.0,0.0,0.0,0.0,0.0,0.0));
hertz : RETURN (dimensional_exponents(0.0,0.0,- 1.0,0.0,0.0,0.0,0.0));
newton : RETURN (dimensional_exponents(1.0,1.0,- 2.0,0.0,0.0,0.0,0.0));
pascal : RETURN (dimensional_exponents(- 1.0,1.0,- 2.0,0.0,0.0,0.0,0.0));
joule : RETURN (dimensional_exponents(2.0,1.0,- 2.0,0.0,0.0,0.0,0.0));
watt : RETURN (dimensional_exponents(2.0,1.0,- 3.0,0.0,0.0,0.0,0.0));
coulomb : RETURN (dimensional_exponents(0.0,0.0,1.0,1.0,0.0,0.0,0.0));
volt : RETURN (dimensional_exponents(2.0,1.0,- 3.0,- 1.0,0.0,0.0,0.0));
farad : RETURN (dimensional_exponents(- 2.0,- 1.0,4.0,1.0,0.0,0.0,0.0));
ohm : RETURN (dimensional_exponents(2.0,1.0,- 3.0,- 2.0,0.0,0.0,0.0));
siemens : RETURN (dimensional_exponents(- 2.0,- 1.0,3.0,2.0,0.0,0.0,0.0));
weber : RETURN (dimensional_exponents(2.0,1.0,- 2.0,- 1.0,0.0,0.0,0.0));
tesla : RETURN (dimensional_exponents(0.0,1.0,- 2.0,- 1.0,0.0,0.0,0.0));
henry : RETURN (dimensional_exponents(2.0,1.0,- 2.0,- 2.0,0.0,0.0,0.0));
degree_celsius : RETURN (dimensional_exponents(0.0,0.0,0.0,0.0,1.0,0.0,0.0))
;
lumen : RETURN (dimensional_exponents(0.0,0.0,0.0,0.0,0.0,0.0,1.0));
lux : RETURN (dimensional_exponents(- 2.0,0.0,0.0,0.0,0.0,0.0,1.0));
becquerel : RETURN (dimensional_exponents(0.0,0.0,- 1.0,0.0,0.0,0.0,0.0));
gray : RETURN (dimensional_exponents(2.0,0.0,- 2.0,0.0,0.0,0.0,0.0));
sievert : RETURN (dimensional_exponents(2.0,0.0,- 2.0,0.0,0.0,0.0,0.0));
OTHERWISE : RETURN (?);
END_CASE;
        </algorithm>
      </function>

      <function
        name="dot_product">
        <parameter
          name="arg1">
          <typename
            name="direction"/>
        </parameter>
        <parameter
          name="arg2">
          <typename
            name="direction"/>
        </parameter>
        <builtintype
          type="REAL"/>
        <algorithm>
LOCAL
scalar : REAL;
vec1,vec2 : direction;
ndim : INTEGER;
END_LOCAL;
IF NOT EXISTS(arg1) OR NOT EXISTS(arg2)
THEN
scalar := ?;
ELSE
IF (arg1.dim &lt;&gt; arg2.dim)
THEN
scalar := ?;
ELSE
BEGIN
vec1 := normalise(arg1);
vec2 := normalise(arg2);
ndim := arg1.dim;
scalar := 0.0;
REPEAT i := 1 TO ndim;
scalar := scalar + vec1.direction_ratios[i] * vec2.direction_ratios[i];
END_REPEAT;
END;
END_IF;
END_IF;
RETURN (scalar);
        </algorithm>
      </function>

      <function
        name="first_proj_axis">
        <parameter
          name="z_axis">
          <typename
            name="direction"/>
        </parameter>
        <parameter
          name="arg">
          <typename
            name="direction"/>
        </parameter>
        <typename
          name="direction"/>
        <algorithm>
LOCAL
x_axis : direction;
v : direction;
z : direction;
x_vec : vector;
END_LOCAL;
IF (NOT EXISTS(z_axis))
THEN
RETURN (?);
ELSE
z := normalise(z_axis);
IF NOT EXISTS(arg)
THEN
IF (z.direction_ratios &lt;&gt; [1.0,0.0,0.0])
THEN
v := dummy_gri || direction([1.0,0.0,0.0]);
ELSE
v := dummy_gri || direction([0.0,1.0,0.0]);
END_IF;
ELSE
IF (arg.dim &lt;&gt; 3)
THEN
RETURN (?);
END_IF;
IF ((cross_product(arg,z).magnitude) = 0.0)
THEN
RETURN (?);
ELSE
v := normalise(arg);
END_IF;
END_IF;
x_vec := scalar_times_vector(dot_product(v,z),z);
x_axis := vector_difference(v,x_vec).orientation;
x_axis := normalise(x_axis);
END_IF;
RETURN (x_axis);
        </algorithm>
      </function>

      <function
        name="get_description_value">
        <parameter
          name="obj">
          <typename
            name="description_attribute_select"/>
        </parameter>
        <typename
          name="text"/>
        <algorithm>
LOCAL
description_bag : BAG OF description_attribute := (USEDIN(obj,'PDM_SCHEMA.'
+ 'DESCRIPTION_ATTRIBUTE.' + 'DESCRIBED_ITEM'));
END_LOCAL;
IF SIZEOF(description_bag) = 1
THEN
RETURN (description_bag[1].attribute_value);
ELSE
RETURN (?);
END_IF;
        </algorithm>
      </function>

      <function
        name="get_id_value">
        <parameter
          name="obj">
          <typename
            name="id_attribute_select"/>
        </parameter>
        <typename
          name="identifier"/>
        <algorithm>
LOCAL
id_bag : BAG OF id_attribute := (USEDIN(obj,'PDM_SCHEMA.' + 'ID_ATTRIBUTE.'
+ 'IDENTIFIED_ITEM'));
END_LOCAL;
IF SIZEOF(id_bag) = 1
THEN
RETURN (id_bag[1].attribute_value);
ELSE
RETURN (?);
END_IF;
        </algorithm>
      </function>

      <function
        name="get_name_value">
        <parameter
          name="obj">
          <typename
            name="name_attribute_select"/>
        </parameter>
        <typename
          name="label"/>
        <algorithm>
LOCAL
name_bag : BAG OF name_attribute := (USEDIN(obj,'PDM_SCHEMA.' +
'NAME_ATTRIBUTE.' + 'NAMED_ITEM'));
END_LOCAL;
IF SIZEOF(name_bag) = 1
THEN
RETURN (name_bag[1].attribute_value);
ELSE
RETURN (?);
END_IF;
        </algorithm>
      </function>

      <function
        name="get_role">
        <parameter
          name="obj">
          <typename
            name="role_select"/>
        </parameter>
        <typename
          name="object_role"/>
        <algorithm>
LOCAL
role_bag : BAG OF role_association := (USEDIN(obj,'PDM_SCHEMA.' +
'ROLE_ASSOCIATION.' + 'ITEM_WITH_ROLE'));
END_LOCAL;
IF SIZEOF(role_bag) = 1
THEN
RETURN (role_bag[1].role);
ELSE
RETURN (?);
END_IF;
        </algorithm>
      </function>

      <function
        name="item_in_context">
        <parameter
          name="item">
          <typename
            name="representation_item"/>
        </parameter>
        <parameter
          name="cntxt">
          <typename
            name="representation_context"/>
        </parameter>
        <builtintype
          type="BOOLEAN"/>
        <algorithm>
LOCAL
y : BAG OF representation_item;
END_LOCAL;
IF SIZEOF(USEDIN(item,'PDM_SCHEMA.REPRESENTATION.ITEMS') * cntxt.
representations_in_context) &gt; 0
THEN
RETURN (TRUE);
ELSE
y := QUERY(z &lt;* USEDIN(item,'') | 'PDM_SCHEMA.REPRESENTATION_ITEM' IN
TYPEOF(z));
IF SIZEOF(y) &gt; 0
THEN
REPEAT i := 1 TO HIINDEX(y);
IF item_in_context(y[i],cntxt)
THEN
RETURN (TRUE);
END_IF;
END_REPEAT;
END_IF;
END_IF;
RETURN (FALSE);
        </algorithm>
      </function>

      <function
        name="leap_year">
        <parameter
          name="year">
          <typename
            name="year_number"/>
        </parameter>
        <builtintype
          type="BOOLEAN"/>
        <algorithm>
IF ((((year MOD 4) = 0) AND ((year MOD 100) &lt;&gt; 0)) OR ((year MOD 400) = 0))
THEN
RETURN (TRUE);
ELSE
RETURN (FALSE);
END_IF;
        </algorithm>
      </function>

      <function
        name="normalise">
        <parameter
          name="arg">
          <typename
            name="vector_or_direction"/>
        </parameter>
        <typename
          name="vector_or_direction"/>
        <algorithm>
LOCAL
ndim : INTEGER;
v : direction;
result : vector_or_direction;
vec : vector;
mag : REAL;
END_LOCAL;
IF NOT EXISTS(arg)
THEN
result := ?;
ELSE
ndim := arg.dim;
IF 'PDM_SCHEMA.VECTOR' IN TYPEOF(arg)
THEN
BEGIN
v := dummy_gri || direction(arg.orientation.direction_ratios);
IF arg.magnitude = 0.0
THEN
RETURN (?);
ELSE
vec := dummy_gri || vector(v,1.0);
END_IF;
END;
ELSE
v := dummy_gri || direction(arg.direction_ratios);
END_IF;
mag := 0.0;
REPEAT i := 1 TO ndim;
mag := mag + v.direction_ratios[i] * v.direction_ratios[i];
END_REPEAT;
IF mag &gt; 0.0
THEN
mag := SQRT(mag);
REPEAT i := 1 TO ndim;
v.direction_ratios[i] := v.direction_ratios[i] / mag;
END_REPEAT;
IF 'PDM_SCHEMA.VECTOR' IN TYPEOF(arg)
THEN
vec.orientation := v;
result := vec;
ELSE
result := v;
END_IF;
ELSE
RETURN (?);
END_IF;
END_IF;
RETURN (result);
        </algorithm>
      </function>

      <function
        name="orthogonal_complement">
        <parameter
          name="vec">
          <typename
            name="direction"/>
        </parameter>
        <typename
          name="direction"/>
        <algorithm>
LOCAL
result : direction;
END_LOCAL;
IF (vec.dim &lt;&gt; 2) OR NOT EXISTS(vec)
THEN
RETURN (?);
ELSE
result := dummy_gri || direction([- vec.direction_ratios[2],vec.
direction_ratios[1]]);
RETURN (result);
END_IF;
        </algorithm>
      </function>

      <function
        name="scalar_times_vector">
        <parameter
          name="scalar">
          <builtintype
            type="REAL"/>
        </parameter>
        <parameter
          name="vec">
          <typename
            name="vector_or_direction"/>
        </parameter>
        <typename
          name="vector"/>
        <algorithm>
LOCAL
v : direction;
mag : REAL;
result : vector;
END_LOCAL;
IF NOT EXISTS(scalar) OR NOT EXISTS(vec)
THEN
RETURN (?);
ELSE
IF 'PDM_SCHEMA.VECTOR' IN TYPEOF(vec)
THEN
v := dummy_gri || direction(vec.orientation.direction_ratios);
mag := scalar * vec.magnitude;
ELSE
v := dummy_gri || direction(vec.direction_ratios);
mag := scalar;
END_IF;
IF (mag &lt; 0.0)
THEN
REPEAT i := 1 TO SIZEOF(v.direction_ratios);
v.direction_ratios[i] := - v.direction_ratios[i];
END_REPEAT;
mag := - mag;
END_IF;
result := dummy_gri || vector(normalise(v),mag);
END_IF;
RETURN (result);
        </algorithm>
      </function>

      <function
        name="second_proj_axis">
        <parameter
          name="z_axis">
          <typename
            name="direction"/>
        </parameter>
        <parameter
          name="x_axis">
          <typename
            name="direction"/>
        </parameter>
        <parameter
          name="arg">
          <typename
            name="direction"/>
        </parameter>
        <typename
          name="direction"/>
        <algorithm>
LOCAL
y_axis : vector;
v : direction;
temp : vector;
END_LOCAL;
IF NOT EXISTS(arg)
THEN
v := dummy_gri || direction([0.0,1.0,0.0]);
ELSE
v := arg;
END_IF;
temp := scalar_times_vector(dot_product(v,z_axis),z_axis);
y_axis := vector_difference(v,temp);
temp := scalar_times_vector(dot_product(v,x_axis),x_axis);
y_axis := vector_difference(y_axis,temp);
y_axis := normalise(y_axis);
RETURN (y_axis.orientation);
        </algorithm>
      </function>

      <function
        name="using_items">
        <parameter
          name="item">
          <typename
            name="founded_item_select"/>
        </parameter>
        <parameter
          name="checked_items">
          <aggregate
            type="SET"/>
          <typename
            name="T"/>
        </parameter>
        <aggregate
          type="SET"/>
        <typename
          name="founded_item_select"/>
        <algorithm>
LOCAL
new_check_items : SET OF founded_item_select;
result_items : SET OF founded_item_select;
next_items : SET OF founded_item_select;
END_LOCAL;
result_items := [];
new_check_items := checked_items + item;
next_items := QUERY(z &lt;* bag_to_set(USEDIN(item,'')) | (
'PDM_SCHEMA.REPRESENTATION_ITEM' IN TYPEOF(z)) OR (
'PDM_SCHEMA.FOUNDED_ITEM' IN TYPEOF(z)));
IF SIZEOF(next_items) &gt; 0
THEN
REPEAT i := 1 TO HIINDEX(next_items);
IF NOT (next_items[i] IN new_check_items)
THEN
result_items := result_items + next_items[i] + using_items(next_items[i]
,new_check_items);
END_IF;
END_REPEAT;
END_IF;
RETURN (result_items);
        </algorithm>
      </function>

      <function
        name="using_representations">
        <parameter
          name="item">
          <typename
            name="founded_item_select"/>
        </parameter>
        <aggregate
          type="SET"/>
        <typename
          name="representation"/>
        <algorithm>
LOCAL
results : SET OF representation;
result_bag : BAG OF representation;
intermediate_items : SET OF founded_item_select;
END_LOCAL;
results := [];
result_bag := USEDIN(item,'PDM_SCHEMA.REPRESENTATION.ITEMS');
IF SIZEOF(result_bag) &gt; 0
THEN
REPEAT i := 1 TO HIINDEX(result_bag);
results := results + result_bag[i];
END_REPEAT;
END_IF;
intermediate_items := using_items(item,[]);
IF SIZEOF(intermediate_items) &gt; 0
THEN
REPEAT i := 1 TO HIINDEX(intermediate_items);
result_bag := USEDIN(intermediate_items[i],
'PDM_SCHEMA.REPRESENTATION.ITEMS');
IF SIZEOF(result_bag) &gt; 0
THEN
REPEAT j := 1 TO HIINDEX(result_bag);
results := results + result_bag[j];
END_REPEAT;
END_IF;
END_REPEAT;
END_IF;
RETURN (results);
        </algorithm>
      </function>

      <function
        name="valid_calendar_date">
        <parameter
          name="date">
          <typename
            name="calendar_date"/>
        </parameter>
        <builtintype
          type="LOGICAL"/>
        <algorithm>
CASE date.month_component OF
1 : RETURN ({1&lt;=date.day_component&lt;=31});
2 : BEGIN
IF (leap_year(date.year_component))
THEN
RETURN ({1&lt;=date.day_component&lt;=29});
ELSE
RETURN ({1&lt;=date.day_component&lt;=28});
END_IF;
END;
3 : RETURN ({1&lt;=date.day_component&lt;=31});
4 : RETURN ({1&lt;=date.day_component&lt;=30});
5 : RETURN ({1&lt;=date.day_component&lt;=31});
6 : RETURN ({1&lt;=date.day_component&lt;=30});
7 : RETURN ({1&lt;=date.day_component&lt;=31});
8 : RETURN ({1&lt;=date.day_component&lt;=31});
9 : RETURN ({1&lt;=date.day_component&lt;=30});
10 : RETURN ({1&lt;=date.day_component&lt;=31});
11 : RETURN ({1&lt;=date.day_component&lt;=30});
12 : RETURN ({1&lt;=date.day_component&lt;=31});
END_CASE;
RETURN (FALSE);
        </algorithm>
      </function>

      <function
        name="valid_measure_value">
        <parameter
          name="m">
          <typename
            name="measure_value"/>
        </parameter>
        <builtintype
          type="BOOLEAN"/>
        <algorithm>
IF ('REAL' IN TYPEOF(m))
THEN
RETURN (m &gt; 0.0);
ELSE
IF ('INTEGER' IN TYPEOF(m))
THEN
RETURN (m &gt; 0);
ELSE
RETURN (TRUE);
END_IF;
END_IF;
        </algorithm>
      </function>

      <function
        name="valid_time">
        <parameter
          name="time">
          <typename
            name="local_time"/>
        </parameter>
        <builtintype
          type="BOOLEAN"/>
        <algorithm>
IF EXISTS(time.second_component)
THEN
RETURN (EXISTS(time.minute_component));
ELSE
RETURN (TRUE);
END_IF;
        </algorithm>
      </function>

      <function
        name="valid_units">
        <parameter
          name="m">
          <typename
            name="measure_with_unit"/>
        </parameter>
        <builtintype
          type="BOOLEAN"/>
        <algorithm>
IF 'PDM_SCHEMA.LENGTH_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
1.0,0.0,0.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.MASS_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,1.0,0.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.TIME_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,1.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.ELECTRIC_CURRENT_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,0.0,1.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.THERMODYNAMIC_TEMPERATURE_MEASURE' IN TYPEOF(m.value_component
)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,0.0,0.0,1.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.CELSIUS_TEMPERATURE_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,0.0,0.0,1.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.AMOUNT_OF_SUBSTANCE_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,0.0,0.0,0.0,1.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.LUMINOUS_INTENSITY_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,0.0,0.0,0.0,0.0,1.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.PLANE_ANGLE_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,0.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.SOLID_ANGLE_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,0.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.AREA_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
2.0,0.0,0.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.VOLUME_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
3.0,0.0,0.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.RATIO_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,0.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.POSITIVE_LENGTH_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
1.0,0.0,0.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
IF 'PDM_SCHEMA.POSITIVE_PLANE_ANGLE_MEASURE' IN TYPEOF(m.value_component)
THEN
IF derive_dimensional_exponents(m.unit_component) &lt;&gt; dimensional_exponents(
0.0,0.0,0.0,0.0,0.0,0.0,0.0)
THEN
RETURN (FALSE);
END_IF;
END_IF;
RETURN (TRUE);
        </algorithm>
      </function>

      <function
        name="vector_difference">
        <parameter
          name="arg1">
          <typename
            name="vector_or_direction"/>
        </parameter>
        <parameter
          name="arg2">
          <typename
            name="vector_or_direction"/>
        </parameter>
        <typename
          name="vector"/>
        <algorithm>
LOCAL
result : vector;
res,vec1,vec2 : direction;
mag,mag1,mag2 : REAL;
ndim : INTEGER;
END_LOCAL;
IF ((NOT EXISTS(arg1)) OR (NOT EXISTS(arg2))) OR (arg1.dim &lt;&gt; arg2.dim)
THEN
RETURN (?);
ELSE
BEGIN
IF 'PDM_SCHEMA.VECTOR' IN TYPEOF(arg1)
THEN
mag1 := arg1.magnitude;
vec1 := arg1.orientation;
ELSE
mag1 := 1.0;
vec1 := arg1;
END_IF;
IF 'PDM_SCHEMA.VECTOR' IN TYPEOF(arg2)
THEN
mag2 := arg2.magnitude;
vec2 := arg2.orientation;
ELSE
mag2 := 1.0;
vec2 := arg2;
END_IF;
vec1 := normalise(vec1);
vec2 := normalise(vec2);
ndim := SIZEOF(vec1.direction_ratios);
mag := 0.0;
res := dummy_gri || direction(vec1.direction_ratios);
REPEAT i := 1 TO ndim;
res.direction_ratios[i] := mag1 * vec1.direction_ratios[i] + mag2 * vec2.
direction_ratios[i];
mag := mag + (res.direction_ratios[i] * res.direction_ratios[i]);
END_REPEAT;
IF (mag &gt; 0.0)
THEN
result := dummy_gri || vector(res,SQRT(mag));
ELSE
result := dummy_gri || vector(vec1,0.0);
END_IF;
END;
END_IF;
RETURN (result);
        </algorithm>
      </function>

      <rule
        name="compatible_dimension"
        appliesto="cartesian_point direction representation_context geometric_representation_context">
        <where
          label="wr1"
          expression="SIZEOF(QUERY(x &lt;* cartesian_point | SIZEOF(QUERY(y &lt;* geometric_representation_context | item_in_context(x,y) AND (HIINDEX(x.coordinates) &lt;&gt; y.coordinate_space_dimension))) &gt; 0)) = 0">
        </where>
        <where
          label="wr2"
          expression="SIZEOF(QUERY(x &lt;* direction | SIZEOF(QUERY(y &lt;* geometric_representation_context | item_in_context(x,y) AND (HIINDEX(x.direction_ratios) &lt;&gt; y.coordinate_space_dimension))) &gt; 0)) = 0">
        </where>
      </rule>

      <rule
        name="product_requires_category"
        appliesto="product product_related_product_category">
        <where
          label="wr1"
          expression="SIZEOF(QUERY(p &lt;* product | SIZEOF(USEDIN(p,'PDM_SCHEMA.' +'PRODUCT_RELATED_PRODUCT_CATEGORY.PRODUCTS')) = 0)) = 0">
        </where>
      </rule>

      <rule
        name="product_requires_version"
        appliesto="product">
        <where
          label="wr1"
          expression="SIZEOF(QUERY(prod &lt;* product | (SIZEOF(USEDIN(prod,'PDM_SCHEMA.' +'PRODUCT_DEFINITION_FORMATION.' + 'OF_PRODUCT')) = 0))) = 0">
        </where>
      </rule>

      <rule
        name="versioned_action_request_requires_status"
        appliesto="versioned_action_request action_request_status">
        <where
          label="wr1"
          expression="SIZEOF(QUERY(ar &lt;* versioned_action_request | (NOT (SIZEOF(QUERY(ars &lt;* action_request_status | (ar :=: ars.assigned_request))) = 1)))) = 0">
        </where>
      </rule>

    </schema>
  </express>
