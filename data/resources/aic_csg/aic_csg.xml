<?xml version="1.0"?>
<!-- $Id: express2xml.js,v 1.10 2002/06/04 08:24:21 robbod Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.10"
    source="../data/resources/aic_csg/aic_csg.exp"/>

  <schema name="aic_csg">
    <interface
      kind="use"
      schema="aic_advanced_brep">
    </interface>

    <interface
      kind="use"
      schema="aic_faceted_brep">
    </interface>

    <interface
      kind="use"
      schema="geometric_model_schema">
      <interfaced.item
        name="block"/>
      <interfaced.item
        name="boolean_operand"/>
      <interfaced.item
        name="boolean_operator"/>
      <interfaced.item
        name="boolean_result"/>
      <interfaced.item
        name="box_domain"/>
      <interfaced.item
        name="boxed_half_space"/>
      <interfaced.item
        name="csg_primitive"/>
      <interfaced.item
        name="csg_select"/>
      <interfaced.item
        name="csg_solid"/>
      <interfaced.item
        name="extruded_face_solid"/>
      <interfaced.item
        name="half_space_solid"/>
      <interfaced.item
        name="revolved_face_solid"/>
      <interfaced.item
        name="right_angular_wedge"/>
      <interfaced.item
        name="right_circular_cone"/>
      <interfaced.item
        name="right_circular_cylinder"/>
      <interfaced.item
        name="solid_replica"/>
      <interfaced.item
        name="sphere"/>
      <interfaced.item
        name="torus"/>
    </interface>

    <entity
      name="csg_shape_representation"
      supertypes="shape_representation">
      <where
        label="WR1"
        expression="SELF.context_of_items\geometric_representation_context.coordinate_space_dimension = 3">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (  QUERY ( it &lt;* SELF.items| ( SIZEOF ([ 'AIC_CSG.CSG_SOLID', 'AIC_CSG.MAPPED_ITEM', 'AIC_CSG.AXIS2_PLACEMENT_3D', 'AIC_CSG.SOLID_REPLICA', 'AIC_CSG.REVOLVED_FACE_SOLID', 'AIC_CSG.EXTRUDED_FACE_SOLID' ] * TYPEOF (it)) &lt;&gt; 1) )) = 0">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (  QUERY ( mi &lt;*  QUERY ( it &lt;* SELF.items| ('AIC_CSG.MAPPED_ITEM' IN TYPEOF (it)) )| NOT ('AIC_CSG.CSG_SHAPE_REPRESENTATION' IN TYPEOF (mi\mapped_item.mapping_source.mapped_representation)) )) = 0">
      </where>
      <where
        label="WR4"
        expression="SIZEOF (  QUERY ( sr &lt;*  QUERY ( it &lt;* SELF.items| ('AIC_CSG.SOLID_REPLICA' IN TYPEOF (it)) )| ( SIZEOF ([ 'AIC_CSG.CSG_SOLID', 'AIC_CSG.REVOLVED_FACE_SOLID', 'AIC_CSG.EXTRUDED_FACE_SOLID' ] * TYPEOF (sr\solid_replica.parent_solid)) = 0) )) = 0">
      </where>
      <where
        label="WR5"
        expression="SIZEOF (  QUERY ( it &lt;* SELF.items| NOT ('AIC_CSG.AXIS2_PLACEMENT_3D' IN TYPEOF (it)) )) &gt; 0">
      </where>
    </entity>

  </schema>

</express>
