<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express description.file="descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="ISO 10303-513">
   <application name="JSDAI" owner="LKSoft" source="aic_elementary_brep schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="aic_elementary_brep">
      <interface kind="use" schema="geometry_schema">
         <interfaced.item name="axis2_placement_3d"/>
         <interfaced.item name="cartesian_point"/>
         <interfaced.item name="cartesian_transformation_operator_3d"/>
         <interfaced.item name="circle"/>
         <interfaced.item name="conical_surface"/>
         <interfaced.item name="cylindrical_surface"/>
         <interfaced.item name="degenerate_toroidal_surface"/>
         <interfaced.item name="direction"/>
         <interfaced.item name="ellipse"/>
         <interfaced.item name="hyperbola"/>
         <interfaced.item name="line"/>
         <interfaced.item name="parabola"/>
         <interfaced.item name="plane"/>
         <interfaced.item name="polyline"/>
         <interfaced.item name="spherical_surface"/>
         <interfaced.item name="toroidal_surface"/>
         <interfaced.item name="vector"/>
      </interface>
      <interface kind="use" schema="geometric_model_schema">
         <interfaced.item name="manifold_solid_brep"/>
         <interfaced.item name="brep_with_voids"/>
      </interface>
      <interface kind="use" schema="topology_schema">
         <interfaced.item name="closed_shell"/>
         <interfaced.item name="connected_face_set"/>
         <interfaced.item name="edge_curve"/>
         <interfaced.item name="edge_loop"/>
         <interfaced.item name="face_bound"/>
         <interfaced.item name="face_outer_bound"/>
         <interfaced.item name="face_surface"/>
         <interfaced.item name="oriented_closed_shell"/>
         <interfaced.item name="oriented_edge"/>
         <interfaced.item name="path"/>
         <interfaced.item name="vertex_loop"/>
         <interfaced.item name="vertex_point"/>
      </interface>
      <interface kind="use" schema="representation_schema">
         <interfaced.item name="mapped_item"/>
      </interface>
      <interface kind="use" schema="product_property_representation_schema">
         <interfaced.item name="shape_representation"/>
      </interface>
      <interface kind="reference" schema="geometric_model_schema">
         <interfaced.item name="msb_shells"/>
      </interface>
      <entity name="elementary_brep_shape_representation" supertypes="shape_representation">
         <where expression="SIZEOF (QUERY (it &lt;* SELF.items |&#10;          NOT (SIZEOF (['AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP',&#10;                'AIC_ELEMENTARY_BREP.FACETED_BREP',&#10;                'AIC_ELEMENTARY_BREP.MAPPED_ITEM',&#10;                'AIC_ELEMENTARY_BREP.AXIS2_PLACEMENT_3D'] *&#10;                   TYPEOF(it)) = 1))) = 0" label="WR1"/>
         <where expression="SIZEOF (QUERY (it &lt;* SELF.items |&#10;         SIZEOF(['AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP',&#10;         'AIC_ELEMENTARY_BREP.MAPPED_ITEM'] * TYPEOF(it)) =1 )) &gt; 0" label="WR2"/>
         <where expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* SELF.items |&#10;           'AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP' IN TYPEOF(it)) |&#10;           NOT (SIZEOF (QUERY (csh &lt;* msb_shells(msb) |&#10;            NOT (SIZEOF (QUERY(fcs &lt;* csh.cfs_faces |&#10;              NOT('AIC_ELEMENTARY_BREP.FACE_SURFACE' IN TYPEOF(fcs)))) = 0&#10;                 ))) = 0&#10;                   ))) = 0" label="WR3"/>
         <where expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* SELF.items |&#10;           'AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP' IN TYPEOF(it)) |&#10;           NOT (SIZEOF (QUERY (csh &lt;* msb_shells(msb) |&#10;            NOT (SIZEOF (QUERY(fcs &lt;* csh\connected_face_set.cfs_faces |&#10;              NOT(('AIC_ELEMENTARY_BREP.ELEMENTARY_SURFACE' IN&#10;                   TYPEOF(fcs\face_surface.face_geometry))&#10;             ))) = 0&#10;                 ))) = 0&#10;                   ))) = 0" label="WR4"/>
         <where expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* SELF.items |&#10;           'AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP' IN TYPEOF(it)) |&#10;           NOT (SIZEOF (QUERY (csh &lt;* msb_shells(msb) |&#10;             NOT (SIZEOF (QUERY(fcs &lt;* csh\connected_face_set.cfs_faces |&#10;               NOT (SIZEOF(QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* fcs.bounds |&#10;         'AIC_ELEMENTARY_BREP.EDGE_LOOP' IN TYPEOF(bnds.bound)) |&#10;                NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds.bound\path.edge_list |&#10;                  NOT('AIC_ELEMENTARY_BREP.EDGE_CURVE' IN&#10;            TYPEOF(oe.edge_element)))) = 0&#10;                   ))) = 0&#10;                 ))) = 0&#10;               ))) = 0&#10;             ))) = 0" label="WR5"/>
         <where expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* SELF.items |&#10;           'AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP' IN TYPEOF(it)) |&#10;           NOT (SIZEOF (QUERY (csh &lt;* msb_shells(msb) |&#10;             NOT (SIZEOF (QUERY(fcs &lt;* csh\connected_face_set.cfs_faces |&#10;               NOT (SIZEOF(QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* fcs.bounds |&#10;         'AIC_ELEMENTARY_BREP.EDGE_LOOP' IN TYPEOF(bnds.bound)) |&#10;                 NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds.bound\path.edge_list |&#10;                   NOT (SIZEOF (['AIC_ELEMENTARY_BREP.LINE',&#10;                         'AIC_ELEMENTARY_BREP.CONIC',&#10;                         'AIC_ELEMENTARY_BREP.POLYLINE'] *&#10;            TYPEOF(oe.edge_element\edge_curve.edge_geometry)) = 1 )&#10;               )) = 0&#10;               ))) = 0&#10;                 ))) = 0&#10;                   ))) = 0&#10;                    ))) = 0" label="WR6"/>
         <where expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* SELF.items |&#10;           'AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP' IN TYPEOF(it)) |&#10;           NOT (SIZEOF (QUERY (csh &lt;* msb_shells(msb) |&#10;             NOT (SIZEOF (QUERY(fcs &lt;* csh\connected_face_set.cfs_faces |&#10;               NOT (SIZEOF(QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* fcs.bounds |&#10;         'AIC_ELEMENTARY_BREP.EDGE_LOOP' IN TYPEOF(bnds.bound)) |&#10;                 NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds.bound\path.edge_list |&#10;            NOT(('AIC_ELEMENTARY_BREP.VERTEX_POINT' IN TYPEOF(oe.edge_start))&#10;                AND ('AIC_ELEMENTARY_BREP.VERTEX_POINT' IN&#10;                 TYPEOF(oe.edge_end))&#10;            ))) = 0&#10;              ))) = 0&#10;               ))) = 0&#10;                 ))) = 0&#10;                   ))) = 0" label="WR7"/>
         <where expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* SELF.items |&#10;           'AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP' IN TYPEOF(it)) |&#10;           NOT (SIZEOF (QUERY (csh &lt;* msb_shells(msb) |&#10;             NOT (SIZEOF (QUERY(fcs &lt;* csh\connected_face_set.cfs_faces |&#10;               NOT (SIZEOF(QUERY (elp_fbnds &lt;* QUERY (bnds &lt;* fcs.bounds |&#10;         'AIC_ELEMENTARY_BREP.EDGE_LOOP' IN TYPEOF(bnds.bound)) |&#10;                NOT (SIZEOF (QUERY (oe &lt;* elp_fbnds.bound\path.edge_list |&#10;                   ('AIC_ELEMENTARY_BREP.POLYLINE' IN&#10;            TYPEOF(oe.edge_element\edge_curve.edge_geometry)) AND&#10;            (NOT (SIZEOF (oe\oriented_edge.edge_element\&#10;                  edge_curve.edge_geometry\polyline.points) &gt;= 3))&#10;               )) = 0&#10;               ))) = 0&#10;                 ))) = 0&#10;                   ))) = 0&#10;                    ))) = 0" label="WR8"/>
         <where expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* items |&#10;          'AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP' IN TYPEOF(it)) |&#10;          'AIC_ELEMENTARY_BREP.ORIENTED_CLOSED_SHELL' IN TYPEOF&#10;              (msb\manifold_solid_brep.outer)))&#10;             = 0" label="WR9"/>
         <where expression="SIZEOF (QUERY (brv &lt;* QUERY (it &lt;* items |&#10;          'AIC_ELEMENTARY_BREP.BREP_WITH_VOIDS' IN TYPEOF(it)) |&#10;          NOT (SIZEOF (QUERY (csh &lt;* brv\brep_with_voids.voids |&#10;           csh\oriented_closed_shell.orientation)) = 0))) = 0" label="WR10"/>
         <where expression="SIZEOF (QUERY (mi &lt;*  QUERY (it &lt;* items |&#10;                 'AIC_ELEMENTARY_BREP.MAPPED_ITEM' IN TYPEOF(it)) |&#10;          NOT ('AIC_ELEMENTARY_BREP.ELEMENTARY_BREP_SHAPE_REPRESENTATION' IN&#10;             TYPEOF(mi\mapped_item.mapping_source.&#10;                           mapped_representation)))) = 0" label="WR11"/>
         <where expression="SIZEOF (QUERY (msb &lt;* QUERY (it &lt;* SELF.items |&#10;            'AIC_ELEMENTARY_BREP.MANIFOLD_SOLID_BREP' IN TYPEOF(it)) |&#10;            NOT (SIZEOF (QUERY (csh &lt;* msb_shells(msb) |&#10;              NOT (SIZEOF (QUERY(fcs &lt;* csh\connected_face_set.cfs_faces |&#10;               NOT (SIZEOF(QUERY (vlp_fbnds &lt;* QUERY (bnds &lt;* fcs.bounds |&#10;         'AIC_ELEMENTARY_BREP.VERTEX_LOOP' IN TYPEOF(bnds.bound)) |&#10;           NOT(('AIC_ELEMENTARY_BREP.VERTEX_POINT' IN&#10;               TYPEOF(vlp_fbnds\face_bound.bound\vertex_loop.loop_vertex)) AND&#10;                ('AIC_ELEMENTARY_BREP.CARTESIAN_POINT' IN&#10;                   TYPEOF(vlp_fbnds\face_bound.bound\vertex_loop.&#10;                     loop_vertex\vertex_point.vertex_geometry))&#10;            ))) = 0))) = 0))) = 0))) =0" label="WR12"/>
      </entity>
   </schema>
</express>
