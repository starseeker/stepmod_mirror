<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express language_version="2" reference="ISO 10303-519" rcs.date="$Date$" rcs.revision="$Revision$" description.file="descriptions.xml">
   <application name="JSDAI" owner="LKSoft" url="www.lksoft.com" version="4.0 beta" source="aic_geometric_tolerances schema_instance"/>
   <schema name="aic_geometric_tolerances">
      <interface kind="use" schema="measure_schema">
         <interfaced.item name="derived_unit"/>
         <interfaced.item name="named_unit"/>
      </interface>
      <interface kind="use" schema="product_property_definition_schema">
         <interfaced.item name="shape_aspect_relationship"/>
      </interface>
      <interface kind="use" schema="shape_aspect_definition_schema">
         <interfaced.item name="apex"/>
         <interfaced.item name="centre_of_symmetry"/>
         <interfaced.item name="composite_shape_aspect"/>
         <interfaced.item name="common_datum"/>
         <interfaced.item name="datum"/>
         <interfaced.item name="datum_feature"/>
         <interfaced.item name="datum_reference"/>
         <interfaced.item name="datum_target"/>
         <interfaced.item name="derived_shape_aspect"/>
         <interfaced.item name="extension"/>
         <interfaced.item name="geometric_alignment"/>
         <interfaced.item name="geometric_intersection"/>
         <interfaced.item name="parallel_offset"/>
         <interfaced.item name="perpendicular_to"/>
         <interfaced.item name="referenced_modified_datum"/>
         <interfaced.item name="shape_aspect_deriving_relationship"/>
         <interfaced.item name="symmetric_shape_aspect"/>
         <interfaced.item name="tangent"/>
      </interface>
      <interface kind="use" schema="shape_tolerance_schema">
         <interfaced.item name="dimension_related_tolerance_zone_element"/>
         <interfaced.item name="geometric_tolerance"/>
         <interfaced.item name="geometric_tolerance_relationship"/>
         <interfaced.item name="geometric_tolerance_with_datum_reference"/>
         <interfaced.item name="geometric_tolerance_with_defined_unit"/>
         <interfaced.item name="modified_geometric_tolerance"/>
         <interfaced.item name="projected_zone_definition"/>
         <interfaced.item name="runout_zone_definition"/>
         <interfaced.item name="runout_zone_orientation_reference_direction"/>
         <interfaced.item name="tolerance_zone"/>
         <interfaced.item name="tolerance_zone_definition"/>
      </interface>
      <entity name="angularity_tolerance" supertypes="geometric_tolerance_with_datum_reference" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt; 3"/>
      <where label="IP1"/>
         <where label="IP2"/>
      </entity>
      <entity name="circular_runout_tolerance" supertypes="geometric_tolerance_with_datum_reference" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 2"/>
      </entity>
      <entity name="coaxiality_tolerance" supertypes="geometric_tolerance_with_datum_reference" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 2"/>
      <where label="IP1"/>
      </entity>
      <entity name="concentricity_tolerance" supertypes="geometric_tolerance_with_datum_reference" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) = 1"/>
      <where label="IP1"/>
      </entity>
      <entity name="cylindricity_tolerance" supertypes="geometric_tolerance" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="NOT ('AIC_GEOMETRIC_TOLERANCES.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF))"/>
      <where label="IP1"/>
      </entity>
      <entity name="flatness_tolerance" supertypes="geometric_tolerance" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="NOT ('AIC_GEOMETRIC_TOLERANCES.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF))"/>
      <where label="IP1"/>
      </entity>
      <entity name="line_profile_tolerance" supertypes="geometric_tolerance" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="NOT ('AIC_GEOMETRIC_TOLERANCES.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF)) OR ( SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3)"/>
         <where label="WR2" expression="SIZEOF ( &#10;QUERY ( sar &lt;* USEDIN (SELF\geometric_tolerance.toleranced_shape_aspect, 'PRODUCT_PROPERTY_DEFINITION_SCHEMA.' + 'SHAPE_ASPECT_RELATIONSHIP.RELATING_SHAPE_ASPECT')| (sar.name IN [ 'affected plane association', 'resulting intersection curve association' ]) )) = 1"/>
      </entity>
      <entity name="parallelism_tolerance" supertypes="geometric_tolerance_with_datum_reference" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt; 3"/>
      <where label="IP1"/>
         <where label="IP2"/>
      </entity>
      <entity name="perpendicularity_tolerance" supertypes="geometric_tolerance_with_datum_reference" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3"/>
      <where label="IP1"/>
         <where label="IP2"/>
      </entity>
      <entity name="position_tolerance" supertypes="geometric_tolerance" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="NOT ('AIC_GEOMETRIC_TOLERANCES.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF)) OR ( SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3)"/>
      </entity>
      <entity name="roundness_tolerance" supertypes="geometric_tolerance" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="NOT ('AIC_GEOMETRIC_TOLERANCES.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF))"/>
      </entity>
      <entity name="straightness_tolerance" supertypes="geometric_tolerance" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="NOT ('AIC_GEOMETRIC_TOLERANCES.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF))"/>
      </entity>
      <entity name="surface_profile_tolerance" supertypes="geometric_tolerance" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="NOT ('AIC_GEOMETRIC_TOLERANCES.' + 'GEOMETRIC_TOLERANCE_WITH_DATUM_REFERENCE' IN TYPEOF (SELF)) OR ( SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3)"/>
      </entity>
      <entity name="symmetry_tolerance" supertypes="geometric_tolerance_with_datum_reference" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 3"/>
      </entity>
      <entity name="total_runout_tolerance" supertypes="geometric_tolerance_with_datum_reference" abstract.supertype="NO" abstract.entity="NO">
         <where label="WR1" expression="SIZEOF (SELF\geometric_tolerance_with_datum_reference.datum_system) &lt;= 2"/>
      </entity>
   </schema>
</express>
