<?xml version="1.0"?>
<!-- $Id: express2xml.js,v 1.17 2002/07/09 14:29:45 robbod Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  reference="ISO 10303-41"
  rcs.date="$Date: $"
  rcs.revision="$Revision: $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.17"
    source="../data/resources/basic_attribute_schema/basic_attribute_schema.exp"/>

  <schema name="basic_attribute_schema">
    <interface
      kind="reference"
      schema="action_schema">
      <interfaced.item
        name="action"/>
      <interfaced.item
        name="action_request_solution"/>
    </interface>

    <interface
      kind="reference"
      schema="application_context_schema">
      <interfaced.item
        name="application_context"/>
    </interface>

    <interface
      kind="reference"
      schema="approval_schema">
      <interfaced.item
        name="approval_date_time"/>
      <interfaced.item
        name="approval_role"/>
    </interface>

    <interface
      kind="reference"
      schema="configuration_management_schema">
      <interfaced.item
        name="configuration_design"/>
    </interface>

    <interface
      kind="reference"
      schema="date_time_schema">
      <interfaced.item
        name="date_role"/>
      <interfaced.item
        name="date_time_role"/>
      <interfaced.item
        name="time_role"/>
    </interface>

    <interface
      kind="reference"
      schema="effectivity_schema">
      <interfaced.item
        name="effectivity"/>
    </interface>

    <interface
      kind="reference"
      schema="external_reference_schema">
      <interfaced.item
        name="external_source"/>
    </interface>

    <interface
      kind="reference"
      schema="management_resources_schema">
      <interfaced.item
        name="action_assignment"/>
      <interfaced.item
        name="action_request_assignment"/>
      <interfaced.item
        name="approval_assignment"/>
      <interfaced.item
        name="certification_assignment"/>
      <interfaced.item
        name="contract_assignment"/>
      <interfaced.item
        name="document_reference"/>
      <interfaced.item
        name="effectivity_assignment"/>
      <interfaced.item
        name="external_referent_assignment"/>
      <interfaced.item
        name="group_assignment"/>
      <interfaced.item
        name="name_assignment"/>
      <interfaced.item
        name="security_classification_assignment"/>
    </interface>

    <interface
      kind="reference"
      schema="measure_schema">
      <interfaced.item
        name="derived_unit"/>
    </interface>

    <interface
      kind="reference"
      schema="person_organization_schema">
      <interfaced.item
        name="address"/>
      <interfaced.item
        name="person_and_organization_role"/>
      <interfaced.item
        name="person_and_organization"/>
      <interfaced.item
        name="person_role"/>
      <interfaced.item
        name="organization_role"/>
      <interfaced.item
        name="organizational_project"/>
    </interface>

    <interface
      kind="reference"
      schema="product_definition_schema">
      <interfaced.item
        name="product_category"/>
      <interfaced.item
        name="product_definition"/>
      <interfaced.item
        name="product_definition_substitute"/>
    </interface>

    <interface
      kind="reference"
      schema="product_property_definition_schema">
      <interfaced.item
        name="property_definition"/>
      <interfaced.item
        name="shape_aspect"/>
      <interfaced.item
        name="shape_aspect_relationship"/>
    </interface>

    <interface
      kind="reference"
      schema="product_property_representation_schema">
      <interfaced.item
        name="context_dependent_shape_representation"/>
      <interfaced.item
        name="property_definition_representation"/>
    </interface>

    <interface
      kind="reference"
      schema="group_schema">
      <interfaced.item
        name="group"/>
    </interface>

    <interface
      kind="reference"
      schema="representation_schema">
      <interfaced.item
        name="representation"/>
    </interface>

    <interface
      kind="reference"
      schema="support_resource_schema">
      <interfaced.item
        name="identifier"/>
      <interfaced.item
        name="label"/>
      <interfaced.item
        name="text"/>
    </interface>

    <type name="description_attribute_select">
      <select
        selectitems="action_request_solution application_context approval_role configuration_design date_role date_time_role context_dependent_shape_representation effectivity external_source organization_role person_and_organization_role person_and_organization person_role property_definition_representation representation time_role">
      </select>

    </type>
    <type name="id_attribute_select">
      <select
        selectitems="action address product_category property_definition shape_aspect shape_aspect_relationship application_context group organizational_project representation">
      </select>

    </type>
    <type name="name_attribute_select">
      <select
        selectitems="action_request_solution address configuration_design context_dependent_shape_representation derived_unit effectivity person_and_organization product_definition product_definition_substitute property_definition_representation">
      </select>

    </type>
    <type name="role_select">
      <select
        selectitems="action_assignment action_request_assignment approval_assignment approval_date_time certification_assignment contract_assignment document_reference effectivity_assignment external_referent_assignment group_assignment name_assignment security_classification_assignment">
      </select>

    </type>
    <entity
      name="description_attribute">
      <explicit
        name="attribute_value">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="described_item">
        <typename
          name="description_attribute_select"/>
      </explicit>
    </entity>

    <entity
      name="id_attribute">
      <explicit
        name="attribute_value">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="identified_item">
        <typename
          name="id_attribute_select"/>
      </explicit>
    </entity>

    <entity
      name="name_attribute">
      <explicit
        name="attribute_value">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="named_item">
        <typename
          name="name_attribute_select"/>
      </explicit>
    </entity>

    <entity
      name="object_role">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description"
        optional="YES">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="role_association">
      <explicit
        name="role">
        <typename
          name="object_role"/>
      </explicit>
      <explicit
        name="item_with_role">
        <typename
          name="role_select"/>
      </explicit>
    </entity>

    <function
      name="get_description_value">
      <parameter
        name="obj">
        <typename
          name="description_attribute_select"/>
      </parameter>
      <typename
        name="text"/>
      <algorithm>
  LOCAL
    description_bag : BAG OF description_attribute := 
                      (USEDIN (obj,
                      'BASIC_ATTRIBUTE_SCHEMA.' +
                      'DESCRIPTION_ATTRIBUTE.' +
                      'DESCRIBED_ITEM'));
  END_LOCAL;
  IF SIZEOF (description_bag) = 1 
    THEN RETURN (description_bag[1].attribute_value);
    ELSE RETURN (?);
  END_IF;
      </algorithm>

    </function>

    <function
      name="get_id_value">
      <parameter
        name="obj">
        <typename
          name="id_attribute_select"/>
      </parameter>
      <typename
        name="identifier"/>
      <algorithm>
  LOCAL
    id_bag : BAG OF id_attribute :=
             (USEDIN (obj,
             'BASIC_ATTRIBUTE_SCHEMA.' +
             'ID_ATTRIBUTE.' +
             'IDENTIFIED_ITEM'));
  END_LOCAL;
  IF SIZEOF (id_bag) = 1
    THEN RETURN (id_bag[1].attribute_value);
    ELSE RETURN (?);
  END_IF;
      </algorithm>

    </function>

    <function
      name="get_name_value">
      <parameter
        name="obj">
        <typename
          name="name_attribute_select"/>
      </parameter>
      <typename
        name="label"/>
      <algorithm>
  LOCAL
    name_bag : BAG OF name_attribute :=
               (USEDIN (obj,
               'BASIC_ATTRIBUTE_SCHEMA.' +
               'NAME_ATTRIBUTE.' +
               'NAMED_ITEM'));
  END_LOCAL;
  IF SIZEOF (name_bag) = 1
    THEN RETURN (name_bag[1].attribute_value);
    ELSE RETURN (?);
  END_IF;
      </algorithm>

    </function>

    <function
      name="get_role">
      <parameter
        name="obj">
        <typename
          name="role_select"/>
      </parameter>
      <typename
        name="object_role"/>
      <algorithm>
  LOCAL
  role_bag : BAG OF role_association:=
             (USEDIN (obj,
             'BASIC_ATTRIBUTE_SCHEMA.' +
             'ROLE_ASSOCIATION.' +
             'ITEM_WITH_ROLE'));
  END_LOCAL;
  IF SIZEOF (role_bag) = 1
    THEN RETURN (role_bag[1].role);
    ELSE RETURN (?);
  END_IF;
      </algorithm>

    </function>

  </schema>

</express>
