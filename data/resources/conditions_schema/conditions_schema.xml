<?xml version='1.0' encoding='UTF-8'?>
<!-- $Id: conditions_schema.xml,v 1.3 2010/09/11 20:18:29 lothartklein Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  rcs.date="$Date: 2010/09/11 20:18:29 $"
  rcs.revision="$Revision: 1.3 $"
  reference="ISO 10303-110" description.file="descriptions.xml">

  <application
    name="express2xml2.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.38"
    source="conditions_schema.exp"/>

  <schema name="conditions_schema">

    <interface
      kind="reference"
      schema="analysis_schema">
      <interfaced.item
        name="model_property_distribution"/>
      <interfaced.item
        name="model_state_domain"/>
    </interface>
    <interface
      kind="reference"
      schema="basis_schema">
      <interfaced.item
        name="geometry_reference"/>
    </interface>
    <interface
      kind="reference"
      schema="mesh_topology_schema">
      <interfaced.item
        name="indices_group"/>
      <interfaced.item
        name="indices_list"/>
      <interfaced.item
        name="mesh_location"/>
      <interfaced.item
        name="vertex_defined_cell"/>
    </interface>
    <interface
      kind="reference"
      schema="support_resource_schema">
      <interfaced.item
        name="label"/>
      <interfaced.item
        name="text"/>
    </interface>
    <type name="fd_bc_type_compound">
      <enumeration
        extensible="YES"
        basedon="mbna_bc_type_compound"
        items="bc_inflow bc_outflow bc_farfield">
      </enumeration>
    </type>

    <type name="fd_bc_type_simple">
      <enumeration
        extensible="YES"
        basedon="mbna_bc_type_simple"
        items="bc_wall_inviscid bc_wall_viscous_heat_flux bc_wall_viscous_isothermal bc_wall_viscous bc_wall bc_inflow_subsonic bc_inflow_supersonic bc_outflow_subsonic bc_outflow_supersonic bc_tunnel_inflow bc_tunnel_outflow bc_degenerate_line bc_degenerate_point bc_symmetry_polar bc_axissymmetric_wedge">
      </enumeration>
    </type>

    <type name="ijk_minmax">
      <enumeration
        items="i_min j_min k_min i_max j_max k_max">
      </enumeration>
    </type>

    <type name="mbna_bc_type">
      <select
        extensible="YES"
        selectitems="mbna_bc_type_simple mbna_bc_type_compound">
      </select>
    </type>

    <type name="mbna_bc_type_compound">
      <enumeration
        extensible="YES"
        items="unspecified application_defined">
      </enumeration>
    </type>

    <type name="mbna_bc_type_simple">
      <enumeration
        extensible="YES"
        items="unspecified application_defined bc_general bc_Dirichlet bc_Neumann bc_extrapolate bc_symmetry_plane">
      </enumeration>
    </type>

    <type name="Riemann_1D_data_name">
      <enumeration
        extensible="YES"
        items="Riemann_invariant_plus Riemann_invariant_minus characteristic_entropy characteristic_vorticity1 characteristic_vorticity2 characteristic_acoustic_plus characteristic_acoustic_minus">
      </enumeration>
    </type>

    <entity
      name="elements_bc"
      supertypes="mbna_bc">
      <explicit
        name="elements">
        <aggregate
          type="LIST"/>
        <typename
          name="vertex_defined_cell"/>
      </explicit>
    </entity>

    <entity
      name="fd_bc"
      supertypes="mbna_bc">
      <explicit
        name="datasets">
        <aggregate
          type="SET"/>
        <typename
          name="fd_bc_dataset"/>
        <redeclaration
          entity-ref="mbna_bc"/>
        </explicit>
      </entity>

      <entity
        name="fd_bc_dataset"
        supertypes="mbna_bc_dataset">
        <explicit
          name="the_type">
          <typename
            name="fd_bc_type_simple"/>
          <redeclaration
            entity-ref="mbna_bc_dataset"/>
          </explicit>
        </entity>

        <entity
          name="fd_zone_bc"
          supertypes="mbna_zone_bc">
          <explicit
            name="conditions">
            <aggregate
              type="SET"/>
            <typename
              name="fd_bc"/>
            <redeclaration
              entity-ref="mbna_zone_bc"/>
            </explicit>
          </entity>

          <entity
            name="indexed_elements_bc"
            supertypes="mbna_bc">
            <explicit
              name="element_indices">
              <typename
                name="indices_group"/>
            </explicit>
          </entity>

          <entity
            name="indexed_points_bc"
            supertypes="mbna_bc">
            <explicit
              name="point_indices">
              <typename
                name="indices_group"/>
            </explicit>
          </entity>

          <entity
            name="mbna_bc"
            supertypes="mbna_condition">
            <explicit
              name="datasets">
              <aggregate
                type="SET"/>
              <typename
                name="mbna_bc_dataset"/>
            </explicit>
            <explicit
              name="family">
              <aggregate
                type="SET"/>
              <typename
                name="mbna_family"/>
            </explicit>
            <explicit
              name="gridloc">
              <typename
                name="mesh_location"/>
            </explicit>
            <explicit
              name="inward_normal_index"
              optional="YES">
              <typename
                name="ijk_minmax"/>
            </explicit>
            <explicit
              name="inward_normal_list"
              optional="YES">
              <typename
                name="indices_list"/>
            </explicit>
            <explicit
              name="rstate">
              <aggregate
                type="SET"/>
              <typename
                name="mbna_reference_state"/>
            </explicit>
            <explicit
              name="the_type">
              <typename
                name="mbna_bc_type"/>
            </explicit>
          </entity>

          <subtype.constraint name="sc1_mbna_bc"
            entity="mbna_bc"
            super.expression="ONEOF(elements_bc, indexed_elements_bc, indexed_points_bc)">
          </subtype.constraint>
          <entity
            name="mbna_bc_data"
            supertypes="mbna_condition">
          </entity>

          <subtype.constraint name="sc1_mbna_bc_data"
            entity="mbna_bc_data"
            abstract.supertype="YES">
          </subtype.constraint>
          <entity
            name="mbna_bc_data_global"
            supertypes="mbna_bc_data">
            <inverse
              name="data_global"
              entity="model_property_distribution"
              attribute="domain">
              <inverse.aggregate
                type="SET"
                lower="0"
                upper="?"/>
            </inverse>
          </entity>

          <entity
            name="mbna_bc_data_local"
            supertypes="mbna_bc_data">
            <inverse
              name="data_local"
              entity="model_property_distribution"
              attribute="domain">
              <inverse.aggregate
                type="SET"
                lower="0"
                upper="?"/>
            </inverse>
          </entity>

          <entity
            name="mbna_bc_dataset"
            supertypes="mbna_condition">
            <explicit
              name="gridloc">
              <typename
                name="mesh_location"/>
            </explicit>
            <explicit
              name="rstate">
              <aggregate
                type="SET"/>
              <typename
                name="mbna_reference_state"/>
            </explicit>
            <explicit
              name="the_type">
              <typename
                name="mbna_bc_type_simple"/>
            </explicit>
          </entity>

          <subtype.constraint name="sc1_mbna_bc_dataset"
            entity="mbna_bc_dataset"
            super.expression="ONEOF(mbna_Dirichlet_bc_dataset, mbna_Neumann_bc_dataset)">
          </subtype.constraint>
          <entity
            name="mbna_condition"
            supertypes="model_state_domain">
          </entity>

          <subtype.constraint name="sc1_mbna_condition"
            entity="mbna_condition"
            abstract.supertype="YES"
            super.expression="ONEOF(mbna_zone_bc, mbna_bc, mbna_bc_dataset, mbna_bc_data, mbna_reference_state, mbna_integral_data)">
          </subtype.constraint>
          <entity
            name="mbna_Dirichlet_bc_dataset"
            supertypes="mbna_bc_dataset">
            <explicit
              name="data">
              <typename
                name="mbna_bc_data"/>
            </explicit>
          </entity>

          <entity
            name="mbna_family">
            <explicit
              name="description">
              <typename
                name="text"/>
            </explicit>
            <explicit
              name="id">
              <typename
                name="label"/>
            </explicit>
            <explicit
              name="conditions">
              <aggregate
                type="SET"/>
              <typename
                name="mbna_bc_type"/>
            </explicit>
            <explicit
              name="geometry">
              <aggregate
                type="SET"/>
              <typename
                name="geometry_reference"/>
            </explicit>
          </entity>

          <entity
            name="mbna_integral_data"
            supertypes="mbna_condition">
            <inverse
              name="data"
              entity="model_property_distribution"
              attribute="domain">
              <inverse.aggregate
                type="SET"
                lower="0"
                upper="?"/>
            </inverse>
          </entity>

          <entity
            name="mbna_Neumann_bc_dataset"
            supertypes="mbna_bc_dataset">
            <explicit
              name="data">
              <typename
                name="mbna_bc_data"/>
            </explicit>
          </entity>

          <entity
            name="mbna_reference_state"
            supertypes="mbna_condition">
            <inverse
              name="data"
              entity="model_property_distribution"
              attribute="domain">
              <inverse.aggregate
                type="SET"
                lower="0"
                upper="?"/>
            </inverse>
          </entity>

          <entity
            name="mbna_zone_bc"
            supertypes="mbna_condition">
            <explicit
              name="conditions">
              <aggregate
                type="SET"/>
              <typename
                name="mbna_bc"/>
            </explicit>
            <explicit
              name="rstate">
              <aggregate
                type="SET"/>
              <typename
                name="mbna_reference_state"/>
            </explicit>
          </entity>

        </schema>
      </express>
