SCHEMA kinematic_property_schema;

REFERENCE FROM kinematic_structure_schema (
  kinematic_link_representation,
  mechanism_representation
);

REFERENCE FROM kinematic_topology_schema (
  kinematic_link,
  kinematic_topology_representation
);

REFERENCE FROM product_property_definition_schema (
  property_definition
);

REFERENCE FROM product_definition_schema (
  product_definition
);

REFERENCE FROM product_property_representation_schema (
  property_definition_representation
);

REFERENCE FROM representation_schema
    (using_representations);
     
ENTITY product_definition_kinematics
  SUBTYPE OF (property_definition);
  SELF\property_definition.definition : product_definition;
INVERSE
  representation_relation : kinematic_property_definition_representation FOR definition;
UNIQUE
  UR1 : definition;   
END_ENTITY;

ENTITY kinematic_property_definition_representation
  ABSTRACT SUPERTYPE OF ( ONEOF (kinematic_property_topology_representation, kinematic_property_mechanism_representation_relation))
  SUBTYPE OF (property_definition_representation);
  SELF\property_definition_representation.definition : product_definition_kinematics; -- LK
END_ENTITY;

ENTITY kinematic_property_topology_representation
  SUBTYPE OF (kinematic_property_definition_representation);
  SELF\property_definition_representation.used_representation  : kinematic_topology_representation; 
  base : kinematic_link;
WHERE
  WR1: used_representation IN using_representations(base);
END_ENTITY;

ENTITY kinematic_property_mechanism_representation_relation
  SUBTYPE OF (kinematic_property_definition_representation);
  SELF\property_definition_representation.used_representation  : mechanism_representation; 
  base : kinematic_link_representation;
WHERE
  WR1: used_representation IN using_representations(base);
END_ENTITY;

END_SCHEMA;

