<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express description.file="descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="ISO 10303-41">
   <application name="JSDAI" owner="LKSoft" source="management_resources_schema schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="management_resources_schema">
      <interface kind="reference" schema="action_schema"/>
      <interface kind="reference" schema="application_context_schema">
         <interfaced.item name="library_context"/>
      </interface>
      <interface kind="reference" schema="approval_schema"/>
      <interface kind="reference" schema="basic_attribute_schema">
         <interfaced.item name="get_role"/>
         <interfaced.item name="object_role"/>
         <interfaced.item name="role_association"/>
      </interface>
      <interface kind="reference" schema="certification_schema"/>
      <interface kind="reference" schema="contract_schema"/>
      <interface kind="reference" schema="date_time_schema"/>
      <interface kind="reference" schema="document_schema"/>
      <interface kind="reference" schema="effectivity_schema"/>
      <interface kind="reference" schema="experience_schema"/>
      <interface kind="reference" schema="external_reference_schema">
         <interfaced.item name="external_source"/>
      </interface>
      <interface kind="reference" schema="group_schema"/>
      <interface kind="reference" schema="location_schema"/>
      <interface kind="reference" schema="person_organization_schema"/>
      <interface kind="reference" schema="qualifications_schema"/>
      <interface kind="reference" schema="security_classification_schema"/>
      <interface kind="reference" schema="support_resource_schema"/>
      <type name="attribute_type">
         <select selectitems="label text"/>
      </type>
      <entity abstract.supertype="YES" name="action_assignment">
         <explicit name="assigned_action">
            <typename name="action"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="action_method_assignment">
         <explicit name="assigned_action_method">
            <typename name="action_method"/>
         </explicit>
         <explicit name="role">
            <typename name="action_method_role"/>
         </explicit>
      </entity>
      <entity name="action_method_role">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="action_request_assignment">
         <explicit name="assigned_action_request">
            <typename name="versioned_action_request"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="approval_assignment">
         <explicit name="assigned_approval">
            <typename name="approval"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="attribute_classification_assignment">
         <explicit name="assigned_class">
            <typename name="group"/>
         </explicit>
         <explicit name="attribute_name">
            <typename name="label"/>
         </explicit>
         <explicit name="role">
            <typename name="classification_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="attribute_value_assignment">
         <explicit name="attribute_name">
            <typename name="label"/>
         </explicit>
         <explicit name="attribute_value">
            <typename name="attribute_type"/>
         </explicit>
         <explicit name="role">
            <typename name="attribute_value_role"/>
         </explicit>
      </entity>
      <entity name="attribute_value_role">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="certification_assignment">
         <explicit name="assigned_certification">
            <typename name="certification"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="classification_assignment">
         <explicit name="assigned_class">
            <typename name="group"/>
         </explicit>
         <explicit name="role">
            <typename name="classification_role"/>
         </explicit>
      </entity>
      <entity name="classification_role">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="contract_assignment">
         <explicit name="assigned_contract">
            <typename name="contract"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="date_and_time_assignment">
         <explicit name="assigned_date_and_time">
            <typename name="date_and_time"/>
         </explicit>
         <explicit name="role">
            <typename name="date_time_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="date_assignment">
         <explicit name="assigned_date">
            <typename name="date"/>
         </explicit>
         <explicit name="role">
            <typename name="date_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="document_reference">
         <explicit name="assigned_document">
            <typename name="document"/>
         </explicit>
         <explicit name="source">
            <typename name="label"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="document_usage_constraint_assignment">
         <explicit name="assigned_document_usage">
            <typename name="document_usage_constraint"/>
         </explicit>
         <explicit name="role">
            <typename name="document_usage_role"/>
         </explicit>
      </entity>
      <entity name="document_usage_role">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="effectivity_assignment">
         <explicit name="assigned_effectivity">
            <typename name="effectivity"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="effectivity_context_assignment">
         <explicit name="assigned_effectivity_assignment">
            <typename name="effectivity_assignment"/>
         </explicit>
         <explicit name="role">
            <typename name="effectivity_context_role"/>
         </explicit>
      </entity>
      <entity name="effectivity_context_role">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="event_occurrence_assignment">
         <explicit name="assigned_event_occurrence">
            <typename name="event_occurrence"/>
         </explicit>
         <explicit name="role">
            <typename name="event_occurrence_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="event_occurrence_context_assignment">
         <explicit name="assigned_event_occurrence_assignment">
            <typename name="event_occurrence_assignment"/>
         </explicit>
         <explicit name="role">
            <typename name="event_occurrence_context_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="experience_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_experience">
            <typename name="experience"/>
         </explicit>
         <explicit name="role">
            <typename name="experience_role"/>
         </explicit>
      </entity>
      <entity name="experience_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="experience_type_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_experience_type">
            <typename name="experience_type"/>
         </explicit>
         <explicit name="role">
            <typename name="experience_type_role"/>
         </explicit>
      </entity>
      <entity name="experience_type_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="external_identification_assignment" supertypes="identification_assignment">
         <explicit name="source">
            <typename name="external_source"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="external_referent_assignment">
         <explicit name="assigned_name">
            <typename name="label"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <unique label="UR1">
            <unique.attribute attribute="assigned_name"/>
         </unique>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="group_assignment">
         <explicit name="assigned_group">
            <typename name="group"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="identification_assignment">
         <explicit name="assigned_id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="role">
            <typename name="identification_role"/>
         </explicit>
      </entity>
      <entity name="identification_assignment_relationship">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="relating_identification_assignment">
            <typename name="identification_assignment"/>
         </explicit>
         <explicit name="related_identification_assignment">
            <typename name="identification_assignment"/>
         </explicit>
      </entity>
      <entity name="identification_role">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="library_assignment" supertypes="external_referent_assignment">
         <explicit name="frame_of_reference">
            <typename name="library_context"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="frame_of_reference"/>
         </unique>
      </entity>
      <entity abstract.supertype="YES" name="location_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_location">
            <typename name="location"/>
         </explicit>
         <explicit name="role">
            <typename name="location_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="location_representation_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="represented_location">
            <typename name="location"/>
         </explicit>
         <explicit name="role">
            <typename name="location_representation_role"/>
         </explicit>
      </entity>
      <entity name="location_representation_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity name="location_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="name_assignment">
         <explicit name="assigned_name">
            <typename name="label"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="organization_assignment">
         <explicit name="assigned_organization">
            <typename name="organization"/>
         </explicit>
         <explicit name="role">
            <typename name="organization_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="organization_type_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_organization_type">
            <typename name="organization_type"/>
         </explicit>
         <explicit name="role">
            <typename name="organization_type_role"/>
         </explicit>
      </entity>
      <entity name="organization_type_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="organizational_project_assignment">
         <explicit name="assigned_organizational_project">
            <typename name="organizational_project"/>
         </explicit>
         <explicit name="role">
            <typename name="organizational_project_role"/>
         </explicit>
      </entity>
      <entity name="organizational_project_role">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="person_and_organization_assignment">
         <explicit name="assigned_person_and_organization">
            <typename name="person_and_organization"/>
         </explicit>
         <explicit name="role">
            <typename name="person_and_organization_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="person_assignment">
         <explicit name="assigned_person">
            <typename name="person"/>
         </explicit>
         <explicit name="role">
            <typename name="person_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="person_type_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_person_type">
            <typename name="person_type"/>
         </explicit>
         <explicit name="role">
            <typename name="person_type_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="person_type_definition_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_person_type_definition">
            <typename name="person_type_definition"/>
         </explicit>
         <explicit name="role">
            <typename name="person_type_definition_role"/>
         </explicit>
      </entity>
      <entity name="person_type_definition_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity name="person_type_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="position_in_organization_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_position_in_organization">
            <typename name="position_in_organization"/>
         </explicit>
         <explicit name="role">
            <typename name="position_in_organization_role"/>
         </explicit>
      </entity>
      <entity name="position_in_organization_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="position_in_organization_type_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_position_in_organization_type">
            <typename name="position_in_organization_type"/>
         </explicit>
         <explicit name="role">
            <typename name="position_in_organization_type_role"/>
         </explicit>
      </entity>
      <entity name="position_in_organization_type_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="qualification_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_qualification">
            <typename name="qualification"/>
         </explicit>
         <explicit name="role">
            <typename name="qualification_role"/>
         </explicit>
      </entity>
      <entity name="qualification_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="qualification_type_assignment">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_qualification_type">
            <typename name="qualification_type"/>
         </explicit>
         <explicit name="role">
            <typename name="qualification_type_role"/>
         </explicit>
      </entity>
      <entity name="qualification_type_role">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description" optional="YES">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="security_classification_assignment">
         <explicit name="assigned_security_classification">
            <typename name="security_classification"/>
         </explicit>
         <derived expression="get_role(SELF)" name="role">
            <typename name="object_role"/>
         </derived>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ROLE_ASSOCIATION.ITEM_WITH_ROLE')) &lt;= 1" label="WR1"/>
      </entity>
      <entity abstract.supertype="YES" name="time_assignment">
         <explicit name="assigned_time">
            <typename name="local_time"/>
         </explicit>
         <explicit name="role">
            <typename name="time_role"/>
         </explicit>
      </entity>
      <entity abstract.supertype="YES" name="time_interval_assignment">
         <explicit name="assigned_time_interval">
            <typename name="time_interval"/>
         </explicit>
         <explicit name="role">
            <typename name="time_interval_role"/>
         </explicit>
      </entity>
      <function name="acyclic_identification_assignment_relationship">
         <parameter name="relation">
            <typename name="identification_assignment_relationship"/>
         </parameter>
         <parameter name="relatives">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="identification_assignment"/>
         </parameter>
         <parameter name="specific_relation">
            <builtintype type="STRING"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>LOCAL
      x : SET OF identification_assignment_relationship;
    END_LOCAL;

    IF relation.relating_identification_assignment IN relatives THEN
      RETURN (FALSE);
    END_IF;
    x := QUERY(ia &lt;* bag_to_set(USEDIN(relation.relating_identification_assignment, 'MANAGEMENT_RESOURCES_SCHEMA.' + 'IDENTIFICATION_ASSIGNMENT_RELATIONSHIP.' + 'RELATED_IDENTIFICATION_ASSIGNMENT')) | specific_relation IN TYPEOF(ia));
    REPEAT i := 1 TO HIINDEX(x);
      IF NOT acyclic_identification_assignment_relationship(x[i], relatives + relation.relating_identification_assignment, specific_relation) THEN
        RETURN (FALSE);
      END_IF;
    END_REPEAT;
    RETURN (TRUE);</algorithm>
      </function>
   </schema>
</express>
