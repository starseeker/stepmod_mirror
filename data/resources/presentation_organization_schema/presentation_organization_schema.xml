<?xml version="1.0" encoding="utf-8"?><?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express
  SYSTEM "../../../dtd/express.dtd">
<express description.file="descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="">
   <application name="JSDAI" owner="LKSoft" source="presentation_organization_schema schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="presentation_organization_schema">
      <interface kind="reference" schema="presentation_resource_schema">
         <interfaced.item name="colour"/>
         <interfaced.item name="planar_box"/>
         <interfaced.item name="planar_extent"/>
         <interfaced.item name="presentation_scaled_placement"/>
      </interface>
      <interface kind="reference" schema="presentation_definition_schema">
         <interfaced.item name="annotation_occurrence"/>
         <interfaced.item name="symbol_representation"/>
         <interfaced.item name="symbol_representation_relationship"/>
      </interface>
      <interface kind="reference" schema="presentation_appearance_schema">
         <interfaced.item name="styled_item"/>
      </interface>
      <interface kind="reference" schema="geometry_schema">
         <interfaced.item name="axis2_placement"/>
         <interfaced.item name="axis2_placement_2d"/>
         <interfaced.item name="axis2_placement_3d"/>
         <interfaced.item name="cartesian_point"/>
         <interfaced.item name="curve"/>
         <interfaced.item name="direction"/>
         <interfaced.item name="dot_product"/>
         <interfaced.item name="geometric_representation_context"/>
         <interfaced.item name="geometric_representation_item"/>
         <interfaced.item name="plane"/>
      </interface>
      <interface kind="reference" schema="representation_schema">
         <interfaced.item name="founded_item"/>
         <interfaced.item name="item_defined_transformation"/>
         <interfaced.item name="item_in_context"/>
         <interfaced.item name="mapped_item"/>
         <interfaced.item name="representation"/>
         <interfaced.item name="representation_item"/>
         <interfaced.item name="representation_map"/>
         <interfaced.item name="representation_relationship"/>
         <interfaced.item name="representation_relationship_with_transformation"/>
         <interfaced.item name="using_representations"/>
      </interface>
      <interface kind="reference" schema="measure_schema">
         <interfaced.item name="length_measure"/>
         <interfaced.item name="positive_ratio_measure"/>
         <interfaced.item name="positive_plane_angle_measure"/>
      </interface>
      <interface kind="reference" schema="support_resource_schema">
         <interfaced.item name="identifier"/>
         <interfaced.item name="label"/>
         <interfaced.item name="text"/>
         <interfaced.item name="bag_to_set"/>
      </interface>
      <type name="annotation_representation_select">
         <select extensible="YES" selectitems="area_dependent_annotation_representation presentation_area presentation_view symbol_representation view_dependent_annotation_representation"/>
      </type>
      <type name="area_dependent_annotation_representation_item">
         <select selectitems="annotation_occurrence axis2_placement"/>
      </type>
      <type name="area_or_view">
         <select selectitems="presentation_area presentation_view"/>
      </type>
      <type name="camera_model_d3_multi_clipping_interection_select">
         <select selectitems="camera_model_d3_multi_clipping_union plane"/>
      </type>
      <type name="camera_model_d3_multi_clipping_union_select">
         <select selectitems="camera_model_d3_multi_clipping_intersection plane"/>
      </type>
      <type name="central_or_parallel">
         <enumeration items="central parallel"/>
      </type>
      <type name="layered_item">
         <select selectitems="presentation_representation representation_item"/>
      </type>
      <type name="presentation_representation_select">
         <select selectitems="presentation_representation presentation_set"/>
      </type>
      <type name="presentation_size_assignment_select">
         <select selectitems="presentation_view presentation_area area_in_set"/>
      </type>
      <type name="product_data_representation_view_item">
         <select selectitems="camera_image axis2_placement"/>
      </type>
      <type name="view_dependent_annotation_representation_item">
         <select selectitems="annotation_occurrence axis2_placement"/>
      </type>
      <entity name="area_dependent_annotation_representation" supertypes="presentation_representation">
         <explicit name="items">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="area_dependent_annotation_representation_item"/>
            <redeclaration entity-ref="representation"/>
         </explicit>
         <where expression="SIZEOF (QUERY (item &lt;* SELF\representation.items | &#xA;        ('PRESENTATION_DEFINITION_SCHEMA.ANNOTATION_OCCURRENCE' IN&#xA;        TYPEOF (item))&#xA;        )) &gt;= 1" label="WR1"/>
         <where expression="(SIZEOF (QUERY (prr &lt;* USEDIN (SELF, 'REPRESENTATION_SCHEMA.' +&#xA;                                                'REPRESENTATION_RELATIONSHIP.REP_2') | &#xA;           'PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_AREA' IN&#xA;           TYPEOF (prr\representation_relationship.rep_1))) &gt; 0)&#xA;                                  OR &#xA;           (SIZEOF(QUERY( rm &lt;* USEDIN(SELF, 'REPRESENTATION_SCHEMA.'+ &#xA;                                             'REPRESENTATION_MAP.'+ &#xA;                                             'MAPPED_REPRESENTATION') | &#xA;            SIZEOF(QUERY( mi &lt;* USEDIN(rm, 'REPRESENTATION_SCHEMA.'+&#xA;                                           'MAPPED_ITEM.'+&#xA;                                           'MAPPING_SOURCE') |   &#xA;            SIZEOF(QUERY( rep &lt;* using_representations (mi) |                              &#xA;                                           'PRESENTATION_ORGANIZATION_SCHEMA.'+&#xA;                                           'PRESENTATION_AREA' IN &#xA;                                           TYPEOF (rep))) &gt; 0&#xA;            )) &gt; 0))  &#xA;            &gt; 0)" label="WR2"/>
         <where expression="(SIZEOF (QUERY (prr &lt;* USEDIN (SELF, 'REPRESENTATION_SCHEMA.' +&#xA;                                                'REPRESENTATION_RELATIONSHIP.REP_2') | &#xA;           NOT('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_AREA' IN&#xA;           TYPEOF (prr\representation_relationship.rep_1)))) = 0)&#xA;                                  AND &#xA;           (SIZEOF(QUERY( rm &lt;* USEDIN(SELF, 'REPRESENTATION_SCHEMA.'+ &#xA;                                             'REPRESENTATION_MAP.'+ &#xA;                                             'MAPPED_REPRESENTATION') | &#xA;            SIZEOF(QUERY( mi &lt;* USEDIN(rm, 'REPRESENTATION_SCHEMA.'+&#xA;                                           'MAPPED_ITEM.'+&#xA;                                           'MAPPING_SOURCE') |   &#xA;            SIZEOF(QUERY( rep &lt;* using_representations (mi) |                              &#xA;                                      NOT('PRESENTATION_ORGANIZATION_SCHEMA.'+&#xA;                                          'PRESENTATION_AREA' IN &#xA;                                          TYPEOF (rep)))) &gt; 0&#xA;            )) &gt; 0))  &#xA;            = 0)" label="WR3"/>
      </entity>
      <entity name="area_in_set">
         <explicit name="area">
            <typename name="presentation_area"/>
         </explicit>
         <explicit name="in_set">
            <typename name="presentation_set"/>
         </explicit>
      </entity>
      <entity name="background_colour" supertypes="colour">
         <explicit name="presentation">
            <typename name="area_or_view"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="presentation"/>
         </unique>
      </entity>
      <entity name="camera_image" super.expression="ONEOF (camera_image_2d_with_scale, camera_image_3d_with_scale)" supertypes="mapped_item">
         <explicit name="mapping_source">
            <typename name="camera_usage"/>
            <redeclaration entity-ref="mapped_item"/>
         </explicit>
         <explicit name="mapping_target">
            <typename name="planar_box"/>
            <redeclaration entity-ref="mapped_item"/>
         </explicit>
         <where expression="'GEOMETRY_SCHEMA.GEOMETRIC_REPRESENTATION_ITEM'&#xA;        IN TYPEOF (SELF)" label="WR1"/>
      </entity>
      <entity name="camera_image_2d_with_scale" supertypes="camera_image">
         <derived expression="(SELF\mapped_item.mapping_target\planar_extent.size_in_x)/&#xA;      (SELF\mapped_item.mapping_source.mapping_origin\camera_model_d2.view_window\planar_extent.size_in_x)" name="scale">
            <typename name="positive_ratio_measure"/>
         </derived>
         <where expression="('PRESENTATION_ORGANIZATION_SCHEMA.CAMERA_MODEL_D2' IN TYPEOF(SELF\mapped_item.mapping_source.mapping_origin))" label="WR1"/>
         <where expression="aspect_ratio (SELF\mapped_item.mapping_target) = aspect_ratio (SELF\mapped_item.mapping_source.mapping_origin\camera_model_d2.view_window)" label="WR2"/>
         <where expression="SELF\mapped_item.mapping_source.mapping_origin\camera_model_d2.view_window_clipping" label="WR3"/>
      </entity>
      <entity name="camera_image_3d_with_scale" supertypes="camera_image">
         <derived expression="((SELF\mapped_item.mapping_target\&#xA;           planar_extent.size_in_x) / (SELF\mapped_item.mapping_source.&#xA;           mapping_origin\camera_model_d3.perspective_of_volume.view_window.&#xA;           size_in_x))" name="scale">
            <typename name="positive_ratio_measure"/>
         </derived>
         <where expression="('PRESENTATION_ORGANIZATION_SCHEMA.CAMERA_MODEL_D3'&#xA;         IN TYPEOF (SELF\mapped_item.mapping_source.mapping_origin))" label="WR1"/>
         <where expression="aspect_ratio(SELF\mapped_item.mapping_target) =&#xA;           aspect_ratio(SELF\mapped_item.mapping_source.mapping_origin\&#xA;           camera_model_d3.perspective_of_volume.view_window)" label="WR2"/>
         <where expression="SELF\mapped_item.mapping_source.mapping_origin\camera_model_d3.&#xA;           perspective_of_volume.front_plane_clipping&#xA;           AND&#xA;           SELF\mapped_item.mapping_source.mapping_origin\camera_model_d3.&#xA;           perspective_of_volume.view_volume_sides_clipping" label="WR3"/>
         <where expression="(SELF\mapped_item.mapping_target\planar_extent.size_in_x &gt; 0)&#xA;           AND&#xA;           (SELF\mapped_item.mapping_target\planar_extent.size_in_y &gt; 0)" label="WR4"/>
         <where expression="(SELF\mapped_item.mapping_source.mapping_origin\camera_model_d3.&#xA;           perspective_of_volume.view_window.size_in_x &gt; 0)&#xA;           AND&#xA;           (SELF\mapped_item.mapping_source.mapping_origin\camera_model_d3.&#xA;           perspective_of_volume.view_window.size_in_y &gt; 0)" label="WR5"/>
         <where expression="('GEOMETRY_SCHEMA.' +&#xA;            'AXIS2_PLACEMENT_2D' IN TYPEOF (SELF\mapped_item.&#xA;           mapping_target\planar_box.placement))&#xA;           AND NOT ('GEOMETRY_SCHEMA.' +&#xA;           'AXIS2_PLACEMENT_3D' IN TYPEOF (SELF\mapped_item.&#xA;           mapping_target\planar_box.placement))" label="WR6"/>
      </entity>
      <entity abstract.supertype="YES" name="camera_model" super.expression="ONEOF (camera_model_d2, camera_model_d3)" supertypes="geometric_representation_item">
         <where expression="(SIZEOF (USEDIN (SELF, 'REPRESENTATION_SCHEMA.' +&#xA;                                  'ITEM_DEFINED_TRANSFORMATION.' +&#xA;                                  'TRANSFORM_ITEM_1')) +&#xA;            SIZEOF (USEDIN (SELF, 'REPRESENTATION_SCHEMA.' +&#xA;                                  'REPRESENTATION_MAP.MAPPING_ORIGIN'))&#xA;            ) &gt; 0" label="WR1"/>
         <where expression="SIZEOF(USEDIN(SELF,'PRESENTATION_APPEARANCE_SCHEMA.'+&#xA;                              'STYLED_ITEM.ITEM')) = 0" label="WR2"/>
      </entity>
      <entity name="camera_model_d2" supertypes="camera_model">
         <explicit name="view_window">
            <typename name="planar_box"/>
         </explicit>
         <explicit name="view_window_clipping">
            <builtintype type="BOOLEAN"/>
         </explicit>
         <where expression="SELF\geometric_representation_item.dim = 2" label="WR1"/>
      </entity>
      <entity name="camera_model_d2_shape_clipping" supertypes="camera_model_d2">
         <explicit name="shape_clipping">
            <typename name="curve"/>
         </explicit>
      </entity>
      <entity name="camera_model_d3" supertypes="camera_model">
         <explicit name="view_reference_system">
            <typename name="axis2_placement_3d"/>
         </explicit>
         <explicit name="perspective_of_volume">
            <typename name="view_volume"/>
         </explicit>
         <where expression="(dot_product (SELF.view_reference_system.p[3],&#xA;           SELF.perspective_of_volume.view_window.placement.p[3]) = 1.0)&#xA;           AND&#xA;           (SELF.view_reference_system.location.coordinates[3] =&#xA;           SELF.perspective_of_volume.view_window.&#xA;             placement.location.coordinates[3])" label="WR1"/>
         <where expression="SELF\geometric_representation_item.dim = 3" label="WR2"/>
      </entity>
      <entity name="camera_model_d3_multi_clipping" supertypes="camera_model_d3">
         <explicit name="shape_clipping">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="camera_model_d3_multi_clipping_interection_select"/>
         </explicit>
      </entity>
      <entity name="camera_model_d3_multi_clipping_intersection" supertypes="geometric_representation_item">
         <explicit name="shape_clipping">
            <aggregate lower="2" type="SET" upper="?"/>
            <typename name="camera_model_d3_multi_clipping_interection_select"/>
         </explicit>
      </entity>
      <entity name="camera_model_d3_multi_clipping_union" supertypes="geometric_representation_item">
         <explicit name="shape_clipping">
            <aggregate lower="2" type="SET" upper="?"/>
            <typename name="camera_model_d3_multi_clipping_union_select"/>
         </explicit>
      </entity>
      <entity name="camera_model_d3_with_hlhsr" supertypes="camera_model_d3">
         <explicit name="hidden_line_surface_removal">
            <builtintype type="BOOLEAN"/>
         </explicit>
      </entity>
      <entity name="camera_model_with_light_sources" supertypes="camera_model_d3">
         <explicit name="sources">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="light_source"/>
         </explicit>
      </entity>
      <entity name="camera_usage" supertypes="representation_map">
         <explicit name="mapping_origin">
            <typename name="camera_model"/>
            <redeclaration entity-ref="representation_map"/>
         </explicit>
         <where expression="NOT ('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_REPRESENTATION'&#xA;          IN TYPEOF(SELF\representation_map.mapped_representation))" label="WR1"/>
      </entity>
      <entity name="graphical_transformation" supertypes="item_defined_transformation">
         <explicit name="transform_item_1">
            <typename name="axis2_placement_2d"/>
            <redeclaration entity-ref="item_defined_transformation"/>
         </explicit>
         <explicit name="transform_item_2">
            <typename name="presentation_scaled_placement"/>
            <redeclaration entity-ref="item_defined_transformation"/>
         </explicit>
      </entity>
      <entity name="light_source" super.expression="ONEOF (light_source_ambient, light_source_directional, light_source_positional, light_source_spot)" supertypes="geometric_representation_item">
         <explicit name="light_colour">
            <typename name="colour"/>
         </explicit>
         <where expression="SIZEOF(USEDIN(SELF,'PRESENTATION_APPEARANCE_SCHEMA.'+&#xA;                              'STYLED_ITEM.ITEM')) = 0" label="WR1"/>
      </entity>
      <entity name="light_source_ambient" supertypes="light_source"/>
      <entity name="light_source_directional" supertypes="light_source">
         <explicit name="orientation">
            <typename name="direction"/>
         </explicit>
      </entity>
      <entity name="light_source_positional" supertypes="light_source">
         <explicit name="position">
            <typename name="cartesian_point"/>
         </explicit>
         <explicit name="constant_attenuation">
            <builtintype type="REAL"/>
         </explicit>
         <explicit name="distance_attenuation">
            <builtintype type="REAL"/>
         </explicit>
      </entity>
      <entity name="light_source_spot" supertypes="light_source">
         <explicit name="position">
            <typename name="cartesian_point"/>
         </explicit>
         <explicit name="orientation">
            <typename name="direction"/>
         </explicit>
         <explicit name="concentration_exponent">
            <builtintype type="REAL"/>
         </explicit>
         <explicit name="constant_attenuation">
            <builtintype type="REAL"/>
         </explicit>
         <explicit name="distance_attenuation">
            <builtintype type="REAL"/>
         </explicit>
         <explicit name="spread_angle">
            <typename name="positive_plane_angle_measure"/>
         </explicit>
      </entity>
      <entity name="presentation_area" supertypes="presentation_representation">
         <where expression="((SIZEOF (QUERY (ais &lt;* USEDIN (SELF, 'PRESENTATION_ORGANIZATION_SCHEMA.' +&#xA;                                                 'AREA_IN_SET.AREA') | &#xA;             SIZEOF (USEDIN (ais, 'PRESENTATION_ORGANIZATION_SCHEMA.' +&#xA;                                  'PRESENTATION_SIZE.UNIT')) =1)) &gt; 0) OR&#xA;            (SIZEOF (USEDIN (SELF, 'PRESENTATION_ORGANIZATION_SCHEMA.' +&#xA;                                   'PRESENTATION_SIZE.UNIT')) =1))" label="WR1"/>
      </entity>
      <entity name="presentation_layer_assignment">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description">
            <typename name="text"/>
         </explicit>
         <explicit name="assigned_items">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="layered_item"/>
         </explicit>
      </entity>
      <entity name="presentation_layer_usage">
         <explicit name="assignment">
            <typename name="presentation_layer_assignment"/>
         </explicit>
         <explicit name="presentation">
            <typename name="presentation_representation"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="assignment"/>
            <unique.attribute attribute="presentation"/>
         </unique>
      </entity>
      <entity name="presentation_representation" super.expression="ONEOF (area_dependent_annotation_representation, presentation_area, presentation_view, product_data_representation_view, view_dependent_annotation_representation)" supertypes="representation">
         <explicit name="context_of_items">
            <typename name="geometric_representation_context"/>
            <redeclaration entity-ref="representation"/>
         </explicit>
         <where expression="SELF\representation.&#xA;           context_of_items\geometric_representation_context.&#xA;           coordinate_space_dimension = 2" label="WR1"/>
         <where expression="('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_AREA' IN TYPEOF (SELF))&#xA;           OR&#xA;           (SIZEOF (QUERY (prr &lt;* USEDIN (SELF, 'REPRESENTATION_SCHEMA.' +&#xA;                                                'REPRESENTATION_RELATIONSHIP.REP_2') | &#xA;           'PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_REPRESENTATION' IN&#xA;           TYPEOF (prr\representation_relationship.rep_1))) &gt; 0)&#xA;           OR &#xA;           (SIZEOF(QUERY( rm &lt;* USEDIN(SELF, 'REPRESENTATION_SCHEMA.'+ &#xA;                                             'REPRESENTATION_MAP.'+ &#xA;                                             'MAPPED_REPRESENTATION') | &#xA;           SIZEOF(QUERY( mi &lt;* USEDIN(rm, 'REPRESENTATION_SCHEMA.'+&#xA;                                          'MAPPED_ITEM.'+&#xA;                                          'MAPPING_SOURCE') |   &#xA;           SIZEOF(QUERY( rep &lt;* using_representations (mi) |                              &#xA;                                        'PRESENTATION_ORGANIZATION_SCHEMA.'+&#xA;                                        'PRESENTATION_REPRESENTATION' IN &#xA;                                        TYPEOF (rep))) &gt; 0&#xA;           )) &gt; 0))  &#xA;           &gt; 0)" label="WR2"/>
      </entity>
      <entity name="presentation_representation_relationship" supertypes="representation_relationship_with_transformation">
         <explicit name="rep_1">
            <typename name="presentation_representation"/>
            <redeclaration entity-ref="representation_relationship"/>
         </explicit>
         <explicit name="rep_2">
            <typename name="presentation_representation"/>
            <redeclaration entity-ref="representation_relationship"/>
         </explicit>
         <explicit name="transformation_operator">
            <typename name="graphical_transformation"/>
            <redeclaration entity-ref="representation_relationship_with_transformation"/>
         </explicit>
         <where expression="acyclic_presentation_representation_relationship (SELF,&#xA;           [SELF\representation_relationship.rep_2])" label="WR1"/>
         <where expression="NOT (('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_AREA' IN&#xA;           TYPEOF (SELF\representation_relationship.rep_1)) &#xA;           AND&#xA;           NOT (SIZEOF (['PRESENTATION_ORGANIZATION_SCHEMA.' +&#xA;                         'PRODUCT_DATA_REPRESENTATION_VIEW',&#xA;                         'PRESENTATION_ORGANIZATION_SCHEMA.' +&#xA;                         'VIEW_DEPENDENT_ANNOTATION_REPRESENTATION'] *&#xA;           TYPEOF (SELF\representation_relationship.rep_2)) = 0))" label="WR2"/>
         <where expression="NOT (('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_VIEW'&#xA;           IN TYPEOF (SELF\representation_relationship.rep_1))&#xA;           AND&#xA;           NOT (SIZEOF (['PRESENTATION_ORGANIZATION_SCHEMA.' +&#xA;                         'PRESENTATION_AREA',&#xA;                         'PRESENTATION_ORGANIZATION_SCHEMA.' +&#xA;                         'PRESENTATION_VIEW',&#xA;                         'PRESENTATION_ORGANIZATION_SCHEMA.' +&#xA;                         'AREA_DEPENDENT_ANNOTATION_REPRESENTATION'] *&#xA;                TYPEOF (SELF\representation_relationship.rep_2))=0))" label="WR3"/>
         <where expression="(NOT ('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_VIEW' IN&#xA;           TYPEOF(SELF\representation_relationship.rep_2)))&#xA;              XOR&#xA;           ('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_AREA'IN&#xA;           TYPEOF(SELF\representation_relationship.rep_1))" label="WR4"/>
         <where expression="(NOT ('PRESENTATION_ORGANIZATION_SCHEMA.' +&#xA;                 'PRODUCT_DATA_REPRESENTATION_VIEW' IN&#xA;           (TYPEOF(SELF\representation_relationship.rep_1) +&#xA;            TYPEOF(SELF\representation_relationship.rep_2))))&#xA;              XOR&#xA;           ('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_VIEW' IN&#xA;            TYPEOF(SELF\representation_relationship.rep_1))&#xA;              AND&#xA;           ('PRESENTATION_ORGANIZATION_SCHEMA.PRODUCT_DATA_REPRESENTATION_VIEW' IN&#xA;            TYPEOF(SELF\representation_relationship.rep_2))" label="WR5"/>
      </entity>
      <entity name="presentation_set">
         <inverse attribute="in_set" entity="area_in_set" name="areas">
            <inverse.aggregate lower="1" type="SET" upper="?"/>
         </inverse>
      </entity>
      <entity name="presentation_size">
         <explicit name="unit">
            <typename name="presentation_size_assignment_select"/>
         </explicit>
         <explicit name="size">
            <typename name="planar_box"/>
         </explicit>
         <unique label="UR1">
            <unique.attribute attribute="unit"/>
         </unique>
         <where expression="(('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_REPRESENTATION'&#xA;           IN TYPEOF (SELF.unit)) AND&#xA;           item_in_context (SELF.size, &#xA;                            SELF.unit\representation.context_of_items)&#xA;           )&#xA;           OR&#xA;           (('PRESENTATION_ORGANIZATION_SCHEMA.AREA_IN_SET'&#xA;           IN TYPEOF (SELF.unit)) AND&#xA;           (SIZEOF (QUERY ( ais &lt;* SELF.unit\area_in_set.in_set.areas |&#xA;                NOT item_in_context (SELF.size, ais.area\representation.&#xA;                                                context_of_items) )) = 0))" label="WR1"/>
      </entity>
      <entity name="presentation_view" supertypes="presentation_representation"/>
      <entity abstract.supertype="YES" name="presented_item"/>
      <entity name="presented_item_representation">
         <explicit name="presentation">
            <typename name="presentation_representation_select"/>
         </explicit>
         <explicit name="item">
            <typename name="presented_item"/>
         </explicit>
      </entity>
      <entity name="product_data_representation_view" supertypes="presentation_representation">
         <explicit name="items">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="product_data_representation_view_item"/>
            <redeclaration entity-ref="representation"/>
         </explicit>
         <where expression="SIZEOF (QUERY (item &lt;* SELF\representation.items | &#xA;        ('PRESENTATION_ORGANIZATION_SCHEMA.CAMERA_IMAGE' IN&#xA;         TYPEOF (item))&#xA;        )) &gt;= 1" label="WR1"/>
         <where expression="(SIZEOF (QUERY (prr &lt;* USEDIN (SELF, 'REPRESENTATION_SCHEMA.' +&#xA;                                                'REPRESENTATION_RELATIONSHIP.REP_2') | &#xA;           'PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_VIEW' IN&#xA;           TYPEOF (prr\representation_relationship.rep_1))) &gt; 0)&#xA;                                  OR &#xA;           (SIZEOF(QUERY( rm &lt;* USEDIN(SELF, 'REPRESENTATION_SCHEMA.'+ &#xA;                                             'REPRESENTATION_MAP.'+ &#xA;                                             'MAPPED_REPRESENTATION') | &#xA;           SIZEOF(QUERY( mi &lt;* USEDIN(rm, 'REPRESENTATION_SCHEMA.'+&#xA;                                          'MAPPED_ITEM.'+&#xA;                                          'MAPPING_SOURCE') |   &#xA;           SIZEOF(QUERY( rep &lt;* using_representations (mi) |                              &#xA;                                       'PRESENTATION_ORGANIZATION_SCHEMA.'+&#xA;                                       'PRESENTATION_VIEW' IN &#xA;                                        TYPEOF (rep))) &gt; 0&#xA;           )) &gt; 0))  &#xA;               &gt; 0)" label="WR2"/>
         <where expression="(SIZEOF (QUERY (prr &lt;* USEDIN (SELF, 'REPRESENTATION_SCHEMA.' +&#xA;                                                'REPRESENTATION_RELATIONSHIP.REP_2') | &#xA;            NOT('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_VIEW' IN&#xA;            TYPEOF (prr\representation_relationship.rep_1)))) = 0)&#xA;                                  AND &#xA;           (SIZEOF(QUERY( rm &lt;* USEDIN(SELF, 'REPRESENTATION_SCHEMA.'+ &#xA;                                             'REPRESENTATION_MAP.'+ &#xA;                                             'MAPPED_REPRESENTATION') | &#xA;            SIZEOF(QUERY( mi &lt;* USEDIN(rm, 'REPRESENTATION_SCHEMA.'+&#xA;                                           'MAPPED_ITEM.'+&#xA;                                           'MAPPING_SOURCE') |   &#xA;            SIZEOF(QUERY( rep &lt;* using_representations (mi) |                              &#xA;                                       NOT('PRESENTATION_ORGANIZATION_SCHEMA.'+&#xA;                                           'PRESENTATION_VIEW' IN &#xA;                                       TYPEOF (rep)))) &gt; 0&#xA;            )) &gt; 0))  &#xA;            = 0)" label="WR3"/>
      </entity>
      <entity name="representation_item_dependent_layer_assignment" supertypes="presentation_layer_assignment">
         <explicit name="item_context">
            <typename name="representation_item"/>
         </explicit>
      </entity>
      <entity name="view_dependent_annotation_representation" supertypes="presentation_representation">
         <explicit name="items">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="view_dependent_annotation_representation_item"/>
            <redeclaration entity-ref="representation"/>
         </explicit>
         <where expression="SIZEOF (QUERY (item &lt;* SELF\representation.items |&#xA;        ('PRESENTATION_DEFINITION_SCHEMA.ANNOTATION_OCCURRENCE' IN&#xA;        TYPEOF (item))&#xA;        )) &gt;= 1" label="WR1"/>
         <where expression="(SIZEOF (QUERY (prr &lt;* USEDIN (SELF, 'REPRESENTATION_SCHEMA.' +&#xA;                                                'REPRESENTATION_RELATIONSHIP.REP_2') | &#xA;           'PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_VIEW' IN&#xA;           TYPEOF (prr\representation_relationship.rep_1))) &gt; 0)&#xA;                                  OR &#xA;          (SIZEOF(QUERY( rm &lt;* USEDIN(SELF, 'REPRESENTATION_SCHEMA.'+ &#xA;                                            'REPRESENTATION_MAP.'+ &#xA;                                            'MAPPED_REPRESENTATION') | &#xA;           SIZEOF(QUERY( mi &lt;* USEDIN(rm, 'REPRESENTATION_SCHEMA.'+&#xA;                                          'MAPPED_ITEM.'+&#xA;                                          'MAPPING_SOURCE') |   &#xA;           SIZEOF(QUERY( rep &lt;* using_representations (mi) |                              &#xA;                                       'PRESENTATION_ORGANIZATION_SCHEMA.'+&#xA;                                       'PRESENTATION_VIEW' IN &#xA;                                        TYPEOF (rep))) &gt; 0&#xA;           )) &gt; 0))  &#xA;           &gt; 0)" label="WR2"/>
         <where expression="(SIZEOF (QUERY (prr &lt;* USEDIN (SELF, 'REPRESENTATION_SCHEMA.' +&#xA;                                                'REPRESENTATION_RELATIONSHIP.REP_2') | &#xA;           NOT('PRESENTATION_ORGANIZATION_SCHEMA.PRESENTATION_VIEW' IN&#xA;           TYPEOF (prr\representation_relationship.rep_1)))) = 0)&#xA;                                  AND &#xA;           (SIZEOF(QUERY( rm &lt;* USEDIN(SELF, 'REPRESENTATION_SCHEMA.'+ &#xA;                                             'REPRESENTATION_MAP.'+ &#xA;                                             'MAPPED_REPRESENTATION') | &#xA;            SIZEOF(QUERY( mi &lt;* USEDIN(rm, 'REPRESENTATION_SCHEMA.'+&#xA;                                           'MAPPED_ITEM.'+&#xA;                                           'MAPPING_SOURCE') |   &#xA;            SIZEOF(QUERY( rep &lt;* using_representations (mi) |                              &#xA;                                      NOT('PRESENTATION_ORGANIZATION_SCHEMA.'+&#xA;                                          'PRESENTATION_VIEW' IN &#xA;                                      TYPEOF (rep)))) &gt; 0&#xA;           )) &gt; 0))  &#xA;           = 0)" label="WR3"/>
      </entity>
      <entity name="view_volume" supertypes="founded_item">
         <explicit name="projection_type">
            <typename name="central_or_parallel"/>
         </explicit>
         <explicit name="projection_point">
            <typename name="cartesian_point"/>
         </explicit>
         <explicit name="view_plane_distance">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="front_plane_distance">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="front_plane_clipping">
            <builtintype type="BOOLEAN"/>
         </explicit>
         <explicit name="back_plane_distance">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="back_plane_clipping">
            <builtintype type="BOOLEAN"/>
         </explicit>
         <explicit name="view_volume_sides_clipping">
            <builtintype type="BOOLEAN"/>
         </explicit>
         <explicit name="view_window">
            <typename name="planar_box"/>
         </explicit>
      </entity>
      <subtype.constraint entity="geometric_representation_item" name="pos_geometric_representation_item_subtypes" super.expression="ONEOF (camera_model, camera_model_d3_multi_clipping_intersection, camera_model_d3_multi_clipping_union, curve, direction, light_source, mapped_item)"/>
      <rule appliesto="presentation_representation_relationship" name="symbol_representation_rule">
         <where expression="SIZEOF(QUERY(each_1 &lt;* presentation_representation_relationship  |&#xA;                NOT ('PRESENTATION_DEFINITION_SCHEMA.'+&#xA;                'SYMBOL_REPRESENTATION_RELATIONSHIP' IN TYPEOF(each_1)) AND&#xA;          (SIZEOF(QUERY(each_2 &lt;* [each_1\representation_relationship.rep_1,&#xA;                                   each_1\representation_relationship.rep_2] |&#xA;          'PRESENTATION_DEFINITION_SCHEMA.SYMBOL_REPRESENTATION' IN TYPEOF(each_2)&#xA;          )) &gt; 0)&#xA;          )) = 0" label="WR1"/>
      </rule>
      <function name="acyclic_presentation_representation_relationship">
         <parameter name="relation">
            <typename name="presentation_representation_relationship"/>
         </parameter>
         <parameter name="children">
            <aggregate lower="0" type="SET" upper="?"/>
            <typename name="presentation_representation"/>
         </parameter>
         <builtintype type="BOOLEAN"/>
         <algorithm>LOCAL
      x : SET OF presentation_representation_relationship;
      local_children : SET OF presentation_representation;
    END_LOCAL;

    REPEAT i:=1 TO HIINDEX(children);
      IF relation\representation_relationship.rep_1 :=: children[i] THEN
        RETURN(FALSE);
      END_IF;
    END_REPEAT;

    x := bag_to_set (USEDIN ( relation\representation_relationship.rep_1,
                  'REPRESENTATION_SCHEMA.'+
                  'REPRESENTATION_RELATIONSHIP.REP_2'));
    local_children := children + relation\representation_relationship.rep_1;

    IF SIZEOF (x) &gt; 0 THEN
      REPEAT i:=1 TO HIINDEX (x);
        IF NOT acyclic_presentation_representation_relationship
          (x[i] , local_children) THEN
          RETURN (FALSE);
        END_IF;
      END_REPEAT;
    END_IF;

    RETURN (TRUE);</algorithm>
      </function>
      <function name="aspect_ratio">
         <parameter name="p">
            <typename name="planar_box"/>
         </parameter>
         <typename name="positive_ratio_measure"/>
         <algorithm>IF (p.size_in_x &gt; 0.) AND (p.size_in_y &gt; 0.) THEN
      RETURN (p.size_in_x / p.size_in_y);
    ELSE
      RETURN (?);
    END_IF;</algorithm>
      </function>
   </schema>
</express>