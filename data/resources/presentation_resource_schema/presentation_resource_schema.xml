<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express description.file="descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="ISO 10303-46">
   <application name="JSDAI" owner="LKSoft" source="presentation_resource_schema schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="presentation_resource_schema">
      <interface kind="reference" schema="external_reference_schema">
         <interfaced.item name="externally_defined_item"/>
         <interfaced.item name="pre_defined_item"/>
      </interface>
      <interface kind="reference" schema="geometry_schema">
         <interfaced.item name="axis2_placement"/>
         <interfaced.item name="curve"/>
         <interfaced.item name="geometric_representation_item"/>
      </interface>
      <interface kind="reference" schema="measure_schema">
         <interfaced.item name="length_measure"/>
         <interfaced.item name="positive_length_measure"/>
         <interfaced.item name="positive_ratio_measure"/>
         <interfaced.item name="ratio_measure"/>
      </interface>
      <interface kind="reference" schema="presentation_definition_schema">
         <interfaced.item name="annotation_fill_area"/>
         <interfaced.item name="symbol_representation"/>
      </interface>
      <interface kind="reference" schema="representation_schema">
         <interfaced.item name="item_in_context"/>
         <interfaced.item name="representation"/>
      </interface>
      <interface kind="reference" schema="support_resource_schema">
         <interfaced.item name="identifier"/>
         <interfaced.item name="label"/>
         <interfaced.item name="text"/>
      </interface>
      <type name="font_select">
         <select selectitems="pre_defined_text_font externally_defined_text_font text_font"/>
      </type>
      <type name="staircase_or_linear">
         <enumeration items="staircase linear"/>
      </type>
      <entity name="character_glyph_font_usage">
         <explicit name="character">
            <typename name="generic_character_glyph_symbol"/>
         </explicit>
         <explicit name="font">
            <typename name="text_font"/>
         </explicit>
      </entity>
      <entity name="character_glyph_symbol" supertypes="generic_character_glyph_symbol">
         <explicit name="character_box">
            <typename name="planar_extent"/>
         </explicit>
         <explicit name="baseline_ratio">
            <typename name="ratio_measure"/>
         </explicit>
         <derived expression="character_box.size_in_y" name="box_height">
            <typename name="length_measure"/>
         </derived>
         <where expression="{0.0 &lt;= baseline_ratio &lt;= 1.0}" label="WR1"/>
         <where expression="item_in_context(SELF.character_box,&#10;                       SELF\representation.context_of_items)" label="WR2"/>
         <where expression="'MEASURE_SCHEMA.POSITIVE_LENGTH_MEASURE'&#10;        IN TYPEOF (SELF.box_height)" label="WR3"/>
      </entity>
      <entity name="character_glyph_symbol_outline" supertypes="character_glyph_symbol">
         <explicit name="outlines">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="annotation_fill_area"/>
         </explicit>
         <where expression="SELF.outlines &lt;= SELF\representation.items" label="WR1"/>
      </entity>
      <entity name="character_glyph_symbol_stroke" supertypes="character_glyph_symbol">
         <explicit name="strokes">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="curve"/>
         </explicit>
         <where expression="SELF.strokes &lt;= SELF\representation.items" label="WR1"/>
      </entity>
      <entity name="colour"/>
      <entity name="colour_associated" supertypes="colour">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="variable_to_be_shown">
            <aggregate lower="1" type="SET" upper="?"/>
            <builtintype type="REAL"/>
         </explicit>
         <explicit name="mapping">
            <typename name="colour_association_table"/>
         </explicit>
      </entity>
      <entity name="colour_association_table">
         <explicit name="discrete_states_with_colours">
            <aggregate lower="1" type="LIST" upper="?"/>
            <typename name="state_variable_with_colour"/>
         </explicit>
         <explicit name="interpolation_type">
            <typename name="staircase_or_linear"/>
         </explicit>
      </entity>
      <entity name="colour_rgb" supertypes="colour_specification">
         <explicit name="red">
            <builtintype type="REAL"/>
         </explicit>
         <explicit name="green">
            <builtintype type="REAL"/>
         </explicit>
         <explicit name="blue">
            <builtintype type="REAL"/>
         </explicit>
         <where expression="{0.0 &lt;= red &lt;= 1.0}" label="WR1"/>
         <where expression="{0.0 &lt;= green &lt;= 1.0}" label="WR2"/>
         <where expression="{0.0 &lt;= blue &lt;= 1.0}" label="WR3"/>
      </entity>
      <entity name="colour_specification" supertypes="colour">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
      </entity>
      <entity name="draughting_pre_defined_colour" supertypes="pre_defined_colour">
         <where expression="SELF.name IN&#10;      ['red',&#10;       'green',&#10;       'blue',&#10;       'yellow',&#10;       'magenta',&#10;       'cyan',&#10;       'black',&#10;       'white']" label="WR1"/>
      </entity>
      <entity name="draughting_pre_defined_text_font" supertypes="pre_defined_text_font">
         <where expression="SELF.name[1:8] = 'ISO 3098'" label="WR1"/>
      </entity>
      <entity name="externally_defined_text_font" supertypes="externally_defined_item"/>
      <entity abstract.supertype="YES" name="generic_character_glyph_symbol" supertypes="symbol_representation"/>
      <entity name="planar_box" supertypes="planar_extent">
         <explicit name="placement">
            <typename name="axis2_placement"/>
         </explicit>
      </entity>
      <entity name="planar_extent" supertypes="geometric_representation_item">
         <explicit name="size_in_x">
            <typename name="length_measure"/>
         </explicit>
         <explicit name="size_in_y">
            <typename name="length_measure"/>
         </explicit>
      </entity>
      <entity name="pre_defined_colour" supertypes="pre_defined_item colour"/>
      <entity name="pre_defined_text_font" supertypes="pre_defined_item"/>
      <entity name="presentation_scaled_placement" supertypes="geometric_representation_item">
         <explicit name="placement">
            <typename name="axis2_placement"/>
         </explicit>
         <explicit name="scaling">
            <typename name="positive_ratio_measure"/>
         </explicit>
      </entity>
      <entity name="state_variable_with_colour">
         <explicit name="state_variable">
            <builtintype type="REAL"/>
         </explicit>
         <explicit name="associated_colour">
            <typename name="colour_specification"/>
         </explicit>
      </entity>
      <entity name="text_font">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description">
            <typename name="text"/>
         </explicit>
         <inverse attribute="font" entity="character_glyph_font_usage" name="glyphs">
            <inverse.aggregate lower="1" type="SET" upper="?"/>
         </inverse>
      </entity>
      <entity name="text_font_family">
         <explicit name="id">
            <typename name="identifier"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description">
            <typename name="text"/>
         </explicit>
         <inverse attribute="family" entity="text_font_in_family" name="fonts">
            <inverse.aggregate lower="1" type="SET" upper="?"/>
         </inverse>
      </entity>
      <entity name="text_font_in_family">
         <explicit name="font">
            <typename name="text_font"/>
         </explicit>
         <explicit name="family">
            <typename name="text_font_family"/>
         </explicit>
      </entity>
      <subtype.constraint entity="geometric_representation_item" name="prs_geometric_representation_item_subtypes" super.expression="ONEOF (curve, planar_extent, presentation_scaled_placement)"/>
   </schema>
</express>
