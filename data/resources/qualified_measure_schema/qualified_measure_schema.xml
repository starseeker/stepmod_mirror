<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express description.file="descriptions.xml" language_version="2" rcs.date="$Date$" rcs.revision="$Revision$" reference="ISO 10303-41">
   <application name="JSDAI" owner="LKSoft" source="qualified_measure_schema schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="qualified_measure_schema">
      <interface kind="reference" schema="mathematical_functions_schema">
         <interfaced.item name="maths_value"/>
      </interface>
      <interface kind="reference" schema="measure_schema">
         <interfaced.item name="measure_with_unit"/>
         <interfaced.item name="unit"/>
      </interface>
      <interface kind="reference" schema="representation_schema">
         <interfaced.item name="representation_item"/>
      </interface>
      <interface kind="reference" schema="support_resource_schema">
         <interfaced.item name="identifier"/>
         <interfaced.item name="label"/>
         <interfaced.item name="text"/>
         <interfaced.item name="bag_to_set"/>
      </interface>
      <type name="value_format_type">
         <typename name="identifier"/>
         <where expression="LENGTH(SELF) &lt;= 80" label="WR1"/>
      </type>
      <type name="value_qualifier">
         <select selectitems="precision_qualifier type_qualifier uncertainty_qualifier value_format_type_qualifier"/>
      </type>
      <entity name="descriptive_representation_item" supertypes="representation_item">
         <explicit name="description">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity name="expanded_uncertainty" supertypes="standard_uncertainty">
         <explicit name="coverage_factor">
            <builtintype type="REAL"/>
         </explicit>
      </entity>
      <entity name="maths_value_qualification">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description">
            <typename name="text"/>
         </explicit>
         <explicit name="qualified_maths_value">
            <typename name="maths_value_with_unit"/>
         </explicit>
         <explicit name="qualifiers">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="value_qualifier"/>
         </explicit>
         <where expression="SIZEOF(QUERY(temp &lt;* qualifiers |&#10;             'QUALIFIED_MEASURE_SCHEMA.PRECISION_QUALIFIER'&#10;             IN TYPEOF(temp))) &lt; 2" label="WR1"/>
         <where expression="NOT ('REPRESENTATION_SCHEMA.REPRESENTATION_ITEM'&#10;           IN TYPEOF(SELF\maths_value_qualification.qualified_maths_value))" label="WR2"/>
      </entity>
      <entity name="maths_value_representation_item" supertypes="representation_item maths_value_with_unit"/>
      <entity name="maths_value_with_unit">
         <explicit name="value_component">
            <typename name="maths_value"/>
         </explicit>
         <explicit name="unit_component">
            <typename name="unit"/>
         </explicit>
      </entity>
      <entity name="measure_qualification">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <explicit name="description">
            <typename name="text"/>
         </explicit>
         <explicit name="qualified_measure">
            <typename name="measure_with_unit"/>
         </explicit>
         <explicit name="qualifiers">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="value_qualifier"/>
         </explicit>
         <where expression="SIZEOF(QUERY(temp &lt;* qualifiers |&#10;             'QUALIFIED_MEASURE_SCHEMA.PRECISION_QUALIFIER'&#10;             IN TYPEOF(temp))) &lt; 2" label="WR1"/>
         <where expression="NOT ('REPRESENTATION_SCHEMA.REPRESENTATION_ITEM'&#10;           IN TYPEOF(SELF\measure_qualification.qualified_measure))" label="WR2"/>
      </entity>
      <entity name="measure_representation_item" supertypes="representation_item measure_with_unit"/>
      <entity name="precision_qualifier">
         <explicit name="precision_value">
            <builtintype type="INTEGER"/>
         </explicit>
      </entity>
      <entity name="qualified_representation_item" supertypes="representation_item">
         <explicit name="qualifiers">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="value_qualifier"/>
         </explicit>
         <where expression="SIZEOF(QUERY(temp &lt;* qualifiers |&#10;             'QUALIFIED_MEASURE_SCHEMA.PRECISION_QUALIFIER'&#10;             IN TYPEOF(temp))) &lt; 2" label="WR1"/>
      </entity>
      <entity name="qualitative_uncertainty" supertypes="uncertainty_qualifier">
         <explicit name="uncertainty_value">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity name="standard_uncertainty" super.expression="expanded_uncertainty" supertypes="uncertainty_qualifier">
         <explicit name="uncertainty_value">
            <builtintype type="REAL"/>
         </explicit>
      </entity>
      <entity name="type_qualifier">
         <explicit name="name">
            <typename name="label"/>
         </explicit>
      </entity>
      <entity name="uncertainty_qualifier" super.expression="ONEOF (standard_uncertainty, qualitative_uncertainty)">
         <explicit name="measure_name">
            <typename name="label"/>
         </explicit>
         <explicit name="description">
            <typename name="text"/>
         </explicit>
      </entity>
      <entity name="value_format_type_qualifier">
         <explicit name="format_type">
            <typename name="value_format_type"/>
         </explicit>
      </entity>
   </schema>
</express>
