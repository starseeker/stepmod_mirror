<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">

<express description.file="descriptions.xml" language_version="2" rcs.date="$Date: 2017/06/18 11:00:15 $" rcs.revision="$Revision: 1.23 $" reference="ISO 10303-47">
   <application name="JSDAI" owner="LKSoft" source="shape_dimension_schema schema_instance" url="www.lksoft.com" version="4.0 beta"/>
   <schema name="shape_dimension_schema">
      <interface kind="reference" schema="basic_attribute_schema">
         <interfaced.item name="get_id_value"/>
         <interfaced.item name="id_attribute"/>
         <interfaced.item name="id_attribute_select"/>
      </interface>
      <interface kind="reference" schema="measure_schema">
         <interfaced.item name="measure_with_unit"/>
      </interface>
	  <interface kind="reference" schema="product_property_definition_schema">
         <interfaced.item name="shape_aspect"/>
         <interfaced.item name="shape_aspect_relationship"/>
      </interface>
      <interface kind="reference" schema="product_property_representation_schema">
         <interfaced.item name="item_identified_representation_usage_definition"/>
         <interfaced.item name="shape_representation"/>
      </interface>
      <interface kind="reference" schema="product_property_definition_schema">
         <interfaced.item name="shape_aspect"/>
         <interfaced.item name="shape_aspect_relationship"/>
      </interface>
      <interface kind="reference" schema="qualified_measure_schema">
         <interfaced.item name="descriptive_representation_item"/>
         <interfaced.item name="measure_representation_item"/>
         <interfaced.item name="qualified_representation_item"/>
      </interface>
            <interface kind="reference" schema="representation_schema">
         <interfaced.item name="representation"/>
         <interfaced.item name="compound_representation_item"/>
      </interface>
      <interface kind="reference" schema="support_resource_schema">
         <interfaced.item name="identifier"/>
         <interfaced.item name="label"/>
         <interfaced.item name="text"/>
      </interface>
      <interface kind="reference" schema="geometry_schema">
         <interfaced.item name="placement"/>
      </interface>
      <type name="angle_relator">
         <enumeration items="equal large small"/>
      </type>
      <type name="dimensional_characteristic">
         <select selectitems="dimensional_location dimensional_size"/>
      </type>
      <type name="sd_id_attribute_select">
         <select basedon="id_attribute_select" selectitems="dimensional_size"/>
      </type>
      <type name="sds_item_identified_representation_usage_definition">
         <select basedon="item_identified_representation_usage_definition" extensible="YES" genericentity="YES" selectitems="dimensional_size"/>
      </type>
      <type name="shape_dimension_representation_item">
         <select selectitems="compound_representation_item descriptive_representation_item measure_representation_item placement"/>
      </type>
      <entity name="angular_location" supertypes="dimensional_location">
         <explicit name="angle_selection">
            <typename name="angle_relator"/>
         </explicit>
      </entity>
      <entity name="angular_size" supertypes="dimensional_size">
         <explicit name="angle_selection">
            <typename name="angle_relator"/>
         </explicit>
      </entity>
      <entity name="dimensional_characteristic_representation">
         <explicit name="dimension">
            <typename name="dimensional_characteristic"/>
         </explicit>
         <explicit name="representation">
            <typename name="shape_dimension_representation"/>
         </explicit>
      </entity>
      <entity name="dimensional_location" super.expression="ONEOF (angular_location, dimensional_location_with_path)" supertypes="shape_aspect_relationship">
         <where expression="SELF\shape_aspect_relationship.relating_shape_aspect :&lt;&gt;: SELF\shape_aspect_relationship.related_shape_aspect" label="WR1"/>
         <where expression="SELF\shape_aspect_relationship.relating_shape_aspect.of_shape :=: SELF\shape_aspect_relationship.related_shape_aspect.of_shape" label="WR2"/>
      </entity>
      <entity name="dimensional_location_with_path" supertypes="dimensional_location">
         <explicit name="path">
            <typename name="shape_aspect"/>
         </explicit>
      </entity>
      <entity name="dimensional_size" super.expression="ONEOF (angular_size, dimensional_size_with_path)">
         <explicit name="applies_to">
            <typename name="shape_aspect"/>
         </explicit>
         <explicit name="name">
            <typename name="label"/>
         </explicit>
         <derived expression="get_id_value(SELF)" name="id">
            <typename name="identifier"/>
         </derived>
         <unique label="UR1">
            <unique.attribute attribute="id"/>
            <unique.attribute attribute="applies_to"/>
         </unique>
         <where expression="applies_to.product_definitional = TRUE" label="WR1"/>
         <where expression="SIZEOF(USEDIN(SELF, 'BASIC_ATTRIBUTE_SCHEMA.' + 'ID_ATTRIBUTE.IDENTIFIED_ITEM')) &lt;= 1" label="WR2"/>
      </entity>
      <entity name="dimensional_size_with_path" supertypes="dimensional_size">
         <explicit name="path">
            <typename name="shape_aspect"/>
         </explicit>
      </entity>
      <entity name="directed_dimensional_location" supertypes="dimensional_location"/>
      <entity name="shape_dimension_representation" supertypes="shape_representation">
         <explicit name="items">
            <aggregate lower="1" type="SET" upper="?"/>
            <typename name="shape_dimension_representation_item"/>
            <redeclaration entity-ref="representation"/>
         </explicit>
      </entity>
   </schema>
</express>
