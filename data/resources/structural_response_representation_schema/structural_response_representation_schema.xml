<?xml version="1.0"?>
<!-- $Id: structural_response_representation_schema.xml,v 1.5 2009/07/28 10:17:36 philsp Exp $ -->
<?xml-stylesheet type="text/xsl" href="../../../xsl/express.xsl"?>
<!DOCTYPE express SYSTEM "../../../dtd/express.dtd">
<express
  language_version="2"
  reference="ISO 10303-104"
  rcs.date="$Date: 2009/07/28 10:17:36 $"
  rcs.revision="$Revision: 1.5 $">

  <application
    name="express2xml.js"
    owner="Eurostep Limited"
    url="http://www.eurostep.com"
    version="1.17"
    source="../data/resources/structural_response_representation_schema/structural_response_representation_schema.exp"/>

  <schema name="structural_response_representation_schema">
    <interface
      kind="reference"
      schema="fea_scalar_vector_tensor_schema">
      <interfaced.item
        name="scalar"/>
      <interfaced.item
        name="symmetric_tensor2_2d"/>
      <interfaced.item
        name="symmetric_tensor2_3d"/>
      <interfaced.item
        name="symmetric_tensor4_2d"/>
      <interfaced.item
        name="symmetric_tensor4_3d"/>
    </interface>

    <interface
      kind="reference"
      schema="finite_element_analysis_control_and_result_schema">
      <interfaced.item
        name="curve_element_variable"/>
      <interfaced.item
        name="measure_or_unspecified_value"/>
      <interfaced.item
        name="surface_2d_edge"/>
      <interfaced.item
        name="surface_2d_face"/>
      <interfaced.item
        name="surface_3d_edge"/>
      <interfaced.item
        name="surface_3d_face"/>
      <interfaced.item
        name="surface_element_variable"/>
      <interfaced.item
        name="volume_2d_edge"/>
      <interfaced.item
        name="volume_2d_face"/>
      <interfaced.item
        name="volume_3d_edge"/>
      <interfaced.item
        name="volume_3d_face"/>
      <interfaced.item
        name="volume_variable"/>
    </interface>

    <interface
      kind="reference"
      schema="geometric_model_schema">
      <interfaced.item
        name="solid_model"/>
    </interface>

    <interface
      kind="reference"
      schema="geometry_schema">
      <interfaced.item
        name="axis2_placement_2d"/>
      <interfaced.item
        name="axis2_placement_3d"/>
      <interfaced.item
        name="cartesian_point"/>
      <interfaced.item
        name="cross_product"/>
      <interfaced.item
        name="curve"/>
      <interfaced.item
        name="cylindrical_point"/>
      <interfaced.item
        name="degenerate_pcurve"/>
      <interfaced.item
        name="direction"/>
      <interfaced.item
        name="geometric_representation_context"/>
      <interfaced.item
        name="geometric_representation_item"/>
      <interfaced.item
        name="normalise"/>
      <interfaced.item
        name="point"/>
      <interfaced.item
        name="point_on_curve"/>
      <interfaced.item
        name="point_on_surface"/>
      <interfaced.item
        name="point_replica"/>
      <interfaced.item
        name="spherical_point"/>
      <interfaced.item
        name="surface"/>
    </interface>

    <interface
      kind="reference"
      schema="group_schema">
      <interfaced.item
        name="group"/>
      <interfaced.item
        name="group_relationship"/>
    </interface>

    <interface
      kind="reference"
      schema="material_property_definition_schema">
      <interfaced.item
        name="material_property"/>
    </interface>

    <interface
      kind="reference"
      schema="material_property_representation_schema">
      <interfaced.item
        name="material_property_representation"/>
    </interface>

    <interface
      kind="reference"
      schema="measure_schema">
      <interfaced.item
        name="context_dependent_measure"/>
      <interfaced.item
        name="length_measure"/>
      <interfaced.item
        name="parameter_value"/>
      <interfaced.item
        name="plane_angle_measure"/>
      <interfaced.item
        name="thermodynamic_temperature_measure"/>
    </interface>

    <interface
      kind="reference"
      schema="product_property_representation_schema">
      <interfaced.item
        name="property_definition_representation"/>
    </interface>

    <interface
      kind="reference"
      schema="representation_schema">
      <interfaced.item
        name="representation"/>
      <interfaced.item
        name="representation_item"/>
      <interfaced.item
        name="representation_relationship"/>
      <interfaced.item
        name="using_representations"/>
    </interface>

    <interface
      kind="reference"
      schema="structural_response_definition_schema">
      <interfaced.item
        name="element_definition"/>
      <interfaced.item
        name="fea_model_definition"/>
      <interfaced.item
        name="node_definition"/>
      <interfaced.item
        name="structural_response_property"/>
    </interface>

    <interface
      kind="reference"
      schema="support_resource_schema">
      <interfaced.item
        name="identifier"/>
      <interfaced.item
        name="label"/>
      <interfaced.item
        name="text"/>
    </interface>

    <type name="axi_or_plane">
      <enumeration
        items="axisymmetric planar">
      </enumeration>


    </type>
    <type name="coordinate_system_type">
      <enumeration
        items="cartesian cylindrical spherical">
      </enumeration>


    </type>
    <type name="element_order">
      <enumeration
        items="linear quadratic cubic">
      </enumeration>


    </type>
    <type name="plane_2d_element_purpose">
      <select
        selectitems="enumerated_plane_2d_element_purpose application_defined_element_purpose">
      </select>

    </type>
    <type name="enumerated_plane_2d_element_purpose">
      <enumeration
        items="plane_stress plane_strain">
      </enumeration>


    </type>
    <type name="application_defined_element_purpose">
      <builtintype
        type="STRING">
      </builtintype>


    </type>
    <type name="volume_element_purpose">
      <select
        selectitems="enumerated_volume_element_purpose application_defined_element_purpose">
      </select>

    </type>
    <type name="enumerated_volume_element_purpose">
      <enumeration
        items="stress_displacement">
      </enumeration>


    </type>
    <type name="surface_element_purpose">
      <select
        selectitems="enumerated_surface_element_purpose application_defined_element_purpose">
      </select>

    </type>
    <type name="enumerated_surface_element_purpose">
      <enumeration
        items="membrane_direct membrane_shear bending_direct bending_torsion normal_to_plane_shear">
      </enumeration>


    </type>
    <type name="curve_element_purpose">
      <select
        selectitems="enumerated_curve_element_purpose application_defined_element_purpose">
      </select>

    </type>
    <type name="enumerated_curve_element_purpose">
      <enumeration
        items="axial y_y_bending z_z_bending torsion x_y_shear x_z_shear warping">
      </enumeration>


    </type>
    <type name="volume_3d_element_shape">
      <enumeration
        items="hexahedron wedge tetrahedron pyramid">
      </enumeration>


    </type>
    <type name="element_2d_shape">
      <enumeration
        items="quadrilateral triangle">
      </enumeration>


    </type>
    <type name="matrix_property_type">
      <select
        selectitems="enumerated_matrix_property_type application_defined_matrix_property_type">
      </select>

    </type>
    <type name="enumerated_matrix_property_type">
      <enumeration
        items="stiffness mass damping">
      </enumeration>


    </type>
    <type name="application_defined_matrix_property_type">
      <builtintype
        type="STRING">
      </builtintype>


    </type>
    <type name="surface_matrix_property_type">
      <select
        selectitems="enumerated_surface_matrix_property_type application_defined_matrix_property_type">
      </select>

    </type>
    <type name="enumerated_surface_matrix_property_type">
      <enumeration
        items="membrane_direct membrane_shear bending_direct bending_torsion normal_to_plane_shear membrane_direct_mass membrane_shear_mass bending_direct_mass bending_torsion_mass normal_to_plane_shear_mass mass">
      </enumeration>


    </type>
    <type name="curve_matrix_property_type">
      <select
        selectitems="enumerated_curve_matrix_property_type application_defined_matrix_property_type">
      </select>

    </type>
    <type name="enumerated_curve_matrix_property_type">
      <enumeration
        items="axial y_y_bending z_z_bending torsion x_y_shear x_z_shear warping axial_mass y_y_bending_mass z_z_bending_mass torsion_mass x_y_shear_mass x_z_shear_mass warping_mass mass">
      </enumeration>


    </type>
    <type name="matrix_symmetry">
      <enumeration
        items="symmetric diagonal">
      </enumeration>


    </type>
    <type name="degree_of_freedom">
      <select
        selectitems="enumerated_degree_of_freedom application_defined_degree_of_freedom">
      </select>

    </type>
    <type name="enumerated_degree_of_freedom">
      <enumeration
        items="x_translation y_translation z_translation x_rotation y_rotation z_rotation warp">
      </enumeration>


    </type>
    <type name="application_defined_degree_of_freedom">
      <builtintype
        type="STRING">
      </builtintype>


    </type>
    <type name="curve_element_freedom">
      <select
        selectitems="enumerated_curve_element_freedom application_defined_degree_of_freedom">
      </select>

    </type>
    <type name="enumerated_curve_element_freedom">
      <enumeration
        items="x_translation y_translation z_translation x_rotation y_rotation z_rotation warp none">
      </enumeration>


    </type>
    <type name="integration_rule">
      <enumeration
        items="gaussian simpson">
      </enumeration>


    </type>
    <type name="shape_function">
      <enumeration
        items="lagrangian serendipity hermitian unspecified">
      </enumeration>


    </type>
    <type name="volume_2d_element_representation">
      <select
        selectitems="axisymmetric_volume_2d_element_representation plane_volume_2d_element_representation">
      </select>

    </type>
    <type name="surface_2d_element_representation">
      <select
        selectitems="axisymmetric_surface_2d_element_representation plane_surface_2d_element_representation">
      </select>

    </type>
    <type name="curve_2d_element_representation">
      <select
        selectitems="axisymmetric_curve_2d_element_representation plane_curve_2d_element_representation">
      </select>

    </type>
    <type name="volume_2d_element_descriptor">
      <select
        selectitems="axisymmetric_volume_2d_element_descriptor plane_volume_2d_element_descriptor">
      </select>

    </type>
    <type name="surface_2d_element_descriptor">
      <select
        selectitems="axisymmetric_surface_2d_element_descriptor plane_surface_2d_element_descriptor">
      </select>

    </type>
    <type name="curve_2d_element_descriptor">
      <select
        selectitems="axisymmetric_curve_2d_element_descriptor plane_curve_2d_element_descriptor">
      </select>

    </type>
    <type name="volume_3d_element_coordinate_system">
      <select
        selectitems="arbitrary_volume_3d_element_coordinate_system parametric_volume_3d_element_coordinate_system">
      </select>

    </type>
    <type name="volume_2d_element_coordinate_system">
      <select
        selectitems="arbitrary_volume_2d_element_coordinate_system parametric_volume_2d_element_coordinate_system">
      </select>

    </type>
    <type name="surface_3d_element_coordinate_system">
      <select
        selectitems="aligned_surface_3d_element_coordinate_system parametric_surface_3d_element_coordinate_system constant_surface_3d_element_coordinate_system">
      </select>

    </type>
    <type name="surface_2d_element_coordinate_system">
      <select
        selectitems="aligned_surface_2d_element_coordinate_system parametric_surface_2d_element_coordinate_system">
      </select>

    </type>
    <type name="curve_3d_element_coordinate_system">
      <select
        selectitems="aligned_curve_3d_element_coordinate_system parametric_curve_3d_element_coordinate_system">
      </select>

    </type>
    <type name="curve_element_end_coordinate_system">
      <select
        selectitems="fea_axis2_placement_3d curve_3d_element_coordinate_system">
      </select>

    </type>
    <type name="directionally_explicit_element_coordinate_system">
      <select
        selectitems="directionally_explicit_element_coordinate_system_arbitrary directionally_explicit_element_coordinate_system_aligned">
      </select>

    </type>
    <type name="element_aspect">
      <select
        selectitems="element_volume volume_3d_face volume_2d_face volume_3d_edge volume_2d_edge surface_3d_face surface_2d_face surface_3d_edge surface_2d_edge curve_edge">
      </select>

    </type>
    <type name="element_volume">
      <enumeration
        items="volume">
      </enumeration>


    </type>
    <type name="curve_edge">
      <enumeration
        items="element_edge">
      </enumeration>


    </type>
    <type name="node_or_node_group">
      <select
        selectitems="node_representation node_group">
      </select>

    </type>
    <type name="element_or_element_group">
      <select
        selectitems="element_representation element_group">
      </select>

    </type>
    <entity
      name="fea_model"
      super.expression="ONEOF(fea_model_2d,                      fea_model_3d)"
      supertypes="representation">
      <explicit
        name="creating_software">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="intended_analysis_code">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="analysis_type">
        <typename
          name="text"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
    </entity>

    <entity
      name="fea_model_3d"
      supertypes="fea_model">
      <where
        label="WR1"
        expression="SELF\representation.context_of_items\       geometric_representation_context.coordinate_space_dimension = 3">
      </where>
    </entity>

    <entity
      name="fea_model_2d"
      supertypes="fea_model">
      <explicit
        name="type_of_2d_analysis">
        <typename
          name="axi_or_plane"/>
      </explicit>
      <where
        label="WR1"
        expression="SELF\representation.context_of_items\       geometric_representation_context.coordinate_space_dimension = 2">
      </where>
    </entity>

    <entity
      name="structural_response_property_definition_representation"
      supertypes="property_definition_representation">
      <where
        label="WR1"
        expression="(('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +         'STRUCTURAL_RESPONSE_PROPERTY') IN TYPEOF          (SELF\property_definition_representation.definition))">
      </where>
      <where
        label="WR2"
        expression="((('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.FEA_MODEL'        IN TYPEOF         (SELF\property_definition_representation.used_representation))        AND        ('STRUCTURAL_RESPONSE_DEFINITION_SCHEMA.FEA_MODEL_DEFINITION'        IN TYPEOF         (SELF\property_definition_representation.definition.definition)))       OR      (('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.ELEMENT_REPRESENTATION'        IN TYPEOF         (SELF\property_definition_representation.used_representation))        AND        ('STRUCTURAL_RESPONSE_DEFINITION_SCHEMA.ELEMENT_DEFINITION'        IN TYPEOF         (SELF\property_definition_representation.definition.definition)))       OR      (('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.NODE_REPRESENTATION'        IN TYPEOF         (SELF\property_definition_representation.used_representation))        AND        ('STRUCTURAL_RESPONSE_DEFINITION_SCHEMA.NODE_DEFINITION'        IN TYPEOF         (SELF\property_definition_representation.definition.definition))))">
      </where>
    </entity>

    <entity
      name="fea_representation_item"
      super.expression="ONEOF               (arbitrary_volume_3d_element_coordinate_system,                parametric_volume_3d_element_coordinate_system,                arbitrary_volume_2d_element_coordinate_system,                parametric_volume_2d_element_coordinate_system,                aligned_surface_3d_element_coordinate_system,                parametric_surface_3d_element_coordinate_system,                constant_surface_3d_element_coordinate_system,                aligned_surface_2d_element_coordinate_system,                parametric_surface_2d_element_coordinate_system,                aligned_curve_3d_element_coordinate_system,                parametric_curve_3d_element_coordinate_system,                parametric_curve_3d_element_coordinate_direction,                curve_2d_element_coordinate_system,                directionally_explicit_element_coordinate_system_arbitrary,                directionally_explicit_element_coordinate_system_aligned)"
      supertypes="representation_item">
    </entity>

    <entity
      name="direction_node"
      supertypes="direction">
      <explicit
        name="node_1">
        <typename
          name="node_representation"/>
      </explicit>
      <explicit
        name="node_2">
        <typename
          name="node_representation"/>
      </explicit>
      <derived
        name="SELF\direction.direction_ratios"
        expression="build_direction_node (node_1, node_2)">
        <aggregate
          type="LIST"
          lower="2"
          upper="3"/>
        <typename
          name="REAL"/>
      </derived>
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* node_1\representation.items |              'GEOMETRY_SCHEMA.CARTESIAN_POINT' IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item &lt;* node_2\representation.items |              'GEOMETRY_SCHEMA.CARTESIAN_POINT' IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR3"
        expression="NOT ((direction_ratios[1] = 0.0) AND            (direction_ratios[2] = 0.0) AND            (direction_ratios[3] = 0.0))">
      </where>
    </entity>

    <entity
      name="fea_axis2_placement_2d"
      supertypes="axis2_placement_2d">
      <explicit
        name="system_type">
        <typename
          name="coordinate_system_type"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="fea_axis2_placement_3d"
      supertypes="axis2_placement_3d">
      <explicit
        name="system_type">
        <typename
          name="coordinate_system_type"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="node_set"
      supertypes="geometric_representation_item">
      <explicit
        name="nodes">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="node_representation"/>
      </explicit>
      <where
        label="WR1"
        expression="SIZEOF (QUERY (tmp &lt;* nodes |                tmp\representation.context_of_items :&lt;&gt;:               nodes[1]\representation.context_of_items)) = 0">
      </where>
    </entity>

    <entity
      name="analysis_item_within_representation">
      <explicit
        name="name">
        <typename
          name="label"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="item">
        <typename
          name="representation_item"/>
      </explicit>
      <explicit
        name="rep">
        <typename
          name="representation"/>
      </explicit>
      <where
        label="WR1"
        expression="SIZEOF (QUERY (tmp &lt;* using_representations(item) |                       tmp :=: rep)) = 1">
      </where>
    </entity>

    <entity
      name="node_geometric_relationship">
      <explicit
        name="node_ref">
        <typename
          name="node_or_node_group"/>
      </explicit>
      <explicit
        name="item">
        <typename
          name="analysis_item_within_representation"/>
      </explicit>
      <where
        label="WR1"
        expression="'GEOMETRY_SCHEMA.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF(item.item)">
      </where>
    </entity>

    <entity
      name="element_geometric_relationship">
      <explicit
        name="element_ref">
        <typename
          name="element_or_element_group"/>
      </explicit>
      <explicit
        name="item">
        <typename
          name="analysis_item_within_representation"/>
      </explicit>
      <explicit
        name="aspect">
        <typename
          name="element_aspect"/>
      </explicit>
      <where
        label="WR1"
        expression="'GEOMETRY_SCHEMA.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF(item.item)">
      </where>
      <where
        label="WR2"
        expression="consistent_geometric_reference (aspect, item.item)">
      </where>
      <where
        label="WR3"
        expression="consistent_element_or_group_reference (aspect, element_ref)">
      </where>
    </entity>

    <entity
      name="node_representation"
      super.expression="ONEOF                     (node,                      dummy_node,                      geometric_node)"
      supertypes="representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
    </entity>

    <entity
      name="node"
      super.expression="node_with_vector ANDOR                node_with_solution_coordinate_system"
      supertypes="node_representation">
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'GEOMETRY_SCHEMA.POINT'               IN TYPEOF (item))) = 1">
      </where>
    </entity>

    <entity
      name="node_with_vector"
      supertypes="node">
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'GEOMETRY_SCHEMA.DIRECTION'               IN TYPEOF (item))) = 1">
      </where>
    </entity>

    <entity
      name="node_with_solution_coordinate_system"
      supertypes="node">
      <where
        label="WR1"
        expression="( (SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'FEA_AXIS2_PLACEMENT_3D'               IN TYPEOF (item))) = 1)          AND          (SELF\representation.context_of_items\       geometric_representation_context.coordinate_space_dimension = 3) )     OR       ( (SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'FEA_AXIS2_PLACEMENT_2D'               IN TYPEOF (item))) = 1)          AND          (SELF\representation.context_of_items\       geometric_representation_context.coordinate_space_dimension = 2) )">
      </where>
    </entity>

    <entity
      name="dummy_node"
      supertypes="node_representation">
    </entity>

    <entity
      name="geometric_node"
      supertypes="node_representation">
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'GEOMETRY_SCHEMA.POINT'               IN TYPEOF (item))) = 1">
      </where>
    </entity>

    <entity
      name="substructure_node_relationship"
      supertypes="representation_relationship">
      <where
        label="WR1"
        expression="'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.NODE_REPRESENTATION'         IN TYPEOF (SELF\representation_relationship.rep_1)">
      </where>
      <where
        label="WR2"
        expression="'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.NODE_REPRESENTATION'         IN TYPEOF (SELF\representation_relationship.rep_2)">
      </where>
    </entity>

    <entity
      name="element_representation"
      super.expression="ONEOF(volume_3d_element_representation,                      axisymmetric_volume_2d_element_representation,                      plane_volume_2d_element_representation,                      surface_3d_element_representation,                      axisymmetric_surface_2d_element_representation,                      plane_surface_2d_element_representation,                      curve_3d_element_representation,                      axisymmetric_curve_2d_element_representation,                      plane_curve_2d_element_representation,                      point_element_representation,                      directionally_explicit_element_representation,                      explicit_element_representation,                      substructure_element_representation)"
      supertypes="representation">
      <explicit
        name="node_list">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="node_representation"/>
      </explicit>
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* node_list |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'GEOMETRIC_NODE'               IN TYPEOF (item))) = 0">
      </where>
    </entity>

    <entity
      name="volume_3d_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model_3d"/>
      </explicit>
      <explicit
        name="element_descriptor">
        <typename
          name="volume_3d_element_descriptor"/>
      </explicit>
      <explicit
        name="material">
        <typename
          name="element_material"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |               'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +               'PARAMETRIC_VOLUME_3D_ELEMENT_COORDINATE_SYSTEM'               IN TYPEOF (item))) +       SIZEOF (QUERY(item &lt;* SELF\representation.items |               'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +               'ARBITRARY_VOLUME_3D_ELEMENT_COORDINATE_SYSTEM'               IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item1 &lt;* material.properties |        (SIZEOF (QUERY (item2 &lt;*         item1\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION'] * TYPEOF (item2)                  ) = 1        )) = 1       ))) &gt;= 1">
      </where>
      <where
        label="WR3"
        expression="'REPRESENTATION_SCHEMA.PARAMETRIC_REPRESENTATION_CONTEXT'        IN TYPEOF (SELF\representation.context_of_items)">
      </where>
      <where
        label="FU1"
        expression="required_3d_nodes (        SELF\element_representation.node_list,        element_descriptor.shape,        element_descriptor\element_descriptor.topology_order)">
      </where>
    </entity>

    <entity
      name="axisymmetric_volume_2d_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model_2d"/>
      </explicit>
      <explicit
        name="element_descriptor">
        <typename
          name="axisymmetric_volume_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="angle_property">
        <typename
          name="axisymmetric_2d_element_property"/>
      </explicit>
      <explicit
        name="material">
        <typename
          name="element_material"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="model_ref.type_of_2d_analysis = axisymmetric">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'PARAMETRIC_VOLUME_2D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) +       SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'ARBITRARY_VOLUME_2D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (QUERY(item1 &lt;* material.properties |        (SIZEOF (QUERY (item2 &lt;*         item1\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_AREA_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION'] * TYPEOF (item2)                  ) = 1        )) = 1       ))) &gt;= 1">
      </where>
      <where
        label="WR4"
        expression="'REPRESENTATION_SCHEMA.PARAMETRIC_REPRESENTATION_CONTEXT'        IN TYPEOF (SELF\representation.context_of_items)">
      </where>
      <where
        label="FU1"
        expression="required_2d_nodes (        SELF\element_representation.node_list,        element_descriptor.shape,        element_descriptor\element_descriptor.topology_order)">
      </where>
    </entity>

    <entity
      name="plane_volume_2d_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model_2d"/>
      </explicit>
      <explicit
        name="element_descriptor">
        <typename
          name="plane_volume_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="depth_property">
        <typename
          name="plane_2d_element_property"/>
      </explicit>
      <explicit
        name="material">
        <typename
          name="element_material"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="model_ref.type_of_2d_analysis = planar">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'PARAMETRIC_VOLUME_2D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) +       SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'ARBITRARY_VOLUME_2D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (QUERY(item1 &lt;* material.properties |        (SIZEOF (QUERY (item2 &lt;*         item1\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_AREA_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION'] * TYPEOF (item2)                  ) = 1        )) = 1       ))) &gt;= 1">
      </where>
      <where
        label="WR4"
        expression="'REPRESENTATION_SCHEMA.PARAMETRIC_REPRESENTATION_CONTEXT'        IN TYPEOF (SELF\representation.context_of_items)">
      </where>
      <where
        label="FU1"
        expression="required_2d_nodes (        SELF\element_representation.node_list,        element_descriptor.shape,        element_descriptor\element_descriptor.topology_order)">
      </where>
    </entity>

    <entity
      name="surface_3d_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model_3d"/>
      </explicit>
      <explicit
        name="element_descriptor">
        <typename
          name="surface_3d_element_descriptor"/>
      </explicit>
      <explicit
        name="property">
        <typename
          name="surface_element_property"/>
      </explicit>
      <explicit
        name="material">
        <typename
          name="element_material"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'PARAMETRIC_SURFACE_3D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) +       SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'CONSTANT_SURFACE_3D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) +       SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'ALIGNED_SURFACE_3D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item1 &lt;* material.properties |        (SIZEOF (QUERY (item2 &lt;*         item1\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_AREA_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_MEMBRANE_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_BENDING_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_MEMBRANE_BENDING_COUPLING_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_SHEAR_STIFFNESS'] * TYPEOF (item2)                  ) = 1        )) = 1       ))) &gt;= 1">
      </where>
      <where
        label="WR3"
        expression="'REPRESENTATION_SCHEMA.PARAMETRIC_REPRESENTATION_CONTEXT'        IN TYPEOF (SELF\representation.context_of_items)">
      </where>
      <where
        label="FU1"
        expression="required_2d_nodes (        SELF\element_representation.node_list,        element_descriptor.shape,        element_descriptor\element_descriptor.topology_order)">
      </where>
    </entity>

    <entity
      name="axisymmetric_surface_2d_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model_2d"/>
      </explicit>
      <explicit
        name="element_descriptor">
        <typename
          name="axisymmetric_surface_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="property">
        <typename
          name="surface_element_property"/>
      </explicit>
      <explicit
        name="angle_property">
        <typename
          name="axisymmetric_2d_element_property"/>
      </explicit>
      <explicit
        name="material">
        <typename
          name="element_material"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="model_ref.type_of_2d_analysis = axisymmetric">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'PARAMETRIC_SURFACE_2D_ELEMENT_COORDINATE_SYSTEM'               IN TYPEOF (item))) +       SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'ALIGNED_SURFACE_2D_ELEMENT_COORDINATE_SYSTEM'                IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (QUERY(item1 &lt;* material.properties |        (SIZEOF (QUERY (item2 &lt;*         item1\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_AREA_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_MEMBRANE_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_BENDING_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_MEMBRANE_BENDING_COUPLING_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_SHEAR_STIFFNESS'] * TYPEOF (item2)                  ) = 1        )) = 1       ))) &gt;= 1">
      </where>
      <where
        label="WR4"
        expression="'REPRESENTATION_SCHEMA.PARAMETRIC_REPRESENTATION_CONTEXT'        IN TYPEOF (SELF\representation.context_of_items)">
      </where>
      <where
        label="FU1"
        expression="required_1d_nodes (        SELF\element_representation.node_list,        element_descriptor\element_descriptor.topology_order)">
      </where>
    </entity>

    <entity
      name="plane_surface_2d_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model_2d"/>
      </explicit>
      <explicit
        name="element_descriptor">
        <typename
          name="plane_surface_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="property">
        <typename
          name="surface_element_property"/>
      </explicit>
      <explicit
        name="depth_property">
        <typename
          name="plane_2d_element_property"/>
      </explicit>
      <explicit
        name="material">
        <typename
          name="element_material"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="model_ref.type_of_2d_analysis = planar">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'PARAMETRIC_SURFACE_2D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) +       SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'ALIGNED_SURFACE_2D_ELEMENT_COORDINATE_SYSTEM'               IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (QUERY(item1 &lt;* material.properties |        (SIZEOF (QUERY (item2 &lt;*         item1\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_AREA_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_MEMBRANE_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_BENDING_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_MEMBRANE_BENDING_COUPLING_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_SHEAR_STIFFNESS'] * TYPEOF (item2)                  ) = 1        )) = 1       ))) &gt;= 1">
      </where>
      <where
        label="WR4"
        expression="'REPRESENTATION_SCHEMA.PARAMETRIC_REPRESENTATION_CONTEXT'        IN TYPEOF (SELF\representation.context_of_items)">
      </where>
      <where
        label="FU1"
        expression="required_1d_nodes (        SELF\element_representation.node_list,        element_descriptor\element_descriptor.topology_order)">
      </where>
    </entity>

    <entity
      name="curve_3d_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model_3d"/>
      </explicit>
      <explicit
        name="element_descriptor">
        <typename
          name="curve_3d_element_descriptor"/>
      </explicit>
      <explicit
        name="property">
        <typename
          name="curve_3d_element_property"/>
      </explicit>
      <explicit
        name="material">
        <typename
          name="element_material"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'PARAMETRIC_CURVE_3D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) +       SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'ALIGNED_CURVE_3D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item1 &lt;* material.properties |        (SIZEOF (QUERY (item2 &lt;*         item1\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_AREA_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION'] * TYPEOF (item2)                  ) = 1        )) = 1       ))) &gt;= 1">
      </where>
      <where
        label="WR3"
        expression="'REPRESENTATION_SCHEMA.PARAMETRIC_REPRESENTATION_CONTEXT'        IN TYPEOF (SELF\representation.context_of_items)">
      </where>
      <where
        label="FU1"
        expression="required_1d_nodes (        SELF\element_representation.node_list,        element_descriptor\element_descriptor.topology_order)">
      </where>
    </entity>

    <entity
      name="axisymmetric_curve_2d_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model_2d"/>
      </explicit>
      <explicit
        name="element_descriptor">
        <typename
          name="axisymmetric_curve_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="property">
        <typename
          name="curve_2d_element_property"/>
      </explicit>
      <explicit
        name="angle_property">
        <typename
          name="axisymmetric_2d_element_property"/>
      </explicit>
      <explicit
        name="material">
        <typename
          name="element_material"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="model_ref.type_of_2d_analysis = axisymmetric">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'CURVE_2D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (QUERY(item1 &lt;* material.properties |        (SIZEOF (QUERY (item2 &lt;*         item1\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_AREA_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION'] * TYPEOF (item2)                  ) = 1        )) = 1       ))) &gt;= 1">
      </where>
      <where
        label="WR4"
        expression="'REPRESENTATION_SCHEMA.PARAMETRIC_REPRESENTATION_CONTEXT'        IN TYPEOF (SELF\representation.context_of_items)">
      </where>
      <where
        label="FU1"
        expression="required_0d_nodes (        SELF\element_representation.node_list)">
      </where>
    </entity>

    <entity
      name="plane_curve_2d_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model_2d"/>
      </explicit>
      <explicit
        name="element_descriptor">
        <typename
          name="plane_curve_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="property">
        <typename
          name="curve_2d_element_property"/>
      </explicit>
      <explicit
        name="depth_property">
        <typename
          name="plane_2d_element_property"/>
      </explicit>
      <explicit
        name="material">
        <typename
          name="element_material"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="model_ref.type_of_2d_analysis = planar">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'CURVE_2D_ELEMENT_COORDINATE_SYSTEM'              IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR3"
        expression="SIZEOF (QUERY(item1 &lt;* material.properties |        (SIZEOF (QUERY (item2 &lt;*         item1\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_AREA_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION'] * TYPEOF (item2)                  ) = 1        )) = 1       ))) &gt;= 1">
      </where>
      <where
        label="WR4"
        expression="'REPRESENTATION_SCHEMA.PARAMETRIC_REPRESENTATION_CONTEXT'        IN TYPEOF (SELF\representation.context_of_items)">
      </where>
      <where
        label="FU1"
        expression="required_0d_nodes (        SELF\element_representation.node_list)">
      </where>
    </entity>

    <entity
      name="element_descriptor"
      super.expression="ONEOF (volume_3d_element_descriptor,                       axisymmetric_volume_2d_element_descriptor,                       plane_volume_2d_element_descriptor,                       surface_3d_element_descriptor,                       axisymmetric_surface_2d_element_descriptor,                       plane_surface_2d_element_descriptor,                       curve_3d_element_descriptor,                       axisymmetric_curve_2d_element_descriptor,                       plane_curve_2d_element_descriptor)">
      <explicit
        name="topology_order">
        <typename
          name="element_order"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="volume_3d_element_descriptor"
      supertypes="element_descriptor">
      <explicit
        name="purpose">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="volume_element_purpose"/>
      </explicit>
      <explicit
        name="shape">
        <typename
          name="volume_3d_element_shape"/>
      </explicit>
    </entity>

    <entity
      name="axisymmetric_volume_2d_element_descriptor"
      supertypes="element_descriptor">
      <explicit
        name="purpose">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="SET"/>
      </explicit>
      <explicit
        name="shape">
        <typename
          name="element_2d_shape"/>
      </explicit>
    </entity>

    <entity
      name="plane_volume_2d_element_descriptor"
      supertypes="element_descriptor">
      <explicit
        name="purpose">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="SET"/>
      </explicit>
      <explicit
        name="shape">
        <typename
          name="element_2d_shape"/>
      </explicit>
      <explicit
        name="assumption">
        <typename
          name="plane_2d_element_purpose"/>
      </explicit>
    </entity>

    <entity
      name="volume_3d_element_basis">
      <explicit
        name="descriptor">
        <typename
          name="volume_3d_element_descriptor"/>
      </explicit>
      <explicit
        name="variable">
        <typename
          name="volume_variable"/>
      </explicit>
      <explicit
        name="variable_order">
        <typename
          name="element_order"/>
      </explicit>
      <explicit
        name="variable_shape_function">
        <typename
          name="shape_function"/>
      </explicit>
      <explicit
        name="evaluation_points">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="volume_element_location"/>
      </explicit>
    </entity>

    <entity
      name="volume_2d_element_basis">
      <explicit
        name="descriptor">
        <typename
          name="volume_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="variable">
        <typename
          name="volume_variable"/>
      </explicit>
      <explicit
        name="variable_order">
        <typename
          name="element_order"/>
      </explicit>
      <explicit
        name="variable_shape_function">
        <typename
          name="shape_function"/>
      </explicit>
      <explicit
        name="evaluation_points">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="volume_element_location"/>
      </explicit>
    </entity>

    <entity
      name="surface_3d_element_descriptor"
      supertypes="element_descriptor">
      <explicit
        name="purpose">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="SET"/>
      </explicit>
      <explicit
        name="shape">
        <typename
          name="element_2d_shape"/>
      </explicit>
    </entity>

    <entity
      name="axisymmetric_surface_2d_element_descriptor"
      supertypes="element_descriptor">
      <explicit
        name="purpose">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="SET"/>
      </explicit>
    </entity>

    <entity
      name="plane_surface_2d_element_descriptor"
      supertypes="element_descriptor">
      <explicit
        name="purpose">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="SET"/>
      </explicit>
      <explicit
        name="assumption">
        <typename
          name="plane_2d_element_purpose"/>
      </explicit>
    </entity>

    <entity
      name="surface_3d_element_basis">
      <explicit
        name="descriptor">
        <typename
          name="surface_3d_element_descriptor"/>
      </explicit>
      <explicit
        name="variable">
        <typename
          name="surface_element_variable"/>
      </explicit>
      <explicit
        name="variable_order">
        <typename
          name="element_order"/>
      </explicit>
      <explicit
        name="variable_shape_function">
        <typename
          name="shape_function"/>
      </explicit>
      <explicit
        name="evaluation_points">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="surface_element_location"/>
      </explicit>
    </entity>

    <entity
      name="surface_2d_element_basis">
      <explicit
        name="descriptor">
        <typename
          name="surface_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="variable">
        <typename
          name="surface_element_variable"/>
      </explicit>
      <explicit
        name="variable_order">
        <typename
          name="element_order"/>
      </explicit>
      <explicit
        name="variable_shape_function">
        <typename
          name="shape_function"/>
      </explicit>
      <explicit
        name="evaluation_points">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="surface_element_location"/>
      </explicit>
    </entity>

    <entity
      name="curve_3d_element_descriptor"
      supertypes="element_descriptor">
      <explicit
        name="purpose">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="SET"/>
      </explicit>
    </entity>

    <entity
      name="axisymmetric_curve_2d_element_descriptor"
      supertypes="element_descriptor">
      <explicit
        name="purpose">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="SET"/>
      </explicit>
    </entity>

    <entity
      name="plane_curve_2d_element_descriptor"
      supertypes="element_descriptor">
      <explicit
        name="purpose">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="SET"/>
      </explicit>
      <explicit
        name="assumption">
        <typename
          name="plane_2d_element_purpose"/>
      </explicit>
    </entity>

    <entity
      name="curve_3d_element_basis">
      <explicit
        name="descriptor">
        <typename
          name="curve_3d_element_descriptor"/>
      </explicit>
      <explicit
        name="variable">
        <typename
          name="curve_element_variable"/>
      </explicit>
      <explicit
        name="variable_order">
        <typename
          name="element_order"/>
      </explicit>
      <explicit
        name="variable_shape_function">
        <typename
          name="shape_function"/>
      </explicit>
      <explicit
        name="evaluation_points">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="curve_element_location"/>
      </explicit>
    </entity>

    <entity
      name="curve_2d_element_basis">
      <explicit
        name="descriptor">
        <typename
          name="curve_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="variable">
        <typename
          name="curve_element_variable"/>
      </explicit>
    </entity>

    <entity
      name="point_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="matrix_set">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="point_element_matrix"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'FEA_AXIS2_PLACEMENT_3D'              IN TYPEOF (item))) = 1">
      </where>
      <where
        label="FU1"
        expression="required_0d_nodes (        SELF\element_representation.node_list)">
      </where>
    </entity>

    <entity
      name="point_element_matrix"
      super.expression="ONEOF(stationary_mass,                      grounded_spring,                      grounded_damper)">
    </entity>

    <entity
      name="stationary_mass"
      supertypes="point_element_matrix">
      <explicit
        name="mass">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="3"/>
        <typename
          name="context_dependent_measure"/>
      </explicit>
      <explicit
        name="moments_of_inertia">
        <typename
          name="symmetric_tensor2_3d"/>
      </explicit>
      <explicit
        name="coordinate_system">
        <typename
          name="fea_axis2_placement_3d"/>
      </explicit>
      <explicit
        name="offset_vector">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="3"/>
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="grounded_spring"
      supertypes="point_element_matrix">
      <explicit
        name="stiffness_coefficients">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="6"/>
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="grounded_damper"
      supertypes="point_element_matrix">
      <explicit
        name="damping_coefficients">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="6"/>
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="directionally_explicit_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model"/>
      </explicit>
      <explicit
        name="systems_and_freedoms">
        <aggregate
          type="LIST"
          lower="2"
          upper="2"/>
        <typename
          name="system_and_freedom"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="coefficient">
        <typename
          name="directionally_explicit_element_coefficient"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="FU1"
        expression="required_1d_nodes (        SELF\element_representation.node_list,        linear)">
      </where>
    </entity>

    <entity
      name="system_and_freedom">
      <explicit
        name="matrix_coordinate_system">
        <typename
          name="directionally_explicit_element_coordinate_system"/>
      </explicit>
      <explicit
        name="freedom">
        <typename
          name="degree_of_freedom"/>
      </explicit>
    </entity>

    <entity
      name="directionally_explicit_element_coefficient">
      <explicit
        name="property_type">
        <typename
          name="matrix_property_type"/>
      </explicit>
      <explicit
        name="coefficient">
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="explicit_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="matrix">
        <typename
          name="explicit_element_matrix"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
      <where
        label="WR1"
        expression="SIZEOF (QUERY(item &lt;* SELF\representation.items |              ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +              'FEA_AXIS2_PLACEMENT_3D')               IN TYPEOF (item))) = 1">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (matrix.node_dof_list) =         SIZEOF (SELF\element_representation.node_list)">
      </where>
    </entity>

    <entity
      name="explicit_element_matrix">
      <explicit
        name="property_type">
        <typename
          name="matrix_property_type"/>
      </explicit>
      <explicit
        name="symmetry">
        <typename
          name="matrix_symmetry"/>
      </explicit>
      <explicit
        name="node_dof_list">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="LIST"/>
      </explicit>
      <explicit
        name="matrix_values">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="context_dependent_measure"/>
      </explicit>
      <where
        label="WR1"
        expression="SIZEOF (matrix_values) = number_of_terms (node_dof_list, symmetry)">
      </where>
    </entity>

    <entity
      name="substructure_element_representation"
      supertypes="element_representation">
      <explicit
        name="model_ref">
        <typename
          name="fea_model"/>
      </explicit>
      <explicit
        name="substructure_model_ref">
        <typename
          name="fea_model"/>
      </explicit>
      <unique
        label="UR1">
        <unique.attribute
          attribute="model_ref"/>
        <unique.attribute
          attribute="SELF\representation.name"/>
      </unique>
    </entity>

    <entity
      name="aligned_axis_tolerance">
      <explicit
        name="model_ref">
        <typename
          name="fea_model"/>
      </explicit>
      <explicit
        name="tolerance">
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="arbitrary_volume_3d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="coordinate_system">
        <typename
          name="fea_axis2_placement_3d"/>
      </explicit>
    </entity>

    <entity
      name="parametric_volume_3d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="axis_1">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="axis_2">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="eu_angles">
        <typename
          name="euler_angles"/>
      </explicit>
      <where
        label="WR1"
        expression="(axis_1 &gt;= 1) AND (axis_1 &lt;= 3) AND        (axis_2 &gt;= 1) AND (axis_2 &lt;= 3) AND        NOT (axis_1 = axis_2)">
      </where>
    </entity>

    <entity
      name="arbitrary_volume_2d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="orientation">
        <typename
          name="direction"/>
      </explicit>
      <where
        label="WR1"
        expression="SELF\geometric_representation_item.dim=2">
      </where>
    </entity>

    <entity
      name="parametric_volume_2d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="axis">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="angle">
        <typename
          name="plane_angle_measure"/>
      </explicit>
      <where
        label="WR1"
        expression="(axis &gt;= 1) AND (axis &lt;= 2)">
      </where>
    </entity>

    <entity
      name="aligned_surface_3d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="coordinate_system">
        <typename
          name="fea_axis2_placement_3d"/>
      </explicit>
    </entity>

    <entity
      name="parametric_surface_3d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="axis">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="angle">
        <typename
          name="plane_angle_measure"/>
      </explicit>
      <where
        label="WR1"
        expression="(axis &gt;= 1) AND (axis &lt;= 2)">
      </where>
    </entity>

    <entity
      name="constant_surface_3d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="axis">
        <builtintype
          type="INTEGER"/>
      </explicit>
      <explicit
        name="angle">
        <typename
          name="plane_angle_measure"/>
      </explicit>
      <where
        label="WR1"
        expression="(axis &gt;= 1) AND (axis &lt;= 2)">
      </where>
    </entity>

    <entity
      name="aligned_surface_2d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="orientation">
        <typename
          name="direction"/>
      </explicit>
      <where
        label="WR1"
        expression="SELF\geometric_representation_item.dim=2">
      </where>
    </entity>

    <entity
      name="parametric_surface_2d_element_coordinate_system"
      supertypes="fea_representation_item">
    </entity>

    <entity
      name="aligned_curve_3d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="coordinate_system">
        <typename
          name="fea_axis2_placement_3d"/>
      </explicit>
    </entity>

    <entity
      name="parametric_curve_3d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="direction">
        <typename
          name="parametric_curve_3d_element_coordinate_direction"/>
      </explicit>
    </entity>

    <entity
      name="parametric_curve_3d_element_coordinate_direction"
      supertypes="fea_representation_item">
      <explicit
        name="orientation">
        <typename
          name="direction"/>
      </explicit>
      <where
        label="WR1"
        expression="SELF\geometric_representation_item.dim=3">
      </where>
    </entity>

    <entity
      name="curve_2d_element_coordinate_system"
      supertypes="fea_representation_item">
      <explicit
        name="orientation">
        <typename
          name="direction"/>
      </explicit>
      <where
        label="WR1"
        expression="SELF\geometric_representation_item.dim=2">
      </where>
    </entity>

    <entity
      name="directionally_explicit_element_coordinate_system_arbitrary"
      supertypes="fea_representation_item">
      <explicit
        name="arbitrary_system">
        <typename
          name="fea_axis2_placement_3d"/>
      </explicit>
    </entity>

    <entity
      name="directionally_explicit_element_coordinate_system_aligned"
      supertypes="fea_representation_item">
      <explicit
        name="aligned_system">
        <typename
          name="curve_3d_element_coordinate_system"/>
      </explicit>
    </entity>

    <entity
      name="euler_angles">
      <explicit
        name="angles">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="3"/>
        <typename
          name="plane_angle_measure"/>
      </explicit>
    </entity>

    <entity
      name="volume_3d_element_integrated_matrix">
      <explicit
        name="descriptor">
        <typename
          name="volume_3d_element_descriptor"/>
      </explicit>
      <explicit
        name="property_type">
        <typename
          name="matrix_property_type"/>
      </explicit>
      <explicit
        name="integration_description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="volume_3d_element_integrated_matrix_with_definition"
      supertypes="volume_3d_element_integrated_matrix">
      <explicit
        name="integration_definition">
        <typename
          name="volume_3d_element_field_integration"/>
      </explicit>
    </entity>

    <type name="volume_3d_element_field_integration">
      <select
        selectitems="element_integration_algebraic volume_3d_element_field_integration_rule volume_3d_element_field_integration_explicit">
      </select>

    </type>
    <type name="element_integration_algebraic">
      <enumeration
        items="algebraic">
      </enumeration>


    </type>
    <entity
      name="volume_3d_element_field_integration_rule">
      <explicit
        name="integration_method">
        <typename
          name="integration_rule"/>
      </explicit>
      <explicit
        name="integration_order">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="3"/>
        <typename
          name="INTEGER"/>
      </explicit>
    </entity>

    <entity
      name="volume_3d_element_field_integration_explicit">
      <explicit
        name="integration_positions_and_weights">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="volume_position_weight"/>
      </explicit>
    </entity>

    <entity
      name="volume_position_weight">
      <explicit
        name="integration_position">
        <typename
          name="volume_element_location"/>
      </explicit>
      <explicit
        name="integration_weight">
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="volume_2d_element_integrated_matrix">
      <explicit
        name="descriptor">
        <typename
          name="volume_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="property_type">
        <typename
          name="matrix_property_type"/>
      </explicit>
      <explicit
        name="integration_description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="volume_2d_element_integrated_matrix_with_definition"
      supertypes="volume_2d_element_integrated_matrix">
      <explicit
        name="integration_definition">
        <typename
          name="volume_2d_element_field_integration"/>
      </explicit>
    </entity>

    <type name="volume_2d_element_field_integration">
      <select
        selectitems="element_integration_algebraic volume_2d_element_field_integration_rule volume_2d_element_field_integration_explicit">
      </select>

    </type>
    <entity
      name="volume_2d_element_field_integration_rule">
      <explicit
        name="integration_method">
        <typename
          name="integration_rule"/>
      </explicit>
      <explicit
        name="integration_order">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="INTEGER"/>
      </explicit>
    </entity>

    <entity
      name="volume_2d_element_field_integration_explicit">
      <explicit
        name="integration_positions_and_weights">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="volume_position_weight"/>
      </explicit>
    </entity>

    <entity
      name="surface_3d_element_integrated_matrix">
      <explicit
        name="descriptor">
        <typename
          name="surface_3d_element_descriptor"/>
      </explicit>
      <explicit
        name="property_type">
        <typename
          name="surface_matrix_property_type"/>
      </explicit>
      <explicit
        name="integration_description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="surface_3d_element_integrated_matrix_with_definition"
      supertypes="surface_3d_element_integrated_matrix">
      <explicit
        name="integration_definition">
        <typename
          name="surface_3d_element_integration"/>
      </explicit>
    </entity>

    <entity
      name="surface_3d_element_integration">
      <explicit
        name="field">
        <typename
          name="surface_3d_element_field_integration"/>
      </explicit>
      <explicit
        name="section">
        <typename
          name="surface_section_integration"/>
      </explicit>
    </entity>

    <type name="surface_3d_element_field_integration">
      <select
        selectitems="element_integration_algebraic surface_3d_element_field_integration_rule surface_3d_element_field_integration_explicit">
      </select>

    </type>
    <type name="surface_section_integration">
      <select
        selectitems="element_integration_algebraic surface_section_integration_rule surface_section_integration_explicit">
      </select>

    </type>
    <entity
      name="surface_3d_element_field_integration_rule">
      <explicit
        name="integration_method">
        <typename
          name="integration_rule"/>
      </explicit>
      <explicit
        name="integration_order">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="INTEGER"/>
      </explicit>
    </entity>

    <entity
      name="surface_3d_element_field_integration_explicit">
      <explicit
        name="integration_positions_and_weights">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="surface_position_weight"/>
      </explicit>
    </entity>

    <entity
      name="surface_position_weight">
      <explicit
        name="integration_position">
        <typename
          name="surface_element_location"/>
      </explicit>
      <explicit
        name="integration_weight">
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="surface_section_integration_rule">
      <explicit
        name="integration_method">
        <typename
          name="integration_rule"/>
      </explicit>
      <explicit
        name="integration_order">
        <builtintype
          type="INTEGER"/>
      </explicit>
    </entity>

    <entity
      name="surface_section_integration_explicit">
      <explicit
        name="integration_positions_and_weights">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="surface_section_position_weight"/>
      </explicit>
    </entity>

    <entity
      name="surface_section_position_weight">
      <explicit
        name="integration_position">
        <typename
          name="surface_section_element_location"/>
      </explicit>
      <explicit
        name="integration_weight">
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="surface_2d_element_integrated_matrix">
      <explicit
        name="descriptor">
        <typename
          name="surface_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="property_type">
        <typename
          name="surface_matrix_property_type"/>
      </explicit>
      <explicit
        name="integration_description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="surface_2d_element_integrated_matrix_with_definition"
      supertypes="surface_2d_element_integrated_matrix">
      <explicit
        name="integration_definition">
        <typename
          name="surface_2d_element_integration"/>
      </explicit>
    </entity>

    <entity
      name="surface_2d_element_integration">
      <explicit
        name="element_length">
        <typename
          name="surface_2d_element_length_integration"/>
      </explicit>
      <explicit
        name="section">
        <typename
          name="surface_section_integration"/>
      </explicit>
    </entity>

    <type name="surface_2d_element_length_integration">
      <select
        selectitems="element_integration_algebraic surface_2d_element_length_integration_rule surface_2d_element_length_integration_explicit">
      </select>

    </type>
    <entity
      name="surface_2d_element_length_integration_rule">
      <explicit
        name="integration_method">
        <typename
          name="integration_rule"/>
      </explicit>
      <explicit
        name="integration_order">
        <builtintype
          type="INTEGER"/>
      </explicit>
    </entity>

    <entity
      name="surface_2d_element_length_integration_explicit">
      <explicit
        name="integration_positions_and_weights">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="surface_position_weight"/>
      </explicit>
    </entity>

    <entity
      name="curve_3d_element_integrated_matrix">
      <explicit
        name="descriptor">
        <typename
          name="curve_3d_element_descriptor"/>
      </explicit>
      <explicit
        name="property_type">
        <typename
          name="curve_matrix_property_type"/>
      </explicit>
      <explicit
        name="integration_description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="curve_3d_element_integrated_matrix_with_definition"
      supertypes="curve_3d_element_integrated_matrix">
      <explicit
        name="integration_definition">
        <typename
          name="curve_3d_element_integration"/>
      </explicit>
    </entity>

    <entity
      name="curve_3d_element_integration">
      <explicit
        name="element_length">
        <typename
          name="curve_3d_element_length_integration"/>
      </explicit>
      <explicit
        name="section">
        <typename
          name="curve_section_integration_explicit"/>
      </explicit>
    </entity>

    <type name="curve_3d_element_length_integration">
      <select
        selectitems="element_integration_algebraic curve_3d_element_length_integration_rule curve_3d_element_length_integration_explicit">
      </select>

    </type>
    <entity
      name="curve_3d_element_length_integration_rule">
      <explicit
        name="integration_method">
        <typename
          name="integration_rule"/>
      </explicit>
      <explicit
        name="integration_order">
        <builtintype
          type="INTEGER"/>
      </explicit>
    </entity>

    <entity
      name="curve_3d_element_length_integration_explicit">
      <explicit
        name="integration_positions_and_weights">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="curve_3d_element_position_weight"/>
      </explicit>
    </entity>

    <entity
      name="curve_3d_element_position_weight">
      <explicit
        name="integration_position">
        <typename
          name="curve_volume_element_location"/>
      </explicit>
      <explicit
        name="integration_weight">
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="curve_section_integration_explicit">
      <explicit
        name="integration_positions">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="curve_section_element_location"/>
      </explicit>
    </entity>

    <entity
      name="curve_2d_element_integrated_matrix">
      <explicit
        name="descriptor">
        <typename
          name="curve_2d_element_descriptor"/>
      </explicit>
      <explicit
        name="property_type">
        <typename
          name="curve_matrix_property_type"/>
      </explicit>
      <explicit
        name="integration_description">
        <typename
          name="text"/>
      </explicit>
    </entity>

    <entity
      name="curve_2d_element_integrated_matrix_with_definition"
      supertypes="curve_2d_element_integrated_matrix">
      <explicit
        name="integration_definition">
        <typename
          name="curve_2d_element_integration"/>
      </explicit>
    </entity>

    <entity
      name="curve_2d_element_integration">
      <explicit
        name="section">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="curve_section_element_location"/>
      </explicit>
    </entity>

    <entity
      name="fea_parametric_point"
      supertypes="point">
      <explicit
        name="coordinates">
        <aggregate
          type="LIST"
          lower="1"
          upper="3"/>
        <typename
          name="parameter_value"/>
      </explicit>
      <where
        label="WR1"
        expression="valid_parametric_coordinate (coordinates)">
      </where>
      <where
        label="WR2"
        expression="SIZEOF (TYPEOF (SELF) *         ['GEOMETRY_SCHEMA.CARTESIAN_POINT',          'GEOMETRY_SCHEMA.POINT_ON_CURVE',          'GEOMETRY_SCHEMA.POINT_ON_SURFACE',          'GEOMETRY_SCHEMA.DEGENERATE_PCURVE',          'GEOMETRY_SCHEMA.POINT_REPLICA',          'GEOMETRY_SCHEMA.SPHERICAL_POINT',          'GEOMETRY_SCHEMA.CYLINDRICAL_POINT'])         = 0">
      </where>
    </entity>

    <entity
      name="volume_element_location">
      <explicit
        name="coordinates">
        <typename
          name="fea_parametric_point"/>
      </explicit>
    </entity>

    <entity
      name="surface_volume_element_location">
      <explicit
        name="field_location">
        <typename
          name="surface_element_location"/>
      </explicit>
      <explicit
        name="section_location">
        <typename
          name="surface_section_element_location"/>
      </explicit>
    </entity>

    <entity
      name="surface_element_location">
      <explicit
        name="coordinates">
        <typename
          name="fea_parametric_point"/>
      </explicit>
    </entity>

    <entity
      name="surface_section_element_location"
      super.expression="ONEOF (surface_section_element_location_absolute,                       surface_section_element_location_dimensionless)">
      <explicit
        name="above_material_discontinuity">
        <builtintype
          type="LOGICAL"/>
      </explicit>
    </entity>

    <entity
      name="surface_section_element_location_absolute"
      supertypes="surface_section_element_location">
      <explicit
        name="offset">
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="surface_section_element_location_dimensionless"
      supertypes="surface_section_element_location">
      <explicit
        name="coordinate">
        <aggregate
          type="LIST"
          lower="1"
          upper="1"/>
        <typename
          name="parameter_value"/>
      </explicit>
      <where
        label="WR1"
        expression="valid_parametric_coordinate (coordinate)">
      </where>
    </entity>

    <entity
      name="curve_volume_element_location">
      <explicit
        name="field_location">
        <typename
          name="curve_element_location"/>
      </explicit>
      <explicit
        name="section_location">
        <typename
          name="curve_section_element_location"/>
      </explicit>
    </entity>

    <entity
      name="curve_element_location">
      <explicit
        name="coordinate">
        <typename
          name="fea_parametric_point"/>
      </explicit>
    </entity>

    <entity
      name="curve_section_element_location">
      <explicit
        name="offsets">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="element_material">
      <explicit
        name="material_id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="properties">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="material_property_representation"/>
      </explicit>
    </entity>

    <entity
      name="fea_material_property_geometric_relationship">
      <explicit
        name="material_ref">
        <typename
          name="fea_material_property_representation"/>
      </explicit>
      <explicit
        name="item">
        <typename
          name="analysis_item_within_representation"/>
      </explicit>
      <where
        label="WR1"
        expression="'GEOMETRY_SCHEMA.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF(item.item)">
      </where>
    </entity>

    <entity
      name="fea_material_property_representation"
      supertypes="material_property_representation">
      <where
        label="WR1"
        expression="SIZEOF (QUERY (item &lt;*        SELF\property_definition_representation.used_representation.items |         SIZEOF (['STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_LINEAR_ELASTICITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MASS_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_AREA_DENSITY',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_TANGENTIAL_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SECANT_COEFFICIENT_OF_LINEAR_THERMAL_EXPANSION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_MOISTURE_ABSORPTION',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_MEMBRANE_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_BENDING_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_MEMBRANE_BENDING_COUPLING_STIFFNESS',                  'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.' +                   'FEA_SHELL_SHEAR_STIFFNESS'] * TYPEOF (item)                  ) = 1       )) = 1">
      </where>
      <where
        label="WR2"
        expression="'MATERIAL_PROPERTY_DEFINITION_SCHEMA.MATERIAL_PROPERTY' IN        TYPEOF (SELF\property_definition_representation.definition)">
      </where>
    </entity>

    <entity
      name="fea_material_property_representation_item"
      super.expression="ONEOF (fea_linear_elasticity,                   fea_mass_density,                   fea_area_density,                   fea_tangential_coefficient_of_linear_thermal_expansion,                   fea_secant_coefficient_of_linear_thermal_expansion,                   fea_moisture_absorption,                   fea_shell_membrane_stiffness,                   fea_shell_bending_stiffness,                   fea_shell_membrane_bending_coupling_stiffness,                   fea_shell_shear_stiffness)"
      supertypes="representation_item">
    </entity>

    <entity
      name="fea_linear_elasticity"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constants">
        <typename
          name="symmetric_tensor4_3d"/>
      </explicit>
    </entity>

    <entity
      name="fea_mass_density"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constant">
        <typename
          name="scalar"/>
      </explicit>
    </entity>

    <entity
      name="fea_area_density"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constant">
        <typename
          name="scalar"/>
      </explicit>
    </entity>

    <entity
      name="fea_tangential_coefficient_of_linear_thermal_expansion"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constants">
        <typename
          name="symmetric_tensor2_3d"/>
      </explicit>
    </entity>

    <entity
      name="fea_secant_coefficient_of_linear_thermal_expansion"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constants">
        <typename
          name="symmetric_tensor2_3d"/>
      </explicit>
      <explicit
        name="reference_temperature">
        <typename
          name="thermodynamic_temperature_measure"/>
      </explicit>
    </entity>

    <entity
      name="fea_moisture_absorption"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constants">
        <typename
          name="symmetric_tensor2_3d"/>
      </explicit>
    </entity>

    <entity
      name="fea_shell_membrane_stiffness"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constants">
        <typename
          name="symmetric_tensor4_2d"/>
      </explicit>
    </entity>

    <entity
      name="fea_shell_bending_stiffness"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constants">
        <typename
          name="symmetric_tensor4_2d"/>
      </explicit>
    </entity>

    <entity
      name="fea_shell_membrane_bending_coupling_stiffness"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constants">
        <typename
          name="symmetric_tensor4_2d"/>
      </explicit>
    </entity>

    <entity
      name="fea_shell_shear_stiffness"
      supertypes="fea_material_property_representation_item">
      <explicit
        name="fea_constants">
        <typename
          name="symmetric_tensor2_2d"/>
      </explicit>
    </entity>

    <entity
      name="surface_element_property">
      <explicit
        name="property_id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="section">
        <typename
          name="surface_section_field"/>
      </explicit>
    </entity>

    <entity
      name="surface_section_field"
      super.expression="ONEOF (surface_section_field_constant,                       surface_section_field_varying)">
    </entity>

    <entity
      name="surface_section_field_constant"
      supertypes="surface_section_field">
      <explicit
        name="definition">
        <typename
          name="surface_section"/>
      </explicit>
    </entity>

    <entity
      name="surface_section_field_varying"
      supertypes="surface_section_field">
      <explicit
        name="definitions">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="surface_section"/>
      </explicit>
      <explicit
        name="additional_node_values">
        <builtintype
          type="BOOLEAN"/>
      </explicit>
    </entity>

    <entity
      name="surface_section"
      super.expression="ONEOF (uniform_surface_section,                       uniform_surface_section_layered)">
      <explicit
        name="offset">
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
      <explicit
        name="non_structural_mass">
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
      <explicit
        name="non_structural_mass_offset">
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
    </entity>

    <entity
      name="uniform_surface_section"
      supertypes="surface_section">
      <explicit
        name="thickness">
        <typename
          name="context_dependent_measure"/>
      </explicit>
      <explicit
        name="bending_thickness">
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
      <explicit
        name="shear_thickness">
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
    </entity>

    <entity
      name="uniform_surface_section_layered"
      supertypes="surface_section">
    </entity>

    <entity
      name="fea_surface_section_geometric_relationship">
      <explicit
        name="section_ref">
        <typename
          name="surface_section"/>
      </explicit>
      <explicit
        name="item">
        <typename
          name="analysis_item_within_representation"/>
      </explicit>
      <where
        label="WR1"
        expression="'GEOMETRY_SCHEMA.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF(item.item)">
      </where>
    </entity>

    <entity
      name="curve_3d_element_property">
      <explicit
        name="property_id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="interval_definitions">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="curve_element_interval"/>
      </explicit>
      <explicit
        name="end_offsets">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="curve_element_end_offset"/>
      </explicit>
      <explicit
        name="end_releases">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="curve_element_end_release"/>
      </explicit>
    </entity>

    <entity
      name="curve_element_interval"
      super.expression="ONEOF (curve_element_interval_constant,                       curve_element_interval_linearly_varying)">
      <explicit
        name="finish_position">
        <typename
          name="curve_element_location"/>
      </explicit>
      <explicit
        name="eu_angles">
        <typename
          name="euler_angles"/>
      </explicit>
    </entity>

    <entity
      name="curve_element_interval_constant"
      supertypes="curve_element_interval">
      <explicit
        name="section">
        <typename
          name="curve_element_section_definition"/>
      </explicit>
    </entity>

    <entity
      name="curve_element_interval_linearly_varying"
      supertypes="curve_element_interval">
      <explicit
        name="sections">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="curve_element_section_definition"/>
      </explicit>
    </entity>

    <entity
      name="curve_2d_element_property">
      <explicit
        name="property_id">
        <typename
          name="identifier"/>
      </explicit>
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="section">
        <typename
          name="curve_element_section_definition"/>
      </explicit>
    </entity>

    <entity
      name="curve_element_section_definition"
      super.expression="curve_element_section_derived_definitions">
      <explicit
        name="description">
        <typename
          name="text"/>
      </explicit>
      <explicit
        name="section_angle">
        <typename
          name="plane_angle_measure"/>
      </explicit>
    </entity>

    <entity
      name="curve_element_section_derived_definitions"
      supertypes="curve_element_section_definition">
      <explicit
        name="cross_sectional_area">
        <typename
          name="context_dependent_measure"/>
      </explicit>
      <explicit
        name="shear_area">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
      <explicit
        name="second_moment_of_area">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="3"/>
        <typename
          name="context_dependent_measure"/>
      </explicit>
      <explicit
        name="torsional_constant">
        <typename
          name="context_dependent_measure"/>
      </explicit>
      <explicit
        name="warping_constant">
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
      <explicit
        name="location_of_centroid">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
      <explicit
        name="location_of_shear_centre">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
      <explicit
        name="location_of_non_structural_mass">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="2"/>
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
      <explicit
        name="non_structural_mass">
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
      <explicit
        name="polar_moment">
        <typename
          name="measure_or_unspecified_value"/>
      </explicit>
    </entity>

    <entity
      name="fea_curve_section_geometric_relationship">
      <explicit
        name="section_ref">
        <typename
          name="curve_element_section_definition"/>
      </explicit>
      <explicit
        name="item">
        <typename
          name="analysis_item_within_representation"/>
      </explicit>
      <where
        label="WR1"
        expression="'GEOMETRY_SCHEMA.GEOMETRIC_REPRESENTATION_ITEM' IN TYPEOF(item.item)">
      </where>
    </entity>

    <entity
      name="curve_element_end_offset">
      <explicit
        name="coordinate_system">
        <typename
          name="curve_element_end_coordinate_system"/>
      </explicit>
      <explicit
        name="offset_vector">
        <aggregate
          type="ARRAY"
          lower="1"
          upper="3"/>
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="curve_element_end_release">
      <explicit
        name="coordinate_system">
        <typename
          name="curve_element_end_coordinate_system"/>
      </explicit>
      <explicit
        name="releases">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="curve_element_end_release_packet"/>
      </explicit>
    </entity>

    <entity
      name="curve_element_end_release_packet">
      <explicit
        name="release_freedom">
        <typename
          name="curve_element_freedom"/>
      </explicit>
      <explicit
        name="release_stiffness">
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="axisymmetric_2d_element_property">
      <explicit
        name="angle">
        <typename
          name="plane_angle_measure"/>
      </explicit>
    </entity>

    <entity
      name="plane_2d_element_property"
      super.expression="simple_plane_2d_element_property">
      <explicit
        name="depth">
        <typename
          name="context_dependent_measure"/>
      </explicit>
    </entity>

    <entity
      name="simple_plane_2d_element_property"
      supertypes="plane_2d_element_property">
    </entity>

    <entity
      name="fea_group"
      super.expression="ONEOF(element_group,                      node_group)"
      supertypes="group">
      <explicit
        name="model_ref">
        <typename
          name="fea_model"/>
      </explicit>
    </entity>

    <entity
      name="element_group"
      supertypes="fea_group">
      <explicit
        name="elements">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="element_representation"/>
      </explicit>
    </entity>

    <entity
      name="node_group"
      supertypes="fea_group">
      <explicit
        name="nodes">
        <aggregate
          type="SET"
          lower="1"
          upper="?"/>
        <typename
          name="node_representation"/>
      </explicit>
    </entity>

    <entity
      name="fea_group_relation"
      supertypes="group_relationship">
      <where
        label="WR1"
        expression="'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.FEA_GROUP'        IN TYPEOF (SELF\group_relationship.relating_group)">
      </where>
      <where
        label="WR2"
        expression="'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.FEA_GROUP'        IN TYPEOF (SELF\group_relationship.related_group)">
      </where>
    </entity>

    <entity
      name="volume_3d_element_group"
      supertypes="element_group">
      <where
        label="WR1"
        expression="SIZEOF(query(item &lt;* elements |       NOT ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.'+            'VOLUME_3D_ELEMENT_REPRESENTATION' IN TYPEOF (item))))=0">
      </where>
    </entity>

    <entity
      name="volume_2d_element_group"
      supertypes="element_group">
      <where
        label="WR1"
        expression="SIZEOF(QUERY(item &lt;* elements |       (NOT ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.'+             'AXISYMMETRIC_VOLUME_2D_ELEMENT_REPRESENTATION'              IN TYPEOF(item)) AND        NOT ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.'+             'PLANE_VOLUME_2D_ELEMENT_REPRESENTATION'              IN TYPEOF(item)))))=0">
      </where>
    </entity>

    <entity
      name="surface_3d_element_group"
      supertypes="element_group">
      <where
        label="WR1"
        expression="SIZEOF(query(item &lt;* elements |       NOT ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.'+            'SURFACE_3D_ELEMENT_REPRESENTATION' IN TYPEOF (item))))=0">
      </where>
    </entity>

    <entity
      name="surface_2d_element_group"
      supertypes="element_group">
      <where
        label="WR1"
        expression="SIZEOF(QUERY(item &lt;* elements |       (NOT ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.'+             'AXISYMMETRIC_SURFACE_2D_ELEMENT_REPRESENTATION'              IN TYPEOF(item)) AND        NOT ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.'+             'PLANE_SURFACE_2D_ELEMENT_REPRESENTATION'              IN TYPEOF(item)))))=0">
      </where>
    </entity>

    <entity
      name="curve_3d_element_group"
      supertypes="element_group">
      <where
        label="WR1"
        expression="SIZEOF(query(item &lt;* elements |       NOT ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.'+            'CURVE_3D_ELEMENT_REPRESENTATION' IN TYPEOF (item))))=0">
      </where>
    </entity>

    <entity
      name="curve_2d_element_group"
      supertypes="element_group">
      <where
        label="WR1"
        expression="SIZEOF(QUERY(item &lt;* elements |       (NOT ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.'+             'AXISYMMETRIC_CURVE_2D_ELEMENT_REPRESENTATION'              IN TYPEOF(item)) AND        NOT ('STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.'+             'PLANE_CURVE_2D_ELEMENT_REPRESENTATION'              IN TYPEOF(item)))))=0">
      </where>
    </entity>

    <function
      name="required_0d_nodes">
      <parameter
        name="node_list">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="node_representation"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>

  RETURN (SIZEOF (node_list) = 1);

      </algorithm>

    </function>

    <function
      name="required_1d_nodes">
      <parameter
        name="node_list">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="node_representation"/>
      </parameter>
      <parameter
        name="order">
        <typename
          name="element_order"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>

  LOCAL
   end_nodes                : INTEGER;
   additional_nodes         : INTEGER;
  END_LOCAL;

  end_nodes := 2;

  IF (order = element_order.linear) THEN
    additional_nodes := 0;
  END_IF;
  IF (order = element_order.quadratic) THEN
    additional_nodes := 1;
  END_IF;
  IF (order = element_order.cubic) THEN
    additional_nodes := 2;
  END_IF;

  RETURN (SIZEOF (node_list) = end_nodes + additional_nodes);

      </algorithm>

    </function>

    <function
      name="required_2d_nodes">
      <parameter
        name="node_list">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="node_representation"/>
      </parameter>
      <parameter
        name="element_shape">
        <typename
          name="element_2d_shape"/>
      </parameter>
      <parameter
        name="order">
        <typename
          name="element_order"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>
  LOCAL
    vertex_nodes            : INTEGER;
    edge_nodes              : INTEGER;
    edge_face_body_nodes    : INTEGER;
  END_LOCAL;

IF (element_shape = element_2d_shape.triangle) THEN
    vertex_nodes := 3;
    IF (order = element_order.linear) THEN
      edge_nodes           := 0;
      edge_face_body_nodes := 0;
    END_IF;
    IF (order = element_order.quadratic) THEN
      edge_nodes           := 3;
      edge_face_body_nodes := 3;
    END_IF;
    IF (order = element_order.cubic) THEN
      edge_nodes           := 6;
      edge_face_body_nodes := 7;
    END_IF;
  END_IF;

IF (element_shape = element_2d_shape.quadrilateral) THEN
    vertex_nodes := 4;
    IF (order = element_order.linear) THEN
      edge_nodes           := 0;
      edge_face_body_nodes := 0;
    END_IF;
    IF (order = element_order.quadratic) THEN
      edge_nodes           := 4;
      edge_face_body_nodes := 5;
    END_IF;
    IF (order = element_order.cubic) THEN
      edge_nodes           := 8;
      edge_face_body_nodes := 12;
    END_IF;
  END_IF;

  RETURN ((SIZEOF (node_list) = vertex_nodes + edge_nodes) OR 
          (SIZEOF (node_list) = vertex_nodes + edge_face_body_nodes));

      </algorithm>

    </function>

    <function
      name="required_3d_nodes">
      <parameter
        name="node_list">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="node_representation"/>
      </parameter>
      <parameter
        name="element_shape">
        <typename
          name="volume_3d_element_shape"/>
      </parameter>
      <parameter
        name="order">
        <typename
          name="element_order"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>
  LOCAL
    vertex_nodes            : INTEGER;
    edge_nodes              : INTEGER;
    edge_face_body_nodes    : INTEGER;
  END_LOCAL;

IF (element_shape = volume_3d_element_shape.hexahedron) THEN
    vertex_nodes := 8;
    IF (order = element_order.linear) THEN
      edge_nodes           := 0;
      edge_face_body_nodes := 0;
    END_IF;
    IF (order = element_order.quadratic) THEN
      edge_nodes           := 12;
      edge_face_body_nodes := 19;
    END_IF;
    IF (order = element_order.cubic) THEN
      edge_nodes           := 24;
      edge_face_body_nodes := 56;
    END_IF;
  END_IF;

IF (element_shape = volume_3d_element_shape.wedge) THEN
    vertex_nodes := 6;
    IF (order = element_order.linear) THEN
      edge_nodes           := 0;
      edge_face_body_nodes := 0;
    END_IF;
    IF (order = element_order.quadratic) THEN
      edge_nodes           := 9;
      edge_face_body_nodes := 12;
    END_IF;
    IF (order = element_order.cubic) THEN
      edge_nodes           := 18;
      edge_face_body_nodes := 34;
    END_IF;
  END_IF;

IF (element_shape = volume_3d_element_shape.tetrahedron) THEN
    vertex_nodes := 4;
    IF (order = element_order.linear) THEN
      edge_nodes           := 0;
      edge_face_body_nodes := 0;
    END_IF;
    IF (order = element_order.quadratic) THEN
      edge_nodes           := 6;
      edge_face_body_nodes := 6;
    END_IF;
    IF (order = element_order.cubic) THEN
      edge_nodes           := 12;
      edge_face_body_nodes := 16;
    END_IF;
  END_IF;

IF (element_shape = volume_3d_element_shape.pyramid) THEN
    vertex_nodes := 5;
    IF (order = element_order.linear) THEN
      edge_nodes           := 0;
      edge_face_body_nodes := 0;
    END_IF;
    IF (order = element_order.quadratic) THEN
      edge_nodes           := 8;
      edge_face_body_nodes := 9;
    END_IF;
    IF (order = element_order.cubic) THEN
      edge_nodes           := 16;
      edge_face_body_nodes := 25;
    END_IF;
  END_IF;

  RETURN ((SIZEOF (node_list) = vertex_nodes + edge_nodes) OR 
          (SIZEOF (node_list) = vertex_nodes + edge_face_body_nodes));

      </algorithm>

    </function>

    <function
      name="number_of_terms">
      <parameter
        name="node_dof_list">
        <aggregate
          type="LIST"
          lower="1"
          upper="?"/>
        <typename
          name="LIST"/>
      </parameter>
      <parameter
        name="matrix_type">
        <typename
          name="matrix_symmetry"/>
      </parameter>
      <builtintype
        type="INTEGER"/>
      <algorithm>
  LOCAL
    num_terms              : INTEGER;
    number_of_freedoms     : INTEGER;
  END_LOCAL;

  number_of_freedoms := 0; (* loop for each item in the outer list*)

  REPEAT i := 1 TO SIZEOF (node_dof_list); (* find size of inner list*)
    number_of_freedoms := number_of_freedoms + SIZEOF (node_dof_list[i]);
  END_REPEAT;

  IF (matrix_type = symmetric) THEN
    num_terms := (number_of_freedoms * (number_of_freedoms+1)) DIV 2;
  END_IF;

  IF (matrix_type = diagonal) THEN
    num_terms := number_of_freedoms;
  END_IF;

RETURN (num_terms);

      </algorithm>

    </function>

    <function
      name="valid_parametric_coordinate">
      <parameter
        name="coordinates">
        <aggregate
          type="LIST"
          lower="1"
          upper="3"/>
        <typename
          name="parameter_value"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>

    LOCAL
      i                     : INTEGER;
    END_LOCAL; 

    REPEAT i:=1 TO HIINDEX(coordinates);
      IF ((1.0 &lt; coordinates[i]) OR (coordinates[i] &lt; -1.0)) THEN
        RETURN (FALSE);
      END_IF;
    END_REPEAT;

    RETURN (TRUE);

      </algorithm>

    </function>

    <function
      name="build_direction_node">
      <parameter
        name="node_1">
        <typename
          name="node_representation"/>
      </parameter>
      <parameter
        name="node_2">
        <typename
          name="node_representation"/>
      </parameter>
      <aggregate
        type="LIST"
        lower="2"
        upper="3"/>
      <typename
        name="REAL"/>
      <algorithm>

LOCAL
  nodal_direction_ratios    : LIST [2:3] OF REAL;
  u                         : direction;
  i                         : INTEGER;
  ndim                      : INTEGER;
  rep_items                 : SET [1:?] of representation_item;
  node_1_point              : cartesian_point;
  node_2_point              : cartesian_point;
END_LOCAL;

rep_items := node_1.items;
REPEAT i := 1 TO SIZEOF(rep_items);
  IF ('GEOMETRY_SCHEMA.CARTESIAN_POINT' IN TYPEOF(rep_items[i])) THEN
    node_1_point := rep_items[i];
    ESCAPE;
  END_IF; 
END_REPEAT;

rep_items := node_2.items;
REPEAT i := 1 TO SIZEOF(rep_items);
  IF ('GEOMETRY_SCHEMA.CARTESIAN_POINT' IN TYPEOF(rep_items[i])) THEN
    node_2_point := rep_items[i];
    ESCAPE;
  END_IF; 
END_REPEAT;

ndim := HIINDEX(node_2_point.coordinates);
REPEAT i := 1 TO ndim;
  u.direction_ratios[i] := node_2_point.coordinates[i] - 
                           node_1_point.coordinates[i];
END_REPEAT;

u := normalise (u);
REPEAT i := 1 TO ndim;
  nodal_direction_ratios[i] := u.direction_ratios[i];
END_REPEAT;

RETURN (nodal_direction_ratios);

      </algorithm>

    </function>

    <function
      name="consistent_geometric_reference">
      <parameter
        name="aspect">
        <builtintype
          type="GENERIC"/>
      </parameter>
      <parameter
        name="item">
        <typename
          name="geometric_representation_item"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>
 
LOCAL
  srrs                      : STRING;
  feacr                     : STRING;
  aspect_type               : SET [1:?] OF STRING;
  item_type                 : SET [1:?] OF STRING;
END_LOCAL;

srrs        := 'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.';
feacr       := 'FINITE_ELEMENT_ANALYSIS_CONTROL_AND_RESULT_SCHEMA.';
aspect_type := TYPEOF (aspect);
item_type   := TYPEOF (item);

IF ('GEOMETRIC_MODEL_SCHEMA.SOLID_MODEL' IN item_type) THEN
  IF ((srrs + 'ELEMENT_VOLUME') IN aspect_type) THEN
    RETURN (TRUE);
  END_IF;
END_IF;

IF (('GEOMETRY_SCHEMA.SURFACE' IN item_type) OR
    ('TOPOLOGY_SCHEMA.FACE_SURFACE' IN item_type)) THEN
  IF SIZEOF ([(feacr + 'VOLUME_3D_FACE'),
              (feacr + 'VOLUME_2D_FACE'),
              (feacr + 'SURFACE_3D_FACE'),
              (feacr + 'SURFACE_2D_FACE')] *
               aspect_type ) = 1 THEN
    RETURN (TRUE);
  END_IF;
END_IF;

IF (('GEOMETRY_SCHEMA.CURVE' IN item_type) OR
    ('TOPOLOGY_SCHEMA.EDGE_CURVE' IN item_type)) THEN
  IF SIZEOF ([(feacr + 'VOLUME_3D_EDGE'),
              (feacr + 'VOLUME_2D_EDGE'),
              (feacr + 'SURFACE_3D_EDGE'), 
              (feacr + 'SURFACE_2D_EDGE'),
              (srrs  + 'CURVE_EDGE')] *
               aspect_type ) = 1 THEN
    RETURN (TRUE);
  END_IF;
END_IF;

RETURN (FALSE);

      </algorithm>

    </function>

    <function
      name="consistent_element_or_group_reference">
      <parameter
        name="aspect">
        <builtintype
          type="GENERIC"/>
      </parameter>
      <parameter
        name="element">
        <builtintype
          type="GENERIC"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>
 
LOCAL
  srrs                      : STRING;
  i                         : INTEGER;
END_LOCAL;

srrs := 'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.';

IF ((srrs + 'ELEMENT_REPRESENTATION') IN TYPEOF(element)) THEN
  RETURN (consistent_element_reference (aspect, element));
END_IF;

IF ((srrs + 'ELEMENT_GROUP') IN TYPEOF(element)) THEN
  REPEAT i := 1 TO HIINDEX (element.elements);
    IF NOT (consistent_element_reference (aspect, element.elements[i])) 
     THEN
      RETURN (FALSE);
    END_IF;
  END_REPEAT;
  RETURN (TRUE);
END_IF;

RETURN (FALSE);

      </algorithm>

    </function>

    <function
      name="consistent_element_reference">
      <parameter
        name="aspect">
        <builtintype
          type="GENERIC"/>
      </parameter>
      <parameter
        name="element">
        <typename
          name="element_representation"/>
      </parameter>
      <builtintype
        type="BOOLEAN"/>
      <algorithm>

LOCAL
  srrs                      : STRING;
  feacr                     : STRING;
  aspect_type               : SET [1:?] OF STRING;
  element_type              : SET [1:?] OF STRING;
END_LOCAL;

srrs         := 'STRUCTURAL_RESPONSE_REPRESENTATION_SCHEMA.';
feacr        := 'FINITE_ELEMENT_ANALYSIS_CONTROL_AND_RESULT_SCHEMA.';
aspect_type  := TYPEOF (aspect);
element_type := TYPEOF (element);

IF ((srrs + 'ELEMENT_REPRESENTATION')
    IN element_type) THEN
  IF ((srrs + 'ELEMENT_VOLUME') IN aspect_type) THEN
    RETURN (TRUE);
  END_IF;
END_IF;

IF ((srrs + 'VOLUME_3D_ELEMENT_REPRESENTATION')
    IN element_type) THEN
  IF (((feacr + 'VOLUME_3D_FACE') IN aspect_type) OR
      ((feacr + 'VOLUME_3D_EDGE') IN aspect_type)) THEN
    RETURN (TRUE);
  END_IF;
END_IF;

IF (((srrs + 'AXISYMMETRIC_VOLUME_2D_ELEMENT_REPRESENTATION')
     IN element_type) OR
    ((srrs + 'PLANE_VOLUME_2D_ELEMENT_REPRESENTATION') 
     IN element_type)) THEN
  IF (((feacr + 'VOLUME_2D_FACE') IN aspect_type) OR
      ((feacr + 'VOLUME_2D_EDGE') IN aspect_type)) THEN
    RETURN (TRUE);
  END_IF;
END_IF;

IF ((srrs + 'SURFACE_3D_ELEMENT_REPRESENTATION')
    IN element_type) THEN
  IF (((feacr + 'SURFACE_3D_FACE') IN aspect_type) OR
      ((feacr + 'SURFACE_3D_EDGE') IN aspect_type)) THEN
    RETURN (TRUE);
  END_IF;
END_IF;

IF (((srrs + 'AXISYMMETRIC_SURFACE_2D_ELEMENT_REPRESENTATION')
    IN element_type) OR
    ((srrs + 'PLANE_SURFACE_2D_ELEMENT_REPRESENTATION')
     IN element_type)) THEN
  IF (((feacr + 'SURFACE_2D_FACE') IN aspect_type) OR
      ((feacr + 'SURFACE_2D_EDGE') IN aspect_type)) THEN
  RETURN (TRUE);
  END_IF;
END_IF;

IF (((srrs + 'CURVE_3D_ELEMENT_REPRESENTATION') 
     IN element_type) OR
    ((srrs + 'AXISYMMETRIC_CURVE_2D_ELEMENT_REPRESENTATION') 
     IN element_type) OR
    ((srrs + 'PLANE_CURVE_2D_ELEMENT_REPRESENTATION') 
     IN element_type)) THEN
  IF ((srrs + 'CURVE_EDGE') IN aspect_type) THEN
    RETURN (TRUE);
  END_IF;
END_IF;

RETURN (FALSE);

      </algorithm>

    </function>

  </schema>

</express>
