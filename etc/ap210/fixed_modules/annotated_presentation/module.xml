<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: module.xml,v 1.2 2005/04/20 12:30:54 liutkus Exp $ -->
<!DOCTYPE module SYSTEM "../../../dtd/module.dtd">
<!-- Generated by mkmodule.js, Eurostep Limited, http://www.eurostep.com -->
 <!-- 
     To view the module in IExplorer, open: sys/1_scope.xml
      -->
<module
   name="annotated_presentation"
   name.french="repr&#233;sentation des annotations"
   part="xxxx"
   version="1"
   sc4.working_group="12"
   wg.number="00000"
   wg.number.arm=""
   wg.number.mim=""
   checklist.internal_review=""
   checklist.project_leader=""
   checklist.convener=""
   status="CD-TS"
   language="E"

   published="n"
   rcs.date="$Date: 2005/04/20 12:30:54 $"
   rcs.revision="$Revision: 1.2 $"
   development.folder="dvlp">

 <keywords>
    module, annotated presentation, styled, draughting
 </keywords>


 <!-- Reference to contacts detailed in stepmod/data/basic/contacts.xml -->
 <contacts>
   <projlead ref="ap203ed2.projlead"/>
   <editor ref="ap203ed2.editor"/>
 </contacts>

 <!-- Introduction -->
 <!-- The introduction should start as shown: -->
 <purpose>
   <p>
     This part of ISO 10303 specifies an application module for the
     representation of annotated presentations.  
   </p>
 </purpose>

 <!-- Items in scope -->
 <inscope>
   <li> draughting callouts, that is, collections of annotation primitives;</li>
<li></li>
<li>geometric tolerance and dimension symbols;</li>
<li>marker and terminator symbols as components of a draughting callout;</li>
<li>projection lines and leader lines;</li>
<li>surface condition symbols;</li>
<li>fill areas;</li>
<li>text as a component of a draughting callout.</li>
 </inscope>

 <!-- Items out of scope -->
 <outscope>
   <li>association of annotation elements to other annotation elements;</li>
   <li>association of annotation to product shape.</li>
 </outscope>

 <normrefs>
<normref.inc normref="ref10303-504.2000"></normref.inc>
<normref.inc normref="ref10303-46.1994"></normref.inc>
</normrefs>
<!--

 <definition/>

 <abbreviations/>
-->

 <!-- Clause 4 ARM  -->
 <arm>
   <!-- Note ARM short form EXPRESS is in arm.xml -->

   <!-- Short form EXPRESS-G -->
   <express-g>
     <imgfile file="armexpg1.xml"/>
     <imgfile file="armexpg2.xml"/>
     <imgfile file="armexpg3.xml"/>
     <imgfile file="armexpg4.xml"/>
   </express-g>
 </arm>


 <!-- Clause 5.1 Mapping specification -->
 <mapping_table> 
   <ae entity="Appearance_assignment" original_module="appearance_assignment" > 
     <aa attribute="appearance_components" assertion_to="Hatch_style"> 
       <alt_map id="1"><description>If the hatching is pre-defined.</description>
       <aimelt>PATH</aimelt> 
       <refpath>(presentation_style_select = fill_area_style
       fill_area_style
       fill_area_style.fill_styles[i] ->
       fill_style_select
       fill_style_select = fill_area_style_hatching
       fill_area_style_hatching)
       </refpath> 
       </alt_map>
       <alt_map id="2"><description>If the hatching is user defined.</description>
       <aimelt>PATH</aimelt> 
       <source> </source> 
       <refpath>(presentation_style_select = fill_area_style
       fill_area_style
       fill_area_style.fill_styles[i] ->
       fill_style_select
       fill_style_select = externally_defined_hatch_style
       externally_defined_hatch_style)

       </refpath> 
       </alt_map>
     </aa> 
     <aa attribute="appearance_components" assertion_to="Solid_fill_area"> 
       <aimelt>PATH</aimelt> 
       <refpath_extend extended_select="appearance_select" > 
	 presentation_style_select = fill_area_style
	 fill_area_style
	 fill_area_style.fill_styles[i] ->
	 fill_style_select
	 fill_style_select = fill_area_style_colour
	 fill_area_style_colour
       </refpath_extend>     
     </aa> 
     <aa attribute="appearance_components" assertion_to="Surface_appearance_wireframe"> 
       <aimelt>PATH</aimelt> 
       <refpath_extend extended_select="appearance_select" >
	 presentation_style_select = surface_style_usage
	 surface_style_usage
       </refpath_extend>
     </aa> 
     <aa attribute="appearance_components" assertion_to="Tile_style"> 
       <alt_map id="1"><description>If the tiling is pre-defined.</description>
       <aimelt>PATH</aimelt> 
       <refpath_extend extended_select="appearance_select" > 
	 (presentation_style_select = fill_area_style
	 fill_area_style
	 fill_area_style.fill_styles[i] ->
	 fill_style_select
	 fill_style_select = fill_area_style_tiles
	 fill_area_style_tiles)
       </refpath_extend>
       </alt_map>
       <alt_map id="2"><description>If the tiling is user-defined.</description>
       <aimelt>PATH</aimelt> 
       <refpath_extend extended_select="appearance_select" > 
	 (presentation_style_select = fill_area_style
	 fill_area_style
	 fill_area_style.fill_styles[i] ->
	 fill_style_select
	 fill_style_select = externally_defined_tile_style
	 externally_defined_tile_style)
       </refpath_extend>
       </alt_map>
     </aa> 
   </ae>
   <ae entity="Context_dependent_appearance_assignment" original_module="appearance_assignment" > 
     <aa attribute="context_definition" assertion_to="Group"> 
       <aimelt>PATH</aimelt> 
       <refpath_extend extended_select="appearance_context" > 
	 (style_context_select
	 style_context_select = group
	 group)
       </refpath_extend>
     </aa> 
     <aa attribute="context_definition" assertion_to="Layer"> 
       <aimelt>PATH</aimelt> 
       <refpath_extend extended_select="appearance_context" > 
	 style_context_select = presentation_layer_assignment
	 presentation_layer_assignment
       </refpath_extend>
     </aa> 
     <aa attribute="context_definition" assertion_to="View"> 
       <aimelt>PATH</aimelt> 
       <refpath_extend extended_select="appearance_context" > 
	 style_context_select = representation
	 representation =>
	 presentation_representation =>
	 presentation_view
       </refpath_extend>
     </aa> 
     <aa attribute="context_definition" assertion_to="View_area"> 
       <alt_map id="1" ><description>The general case for a view_area.</description>
       <aimelt>PATH</aimelt> 
       <refpath_extend extended_select="appearance_context" > 
	 (style_context_select = representation
	 representation =>
	 presentation_representation =>
	 presentation_area)
       </refpath_extend>
       </alt_map>
       <alt_map id="2" ><description>If the view_area is in a single window and in 3D context.</description>
       <aimelt>PATH</aimelt> 
       <refpath_extend extended_select="appearance_context" > 
	 (style_context_select = representation
	 representation =>
	 presentation_representation =>
	 presentation_area =>
	 mechanical_design_geometric_presentation_area)
       </refpath_extend>
       </alt_map>
     </aa>
   </ae>
   <!--  ++  ANNOTATION_SUBFIGURE  ++ -->
   <ae entity="Annotation_subfigure">
     <aimelt>annotation_subfigure_occurrence</aimelt>
     <source>ISO 10303-504</source>
     <refpath>annotation_subfigure_occurrence &lt;=
     annotation_symbol_occurrence
     </refpath>
   </ae> <!--  ++  ANNOTATION_SYMBOL  ++ -->
   <ae entity="Annotation_symbol">
     <aimelt>annotation_symbol_occurrence</aimelt>
     <source>ISO 10303-46</source>
     <refpath>annotation_symbol_occurrence &lt;=
     annotation_occurrence
     {annotation_occurrence =>
     draughting_annotation_occurrence}</refpath>
     <aa attribute="symbol_definition" assertion_to="symbol_definition_select">
       <alt_map id="1"><description>If the symbol is not user-defined.</description>
       <aimelt>PATH</aimelt>
       <refpath>(annotation_symbol_occurrence &lt;=
       annotation_occurrence &lt;=
       styled_item
       styled_item.item ->
       representation_item
       representation_item =>
       geometric_representation_item =>
       defined_symbol
       defined_symbol.definition ->
       defined_symbol_select)
       </refpath>
       </alt_map>
       <alt_map id="2"><description>If the symbol is  user-defined.</description>
       <aimelt>PATH</aimelt>
       <refpath>(annotation_symbol_occurrence &lt;=
       annotation_occurrence &lt;=
       styled_item
       styled_item.item ->
       representation_item
       representation_item =>
       mapped_item
       {mapped_item =>
       annotation_symbol}
       mapped_item.mapping_source ->
       representation_map
       {representation_map =>
       symbol_representation_map}
       representation_map.mapped_representation)
       </refpath>
       </alt_map>
     </aa>
<aa attribute="symbol_definition" assertion_to="Dimension_symbol">
<aimelt>PATH</aimelt>
<refpath>-</refpath>
</aa>
<aa attribute="symbol_definition" assertion_to="General_symbol">
<aimelt>PATH</aimelt>
<refpath>-</refpath>
</aa>
<aa attribute="symbol_definition" assertion_to="Geometric_tolerance_symbol">
<aimelt>PATH</aimelt>
<refpath>-</refpath>
</aa>
<aa attribute="symbol_definition" assertion_to="Marker">
<aimelt>PATH</aimelt>
<refpath>-</refpath>
</aa>
<aa attribute="symbol_definition" assertion_to="Surface_condition_symbol">
<aimelt>PATH</aimelt>
<refpath>-</refpath>
</aa>
<aa attribute="symbol_definition" assertion_to="Terminator">
<aimelt>PATH</aimelt>
<refpath>-</refpath>
</aa>
   </ae> <!--  ++  DIMENSION_SYMBOL  ++ -->
   <ae entity="Dimension_symbol">
     <aimelt>pre_defined_dimension_symbol</aimelt>
     <source>ISO 10303-SELF</source>
     <refpath>pre_defined_dimension_symbol &lt;=
     pre_defined_symbol</refpath>
   </ae> <!--  ++  DRAUGHTING_CALLOUT  ++ -->
   <ae entity="Draughting_callout">
     <aimelt>draughting_elements</aimelt>
     <source>ISO 10303-506</source>
     <refpath>draughting_elements &lt;=
     draughting_callout
     {draughting_callout =>
     (datum_feature_callout)
     (datum_target_callout)}</refpath>
     <aa attribute="contents" assertion_to="draughting_callout_content_select">
       <aimelt>PATH</aimelt>
       <refpath>
	 draughting_elements &lt;=
	 draughting_callout
	 draughting_callout.contents [i] ->
	 draughting_callout_element
	 draughting_callout_element
       </refpath>
     </aa>
     <aa attribute="contents" assertion_to="Annotation_curve">
       <aimelt>PATH</aimelt>
       <refpath>-</refpath>
     </aa>
     <aa attribute="contents" assertion_to="Annotation_subfigure">
       <aimelt>PATH</aimelt>
       <refpath>-</refpath>
     </aa>
     <aa attribute="contents" assertion_to="Annotation_symbol">
       <aimelt>PATH</aimelt>
       <refpath>-</refpath>
     </aa>
     <aa attribute="contents" assertion_to="Text">
       <aimelt>PATH</aimelt>
       <refpath>-</refpath>
     </aa>
   </ae>  <!--  ++  GENERAL_SYMBOL  ++ -->
   <ae entity="General_symbol">
     <alt_map id="1"><description>
       If the symbol is externally defined.</description>
       <aimelt>(externally_defined_symbol)</aimelt>
       <source>46</source>
     </alt_map>
     <alt_map id="2"><description>
       If the symbol is user-defined.</description>
       <aimelt>symbol_representation</aimelt>
       <source>46</source>
       <refpath>({symbol_representation
       (symbol_representation =>
       draughting_symbol_representation)
       (symbol_representation =>
       draughting_symbol_representation =>
     drawing_sheet_layout)})
     </refpath>
     </alt_map>
   </ae> <!--  ++  GEOMETRIC_TOLERANCE_SYMBOL  ++ -->
   <ae entity="Geometric_tolerance_symbol">
     <aimelt>pre_defined_geometrical_tolerance_symbol</aimelt>
     <source>SELF</source>
     <refpath>pre_defined_geometrical_tolerance_symbol &lt;=
     pre_defined_symbol</refpath>
  </ae>
<!--  ++  STYLED_ANNOTATION_MODEL  ++ -->
   <ae entity="Styled_annotation_model">
     <aimelt>draughting_model</aimelt>
     <source>520</source>
     <refpath>draughting_model &lt;=
     representation
     {representation.items[i] ->
     representation_item =>
     (styled_item =>
     annotation_occurrence =>
     draughting_annotation_occurrence)
     (geometric_representation_item =>
     draughting_callout =>
     draughting_elements)}
     </refpath>
     <aa attribute="is_defined_in" assertion_to="Geometric_coordinate_space">
       <aimelt>PATH</aimelt>
       <refpath>draughting_model &lt;=
       representation
       representation.context_of_items ->
       representation_context =>
       geometric_representation_context</refpath>
     </aa>
   </ae> <!--  ++  SURFACE_CONDITION_SYMBOL  ++ -->
   <ae entity="Surface_condition_symbol">
     <aimelt>pre_defined_surface_condition_symbol</aimelt>
     <source>SELF</source>
     <refpath>pre_defined_surface_condition_symbol &lt;=
     pre_defined_symbol</refpath>
   </ae> <!--  ++  VIEW  ++ -->
   <ae entity="View">
     <aimelt>presentation_view</aimelt>
     <source>46</source>
     <aa attribute="id">
       <aimelt>representation.id
       </aimelt>
       <source>ISO 10303-43</source>
       <refpath>presentation_view &lt;=
       presentation_representation &lt;=
       representation
       representation.id</refpath>
     </aa>
     <aa attribute="name">
       <aimelt>representation.name</aimelt>
       <source>ISO 10303-43</source>
       <refpath>presentation_view &lt;=
       presentation_representation &lt;=
       representation
       representation.name</refpath>
     </aa>
     <aa attribute="description">
       <aimelt>representation.description</aimelt>
       <source>ISO 10303-43</source>
       <refpath>presentation_view &lt;=
       presentation_representation &lt;=
       representation
       representation.description</refpath>
     </aa>
     <aa attribute="layout" assertion_to="area_select">
       <aimelt>PATH</aimelt>
       <refpath>presentation_view &lt;=
       presentation_representation &lt;=
       representation &lt;-
       representation_map.mapped_representation
       representation_map &lt;-
       mapped_item.mapping_source
       mapped_item &lt;=
       representation_item &lt;-
       representation.items[i]
       representation =>
       presentation_representation
       </refpath>
     </aa>
     <aa attribute="layout" assertion_to="View_area">
       <aimelt>PATH</aimelt>
       <refpath>
	 presentation_view &lt;=
	 presentation_representation &lt;=
	 representation &lt;-
	 representation_map.mapped_representation
	 representation_map &lt;-
	 mapped_item.mapping_source
	 mapped_item &lt;=
	 representation_item &lt;-
	 representation.items[i]
	 representation =>
	 presentation_representation =>
	 presentation_area =>
       mechanical_design_geometric_presentation_area</refpath>
     </aa>
     <aa attribute="view_placement" assertion_to="view_placement_select">
       <aimelt>PATH</aimelt>
       <refpath>presentation_view &lt;=
       presentation_representation &lt;=
       representation &lt;-
       representation_map.mapped_representation
       representation_map
       {representation_map.mapping_origin ->
       representation_item =>
       geometric_representation_item =>
       placement =>
       axis2_placement_2d}
       representation_map &lt;-
       mapped_item.mapping_source
       mapped_item</refpath>
     </aa>
     <aa attribute="view_placement" assertion_to="Mapping_based_template_instance">
       <aimelt>PATH</aimelt>
       <refpath>presentation_view &lt;=
       presentation_representation &lt;=
       representation &lt;-
       representation_map.mapped_representation
       representation_map
       {representation_map.mapping_origin ->
       representation_item =>
       geometric_representation_item =>
       placement =>
       axis2_placement_2d}
       representation_map &lt;-
       mapped_item.mapping_source
       mapped_item 
       {mapped_item &lt;-
       representation.items[i]
       representation =>
       presentation_representation =>
       presentation_area
       (presentation_area)
       (presentation_area =>
       drawing_sheet_revision)}
       mapped_item.mapping_target
       {mapped_item.mapping_target ->
       representation_item =>
       geometric_representation_item =>
       (placement =>
       axis2_placement_2d)
       (cartesian_transformation_operator =>
       cartesian_transformation_operator_2d)}</refpath>
     </aa>
     <aa attribute="view_placement" assertion_to="Cartesian_transformation_2d">
       <aimelt>PATH</aimelt>
       <refpath>presentation_view &lt;=
       presentation_representation &lt;=
       representation &lt;-
       representation_map.mapped_representation
       representation_map
       {representation_map.mapping_origin ->
       representation_item =>
       geometric_representation_item =>
       placement =>
       axis2_placement_2d}
       representation_map &lt;-
       mapped_item.mapping_source
       mapped_item 
       {mapped_item &lt;-
       representation.items[i]
       representation =>
       presentation_representation =>
       presentation_area
       (presentation_area)
       (presentation_area =>
       drawing_sheet_revision)}
       mapped_item.mapping_target
       {mapped_item.mapping_target ->
       representation_item =>
       geometric_representation_item =>
       (placement =>
       axis2_placement_2d)
       (cartesian_transformation_operator =>
       cartesian_transformation_operator_2d)}</refpath>
     </aa>
     <aa attribute="view_placement" assertion_to="Axis_placement_mapping">
       <aimelt>PATH</aimelt>
       <refpath>presentation_view &lt;=
       presentation_representation &lt;=
       representation &lt;-
       representation_map.mapped_representation
       representation_map
       {representation_map.mapping_origin ->
       representation_item =>
       geometric_representation_item =>
       placement =>
       axis2_placement_2d}
       representation_map &lt;-
       mapped_item.mapping_source
       mapped_item 
       {mapped_item &lt;-
       representation.items[i]
       representation =>
       presentation_representation =>
       presentation_area
       (presentation_area)
       (presentation_area =>
       drawing_sheet_revision)}
       mapped_item.mapping_target
       {mapped_item.mapping_target ->
       representation_item =>
       geometric_representation_item =>
       (placement =>
       axis2_placement_2d)
       (cartesian_transformation_operator =>
       cartesian_transformation_operator_2d)}</refpath>
     </aa>
     <aa attribute="view_space" assertion_to="Geometric_coordinate_space">
       <aimelt>PATH</aimelt>
       <refpath>>presentation_view &lt;=
       presentation_representation &lt;=
       representation
       representation.context_of_items ->
       representation_context =>
       geometric_representation_context
       {geometric_representation_context.coordinate_space_dimension = 2}</refpath>
     </aa>
   </ae> <!--  ++  VIEW_AREA  ++ -->
   <ae entity="View_area">
     <alt_map id="1"><description>The general case for a view_area.</description>
     <aimelt>(presentation_area)</aimelt>
     <source>ISO 10303-46</source>
     </alt_map>
     <alt_map id="2"><description>If the view_area is in a single window and in 3D context.</description>
     <aimelt>(mechanical_design_geometric_presentation_area)</aimelt>
     <source>ISO 10303-46</source>
     <refpath>({mechanical_design_geometric_presentation_area &lt;=
     presentation_area})
     </refpath>
     </alt_map>
     <aa attribute="name">
       <alt_map alt_map.inc="1">
	 <aimelt>representation.name</aimelt>
	 <source>ISO 10303-43</source>
	 <refpath>(presentation_area
	 presentation_representation &lt;=
	 representation
	 representation.name)</refpath>
       </alt_map>
       <alt_map alt_map.inc="2">
	 <aimelt>representation.name</aimelt>
	 <source>ISO 10303-43</source>
	 <refpath>(mechanical_design_geometric_presentation_area &lt;=
	 presentation_area
	 presentation_representation &lt;=
	 representation
	 representation.name)</refpath>
       </alt_map>
     </aa>
     <aa attribute="description">
       <alt_map alt_map.inc="1">
	 <aimelt>representation.description</aimelt>
	 <source>43</source>
	 <refpath>(presentation_area
	 presentation_representation &lt;=
	 representation
	 representation.description)</refpath>
       </alt_map>
       <alt_map alt_map.inc="2">
	 <aimelt>representation.description</aimelt>
	 <source>ISO 10303-43</source>
	 <refpath>(mechanical_design_geometric_presentation_area &lt;=
	 presentation_area
	 presentation_representation &lt;=
	 representation
	 representation.description)</refpath>
     </alt_map></aa>
     <aa attribute="size">
       <aimelt>presentation_size.size</aimelt>
       <source>ISO 10303-46</source>
     </aa>
   </ae> <!--  ++  VIEW_AREA_ASSIGNMENT  ++ -->
   <ae entity="View_area_assignment">
     <aimelt>presented_item_representation</aimelt>
     <source>ISO 10303-46</source>
     <refpath>-</refpath>
     <aa attribute="associated_view_area" assertion_to="View_area">
       <aimelt>PATH</aimelt>
       <refpath>presented_item_representation
       presented_item_representation.presentation ->
       presentation_representation_select
       presentation_representation_select = presentation_representation
       presentation_representation =>
       presentation_area</refpath>
     </aa>
     <aa attribute="is_describing" assertion_to="presentation_association_select">
       <aimelt>PATH</aimelt>
       <source>-</source>
       <refpath>presented_item_representation
       presented_item_representation.item ->
       presented_item
       presented_item =>
       applied_presented_item
       applied_presented_item.items[i] ->
       presented_item_select</refpath>
     </aa>
   </ae> <!--  ++  VIEW_AREA_RELATIONSHIP  ++ -->
   <ae entity="View_area_relationship">
     <aimelt>representation_relationship</aimelt>
     <source>ISO 10303-43</source>
     <aa attribute="description">
       <aimelt>representation_relationship.description</aimelt>
       <source>ISO 10303-43</source>
     </aa>
     <aa attribute="related" assertion_to="View_area">
       <alt_map id="1"><description>The general case for a view_area.</description>
       <aimelt>PATH</aimelt>
       <refpath>(representation_relationship
       representation_relationship.rep_2 ->
       representation =>
       presentation_representation =>
       presentation_area =>
       mechanical_design_geometric_presentation_area)</refpath>
       </alt_map>
       <alt_map id="1"><description>If the view_area is in a single window and in 3D context.</description>
       <aimelt>PATH</aimelt>
       <refpath>(representation_relationship
       representation_relationship.rep_2 ->
       representation =>
       presentation_representation =>
       presentation_area =>
       mechanical_design_geometric_presentation_area)</refpath>
       </alt_map>
     </aa>
     <aa attribute="relating" assertion_to="View_area">
       <aimelt>PATH</aimelt>
       <refpath>representation_relationship
       representation_relationship.rep_1 ->
       representation =>
       presentation_representation =>
       (presentation_area)
       (presentation_area =>
       mechanical_design_geometric_presentation_area)
       </refpath>
     </aa>
     <aa attribute="relationship_type">
       <aimelt>representation_relationship.name</aimelt>
       <source>ISO 10303-43</source>
     </aa>
   </ae>
 <!--  ++  SOLID_FILL_AREA  ++ -->
   <ae entity="Solid_fill_area">
     <aimelt>fill_area_style_colour</aimelt>
     <source>46</source>
   </ae>    
 </mapping_table>

 <!-- Clause 5.2 MIM -->
 <mim>
   <!--  Note MIM short form express is in mim.xml -->
   <express-g>
     <imgfile file="mimexpg1.xml"/>
     <imgfile file="mimexpg2.xml"/>
   </express-g>
 </mim>

</module>
