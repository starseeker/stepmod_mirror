=== stepmod change log ===
Records of changes in stepmod during the AP242 development.
The changes are recorded here because the ISO 10303 bugzilla is down since 2011-06-13

==============
About bug 3565 - Splitting Default_setting_association out into it's own module 
--- changes not yet committed in bugzilla ---
2011-06-19
Added AM Default_setting_association to CR9 and global index
committed initial module.

2011-06-21
default_tolerance/mim.exp 1.17
default_tolerance/arm.exp 1.11
default_setting_association/arm.exp 1.2
contextual_shape_positioning/arm.exp 1.15
surface_conditions/arm.exp 1.30
kinematic_topology/arm.exp 1.4
kinematic_structure/arm.exp 1.4

==============
Bug 4122 - Draughting_annotation_occurrence is not a representation
------------
Comment #2 From Lothar Klein 2011-06-13 12:24:20 (-) [reply] -------

Today Tom, Ed and I agreed to remove AO Draughting_annotation_occurrence and to
change Explicit_schematic_element_definition.explicit_parts to be of type
Annotation_occurrence.

In addition we agreed to remove global rule draughting_model_items_constraint
from AM Dimension_and_tolerance_callouts because
draughting_annotation_occurrence and draughting_elements don't provide
added-value. Instead we may consider to add similar rules on draughting_model
(after AP242-CD ballot)

2011-06-21
schematic_element/arm.exp 1.7
draughting_annotation/arm.exp 1.8

==============
Bug 4116 - shape_definition_representation to shape_aspect/_relationship for the ARM
------------
On 2011-06-13 Tom, Ed and I decided for the following changes:

AM Property_assignment_arm:
Name the Property_definition_representation attributes identical to the corresponding IR entity.

--- changes not yet committed in bugzilla ---
2011-06-21
property_assignment/arm.exp 1.15
shape_property_assignment/arm.exp 1.44
risk_definition/arm.exp 1.9


==== Other bugs ===
2011-06-21
shape_dimension_schema.exp 1.14
shape_aspect_definition_schema.exp 1.42
shape_tolerance_schema.exm + exp-g update (Tom changes)
kinematic_motion_representation_schema.xml + exp-g update (Tom changes)

process_plan/arm.exp 1.4

===============
other changes by Tom with comment
 "fix error found in testing mating relationship work"
- assembly_component_placement_requirements/arm.exp 1.61
- assembly_technology/arm.exp 1.58
- layered_interconnect_module_design/arm.exp
- layered_interconnect_simple_template/arm.exp 1.20
- product_class/arm.exp 1.19
Others:
- geometric_tolerance/mim.exp 1.40
  http://locke.dcnicn.com/bugzilla/iso10303/show_bug.cgi?id=3911#c5
- stratum_non_planar_shape/arm.exp
  fix spelling error


2011-06-23:
form_feature_in_panel/mim.exp 1.2
form_feature_in_panel/arm.exp 1.2
ap242_managed_model_based_3d_engineering/arm_lf.exp 1.5

Today at the em-pilot meeting we decided to remove AM Part_feature_location from AN Shape_feature so that UCUR don't shop up in AP242
shape_feature/arm.exp 1.15

LF compilation error for Coating_layer.thickness
Extended dimension_target for Coating_layer 
  surface_conditions/arm.exp 1.31

Bringing MIM USE FROMs in sync with ARM,
Moved 
- assembly_component
- component_definition
- physical_component 
from Physical_unit_design_view_mim
to Assembly_component_mim
assembly_component/mim.exp 1.2
characterized_representation/mim.exp 1.4
general_part_feature/mim.exp 1.2
general_part_occurrence_feature_joint/mim.exp 1.2
default_setting_association/arm.exp 1.3
default_setting_association/mim.exp 1.2
kinematic_motion_representation/mim.exp 1.4
machining_features/arm.exp 1.11
machining_features/mim.exp 1.7
mating_structure/mim.exp 1.2
product_and_manufacturing_information_view_context/mim.exp 1.3
process_plan/mim.exp 1.4
dimension_tolerance/mim.exp 1.20
shape_property_assignment/mim.exp 1.29
numerical_interface/mim.exp 1.14
assembly_technology/mim.exp 1.26
component_feature/mim.exp 1.24
component_grouping/mim.exp 1.23
extended_geometric_tolerance/mim.exp 1.37
physical_unit_design_view/mim.exp 1.37
physical_unit_usage_view/mim.exp 1.36
physical_connectivity_definition/mim.exp 1.18

Added AMs
- Model_based_3d_geometrical_dimensioning_and_tolerancing_representation
- Product_and_manufacturing_annotation_presentation
to top AP242 module

2011-06-24:
bug #4052: AM Dimension_and_tolerance_callouts
Extend  Draughting_model_item_association.definition for Geometric_tolerances
Remove AO Dimensioning_standard, we do this now via 
- Gdt_representation_view_context and
- Model_based_3d_annotation_presentation_view_context
see AM Product_and_manufacturing_information_view_context 
dimension_and_tolerance_callouts/arm.exp 1.9
dimension_and_tolerance_callouts/mim.exp 1.13

Feature_and_connection_zone_arm
FUNCTION facz_get_sc
> REFERENCE ERROR: at line 7015 "describing_surface_condition" not found
Replaced by "used_representation"
feature_and_connection_zone/arm.exp 1.35

Footprint_definition_arm
FUNCTION fd_get_amodel
> REFERENCE ERROR: at line 7302 Identifier "representation" not resolved
replaced
  gm := gm + sda[i]\Shape_description_association.representation;
by
  gm := gm + sda[i]\Property_definition_representation.used_representation;  

Layered_interconnect_complex_template_arm
ENTITY Part_template_planar_keepout_shape_model
> TYPE ERROR: at line 10538 Actual parameter at position 1 in get_rvd 
> function call not compatible with formal

Other addressed issues related with Shape_description_association
physical_unit_usage_view/arm.exp 1.74
shape_feature/arm.exp 1.16
thermal_network_definition/arm.exp 1.18
shape_property_assignment/arm.exp 1.45
footprint_definition/arm.exp 1.36

2011-06/07-xx
AM Surface_condition_arm
- the current combination of 
   Surface_condition_property <= Assigned_shape_property
   Surface_contiotion_association <= Shape_dependent_property_association
   Surface_condition <= Representation
  is far too detailed and does not provide any added value.
  Decided to replace this by just one AO
    Surface_condition <= Assigned_shape_property
  and be done.

AM Feature_and_connection_zone_arm
- the above changes caused side effects on function facz_get_sc
- Turned the derived attribute Definitional_shape_element.surface_conditions
  into an INVERSE attribute
- removed function facz_get_sc

2011-07-03
see long email to Tom, new bug
 "Tom's ARM compilation error list from 2011-06-25"

fabrication_technology/arm.exp 1.184 (*)
assembly_technology/arm.exp 1.59
extended_geometric_tolerance/arm.exp 1.80
feature_and_connection_zone/arm.exp 1.36
surface_conditions/arm.exp 1.32
layered_interconnect_module_3d_design/arm.exp 1.36
layered_interconnect_simple_template/arm.exp 1.21
non_feature_shape_element/arm.exp 1.67
package/arm.xml 1.82
support_resource/arm.exp 1.3 (*)
part_template_shape_with_parameters/arm.exp 1.38
physical_unit_shape_with_parameters/arm.exp 1.34 (*)
physical_unit_usage_view/arm.exp 1.75
shape_feature/arm.exp 1.17
thermal_network_definition/arm.exp 1.19 (*)
default_tolerance/arm.exp 1.12
default_setting_association/arm.exp 1.4

(*) Added anew to CR9 

2011-07-04
In discussions with Tom we made the following changes today
Reference in CVS:
(bugzilla is down) see new bug "Tom's ARM compilation error list from 2011-06-25"

default_setting_association/arm.exp 1.5
surface_conditions/arm.exp 1.33
physical_unit_3d_design_view/arm.exp 1.42
physical_unit_usage_view/arm.xml 1.81

#4074 "Characteristic_data_table missing explicit link to table header"
introduced new ENTITY Characteristic_data_table_header_usage
added inverse attribute header for Characteristic_data_table_representation
characteristic/arm.exp 1.60

2011-07-05

Att: Tom's email from 2011-06-22 MIM-LF compilation errors
Together with Tom reviewed all of them today and identified solutions:
(bugzilla is down) Tom's email from 2011-06-22 MIM-LF compilation errors

(committed only 2011-07-06)
characteristic/mim.exp 1.42
external_properties/mim.exp 1.22
associative_text/mim.exp 1.14
classification_with_attributes/mim.exp 1.30
constructive_solid_geometry_2d/mim.exp 1.30
associative_draughting_elements/mim.exp 1.11
procedural_shape_model_schema.exp 1.2
assembly_feature_relationship_schema.exp 1.9
modules/basic_curve/mim.xml 1.45
support_resource_schema.exp 1.14

Change draughting_model_item_association.used_representation to use annotation_representation_select
instead of only draughting_model. So this entity can use all representations with annotations and it
also solves a SHOTOLO issue on unused select annotation_representation_select

Extend draughting_model_item_definition select and its "supertpye" item_identified_representation_usage_definition for
all the items that we need to relate it to, see AP212 presentation_select
examples:
- person_organization_assignment
- date_time_assignment ...


2011-07-06
Created new AM Product_as_individual_assembly_and_test_arm witht he AOs
- Product_as_individual_assembly
- Product_as_individual_test_result
  replacing physical_instance_test_result put on a product_definition level with a special additional conext
  physical_instance_test_result has a mapping error in constraining prodpert_definition.name but also enforcing a general_property.
  The intermediate general_property_association enforces that both general_property and property_definition must have the same name.
  For the new Product_as_individual_test_result all properties will be treated as "test results".
ap242_managed_model_based_3d_engineering/arm.exp 1.13
ap242_managed_model_based_3d_engineering/mim.exp 1.19
product_as_individual_assembly_and_test/arm.exp 1.2  
product_as_individual_assembly_and_test/mim.exp 1.2  

setting part numbers for new modules:
 442 ap242_managed_model_based_3d_engineering
1794 assembly_constraints
1795 assembly_feature_relationship
1796 kinematic_motion_representation
1797 kinematic_structure
1798 kinematic_state
1799 kinematic_topology
 
1802 assembly_component
1803 process_plan
1804 product_as_individual_assembly_and_test
1805 characterized_representation
1806 form_feature_in_panel
1807 general_part_feature
1808 general_part_occurrence_feature_joint
1809 default_setting_association
1810 product_and_manufacturing_information_view_context
1811 product_and_manufacturing_information_with_nominal_3d_models
1812 product_and_manufacturing_annotation_presentation
1813 parametric_representation
1814 machining_features
1815 mating_structure
1816 model_based_3d_geometrical_dimensioning_and_tolerancing_representation
1817 kinematic_analysis_control_and_result

2011-07-08
Moved Part_view_definition_context from AM Product_and_manufacturing_information_view_context to Part_view_definition
- added where rule and fixed/completed some where rules of subtypes
Added new subtype Process_state_view_context and new AO Process_state_relationship in AM Process_plan
product_and_manufacturing_information_view_context/arm.exp 1.3
process_plan/arm.xml 1.5
part_view_definition/arm.exp 1.13
added AM part_view_definition to CR9

Results from discussions with G�nter and afterwards:
kinematic_path needs an optional placement_start that must be present if path_nodes are used.
Made kinematic_path abstract and introduced two subtypes:
- kinematic_path_defined_by_nodes: all segements are path_nodes and so also a placement start is needed
- kinematic_path_defined_by_curves: all segements are curve_based_path_with_orientation 
Added a TOTAL_OVER subtype constraint to enforce that either a path_node or a kinematic_path_defined_by_curves is used.
Note that path_parametrization is 	


Process_state_relationship.relation_type
Permissable values
- assemble
- disassemble
- manufacturing step

process_plan/mim.exp  1.6
kinematic_motion_representation_schema.exp 1.17
kinematic_motion_representation_schema.exp 1.18

2011-07-09
The TOTAL_OVER introduced above is not a real good solution. 
Looking again to this it becomes clear that path_parametrization should simply be a subtpye of curve_based_path_with_orientation.
And while doing so renamed it to curve_based_path_with_orientation_and_parameters.
Now it is is clear that this subtype is only be used if un addition to the position and orientation curves additional parametric curves are needed to control thinks like speed, rotation speed, preasure etc.
kinematic_motion_representation_schema.exp 1.19

2011-07-10
Earlier Mikael wrote:
---
 Missing attributes in Hinge example, change:
 #503=REVOLUTE_PAIR_WITH_RANGE('pair-X',#512,#522,#402,*,*,*,*,*,*,0,180);
 to
 #503=REVOLUTE_PAIR_WITH_RANGE('pair-X','',$,#512,#522,#402,*,*,*,*,*,*,0,180); 
---
This is correct, but it indicates another principle issue.
kinematic_pair and so all it's subtype have now two name attributes.
This is not usefull. Decided to block one of them by re-declaring it as derived:
  ENTITY kinematic_pair ...
    SUBTYPE OF (item_defined_transformation, geometric_representation_item);
    ...
  DERIVE
    ...
    SELF\item_defined_transformation.name : label := SELF\representation_item.name;
  ...
  END_ENTITY;
As a reult of this the example changes to
#503=REVOLUTE_PAIR_WITH_RANGE(*,'pair-X',#512,#522,#402,*,*,*,*,*,*,0,180);

Yesterday Mikael wrote:
---
8.4.7 interpolated_configuration_sequence
WR1 have one negation to much.
change
WR1: SIZEOF( QUERY(ics <* segments | NOT(ics.state.represented_mechanism 
:<>: configured_mechanism))) = 0;
to
WR1: SIZEOF( QUERY(ics <* segments | ics.state.represented_mechanism 
:<>: configured_mechanism)) = 0;
or
WR1: SIZEOF( QUERY(ics <* segments | NOT(ics.state.represented_mechanism 
:=: configured_mechanism))) = 0;
---
Good catch, changed to
WR1: SIZEOF( QUERY(ics <* segments | ics.state.represented_mechanism 
:<>: configured_mechanism)) = 0;

----
Annex E.2 Hinge example. Description and p21 have a minor differences on 
sharing representation context.
change
#510=RIGID_LINK_REPRESENTATION('',(#512),#511,#403);
#520=RIGID_LINK_REPRESENTATION('',(#522),#521,#404);
to
#510=RIGID_LINK_REPRESENTATION('',(#512),#106,#403);
#520=RIGID_LINK_REPRESENTATION('',(#522),#206,#404);
and delete #511 and #521
-----
This is correct because of kinematic_link_representation_association.wr1.
I corrected this.
However looking to the rule it becomes clear that in combination with a transformation it should
be allowed to have different contexts. So changing to:

ENTITY kinematic_link_representation_association
  SUBTYPE OF (representation_relationship);
  SELF\representation_relationship.rep_1 : kinematic_link_representation;
  SELF\representation_relationship.rep_2 : shape_representation; 
WHERE
  WR1: (SELF\representation_relationship.rep_2.context_of_items :=:
        SELF\representation_relationship.rep_1.context_of_items) OR
       ('representation_schema.representation_relationship_with_transformation' IN TYPEOF(SELF)); 
END_ENTITY;

---
Annex E.2 Hinge example. The derived shared representation context for 
mechanism_state_representation can be made visible in p21.
change
#610=MECHANISM_STATE_REPRESENTATION('state-1',(#612),#501,#500);
#620=MECHANISM_STATE_REPRESENTATION('state-2',(#622),#501,#500);
#630=MECHANISM_STATE_REPRESENTATION('state-3',(#632),#501,#500);
to
#610=MECHANISM_STATE_REPRESENTATION('state-1',(#612),*,#500);
#620=MECHANISM_STATE_REPRESENTATION('state-2',(#622),*,#500);
#630=MECHANISM_STATE_REPRESENTATION('state-3',(#632),*,#500);
----
This is correct, made the change.
kinematic_motion_representation_schema.exp 1.20
kinematic_structure_schema.exp 1.27

updating the ARM accordingly ...

2011-07-11
kinematic_structure_schema.exp 1.28

Bug 4018 on "Change request for AP242"
- added AM Design_management to AP242
- delete AO View_dependent_design_object_management_relationship
- removed Activity as a supertype of Design_object_management_relationship
- add attribute Design_object_management_relationship.described_change


2011-07-21
Yesterday Tom and I decided several changes on AM Design_management, see also bug 
- A Change can now be combined from several Change_elements and optionally an order between them may be defined.
- A Change_element is either an Add_, Delete_ or Modifiy_element
- Mapping of the whole is done to group and group_assignment, using similar names.
  Because change is already used by old AP203-ed1, had to call it change_group in the IR
Today I had further discussions with Juergen and we decided from a BO-Model perspective to
- introduce new AO Change_element_sequence, instead of an optional previous attribute on Change_element
- convert the previous and current attributes on Add_, Delete_ and Modify_element into a SET[1:?]
- introduce a new AO Modify_single_element 
Had to address side effects in AM Functional_decomposition_to_design, 410 and 442.

AM442
- added USE FROM Sketch

IR105 Kinematics:
Fixed errors in the example reported by Mikael / Yujiang Li:
#331=CONTEXT_DEPENDENT_KINEMATIC_LINK_REPRESENTATION(#510,#330); change to
#331=CONTEXT_DEPENDENT_KINEMATIC_LINK_REPRESENTATION(#513,#330);
 
#341=CONTEXT_DEPENDENT_KINEMATIC_LINK_REPRESENTATION(#510,#340); change to
#341=CONTEXT_DEPENDENT_KINEMATIC_LINK_REPRESENTATION(#523,#340);  

As a result of a discussions with Juergen added
ENTITY item_link_motion_relationship
  SUBTYPE OF (link_motion_relationship);
  SELF\representation_relationship.rep_1 : shape_representation;
  item : geometric_representation_item;
END_ENTITY; 

kinematic_motion_representation_schema.exp 1.21
change_management/arm.exp 1.1
change_management/mim.exp 1.1
p242_managed_model_based_3d_engineering/mim.exp 1.20
ap242_managed_model_based_3d_engineering/arm.exp 1.14
ap210_electronic_assembly_interconnect_and_packaging_design/mim.exp 1.105
ap210_electronic_assembly_interconnect_and_packaging_design/arm.exp 1.110
functional_decomposition_to_design/arm.exp 1.19
functional_decomposition_to_design/mim.exp 1.13
updating CR9 and repository-index.xml for modified AM Design_/Change_management
---
AM Part_view_definition_arm:
Added attribute re-declarations to Part_view_definition to enforce Part_view_definition_context as the initial_ and additional_context.
Moved Process_state_view_context from AM Process_plan_arm back to AM Product_and_manufacturing_information_view_context_arm 

part_view_definition/arm.xml 1.13
product_and_manufacturing_information_view_context/arm.exp 1.6
process_plan/arm.exp 1.6

Updating the Kinematic modules for the recent IR105 changes:
kinematic_motion_representation/arm.exp 1.6
kinematic_structure/arm.exp 1.5
    
A few days ago I agreed with Tom that Product_occurrence should derive it's initial context from it's definiton.
generic_product_occurrence/arm.exp 1.19


2011-07-22
AM Change_management
- copied module.xml content from AM Design_management 

AM Altered_package
Had to fix a reference to Datum_axis and Datum_plane

AM Bare_die
had to replace a reference to Shape_element_constituent_relationship by Shape_element_relationship

AM Contextual_shape_positioning_arm
hat to fix descriptions of Shape_placement_association attributes caused by changes on the supertype Shape_description_association
fixed mapping

AM Document_properties
fixed description of Document_property_representation, caused by changes on Property_definition_representation.rep (now used_representation)

AM Generic_product_occurrence_arm
added description for new re-declared as derived attribute initial_context 

AM Stratum_non_planar_shape_arm
added missing description and IP1/2 for Topologically_constrained_manifold_surface_shape_representation 

AM draughting_annotation
Remove mapping for no longer existing Draughting_annotation_occurrence
Removed UOF section

AM Property_assignment
fixed ARM descriptions and mapping

Adding to CR9
- contextual_shape_positioning 
- document_properties
- generic_product_occurrence
- property_assignment
- altered_package
- bare_die
- stratum_non_planar_shape


2011-07-23
Fixing reported errors on Biliography. I guess it must be this order (Guideline at the end).
<bibliography>
	<bibitem.inc ref="ref8824-1"/>
	<bibitem.inc ref="ISOTS10303-1032"/>
	<bibitem.inc ref="AMConGde06"/>
</bibliography>
- assembly_technology
- Default_tolerance
- dimension_tolerance
- Extended_geometric_tolerance
- Property_assignment

AM Assembly_component_placement_requirements_arm
- add description for Placement_group_requirement_definition.requirement_relationship
- add description for function get_acpr_rvd 

2011-07-26
- entering WG12 numbers

2011-07-25
standard_builds/CR00009_20110726.zip
AM Change_management changes
- added Change_element_sequence.description, Juergen requested this
- made Modify_single_element.previous_design_object mandatory.
  If users don't want to use this they have to use Modify_element
  instead.
- removed Modify_single_element.wr1 because it may happen that the
  entity type is changing; e.g. the type of curve or the the type of
  the Geometry_model
- Completed ARM description
- Added mapping.
- Updated AM410 mapping for changes in Change_management
General
- adding missing short names
- fixed several mappings
AM physical_unit_design_view
- Moved MIM physical_component to AM Assembly_component
Completed ARM-mapping-MIM review for AM
- Assembly_component
- Physical_unit_design_view
- component_feature
- physical_node_requirement_to_implementing_component_allocation
- interface_component
- Component_grouping
- assembly_module_with_subassembly
- assembly_module_with_macro_component
- assembly_module_with_interconnect_component
- assembly_module_with_cable_component
- assembly_module_design
- sequential_laminate_assembly_design
- Layered_interconnect_module_with_printed_component_design
- interconnect_module_with_macros
- discrete_shield
- Layered_interconnect_module_design
  Removed from AO Conductive_interconnect_element_with_pre_defined_transitions the following sentence:
	"The Stratum_feature_shape_stratum_surface_shape_relationship or
	 Stratum_feature_shape_stratum_average_surface_shape_relationship
	 shall be populated to specify to a processor the design intent."
	see bug 4088
	removed this mapping:
---------	
		<ae entity="Assembly_component" original_module="physical_unit_design_view" extensible="NO">
            <aa attribute="derived_from" assertion_to="Generic_footprint_definition">
                <aimelt xml:space="preserve">PATH</aimelt>
                <refpath xml:space="preserve">assembly_component &lt;=
component_definition &lt;=
product_definition &lt;-
product_definition_relationship.related_product_definition
product_definition_relationship
{product_definition_relationship.name = 'definition usage'}
product_definition_relationship.relating_product_definition -&gt;
product_definition =&gt;
part_template_definition =&gt;
geometric_template =&gt;
structured_template =&gt;
multi_stratum_structured_template =&gt;
generic_footprint_definition
</refpath>
            </aa>
            <aa attribute="derived_from" assertion_to="Padstack_definition">
                <aimelt xml:space="preserve">PATH</aimelt>
                <refpath xml:space="preserve">
assembly_component &lt;=	
component_definition &lt;=
product_definition &lt;-
product_definition_relationship.related_product_definition
product_definition_relationship
{product_definition_relationship.name = 'definition usage'}
product_definition_relationship.relating_product_definition -&gt;
product_definition =&gt;
part_template_definition =&gt;
geometric_template =&gt;
structured_template =&gt;
multi_stratum_structured_template =&gt;
padstack_definition
</refpath>
            </aa>
		</ae>	
------		
log from Tom
--------
AM Change_management changes
updated to add aggregate position attribute to Change_element.
arm and mim express updated and successful long form build.

AM Appearance_assignment mim
Had to add
externally_defined_style to
USE FROM presentation_appearance_schema to get it brought into
longform due to shtolo limitation.

AM project
Had to make project_item GENERIC_ENTITY to satisfy shtolo/longform
generation process.

draughting_element_schema
added missing
REFERENCE FROM product_property_representation_schema (item_identified...)
[somehow this got left off of changes for text_reference stuff.]

With these changes I successfully built a mim longform.

managed_model_based_3d_engineering_mim.lfepm_500030207.exp v 1.7
managed_model_based_3d_engineering_mim.lfepm_500030207.exp_patch_file v 1.2

mim_lf.exp v 1.5
concatenated_mim.exp v 1.20
concatenated_mim_patch_file v 1.1
-----------


2011-07-27
976 errors reported in CR9 build started yesterday evening, statistics:
---
 18 error e4 No description provided for xxx
 59 error e5: No description provided for
196 error e9: No description provided for 
 39+24 error e: No description provided for
139 error ATTR2: attribute descriptions
  9 error eR-6: The express_ref linkend
 68 error eR-7: The express_ref linkend
  9 error ER-n: express_ref linkend module
102 error NOTE2: Notes start with p element not module_ref
  5 error aN:   "relating"  attribute must precede "related" attribute
  2 error EGn: There is no EXPRESS-G reference for  
258 error m
 10 error refpath_n ext2: The module specified in the  
 19 error K-1: error in module.xml/keywords - no keywords specified.
 22 error FT: No French title
 19 error P1: Insufficient introduction material provided. 
 12 other errors
--- 
Update MIM USE FROMs for those in the ARM
- AM default_setting_association
- AM default_tolerance
- AM general_part_occurrence_feature_joint

Updated Exp-XML and Exp-G for yesterday changes from Tom
- AM Change_management
- AM Appearance_assignment mim
- AM project

Completed ARM-mapping-MIM review for AM
- Characterized_representation
  had to rename Characterized_item_within_representation.UR1 and WR1

AM physical_unit_design_view
- removed shortname for thermal_component
AM assembly_component
- added shortname for thermal_component

Addressing "error WG-1: No WG number provided"
- AM ap242_managed_model_based_3d_engineering
  added dummy WG3 numbers 99999
- AM assembly_component
- AM assembly_constraint    
- AM document_properties
- AM feature_and_connection_zone

Removed Chnage history section for first editions
- AM default_setting_association
- AM ap242_managed_model_based_3d_engineering
- AM change_management
- AM general_part_feature
- AM general_part_occurrence_feature_joint
- AM parametric_representation
- AM product_as_individual_assembly_and_test
- AM change_management

French translations of module titles, prvided by Alexandre Fournier:
ap242_managed_model_based_3d_engineering = ap242 gestion des mod�les 3D d'ing�nierie
assembly_component = composant d'assemblage
assembly_constraints = contraintes d'assemblage
assembly_feature_relationship =  relation entre assemblage et caract�ristique
characterized_representation = repr�sentation carat�ris�e
form_feature_in_panel = forme caract�ristique dans panneau
general_part_feature = caract�ristiques globales de part
general_part_occurrence_feature_joint = association des caract�ristiques globales � une occurence de composant
default_setting_association = param�tres d'association par d�faut 
kinematic_analysis_control_and_result = cin�matique analyse, contr�le et resultat (or controle et r�sultat des analyses cin�matiques)
kinematic_motion_representation = cin�matique repr�sentation des mouvements
kinematic_state = cin�matique �tat
kinematic_structure = cin�matique structure
kinematic_topology = cin�matique topologie
machining_features = caract�ristiques des machines outils
mating_structure = structure d'accouplement
model_based_3d_geometrical_dimensioning_and_tolerancing_representation = repr�sentation du dimmensionnement g�om�trique et du tol�rancement de mod�les 3D
parametric_representation = repr�sentation param�trique
product_and_manufacturing_annotation_presentation = produit et fabrication annotation de pr�sentation
product_and_manufacturing_information_view_context = produit et fabrication information sur les vues contextualis�es
product_and_manufacturing_information_with_nominal_3d_models = produit et fabrication information avec des mod�les 3D nominaux
product_as_individual_assembly_and_test = produit en tant qu'individu assemblage et test
process_plan = planification des processus
change_management = gestion des modifications
- I used http://www.unicodetools.com/unicode/convert-to-html.php
to convert the non-ascii characters.


2011-07-27/29
Build from the last night had 902 error: CR00009_20110727.zip

AM kinematic_analysis_control_and_result
- fixed part number

ARM compilation error reported by the EPM compiler:
Redeclaring attribute: ASSEMBLY_COMPONENT.DESCRIBED_ELEMENT in line: 705
  ENTITY Assembly_component
  changed
    SELF\Item_shape.described_element : shapeable_item := SELF;
  to
    SELF\Item_shape.described_element : Assembly_component := SELF;
Redeclaring attribute: COMPONENT_FEATURE_JOINT.CONTAINING_SHAPE RENAMED ASSOCIATED_DEFINITION in line: 2704
  ENTITY Component_feature_joint
  changed
    SELF\Shape_element.containing_shape RENAMED associated_definition : Item_shape;
  to
    SELF\Shape_element.containing_shape RENAMED associated_definition : Assembly_item_shape;
ERROR  : Line xxxx: C3126:Illegal attribute redeclaration.
Redeclaring attribute: LINK_MOTION_RELATIONSHIP.REP_1 in line: 8549
Redeclaring attribute: LINK_MOTION_RELATIONSHIP.REP_2 in line: 8550
Redeclaring attribute: PAIR_REPRESENTATION_RELATIONSHIP.REP_1 in line: 8974
Redeclaring attribute: PAIR_REPRESENTATION_RELATIONSHIP.REP_2 in line: 8975
  AM Geometric_model_relationship_arm
    new extensible geometric_representation_select with Geometric_model
    change Geometric_model_relationship.rep_1 and _2 to geometric_representation_select  
  AM Contextual_shape_positioning_arm
    change Contextual_shape_representation.context_representation and .positioned_representation to geometric_representation_select
  AM Kinematic_structure_arm:
    extend geometric_representation_select for Kinematic_link_representation   
  AM Kinematic_motion_representation_arm
    extend geometric_representation_select for Link_motion_representation_along_path   
ERROR  : Line 11199: C3126:Illegal attribute redeclaration.
Redeclaring attribute: NOMINAL_3D_INTEGRAL_FEATURE.ASSOCIATED_ITEM in line: 11199
All elements in select nominal_3d_integral_feature_geometry are Detailed_geometric_model_elements
except of Manifold_subsurface_model.
  AM Model_based_3d_geometrical_dimensioning_and_tolerancing_representation_arm
    replace in the select Manifold_subsurface_model by Shell_based_surface_model
  AM Elemental_topology_arm
    adding Connected_face_sub_set   
All other reported ARM compilation errors are duplicates.
assembly_component/arm.exp 1.2
geometric_model_relationship/arm.exp 1.7
kinematic_motion_representation/arm.exp 1.7
kinematic_structure/arm.exp 1.6
contextual_shape_positioning/arm.exp 1.16
manifold_subsurface/arm.exp 1.19
component_feature/arm.exp 1.32
elemental_topology/arm.exp 1.9
added to CR9
- geometric_model_relationship
- manifold_subsurface
- elemental_topology

Here some further explanation why I choose to introduce geometric_representation_select:

A Geometric_model (=shape_representation) is not the only kind of
Representation that can have a Geometric_coordinate_space
(=geometric_representation_context). There are
Kinematic_link_representation and Constructive_geometry that are not
Geometric_models in the sense that they represent the geometry of
something (e.g. a Part).

So I introduced the extensible select geometric_representation_select
that initially contain Geometric_model only and that is then extended
by Kinematic_link_representation. Didn't saw a need to extend it for
Constructive_geometry but a use case for this may come up later on.

So a
Geometric_model_relationship/Geometric_model_relationship_with_transfor
mation requires geometric_representation_selects for rep_1 and _2� to
make any sense. However a Link_motion_relationship requires for rep_1
only a Geometric_model or Kinematic_link_representation but nothing
else (e.g. Constructive_geometry).

-- later added
In light of the discussion above it become clear to me that also some kinds of  
Definitional_representations require a geometric_representation_context; 
in particular when they are used to define curves in U-V space (instead of X-Y).
So this is the reason why we have:
 ENTITY Path_parameter_representation_context
   SUBTYPE OF (Geometric_coordinate_space, Parametric_representation_context);
 END_ENTITY;


2011-07-30/31
Tom replaced in 410 module the USE FROM to 403 by 442.
This caused name conflicts for the AOs cutout and marking.
Both are defined in AM Machining_feature but also in the AP210 specific modules AM Device_marking and AM Layered_interconnect_module_design respectively.
Decided to change in AM Machining_feature
- Cutout to Cutout_feature
- Marking to Marking_feature
machining_features/arm.exp 1.12
TBD - update description and mapping

bug 2682 1112 SEDS #1314: Miss configuration solutions
AM Effectivity_application_arm
- added ARM ineffectivity_assignment
effectivity_application/arm.exp 1.6

bug 3096 1010 SEDS #1406 extend date_or_date_time_select for extended dates  
AM Date_time_arm
- made date_or_date_time_select extensible
AM Extended_date_arm
- extended date_or_date_time_select by date_select 
- removed extended_date_time_select 
AM Basic_data_representation_arm
- change Date_time_representation_item.the_value from extended_date_time_select to date_or_date_time_select
basic_data_representation/arm.exp 1.6
date_time/arm.exp 1.12
extended_date/arm.exp 1.5

AM Characteristic
- extended scope for 
  "identification of characteristics data in tabular form;"
- extended the introduction to say "single and tabular parameters"  
- added some overview information in clause 4; 
  not really sufficient, but better than nothing
- added mapping for Characteristic_data_table_header_usage  

Added to CR9:
- AM Effectivity_assignment
- AM Date_time
- AM Extended_date
- AM Basic_data_representation


2011-08-05
During or after the SC4 meeting in Portland (my deskzilla copy of bugzilla was made just before)
the GD&T team agreed to deprecate symmetric_shape_aspect and as a consequence remove centre_of_symmetry.wr1.
Reason is that symmetric_shape_aspect does not provide additional semantic beyond what centre_of_symmetry is already doing.
If there is a centre_of_symmetry, then the one or several related shape aspects must be symmetric.
Solution is upward compatible because symmetric_shape_aspect is only depreacted, but not removed and old rule  
centre_of_symmetry.wr1 had anyway enforced that there could be no other related shape_aspects.
shape_aspect_definition_schema.exp 1.43

On yesterday's em-pilot call we decided for the top AP210 module AM 410:
- to be included in CR9 because there are so many changed ap210 modules and so this ensures that all is consistent.
- to USE FROM AM 442 instead of AM 403
- to not use new draft AM Schematic_symbol (comment it out). This will be added only after CR9.
ap210_electronic_assembly_interconnect_and_packaging_design/arm.exp 1.112
ap210_electronic_assembly_interconnect_and_packaging_design/mim.exp 1.107

Bug 3193 0403 Make Product abstract and its subtypes ONEOF
added exclusive_products_242 and extended exclusive_product_versions_242 accordingly
Note that Specification_based_product_version can be used in ANDOR combination
ap242_managed_model_based_3d_engineering/arm.exp 1.15

AM Design_product_data_management
- ARM added Retention_period along AP214
  because of AP233/239 can't add in lover level configuration modules
- MIM dito

Addressing bugs:
- 3961 xxxx AP214 AIM select comparison with AP203ed2 for AP242
Changes:
- removed in AM 442: action_item_242 = SELECT BASED_ON action_items WITH 
    (product_definition_formation_relationship);
  END_TYPE; 
- AM Design_pdm
  -- added design_pdm_action_item
  -- extended design_pdm_action_request_item
  
AM Text_appearance_arm
- added AO Defined_character_glyph and also in the ONEOF
- made composite_text_element_select extensible and added Defined_character_glyph
text_appearance/arm.exp 1.12
text_appearance/mim.exp 1.16
    
AM Associative_text
- added select extension of composite_text_element_select for annotation_text
- extended text_string_representation_item_select for Defined_character_glyph
- removed AO Defined_character_glyph
associative_text/arm.exp 1.18
associative_text/mim.exp 1.16
    
AM Text_representation
- added USE FROM Associative_text
- extended text_or_composite_text for Annotation_text_character
- extended composite_text_element_select for Annotation_text_character
text_representation/arm.exp 1.20
text_representation/mim.exp 1.13

AM Work_request
AP214 has AO Work_request_relationship that maps to versioned_action_request_relationship.
This has so far been missing in setpmod. Decided to add this to AM Work_request.
work_request/arm.exp 1.19
work_request/mim.exp 1.17


2011-08-06/07:
Looking to the mapping of AP214 AO General_feature.additional_parameter
it becomes clear that this pattern is covered by AO Assigned_shape_property and
consequently be have to extend its attribute described_element for this.
The same mechanism is then covering General_feature.location_and_orientation

AM Shape_feature_arm
- adding new ARM/+MIM General_feature as a subtype of Shape_feature_element (taken from AP214)
shape_feature/arm.exp 1.18
shape_feature/mim.exp 1.10

AM Inertia_characteristics_arm
  REMIND: To be reviewed. 
  Most likely changes to fit with recommended practises and the re-arrangements in AM Shape_property_assignment are needed.
  See also no longer visible decriptions on AO Shape_dependent_property_representation (in arm_descriptions.xml)

AM Shape_property_assignment_arm
- renaming item_shape_or_element_or_relationship_select to assigned_shape_property_select and making it extensible
To reflect product_definition_shape.UR1 in the ARM
- adding UNIQUE for Item_shape.described_element
Change Shape_description_association.definition from Item_shape to Associated_item_change.
Only then the inverse attribute Associated_item_shape.association makes full sense.
updated mapping and description
shape_property_assignment/arm.exp 1.46

AM Contextual_shape_positioning_arm
Shape_placement_association.definition is so far of type Contextual_item_shape. 
But this conflicts with the changes of Shange_description_association.definition above.
So introduce new AO
    ENTITY Associated_contextual_item_shape
    SUBTYPE OF (Associated_item_shape, Contextual_item_shape);
and change the type of Shape_placement_association.definition to this.
Also removing the ONEOF between Associated_item_shape, Contextual_item_shape.
contextual_shape_positioning/arm.exp 1.17

P41:
I always have a bit problems to fully understand shape_definition_representation.wr1. 
But the normative text makes it clear: 
"A shape_definition_representation is the association of a shape_representation with a product_definition_shape or with a property_definition characterizing a shape_definition."
Decided to make this explicit by re-declaring the inherited definition attribute to be of type property_definition.
Note that a product_definition_shape is a property_definition as well.
So this ensures that this change will not affect any implementation or other Express models.
product_property_representation_schema.exp 1.27
TBD update description

Bug 3961 "AP214 AIM select comparison with AP203ed2 for AP242"
Extended MIM selects according to the bug
- AM Design_product_data_management
  Also added ARM+MIM Retention_period and period_or_date_or_event_select
- AM 442  
design_product_data_management/arm.exp 1.32  
design_product_data_management/mim.exp 1.30  
ap242_managed_model_based_3d_engineering/mim.exp 1.21  
  
Mikael pointed out that the entities from the kinematic_property_schema must
be USED FROM in other kinematic modules; according to the ARM usage.  

Kinematic_state_schema:
- converted spherical_pair_value.applies_to_pair into a new select type spherical_pair_select
  that is either a spherical_pair or a spherical_pair_with_pin
- added low_order_kinematic_pair_value to be able to provide a state for a low_order_kinematic  
Kinematic_structure_schema:
- added low_order_kinematic_pair_with_range to be able to provide a range for a kind of low_order_kinematic_pair

added to CR9:  
<!--ISO 10303-1136--> <module name="text_appearance" team="ap242" version="?" arm.change="y" mim.change="n"/>
<!--ISO 10303-1750--> <module name="text_representation" team="ap242" version="?" arm.change="y" mim.change="n"/>
<!--ISO 10303-1042--> <module name="work_request" team="ap242" version="?" arm.change="y" mim.change="n"/>
<!--ISO 10303-1010--> <module name="date_time" team="ap242" version="?" arm.change="y" mim.change="n"/>
<!--ISO 10303-1776--> <module name="extended_date" team="ap242" version="?" arm.change="y" mim.change="n"/>
<!--ISO 10303-1773--> <module name="basic_data_representation" team="ap242" version="?" arm.change="y" mim.change="n"/>

-- Log from Tom: ---
Aug 6, 2011
a- AM non_feature_shape_element ARM
added Product_view_definition in 
ee_product_definition_with_annotation_elements to initialize SELECT
arm.exp v 1.68

b- AM Assembly_module_design_arm
added

        TYPE amd_feature_select = EXTENSIBLE GENERIC_ENTITY SELECT based_on 
feature_select WITH
                (Part_terminal_external_reference);
        END_TYPE;

so as to have valid redeclaration in
  ENTITY Minimally_defined_component_terminal
     SUBTYPE OF (Physical_component_terminal);
       SELF\Component_feature.definition : Part_terminal_external_reference;
arm.exp v 1.56
------------


2011-08-08/09
Updating exp-xml and exp-g for Tom's changes above:
- assembly_module_design/arm.exp
- assembly_physical_interface_requirement/arm.exp
- document_properties/arm.exp
- feature_and_connection_zone/arm.exp
- footprint_definition/arm.exp
- inertia_characteristics/arm.exp
- non_feature_shape_element/arm.exp
- package/arm.exp


Mikael reported an error on kinematic_property_mechanism_representation.wr1 which haven't been detected
before because this entity didn't show up in the AP242 long from so far. Fixed this.
kinematic_property_schema.exp 1.8

Mikael reported wrong order of SUPERTYPE OF statements in the case of multiple inheritence.
The issue is in stepmod XSLT where the supertype entities in a SUBTYPE OF statement are sorted alpabetically.
Decided to re-arrange the order in the entities instead of fixing the XSLT (several places).
Note that order is significant in a p21 file.
  ENTITY pair_representation_relationship
    SUBTYPE OF (geometric_representation_item, representation_relationship_with_transformation);
  ENTITY kinematic_pair
    SUBTYPE OF (geometric_representation_item, item_defined_transformation);
  ENTITY link_motion_relationship
    SUBTYPE OF (representation_relationship_with_transformation, definitional_representation_relationship);
kinematic_structure_schema.exp 1.30
kinematic_motion_representation_schema.exp 1.22
kinematic_structure/arm.exp 1.7
kinematic_motion_representation/arm.exp 1.8
Note that there might be more cases in stepmod that simply had not been detected so far.
  Sooner or later the XSLT has to be fixed 
  

--- Tom 2011-08-09 ---
1- AM Assembly_physical_interface_requirement_arm
added Part_terminal
to
apir_requirement_assignment_item to satisfy
Protocol_requirement_allocation_to_part_terminal.assigned_to.
arm.exp v1.35

2- AM Package
changed Package_orientation_feature.wr1 to require
Package_orientation_feature to be a subtype of Datum_feature since
AO Datum_defined_by_feature is no longer in model.
arm.exp v1.83

3- AM Inertia_characteristics
corrected references in Centre_of_mass, Momentsof_inertia wr1, 2,3 (both 
AOs)
arm.exp v1.7

4- am Footprint_definition
fixed ref error in fd_get_amodel
arm.exp v1.37

5- AM Feature_and_connection_zone_arm
removed Connection_zone.wr1,
made Feature_definition_with_connection_area.connection_area
mandatory since the subtype doesn't need to be populated if the 
attribute is not populated.
arm.exp v1.37

6-AM Document_properties_arm
fixed syntax error in Document_property_representation.wr1
arm.exp v1.23

7- AM Assembly_component
made Assembly_component a subtype of Definition_based_part_occurrence 
instead of Definition_based_product_occurrence to resolve
attribute redeclaration scoping issue on
described_element.
arm.exp v1.3

9- SCHEMA mathematical_functions_schema
ECCO reports a missing bound_variable_semantics ENTITY TYPE.
This shows up in ENTITY TYPE quantifier_expression.
I could not easily locate the USE FROM that brought in 
quantifier_expression.
If this is important, it can be reviewed during CD.
--------------


2011-08-10/11/12:
Addressing ARM compilation errors reported by Tom:
Converted Geometric_model.items into an extensible select geometric_model_item and extended it in Manifold_subsurface_arm for Connected_face_set
elemental_geometric_shape/arm.exp 1.20
manifold_subsurface/arm.exp 1.20

Friday, June 3, 2011, 9:55:20 AM, Guenter wrote:
> beim Vergleich des Process_plan Moduls mit AP214 ist mir folgendes aufgefallen:
> - bei Process_plan fehlt das Attribut version_id (opt.)
Done

> - bei Process_operation_occurrence_relationship fehlt das Attribut waiting_time (opt.)
Done; used type Duration <= Value_with_unit, same for cycle_time

> - bei Process_operation_resource_definition fehlt das Attribut placement (opt.)
I guess Process_operation_resource_assignment is meant which maps to an 
  requirement_for_action_resource <= action_resource_requirement
I guess we don't need a placement attribute here at all; 
but I see issues from the mapping and general concept.
Have to come back to this area again.

> - bei Process_operation_resource_definition fehlt das
> Attribut reference_definition mit dem Selecttyp resource_definition_select
Added, and also added new AO Resource_requirement_type 
 for AP214 AO descriptive_specification

> - bei Process_operation_input_or_output_select fehlt Mated_part_association
AM Mating_structure_arm
- renamed Mated_item_relationship to Mated_part_relationship
- added Mated_part_relationship to process_operation_input_or_output_select

> - bei same_time_machining_relationship fehlt das Attribut placement (opt.)
For the low-level modular ARM this has to be done a bit different through an Item_shape (in case of mapped_item) or an Contextual_item_shape.
For this purpose had to fix in
AM Shape_property_assignment_arm
- In select TYPEs shapeable_item and described_element_select replaced View_definition_usage but its supertype View_definition_relationship.
  This ensured that a same_time_machining_relationship can have an Item_shape or an Contextual_item_shape
  
> - Process_operation_definition_relationship sollte ein
> optionales description Attribut haben (fehlt auch in AP214)
Done

> - bei Mated_item_relationship fehlt das Attribut mating_material (opt.)
There is meanwhile Mated_item_relationship.mating_material, an opt. SET.
It was Quantified_instance, but now I changed this to Definition_based_part_occurrence
So it may still be quantified, but it must be "part" based

Friday, June 3, 2011, 7:30:14 PM, Guenter wrote:
> - bei Process_operation_occurrence fehlt das Attribut is_defined_in (opt.)

> - Process_state_relationship fehlt
On 2011-07-08 I covered this as follows: ...
Added new subtype Process_state_view_context and new AO Process_state_relationship in AM Process_plan

> - Tool_part_relationship fehlt
covered by Part_definition_relationship;
see normative text in AM 1345 Item_definition_structure_arm

> - bei Mating_definition fehlt das Attribut mating_type
Added Mated_item_relationship.mating_types as a SET

ap242_managed_model_based_3d_engineering/arm.exp 1.16
mating_structure/arm.exp 1.5
shape_property_assignment/arm.exp 1.47
process_plan/arm.exp 1.7            

Tom reported this error:
ERROR  : Line  9742: C3126:Illegal attribute redeclaration.
          Redeclaring attribute: 
NOMINAL_3D_INTEGRAL_FEATURE.ASSOCIATED_ITEM in line: 9742
          Redeclared  attribute: 
ASSOCIATED_SHAPE_ELEMENT.ASSOCIATED_ITEM in line: 17043
          Redeclaration from DETAILED_GEOMETRIC_MODEL_ELEMENT to 
NOMINAL_3D_INTEGRAL_FEATURE_GEOMETRY
          Additional info:
            Error 8104.0 Entity is not same or subtype
            At line :9706: Select type:NOMINAL_3D_INTEGRAL_FEATURE_GEOMETRY
            At line :9437: Select member:MANIFOLD_SUBSURFACE_MODEL
To address this I further extended the use of the new geometric_model_item.
It is now also used for
- Geometric_item_specific_usage.identified_item
- Associated_shape_element.associated_item
- and extended in AM Model_based_3d_geometrical_dimensioning_and_tolerancing_representation_arm
  for Connected_face_set, Edge_loop
Also in the nominal_3d_integral_feature_geometry select the element Manifold_subsurface_model is now replaced by Connected_face_set.

In AP214 AO Manufacturing_configuration.configured_element refers to Item_instance.
For AP242 Manufacturing_configuration maps to Item_usage_effectivity. 
Consequently Item_usage_effectivity.item_usage_relationship : item_usage_relationship_item  has to be extended for Part_occurrence.
Done in AM 442.


2011-08-13
About AP214 general_organizational_data_select:
  copied to AM242 and updating all select members to the new types.
  Keeping the old types as comment for reference.

While reviewing the AP214 item_property_select and how it is captured in stepmod I figured out several issues that I had to correct:

Corrected extension of property_assignment_select:
- Shape_property_assignment_arm, new:
  -- Item_shape,
  -- Shape_element, 
  -- Shape_element_relationship
- Shape_feature_arm: reduced to
  -- Characterizable_object
- AM 442
  -- Product_class
  -- Product_specification (not Product_identification because this is not a characterised_object, can't map)
shape_feature/arm.exp 1.19  
shape_property_assignment/arm.exp 1.49
ap242_managed_model_based_3d_engineering/arm.exp 1.17

AM Specification_control_arm   
- make Design_constraint_definition a subtype of Requirement_view_definition
  remove the defined_version redeclaration because this is already done in Requirement_view_definition
- remove Design_constraint_relationship because this is already captured by Requirement_view_definition_relationship in AM Requirement_view_definition_relationship_arm
specification_control/arm.exp 1.23
specification_control/mim.exp 1.17
ap242_managed_model_based_3d_engineering/arm.exp 1.18
    
AM Requirement_view_definition_relationship_arm:
- change mapping, 
  remove requirement_view_definition_relationship because this is not there in AP214 ???
- add new AO Requirement_precedence_relationship <= Requirement_view_definition_relationship
- we should also remove the renaming of Requirement_collection_relationship.primary and .secondary, but I'm afraid of conflicts with AP233/239
requirement_view_definition_relationship/arm.exp 1.12
requirement_view_definition_relationship/mim.exp 1.11
ap210_electronic_assembly_interconnect_and_packaging_design/mim.exp 1.108

added to CR9:  
<!--ISO 10303-1112--> <module name="specification_control" team="ap242" version="?" arm.change="?" mim.change="?"/>
<!--ISO 10303-1004--> <module name="elemental_geometric_shape" team="ap242" version="?" arm.change="?" mim.change="?"/>
<!--ISO 10303-1792--> <module name="sketch" team="ap242" version="?" arm.change="?" mim.change="?"/>
<!--ISO 10303-1646--> <module name="footprint_definition" team="ap242" version="?" arm.change="?" mim.change="?"/>
<!--ISO 10303-1350--> <module name="inertia_characteristics" team="ap242" version="?" arm.change="?" mim.change="?"/>
<!--ISO 10303-1647--> <module name="assembly_physical_interface_requirement" team="ap242" version="?" arm.change="?" mim.change="?"/>


2011-08-15
Tom's email from 2011-08-10:
- ppdated shape_definition_representation.wr1 
- fixed schema names in general_feature rules
product_property_representation_schema.exp 1.28
shape_feature/mim.exp 1.11

2011-08-14
Adressing ARM compilation errors reported by Tom on 2011-08-01:
'concatenated_arm.exp': 19904, 81: Warning     : surface_condition type expected in inverse attribute (type is represented_definition)
LK: with the select extension spa_represented_definition this should no longer be the case

'concatenated_arm.exp': 18813, 72: Error       : identifier 'dimimension_count' not declared
'concatenated_arm.exp': 18813, 44: Error       : attribute 'dimimension_count' not declared in partial type 'geometric_coordinate_space'
LK: Fixed the spelling error

'concatenated_arm.exp': 18326, 37: Error       : invalid role name 'SHAPE_PROPERTY_ASSIGNMENT_ARM.SHAPE_DESCRIPTION_ASSOCIATION.REPRESENTATION' in function USEDIN : role name contains an unknown attribute name
'concatenated_arm.exp': 18332, 31: Error       : identifier 'represented_characteristic' not declared
'concatenated_arm.exp': 18334, 26: Error       : identifier 'represented_characteristic' not declared
'concatenated_arm.exp': 18335, 50: Error       : identifier 'represented_characteristic' not declared
LK: fixed attribute names to "used_representation", "definition"

'concatenated_arm.exp': 14647, 51: Warning     : externally_defined_view_definition type expected in inverse attribute (type is external_identification_item)
LK: THis is already the case and is done in this module:
  TYPE pie_external_identification_item = EXTENSIBLE GENERIC_ENTITY SELECT BASED_ON external_identification_item WITH (
          Externally_defined_view_definition);
  END_TYPE; 
LK: So my conclusion is that this Express Compiler has a problem for these cases. Have to ignore them.

'concatenated_arm.exp': 13595, 96: Error       : identifier 'additional_context' not declared
'concatenated_arm.exp': 13595, 71: Error       : attribute 'additional_context' not declared in partial type 'product_view_definition'
LK: fixed

'concatenated_arm.exp': 18549, 51: Warning     : associated_shape_element type expected in inverse attribute (type is geometric_item_specific_usage_select)
'concatenated_arm.exp': 18438, 31: Warning     : shape_feature_definition type expected in inverse attribute (type is shapeable_item)
'concatenated_arm.exp': 19860, 50: Warning     : coating_layer type expected in inverse attribute (type is dimension_target)
'concatenated_arm.exp': 19654, 58: Warning     : specification_based_product_version type expected in inverse attribute (type is version_or_definition)
'concatenated_arm.exp': 19384,  5: Warning     : return value of type LOGICAL may be incompatible (BOOLEAN expected)
'concatenated_arm.exp': 19382,  5: Warning     : return value of type LOGICAL may be incompatible (BOOLEAN expected)
'concatenated_arm.exp': 19392,  5: Warning     : return value of type LOGICAL may be incompatible (BOOLEAN expected)
'concatenated_arm.exp': 19390,  5: Warning     : return value of type LOGICAL may be incompatible (BOOLEAN expected)
'concatenated_arm.exp': 18361, 18: Warning     : first parameter of function USEDIN must be an entity instance (type is location_of_extreme_value_select)
'concatenated_arm.exp': 16741, 50: Warning     : first parameter of function USEDIN must be an entity instance (type is GENERIC)
'concatenated_arm.exp': 16139, 50: Warning     : first parameter of function USEDIN must be an entity instance (type is GENERIC)
'concatenated_arm.exp': 15186, 44: Warning     : rule_set type expected in inverse attribute (type is SET OF 'identification_assignment_arm.identification_item')
'concatenated_arm.exp': 13073, 51: Warning     : externally_defined_work_request_status type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 13065, 51: Warning     : externally_defined_work_request type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 13057, 51: Warning     : externally_defined_date_or_date_time_assignment type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 13049, 51: Warning     : externally_defined_approval type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 13041, 51: Warning     : externally_defined_approval_status type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 13033, 51: Warning     : externally_defined_organization_or_person_in_organization_assignment type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 13024, 51: Warning     : externally_defined_address_assignment type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 13016, 51: Warning     : externally_defined_security_classification type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 13008, 51: Warning     : externally_defined_activity_relationship type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 12715, 51: Warning     : externally_defined_picture_representation_item type expected in inverse attribute (type is external_identification_item)
'concatenated_arm.exp': 12680,  3: Warning     : ENTITY type 'physical_component_terminal' is an ABSTRACT SUPERTYPE but has no subtypes
'concatenated_arm.exp': 11720, 27: Warning     : type of parameter 1 ('arg') may be incompatible: generic_expression (type expression expected) 
'concatenated_arm.exp': 11743,  4: Warning     : type of parameter 1 ('arg') may be incompatible: generic_expression (type expression expected) 
'concatenated_arm.exp': 11745,  4: Warning     : type of parameter 1 ('arg') may be incompatible: generic_expression (type expression expected) 
'concatenated_arm.exp': 11760, 26: Warning     : type of parameter 1 ('arg') may be incompatible: generic_expression (type expression expected) 
'concatenated_arm.exp': 11761, 23: Warning     : type of parameter 1 ('arg') may be incompatible: generic_expression (type expression expected) 
'concatenated_arm.exp': 11762, 23: Warning     : type of parameter 1 ('arg') may be incompatible: generic_expression (type expression expected) 
'concatenated_arm.exp': 11641,  3: Warning     : ENTITY type 'unary_numeric_expression' is an ABSTRACT SUPERTYPE but has no subtypes
'concatenated_arm.exp': 11563,  3: Warning     : ENTITY type 'multiple_arity_function_call' is an ABSTRACT SUPERTYPE but has no subtypes
'concatenated_arm.exp': 11395,  2: Warning     : ENTITY type 'boolean_defined_function' is an ABSTRACT SUPERTYPE but has no subtypes
LK: skip warnings

'concatenated_arm.exp': 11218,149: Error       : identifier 'additional_context' not declared
'concatenated_arm.exp': 11218,124: Error       : attribute 'additional_context' not declared in partial type 'product_view_definition'
LK: fixed

'concatenated_arm.exp': 9777, 33: Error       : identifier 'edge_element' not declared
LK: fixed

'concatenated_arm.exp': 9701, 48: Error       : identifier 'rep' not declared
'concatenated_arm.exp': 9701, 12: Error       : attribute 'rep' not declared in partial type 'property_definition_representation'
LK: fixed

'concatenated_arm.exp': 9543, 31: Error       : attribute 'associated_link_representations_1' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9544, 31: Error       : attribute 'associated_link_representations_2' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9530, 31: Error       : attribute 'associated_link_representations_1' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9531, 31: Error       : attribute 'associated_link_representations_2' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9520, 31: Error       : attribute 'associated_link_representations_1' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9490, 31: Error       : attribute 'associated_link_representations_1' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9480, 31: Error       : attribute 'associated_link_representations_1' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9463, 31: Error       : attribute 'associated_link_representations_1' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9464, 31: Error       : attribute 'associated_link_representations_2' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9443, 31: Error       : attribute 'associated_link_representations_1' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9444, 31: Error       : attribute 'associated_link_representations_2' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9433, 31: Error       : attribute 'associated_link_representations_1' not declared in partial type 'high_order_kinematic_pair'
'concatenated_arm.exp': 9403, 31: Error       : attribute 'associated_link_representations_1' not declared in partial type 'high_order_kinematic_pair'
LK: Fixed

'concatenated_arm.exp': 8963, 48: Error       : identifier 'rep' not declared
LK: fixed

kinematic_structure arm.exp v 1.8 
kinematic_topology arm.exp v 1.5
model_based_3d_geometrical_dimensioning_and_tolerancing_representation arm.exp v 1.4
product_and_manufacturing_annotation_presentation arm.exp v 1.2
product_and_manufacturing_information_with_nominal_3d_models arm.exp v 1.2
shape_data_quality_inspection_result arm.exp v 1.7
sketch arm.exp v 1.6

'concatenated_arm.exp': 13744,  3: Error       : return value of type advanced_brep_shape_representation expected
'concatenated_arm.exp': 13749,  3: Error       : return value of type constructive_geometry expected
'concatenated_arm.exp': 13733, 43: Error       : incompatible assignment: SET OF 'construction_geometry_arm.constructive_geometry' := constructive_geometry
LK: Removed derived attributes and a where rule from AO Product_and_manufacturing_information_with_nominal_3d_models_arm
and added instead an IP to say that it must come with an aasociated advanced_face_model. 

product_and_manufacturing_information_with_nominal_3d_models/arm.exp 1.3

2011-08-23
Tom: I did notice that you didn't update the MIM for shape_feature:
REFERENCE FROM aic_machining_feature (shape_defining_relationship, feature_component_relationship);     
should be:
USE FROM aic_machining_feature (shape_defining_relationship, feature_component_relationship);
LK: Done
shape_feature/mim.exp 1.12

Jamie Stori: dimensional_location_with_datum_feature and dimensional_size_with_datum_feature are missing in AP210/242
LK: Added 
dimension_tolerance/mim.exp 1.21

2011-09-04
Jami Stori indicated an error in dimensional_location.wr1. The copyarison operator ":=:" must be replaced by ":<>:"
LK: done

2011-09-05
Changed the order of attributes
process_plan/arm.exp

Changed label of where rules to upper cases
extended_geometric_tolerance/mim.exp
machining_features/mim.exp

Tom wrote 2011-09-02:
cardinality of packaged_component.access_mechanism needs to be SET[0:?] OF packaged_component_join_terminal FOR associated_component so that
inconsistency between this attribute and Embedded_component_join_terminal.associated_component can be corrected.
assembly_module_design/arm.exp v1.57

2011-09-07
Jami and Viktoras reported issues with general_datum_reference in new p47:
There is a kind of conflic between wr1 and ur1 because it does not make sense to enforce that the name attribute must be an empty string and then to make it unique.
In long discussions the GD&T team has agreed that the (abstract) general_datum_reference shall be used by only one datum_system and in only one branch of the graph of referenced datums.
This is enforced in the subtypes of general_datum_reference. Because of this ur1 is now redundant. Removed it.

The other issue is with common_datum_list that must have at least 2 entries in the list. With only one it would not be a common datum. 
shape_aspect_definition_schema.exp 1.44

2011-09-11
Tom: 1-Property_assignment_arm
1a- 
TYPE property_assignment_select = EXTENSIBLE SELECT;
END_TYPE
The property_assignment_select should be GENERIC_ENTITY because it is 
impossible to assign a property to anything other than an ENTITY instance.
[We may want to defer this to DIS since I don't think it will cause a 
compiler issue.]
LK: done
property_assignment/arm.xml 1.19

2911-09-12
bug 4117: Extend Draughting_model_item_association for all related product data
Today Tom and I agreed to extend geometric_item_specific_usage_select and so also
item_identified_representation_usage_definition for all kinds of assignment entities
that can relate additional information to a product and that may show up on a drawing in some form.
  ap242_managed_model_based_3d_engineering/arm.exp 1.22
  
Tom indicated that property_assignment_select must be GENERIC_ENTITY and it's extensible extensions as well.
  product_view_definition_properties/arm.exp 1.13
  analytical_model/arm.exp 1.60
  product_group/arm.exp 1.11
  risk_definition/arm.exp 1.10
  state_characterized/arm.exp 1.16
The last 3 modules are AP233/239 specific. And because the change is very minor decided to not update them now as part of CR9

2011-09-13
There was the following in ap242 mim.exp:
REFERENCE FROM product_property_representation_schema
  (item_identified_representation_usage_definition);
It is not allowed to use a REFERENCE FROM in a module MIM other than for functions so the declaration was changed to:
USE FROM product_property_representation_schema
  (item_identified_representation_usage_definition);   
ap242_managed.../mim.exp 1.23 

2011-09-14
Together with Tom we reviewed new ARM compilation errors:

Kinematic_property_mechanism_representation.WR1 is using wrong parameter for function call using_representations.
Updated the rule to fit with the recently updated IR105 rule.
kinematic_structure/arm.xml 1.8

Some rule is referring to Direction.direction_ratios which exisit in IR42, but not in the MIM AO.
Make Direction identical to IR42.
elemental_geometric_shape/arm.exp 1.21

Shape_element_relationship_representation_association.WR1 misses a schema name in a string-type.
assembly_feature_relationship/arm.exp 1.2

Coaxial_constraint.wr1 refers to "Point" which does not exisit on the ARM.
Decided to make ARM identical to IR42 - so adding Point (but as abstract supertype) 
and making Cartesian_point, Point_on_curve, Point_on_surface subtypes of it (with extra ONEOF).
Consequently removed no longer needed point_select, but this caused several side effects
geometric_constraints/arm.exp 1.8
extended_basic_geometry/arm.exp 1.21
ply_orientation_specification/arm.exp 1.10
shape_data_quality_inspection_result/arm.exp 1.8
thickened_face_solid/arm.exp 1.10
part_and_zone_laminate_tables/arm.exp 1.9
model_based_3d_geometrical_dimensioning_and_tolerancing_representation/arm.exp 1.5
sketch/arm.exp 1.7
draughting_element/arm.exp 1.10
construction_geometry/arm.exp 1.19
basic_geometry/arm.exp 1.24

Kinematic_link_representation_association.wr1 includes invalid schema name

Gdt_representation_view_context and Model_based_3d_annotation_presentation_view_context had incomplete rules
product_and_manufacturing_information_view_context/arm.exp 1.7

Numeric_expression_arm: There are many erros because "functions" from other plib20 wrapper modules are called out,
but the corresponding modules are not available. So had to add
	USE FROM Numeric_function_arm;
	USE FROM Expression_arm;
numeric_expression/mim.exp 1.2 
numeric_expression/arm.exp 1.3

2011-09-16
Tom detected an issue with the ARM of AM Sketch.
The select type surface_or_solid_model is defined there but is empty.
But when looking to IR108 we can see that it contains different kind of models,
not all of them are available on the ARM level. Decided to 
- add USE FROM Solid_model_arm/_mim;
- change surface_or_solid_model into GENERIC_ENTITY
- add Solid_model to the select 
sketch/mim.exp 1.5
sketch/arm.exp 1.8