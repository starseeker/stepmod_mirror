Section 1.  GENERAL INFORMATION (completed by SC4 Secretariat/WG Convener):

SEDS Report Number: 1064
Date Submitted:
Status:
Assigned WG:
SEDS Team Leader: 
SEDS Team Members: 


Section 2.  ENHANCEMENT AND DISCREPANCY INFORMATION (completed by Author of SEDS Report):

Author: Giedrius Liutkus
Email Address: giedrius.liutkus@lksoft.lt
Part and Clause where Issue Originates: ISO/TS 10303-1003, clause 4.2, clause 5.1 and clause 5.2.
Other Parts Affected by the Issue: 
Related Issues:

Summary/Abstract/Keywords: Wrong interfacing of externally_defined_text_font. attributes Marker.marker_name and Terminator.terminator_name.
Mapping of Predefined_terminator and Externally_defined_curve_font.curve_font_reference.

Problem Description: 

1) MIM of Curve appearance has EXPRESS error:
 line: 19, column: 4. externally_defined_text_font - interfaced named type not found in schema: presentation_appearance_schema
externally_defined_text_font is not in presentation_appearance_schema it is in presentation_resource_schema.

2) 2 attribute mappings defined as "NO MAPPING":
Marker.marker_name and Terminator.terminator_name. This means that those attributes can't be implemented in the AIM and are useless from ARM perspective.
Consequently Predefined_marker and Predefined_terminator does not make much sense as they are constraining attributes Marker.marker_name and Terminator.terminator_name
respectively.

3) Mapping of Predefined_terminator is wrong.
Predefined_terminator mapps to predefined_terminator_symbol. But MIM contains pre_defined_terminator_symbol.

4) Mapping of Externally_defined_curve_font.curve_font_reference is in conflict with Externally_defined_curve_font mapping.
Mapping of Externally_defined_curve_font.curve_font_reference starts with curve_style. But Externally_defined_curve_font entity maps to 
externally_defined_curve_font, which is not compatible with curve_style.
Also String is ARM maps to entity in the AIM - external_source.

Conditions Under Which the Issue Was Discovered: Validation with LKSoft mapping tool.

Proposed Solution (Optional):
1)Change MIM EXPRESS:
USE FROM presentation_appearance_schema   -- ISO 10303-46
  (...
-- externally_defined_text_font -- Move this entity use from below
...);

USE FROM presentation_resource_schema   -- ISO 10303-46
  (externally_defined_text_font);

2) Remove attributes Marker.marker_name and Terminator.terminator_name from the ARM.
Remove Predefined_marker and Predefined_terminator entities.

3) Fix mapping and declare Predefined_terminator as mapped to pre_defined_terminator_symbol.

4) Change the mapping of Predefined_terminator as follows:
(* Remove redundant and incorrect path
curve_style
curve_style.curve_font -&gt;
curve_font_or_scaled_curve_font_select
curve_font_or_scaled_curve_font_select =
curve_style_font_select
curve_style_font_select
curve_style_font_select = externally_defined_curve_font *)
(* Leave only those 3 lines in mapping path *)
externally_defined_curve_font &lt;=
externally_defined_item
externally_defined_item.source -&gt;
(* Added 2 new lines *)
external_source
external_source.source_id


Section 3.  RESPONSE INFORMATION (completed by SEDS Resolution Team Leader):


If Accepted, Resolution:


Section 4.  FOLLOW-UP INFORMATION (completed by WG Convener):

Class:
Priority:
Impact of Change: 
Further Action Required:
Action Required by SEDS Coordinator/WG Conveners/QC/SC4:

