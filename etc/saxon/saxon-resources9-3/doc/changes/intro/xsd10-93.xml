<?xml version="1.0" encoding="iso-8859-1"?>
<?xml-stylesheet href="../../make-menu.xsl" type="text/xsl"?><html>
   <head>
      <this-is section="changes" page="intro" subpage="xsd10-93"/>
      <!--
           Generated at 2010-10-29T18:20:48.427+01:00--><title>Saxonica: XSLT and XQuery Processing: XML Schema 1.0 changes</title>
      <meta name="coverage" content="Worldwide"/>
      <meta name="copyright" content="Copyright Saxonica Ltd"/>
      <meta name="title"
            content="Saxonica: XSLT and XQuery Processing: XML Schema 1.0 changes"/>
      <meta name="robots" content="noindex,nofollow"/>
      <link rel="stylesheet" href="../../saxondocs.css" type="text/css"/>
   </head>
   <body class="main">
      <h1>XML Schema 1.0 changes</h1>
      <p>There is a rule in both XSD 1.0 and XSD 1.1 that components redefined using <code>xs:redefine</code> must have been defined immediately within the schema document
referenced by the <code>xs:redefine</code> element. Previous releases of Saxon did not enforce this rule, instead allowing the redefined component to be either in the
redefined schema document or in an indirectly included schema document. Saxon 9.3 checks the rule, but
reports any violations in the form of a warning rather than a hard error, to avoid invalidating schemas that previously worked.</p>
      <p>Elements and attributes of type <code>xs:ENTITY</code> or <code>xs:ENTITIES</code> are now checked against the list of unparsed entities
declared in the document. (This check is not performed during validation invoked by XSLT or XQuery validation, but it is performed during standalone
schema validation.)</p>
      <p>There is a new switch <a class="bodylink"
            href="../../javadoc/net/sf/saxon/lib/FeatureKeys.html#VALIDATION_COMMENTS"><code>FeatureKeys.VALIDATION_COMMENTS</code></a> to control whether comments 
         are written into an instance document when validation fails.
         Previously this always happened if the switch <a class="bodylink"
            href="../../javadoc/net/sf/saxon/lib/FeatureKeys.html#VALIDATION_WARNINGS"><code>FeatureKeys.VALIDATION_WARNINGS</code></a>
         was on; it can now be controlled separately, and the default is off. 
         A corresponding switch has been added to the configuration file. The command-line option <code>-outval:recover</code> sets both switches on. Internally the
         switches are held in the <a class="bodylink" href="../../javadoc/net/sf/saxon/lib/ParseOptions.html"><code>ParseOptions</code></a> object and can thus be set differently for different validation episodes. 
         For the <a class="bodylink"
            href="../../javadoc/net/sf/saxon/lib/FeatureKeys.html#VALIDATION_WARNINGS"><code>FeatureKeys.VALIDATION_WARNINGS</code></a> switch, the two flags previously held
         in the default <code>ParseOptions</code> and in local
         <a class="bodylink" href="../../javadoc/net/sf/saxon/Configuration.html"><code>Configuration</code></a> data have been combined into one, preventing the use of inconsistent settings. </p>
      <p>Static type checking is now applied to the XPath expressions in the <code>xs:field</code> and <code>xs:selector</code> elements of identity constraints. Warnings
    are reported if the paths select nothing, or if the field expression potentially selects multiple nodes, an empty sequence (in the case of
    <code>xs:key</code> only), or nodes whose type is not a simple type or a complex type with simple content.</p>
      <table width="100%">
         <tr>
            <td>
               <p align="right"><a class="nav" href="xsd11-93.xml">Next</a></p>
            </td>
         </tr>
      </table>
   </body>
</html>