<?xml version="1.0" encoding="iso-8859-1"?>
<?xml-stylesheet href="../../make-menu.xsl" type="text/xsl"?><html>
   <head>
      <this-is section="changes" page="intro92" subpage="updates92"/>
      <!--
           Generated at 2010-10-29T18:20:48.427+01:00--><title>Saxonica: XSLT and XQuery Processing: XQuery Updates</title>
      <meta name="coverage" content="Worldwide"/>
      <meta name="copyright" content="Copyright Saxonica Ltd"/>
      <meta name="title" content="Saxonica: XSLT and XQuery Processing: XQuery Updates"/>
      <meta name="robots" content="noindex,nofollow"/>
      <link rel="stylesheet" href="../../saxondocs.css" type="text/css"/>
   </head>
   <body class="main">
      <h1>XQuery Updates</h1>
      <p>The XQuery update code has been amended to classify expressions as "updating" or "vacuous" as in the Candidate Recommendation.
To ensure all cases of invalid updating expressions are properly detected, Saxon now delays some of its rewriting of conditional
and typeswitch expressions until the type-checking phase.</p>
      <p>In XQuery Update, following a decision on W3C bug 5702, deleting a node that has no parent is no longer an error.</p>
      <p>The XQuery Update implementation has been significantly improved, responding to clarifications in the W3C specifications,
and an improved test suite. Many of the changes are minor, affecting behaviour in error or edge cases. It has proved
necessary to change the <code>MutableNodeInfo</code> interface to reflect the fact that an attribute's identity
cannot be adequately inferred from its name (an attribute can now be renamed without changing its identity, and conversely,
it can be replaced by another attribute having the same name). In the linked tree implementation, attribute identity is now
associated with the identity of the element node object together with the index position of the attribute; index positions are not
reused when an attribute is deleted. A method <code>isDeleted</code> has been added to allow testing whether an object
refers to a node that has been deleted; no further operations should be attempted with such an object.</p>
      <table width="100%">
         <tr>
            <td>
               <p align="right"><a class="nav" href="xquery1192.xml">Next</a></p>
            </td>
         </tr>
      </table>
   </body>
</html>