<!DOCTYPE html
PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<!-- $Id: cvs.htm,v 1.1 2002/03/04 09:58:05 robbod Exp $ -->
<HTML>
<HEAD>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<TITLE>Ballot packages</TITLE>
<link rel="stylesheet" type="text/css" href="../css/stepmod.css">
</HEAD>
<BODY>

<!-- table of contents -->
<table border="0" cellspacing="0" cellpadding="0">
  <tr>          
  <td width="120">
    <h3 align="left">
      <b>Help</b><br/>
      <small>$Revision: 1.1 $</small>
    </h3>
  </td>
  <td width="300" align="center">
    <h3 align="left">Ballot packages</h3>
    
  </td>
</tr>    
</table>
<hr/>
<center>
  <small>
    [
    <a href="../repository_index.htm">STEPmod HTML</a>
    &nbsp;|&nbsp;
    <a href="../repository_index.xml">STEPmod XML</a>
    &nbsp;|&nbsp;
    <a href="index.htm">Help index</a>
    ]
  </small>
</center>

<h2>
  <a name="cvs">Ballot packages</a>
</h2>

<ul>
  <li>
    Each ballot cycle is stored in a ballot directory:
    <blockquote>
      <code>
        stepmod\ballots\ballots\[ballot_name]
      </code>
    </blockquote>
  </li>

  <li>
    The ballot directory and associated files is created by running:
    <blockquote>
      <code>
        stepmod\utils\mkballot.wsf
      </code>
    </blockquote>
    <p>
      Note: this assumes that <a href="#cscript">JScript is installed</a>.
  </p>
</li>

<li>
  The ballot directory contains an index file <code>ballot_index.xml</code> in which
the ballot packages and the modules that make up the ballot packages are
listed.
</li>

<li>
  <p>
  Once <code>ballot_index.xml</code> has been populated with the ballot
packages and modules, an ANT build file can be made by running the
following 
</p>
<blockquote>
  <code>
    ant -buildfile buildbuild
  </code>
</blockquote>

<p>
  Note:  this assumes that <a href="util.htm#xmlhtmlant">ANT, Java and SAXON</a> are
installed.
</p>
</li>

<li>
  All the ballot cycles are indexed in:
  <blockquote>
    <code>
      stepmod\ballots\index.xml
    </code>
  </blockquote>
  This should be updated with the new ballot cycle.
</li>


<li>
  Generate the HTML for the modules being balloted by
  runing ANT on the build.xml that has just been created:
  <blockquote>
    <code>
     ant all
    </code>
  </blockquote>
   This will create a directory:
  <blockquote>
    <code>
     stepmod/ballots/isohtml/test
    </code>
  </blockquote>

  <li>
    Add the EXPRESS files into a separate directory for the ballot process:
    Run <code>stepmod/utils/getBallotExpress.wsf</code>

   This will copy all the arm.exp and mim.exp files from the modules for
   ballot into a directory:
  <blockquote>
    <code>
      stepmod/ballots/isohtml/test/express
    </code>
  </blockquote>
  Each file will be renamed: <br/>
  <code>part<part_no><status>_<wgnumber><mim|arm>.exp</mim|arm></code>
   e.g.
  <code>part1070cdts_wg12n1346mim.exp</code>
  <p>
   Note: If you want to collect all the EXPRESS files and concatenate them
   into a single file then run:  stepmod/utils/getExpressIr.wsf
   This will take two files as argument, modlist.txt and irlist.txt
   containing a list of the modules (one per line) and the common resource
   schemas (one per line) respectively.
   The script will produce three concatenated files, one containing all the
   arm.exp, one containing all the mim.exp and one containing all the
   mim.exp and the common resources.
  </p>
</li>

<li>
Create a zip file of the ballot package.
  <blockquote>
    <code>
      ant zip
    </code>
  </blockquote>
  This will create a zip file:<br/>
  <code>stepmod/ballots/isohtml/[ballot]/[ballot]yyyymmdd.zip</code>
 
</li>
<li>
  <p>
  If the package is being released for team QC review, convener review or
   submission for ballot, a CVS tag should be created.
  </p>
  <p>
   First add the name of the tag and a description to
    <blockquote>
      <code>
        stepmod/ballots/isohtml/test/test/ballot_index.xml
      </code>
    </blockquote>
   and check in the file.
  </p>

   The Tag name should be PLCS_test_<date>
   where date takes the form yyyymmdd

   Then create the CVS tag. Using WinCVS, select the stepmod directory then

   Modify -> Create Tag on selection


7) T

</ul>

</BODY>
</HTML>
