<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>Additional module guidelines</title>
</head>

<body>

<h1 align="center">Additional module guidelines&nbsp;</h1>
<p>Version $Id: additional_module_guidelines.htm,v 1.1 2002/05/10 23:03:14 thendrix Exp $</p>

<h2>Preparing descriptions and definitions.&nbsp;&nbsp;</h2>

<h3>Reuse from AP214, PDM Schema UG, etc.</h3>

<p><br>
In the balloted version of the modules, the definitions of the ARMs were very poor. In order to improve them, do not hesitate to copy text definitions, rules, notes and examples that exist in the IRs (2nd ed).  A lot of notes and examples have been added in order to clarify concepts that were not clear in the 1st ed. of the
IRs. Other sources of texts are PDM UG 4.3 and AP214.</p>

<h3>Normative versus informative text</h3>

<p><br>
Normative text shall only contain statements of fact (a xxx is..., a yyy defines ...) or constraints (a xxx shall refer to ...)<br>
Text that provide recommendations, information about intended use, about possibilities (e.g. any sentence like "a xxx may ..." ) shall be embedded in notes.<br>
For example, in module Activity, the 2nd and 3rd sentences of the definition of the entity Activity should be Notes.<br>
Same thing, in module Product_categorization, for the 2nd and 3rd sentences of the definition of the entity Product_category.<br>
<br>
In there are several notes in the same clause (4.2.x or  5.2.X ), they shall be numbered (starting from 1 at the first note in the clause).<br>
</p>

<h3>English abbreviations are forbidden</h3>

<p><br>
Use of abbreviations "e.g." or "i.e. is not allowed by the SC4 directives. "e.g." shall be replaced by the expression "for example".<br>
=> example of wrong use: module Activity&nbsp;<br>
</p>

<h2> Select types - descriptions</h2>

<p>To get  the XSL to document your select, add this attribute describe.selects=&quot;YES&nbsp;
to the ext_descriptions element in the arm_descriptions.xml and mim_descriptions.xml files <br>
e.g.</p>

<p>&lt;ext_descriptions<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; module_directory=&quot;activity_as_directed&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; schema_file=&quot;arm.xml&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rcs.date=&quot;$Date: 2002/05/02 10:38:37 $"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rcs.revision=&quot;$Revision: 1.3 $"<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; describe.selects=&quot;YES&quot;<br>
&gt;</p>

<h2>Mapping table - extensible selects</h2>
<p>
<span class="919371121-26032002"><font face="Arial" size="2">NOTE we assume in the example&nbsp;that&nbsp;the MIM element
classified_select is an empty extensible select data type.</font></span>
</p>
<p><span class="919371121-26032002"><font face="Arial" size="2">By
analogy , in the application element column, treat the a to b form as a path in
the ARM, and terminate on the ARM select.&nbsp; Select types appear naturally in
paths, but normally they must be followed by some entity.</font></span>
<p><span class="919371121-26032002"><font face="Arial" size="2">Thus&nbsp;our
table is now<span class="600135822-26032002"> &nbsp;</span>:</font></span>&nbsp;
<p><span class="919371121-26032002">&nbsp;</span>
<table border="1" width="749">
  <tr>
    <td vAlign="top" width="182"><small><b><font face="Arial" color="#0000ff">Application
      element</font></b></small></td>
    <td vAlign="top" width="181"><small><b><font face="Arial" color="#0000ff">MIM
      element</font></b></small></td>
    <td vAlign="top" width="48"><small><b><font face="Arial" color="#0000ff">Source</font></b></small></td>
    <td vAlign="top" width="39"><small><b><font face="Arial" color="#0000ff">Rules</font></b></small></td>
    <td vAlign="top" width="265"><small><b><font face="Arial" color="#0000ff">Reference
      path</font></b></small></td>
  </tr>
  <tr>
    <td vAlign="top" width="182"><small><a href="file:///E:/My%20Documents/projects/nist_module_repo/stepmod/data/modules/classification/4_info_reqs.xml#_arm.classification"><font face="Arial">CLASSIFICATION</font></a></small></td>
    <td vAlign="top" width="181"><font face="Arial" color="#0000ff"><small>applied_</small><small>classification_assignment</small></font></td>
    <td vAlign="top" width="48"><font face="Arial" color="#0000ff"><small>10</small><small>54</small></font></td>
    <td vAlign="top" width="39"><font face="Arial" color="#0000ff" size="2">&nbsp;</font></td>
    <td vAlign="top" width="265"><font face="Arial" color="#0000ff"><small>applied_</small><small>classification_assignment=&gt;<br>
      classification_assignment</small></font></td>
  </tr>
  <tr>
    <td vAlign="top" width="182"><small><font face="Arial" color="#0000ff">Classification
      to <font face="Times New Roman" color="#ff0000">Classified_select</font><br>
      (as classified)</font></small></td>
    <td vAlign="top" width="181"><small><font face="Arial" color="#0000ff">PATH</font></small></td>
    <td vAlign="top" width="48">&nbsp;</td>
    <td vAlign="top" width="39"><font face="Arial" color="#0000ff" size="2">&nbsp;</font></td>
    <td vAlign="top" width="265">
      <h5><font face="Arial" color="#0000ff"><small>classification_assignment.item[i]</small><small>-&gt;<br>
      <font color="#ff0000">classified_select</font></small></font></h5>
    </td>
  </tr>
  <tr>
    <td vAlign="top" width="182"><small><font face="Arial" color="#0000ff">Classification
      to class<br>
      (as classifier)</font></small></td>
    <td vAlign="top" width="181"><small><font face="Arial" color="#0000ff">PATH</font></small></td>
    <td vAlign="top" width="48">&nbsp;</td>
    <td vAlign="top" width="39"><font face="Arial" color="#0000ff" size="2">&nbsp;</font></td>
    <td vAlign="top" width="265"><small><font face="Arial" color="#0000ff">classification_assignment.classifier-&gt;class</font></small></td>
  </tr>
</table>
<span class="569391717-25032002">&nbsp;<p><span class="600135822-26032002"><font size="2" face="Arial">&nbsp;</font></span><font size="2" face="Arial">NOTE
&nbsp;It&nbsp;is conventional (see&nbsp;10303-41Ed2 &nbsp;F.3) to name the
subtype to be applied_classification_assignment instead of classification, and&nbsp;to
name the select&nbsp;classification_item instead of classified_select.&nbsp;</font></span>

<h2> Content of mapping-tables</h2>

<p>In a mapping-table, the Application element column shall contain:</p>
<ul>
  <li>&nbsp; the name of an ARM entity(uppercase)<br>
  </li>
  <li> the name of an attribute if this attribute is of a predefined type (STRING, INTEGER, ....). In that case, the AIM element column contains the name of the corresponding attribute in the MIM. The source column shall contain the number of the part where the MIM entity is defined. If the MIM attribute is not an attribute of the MIM entity that maps the ARM entity, then the reference path column shall depict how to reach the MIM attribute from the MIM entity that maps the ARM attribute<br>
  </li>
  <li> an expression "&lt;arm_entity_name1> to &lt;arm_entity_name2> (as &lt;attribute_name&gt;) if the attribute attribute_name refers to an entity. In that case, the AIM element shall contain PATH and the source column shall be left empty. In such a case, the reference path column shall depict the entity sequence from the MIM entity that maps arm_entity_name1 to the MIM entity that maps arm_entity_name2.<br>
    <br>
    nb: in the case, attribute_name refers to a SELECT type, a distinct mapping shall be provided for every entity types in the SELECT type.<br>
    => example of wrong Application element column: module Independent_property_representation<br>
    => example of wrong Application element column and reference path column: module Product_categorization
    (Product_category_hierarchy)<br>
    <br>
  </li>
</ul>
<p>When there are several alternate possibilities in the AIM element column, they shall be numbered and documented in the column Application element.</p>
<blockquote>
  <p><br>
  => For example, in module Date_time, it should be explained, in the mapping of the entity date_time when date_and_time shall be used and when calendar_date should be used.</p>
  <p>]However, in that particular case, the mapping onto calendar_date is simply wrong as it does not enable to map all the attributes of date_time (so, only date_and_time shall be used).<br>
  </p>
</blockquote>
<h2>Comments in Express files</h2>
<span class="606025315-27032002"><font face="Arial" size="2">The arm.exp and
mim.exp files should include the CVS $Id: additional_module_guidelines.htm,v 1.1 2002/05/10 23:03:14 thendrix Exp $ keyword and the SC4 N number as a
comment on the first few lines of the file.</font></span>
<p><span class="606025315-27032002"><font face="Arial" size="2">The Id will get
expanded and updated every time you check in the file to CVS. That way you can
immediately tell when the file was last updated and will get around the issue
raised by Greg about multiple versions of express files with the same N number.</font></span>
<p><span class="606025315-27032002"><font face="Arial" size="2">(*<br>
&nbsp; $Id: additional_module_guidelines.htm,v 1.1 2002/05/10 23:03:14 thendrix Exp $<br>
&nbsp; Nxxx<br>
*)</font></span><p>is the miminum required. It <span class="606025315-27032002"><font face="Arial" size="2">might
become</font></span><p><span class="606025315-27032002"><font face="Arial" size="2">(*<br>
&nbsp; $Id: additional_module_guidelines.htm,v 1.1 2002/05/10 23:03:14 thendrix Exp $<br>
&nbsp; N773 - ISO/CD TS - 10303-1042 Work request - EXPRESS MIM<br>
*)</font></span><p>You can add more...
<p><span class="606025315-27032002"><font face="Arial" size="2">(*<br>
&nbsp; $Id: additional_module_guidelines.htm,v 1.1 2002/05/10 23:03:14 thendrix Exp $<br>
&nbsp; N773 - ISO/CD TS - 10303-1042 Work request - EXPRESS MIM<br>
*)</font></span>
<p><span class="606025315-27032002"><font face="Arial" size="2">SCHEMA
work_request_mim;</font></span>
<p>&nbsp;
<p><span class="606025315-27032002"><font face="Arial" size="2">We should also
delete the last update comment at the bottom of the file as this is redundant -
the update information is held by the $Id: additional_module_guidelines.htm,v 1.1 2002/05/10 23:03:14 thendrix Exp $ field.</font></span>
<p>&nbsp;
<h2>Inserting Notes and examples in xml files</h2>
<p><font face="Arial" color="#0000ff" size="2"><span class="198333009-21032002">If
you want to get the following output:</span></font>
<p><font size="2"><span class="198333009-21032002"><a name="note:1">NOTE 1 </a>&nbsp;&nbsp;
This definition may be the basis for actions or the solution for action
requests.</span></font>
<p><font face="Arial" color="#0000ff" size="2"><span class="198333009-21032002">Then
use &lt;note number=&quot;1&quot;&gt;<font face="Times New Roman" color="#000000">This
definition may be the basis for actions or the solution for action requests.
&lt;note&gt;</font></span></font>
<p><font face="Arial" color="#0000ff" size="2"><span class="198333009-21032002">NB:
The
id attribute for note and example are identifiers that provide an anchor for the
note/example. This enables hrefs to be set up by module_ref.</span></font>
<p><font face="Arial" color="#0000ff" size="2"><span class="198333009-21032002">For
example to set up a link to note 1 in the module activity_method, in the section
on entities, use:</span></font>
<p><font face="Arial" color="#0000ff" size="2"><span class="198333009-21032002">&nbsp;
&lt;module_ref<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; linkend=&quot;activity_method:4_entities:note:1&quot;&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; see note 1<br>
&nbsp; &lt;/module_ref&gt;</span></font>
<p><font face="Arial" color="#0000ff" size="2"><span class="198333009-21032002">This
will result in:</span></font>
<p><font color="#0000ff"><span class="198333009-21032002"><font size="2">&nbsp; </font><a href="file:///E:/My%20Documents/projects/nist_module_repo/stepmod/data/modules/activity_method/sys/4_info_reqs.xml#entities">see
note 1</a></span></font>
<p><font color="#0000ff"><span class="198333009-21032002">NB:&nbsp;</span></font>
<span class="198333009-21032002"><font face="Arial" color="#0000ff" size="2">note
  that &quot;<a href="file:///E:/My%20Documents/projects/nist_module_repo/stepmod/data/modules/activity_method/sys/4_info_reqs.xml#entities"><font face="Times New Roman" size="3">see
  note </font></a>&quot; is a HREF.</font></span>

<h2>Rule propositions</h2>
<font color="#0000ff" size="2" face="Arial"><span class="832373714-15032002">If
a unique or where rule contains an expression, then it is a Formal Proposition.</span></font>
<p><font color="#0000ff" size="2" face="Arial"><span class="832373714-15032002">If
they do not contain an expression but have a description, then they are Informal
Propositions.</span></font>
<p><font color="#0000ff" size="2" face="Arial"><span class="832373714-15032002">E.g.</span></font>
<blockquote dir="ltr" style="MARGIN-RIGHT: 0px">
  <div style="width: 861; height: 135">
    &lt;where<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; label=&quot;WR1&quot;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; expression=&quot;SELF.identifer.role
    = 'id owner'&quot;&gt;<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;description&gt;The
    &lt;b&gt;identifier&lt;/b&gt; role shall be 'id owner'.&lt;/description&gt;<br>
    <p>&lt;/where&gt;
  </div>
</blockquote>
<font color="#0000ff" size="2" face="Arial"><span class="832373714-15032002">is
a formal proposition, where as</span></font>
<p><font color="#0000ff" size="2" face="Arial"><span class="832373714-15032002">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<font color="#000000">&lt;where<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; label=&quot;document&quot; &gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;description&gt;The item plays the
role of a document.&lt;/description&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/where&gt;</font><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></font>
<p><font color="#0000ff" size="2" face="Arial"><span class="832373714-15032002">is
an informal proposition</span></font>
<p>&nbsp;</p>
<h2> WINCVS&nbsp; Update&nbsp;</h2>
<span class="856384807-21032002"><font face="Arial" size="2">When doing&nbsp; a CVS
update</font></span>, i.e. <span class="856384807-21032002"> <font face="Arial" size="2">Modify
-&gt; Update selection</font></span>, <span class="856384807-21032002"><font face="Arial" size="2">select the box</font></span>
<span class="856384807-21032002"><font face="Arial" size="2">&quot;Create
missing directories that exist in the repository&quot;</font></span>

<h2>Module renaming</h2>
<p><span class="746125613-27032002"><font face="Arial" size="2">1)
create a new module using mkmodule script.</font></span>
<p><span class="746125613-27032002"><font face="Arial" size="2">2)
move the module.xml, express, expressg, arm.xml, mim.xml file from your old
modules directory&nbsp;to new module directory.</font></span>
<p><span class="746125613-27032002"><font face="Arial" size="2">DO NOT copy the sys directory or
CVS directories</font></span>
<p><span class="746125613-27032002"><font face="Arial" size="2">3)
rename schemas in express and update files arm.xml, mim.xml</font></span>
<p><span class="746125613-27032002"><font face="Arial" size="2">4)
make sure that module.xml only refers to the new module name</font></span>
<p><font face="Arial" size="2"><span class="746125613-27032002">5) Load the new
module into Sourceforge</span></font>: <font face="Arial" size="2"><span class="746125613-27032002">Check
in your new module directory, sys directory and all module files</span></font>
<p><span class="746125613-27032002"><font face="Arial" size="2">6)
Delete ALL the&nbsp;files in your local old module and module/sys directory.&nbsp;&nbsp;NOT
the files in CVS directory!</font></span>&nbsp;<p><span class="746125613-27032002"><font face="Arial" size="2">7)Under
WinCVS, view the newly missing files, using View/File filter/Show missing</font></span><p>&nbsp;
<p>(This will display the list of files that is managed on Sourceforge site)</p>
<span class="746125613-27032002"><font face="Arial" size="2">8)
Select these files and click on Modify/remove selection</font></span><p><span class="746125613-27032002"><font face="Arial" size="2">9)
Commit to validate&nbsp;</font></span>
<p><span class="746125613-27032002"><font face="Arial" size="2">10)
Tell everyone what the new module name is, so that they can change all references
from the old module to new module</font></span>
<p>&nbsp;</p>
<h2>Document N numbers</h2>
<span class="772050311-26032002"><font face="Arial" size="2">I
have assumed that each module will be given a WG12 N number, hence each
module.xml file has a WG N number attribute as shown below. This appears on the
front cover page of the module.</font></span>
<p>&nbsp;
<span class="772050311-26032002">
<p>The top level element is <tt>&lt;module&gt;</tt> as defined by:
<pre>  &lt;!ELEMENT  module     (keywords, contacts, purpose,
                         inscope, outscope?, normrefs?, definition*, 
                         abbreviations?, arm, mapping_table, mim, 
                         usage_guide?, bibliography?)&gt;

  &lt;!ATTLIST  module
             xmlns:xlink CDATA  #FIXED &quot;http://www.w3.org/1999/xlink&quot;
             name       NMTOKEN                            #REQUIRED
             part       NMTOKEN                            #REQUIRED
             version    NMTOKEN                            #REQUIRED
             wg.number  NMTOKEN                            #REQUIRED
             status  (CD | FDIS | DIS | IS | CD-TS | TS | WD) &quot;CD-TS&quot;
             publication.year CDATA                        #REQUIRED
             published (y | n)                             &quot;y&quot;
             language (E)                                  &quot;E&quot;
             rcs.date CDATA                                #REQUIRED 
             rcs.revision CDATA                            #REQUIRED&gt;
</pre>
<div>
  Where:
</div>
<ul>
  <li><tt>part</tt> is the ISO 10303 part number.
  <li><tt>version</tt> is the version of the model,
    <dl>
      <dt>1 the first edition,
      <dt>2 for a second edition or Tech Corr against 1, etc.</dt>
    </dl>
  <li><tt>wg.number</tt> is the SC4 N-number or document number.
  <li><tt>status</tt> the ISO status
  <li><tt>publication.year</tt>
  <li><tt>published</tt> y if the module has been published as an ISO standard
  <li><tt>language</tt> the language of the standard. Defaults to E - English
  <li><tt>rcs.date</tt> Date attribute for source control software like RCS or
    CVS. E.g. <tt>$Date: 2002/05/10 23:03:14 $</tt>
  <li><tt>rcs.revision </tt>Revision attribute for source control software like
    RCS or CVS. E.g. <tt>$Revision: 1.1 $</tt></li>
</ul>
</span>

<h2>Graphical Express</h2>

<p>To eliminate the Eurostep logo and incorrect title</p>

<ul>
  <li>cover with a rectangle in VISIO.</li>
</ul>
<p>OR alternatively</p>
<ul>
  <li>&nbsp;after exporting as XML, crop the gif images with&nbsp; Microsoft
    Photo Editor (or similar). </li>
</ul>
<h2>Exporting from GE</h2>

<p>Export XML and also express.</p>

<blockquote>
  <p>NOTE Some files generated from older versions of GE&nbsp; have errors.&nbsp; model.xml has no
  DOCTYPE tag. (Schema_name).xml has incorrect DOCTYPE tag, and it is in the
  wrong location (see below).</p>

  <p>This means that xml aware software cant find the dtd.</p>

  <p>&lt;?xml version=&quot;1.0&quot; encoding="UTF-8"?&gt;<br>
&lt;!DOCTYPE express SYSTEM &quot;../../../dtd/express.dtd&quot;&gt;&nbsp; ...
  Second tag in file. Note leading explanation point<br>
&lt;!-- $Id: additional_module_guidelines.htm,v 1.1 2002/05/10 23:03:14 thendrix Exp $ --><br>
&lt;?xml-stylesheet type=&quot;text/xsl&quot; href=&quot;../../../xsl/express.xsl&quot;?&gt;</p>

</blockquote>

<p>Add&nbsp; to Express element the attribute description.file = &quot;arm_descriptions.xml&quot;&nbsp;&nbsp;
or &quot;mim_descriptions.xml&quot;&nbsp;</p>

<h2>ge2module</h2>

<p>Before running&nbsp; deleted all irrelevant files that are created by
exporting from GE as xml.</p>

<p>To get ge2module.js to run without error,&nbsp; I commented out line 351 and
before running </p>

<p>Rename the image files. I suggest we standardize names of Express-G&nbsp;
diagram files to&nbsp; armexpg1, etc.. since not everyone uses GE.&nbsp;&nbsp;
You can rename&nbsp; the gif and htm files before running&nbsp; g2module , but
in that case you must update the&nbsp; &lt;img SRC = &quot;&quot;&gt; tag. </p>

<p>Follow Pascal's email to edit titles xml files. I tried adding a title
to&nbsp; the html file in &lt;img title=&quot;&quot;&nbsp; ...&gt; but&nbsp; it
was ignored by g2module</p>

<h3>&nbsp;Templates for Express-G titles.</h3>

<blockquote>
  <p>The title attribute of the element imgfile of the file armexpg1.xml should be:</p>
  <blockquote>
  <p>Figure C.1 - ARM schema level diagram (1 of  1)</p>
  </blockquote>
  <p>The title attribute of the element imgfile of the file armexpg&lt;n>.xml should be:</p>
  <blockquote>
  <p>Figure C.n - ARM entity level diagram (p of  q)&nbsp;</p>
  </blockquote>
  <p>where p=n -1 and q= number of entity diagrams</p>
  <p>The title attribute of the element imgfile of the file mimexpg1.xml should be:</p>
  <blockquote>
  <p>Figure D.1 - MIM schema level diagram (1 of  1)&nbsp;</p>
  </blockquote>
  <p>The title attribute of the element imgfile of the file mimexpg&lt;n>.xml should be:</p>
  <blockquote>
  <p>
  Figure D.n - MIM entity level diagram (p of  q)&nbsp;</p>
  </blockquote>
  <p>where p=n -1 and q= number of entity diagrams</p>
  <p><font size="2">NOTE&nbsp; I removed the word Express-G in the titles because
  annex C and annex D introductions specify that the diagrams are
  Express-G and because SC4N1217 does not require this word for ARM diagrams of
  APs.</font></p>
</blockquote>
<p>When copying files to your module,&nbsp; be careful about overwriting
module.xml with the one generate by g2modules.</p>

<h2>USE FROM</h2>

<p>You need to include in USE from statements:</p>
<ol>
  <li>Any entity that appears in the AIM element column as the mapping of an application object</li>
  <li>Any entity that appears in the AIM element column as the mapping of an attribute of an application object, when this entity is not referred, directly or indirectly, to by an attribute of the entities of the preceding
    category</li>
  <li>any entity or any Select type that appears in the Reference path when this Express construct is not referred, directly or indirectly,  to by an attribute of the entities in the AIM element column<br>
    <br>
  </li>
</ol>

</body>

</html>
